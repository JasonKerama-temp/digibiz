<script id="customer-group-contact-list-data-template" type="text/x-handlebars-template">
    {{#if customer_group_contact_list_data}}
    <div class="customer-group-contact-list-contentbox custom-accordions">        
        {{#each customer_group_contact_list_data}}
        <div class="customer-group-contacts-identifier-wrapper user-conatiner accordion-item">
            <div class="accordion-title" data-tab="{{this.id}}">                
                <div class="customer-contacts-identifier-data-wrapper ellipsify">
                    <div class="customer-contacts-identifier-name wrapper-primary-heading"><span class="truncate">{{this.identifier}}</span></div>             
                </div>     
                <span class="material-icons">expand_more</span>
            </div>

            <div class="accordion-content" id="{{this.id}}">
                {{#if this.contactItems}}
                <div class="customer-group-contact-items-list-contentbox custom-accordions">        
                {{#each this.contactItems}}                
                <div class="customer-groups-contacts-item-wrapper user-conatiner accordion-item">
                    <div class="accordion-title cursor-pointer" data-tab="{{this.id}}">                
                        <div class="contact-items-data-wrapper ellipsify">
                            <div class="contact-item-name wrapper-primary-heading"><span class="truncate">{{this.name}}</span></div>             
                        </div>     
                        <span class="material-icons">expand_more</span>
                    </div>
        
                    <div class="accordion-content" id="{{this.id}}">
                        {{#if this.customerData}}
                        {{#each this.customerData}}
                        <div class="customer-groups-contact-wrapper customer-group-contact-select-btn-checkbox-click-wrapper" data-id="{{this.id}}">
                            <div class="profile-pic-info-wrapper">  
                                <div class="profile-pic-container p-{{#if this.display_name}}{{#firstletter this.display_name}}{{/firstletter}}{{else}}{{#firstletter this.name.first}}{{/firstletter}}{{/if}}">
                                    {{#if this.identity_picture}}
                                    {{#ifcond this.type '==' 'customer'}}
                                    <img src="{{#digibiz_api_url}}{{/digibiz_api_url}}/api/customers/getCustomerIdentityPicture?id={{this.id}}&device_id={{@root.device_id}}&image_id={{this.identity_picture.thumbnail}}"
                                    class="avatar-image"  alt="avatar"> 
                                    {{/ifcond}}
                                    {{#ifcond this.type '==' 'associate_customer'}}
                                    <img src="{{#digibiz_api_url}}{{/digibiz_api_url}}/api/associate_customers/getAssociateCustomerIdentityPicture?id={{this.id}}&device_id={{@root.device_id}}&image_id={{this.identity_picture.thumbnail}}"
                                    class="avatar-image"  alt="avatar"> 
                                    {{/ifcond}}
                                    {{else}}
                                    <span class="persona">{{#if this.display_name}}{{#firstletter this.display_name}}{{/firstletter}}{{else}}{{#firstletter this.name.first}}{{/firstletter}}{{/if}}</span>
                                    {{/if}}
                                    <div class="checkbox-conatiner">                        
                                        <label for="customer_{{this.id}}">
                                            <input type="checkbox" class="filled-in cursor-pointer customer-group-contact-select-btn" id="customer_{{this.id}}" data-id="{{this.id}}" data-type="{{this.type}}" data-parent-customer-id="{{this.customer_id}}" data-role-type="{{this.role.type}}" data-role-id="{{this.role.id}}" data-role-business-id="{{this.role.business_id}}" data-label="{{this.label}}"/>
                                            <i class="material-icons">done</i>
                                        </label>
                                    </div>
                                </div>                  
                                <div class="customer-contact-data-wrapper ellipsify">
                                    <div class="customer-contact-details-wrapper">
                                    <div class="customer-contact-name wrapper-primary-heading"><span class="truncate">{{#if this.display_name}}{{this.display_name}}{{else}}{{this.name.first}} {{this.name.last}}{{/if}}</span></div>
                                    {{#ifcond this.role.type '==' 'employee'}}
                                    <div class="customer-contact-role-business-name wrapper-secondary-heading"><span class="truncate">{{this.role.business_name}}</span></div>
                                    {{/ifcond}}
                                    {{#if this.label}}
                                        <div class="customer-label wrapper-secondary-heading"><span class="truncate">Label: {{this.label}}</span></div>
                                    {{/if}}
                                    {{#if this.primaryCustomerData}}
                                        <div class="associate-customer-info wrapper-tertiary-heading"><span class="truncate">{{this.IdentifierName}} - {{#if this.primaryCustomerData.display_name}}{{this.primaryCustomerData.display_name}}{{else}}{{this.primaryCustomerData.name.first}}&nbsp;{{this.primaryCustomerData.name.last}}{{/if}}</span></div>
                                    {{/if}}
                                    </div>
                                    <!-- <div class="check-contact">
                                        <input type="checkbox" class="filled-in cursor-pointer customer-group-contact-select-btn" id="customer_{{this.id}}" data-id="{{this.id}}" data-type="{{this.type}}" data-parent-customer-id="{{this.customer_id}}"/>
                                        <label for="customer_{{this.id}}"></label>
                                    </div> -->
                                </div>
                            </div>                            
                        </div>
                        {{/each}}
                        {{/if}}
                    </div>
        
                </div>
                {{/each}}
                </div>
                {{/if}}               
            </div>

        </div>
        {{/each}}
    </div>
    {{else}}
    <div class="no_data">No data found</div>
    {{/if}}
</script>