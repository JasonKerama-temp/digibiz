cordova.define("cordova-plugin-media.Media",(function(t,o,i){var e=t("cordova/argscheck"),a=t("cordova/utils"),r=t("cordova/exec"),n={},s=function(t,o,i,s,d){e.checkArgs("sFFF","Media",arguments),this.id=a.createUUID(),n[this.id]=this,this.src=t,this.successCallback=o,this.errorCallback=i,this.statusCallback=s,this.durationUpdateCallback=d,this._duration=-1,this._position=-1,r(null,this.errorCallback,"Media","create",[this.id,this.src])};function d(t){if("status"!==t.action)throw new Error("Unknown media action"+t.action);s.onStatus(t.status.id,t.status.msgType,t.status.value)}if(s.MEDIA_STATE=1,s.MEDIA_DURATION=2,s.MEDIA_POSITION=3,s.MEDIA_ERROR=9,s.MEDIA_NONE=0,s.MEDIA_STARTING=1,s.MEDIA_RUNNING=2,s.MEDIA_PAUSED=3,s.MEDIA_STOPPED=4,s.MEDIA_MSG=["None","Starting","Running","Paused","Stopped"],s.get=function(t){return n[t]},s.prototype.play=function(t){r(null,null,"Media","startPlayingAudio",[this.id,this.src,t])},s.prototype.stop=function(){var t=this;r((function(){t._position=0}),this.errorCallback,"Media","stopPlayingAudio",[this.id])},s.prototype.seekTo=function(t){var o=this;r((function(t){o._position=t}),this.errorCallback,"Media","seekToAudio",[this.id,t])},s.prototype.pause=function(){r(null,this.errorCallback,"Media","pausePlayingAudio",[this.id])},s.prototype.getDuration=function(){return this._duration},s.prototype.getCurrentPosition=function(t,o){var i=this;r((function(o){i._position=o,t(o)}),o,"Media","getCurrentPositionAudio",[this.id])},s.prototype.startRecord=function(){r(null,this.errorCallback,"Media","startRecordingAudio",[this.id,this.src])},s.prototype.stopRecord=function(){r(null,this.errorCallback,"Media","stopRecordingAudio",[this.id])},s.prototype.pauseRecord=function(){r(null,this.errorCallback,"Media","pauseRecordingAudio",[this.id])},s.prototype.resumeRecord=function(){r(null,this.errorCallback,"Media","resumeRecordingAudio",[this.id])},s.prototype.release=function(){var t=this;r((function(){delete n[t.id]}),this.errorCallback,"Media","release",[this.id])},s.prototype.setVolume=function(t){r(null,null,"Media","setVolume",[this.id,t])},s.prototype.setRate=function(t){"ios"===cordova.platformId||"android"===cordova.platformId?r(null,null,"Media","setRate",[this.id,t]):console.warn("media.setRate method is currently not supported for",cordova.platformId,"platform.")},s.prototype.getCurrentAmplitude=function(t,o){r((function(o){t(o)}),o,"Media","getCurrentAmplitudeAudio",[this.id])},s.onStatus=function(t,o,i){var e=n[t];if(e)switch(o){case s.MEDIA_STATE:e.statusCallback&&e.statusCallback(i),i===s.MEDIA_STOPPED&&e.successCallback&&e.successCallback();break;case s.MEDIA_DURATION:e._duration=i,e.durationUpdateCallback&&e.durationUpdateCallback(i);break;case s.MEDIA_ERROR:e.errorCallback&&e.errorCallback(i);break;case s.MEDIA_POSITION:e._position=Number(i);break;default:console.error&&console.error("Unhandled Media.onStatus :: "+o)}else console.error&&console.error("Received Media.onStatus callback for unknown media :: "+t)},i.exports=s,"android"===cordova.platformId){var l=t("cordova/channel");l.createSticky("onMediaPluginReady"),l.waitForInitialization("onMediaPluginReady"),l.onCordovaReady.subscribe((function(){r(d,void 0,"Media","messageChannel",[]),l.initializationComplete("onMediaPluginReady")}))}}));