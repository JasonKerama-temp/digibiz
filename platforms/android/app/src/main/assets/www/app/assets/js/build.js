"browser"==crossplat.device.platform&&window.Cookies.get("misc")&&(crossplat.device.uuid=window.Cookies.get("misc")),"Android"!=crossplat.device.platform&&"iOS"!=crossplat.device.platform||(localStorage.getItem("__DEVSTATUS")?(console.log("Devstatus present-",localStorage.getItem("device_id")),crossplat.device.uuid=localStorage.getItem("device_id")):(console.log("Devstatus not theress"),cordova.plugins.browsertab.openUrl("https://accounts.digitaljeevi.com/device/config?proposed_id="+crossplat.device.uuid+"&redirect=djbusiness",{scheme:"djbusiness://"},(function(e){}),(function(e){}))));var config={app_name:"digibiz",build_name:"business",Cookies:{expires:36500,path:"/",domain:"digitaljeevi.com",secure:!0},apps:{accounts:`${cordova.file.dataDirectory}accounts/index.html`,core:`${cordova.file.dataDirectory}www/index.html`,assets:`${cordova.file.dataDirectory}assets/index.html`,truchat:`${cordova.file.dataDirectory}truchat/index.html`,cards:`${cordova.file.dataDirectory}cards/index.html`,voiceit:`${cordova.file.dataDirectory}voiceit/index.html`,bizvoiceit:`${cordova.file.dataDirectory}bizvoiceit/index.html`,foldershare:`${cordova.file.dataDirectory}foldershare/index.html`,cowork:`${cordova.file.dataDirectory}cowork/index.html`,issue:`${cordova.file.dataDirectory}issue/index.html`,fileshare:`${cordova.file.dataDirectory}fileshare/index.html`,pdfviewer:`${cordova.file.dataDirectory}pdfviewer/index.html`,requestdoc:`${cordova.file.dataDirectory}requestdoc/index.html`,requestsign:`${cordova.file.dataDirectory}requestsign/index.html`,bizchat:`${cordova.file.dataDirectory}bizchat/index.html`,bizpal:`${cordova.file.dataDirectory}bizpal/index.html`,bizcards:`${cordova.file.dataDirectory}bizcards/index.html`,bizcelfe:`${cordova.file.dataDirectory}bizcelfe/index.html`,bizpdfkit:`${cordova.file.dataDirectory}bizpdfkit/index.html`,bizassets:`${cordova.file.dataDirectory}bizassets/index.html`,wittily:`${cordova.file.dataDirectory}wittily/index.html`,product360:`${cordova.file.dataDirectory}product360/index.html`,channel:`${cordova.file.dataDirectory}channel/index.html`,bizcontacts:`${cordova.file.dataDirectory}bizcontacts/index.html`,bizgroups:`${cordova.file.dataDirectory}bizgroups/index.html`,multi:`${cordova.file.dataDirectory}multi/index.html`,trusted:`${cordova.file.dataDirectory}trusted/index.html`},app_logos:{assets:"./app/assets/images/applogo/assets.svg",cards:"./app/assets/images/applogo/cards.svg",truchat:"./app/assets/images/applogo/truchat.svg",voiceit:"./app/assets/images/applogo/voiceit.svg",celfe:"./app/assets/images/applogo/celfe.svg",vmeet:"./app/assets/images/applogo/vmeet.svg",vcall:"./app/assets/images/applogo/vcall.svg",digipal:"./app/assets/images/applogo/digipal.svg",wittily:"./app/assets/images/applogo/witty.svg",pdfkit:"./app/assets/images/applogo/pdfkit.svg",digibiz:"./app/assets/images/applogo/digibiz.svg",bizchat:"./app/assets/images/applogo/bizchat.svg",bizasset:"./app/assets/images/applogo/bizassets.svg",bizcards:"./app/assets/images/applogo/bizcards.svg",bizcelfe:"./app/assets/images/applogo/bizcelfe.svg",bizpal:"./app/assets/images/applogo/bizpal.svg",bizpdfkit:"./app/assets/images/applogo/bizpdfkit.svg",bizvoiceit:"./app/assets/images/applogo/bizvoiceit.svg",bizcontacts:"./app/assets/images/applogo/bizcontacts.svg",bizgroups:"./app/assets/images/applogo/bizgroups.svg"},web:{digibiz:"https://digibiz.staging.digitaljeevi.com",accounts:"https://accounts.digitaljeevi.com",core:"https://apps.digitaljeevi.com",assets:"http://assets.staging.digitaljeevi.com",truchat:"https://truchat.staging.digitaljeevi.com",cards:"https://cards.staging.digitaljeevi.com",pdfviewer:"https://pdfviewer.staging.digitaljeevi.com",voiceit:"https://voiceit.staging.digitaljeevi.com",bizchat:"https://bizchat.staging.digitaljeevi.com",bizvoiceit:"https://bizvoiceit.staging.digitaljeevi.com",bizassets:"https://bizassets.staging.digitaljeevi.com",bizpal:"https://bizpal.staging.digitaljeevi.com/",bizcards:"https://bizcards.staging.digitaljeevi.com",bizpdfkit:"https://bizpdfkit.staging.digitaljeevi.com/",bizcelfe:"https://bizcelfe.staging.digitaljeevi.com",wittily:"https://wittily.staging.digitaljeevi.com/",product360:"https://product360.staging.digitaljeevi.com/",channel:"https://channel.staging.digitaljeevi.com/",bizcontacts:"https://bizcontacts.staging.digitaljeevi.com",bizgroups:"https://bizgroups.staging.digitaljeevi.com",trusted:"https://trusted.staging.digitaljeevi.com",multi:"https://multi.staging.digitaljeevi.com/"},api:{core:"https://core-api.staging.digitaljeevi.com",socket:"https://sockets.staging.digitaljeevi.com",core_search:"https://search.staging.digitaljeevi.com",search:"https://digibiz-search.staging.digitaljeevi.com",cards:"https://cards-api.staging.digitaljeevi.com",voiceit:"https://voiceit-api.staging.digitaljeevi.com",alerts:"https://alerts.staging.digitaljeevi.com",digibiz:"https://digibiz-api.staging.digitaljeevi.com",trusted:"https://trusted-api.staging.digitaljeevi.com",storage:"https://storage.staging.digitaljeevi.com",storage_local:"http://127.0.0.1:8000",digibiz_storage:"https://digibiz-storage.staging.digitaljeevi.com",bizassets:"https://bizassets-api.staging.digitaljeevi.com"},storages:[{name:"DJ",display_name:"DJ"},{name:"GoogleDrive",display_name:"Google Drive"},{name:"DropBox",display_name:"Dropbox"},{name:"OneDrive",display_name:"Onedrive"}],timeout:{Android:10,iOS:4320,browser:5,desktop:5},maxLengthAllowMultiMediaFiles:5,multimediaVideoFormat:["mp4","webm"],multiMediaFileFormat:["jpg","jpeg","bmp","png","svg","mp4","webm","mp3","ogg","mpeg","pdf","txt","docx","docm","dot","dotx","dotm","html","rtf","gif","xls","xlsx","mpg","doc","jfif"],attachmentFileFormat:["jpg","jpeg","bmp","png","svg","jfif","pdf","txt","docx","docm","dot","dotx","dotm","doc","xls","xlsx","rtf"],identityPictureFileFormat:["jpg","jpeg","bmp","png","svg"],maxSizeAllowMultiMediaFiles:20971520,maxSizeAllowIdentityPicture:20971520,questionMinLength:10,questionMaxLength:500,answerMinLength:10,answerMaxLength:5e3,keywordsMinLength:5,keywordsMaxLength:500,allApps:["Core","Cards","truchat","Digipal","Assets","Celfe","Voiceit"],allCategory:["Survey","Vsign","Vbuzz"],allSubCategory:["Survey","Question-Answer","Test","Petition","Vote","Velect","Opinion","Discussion","Debate","Buzz","Vblog"],businessIdProofNumber:3,maxDepartments:3,maxSubDepartments:3,employeeMinNameLength:3,employeeMaxNameLength:32,businessTagMinLength:3,businessTagMaxLength:30,businessStatusLineMinLength:0,businessStatusLineMaxLength:100,businessTypeMinLength:3,businessTypeMaxLength:50,businessAddressMax:5,businessAddressLengthMin:20,businessAddressLengthMax:500,businessNameMinLength:5,busniessNameMaxLength:100,businessDisplayNameMinLength:5,busniessDisplayNameMaxLength:16,businessContactNameMinLength:5,businessContactNameMaxLength:50,feedbackTitleMinLength:3,feedbackTitleMaxLength:30,feedbackDescriptionMinLength:10,feedbackDescriptionMaxLength:1e3,EmployeeDataMinLength:3,EmployeeDataMaxLength:50,EmployeeGroupNameMinLength:3,EmployeeGroupNameMaxLength:50,EmployeeGroupDescriptionMinLength:10,EmployeeGroupDescriptionMaxLength:200,AssociateCustomerMax:3,CustomerIdentifierNameMinLength:2,CustomerIdentifierNameMaxLength:30,transactionPictureMaxLength:5,signaturePictureMaxLength:5,multimediaCaptionMinLength:5,multimediaCaptionMaxLength:100,downloadFolderNames:[{name:"image",folder_name:"Images"},{name:"audio",folder_name:"Audios"},{name:"video",folder_name:"Videos"},{name:"application",folder_name:"Documents"},{name:"application",folder_name:"Documents"}]};const api={set_session:config.api.core+"/api/jeevi/setSession",get_roles:config.api.core+"/api/jeevi/getRoles",get_profile:config.api.core+"/api/individual/getProfile",get_session:config.api.core+"/api/jeevi/getSession",get_jeevi_roles:config.api.core+"/api/jeevi/getRoles",checkJeeviDetails:config.api.core+"/api/jeevi/checkJeeviDetails",kill_session:config.api.core+"/api/jeevi/killSession",get_socket_id:config.api.core+"/api/jeevi/socket/get_id",verify_transaction_password:config.api.core+"/api/jeevi/verify_transaction_password",get_contacts:config.api.core+"/api/contact/list",get_groups:config.api.core+"/api/group/list",set_profile:config.api.core+"/api/individual/setprofile",get_details:config.api.core+"/api/jeevi/get_details",update_contact_status:config.api.core+"/api/contact/changeStatus",get_jeevi_contact:config.api.core+"/api/jeevi/get_details",logout:config.api.core+"/api/jeevi/logout",list_digibiz_login_logs:config.api.core+"/api/activity/get",core_asset_details:config.api.core+"/api/asset/details",core_get_assets:config.api.core+"/api/assets/get",store_file:config.api.storage+"/api/storage/write",storage_copy:config.api.storage+"/api/chunks/copy",chunk_upload:config.api.storage+"/api/chunks/write",core_chunk_download:config.api.storage+"/api/chunks/download",core_chunk_view_by_file:config.api.storage+"/api/chunks/view_by_url",get_multi_media_info:config.api.core+"/api/asset/details",view_multimedia_asset:config.api.storage+"/api/chunks/view_by_url",check_drive_status:config.api.digibiz_storage+"/api/storage/check_token",copy_multimedia:config.api.storage+"/api/chunks/copy",file_read:config.api.storage+"/api/storage/read",file_write:config.api.digibiz_storage+"/api/storage/write_file",revoke_storage:config.api.digibiz_storage+"/api/storage/revoke",set_active_storage:config.api.digibiz_storage+"/api/storage/set_active_storage",GoogleDrive_auth:config.api.digibiz_storage+"/api/storage/google/oauth2callback",DropBox_auth:config.api.digibiz_storage+"/api/storage/dropbox/oauth2callback",OneDrive_auth:config.api.digibiz_storage+"/api/storage/onedrive/oauth2callback",encrypt_string:config.api.digibiz_storage+"/api/encrypt/string",decrypt_string:config.api.digibiz_storage+"/api/decrypt/string",check_token:config.api.digibiz_storage+"/api/storage/check_token",add_department_data:config.api.digibiz+"/api/department/add",get_department_data:config.api.digibiz+"/api/department/get",list_department_data:config.api.digibiz+"/api/department/list",update_department_data:config.api.digibiz+"/api/department/update",delete_department_data:config.api.digibiz+"/api/department/delete",add_employee_type:config.api.digibiz+"/api/employee_type/add",get_employee_type:config.api.digibiz+"/api/employee_type/get",list_employee_type:config.api.digibiz+"/api/employee_type/list",update_employee_type:config.api.digibiz+"/api/employee_type/update",delete_employee_type:config.api.digibiz+"/api/employee_type/delete",add_employee_category:config.api.digibiz+"/api/employee_category/add",get_employee_category:config.api.digibiz+"/api/employee_category/get",list_employee_category:config.api.digibiz+"/api/employee_category/list",update_employee_category:config.api.digibiz+"/api/employee_category/update",delete_employee_category:config.api.digibiz+"/api/employee_category/delete",add_employee_designation:config.api.digibiz+"/api/employee_designation/add",get_employee_designation:config.api.digibiz+"/api/employee_designation/get",list_employee_designation:config.api.digibiz+"/api/employee_designation/list",update_employee_designation:config.api.digibiz+"/api/employee_designation/update",delete_employee_designation:config.api.digibiz+"/api/employee_designation/delete",add_employee:config.api.digibiz+"/api/employee/add",add_digibiz_employee:config.api.digibiz+"/api/employee/add_employee",get_employee:config.api.digibiz+"/api/employee/get",list_employee:config.api.digibiz+"/api/employee/list",count_employee:config.api.digibiz+"/api/employee/count",filter_employee:config.api.digibiz+"/api/employee/filter",update_employee:config.api.digibiz+"/api/employee/update",update_employee_profile:config.api.digibiz+"/api/employee/profile/update",delete_employee:config.api.digibiz+"/api/employee/delete",device_change_employee:config.api.digibiz+"/api/employee/employee/device/change",delete_employee_asset:config.api.digibiz+"/api/employee/delete/asset",employee_delete_department:config.api.digibiz+"/api/employee/department_delete",set_employee_identity_picture:config.api.digibiz+"/api/employee/setEmployeeIdentityPicture",store_employee_identity_picture:config.api.digibiz+"/api/employee/storeEmployeeIdentityPicture",store_employee_identity_video_thumbnail:config.api.digibiz+"/api/employee/storeEmployeeIdentityVideoThumbnail",store_employee_identity_video:config.api.digibiz+"/api/employee/storeEmployeeIdentityVideo",get_employee_identity_picture:config.api.digibiz+"/api/employee/getEmployeeIdentityPicture",get_employee_thumbnail:config.api.digibiz+"/api/employee/getEmployeeIdentityPicture",remove_employee_identity_picture:config.api.digibiz+"/api/employee/removeEmployeeIdentityPicture",remove_employee_identity_video:config.api.digibiz+"/api/employee/removeEmployeeIdentityVideo",update_setting_info:config.api.digibiz+"/api/employee/update_setting",get_employee_control_setting:config.api.digibiz+"/api/employee/get-employee-control-setting",add_group:config.api.digibiz+"/api/groups/add",get_group:config.api.digibiz+"/api/groups/get",list_group:config.api.digibiz+"/api/groups/list",moderator_list_group:config.api.digibiz+"/api/groups/moderator_list",list_group_communication:config.api.digibiz+"/api/groups/communication_groups_list",list_groups_collaborator:config.api.digibiz+"/api/groups/collaborator_groups_list",update_employee_group:config.api.digibiz+"/api/groups/update",delete_group:config.api.digibiz+"/api/groups/delete",update_department_employee_group:config.api.digibiz+"/api/groups/department_update",delete_department_employee_group:config.api.digibiz+"/api/groups/department_delete",add_moderator_group:config.api.digibiz+"/api/groups/moderator_add",delete_moderator_group:config.api.digibiz+"/api/groups/moderator_delete",update_member_group_customer_group:config.api.digibiz+"/api/groups/memberGroupUpdate",delete_member_group_customer_group:config.api.digibiz+"/api/groups/memberGroupDelete",get_employee_group_thumbnail:config.api.digibiz+"/api/groups/getStorageFiles",store_group_image:config.api.digibiz+"/api/groups/storeGroupDisplayPicture",get_group_image:config.api.digibiz+"/api/groups/getGroupImage",remove_group_image:config.api.digibiz+"/api/groups/removeGroupImage",device_change_group:config.api.digibiz+"/api/groups/device/change",inactive_group:config.api.digibiz+"/api/groups/inactive",filter_list_group:config.api.digibiz+"/api/groups/filter_list",filter_list_group_communication:config.api.digibiz+"/api/groups/communication_groups_filter_list",filter_list_groups_collaborator:config.api.digibiz+"/api/groups/collaborator_groups_filter_list",group_count:config.api.digibiz+"/api/groups/count",communication_group_count:config.api.digibiz+"/api/groups/communication_groups_count",collaborator_group_count:config.api.digibiz+"/api/groups/collaborator_groups_count",add_group_member:config.api.digibiz+"/api/group_members/add",get_employee_group_member:config.api.digibiz+"/api/group_members/get",list_group_member:config.api.digibiz+"/api/group_members/list",get_group_members:config.api.digibiz+"/api/group_members/groupMembersList",get_complete_group_members:config.api.digibiz+"/api/group_members/completeGroupMembersList",get_complete_members_list:config.api.digibiz+"/api/group_members/completeMembersList",get_collaborator_business_employees:config.api.digibiz+"/api/group_members/getCollaboratorBusinessEmployees",get_collaborator_business_list:config.api.digibiz+"/api/group_members/getCollaboratorBusinessList",delete_group_member:config.api.digibiz+"/api/group_members/delete",check_delete_group_member:config.api.digibiz+"/api/group_members/checkCanDeleteMember",get_complete_list:config.api.digibiz+"/api/group_members/getCompleteList",group_members_count:config.api.digibiz+"/api/group_members/count",add_business_tag:config.api.digibiz+"/api/business_tags/add",get_business_tag:config.api.digibiz+"/api/business_tags/get",list_business_tags:config.api.digibiz+"/api/business_tags/list",update_business_tag:config.api.digibiz+"/api/business_tags/update",delete_business_tag:config.api.digibiz+"/api/business_tags/delete",add_business_type:config.api.digibiz+"/api/business_types/add",get_business_type:config.api.digibiz+"/api/business_types/get",list_business_type:config.api.digibiz+"/api/business_types/list",update_business_type:config.api.digibiz+"/api/business_types/update",delete_business_type:config.api.digibiz+"/api/business_types/delete",add_business:config.api.digibiz+"/api/business/add",get_business:config.api.digibiz+"/api/business/get",list_business:config.api.digibiz+"/api/business/list",update_business:config.api.digibiz+"/api/business/update",delete_business:config.api.digibiz+"/api/business/delete",add_super_admin:config.api.digibiz+"/api/business/add_super_admin",add_super_admin_by_qr:config.api.digibiz+"/api/business/add_super_admin_by_qr",revoke_super_admin:config.api.digibiz+"/api/business/remove_super_admin",view_business_check_role:config.api.digibiz+"/api/business/view_business_check_role",delete_business_asset:config.api.digibiz+"/api/business/delete/asset",get_business_thumbnail:config.api.digibiz+"/api/business/getStorageFiles",storage_video_declaration:config.api.digibiz+"/api/business/storageWrite",device_change_business:config.api.digibiz+"/api/business/business/device/change",set_business_multimedia:config.api.digibiz+"/api/business/setBusinessMultimedia",get_business_multimedia:config.api.digibiz+"/api/business/getBusinessMultimedia",get_business_multimedia_download:config.api.digibiz+"/api/business/getBusinessMultimediaToDownload",set_business_display_picture:config.api.digibiz+"/api/business/setBusinessDisplayPicture",set_business_display_video_thumbnail:config.api.digibiz+"/api/business/setBusinessDisplayVideoThumbnail",set_business_display_video:config.api.digibiz+"/api/business/setBusinessDisplayVideo",remove_business_display_picture:config.api.digibiz+"/api/business/removeBusinessDisplayPicture",remove_business_display_video:config.api.digibiz+"/api/business/removeBusinessDisplayVideo",individual_cloud_file_read:config.api.digibiz+"/api/business/cloudFileRead",business_settings:config.api.digibiz+"/api/business/business_settings",add_navigate_logs:config.api.digibiz+"/api/navigate_logs/add",get_navigate_logs:config.api.digibiz+"/api/navigate_logs/get",list_navigate_logs:config.api.digibiz+"/api/navigate_logs/list",update_navigate_logs:config.api.digibiz+"/api/navigate_logs/update",delete_navigate_logs:config.api.digibiz+"/api/navigate_logs/delete",add_notification:config.api.digibiz+"/api/notifications/add",get_notification:config.api.digibiz+"/api/notifications/get",list_notification:config.api.digibiz+"/api/notifications/list",count_notification:config.api.digibiz+"/api/notifications/count",change_status_notification:config.api.digibiz+"/api/notifications/changeStatus",delete_notification:config.api.digibiz+"/api/notifications/delete",add_business_notification:config.api.digibiz+"/api/business_notifications/add",get_business_notification:config.api.digibiz+"/api/business_notifications/get",list_business_notification:config.api.digibiz+"/api/business_notifications/list",change_status_business_notification:config.api.digibiz+"/api/business_notifications/changeStatus",delete_business_notification:config.api.digibiz+"/api/business_notifications/delete",count_business_notification:config.api.digibiz+"/api/business_notifications/count",add_customer_identifiers:config.api.digibiz+"/api/customer_identifiers/add",get_customer_identifiers:config.api.digibiz+"/api/customer_identifiers/get",list_customer_identifiers:config.api.digibiz+"/api/customer_identifiers/list",update_customer_identifiers:config.api.digibiz+"/api/customer_identifiers/update",delete_customer_identifiers:config.api.digibiz+"/api/customer_identifiers/delete",count_customer_identifiers:config.api.digibiz+"/api/customer_identifiers/count",add_customer:config.api.digibiz+"/api/customers/add",add_digibiz_customer:config.api.digibiz+"/api/customers/add_customer",get_customer:config.api.digibiz+"/api/customers/get",list_customer:config.api.digibiz+"/api/customers/list",count_customer:config.api.digibiz+"/api/customers/count",update_customer:config.api.digibiz+"/api/customers/update",update_customer_profile:config.api.digibiz+"/api/customers/profile/update",delete_customer:config.api.digibiz+"/api/customers/delete",reassign_customer:config.api.digibiz+"/api/customers/reassign",device_change_customer:config.api.digibiz+"/api/customers/customer/device/change",delete_customer_asset:config.api.digibiz+"/api/customers/delete/asset",get_customer_thumbnail:config.api.digibiz+"/api/customers/getStorageFiles",set_customer_identity_picture:config.api.digibiz+"/api/customers/setCustomerIdentityPicture",get_customer_identity_picture:config.api.digibiz+"/api/customers/getCustomerIdentityPicture",remove_customer_identity_picture:config.api.digibiz+"/api/customers/removeCustomerIdentityPicture",remove_customer_identity_video:config.api.digibiz+"/api/customers/removeCustomerIdentityVideo",store_customer_identity_picture:config.api.digibiz+"/api/customers/storeCustomerIdentityPicture",store_customer_identity_video_thumbnail:config.api.digibiz+"/api/customers/storeCustomerIdentityVideoThumbnail",store_customer_identity_video:config.api.digibiz+"/api/customers/storeCustomerIdentityVideo",filter_customers:config.api.digibiz+"/api/customers/filter",add_collaborator_customer:config.api.digibiz+"/api/customers/collaborator-add-customer",delete_collaborator_customer:config.api.digibiz+"/api/customers/collaborator-delete-customer",update_collaborator_business_customer:config.api.digibiz+"/api/customers/collaborator-update-customers",delete_collaborator_identifier_customer:config.api.digibiz+"/api/customers/collaborator-delete-customer-identifier",get_collaborator_business_customer:config.api.digibiz+"/api/customers/get-collaborator-business-customer",collaborator_reassign_customer:config.api.digibiz+"/api/customers/collaborator-customers-reassign",add_associate_customers:config.api.digibiz+"/api/associate_customers/add",add_digibiz_associate_customers:config.api.digibiz+"/api/associate_customers/add_associate_customer",get_associate_customers:config.api.digibiz+"/api/associate_customers/get",list_associate_customers:config.api.digibiz+"/api/associate_customers/list",update_associate_customers:config.api.digibiz+"/api/associate_customers/update",update_associate_customer_profile:config.api.digibiz+"/api/associate_customers/profile/update",delete_associate_customers:config.api.digibiz+"/api/associate_customers/delete",get_associate_customer_thumbnail:config.api.digibiz+"/api/associate_customers/getStorageFiles",delete_associate_customer_asset:config.api.digibiz+"/api/associate_customers/delete/asset",set_associate_customer_identity_picture:config.api.digibiz+"/api/associate_customers/setAssociateCustomerIdentityPicture",get_associate_customer_identity_picture:config.api.digibiz+"/api/associate_customers/getAssociateCustomerIdentityPicture",remove_associate_customer_identity_picture:config.api.digibiz+"/api/associate_customers/removeAssociateCustomerIdentityPicture",remove_associate_customer_identity_video:config.api.digibiz+"/api/associate_customers/removeAssociateCustomerIdentityVideo",store_associate_customer_identity_picture:config.api.digibiz+"/api/associate_customers/storeAssociateCustomerIdentityPicture",store_associate_customer_identity_video_thumbnail:config.api.digibiz+"/api/associate_customers/storeAssociateCustomerIdentityVideoThumbnail",store_associate_customer_identity_video:config.api.digibiz+"/api/associate_customers/storeAssociateCustomerIdentityVideo",list_contacts_lists:config.api.digibiz+"/api/contact_lists/list",get_contacts_list:config.api.digibiz+"/api/contact_lists/getCustomersContactList",get_contact_group_contact_list:config.api.digibiz+"/api/contact_lists/getGroupContactList",get_identifier_item_customer:config.api.digibiz+"/api/contact_lists/get_identifier_item_customer",add_collaborator:config.api.digibiz+"/api/collaborators/add",get_collaborator:config.api.digibiz+"/api/collaborators/get",list_collaborator:config.api.digibiz+"/api/collaborators/list",count_collaborator:config.api.digibiz+"/api/collaborators/count",update_collaborator:config.api.digibiz+"/api/collaborators/update",delete_collaborator:config.api.digibiz+"/api/collaborators/delete",list_collaborator_business_customer:config.api.digibiz+"/api/collaborators/collaborator_business_list",list_collaborator_customer:config.api.digibiz+"/api/collaborators/customer_list",count_collaborator_business_customer:config.api.digibiz+"/api/collaborators/collaborator_business_count",add_role_management:config.api.digibiz+"/api/role_management/add",get_role_management:config.api.digibiz+"/api/role_management/get",list_role_management:config.api.digibiz+"/api/role_management/list",update_role_management:config.api.digibiz+"/api/role_management/update",delete_role_management:config.api.digibiz+"/api/role_management/delete",add_business_owner:config.api.digibiz+"/api/role_management/addBusinessOwner",get_business_owner:config.api.digibiz+"/api/role_management/getBusinessOwner",list_business_owner:config.api.digibiz+"/api/role_management/listBusinessOwners",update_business_owner:config.api.digibiz+"/api/role_management/updateBusinessOwner",delete_business_owner:config.api.digibiz+"/api/role_management/remove",list_digibiz_logs:config.api.digibiz+"/api/digibiz_logs/list",update_digibiz_logs:config.api.digibiz+"/api/digibiz_logs/update",delete_digibiz_logs:config.api.digibiz+"/api/digibiz_logs/delete",get_digibiz_logs_by_filters:config.api.digibiz+"/api/digibiz_logs/logs-filter-list",add_contact_access:config.api.digibiz+"/api/contact_access/addContactAccess",list_contact_access:config.api.digibiz+"/api/contact_access/list",list_identifier_items_employees:config.api.digibiz+"/api/contact_access/listIdentifierItemsEmployees",active_custom_group_employee:config.api.digibiz+"/api/contact_access/getActiveCustomGroupList",show_access_list_employee:config.api.digibiz+"/api/contact_access/show_access_list_employee",show_access_list_customer:config.api.digibiz+"/api/contact_access/show_access_list_customer",access_list:config.api.digibiz+"/api/contact_access/access_list",revoke_access:config.api.digibiz+"/api/contact_access/revoke",delete_records:config.api.digibiz+"/api/contact_access/deleteRecords",add_group_access:config.api.digibiz+"/api/group_access/addGroupAccess",group_access_list:config.api.digibiz+"/api/group_access/access_list",group_revoke_access:config.api.digibiz+"/api/group_access/revoke",group_delete_records:config.api.digibiz+"/api/group_access/deleteRecords",add_account:config.api.digibiz+"/api/accounts/add",get_account:config.api.digibiz+"/api/accounts/get",get_digibiz_account:config.api.digibiz+"/api/accounts/get_account",get_digibiz_record:config.api.digibiz+"/api/accounts/get_account_record",account_settings:config.api.digibiz+"/api/accounts/account_settings",account_update:config.api.digibiz+"/api/accounts/update",account_delete:config.api.digibiz+"/api/accounts/delete",check_can_account_delete:config.api.digibiz+"/api/accounts/checkCanDeleteDigibizAccount",update_digibiz_record:config.api.digibiz+"/api/accounts/updateRole",add_jeevi:config.api.digibiz+"/api/jeevi/add",get_jeevi:config.api.digibiz+"/api/jeevi/get",jeevi_account_settings:config.api.digibiz+"/api/jeevi/jeevi_account_settings",jeevi_account_delete:config.api.digibiz+"/api/jeevi/delete",add_display_control:config.api.digibiz+"/api/display_control/add",get_display_control:config.api.digibiz+"/api/display_control/get",delete_display_control:config.api.digibiz+"/api/display_control/delete",get_core_file:config.api.digibiz+"/api/common/getStorageFiles",get_base64:config.api.digibiz+"/api/common/getBase64core",add_employee_department:config.api.digibiz+"/api/employee_department_assignment/add",get_employee_department:config.api.digibiz+"/api/employee_department_assignment/get",list_employee_department:config.api.digibiz+"/api/employee_department_assignment/list",delete_employee_department:config.api.digibiz+"/api/employee_department_assignment/department_delete",digibiz_get_assets:config.api.bizassets+"/api/assets/get",digibiz_asset_details:config.api.bizassets+"/api/assets/get_details",chunk_download:config.api.digibiz_storage+"/api/chunks/download",chunk_view_by_file:config.api.digibiz_storage+"/api/chunks/view_by_url",add_theme:config.api.digibiz+"/api/theme/add",get_theme:config.api.digibiz+"/api/theme/get",delete_theme:config.api.digibiz+"/api/theme/delete",add_app_permissions:config.api.digibiz+"/api/app_permissions/add",get_app_permissions:config.api.digibiz+"/api/app_permissions/get",list_app_permissions:config.api.digibiz+"/api/app_permissions/list",change_status_app_permissions:config.api.digibiz+"/api/app_permissions/status_change",get_customer_roles_list:config.api.digibiz+"/api/customers/getRolesList",get_associate_customer_roles_list:config.api.digibiz+"/api/associate_customers/getRolesList",add_transaction_signature_picture:config.api.digibiz+"/api/transaction_signature_pictures/add",get_record_transaction_signature_picture:config.api.digibiz+"/api/transaction_signature_pictures/getRecord",get_transaction_signature_picture:config.api.digibiz+"/api/transaction_signature_pictures/get",get_base64_transaction_signature_picture:config.api.digibiz+"/api/transaction_signature_pictures/getBase64digibiz",list_transaction_signature_picture:config.api.digibiz+"/api/transaction_signature_pictures/list",update_transaction_signature_picture:config.api.digibiz+"/api/transaction_signature_pictures/update",delete_record_transaction_signature_picture:config.api.digibiz+"/api/transaction_signature_pictures/delete"},url={home:"home",save_cancel_icon:"app/assets/images/save-cancel.svg",reregister_confirmation:"register_confirmation"};var appManager={dataPath:`${cordova.file.dataDirectory}www`,appPath:`${cordova.file.applicationDirectory}www`,tempPath:`${cordova.file.dataDirectory}temp`,app_updater:"https://release.digitaljeevi.com",defaultHtml:"/index.html",env:"sandbox",init:()=>{appManager.showStartupScreen(config.app_name,((e,t)=>{localStorage.getItem("__FIRSTRUN")?($(e).html("Checking Updates."),navigator.onLine?appManager.checkUpdate("accounts").then((t=>{appManager.getAppVersion("accounts",(function(i,a){if(t.app_version==i)if(t[`${crossplat.device.platform}_build_number`]!=a){$(e).html("Downloading files...");let i=`accounts_${t.app_version.replace(".","_")}_${t[`${crossplat.device.platform}_build_number`]}.zip`;appManager.downloadUpdate(i,"accounts").then((()=>{$(e).html("Installing files..."),appManager.extractResources(`${appManager.tempPath}/${i}`,`${cordova.file.dataDirectory}accounts`,(function(t){$(e).html(`Extracting Resources...(${Math.round(t.loaded/t.total*100)}%)`)})).then((()=>{localStorage.setItem("__APPVERSION_accounts",JSON.stringify({version:t.app_version,build:t[`${crossplat.device.platform}_build_number`]})),appManager.checkUpdate(config.app_name).then((t=>{appManager.getAppVersion(config.app_name,(function(i,a){if(t.app_version==i)if(t[`${crossplat.device.platform}_build_number`]==a)appManager.getDirectoryEntry(appManager.dataPath).then((()=>{$(e).html("Loading Resources."),setTimeout((function(){sessionStorage.setItem("__APPSTATUS","NAVIGATE"),"iOS"==crossplat.device.platform?location.href=window.WkWebView.convertFilePath(`${appManager.dataPath}${appManager.defaultHtml}`):location.href=`${appManager.dataPath}${appManager.defaultHtml}`}),300)})).catch((t=>{$(e).html("Unable to load app properly."),setTimeout((function(){delete localStorage.__FIRSTRUN,sessionStorage.setItem("__APPSTATUS","NAVIGATE"),"iOS"==crossplat.device.platform?location.href=window.WkWebView.convertFilePath(`${appManager.dataPath}${appManager.defaultHtml}`):location.href=`${appManager.dataPath}${appManager.defaultHtml}`}),300)}));else{$(e).html("Downloading updates.");let i=`${config.app_name}_${t.app_version.replace(".","_")}_${t[`${crossplat.device.platform}_build_number`]}.zip`;appManager.downloadUpdate(i).then((()=>{$(e).html("Downloading Completed"),appManager.extractResources(`${appManager.tempPath}/${i}`,appManager.dataPath,(function(t){$(e).html(`Extracting Resources...(${Math.round(t.loaded/t.total*100)}%)`)})).then((()=>{localStorage.setItem("__APPVERSION_digibiz",JSON.stringify({version:t.app_version,build:t[`${crossplat.device.platform}_build_number`]})),sessionStorage.setItem("__APPSTATUS","NAVIGATE"),"iOS"==crossplat.device.platform?location.href=window.WkWebView.convertFilePath(`${appManager.dataPath}${appManager.defaultHtml}`):location.href=`${appManager.dataPath}${appManager.defaultHtml}`})).catch((t=>{$(e).html(t)}))})).catch((t=>{$(e).html("Error While downloading updates. Please restart the application.")}))}else alert("Current Version of App is Outdated. Please reinstall from App store"),"Android"==crossplat.device.platform&&window.open("itms-apps://itunes.apple.com/app/com.digitaljeevi.djbusiness"),"iOS"==crossplat.device.platform&&window.open("market://details?id=com.digitaljeevi.djbusiness")}))})).catch((e=>{alert("Unable to Connect to Server!!!")}))})).catch((t=>{$(e).html(t)}))})).catch((t=>{$(e).html("Error While downloading updates. Please restart the application.")}))}else appManager.checkUpdate(config.app_name).then((t=>{appManager.getAppVersion(config.app_name,(function(i,a){if(t.app_version==i)if(t[`${crossplat.device.platform}_build_number`]==a)appManager.getDirectoryEntry(appManager.dataPath).then((()=>{$(e).html("Loading Resources."),setTimeout((function(){sessionStorage.setItem("__APPSTATUS","NAVIGATE"),"iOS"==crossplat.device.platform?location.href=window.WkWebView.convertFilePath(`${appManager.dataPath}${appManager.defaultHtml}`):location.href=`${appManager.dataPath}${appManager.defaultHtml}`}),300)})).catch((t=>{$(e).html("Unable to load app properly."),setTimeout((function(){delete localStorage.__FIRSTRUN,sessionStorage.setItem("__APPSTATUS","NAVIGATE"),"iOS"==crossplat.device.platform?location.href=window.WkWebView.convertFilePath(`${appManager.dataPath}${appManager.defaultHtml}`):location.href=`${appManager.dataPath}${appManager.defaultHtml}`}),300)}));else{$(e).html("Downloading updates.");let i=`${config.app_name}_${t.app_version.replace(".","_")}_${t[`${crossplat.device.platform}_build_number`]}.zip`;appManager.downloadUpdate(i).then((()=>{$(e).html("Downloading Completed"),appManager.extractResources(`${appManager.tempPath}/${i}`,appManager.dataPath,(function(t){$(e).html(`Extracting Resources...(${Math.round(t.loaded/t.total*100)}%)`)})).then((()=>{localStorage.setItem("__APPVERSION_digibiz",JSON.stringify({version:t.app_version,build:t[`${crossplat.device.platform}_build_number`]})),sessionStorage.setItem("__APPSTATUS","NAVIGATE"),"iOS"==crossplat.device.platform?location.href=window.WkWebView.convertFilePath(`${appManager.dataPath}${appManager.defaultHtml}`):location.href=`${appManager.dataPath}${appManager.defaultHtml}`})).catch((t=>{$(e).html(t)}))})).catch((t=>{$(e).html("Error While downloading updates. Please restart the application.")}))}else alert("Current Version of App is Outdated. Please reinstall from App store"),"Android"==crossplat.device.platform&&window.open("itms-apps://itunes.apple.com/app/com.digitaljeevi.djbusiness"),"iOS"==crossplat.device.platform&&window.open("market://details?id=com.digitaljeevi.djbusiness")}))})).catch((e=>{alert("Unable to Connect to Server!!!")}));else alert("Current Version of App is Outdated. Please reinstall from App store"),"Android"==crossplat.device.platform&&window.open("itms-apps://itunes.apple.com/app/com.digitaljeevi.djbusiness"),"iOS"==crossplat.device.platform&&window.open("market://details?id=com.digitaljeevi.djbusiness")}))})).catch((e=>{alert("Unable to Connect to Server!!!")})):(window.plugins.toast.showLongBottom("You are Offline!!!"),appManager.getDirectoryEntry(appManager.dataPath).then((()=>{$(e).html("Loading Resources."),setTimeout((function(){sessionStorage.setItem("__APPSTATUS","NAVIGATE"),"iOS"==crossplat.device.platform?location.href=window.WkWebView.convertFilePath(`${appManager.dataPath}${appManager.defaultHtml}`):location.href=`${appManager.dataPath}${appManager.defaultHtml}`}),300)})).catch((t=>{$(e).html("Unable to load app properly."),setTimeout((function(){delete localStorage.__FIRSTRUN,sessionStorage.setItem("__APPSTATUS","NAVIGATE"),"iOS"==crossplat.device.platform?location.href=window.WkWebView.convertFilePath(`${appManager.dataPath}${appManager.defaultHtml}`):location.href=`${appManager.dataPath}${appManager.defaultHtml}`}),300)})))):appManager.checkUpdate("accounts").then((t=>{$(e).html("Downloading files...");let i=`accounts_${t.app_version.replace(".","_")}_${t[`${crossplat.device.platform}_build_number`]}.zip`;appManager.downloadUpdate(i,"accounts").then((()=>{$(e).html("Installing files..."),appManager.removeIfDirExists(cordova.file.dataDirectory+"accounts").then((()=>{appManager.extractResources(`${appManager.tempPath}/${i}`,`${cordova.file.dataDirectory}accounts`,(function(t){$(e).html(`Extracting Resources...(${Math.round(t.loaded/t.total*100)}%)`)})).then((()=>{localStorage.setItem("__APPVERSION_accounts",JSON.stringify({version:t.app_version,build:t[`${crossplat.device.platform}_build_number`]})),appManager.checkUpdate(config.app_name).then((t=>{appManager.removeIfDirExists(appManager.dataPath).then((()=>{$(e).html("Downloading Interface...");let i=`${config.app_name}_${t.app_version.replace(".","_")}_${t[`${crossplat.device.platform}_build_number`]}.zip`;appManager.downloadUpdate(i).then((()=>{$(e).html("Downloading Completed"),appManager.extractResources(`${appManager.tempPath}/${i}`,appManager.dataPath,(function(t){$(e).html(`Extracting Resources...(${Math.round(t.loaded/t.total*100)}%)`)})).then((()=>{localStorage.setItem("__FIRSTRUN","true"),sessionStorage.setItem("__APPSTATUS","NAVIGATE"),localStorage.setItem(`__APPVERSION_digibiz_${crossplat.device.platform}`,JSON.stringify({version:t.app_version,build:t[`${crossplat.device.platform}_build_number`]})),setTimeout((function(){"iOS"==crossplat.device.platform?location.href=window.WkWebView.convertFilePath(`${appManager.dataPath}${appManager.defaultHtml}`):location.href=`${appManager.dataPath}${appManager.defaultHtml}`}),300)})).catch((t=>{$(e).html(t)}))})).catch((t=>{$(e).html("Error While downloading updates. Please restart the application.")}))})).catch((e=>{}))})).catch((e=>{}))})).catch((e=>{}))})).catch((t=>{$(e).html(t)}))})).catch((t=>{$(e).html("Error While downloading updates. Please restart the application.")}))})).catch((e=>{}))}))},getAppVersion:(e,t)=>{if(localStorage.getItem(`__APPVERSION_${e}`)||e!=config.app_name){var i=JSON.parse(localStorage.getItem(`__APPVERSION_${e}`));t(i.version,i.build)}else cordova.getAppVersion.getVersionNumber((function(e){cordova.getAppVersion.getVersionCode((function(i){t(e,i)}))}))},getDirectoryEntry:e=>new Promise(((t,i)=>{window.resolveLocalFileSystemURL(e,(function(e){t(e)}),(function(e){i(e)}))})),getFileEntry:(e,t,i=!1)=>new Promise(((a,o)=>{e.getFile(t,{create:i,exclusive:!1},(function(e){a(e)}),(function(e){o(e)}))})),getTempDirEntry:()=>new Promise(((e,t)=>{appManager.removeIfDirExists(appManager.tempPath).then((()=>{window.resolveLocalFileSystemURL(cordova.file.dataDirectory,(function(i){i.getDirectory("temp",{create:!0},(function(t){e(t)}),(function(e){t(e)}))}),(function(e){t(e)}))})).catch((e=>{t(e)}))})),listDirectory:e=>new Promise(((t,i)=>{appManager.getDirectoryEntry(e).then((e=>{e.createReader().readEntries((function(e){t(e)}),(function(e){i(e)}))})).catch((e=>{i(e)}))})),removeIfDirExists:e=>new Promise(((t,i)=>{appManager.getDirectoryEntry(e).then((e=>{e.removeRecursively((function(){t()}),(function(e){i(e)}))})).catch((e=>{t()}))})),copyBundledFilesToDataDirectory:()=>new Promise(((e,t)=>{appManager.getDirectoryEntry(cordova.file.applicationDirectory+"www").then((i=>{appManager.getDirectoryEntry(cordova.file.dataDirectory).then((a=>{a.getDirectory("www",{create:!0},(function(o){i.copyTo(a,"www",(function(){e()}),(function(e){t(e)}))}),(function(e){t(e)}))})).catch((e=>{t(e)}))})).catch((e=>{t(e)}))})),checkUpdate:e=>new Promise(((t,i)=>{var a={app:e};fetch.apiCall((function(e,a,o){"success"===a?t(e):i(JSON.parse(e.responseText))}),`${appManager.app_updater}/checkupdate`,"POST","JSON",a)})),showStartupScreen:(e,t)=>{var i={app_logo:config.app_logos[e]};emptycol.getEmptyLayout((function(){var e=$("#text-container");$(e).html("Loading..."),t(e)}),"page/startup/init_page","#init-page-template","#login-container",i)},appScreen:(e,t)=>{var i={app_logo:config.app_logos[e],app:e,description:config.app_descriptions[e]};emptycol.getEmptyLayout((function(){t()}),"page/startup/app_info","#app-info-template","#login-container",i)},download:(e,t,i=!1)=>new Promise(((a,o)=>{var s=new FileTransfer;s.download(encodeURI(e),t,(function(e){a(e)}),(function(e){o(e)}),!1),i&&(s.onprogress=function(e){var t=e.loaded/e.total*100;t=Math.round(t),$(i).html(`Downloading Update...(${t}%)`)})})),downloadUpdate:(e,t="digibiz")=>new Promise(((i,a)=>{appManager.getTempDirEntry().then((o=>{appManager.getFileEntry(o,e,!0).then((e=>{appManager.download(`${appManager.app_updater}/update?app=${t}&platform=${crossplat.device.platform}`,e.toURL(),$("#text-container")).then((e=>{i(e)})).catch((e=>{a(e)}))})).catch((e=>{a(e)}))})).catch((e=>{a(e)}))})),extractResources:(e,t,i)=>new Promise(((a,o)=>{zip.unzip(e,t,(function(e){e?o("Error While Extracting Downloaded Resources"):a()}),i)})),downloadApp:(e,t)=>new Promise(((i,a)=>{appManager.getTempDirEntry().then((o=>{appManager.getFileEntry(o,t,!0).then((t=>{appManager.download(`${appManager.app_updater}/update?app=${e}&platform=${crossplat.device.platform}`,t.toURL(),$("#text-container")).then((e=>{i(e)})).catch((e=>{a(e)}))})).catch((e=>{a(e)}))})).catch((e=>{a(e)}))})),getAppDirEntry:e=>new Promise(((e,t)=>{window.resolveLocalFileSystemURL(cordova.file.dataDirectory,(function(i){i.getDirectory("app",{create:!0},(function(t){e(t)}),(function(e){t(e)}))}),(function(e){t(e)}))})),navigateToApp:e=>new Promise(((t,i)=>{appManager.showStartupScreen(e,(t=>{$(t).html("Checking updates"),navigator.onLine?appManager.checkUpdate(e).then((a=>{appManager.getDirectoryEntry(`${cordova.file.dataDirectory}${e}`).then((()=>{appManager.getAppVersion(e,(function(o,s){setTimeout((function(){if(a.app_version==o)if(a[`${crossplat.device.platform}_build_number`]>s){$(t).html("Downloading updates");let o=`${e}_${a.app_version.replace(".","_")}_${a[`${crossplat.device.platform}_build_number`]}.zip`;appManager.downloadApp(e,o).then((()=>{$(t).html("Downloading Completed"),appManager.extractResources(`${appManager.tempPath}/${o}`,`${cordova.file.dataDirectory}${e}`,(function(e){$(t).html(`Extracting Resources...(${Math.round(e.loaded/e.total*100)}%)`)})).then((()=>{localStorage.setItem(`__APPVERSION_${e}`,JSON.stringify({version:a.app_version,build:a[`${crossplat.device.platform}_build_number`]})),sessionStorage.setItem("__APPSTATUS","NAVIGATE"),"iOS"==crossplat.device.platform?location.href=window.WkWebView.convertFilePath(config.apps[e]):location.href=config.apps[e]})).catch((e=>{$(t).html(e),i(e)}))})).catch((e=>{i(e)}))}else"iOS"==crossplat.device.platform?location.href=window.WkWebView.convertFilePath(config.apps[e]):location.href=config.apps[e];else $(t).html("Error While getting app version")}),200)}))})).catch((o=>{$(t).html("Downloading App");let s=`${e}_${a.app_version.replace(".","_")}_${a[`${crossplat.device.platform}_build_number`]}.zip`;appManager.downloadApp(e,s).then((()=>{$(t).html("Downloading Completed"),appManager.extractResources(`${appManager.tempPath}/${s}`,`${cordova.file.dataDirectory}${e}`,(function(e){$(t).html(`Extracting Resources...(${Math.round(e.loaded/e.total*100)}%)`)})).then((()=>{localStorage.setItem(`__APPVERSION_${e}`,JSON.stringify({version:a.app_version,build:a[`${crossplat.device.platform}_build_number`]})),sessionStorage.setItem("__APPSTATUS","NAVIGATE"),"iOS"==crossplat.device.platform?location.href=window.WkWebView.convertFilePath(config.apps[e]):location.href=config.apps[e]})).catch((e=>{i(e),$(t).html(e)}))})).catch((e=>{i(e)}))}))})).catch((e=>{Materialize.toast("Error while checking update",3e3,"error-alert"),i(e)})):appManager.getDirectoryEntry(`${cordova.file.dataDirectory}${e}`).then((()=>{sessionStorage.setItem("__APPSTATUS","NAVIGATE"),"iOS"==crossplat.device.platform?location.href=window.WkWebView.convertFilePath(config.apps[e]):location.href=config.apps[e]})).catch((()=>{Materialize.toast("You are offlline!!!",3e3,"error-alert")}))}))}))},deviceHelper={logOutApp:function(e){"Android"==crossplat.device.platform?window.location.href=config.apps[e]:"iOS"==crossplat.device.platform?window.location.href=window.WkWebView.convertFilePath(config.apps[e]):window.location.href=config.web[e]},navigateApp:function(e){"Android"==crossplat.device.platform||"iOS"==crossplat.device.platform?"core"==e||"core"==e?"Android"==crossplat.device.platform?window.location.href=config.apps[e]:"iOS"==crossplat.device.platform&&(window.location.href=window.WkWebView.convertFilePath(config.apps[e])):localStorage.getItem(`__APPVERSION_${e}`)?appManager.navigateToApp(e):appManager.checkUpdate(e).then((t=>{localStorage.setItem(`__APPVERSION_${e}`,JSON.stringify({version:t.app_version,build:t[`${crossplat.device.platform}_build_number`]})),appManager.navigateToApp(e)})).catch((t=>{appManager.navigateToApp(e)})):window.location.href=config.web[e]},navigateToAccounts:function(e,t={}){sessionStorage.setItem("__APPSTATUS","NAVIGATE"),sessionStorage.setItem("__NAVIGATE_FROM",e),sessionStorage.setItem("__NAVIGATE_PARMS",JSON.stringify(t)),"iOS"==crossplat.device.platform?location.href=window.WkWebView.convertFilePath(config.apps.accounts):"Android"==crossplat.device.platform?location.href=config.apps.accounts:location.href=config.web.accounts+`?ref=${config.web.digibiz}`},navigateAppCore:function(e){"Android"==crossplat.device.platform?window.location.href=config.apps[e]:"iOS"==crossplat.device.platform?window.location.href=window.WkWebView.convertFilePath(config.apps[e]):window.location.href=config.web[e]},navigateLocalApp:function(e){"Android"==crossplat.device.platform?window.location.href=config.apps[e]:"iOS"==crossplat.device.platform?window.location.href=window.WkWebView.convertFilePath(config.apps[e]):window.location.href=config.local_web[e]},navigateToApps:function(e){startApp.set({application:e.package}).start()},byRolenavigateToApp:function(e,t,i){var a={};a[i]={user_id:e,role:t},setServerSession(crossplat.device.uuid,a,(function(e){"Android"===crossplat.device.platform||"iOS"===crossplat.device.platform?window.location=config.apps[i]:window.location=config.web[i]}))},b64toBlob:function(e,t,i){t=t||"",i=i||512;for(var a=atob(e),o=[],s=0;s<a.length;s+=i){for(var r=a.slice(s,s+i),n=new Array(r.length),d=0;d<r.length;d++)n[d]=r.charCodeAt(d);var c=new Uint8Array(n);o.push(c)}return new Blob(o,{type:t})},savebase64AsImageFile:function(e,t,i,a,o){var s=deviceHelper.b64toBlob(i,a);window.resolveLocalFileSystemURL(e,(function(i){i.getFile(t,{create:!0},(function(t){t.createWriter((function(e){e.write(s),o()}),(function(){o(),alert("Unable to save file in path "+e)}))}))}))},onDirectorySuccess:function(e){},onDirectoryFail:function(e){},createDirectory:function(e,t){window.resolveLocalFileSystemURL(e,(function(e){e.getDirectory("Assets",{create:!0,exclusive:!1},deviceHelper.onDirectorySuccess,deviceHelper.onDirectoryFail),t()}),(function(){t("failed")}))},downloadToDevice:function(e,t,i,a){var o=e.split(";"),s=o[0].split(":")[1],r=o[1].split(",")[1],n=(new Date).toISOString().replace(/T/," ").replace(/\..+/,"").replace(/-/g,"").replace(/:/g,"").replace(/ /g,"")+"."+i;deviceHelper.createDirectory(t,(function(e){e||deviceHelper.savebase64AsImageFile(t+"/Assets",n,r,s,(function(){a()}))}))},captureMultimediaFromDevice:function(e,t,i){navigator.device.capture[e]((function(e){i(null,e)}),(function(e){i(e)}),t)},getFileContentAsBase64:function(e,t){window.resolveLocalFileSystemURL(e,(function(e){e.file((function(e){var i=new FileReader;i.onloadend=function(e){var i=this.result;t(i)},i.readAsDataURL(e)}))}),(function(e){}))},sendCapturedMultimedia:function(e,t,i){deviceHelper.getFileContentAsBase64(e.fullPath,(function(a){var o=e.type.split("/"),s=o[0],r=o[1];local.getSession(["individual_id"],(function(o){$("#text_message").find("#emoji_value").html("<br>");var n=$("body").find("#text_message").attr("data-sender"),d=$("body").find("#text_message").attr("data-sendertype"),c=$("body").find("#text_message").attr("data-receiver"),l=$("body").find("#text_message").attr("data-type"),p=$("body").find("#text_message").attr("data-communication_method"),m=Math.floor(1e5+9e5*Math.random()),u=o.individual_id+(new Date).toISOString().replace(/T/," ").replace(/\..+/,"").replace(/-/g,"").replace(/:/g,"").replace(/ /g,"")+m;t[u]=a;var g={communication_type:"individual",communication_method:p,sender:n,sender_type:d,receiver:c,type:l,content_type:s,tempId:u};g.content={name:e.name.split(".")[0],size:e.size,permission:"read",keywords:"truchat files",type:e.type.split("/")[0],extension:e.type.split("/")[1],data:a};var _={id:u,type:l,send_date:(new Date).toISOString()};"reply"==l&&(g.parent=$("body").find("#text_message").attr("data-parent"),_.parent=g.parent),"group"==p&&(g.groupId=c),o.individual_id==n&&("reply"!=l&&"warn"!=l||(_.parent_name=$("body").find(".compose-reply-panel").find(".reply-msgbox-username").html(),_.parent_content=$("body").find(".compose-reply-panel").find(".reply-content").html()));var f={width:"200",height:"113"};"image"==s&&(_.content_type=s,_.extension=r,_.content_thumbnail="",messageLayout.appendRightMsgTemplateCb((function(o){if(o);else{$("input.select-msg#"+u).parents(".checkbox-container").find(".message-out-container").find(".multimedia-container").addClass("disable");var s={name:e.name.split(".")[0],type:e.type.split("/")[0],size:1e4,permission:"read",keywords:"truchat image thumbnails",extension:e.type.split("/")[1],data:a};g.content.thumbnailDetails=s,$("input.select-msg#"+u).parents(".checkbox-container").find(".message-out-container").find(".multimedia-container").find(".loader-wrapper").remove(),$("input.select-msg#"+u).parents(".checkbox-container").find(".message-out-container").find(".multimedia-container").find("img").attr("src",a),g.content_thumbnail=a,messageMethod.sendChat(g,t,u),i()}}),_)),"audio"==s&&(_.content_type=s,messageLayout.appendRightMsgTemplateCb((function(e){e||($("input.select-msg#"+u).parents(".checkbox-container").find(".message-out-container").find(".multimedia-container").addClass("disable"),messageMethod.sendChat(g,t,u),i())}),_)),"video"==s&&(_.content_type="video",_.content_thumbnail="",messageLayout.appendRightMsgTemplateCb((function(o){if(o);else{$("input.select-msg#"+u).parents(".checkbox-container").find(".message-out-container").find(".multimedia-container").addClass("disable");var s=$("input.select-msg#"+u).parents(".checkbox-container").find(".message-out-container").find(".multimedia-container");fetch.addLoader(s),ShotCapture.calculateVideoLength(a,(function(o){ShotCapture.getShot(a,f,o/2,(function(a){var o=a.match(/data:([a-zA-Z0-9]+\/[a-zA-Z0-9-.+]+).*,.*/),s={name:e.name.split(".")[0],size:1e4,permission:"read",keywords:"truchat video thumbnails",type:o[1].split("/")[0],extension:o[1].split("/")[1],data:a};g.content.thumbnailDetails=s,$("input.select-msg#"+u).parents(".checkbox-container").find(".message-out-container").find(".multimedia-container").find(".loader-wrapper").remove(),$("input.select-msg#"+u).parents(".checkbox-container").find(".message-out-container").find(".multimedia-container").find("img").attr("src",a),g.content_thumbnail=a,messageMethod.sendChat(g,t,u),i()}))}))}}),_))}))}))},captureEvents:function(e,t,i){deviceHelper.captureMultimediaFromDevice(e,t,(function(e,t){e?3==e.code||"Canceled."==e.message||Materialize.toast("Error happened in capture multimedia",4e3,"round error-alert"):$.each(t,(function(e,t){deviceHelper.sendCapturedMultimedia(t,attachmentArray,(function(){i()}))}))}))}}
/*!
 * Materialize v0.100.1 (http://materializecss.com)
 * Copyright 2014-2017 Materialize
 * MIT License (https://raw.githubusercontent.com/Dogfalo/materialize/master/LICENSE)
 */;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var jQuery,_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}();void 0===jQuery&&(jQuery="function"==typeof require?$=require("jquery"):$);!function(e){"function"==typeof define&&define.amd?define(["jquery"],(function(t){return e(t)})):"object"==typeof module&&"object"==typeof module.exports?exports=e(require("jquery")):e(jQuery)}((function(e){function t(e){var t=7.5625,i=2.75;return e<1/i?t*e*e:e<2/i?t*(e-=1.5/i)*e+.75:e<2.5/i?t*(e-=2.25/i)*e+.9375:t*(e-=2.625/i)*e+.984375}e.easing.jswing=e.easing.swing;var i=Math.pow,a=Math.sqrt,o=Math.sin,s=Math.cos,r=Math.PI,n=1.70158,d=1.525*n,c=2*r/3,l=2*r/4.5;e.extend(e.easing,{def:"easeOutQuad",swing:function(t){return e.easing[e.easing.def](t)},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return 1-(1-e)*(1-e)},easeInOutQuad:function(e){return e<.5?2*e*e:1-i(-2*e+2,2)/2},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1-i(1-e,3)},easeInOutCubic:function(e){return e<.5?4*e*e*e:1-i(-2*e+2,3)/2},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1-i(1-e,4)},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-i(-2*e+2,4)/2},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1-i(1-e,5)},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1-i(-2*e+2,5)/2},easeInSine:function(e){return 1-s(e*r/2)},easeOutSine:function(e){return o(e*r/2)},easeInOutSine:function(e){return-(s(r*e)-1)/2},easeInExpo:function(e){return 0===e?0:i(2,10*e-10)},easeOutExpo:function(e){return 1===e?1:1-i(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:e<.5?i(2,20*e-10)/2:(2-i(2,-20*e+10))/2},easeInCirc:function(e){return 1-a(1-i(e,2))},easeOutCirc:function(e){return a(1-i(e-1,2))},easeInOutCirc:function(e){return e<.5?(1-a(1-i(2*e,2)))/2:(a(1-i(-2*e+2,2))+1)/2},easeInElastic:function(e){return 0===e?0:1===e?1:-i(2,10*e-10)*o((10*e-10.75)*c)},easeOutElastic:function(e){return 0===e?0:1===e?1:i(2,-10*e)*o((10*e-.75)*c)+1},easeInOutElastic:function(e){return 0===e?0:1===e?1:e<.5?-i(2,20*e-10)*o((20*e-11.125)*l)/2:i(2,-20*e+10)*o((20*e-11.125)*l)/2+1},easeInBack:function(e){return 2.70158*e*e*e-n*e*e},easeOutBack:function(e){return 1+2.70158*i(e-1,3)+n*i(e-1,2)},easeInOutBack:function(e){return e<.5?i(2*e,2)*(7.189819*e-d)/2:(i(2*e-2,2)*((d+1)*(2*e-2)+d)+2)/2},easeInBounce:function(e){return 1-t(1-e)},easeOutBounce:t,easeInOutBounce:function(e){return e<.5?(1-t(1-2*e))/2:(1+t(2*e-1))/2}})})),jQuery.extend(jQuery.easing,{easeInOutMaterial:function(e,t,i,a,o){return(t/=o/2)<1?a/2*t*t+i:a/4*((t-=2)*t*t+2)+i}}),jQuery.Velocity?console.log("Velocity is already loaded. You may be needlessly importing Velocity again; note that Materialize includes Velocity."):(function(e){function t(e){var t=e.length,a=i.type(e);return"function"!==a&&!i.isWindow(e)&&(!(1!==e.nodeType||!t)||"array"===a||0===t||"number"==typeof t&&t>0&&t-1 in e)}if(!e.jQuery){var i=function(e,t){return new i.fn.init(e,t)};i.isWindow=function(e){return null!=e&&e==e.window},i.type=function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?o[r.call(e)]||"object":typeof e},i.isArray=Array.isArray||function(e){return"array"===i.type(e)},i.isPlainObject=function(e){var t;if(!e||"object"!==i.type(e)||e.nodeType||i.isWindow(e))return!1;try{if(e.constructor&&!s.call(e,"constructor")&&!s.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(t in e);return void 0===t||s.call(e,t)},i.each=function(e,i,a){var o=0,s=e.length,r=t(e);if(a){if(r)for(;s>o&&!1!==i.apply(e[o],a);o++);else for(o in e)if(!1===i.apply(e[o],a))break}else if(r)for(;s>o&&!1!==i.call(e[o],o,e[o]);o++);else for(o in e)if(!1===i.call(e[o],o,e[o]))break;return e},i.data=function(e,t,o){if(void 0===o){var s=(r=e[i.expando])&&a[r];if(void 0===t)return s;if(s&&t in s)return s[t]}else if(void 0!==t){var r=e[i.expando]||(e[i.expando]=++i.uuid);return a[r]=a[r]||{},a[r][t]=o,o}},i.removeData=function(e,t){var o=e[i.expando],s=o&&a[o];s&&i.each(t,(function(e,t){delete s[t]}))},i.extend=function(){var e,t,a,o,s,r,n=arguments[0]||{},d=1,c=arguments.length,l=!1;for("boolean"==typeof n&&(l=n,n=arguments[d]||{},d++),"object"!=typeof n&&"function"!==i.type(n)&&(n={}),d===c&&(n=this,d--);c>d;d++)if(null!=(s=arguments[d]))for(o in s)e=n[o],n!==(a=s[o])&&(l&&a&&(i.isPlainObject(a)||(t=i.isArray(a)))?(t?(t=!1,r=e&&i.isArray(e)?e:[]):r=e&&i.isPlainObject(e)?e:{},n[o]=i.extend(l,r,a)):void 0!==a&&(n[o]=a));return n},i.queue=function(e,a,o){if(e){a=(a||"fx")+"queue";var s=i.data(e,a);return o?(!s||i.isArray(o)?s=i.data(e,a,function(e,i){var a=[];return null!=e&&(t(Object(e))?function(e,t){for(var i=+t.length,a=0,o=e.length;i>a;)e[o++]=t[a++];if(i!=i)for(;void 0!==t[a];)e[o++]=t[a++];e.length=o}(a,"string"==typeof e?[e]:e):[].push.call(a,e)),a}(o)):s.push(o),s):s||[]}},i.dequeue=function(e,t){i.each(e.nodeType?[e]:e,(function(e,a){t=t||"fx";var o=i.queue(a,t),s=o.shift();"inprogress"===s&&(s=o.shift()),s&&("fx"===t&&o.unshift("inprogress"),s.call(a,(function(){i.dequeue(a,t)})))}))},i.fn=i.prototype={init:function(e){if(e.nodeType)return this[0]=e,this;throw new Error("Not a DOM node.")},offset:function(){var t=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:t.top+(e.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:t.left+(e.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function e(){for(var e=this.offsetParent||document;e&&"html"===!e.nodeType.toLowerCase&&"static"===e.style.position;)e=e.offsetParent;return e||document}var t=this[0],e=e.apply(t),a=this.offset(),o=/^(?:body|html)$/i.test(e.nodeName)?{top:0,left:0}:i(e).offset();return a.top-=parseFloat(t.style.marginTop)||0,a.left-=parseFloat(t.style.marginLeft)||0,e.style&&(o.top+=parseFloat(e.style.borderTopWidth)||0,o.left+=parseFloat(e.style.borderLeftWidth)||0),{top:a.top-o.top,left:a.left-o.left}}};var a={};i.expando="velocity"+(new Date).getTime(),i.uuid=0;for(var o={},s=o.hasOwnProperty,r=o.toString,n="Boolean Number String Function Array Date RegExp Object Error".split(" "),d=0;d<n.length;d++)o["[object "+n[d]+"]"]=n[d].toLowerCase();i.fn.init.prototype=i.fn,e.Velocity={Utilities:i}}}(window),function(e){"object"==typeof module&&"object"==typeof module.exports?module.exports=e():"function"==typeof define&&define.amd?define(e):e()}((function(){return function(e,t,i,a){function o(e){return g.isWrapped(e)?e=[].slice.call(e):g.isNode(e)&&(e=[e]),e}function s(e){var t=p.data(e,"velocity");return null===t?a:t}function r(e){return function(t){return Math.round(t*e)*(1/e)}}function n(e,i,a,o){function s(e,t){return 1-3*t+3*e}function r(e,t){return 3*t-6*e}function n(e){return 3*e}function d(e,t,i){return((s(t,i)*e+r(t,i))*e+n(t))*e}function c(e,t,i){return 3*s(t,i)*e*e+2*r(t,i)*e+n(t)}function l(t){for(var i=0,o=1,s=f-1;o!=s&&y[o]<=t;++o)i+=h;var r=i+(t-y[--o])/(y[o+1]-y[o])*h,n=c(r,e,a);return n>=u?function(t,i){for(var o=0;m>o;++o){var s=c(i,e,a);if(0===s)return i;i-=(d(i,e,a)-t)/s}return i}(t,r):0==n?r:function(t,i,o){var s,r,n=0;do{(s=d(r=i+(o-i)/2,e,a)-t)>0?o=r:i=r}while(Math.abs(s)>g&&++n<_);return r}(t,i,i+h)}function p(){$=!0,(e!=i||a!=o)&&function(){for(var t=0;f>t;++t)y[t]=d(t*h,e,a)}()}var m=4,u=.001,g=1e-7,_=10,f=11,h=1/(f-1),b="Float32Array"in t;if(4!==arguments.length)return!1;for(var v=0;4>v;++v)if("number"!=typeof arguments[v]||isNaN(arguments[v])||!isFinite(arguments[v]))return!1;e=Math.min(e,1),a=Math.min(a,1),e=Math.max(e,0),a=Math.max(a,0);var y=b?new Float32Array(f):new Array(f),$=!1,w=function(t){return $||p(),e===i&&a===o?t:0===t?0:1===t?1:d(l(t),i,o)};w.getControlPoints=function(){return[{x:e,y:i},{x:a,y:o}]};var S="generateBezier("+[e,i,a,o]+")";return w.toString=function(){return S},w}function d(e,t){var i=e;return g.isString(e)?b.Easings[e]||(i=!1):i=g.isArray(e)&&1===e.length?r.apply(null,e):g.isArray(e)&&2===e.length?v.apply(null,e.concat([t])):!(!g.isArray(e)||4!==e.length)&&n.apply(null,e),!1===i&&(i=b.Easings[b.defaults.easing]?b.defaults.easing:h),i}function c(e){if(e){var t=(new Date).getTime(),i=b.State.calls.length;i>1e4&&(b.State.calls=function(e){for(var t=-1,i=e?e.length:0,a=[];++t<i;){var o=e[t];o&&a.push(o)}return a}(b.State.calls));for(var o=0;i>o;o++)if(b.State.calls[o]){var r=b.State.calls[o],n=r[0],d=r[2],m=r[3],u=!!m,_=null;m||(m=b.State.calls[o][3]=t-16);for(var f=Math.min((t-m)/d.duration,1),h=0,v=n.length;v>h;h++){var $=n[h],S=$.element;if(s(S)){var C=!1;if(d.display!==a&&null!==d.display&&"none"!==d.display){if("flex"===d.display){p.each(["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"],(function(e,t){y.setPropertyValue(S,"display",t)}))}y.setPropertyValue(S,"display",d.display)}for(var L in d.visibility!==a&&"hidden"!==d.visibility&&y.setPropertyValue(S,"visibility",d.visibility),$)if("element"!==L){var k,z=$[L],I=g.isString(z.easing)?b.Easings[z.easing]:z.easing;if(1===f)k=z.endValue;else{var x=z.endValue-z.startValue;if(k=z.startValue+x*I(f,d,x),!u&&k===z.currentValue)continue}if(z.currentValue=k,"tween"===L)_=k;else{if(y.Hooks.registered[L]){var P=y.Hooks.getRoot(L),M=s(S).rootPropertyValueCache[P];M&&(z.rootPropertyValue=M)}var A=y.setPropertyValue(S,L,z.currentValue+(0===parseFloat(k)?"":z.unitType),z.rootPropertyValue,z.scrollData);y.Hooks.registered[L]&&(s(S).rootPropertyValueCache[P]=y.Normalizations.registered[P]?y.Normalizations.registered[P]("extract",null,A[1]):A[1]),"transform"===A[0]&&(C=!0)}}d.mobileHA&&s(S).transformCache.translate3d===a&&(s(S).transformCache.translate3d="(0px, 0px, 0px)",C=!0),C&&y.flushTransformCache(S)}}d.display!==a&&"none"!==d.display&&(b.State.calls[o][2].display=!1),d.visibility!==a&&"hidden"!==d.visibility&&(b.State.calls[o][2].visibility=!1),d.progress&&d.progress.call(r[1],r[1],f,Math.max(0,m+d.duration-t),m,_),1===f&&l(o)}}b.State.isTicking&&w(c)}function l(e,t){if(!b.State.calls[e])return!1;for(var i=b.State.calls[e][0],o=b.State.calls[e][1],r=b.State.calls[e][2],n=b.State.calls[e][4],d=!1,c=0,l=i.length;l>c;c++){var m=i[c].element;if(t||r.loop||("none"===r.display&&y.setPropertyValue(m,"display",r.display),"hidden"===r.visibility&&y.setPropertyValue(m,"visibility",r.visibility)),!0!==r.loop&&(p.queue(m)[1]===a||!/\.velocityQueueEntryFlag/i.test(p.queue(m)[1]))&&s(m)){s(m).isAnimating=!1,s(m).rootPropertyValueCache={};var u=!1;p.each(y.Lists.transforms3D,(function(e,t){var i=/^scale/.test(t)?1:0,o=s(m).transformCache[t];s(m).transformCache[t]!==a&&new RegExp("^\\("+i+"[^.]").test(o)&&(u=!0,delete s(m).transformCache[t])})),r.mobileHA&&(u=!0,delete s(m).transformCache.translate3d),u&&y.flushTransformCache(m),y.Values.removeClass(m,"velocity-animating")}if(!t&&r.complete&&!r.loop&&c===l-1)try{r.complete.call(o,o)}catch(e){setTimeout((function(){throw e}),1)}n&&!0!==r.loop&&n(o),s(m)&&!0===r.loop&&!t&&(p.each(s(m).tweensContainer,(function(e,t){/^rotate/.test(e)&&360===parseFloat(t.endValue)&&(t.endValue=0,t.startValue=360),/^backgroundPosition/.test(e)&&100===parseFloat(t.endValue)&&"%"===t.unitType&&(t.endValue=0,t.startValue=100)})),b(m,"reverse",{loop:!0,delay:r.delay})),!1!==r.queue&&p.dequeue(m,r.queue)}b.State.calls[e]=!1;for(var g=0,_=b.State.calls.length;_>g;g++)if(!1!==b.State.calls[g]){d=!0;break}!1===d&&(b.State.isTicking=!1,delete b.State.calls,b.State.calls=[])}var p,m=function(){if(i.documentMode)return i.documentMode;for(var e=7;e>4;e--){var t=i.createElement("div");if(t.innerHTML="\x3c!--[if IE "+e+"]><span></span><![endif]--\x3e",t.getElementsByTagName("span").length)return t=null,e}return a}(),u=function(){var e=0;return t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(t){var i,a=(new Date).getTime();return i=Math.max(0,16-(a-e)),e=a+i,setTimeout((function(){t(a+i)}),i)}}(),g={isString:function(e){return"string"==typeof e},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isNode:function(e){return e&&e.nodeType},isNodeList:function(e){return"object"==typeof e&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(e))&&e.length!==a&&(0===e.length||"object"==typeof e[0]&&e[0].nodeType>0)},isWrapped:function(e){return e&&(e.jquery||t.Zepto&&t.Zepto.zepto.isZ(e))},isSVG:function(e){return t.SVGElement&&e instanceof t.SVGElement},isEmptyObject:function(e){for(var t in e)return!1;return!0}},_=!1;if(e.fn&&e.fn.jquery?(p=e,_=!0):p=t.Velocity.Utilities,8>=m&&!_)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(!(7>=m)){var f=400,h="swing",b={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:t.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:i.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:p,Redirects:{},Easings:{},Promise:t.Promise,defaults:{queue:"",duration:f,easing:h,begin:a,complete:a,progress:a,display:a,visibility:a,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(e){p.data(e,"velocity",{isSVG:g.isSVG(e),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:2,patch:2},debug:!1};t.pageYOffset!==a?(b.State.scrollAnchor=t,b.State.scrollPropertyLeft="pageXOffset",b.State.scrollPropertyTop="pageYOffset"):(b.State.scrollAnchor=i.documentElement||i.body.parentNode||i.body,b.State.scrollPropertyLeft="scrollLeft",b.State.scrollPropertyTop="scrollTop");var v=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,i,a){var o={x:t.x+a.dx*i,v:t.v+a.dv*i,tension:t.tension,friction:t.friction};return{dx:o.v,dv:e(o)}}function i(i,a){var o={dx:i.v,dv:e(i)},s=t(i,.5*a,o),r=t(i,.5*a,s),n=t(i,a,r),d=1/6*(o.dx+2*(s.dx+r.dx)+n.dx),c=1/6*(o.dv+2*(s.dv+r.dv)+n.dv);return i.x=i.x+d*a,i.v=i.v+c*a,i}return function e(t,a,o){var s,r,n,d={x:-1,v:0,tension:null,friction:null},c=[0],l=0;for(t=parseFloat(t)||500,a=parseFloat(a)||20,o=o||null,d.tension=t,d.friction=a,(s=null!==o)?r=(l=e(t,a))/o*.016:r=.016;n=i(n||d,r),c.push(1+n.x),l+=16,Math.abs(n.x)>1e-4&&Math.abs(n.v)>1e-4;);return s?function(e){return c[e*(c.length-1)|0]}:l}}();b.Easings={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},spring:function(e){return 1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e)}},p.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],(function(e,t){b.Easings[t[0]]=n.apply(null,t[1])}));var y=b.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(s=0;s<y.Lists.colors.length;s++){var e="color"===y.Lists.colors[s]?"0 0 0 1":"255 255 255 1";y.Hooks.templates[y.Lists.colors[s]]=["Red Green Blue Alpha",e]}var t,i,a;if(m)for(t in y.Hooks.templates){a=(i=y.Hooks.templates[t])[0].split(" ");var o=i[1].match(y.RegEx.valueSplit);"Color"===a[0]&&(a.push(a.shift()),o.push(o.shift()),y.Hooks.templates[t]=[a.join(" "),o.join(" ")])}for(t in y.Hooks.templates)for(var s in a=(i=y.Hooks.templates[t])[0].split(" ")){var r=t+a[s],n=s;y.Hooks.registered[r]=[t,n]}},getRoot:function(e){var t=y.Hooks.registered[e];return t?t[0]:e},cleanRootPropertyValue:function(e,t){return y.RegEx.valueUnwrap.test(t)&&(t=t.match(y.RegEx.valueUnwrap)[1]),y.Values.isCSSNullValue(t)&&(t=y.Hooks.templates[e][1]),t},extractValue:function(e,t){var i=y.Hooks.registered[e];if(i){var a=i[0],o=i[1];return(t=y.Hooks.cleanRootPropertyValue(a,t)).toString().match(y.RegEx.valueSplit)[o]}return t},injectValue:function(e,t,i){var a=y.Hooks.registered[e];if(a){var o,s=a[0],r=a[1];return(o=(i=y.Hooks.cleanRootPropertyValue(s,i)).toString().match(y.RegEx.valueSplit))[r]=t,o.join(" ")}return i}},Normalizations:{registered:{clip:function(e,t,i){switch(e){case"name":return"clip";case"extract":var a;return y.RegEx.wrappedValueAlreadyExtracted.test(i)?a=i:a=(a=i.toString().match(y.RegEx.valueUnwrap))?a[1].replace(/,(\s+)?/g," "):i,a;case"inject":return"rect("+i+")"}},blur:function(e,t,i){switch(e){case"name":return b.State.isFirefox?"filter":"-webkit-filter";case"extract":var a=parseFloat(i);if(!a&&0!==a){var o=i.toString().match(/blur\(([0-9]+[A-z]+)\)/i);a=o?o[1]:0}return a;case"inject":return parseFloat(i)?"blur("+i+")":"none"}},opacity:function(e,t,i){if(8>=m)switch(e){case"name":return"filter";case"extract":var a=i.toString().match(/alpha\(opacity=(.*)\)/i);return a?a[1]/100:1;case"inject":return t.style.zoom=1,parseFloat(i)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(i),10)+")"}else switch(e){case"name":return"opacity";case"extract":case"inject":return i}}},register:function(){for(9>=m||b.State.isGingerbread||(y.Lists.transformsBase=y.Lists.transformsBase.concat(y.Lists.transforms3D)),e=0;e<y.Lists.transformsBase.length;e++)!function(){var t=y.Lists.transformsBase[e];y.Normalizations.registered[t]=function(e,i,o){switch(e){case"name":return"transform";case"extract":return s(i)===a||s(i).transformCache[t]===a?/^scale/i.test(t)?1:0:s(i).transformCache[t].replace(/[()]/g,"");case"inject":var r=!1;switch(t.substr(0,t.length-1)){case"translate":r=!/(%|px|em|rem|vw|vh|\d)$/i.test(o);break;case"scal":case"scale":b.State.isAndroid&&s(i).transformCache[t]===a&&1>o&&(o=1),r=!/(\d)$/i.test(o);break;case"skew":case"rotate":r=!/(deg|\d)$/i.test(o)}return r||(s(i).transformCache[t]="("+o+")"),s(i).transformCache[t]}}}();for(var e=0;e<y.Lists.colors.length;e++)!function(){var t=y.Lists.colors[e];y.Normalizations.registered[t]=function(e,i,o){switch(e){case"name":return t;case"extract":var s;if(y.RegEx.wrappedValueAlreadyExtracted.test(o))s=o;else{var r,n={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(o)?r=n[o]!==a?n[o]:n.black:y.RegEx.isHex.test(o)?r="rgb("+y.Values.hexToRgb(o).join(" ")+")":/^rgba?\(/i.test(o)||(r=n.black),s=(r||o).toString().match(y.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return 8>=m||3!==s.split(" ").length||(s+=" 1"),s;case"inject":return 8>=m?4===o.split(" ").length&&(o=o.split(/\s+/).slice(0,3).join(" ")):3===o.split(" ").length&&(o+=" 1"),(8>=m?"rgb":"rgba")+"("+o.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(e){return e.replace(/-(\w)/g,(function(e,t){return t.toUpperCase()}))},SVGAttribute:function(e){var t="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(m||b.State.isAndroid&&!b.State.isChrome)&&(t+="|transform"),new RegExp("^("+t+")$","i").test(e)},prefixCheck:function(e){if(b.State.prefixMatches[e])return[b.State.prefixMatches[e],!0];for(var t=["","Webkit","Moz","ms","O"],i=0,a=t.length;a>i;i++){var o;if(o=0===i?e:t[i]+e.replace(/^\w/,(function(e){return e.toUpperCase()})),g.isString(b.State.prefixElement.style[o]))return b.State.prefixMatches[e]=o,[o,!0]}return[e,!1]}},Values:{hexToRgb:function(e){var t;return e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,i,a){return t+t+i+i+a+a})),(t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e))?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[0,0,0]},isCSSNullValue:function(e){return 0==e||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(e)},getUnitType:function(e){return/^(rotate|skew)/i.test(e)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(e)?"":"px"},getDisplayType:function(e){var t=e&&e.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(t)?"inline":/^(li)$/i.test(t)?"list-item":/^(tr)$/i.test(t)?"table-row":/^(table)$/i.test(t)?"table":/^(tbody)$/i.test(t)?"table-row-group":"block"},addClass:function(e,t){e.classList?e.classList.add(t):e.className+=(e.className.length?" ":"")+t},removeClass:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.toString().replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(e,i,o,r){function n(e,i){function o(){l&&y.setPropertyValue(e,"display","none")}var d=0;if(8>=m)d=p.css(e,i);else{var c,l=!1;if(/^(width|height)$/.test(i)&&0===y.getPropertyValue(e,"display")&&(l=!0,y.setPropertyValue(e,"display",y.Values.getDisplayType(e))),!r){if("height"===i&&"border-box"!==y.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var u=e.offsetHeight-(parseFloat(y.getPropertyValue(e,"borderTopWidth"))||0)-(parseFloat(y.getPropertyValue(e,"borderBottomWidth"))||0)-(parseFloat(y.getPropertyValue(e,"paddingTop"))||0)-(parseFloat(y.getPropertyValue(e,"paddingBottom"))||0);return o(),u}if("width"===i&&"border-box"!==y.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var g=e.offsetWidth-(parseFloat(y.getPropertyValue(e,"borderLeftWidth"))||0)-(parseFloat(y.getPropertyValue(e,"borderRightWidth"))||0)-(parseFloat(y.getPropertyValue(e,"paddingLeft"))||0)-(parseFloat(y.getPropertyValue(e,"paddingRight"))||0);return o(),g}}c=s(e)===a?t.getComputedStyle(e,null):s(e).computedStyle?s(e).computedStyle:s(e).computedStyle=t.getComputedStyle(e,null),"borderColor"===i&&(i="borderTopColor"),(""===(d=9===m&&"filter"===i?c.getPropertyValue(i):c[i])||null===d)&&(d=e.style[i]),o()}if("auto"===d&&/^(top|right|bottom|left)$/i.test(i)){var _=n(e,"position");("fixed"===_||"absolute"===_&&/top|left/i.test(i))&&(d=p(e).position()[i]+"px")}return d}var d;if(y.Hooks.registered[i]){var c=i,l=y.Hooks.getRoot(c);o===a&&(o=y.getPropertyValue(e,y.Names.prefixCheck(l)[0])),y.Normalizations.registered[l]&&(o=y.Normalizations.registered[l]("extract",e,o)),d=y.Hooks.extractValue(c,o)}else if(y.Normalizations.registered[i]){var u,g;"transform"!==(u=y.Normalizations.registered[i]("name",e))&&(g=n(e,y.Names.prefixCheck(u)[0]),y.Values.isCSSNullValue(g)&&y.Hooks.templates[i]&&(g=y.Hooks.templates[i][1])),d=y.Normalizations.registered[i]("extract",e,g)}if(!/^[\d-]/.test(d))if(s(e)&&s(e).isSVG&&y.Names.SVGAttribute(i))if(/^(height|width)$/i.test(i))try{d=e.getBBox()[i]}catch(e){d=0}else d=e.getAttribute(i);else d=n(e,y.Names.prefixCheck(i)[0]);return y.Values.isCSSNullValue(d)&&(d=0),b.debug>=2&&console.log("Get "+i+": "+d),d},setPropertyValue:function(e,i,a,o,r){var n=i;if("scroll"===i)r.container?r.container["scroll"+r.direction]=a:"Left"===r.direction?t.scrollTo(a,r.alternateValue):t.scrollTo(r.alternateValue,a);else if(y.Normalizations.registered[i]&&"transform"===y.Normalizations.registered[i]("name",e))y.Normalizations.registered[i]("inject",e,a),n="transform",a=s(e).transformCache[i];else{if(y.Hooks.registered[i]){var d=i,c=y.Hooks.getRoot(i);o=o||y.getPropertyValue(e,c),a=y.Hooks.injectValue(d,a,o),i=c}if(y.Normalizations.registered[i]&&(a=y.Normalizations.registered[i]("inject",e,a),i=y.Normalizations.registered[i]("name",e)),n=y.Names.prefixCheck(i)[0],8>=m)try{e.style[n]=a}catch(e){b.debug&&console.log("Browser does not support ["+a+"] for ["+n+"]")}else s(e)&&s(e).isSVG&&y.Names.SVGAttribute(i)?e.setAttribute(i,a):e.style[n]=a;b.debug>=2&&console.log("Set "+i+" ("+n+"): "+a)}return[n,a]},flushTransformCache:function(e){function t(t){return parseFloat(y.getPropertyValue(e,t))}var i="";if((m||b.State.isAndroid&&!b.State.isChrome)&&s(e).isSVG){var a={translate:[t("translateX"),t("translateY")],skewX:[t("skewX")],skewY:[t("skewY")],scale:1!==t("scale")?[t("scale"),t("scale")]:[t("scaleX"),t("scaleY")],rotate:[t("rotateZ"),0,0]};p.each(s(e).transformCache,(function(e){/^translate/i.test(e)?e="translate":/^scale/i.test(e)?e="scale":/^rotate/i.test(e)&&(e="rotate"),a[e]&&(i+=e+"("+a[e].join(" ")+") ",delete a[e])}))}else{var o,r;p.each(s(e).transformCache,(function(t){return o=s(e).transformCache[t],"transformPerspective"===t?(r=o,!0):(9===m&&"rotateZ"===t&&(t="rotate"),void(i+=t+o+" "))})),r&&(i="perspective"+r+" "+i)}y.setPropertyValue(e,"transform",i)}};y.Hooks.register(),y.Normalizations.register(),b.hook=function(e,t,i){var r=a;return e=o(e),p.each(e,(function(e,o){if(s(o)===a&&b.init(o),i===a)r===a&&(r=b.CSS.getPropertyValue(o,t));else{var n=b.CSS.setPropertyValue(o,t,i);"transform"===n[0]&&b.CSS.flushTransformCache(o),r=n}})),r};var $=function(){function e(){return n?z.promise||null:m}function r(){function e(e){function m(e,t){var i=a,o=a,s=a;return g.isArray(e)?(i=e[0],!g.isArray(e[1])&&/^[\d-]/.test(e[1])||g.isFunction(e[1])||y.RegEx.isHex.test(e[1])?s=e[1]:(g.isString(e[1])&&!y.RegEx.isHex.test(e[1])||g.isArray(e[1]))&&(o=t?e[1]:d(e[1],n.duration),e[2]!==a&&(s=e[2]))):i=e,t||(o=o||n.easing),g.isFunction(i)&&(i=i.call(r,C,S)),g.isFunction(s)&&(s=s.call(r,C,S)),[i||0,o,s]}function u(e,t){var i,a;return a=(t||"0").toString().toLowerCase().replace(/[%A-z]+$/,(function(e){return i=e,""})),i||(i=y.Values.getUnitType(e)),[a,i]}if(n.begin&&0===C)try{n.begin.call(_,_)}catch(e){setTimeout((function(){throw e}),1)}if("scroll"===k){var f,$,w,L=/^x$/i.test(n.axis)?"Left":"Top",I=parseFloat(n.offset)||0;n.container?g.isWrapped(n.container)||g.isNode(n.container)?(n.container=n.container[0]||n.container,w=(f=n.container["scroll"+L])+p(r).position()[L.toLowerCase()]+I):n.container=null:(f=b.State.scrollAnchor[b.State["scrollProperty"+L]],$=b.State.scrollAnchor[b.State["scrollProperty"+("Left"===L?"Top":"Left")]],w=p(r).offset()[L.toLowerCase()]+I),l={scroll:{rootPropertyValue:!1,startValue:f,currentValue:f,endValue:w,unitType:"",easing:n.easing,scrollData:{container:n.container,direction:L,alternateValue:$}},element:r},b.debug&&console.log("tweensContainer (scroll): ",l.scroll,r)}else if("reverse"===k){if(!s(r).tweensContainer)return void p.dequeue(r,n.queue);for(var x in"none"===s(r).opts.display&&(s(r).opts.display="auto"),"hidden"===s(r).opts.visibility&&(s(r).opts.visibility="visible"),s(r).opts.loop=!1,s(r).opts.begin=null,s(r).opts.complete=null,v.easing||delete n.easing,v.duration||delete n.duration,n=p.extend({},s(r).opts,n),M=p.extend(!0,{},s(r).tweensContainer))if("element"!==x){var P=M[x].startValue;M[x].startValue=M[x].currentValue=M[x].endValue,M[x].endValue=P,g.isEmptyObject(v)||(M[x].easing=n.easing),b.debug&&console.log("reverse tweensContainer ("+x+"): "+JSON.stringify(M[x]),r)}l=M}else if("start"===k){var M;for(var O in s(r).tweensContainer&&!0===s(r).isAnimating&&(M=s(r).tweensContainer),p.each(h,(function(e,t){if(RegExp("^"+y.Lists.colors.join("$|^")+"$").test(e)){var i=m(t,!0),o=i[0],s=i[1],r=i[2];if(y.RegEx.isHex.test(o)){for(var n=["Red","Green","Blue"],d=y.Values.hexToRgb(o),c=r?y.Values.hexToRgb(r):a,l=0;l<n.length;l++){var p=[d[l]];s&&p.push(s),c!==a&&p.push(c[l]),h[e+n[l]]=p}delete h[e]}}})),h){var D=m(h[O]),T=D[0],G=D[1],N=D[2];O=y.Names.camelCase(O);var F=y.Hooks.getRoot(O),H=!1;if(s(r).isSVG||"tween"===F||!1!==y.Names.prefixCheck(F)[1]||y.Normalizations.registered[F]!==a){(n.display!==a&&null!==n.display&&"none"!==n.display||n.visibility!==a&&"hidden"!==n.visibility)&&/opacity|filter/.test(O)&&!N&&0!==T&&(N=0),n._cacheValues&&M&&M[O]?(N===a&&(N=M[O].endValue+M[O].unitType),H=s(r).rootPropertyValueCache[F]):y.Hooks.registered[O]?N===a?(H=y.getPropertyValue(r,F),N=y.getPropertyValue(r,O,H)):H=y.Hooks.templates[F][1]:N===a&&(N=y.getPropertyValue(r,O));var B,j,U,R=!1;if(N=(B=u(O,N))[0],U=B[1],T=(B=u(O,T))[0].replace(/^([+-\/*])=/,(function(e,t){return R=t,""})),j=B[1],N=parseFloat(N)||0,T=parseFloat(T)||0,"%"===j&&(/^(fontSize|lineHeight)$/.test(O)?(T/=100,j="em"):/^scale/.test(O)?(T/=100,j=""):/(Red|Green|Blue)$/i.test(O)&&(T=T/100*255,j="")),/[\/*]/.test(R))j=U;else if(U!==j&&0!==N)if(0===T)j=U;else{o=o||function(){var e={myParent:r.parentNode||i.body,position:y.getPropertyValue(r,"position"),fontSize:y.getPropertyValue(r,"fontSize")},a=e.position===A.lastPosition&&e.myParent===A.lastParent,o=e.fontSize===A.lastFontSize;A.lastParent=e.myParent,A.lastPosition=e.position,A.lastFontSize=e.fontSize;var n=100,d={};if(o&&a)d.emToPx=A.lastEmToPx,d.percentToPxWidth=A.lastPercentToPxWidth,d.percentToPxHeight=A.lastPercentToPxHeight;else{var c=s(r).isSVG?i.createElementNS("http://www.w3.org/2000/svg","rect"):i.createElement("div");b.init(c),e.myParent.appendChild(c),p.each(["overflow","overflowX","overflowY"],(function(e,t){b.CSS.setPropertyValue(c,t,"hidden")})),b.CSS.setPropertyValue(c,"position",e.position),b.CSS.setPropertyValue(c,"fontSize",e.fontSize),b.CSS.setPropertyValue(c,"boxSizing","content-box"),p.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],(function(e,t){b.CSS.setPropertyValue(c,t,n+"%")})),b.CSS.setPropertyValue(c,"paddingLeft",n+"em"),d.percentToPxWidth=A.lastPercentToPxWidth=(parseFloat(y.getPropertyValue(c,"width",null,!0))||1)/n,d.percentToPxHeight=A.lastPercentToPxHeight=(parseFloat(y.getPropertyValue(c,"height",null,!0))||1)/n,d.emToPx=A.lastEmToPx=(parseFloat(y.getPropertyValue(c,"paddingLeft"))||1)/n,e.myParent.removeChild(c)}return null===A.remToPx&&(A.remToPx=parseFloat(y.getPropertyValue(i.body,"fontSize"))||16),null===A.vwToPx&&(A.vwToPx=parseFloat(t.innerWidth)/100,A.vhToPx=parseFloat(t.innerHeight)/100),d.remToPx=A.remToPx,d.vwToPx=A.vwToPx,d.vhToPx=A.vhToPx,b.debug>=1&&console.log("Unit ratios: "+JSON.stringify(d),r),d}();var q=/margin|padding|left|right|width|text|word|letter/i.test(O)||/X$/.test(O)||"x"===O?"x":"y";switch(U){case"%":N*="x"===q?o.percentToPxWidth:o.percentToPxHeight;break;case"px":break;default:N*=o[U+"ToPx"]}switch(j){case"%":N*=1/("x"===q?o.percentToPxWidth:o.percentToPxHeight);break;case"px":break;default:N*=1/o[j+"ToPx"]}}switch(R){case"+":T=N+T;break;case"-":T=N-T;break;case"*":T*=N;break;case"/":T=N/T}l[O]={rootPropertyValue:H,startValue:N,currentValue:N,endValue:T,unitType:j,easing:G},b.debug&&console.log("tweensContainer ("+O+"): "+JSON.stringify(l[O]),r)}else b.debug&&console.log("Skipping ["+F+"] due to a lack of browser support.")}l.element=r}l.element&&(y.Values.addClass(r,"velocity-animating"),E.push(l),""===n.queue&&(s(r).tweensContainer=l,s(r).opts=n),s(r).isAnimating=!0,C===S-1?(b.State.calls.push([E,_,n,null,z.resolver]),!1===b.State.isTicking&&(b.State.isTicking=!0,c())):C++)}var o,r=this,n=p.extend({},b.defaults,v),l={};switch(s(r)===a&&b.init(r),parseFloat(n.delay)&&!1!==n.queue&&p.queue(r,n.queue,(function(e){b.velocityQueueEntryFlag=!0,s(r).delayTimer={setTimeout:setTimeout(e,parseFloat(n.delay)),next:e}})),n.duration.toString().toLowerCase()){case"fast":n.duration=200;break;case"normal":n.duration=f;break;case"slow":n.duration=600;break;default:n.duration=parseFloat(n.duration)||1}!1!==b.mock&&(!0===b.mock?n.duration=n.delay=1:(n.duration*=parseFloat(b.mock)||1,n.delay*=parseFloat(b.mock)||1)),n.easing=d(n.easing,n.duration),n.begin&&!g.isFunction(n.begin)&&(n.begin=null),n.progress&&!g.isFunction(n.progress)&&(n.progress=null),n.complete&&!g.isFunction(n.complete)&&(n.complete=null),n.display!==a&&null!==n.display&&(n.display=n.display.toString().toLowerCase(),"auto"===n.display&&(n.display=b.CSS.Values.getDisplayType(r))),n.visibility!==a&&null!==n.visibility&&(n.visibility=n.visibility.toString().toLowerCase()),n.mobileHA=n.mobileHA&&b.State.isMobile&&!b.State.isGingerbread,!1===n.queue?n.delay?setTimeout(e,n.delay):e():p.queue(r,n.queue,(function(t,i){return!0===i?(z.promise&&z.resolver(_),!0):(b.velocityQueueEntryFlag=!0,void e(t))})),""!==n.queue&&"fx"!==n.queue||"inprogress"===p.queue(r)[0]||p.dequeue(r)}var n,m,u,_,h,v,w=arguments[0]&&(arguments[0].p||p.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||g.isString(arguments[0].properties));if(g.isWrapped(this)?(n=!1,u=0,_=this,m=this):(n=!0,u=1,_=w?arguments[0].elements||arguments[0].e:arguments[0]),_=o(_)){w?(h=arguments[0].properties||arguments[0].p,v=arguments[0].options||arguments[0].o):(h=arguments[u],v=arguments[u+1]);var S=_.length,C=0;if(!/^(stop|finish)$/i.test(h)&&!p.isPlainObject(v)){v={};for(var L=u+1;L<arguments.length;L++)g.isArray(arguments[L])||!/^(fast|normal|slow)$/i.test(arguments[L])&&!/^\d/.test(arguments[L])?g.isString(arguments[L])||g.isArray(arguments[L])?v.easing=arguments[L]:g.isFunction(arguments[L])&&(v.complete=arguments[L]):v.duration=arguments[L]}var k,z={promise:null,resolver:null,rejecter:null};switch(n&&b.Promise&&(z.promise=new b.Promise((function(e,t){z.resolver=e,z.rejecter=t}))),h){case"scroll":k="scroll";break;case"reverse":k="reverse";break;case"finish":case"stop":p.each(_,(function(e,t){s(t)&&s(t).delayTimer&&(clearTimeout(s(t).delayTimer.setTimeout),s(t).delayTimer.next&&s(t).delayTimer.next(),delete s(t).delayTimer)}));var I=[];return p.each(b.State.calls,(function(e,t){t&&p.each(t[1],(function(i,o){var r=v===a?"":v;return!0!==r&&t[2].queue!==r&&(v!==a||!1!==t[2].queue)||void p.each(_,(function(i,a){a===o&&((!0===v||g.isString(v))&&(p.each(p.queue(a,g.isString(v)?v:""),(function(e,t){g.isFunction(t)&&t(null,!0)})),p.queue(a,g.isString(v)?v:"",[])),"stop"===h?(s(a)&&s(a).tweensContainer&&!1!==r&&p.each(s(a).tweensContainer,(function(e,t){t.endValue=t.currentValue})),I.push(e)):"finish"===h&&(t[2].duration=1))}))}))})),"stop"===h&&(p.each(I,(function(e,t){l(t,!0)})),z.promise&&z.resolver(_)),e();default:if(!p.isPlainObject(h)||g.isEmptyObject(h)){if(g.isString(h)&&b.Redirects[h]){var x=(D=p.extend({},v)).duration,P=D.delay||0;return!0===D.backwards&&(_=p.extend(!0,[],_).reverse()),p.each(_,(function(e,t){parseFloat(D.stagger)?D.delay=P+parseFloat(D.stagger)*e:g.isFunction(D.stagger)&&(D.delay=P+D.stagger.call(t,e,S)),D.drag&&(D.duration=parseFloat(x)||(/^(callout|transition)/.test(h)?1e3:f),D.duration=Math.max(D.duration*(D.backwards?1-e/S:(e+1)/S),.75*D.duration,200)),b.Redirects[h].call(t,t,D||{},e,S,_,z.promise?z:a)})),e()}var M="Velocity: First argument ("+h+") was not a property map, a known action, or a registered redirect. Aborting.";return z.promise?z.rejecter(new Error(M)):console.log(M),e()}k="start"}var A={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},E=[];p.each(_,(function(e,t){g.isNode(t)&&r.call(t)}));var O,D=p.extend({},b.defaults,v);if(D.loop=parseInt(D.loop),O=2*D.loop-1,D.loop)for(var T=0;O>T;T++){var G={delay:D.delay,progress:D.progress};T===O-1&&(G.display=D.display,G.visibility=D.visibility,G.complete=D.complete),$(_,"reverse",G)}return e()}};(b=p.extend($,b)).animate=$;var w=t.requestAnimationFrame||u;return b.State.isMobile||i.hidden===a||i.addEventListener("visibilitychange",(function(){i.hidden?(w=function(e){return setTimeout((function(){e(!0)}),16)},c()):w=t.requestAnimationFrame||u})),e.Velocity=b,e!==t&&(e.fn.velocity=$,e.fn.velocity.defaults=b.defaults),p.each(["Down","Up"],(function(e,t){b.Redirects["slide"+t]=function(e,i,o,s,r,n){var d=p.extend({},i),c=d.begin,l=d.complete,m={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},u={};d.display===a&&(d.display="Down"===t?"inline"===b.CSS.Values.getDisplayType(e)?"inline-block":"block":"none"),d.begin=function(){for(var i in c&&c.call(r,r),m){u[i]=e.style[i];var a=b.CSS.getPropertyValue(e,i);m[i]="Down"===t?[a,0]:[0,a]}u.overflow=e.style.overflow,e.style.overflow="hidden"},d.complete=function(){for(var t in u)e.style[t]=u[t];l&&l.call(r,r),n&&n.resolver(r)},b(e,m,d)}})),p.each(["In","Out"],(function(e,t){b.Redirects["fade"+t]=function(e,i,o,s,r,n){var d=p.extend({},i),c={opacity:"In"===t?1:0},l=d.complete;d.complete=o!==s-1?d.begin=null:function(){l&&l.call(r,r),n&&n.resolver(r)},d.display===a&&(d.display="In"===t?"auto":"none"),b(this,c,d)}})),b}jQuery.fn.velocity=jQuery.fn.animate}(window.jQuery||window.Zepto||window,window,document)}))),function(e,t,i,a){"use strict";function o(e,t,i){return setTimeout(l(e,i),t)}function s(e,t,i){return!!Array.isArray(e)&&(r(e,i[t],i),!0)}function r(e,t,i){var o;if(e)if(e.forEach)e.forEach(t,i);else if(e.length!==a)for(o=0;o<e.length;)t.call(i,e[o],o,e),o++;else for(o in e)e.hasOwnProperty(o)&&t.call(i,e[o],o,e)}function n(e,t,i){for(var o=Object.keys(t),s=0;s<o.length;)(!i||i&&e[o[s]]===a)&&(e[o[s]]=t[o[s]]),s++;return e}function d(e,t){return n(e,t,!0)}function c(e,t,i){var a,o=t.prototype;(a=e.prototype=Object.create(o)).constructor=e,a._super=o,i&&n(a,i)}function l(e,t){return function(){return e.apply(t,arguments)}}function p(e,t){return typeof e==te?e.apply(t&&t[0]||a,t):e}function m(e,t){return e===a?t:e}function u(e,t,i){r(h(t),(function(t){e.addEventListener(t,i,!1)}))}function g(e,t,i){r(h(t),(function(t){e.removeEventListener(t,i,!1)}))}function _(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function f(e,t){return e.indexOf(t)>-1}function h(e){return e.trim().split(/\s+/g)}function b(e,t,i){if(e.indexOf&&!i)return e.indexOf(t);for(var a=0;a<e.length;){if(i&&e[a][i]==t||!i&&e[a]===t)return a;a++}return-1}function v(e){return Array.prototype.slice.call(e,0)}function y(e,t,i){for(var a=[],o=[],s=0;s<e.length;){var r=t?e[s][t]:e[s];b(o,r)<0&&a.push(e[s]),o[s]=r,s++}return i&&(a=t?a.sort((function(e,i){return e[t]>i[t]})):a.sort()),a}function $(e,t){for(var i,o,s=t[0].toUpperCase()+t.slice(1),r=0;r<Z.length;){if((o=(i=Z[r])?i+s:t)in e)return o;r++}return a}function w(e){var t=e.ownerDocument;return t.defaultView||t.parentWindow}function S(e,t){var i=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){p(e.options.enable,[e])&&i.handler(t)},this.init()}function C(e,t,i){var a=i.pointers.length,o=i.changedPointers.length,s=t&me&&0==a-o,r=t&(ge|_e)&&0==a-o;i.isFirst=!!s,i.isFinal=!!r,s&&(e.session={}),i.eventType=t,function(e,t){var i=e.session,a=t.pointers,o=a.length;i.firstInput||(i.firstInput=k(t)),o>1&&!i.firstMultiple?i.firstMultiple=k(t):1===o&&(i.firstMultiple=!1);var s=i.firstInput,r=i.firstMultiple,n=r?r.center:s.center,d=t.center=z(a);t.timeStamp=oe(),t.deltaTime=t.timeStamp-s.timeStamp,t.angle=P(n,d),t.distance=x(n,d),function(e,t){var i=t.center,a=e.offsetDelta||{},o=e.prevDelta||{},s=e.prevInput||{};(t.eventType===me||s.eventType===ge)&&(o=e.prevDelta={x:s.deltaX||0,y:s.deltaY||0},a=e.offsetDelta={x:i.x,y:i.y}),t.deltaX=o.x+(i.x-a.x),t.deltaY=o.y+(i.y-a.y)}(i,t),t.offsetDirection=I(t.deltaX,t.deltaY),t.scale=r?function(e,t){return x(t[0],t[1],Le)/x(e[0],e[1],Le)}(r.pointers,a):1,t.rotation=r?function(e,t){return P(t[1],t[0],Le)-P(e[1],e[0],Le)}(r.pointers,a):0,L(i,t);var c=e.element;_(t.srcEvent.target,c)&&(c=t.srcEvent.target),t.target=c}(e,i),e.emit("hammer.input",i),e.recognize(i),e.session.prevInput=i}function L(e,t){var i,o,s,r,n=e.lastInterval||t,d=t.timeStamp-n.timeStamp;if(t.eventType!=_e&&(d>pe||n.velocity===a)){var c=n.deltaX-t.deltaX,l=n.deltaY-t.deltaY,p=function(e,t,i){return{x:t/e||0,y:i/e||0}}(d,c,l);o=p.x,s=p.y,i=ae(p.x)>ae(p.y)?p.x:p.y,r=I(c,l),e.lastInterval=t}else i=n.velocity,o=n.velocityX,s=n.velocityY,r=n.direction;t.velocity=i,t.velocityX=o,t.velocityY=s,t.direction=r}function k(e){for(var t=[],i=0;i<e.pointers.length;)t[i]={clientX:ie(e.pointers[i].clientX),clientY:ie(e.pointers[i].clientY)},i++;return{timeStamp:oe(),pointers:t,center:z(t),deltaX:e.deltaX,deltaY:e.deltaY}}function z(e){var t=e.length;if(1===t)return{x:ie(e[0].clientX),y:ie(e[0].clientY)};for(var i=0,a=0,o=0;t>o;)i+=e[o].clientX,a+=e[o].clientY,o++;return{x:ie(i/t),y:ie(a/t)}}function I(e,t){return e===t?fe:ae(e)>=ae(t)?e>0?he:be:t>0?ve:ye}function x(e,t,i){i||(i=Ce);var a=t[i[0]]-e[i[0]],o=t[i[1]]-e[i[1]];return Math.sqrt(a*a+o*o)}function P(e,t,i){i||(i=Ce);var a=t[i[0]]-e[i[0]],o=t[i[1]]-e[i[1]];return 180*Math.atan2(o,a)/Math.PI}function M(){this.evEl=ze,this.evWin=Ie,this.allow=!0,this.pressed=!1,S.apply(this,arguments)}function A(){this.evEl=Me,this.evWin=Ae,S.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function E(){this.evTarget=Oe,this.evWin=De,this.started=!1,S.apply(this,arguments)}function O(e,t){var i=v(e.touches),a=v(e.changedTouches);return t&(ge|_e)&&(i=y(i.concat(a),"identifier",!0)),[i,a]}function D(){this.evTarget=Ge,this.targetIds={},S.apply(this,arguments)}function T(e,t){var i=v(e.touches),a=this.targetIds;if(t&(me|ue)&&1===i.length)return a[i[0].identifier]=!0,[i,i];var o,s,r=v(e.changedTouches),n=[],d=this.target;if(s=i.filter((function(e){return _(e.target,d)})),t===me)for(o=0;o<s.length;)a[s[o].identifier]=!0,o++;for(o=0;o<r.length;)a[r[o].identifier]&&n.push(r[o]),t&(ge|_e)&&delete a[r[o].identifier],o++;return n.length?[y(s.concat(n),"identifier",!0),n]:void 0}function G(){S.apply(this,arguments);var e=l(this.handler,this);this.touch=new D(this.manager,e),this.mouse=new M(this.manager,e)}function N(e,t){this.manager=e,this.set(t)}function F(e){this.id=se++,this.manager=null,this.options=d(e||{},this.defaults),this.options.enable=m(this.options.enable,!0),this.state=Ye,this.simultaneous={},this.requireFail=[]}function H(e){return e==ye?"down":e==ve?"up":e==he?"left":e==be?"right":""}function B(e,t){var i=t.manager;return i?i.get(e):e}function j(){F.apply(this,arguments)}function U(){j.apply(this,arguments),this.pX=null,this.pY=null}function R(){j.apply(this,arguments)}function q(){F.apply(this,arguments),this._timer=null,this._input=null}function Y(){j.apply(this,arguments)}function J(){j.apply(this,arguments)}function W(){F.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function V(e,t){return(t=t||{}).recognizers=m(t.recognizers,V.defaults.preset),new X(e,t)}function X(e,t){t=t||{},this.options=d(t,V.defaults),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.element=e,this.input=function(e){return new(e.options.inputClass||(ne?A:de?D:re?G:M))(e,C)}(this),this.touchAction=new N(this,this.options.touchAction),K(this,!0),r(t.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function K(e,t){var i=e.element;r(e.options.cssProps,(function(e,a){i.style[$(i.style,a)]=t?e:""}))}function Q(e,i){var a=t.createEvent("Event");a.initEvent(e,!0,!0),a.gesture=i,i.target.dispatchEvent(a)}var Z=["","webkit","moz","MS","ms","o"],ee=t.createElement("div"),te="function",ie=Math.round,ae=Math.abs,oe=Date.now,se=1,re="ontouchstart"in e,ne=$(e,"PointerEvent")!==a,de=re&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),ce="touch",le="mouse",pe=25,me=1,ue=2,ge=4,_e=8,fe=1,he=2,be=4,ve=8,ye=16,$e=he|be,we=ve|ye,Se=$e|we,Ce=["x","y"],Le=["clientX","clientY"];S.prototype={handler:function(){},init:function(){this.evEl&&u(this.element,this.evEl,this.domHandler),this.evTarget&&u(this.target,this.evTarget,this.domHandler),this.evWin&&u(w(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&g(this.element,this.evEl,this.domHandler),this.evTarget&&g(this.target,this.evTarget,this.domHandler),this.evWin&&g(w(this.element),this.evWin,this.domHandler)}};var ke={mousedown:me,mousemove:ue,mouseup:ge},ze="mousedown",Ie="mousemove mouseup";c(M,S,{handler:function(e){var t=ke[e.type];t&me&&0===e.button&&(this.pressed=!0),t&ue&&1!==e.which&&(t=ge),this.pressed&&this.allow&&(t&ge&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:le,srcEvent:e}))}});var xe={pointerdown:me,pointermove:ue,pointerup:ge,pointercancel:_e,pointerout:_e},Pe={2:ce,3:"pen",4:le,5:"kinect"},Me="pointerdown",Ae="pointermove pointerup pointercancel";e.MSPointerEvent&&(Me="MSPointerDown",Ae="MSPointerMove MSPointerUp MSPointerCancel"),c(A,S,{handler:function(e){var t=this.store,i=!1,a=e.type.toLowerCase().replace("ms",""),o=xe[a],s=Pe[e.pointerType]||e.pointerType,r=s==ce,n=b(t,e.pointerId,"pointerId");o&me&&(0===e.button||r)?0>n&&(t.push(e),n=t.length-1):o&(ge|_e)&&(i=!0),0>n||(t[n]=e,this.callback(this.manager,o,{pointers:t,changedPointers:[e],pointerType:s,srcEvent:e}),i&&t.splice(n,1))}});var Ee={touchstart:me,touchmove:ue,touchend:ge,touchcancel:_e},Oe="touchstart",De="touchstart touchmove touchend touchcancel";c(E,S,{handler:function(e){var t=Ee[e.type];if(t===me&&(this.started=!0),this.started){var i=O.call(this,e,t);t&(ge|_e)&&0==i[0].length-i[1].length&&(this.started=!1),this.callback(this.manager,t,{pointers:i[0],changedPointers:i[1],pointerType:ce,srcEvent:e})}}});var Te={touchstart:me,touchmove:ue,touchend:ge,touchcancel:_e},Ge="touchstart touchmove touchend touchcancel";c(D,S,{handler:function(e){var t=Te[e.type],i=T.call(this,e,t);i&&this.callback(this.manager,t,{pointers:i[0],changedPointers:i[1],pointerType:ce,srcEvent:e})}}),c(G,S,{handler:function(e,t,i){var a=i.pointerType==ce,o=i.pointerType==le;if(a)this.mouse.allow=!1;else if(o&&!this.mouse.allow)return;t&(ge|_e)&&(this.mouse.allow=!0),this.callback(e,t,i)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ne=$(ee.style,"touchAction"),Fe=Ne!==a,He="compute",Be="auto",je="manipulation",Ue="none",Re="pan-x",qe="pan-y";N.prototype={set:function(e){e==He&&(e=this.compute()),Fe&&(this.manager.element.style[Ne]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return r(this.manager.recognizers,(function(t){p(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(f(e,Ue))return Ue;var t=f(e,Re),i=f(e,qe);return t&&i?Re+" "+qe:t||i?t?Re:qe:f(e,je)?je:Be}(e.join(" "))},preventDefaults:function(e){if(!Fe){var t=e.srcEvent,i=e.offsetDirection;if(this.manager.session.prevented)return void t.preventDefault();var a=this.actions,o=f(a,Ue),s=f(a,qe),r=f(a,Re);return o||s&&i&$e||r&&i&we?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var Ye=1,Je=2,We=4,Ve=8,Xe=Ve,Ke=16;F.prototype={defaults:{},set:function(e){return n(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(s(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=B(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return s(e,"dropRecognizeWith",this)||(e=B(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(s(e,"requireFailure",this))return this;var t=this.requireFail;return-1===b(t,e=B(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(s(e,"dropRequireFailure",this))return this;e=B(e,this);var t=b(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){i.manager.emit(i.options.event+(t?function(e){return e&Ke?"cancel":e&Ve?"end":e&We?"move":e&Je?"start":""}(a):""),e)}var i=this,a=this.state;Ve>a&&t(!0),t(),a>=Ve&&t(!0)},tryEmit:function(e){return this.canEmit()?this.emit(e):void(this.state=32)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(32|Ye)))return!1;e++}return!0},recognize:function(e){var t=n({},e);return p(this.options.enable,[this,t])?(this.state&(Xe|Ke|32)&&(this.state=Ye),this.state=this.process(t),void(this.state&(Je|We|Ve|Ke)&&this.tryEmit(t))):(this.reset(),void(this.state=32))},process:function(){},getTouchAction:function(){},reset:function(){}},c(j,F,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,i=e.eventType,a=t&(Je|We),o=this.attrTest(e);return a&&(i&_e||!o)?t|Ke:a||o?i&ge?t|Ve:t&Je?t|We:Je:32}}),c(U,j,{defaults:{event:"pan",threshold:10,pointers:1,direction:Se},getTouchAction:function(){var e=this.options.direction,t=[];return e&$e&&t.push(qe),e&we&&t.push(Re),t},directionTest:function(e){var t=this.options,i=!0,a=e.distance,o=e.direction,s=e.deltaX,r=e.deltaY;return o&t.direction||(t.direction&$e?(o=0===s?fe:0>s?he:be,i=s!=this.pX,a=Math.abs(e.deltaX)):(o=0===r?fe:0>r?ve:ye,i=r!=this.pY,a=Math.abs(e.deltaY))),e.direction=o,i&&a>t.threshold&&o&t.direction},attrTest:function(e){return j.prototype.attrTest.call(this,e)&&(this.state&Je||!(this.state&Je)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=H(e.direction);t&&this.manager.emit(this.options.event+t,e),this._super.emit.call(this,e)}}),c(R,j,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ue]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&Je)},emit:function(e){if(this._super.emit.call(this,e),1!==e.scale){var t=e.scale<1?"in":"out";this.manager.emit(this.options.event+t,e)}}}),c(q,F,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Be]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,a=e.distance<t.threshold,s=e.deltaTime>t.time;if(this._input=e,!a||!i||e.eventType&(ge|_e)&&!s)this.reset();else if(e.eventType&me)this.reset(),this._timer=o((function(){this.state=Xe,this.tryEmit()}),t.time,this);else if(e.eventType&ge)return Xe;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===Xe&&(e&&e.eventType&ge?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=oe(),this.manager.emit(this.options.event,this._input)))}}),c(Y,j,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ue]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&Je)}}),c(J,j,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:$e|we,pointers:1},getTouchAction:function(){return U.prototype.getTouchAction.call(this)},attrTest:function(e){var t,i=this.options.direction;return i&($e|we)?t=e.velocity:i&$e?t=e.velocityX:i&we&&(t=e.velocityY),this._super.attrTest.call(this,e)&&i&e.direction&&e.distance>this.options.threshold&&ae(t)>this.options.velocity&&e.eventType&ge},emit:function(e){var t=H(e.direction);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),c(W,F,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[je]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,a=e.distance<t.threshold,s=e.deltaTime<t.time;if(this.reset(),e.eventType&me&&0===this.count)return this.failTimeout();if(a&&s&&i){if(e.eventType!=ge)return this.failTimeout();var r=!this.pTime||e.timeStamp-this.pTime<t.interval,n=!this.pCenter||x(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,n&&r?this.count+=1:this.count=1,this._input=e,0==this.count%t.taps)return this.hasRequireFailures()?(this._timer=o((function(){this.state=Xe,this.tryEmit()}),t.interval,this),Je):Xe}return 32},failTimeout:function(){return this._timer=o((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Xe&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),V.VERSION="2.0.4",V.defaults={domEvents:!1,touchAction:He,enable:!0,inputTarget:null,inputClass:null,preset:[[Y,{enable:!1}],[R,{enable:!1},["rotate"]],[J,{direction:$e}],[U,{direction:$e},["swipe"]],[W],[W,{event:"doubletap",taps:2},["tap"]],[q]],cssProps:{userSelect:"default",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},X.prototype={set:function(e){return n(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var i,a=this.recognizers,o=t.curRecognizer;(!o||o&&o.state&Xe)&&(o=t.curRecognizer=null);for(var s=0;s<a.length;)i=a[s],2===t.stopped||o&&i!=o&&!i.canRecognizeWith(o)?i.reset():i.recognize(e),!o&&i.state&(Je|We|Ve)&&(o=t.curRecognizer=i),s++}},get:function(e){if(e instanceof F)return e;for(var t=this.recognizers,i=0;i<t.length;i++)if(t[i].options.event==e)return t[i];return null},add:function(e){if(s(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(s(e,"remove",this))return this;var t=this.recognizers;return e=this.get(e),t.splice(b(t,e),1),this.touchAction.update(),this},on:function(e,t){var i=this.handlers;return r(h(e),(function(e){i[e]=i[e]||[],i[e].push(t)})),this},off:function(e,t){var i=this.handlers;return r(h(e),(function(e){t?i[e].splice(b(i[e],t),1):delete i[e]})),this},emit:function(e,t){this.options.domEvents&&Q(e,t);var i=this.handlers[e]&&this.handlers[e].slice();if(i&&i.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var a=0;a<i.length;)i[a](t),a++}},destroy:function(){this.element&&K(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},n(V,{INPUT_START:me,INPUT_MOVE:ue,INPUT_END:ge,INPUT_CANCEL:_e,STATE_POSSIBLE:Ye,STATE_BEGAN:Je,STATE_CHANGED:We,STATE_ENDED:Ve,STATE_RECOGNIZED:Xe,STATE_CANCELLED:Ke,STATE_FAILED:32,DIRECTION_NONE:fe,DIRECTION_LEFT:he,DIRECTION_RIGHT:be,DIRECTION_UP:ve,DIRECTION_DOWN:ye,DIRECTION_HORIZONTAL:$e,DIRECTION_VERTICAL:we,DIRECTION_ALL:Se,Manager:X,Input:S,TouchAction:N,TouchInput:D,MouseInput:M,PointerEventInput:A,TouchMouseInput:G,SingleTouchInput:E,Recognizer:F,AttrRecognizer:j,Tap:W,Pan:U,Swipe:J,Pinch:R,Rotate:Y,Press:q,on:u,off:g,each:r,merge:d,extend:n,inherit:c,bindFn:l,prefixed:$}),typeof define==te&&define.amd?define((function(){return V})):"undefined"!=typeof module&&module.exports?module.exports=V:e.Hammer=V}(window,document),function(e){"function"==typeof define&&define.amd?define(["jquery","hammerjs"],e):"object"==typeof exports?e(require("jquery"),require("hammerjs")):e(jQuery,Hammer)}((function(e,t){function i(i,a){var o=e(i);o.data("hammer")||o.data("hammer",new t(o[0],a))}e.fn.hammer=function(e){return this.each((function(){i(this,e)}))},t.Manager.prototype.emit=function(t){return function(i,a){t.call(this,i,a),e(this.element).trigger({type:i,gesture:a})}}(t.Manager.prototype.emit)})),function(e){e.Package?Materialize={}:e.Materialize={}}(window),function(e){for(var t=0,i=["webkit","moz"],a=e.requestAnimationFrame,o=e.cancelAnimationFrame,s=i.length;--s>=0&&!a;)a=e[i[s]+"RequestAnimationFrame"],o=e[i[s]+"CancelRequestAnimationFrame"];a&&o||(a=function(e){var i=+Date.now(),a=Math.max(t+16,i);return setTimeout((function(){e(t=a)}),a-i)},o=clearTimeout),e.requestAnimationFrame=a,e.cancelAnimationFrame=o}(window),Materialize.objectSelectorString=function(e){return((e.prop("tagName")||"")+(e.attr("id")||"")+(e.attr("class")||"")).replace(/\s/g,"")},Materialize.guid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}(),Materialize.escapeHash=function(e){return e.replace(/(:|\.|\[|\]|,|=)/g,"\\$1")},Materialize.elementOrParentIsFixed=function(e){var t=$(e),i=!1;return t.add(t.parents()).each((function(){if("fixed"===$(this).css("position"))return i=!0,!1})),i};var Vel,getTime=Date.now||function(){return(new Date).getTime()};Materialize.throttle=function(e,t,i){var a,o,s,r=null,n=0;i||(i={});var d=function(){n=!1===i.leading?0:getTime(),r=null,s=e.apply(a,o),a=o=null};return function(){var c=getTime();n||!1!==i.leading||(n=c);var l=t-(c-n);return a=this,o=arguments,l<=0?(clearTimeout(r),r=null,n=c,s=e.apply(a,o),a=o=null):r||!1===i.trailing||(r=setTimeout(d,l)),s}},Vel=jQuery?jQuery.Velocity:$?$.Velocity:Velocity,function(e){e.fn.collapsible=function(t,i){var a=t;return t=e.extend({accordion:void 0,onOpen:void 0,onClose:void 0},t),this.each((function(){function o(t){p=l.find("> li > .collapsible-header"),t.hasClass("active")?t.parent().addClass("active"):t.parent().removeClass("active"),t.parent().hasClass("active")?t.siblings(".collapsible-body").stop(!0,!1).slideDown({duration:350,easing:"easeOutQuart",queue:!1,complete:function(){e(this).css("height","")}}):t.siblings(".collapsible-body").stop(!0,!1).slideUp({duration:350,easing:"easeOutQuart",queue:!1,complete:function(){e(this).css("height","")}}),p.not(t).removeClass("active").parent().removeClass("active"),p.not(t).parent().children(".collapsible-body").stop(!0,!1).each((function(){e(this).is(":visible")&&e(this).slideUp({duration:350,easing:"easeOutQuart",queue:!1,complete:function(){e(this).css("height",""),n(e(this).siblings(".collapsible-header"))}})}))}function s(t){t.hasClass("active")?t.parent().addClass("active"):t.parent().removeClass("active"),t.parent().hasClass("active")?t.siblings(".collapsible-body").stop(!0,!1).slideDown({duration:350,easing:"easeOutQuart",queue:!1,complete:function(){e(this).css("height","")}}):t.siblings(".collapsible-body").stop(!0,!1).slideUp({duration:350,easing:"easeOutQuart",queue:!1,complete:function(){e(this).css("height","")}})}function r(e,i){i||e.toggleClass("active"),t.accordion||"accordion"===m||void 0===m?o(e):s(e),n(e)}function n(e){e.hasClass("active")?"function"==typeof t.onOpen&&t.onOpen.call(this,e.parent()):"function"==typeof t.onClose&&t.onClose.call(this,e.parent())}function d(e){return e.closest("li > .collapsible-header")}function c(){l.off("click.collapse","> li > .collapsible-header")}var l=e(this),p=e(this).find("> li > .collapsible-header"),m=l.data("collapsible");if("destroy"!==a)if(i>=0&&i<p.length){var u=p.eq(i);u.length&&("open"===a||"close"===a&&u.hasClass("active"))&&r(u)}else c(),l.on("click.collapse","> li > .collapsible-header",(function(t){var i=e(t.target);(function(e){return d(e).length>0})(i)&&(i=d(i)),r(i)})),t.accordion||"accordion"===m||void 0===m?r(p.filter(".active").first(),!0):p.filter(".active").each((function(){r(e(this),!0)}));else c()}))},e(document).ready((function(){e(".collapsible").collapsible()}))}(jQuery),function(e){e.fn.scrollTo=function(t){return e(this).scrollTop(e(this).scrollTop()-e(this).offset().top+e(t).offset().top),this},e.fn.dropdown=function(t){var i={inDuration:300,outDuration:225,constrainWidth:!0,hover:!1,gutter:0,belowOrigin:!1,alignment:"left",stopPropagation:!1};return"open"===t?(this.each((function(){e(this).trigger("open")})),!1):"close"===t?(this.each((function(){e(this).trigger("close")})),!1):void this.each((function(){function a(){void 0!==r.data("induration")&&(n.inDuration=r.data("induration")),void 0!==r.data("outduration")&&(n.outDuration=r.data("outduration")),void 0!==r.data("constrainwidth")&&(n.constrainWidth=r.data("constrainwidth")),void 0!==r.data("hover")&&(n.hover=r.data("hover")),void 0!==r.data("gutter")&&(n.gutter=r.data("gutter")),void 0!==r.data("beloworigin")&&(n.belowOrigin=r.data("beloworigin")),void 0!==r.data("alignment")&&(n.alignment=r.data("alignment")),void 0!==r.data("stoppropagation")&&(n.stopPropagation=r.data("stoppropagation"))}function o(t){"focus"===t&&(d=!0),a(),c.addClass("active"),r.addClass("active");var i=r[0].getBoundingClientRect().width;!0===n.constrainWidth?c.css("width",i):c.css("white-space","nowrap");var o=window.innerHeight,l=r.innerHeight(),p=r.offset().left,m=r.offset().top-e(window).scrollTop(),u=n.alignment,g=0,_=0,f=0;!0===n.belowOrigin&&(f=l);var h=0,b=0,v=r.parent();if(v.is("body")||(v[0].scrollHeight>v[0].clientHeight&&(h=v[0].scrollTop),v[0].scrollWidth>v[0].clientWidth&&(b=v[0].scrollLeft)),p+c.innerWidth()>e(window).width()?u="right":p-c.innerWidth()+r.innerWidth()<0&&(u="left"),m+c.innerHeight()>o)if(m+l-c.innerHeight()<0){var y=o-m-f;c.css("max-height",y)}else f||(f+=l),f-=c.innerHeight();"left"===u?(g=n.gutter,_=r.position().left+g):"right"===u&&(c.stop(!0,!0).css({opacity:0,left:0}),_=r.position().left+i-c.width()+(g=-n.gutter)),c.css({position:"absolute",top:r.position().top+f+h,left:_+b}),c.slideDown({queue:!1,duration:n.inDuration,easing:"easeOutCubic",complete:function(){e(this).css("height","")}}).animate({opacity:1},{queue:!1,duration:n.inDuration,easing:"easeOutSine"}),setTimeout((function(){e(document).on("click."+c.attr("id"),(function(t){s(),e(document).off("click."+c.attr("id"))}))}),0)}function s(){d=!1,c.fadeOut(n.outDuration),c.removeClass("active"),r.removeClass("active"),e(document).off("click."+c.attr("id")),setTimeout((function(){c.css("max-height","")}),n.outDuration)}var r=e(this),n=e.extend({},i,t),d=!1,c=e("#"+r.attr("data-activates"));if(a(),r.after(c),n.hover){var l=!1;r.off("click."+r.attr("id")),r.on("mouseenter",(function(e){!1===l&&(o(),l=!0)})),r.on("mouseleave",(function(t){var i=t.toElement||t.relatedTarget;e(i).closest(".dropdown-content").is(c)||(c.stop(!0,!0),s(),l=!1)})),c.on("mouseleave",(function(t){var i=t.toElement||t.relatedTarget;e(i).closest(".dropdown-button").is(r)||(c.stop(!0,!0),s(),l=!1)}))}else r.off("click."+r.attr("id")),r.on("click."+r.attr("id"),(function(t){d||(r[0]!=t.currentTarget||r.hasClass("active")||0!==e(t.target).closest(".dropdown-content").length?r.hasClass("active")&&(s(),e(document).off("click."+c.attr("id"))):(t.preventDefault(),n.stopPropagation&&t.stopPropagation(),o("click")))}));r.on("open",(function(e,t){o(t)})),r.on("close",s)}))},e(document).ready((function(){e(".dropdown-button").dropdown()}))}(jQuery),function(e){"use strict";var t={opacity:.5,inDuration:250,outDuration:250,ready:void 0,complete:void 0,dismissible:!0,startingTop:"4%",endingTop:"10%"},i=function(){function i(t,a){_classCallCheck(this,i),t[0].M_Modal&&t[0].M_Modal.destroy(),this.$el=t,this.options=e.extend({},i.defaults,a),this.isOpen=!1,this.$el[0].M_Modal=this,this.id=t.attr("id"),this.openingTrigger=void 0,this.$overlay=e('<div class="modal-overlay"></div>'),i._increment++,i._count++,this.$overlay[0].style.zIndex=1e3+2*i._increment,this.$el[0].style.zIndex=1e3+2*i._increment+1,this.setupEventHandlers()}return _createClass(i,[{key:"getInstance",value:function(){return this}},{key:"destroy",value:function(){this.removeEventHandlers(),this.$el[0].removeAttribute("style"),this.$overlay[0].parentNode&&this.$overlay[0].parentNode.removeChild(this.$overlay[0]),this.$el[0].M_Modal=void 0,i._count--}},{key:"setupEventHandlers",value:function(){this.handleOverlayClickBound=this.handleOverlayClick.bind(this),this.handleModalCloseClickBound=this.handleModalCloseClick.bind(this),1===i._count&&document.addEventListener("click",this.handleTriggerClick),this.$overlay[0].addEventListener("click",this.handleOverlayClickBound),this.$el[0].addEventListener("click",this.handleModalCloseClickBound)}},{key:"removeEventHandlers",value:function(){0===i._count&&document.removeEventListener("click",this.handleTriggerClick),this.$overlay[0].removeEventListener("click",this.handleOverlayClickBound),this.$el[0].removeEventListener("click",this.handleModalCloseClickBound)}},{key:"handleTriggerClick",value:function(t){var i=e(t.target).closest(".modal-trigger");if(t.target&&i.length){var a=i[0].getAttribute("href");a=a?a.slice(1):i[0].getAttribute("data-target");var o=document.getElementById(a).M_Modal;o&&o.open(i),t.preventDefault()}}},{key:"handleOverlayClick",value:function(){this.options.dismissible&&this.close()}},{key:"handleModalCloseClick",value:function(t){var i=e(t.target).closest(".modal-close");t.target&&i.length&&this.close()}},{key:"handleKeydown",value:function(e){27===e.keyCode&&this.options.dismissible&&this.close()}},{key:"animateIn",value:function(){var t=this;e.extend(this.$el[0].style,{display:"block",opacity:0}),e.extend(this.$overlay[0].style,{display:"block",opacity:0}),Vel(this.$overlay[0],{opacity:this.options.opacity},{duration:this.options.inDuration,queue:!1,ease:"easeOutCubic"});var i={duration:this.options.inDuration,queue:!1,ease:"easeOutCubic",complete:function(){"function"==typeof t.options.ready&&t.options.ready.call(t,t.$el,t.openingTrigger)}};this.$el[0].classList.contains("bottom-sheet")?Vel(this.$el[0],{bottom:0,opacity:1},i):(Vel.hook(this.$el[0],"scaleX",.7),this.$el[0].style.top=this.options.startingTop,Vel(this.$el[0],{top:this.options.endingTop,opacity:1,scaleX:1},i))}},{key:"animateOut",value:function(){var e=this;Vel(this.$overlay[0],{opacity:0},{duration:this.options.outDuration,queue:!1,ease:"easeOutQuart"});var t={duration:this.options.outDuration,queue:!1,ease:"easeOutCubic",complete:function(){e.$el[0].style.display="none","function"==typeof e.options.complete&&e.options.complete.call(e,e.$el),e.$overlay[0].remove()}};this.$el[0].classList.contains("bottom-sheet")?Vel(this.$el[0],{bottom:"-100%",opacity:0},t):Vel(this.$el[0],{top:this.options.startingTop,opacity:0,scaleX:.7},t)}},{key:"open",value:function(e){if(!this.isOpen){this.isOpen=!0;var t=document.body;return t.style.overflow="hidden",this.$el[0].classList.add("open"),t.appendChild(this.$overlay[0]),this.openingTrigger=e||void 0,this.options.dismissible&&(this.handleKeydownBound=this.handleKeydown.bind(this),document.addEventListener("keydown",this.handleKeydownBound)),this.animateIn(),this}}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,this.$el[0].classList.remove("open"),document.body.style.overflow=null,this.options.dismissible&&document.removeEventListener("keydown",this.handleKeydownBound),this.animateOut(),this}}],[{key:"init",value:function(t,a){var o=[];return t.each((function(){o.push(new i(e(this),a))})),o}},{key:"defaults",get:function(){return t}}]),i}();i._increment=0,i._count=0,window.Materialize.Modal=i,e.fn.modal=function(t){return i.prototype[t]?"get"===t.slice(0,3)?this.first()[0].M_Modal[t]():this.each((function(){this.M_Modal[t]()})):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.modal"):(i.init(this,arguments[0]),this)}}(jQuery),function(e){e.fn.materialbox=function(){return this.each((function(){function t(){s=!1;var t=n.parent(".material-placeholder"),a=(window.innerWidth,window.innerHeight,n.data("width")),d=n.data("height");n.velocity("stop",!0),e("#materialbox-overlay").velocity("stop",!0),e(".materialbox-caption").velocity("stop",!0),e(window).off("scroll.materialbox"),e(document).off("keyup.materialbox"),e(window).off("resize.materialbox"),e("#materialbox-overlay").velocity({opacity:0},{duration:r,queue:!1,easing:"easeOutQuad",complete:function(){o=!1,e(this).remove()}}),n.velocity({width:a,height:d,left:0,top:0},{duration:r,queue:!1,easing:"easeOutQuad",complete:function(){t.css({height:"",width:"",position:"",top:"",left:""}),n.removeAttr("style"),n.attr("style",c),n.removeClass("active"),s=!0,i&&i.css("overflow","")}}),e(".materialbox-caption").velocity({opacity:0},{duration:r,queue:!1,easing:"easeOutQuad",complete:function(){e(this).remove()}})}if(!e(this).hasClass("initialized")){e(this).addClass("initialized");var i,a,o=!1,s=!0,r=200,n=e(this),d=e("<div></div>").addClass("material-placeholder"),c=n.attr("style");n.wrap(d),n.on("click",(function(){var r=n.parent(".material-placeholder"),d=window.innerWidth,c=window.innerHeight,l=n.width(),p=n.height();if(!1===s)return t(),!1;if(o&&!0===s)return t(),!1;for(s=!1,n.addClass("active"),o=!0,r.css({width:r[0].getBoundingClientRect().width,height:r[0].getBoundingClientRect().height,position:"relative",top:0,left:0}),i=void 0,a=r[0].parentNode;null!==a&&!e(a).is(document);){var m=e(a);"visible"!==m.css("overflow")&&(m.css("overflow","visible"),i=void 0===i?m:i.add(m)),a=a.parentNode}n.css({position:"absolute","z-index":1e3,"will-change":"left, top, width, height"}).data("width",l).data("height",p);var u=e('<div id="materialbox-overlay"></div>').css({opacity:0}).click((function(){!0===s&&t()}));n.before(u);var g=u[0].getBoundingClientRect();if(u.css({width:d,height:c,left:-1*g.left,top:-1*g.top}),u.velocity({opacity:1},{duration:275,queue:!1,easing:"easeOutQuad"}),""!==n.data("caption")){var _=e('<div class="materialbox-caption"></div>');_.text(n.data("caption")),e("body").append(_),_.css({display:"inline"}),_.velocity({opacity:1},{duration:275,queue:!1,easing:"easeOutQuad"})}var f=0,h=0;l/d>p/c?(f=.9*d,h=.9*d*(p/l)):(f=.9*c*(l/p),h=.9*c),n.hasClass("responsive-img")?n.velocity({"max-width":f,width:l},{duration:0,queue:!1,complete:function(){n.css({left:0,top:0}).velocity({height:h,width:f,left:e(document).scrollLeft()+d/2-n.parent(".material-placeholder").offset().left-f/2,top:e(document).scrollTop()+c/2-n.parent(".material-placeholder").offset().top-h/2},{duration:275,queue:!1,easing:"easeOutQuad",complete:function(){s=!0}})}}):n.css("left",0).css("top",0).velocity({height:h,width:f,left:e(document).scrollLeft()+d/2-n.parent(".material-placeholder").offset().left-f/2,top:e(document).scrollTop()+c/2-n.parent(".material-placeholder").offset().top-h/2},{duration:275,queue:!1,easing:"easeOutQuad",complete:function(){s=!0}}),e(window).on("scroll.materialbox",(function(){o&&t()})),e(window).on("resize.materialbox",(function(){o&&t()})),e(document).on("keyup.materialbox",(function(e){27===e.keyCode&&!0===s&&o&&t()}))}))}}))},e(document).ready((function(){e(".materialboxed").materialbox()}))}(jQuery),function(e){e.fn.parallax=function(){var t=e(window).width();return this.each((function(i){function a(i){var a;a=t<601?o.height()>0?o.height():o.children("img").height():o.height()>0?o.height():500;var s=o.children("img").first(),r=s.height()-a,n=o.offset().top+a,d=o.offset().top,c=e(window).scrollTop(),l=window.innerHeight,p=(c+l-d)/(a+l),m=Math.round(r*p);i&&s.css("display","block"),n>c&&d<c+l&&s.css("transform","translate3D(-50%,"+m+"px, 0)")}var o=e(this);o.addClass("parallax"),o.children("img").one("load",(function(){a(!0)})).each((function(){this.complete&&e(this).trigger("load")})),e(window).scroll((function(){t=e(window).width(),a(!1)})),e(window).resize((function(){t=e(window).width(),a(!1)}))}))}}(jQuery),function(e){var t={init:function(t){t=e.extend({onShow:null,swipeable:!1,responsiveThreshold:1/0},t);var i=Materialize.objectSelectorString(e(this));return this.each((function(a){var o,s,r,n,d=i+a,c=e(this),l=e(window).width(),p=c.find("li.tab a"),m=c.width(),u=e(),g=Math.max(m,c[0].scrollWidth)/p.length,_=prev_index=0,f=!1,h=function(e){return Math.ceil(m-e.position().left-e[0].getBoundingClientRect().width-c.scrollLeft())},b=function(e){return Math.floor(e.position().left+c.scrollLeft())},v=function(e){_-e>=0?(n.velocity({right:h(o)},{duration:300,queue:!1,easing:"easeOutQuad"}),n.velocity({left:b(o)},{duration:300,queue:!1,easing:"easeOutQuad",delay:90})):(n.velocity({left:b(o)},{duration:300,queue:!1,easing:"easeOutQuad"}),n.velocity({right:h(o)},{duration:300,queue:!1,easing:"easeOutQuad",delay:90}))};t.swipeable&&l>t.responsiveThreshold&&(t.swipeable=!1),0===(o=e(p.filter('[href="'+location.hash+'"]'))).length&&(o=e(this).find("li.tab a.active").first()),0===o.length&&(o=e(this).find("li.tab a").first()),o.addClass("active"),(_=p.index(o))<0&&(_=0),void 0!==o[0]&&(s=e(o[0].hash)).addClass("active"),c.find(".indicator").length||c.append('<li class="indicator"></li>'),n=c.find(".indicator"),c.append(n),c.is(":visible")&&setTimeout((function(){n.css({right:h(o)}),n.css({left:b(o)})}),0),e(window).off("resize.tabs-"+d).on("resize.tabs-"+d,(function(){m=c.width(),g=Math.max(m,c[0].scrollWidth)/p.length,_<0&&(_=0),0!==g&&0!==m&&(n.css({right:h(o)}),n.css({left:b(o)}))})),t.swipeable?(p.each((function(){var t=e(Materialize.escapeHash(this.hash));t.addClass("carousel-item"),u=u.add(t)})),r=u.wrapAll('<div class="tabs-content carousel"></div>'),u.css("display",""),e(".tabs-content.carousel").carousel({fullWidth:!0,noWrap:!0,onCycleTo:function(e){if(!f){var i=_;_=r.index(e),o.removeClass("active"),(o=p.eq(_)).addClass("active"),v(i),"function"==typeof t.onShow&&t.onShow.call(c[0],s)}}})):p.not(o).each((function(){e(Materialize.escapeHash(this.hash)).hide()})),c.off("click.tabs").on("click.tabs","a",(function(i){if(e(this).parent().hasClass("disabled"))i.preventDefault();else if(!e(this).attr("target")){f=!0,m=c.width(),g=Math.max(m,c[0].scrollWidth)/p.length,o.removeClass("active");var a=s;o=e(this),s=e(Materialize.escapeHash(this.hash)),p=c.find("li.tab a"),o.position(),o.addClass("active"),prev_index=_,(_=p.index(e(this)))<0&&(_=0),t.swipeable?u.length&&u.carousel("set",_,(function(){"function"==typeof t.onShow&&t.onShow.call(c[0],s)})):(void 0!==s&&(s.show(),s.addClass("active"),"function"==typeof t.onShow&&t.onShow.call(this,s)),void 0===a||a.is(s)||(a.hide(),a.removeClass("active"))),setTimeout((function(){f=!1}),300),v(prev_index),i.preventDefault()}}))}))},select_tab:function(e){this.find('a[href="#'+e+'"]').trigger("click")}};e.fn.tabs=function(i){return t[i]?t[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void e.error("Method "+i+" does not exist on jQuery.tabs"):t.init.apply(this,arguments)},e(document).ready((function(){e("ul.tabs").tabs()}))}(jQuery),function(e){e.fn.tooltip=function(i){return"remove"===i?(this.each((function(){e("#"+e(this).attr("data-tooltip-id")).remove(),e(this).removeAttr("data-tooltip-id"),e(this).off("mouseenter.tooltip mouseleave.tooltip")})),!1):(i=e.extend({delay:350,tooltip:"",position:"bottom",html:!1},i),this.each((function(){var a=Materialize.guid(),o=e(this);o.attr("data-tooltip-id")&&e("#"+o.attr("data-tooltip-id")).remove(),o.attr("data-tooltip-id",a);var s,r,n,d,c,l,p=function(){s=o.attr("data-html")?"true"===o.attr("data-html"):i.html,r=void 0===(r=o.attr("data-delay"))||""===r?i.delay:r,n=void 0===(n=o.attr("data-position"))||""===n?i.position:n,d=void 0===(d=o.attr("data-tooltip"))||""===d?i.tooltip:d};p(),c=function(){var t=e('<div class="material-tooltip"></div>');return d=s?e("<span></span>").html(d):e("<span></span>").text(d),t.append(d).appendTo(e("body")).attr("id",a),(l=e('<div class="backdrop"></div>')).appendTo(t),t}(),o.off("mouseenter.tooltip mouseleave.tooltip");var m,u=!1;o.on({"mouseenter.tooltip":function(e){m=setTimeout((function(){p(),u=!0,c.velocity("stop"),l.velocity("stop"),c.css({visibility:"visible",left:"0px",top:"0px"});var e,i,a,s,r,d,m=o.outerWidth(),g=o.outerHeight(),_=c.outerHeight(),f=c.outerWidth(),h="0px",b="0px",v=l[0].offsetWidth,y=l[0].offsetHeight;"top"===n?(e=o.offset().top-_-5,i=o.offset().left+m/2-f/2,a=t(i,e,f,_),h="-10px",l.css({bottom:0,left:0,borderRadius:"14px 14px 0 0",transformOrigin:"50% 100%",marginTop:_,marginLeft:f/2-v/2})):"left"===n?(e=o.offset().top+g/2-_/2,i=o.offset().left-f-5,a=t(i,e,f,_),b="-10px",l.css({top:"-7px",right:0,width:"14px",height:"14px",borderRadius:"14px 0 0 14px",transformOrigin:"95% 50%",marginTop:_/2,marginLeft:f})):"right"===n?(e=o.offset().top+g/2-_/2,i=o.offset().left+m+5,a=t(i,e,f,_),b="+10px",l.css({top:"-7px",left:0,width:"14px",height:"14px",borderRadius:"0 14px 14px 0",transformOrigin:"5% 50%",marginTop:_/2,marginLeft:"0px"})):(e=o.offset().top+o.outerHeight()+5,i=o.offset().left+m/2-f/2,a=t(i,e,f,_),h="+10px",l.css({top:0,left:0,marginLeft:f/2-v/2})),c.css({top:a.y,left:a.x}),s=Math.SQRT2*f/parseInt(v),r=Math.SQRT2*_/parseInt(y),d=Math.max(s,r),c.velocity({translateY:h,translateX:b},{duration:350,queue:!1}).velocity({opacity:1},{duration:300,delay:50,queue:!1}),l.css({visibility:"visible"}).velocity({opacity:1},{duration:55,delay:0,queue:!1}).velocity({scaleX:d,scaleY:d},{duration:300,delay:0,queue:!1,easing:"easeInOutQuad"})}),r)},"mouseleave.tooltip":function(){u=!1,clearTimeout(m),setTimeout((function(){!0!==u&&(c.velocity({opacity:0,translateY:0,translateX:0},{duration:225,queue:!1}),l.velocity({opacity:0,scaleX:1,scaleY:1},{duration:225,queue:!1,complete:function(){l.css({visibility:"hidden"}),c.css({visibility:"hidden"}),u=!1}}))}),225)}})})))};var t=function(t,i,a,o){var s=t,r=i;return s<0?s=4:s+a>window.innerWidth&&(s-=s+a-window.innerWidth),r<0?r=4:r+o>window.innerHeight+e(window).scrollTop&&(r-=r+o-window.innerHeight),{x:s,y:r}};e(document).ready((function(){e(".tooltipped").tooltip()}))}(jQuery),function(e){"use strict";function t(e){return function(e){return null!==e&&e===e.window}(e)?e:9===e.nodeType&&e.defaultView}function i(e){var i,a,o={top:0,left:0},s=e&&e.ownerDocument;return i=s.documentElement,void 0!==e.getBoundingClientRect&&(o=e.getBoundingClientRect()),a=t(s),{top:o.top+a.pageYOffset-i.clientTop,left:o.left+a.pageXOffset-i.clientLeft}}function a(e){var t="";for(var i in e)e.hasOwnProperty(i)&&(t+=i+":"+e[i]+";");return t}function o(t){var i=function(e){if(!1===d.allowEvent(e))return null;for(var t=null,i=e.target||e.srcElement;null!==i.parentNode;){if(!(i instanceof SVGElement)&&-1!==i.className.indexOf("waves-effect")){t=i;break}i=i.parentNode}return t}(t);null!==i&&(n.show(t,i),"ontouchstart"in e&&(i.addEventListener("touchend",n.hide,!1),i.addEventListener("touchcancel",n.hide,!1)),i.addEventListener("mouseup",n.hide,!1),i.addEventListener("mouseleave",n.hide,!1),i.addEventListener("dragend",n.hide,!1))}var s=s||{},r=document.querySelectorAll.bind(document),n={duration:750,show:function(e,t){if(2===e.button)return!1;var o=t||this,s=document.createElement("div");s.className="waves-ripple",o.appendChild(s);var r=i(o),d=e.pageY-r.top,c=e.pageX-r.left,l="scale("+o.clientWidth/100*10+")";"touches"in e&&(d=e.touches[0].pageY-r.top,c=e.touches[0].pageX-r.left),s.setAttribute("data-hold",Date.now()),s.setAttribute("data-scale",l),s.setAttribute("data-x",c),s.setAttribute("data-y",d);var p={top:d+"px",left:c+"px"};s.className=s.className+" waves-notransition",s.setAttribute("style",a(p)),s.className=s.className.replace("waves-notransition",""),p["-webkit-transform"]=l,p["-moz-transform"]=l,p["-ms-transform"]=l,p["-o-transform"]=l,p.transform=l,p.opacity="1",p["-webkit-transition-duration"]=n.duration+"ms",p["-moz-transition-duration"]=n.duration+"ms",p["-o-transition-duration"]=n.duration+"ms",p["transition-duration"]=n.duration+"ms",p["-webkit-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",p["-moz-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",p["-o-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",p["transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",s.setAttribute("style",a(p))},hide:function(e){d.touchup(e);var t=this,i=(t.clientWidth,null),o=t.getElementsByClassName("waves-ripple");if(!(o.length>0))return!1;var s=(i=o[o.length-1]).getAttribute("data-x"),r=i.getAttribute("data-y"),c=i.getAttribute("data-scale"),l=350-(Date.now()-Number(i.getAttribute("data-hold")));l<0&&(l=0),setTimeout((function(){var e={top:r+"px",left:s+"px",opacity:"0","-webkit-transition-duration":n.duration+"ms","-moz-transition-duration":n.duration+"ms","-o-transition-duration":n.duration+"ms","transition-duration":n.duration+"ms","-webkit-transform":c,"-moz-transform":c,"-ms-transform":c,"-o-transform":c,transform:c};i.setAttribute("style",a(e)),setTimeout((function(){try{t.removeChild(i)}catch(e){return!1}}),n.duration)}),l)},wrapInput:function(e){for(var t=0;t<e.length;t++){var i=e[t];if("input"===i.tagName.toLowerCase()){var a=i.parentNode;if("i"===a.tagName.toLowerCase()&&-1!==a.className.indexOf("waves-effect"))continue;var o=document.createElement("i");o.className=i.className+" waves-input-wrapper";var s=i.getAttribute("style");s||(s=""),o.setAttribute("style",s),i.className="waves-button-input",i.removeAttribute("style"),a.replaceChild(o,i),o.appendChild(i)}}}},d={touches:0,allowEvent:function(e){var t=!0;return"touchstart"===e.type?d.touches+=1:"touchend"===e.type||"touchcancel"===e.type?setTimeout((function(){d.touches>0&&(d.touches-=1)}),500):"mousedown"===e.type&&d.touches>0&&(t=!1),t},touchup:function(e){d.allowEvent(e)}};s.displayEffect=function(t){"duration"in(t=t||{})&&(n.duration=t.duration),n.wrapInput(r(".waves-effect")),"ontouchstart"in e&&document.body.addEventListener("touchstart",o,!1),document.body.addEventListener("mousedown",o,!1)},s.attach=function(t){"input"===t.tagName.toLowerCase()&&(n.wrapInput([t]),t=t.parentNode),"ontouchstart"in e&&t.addEventListener("touchstart",o,!1),t.addEventListener("mousedown",o,!1)},e.Waves=s,document.addEventListener("DOMContentLoaded",(function(){s.displayEffect()}),!1)}(window),function(e){"use strict";var t={displayLength:1/0,inDuration:300,outDuration:375,className:void 0,completeCallback:void 0,activationPercent:.8},i=function(){function i(t,a,o,s){if(_classCallCheck(this,i),t){this.options={displayLength:a,className:o,completeCallback:s},this.options=e.extend({},i.defaults,this.options),this.message=t,this.panning=!1,this.timeRemaining=this.options.displayLength,0===i._toasts.length&&i._createContainer(),i._toasts.push(this);var r=this.createToast();r.M_Toast=this,this.el=r,this._animateIn(),this.setTimer()}}return _createClass(i,[{key:"createToast",value:function(){var t=document.createElement("div");if(t.classList.add("toast"),this.options.className){var a,o=this.options.className.split(" "),s=void 0;for(s=0,a=o.length;s<a;s++)t.classList.add(o[s])}return("object"==typeof HTMLElement?this.message instanceof HTMLElement:this.message&&"object"==typeof this.message&&null!==this.message&&1===this.message.nodeType&&"string"==typeof this.message.nodeName)?t.appendChild(this.message):this.message instanceof jQuery?e(t).append(this.message):t.innerHTML=this.message,i._container.appendChild(t),t}},{key:"_animateIn",value:function(){Vel(this.el,{top:0,opacity:1},{duration:300,easing:"easeOutCubic",queue:!1})}},{key:"setTimer",value:function(){var e=this;this.timeRemaining!==1/0&&(this.counterInterval=setInterval((function(){e.panning||(e.timeRemaining-=20),e.timeRemaining<=0&&e.remove()}),20))}},{key:"remove",value:function(){var e=this;window.clearInterval(this.counterInterval);var t=this.el.offsetWidth*this.options.activationPercent;this.wasSwiped&&(this.el.style.transition="transform .05s, opacity .05s",this.el.style.transform="translateX("+t+"px)",this.el.style.opacity=0),Vel(this.el,{opacity:0,marginTop:"-40px"},{duration:this.options.outDuration,easing:"easeOutExpo",queue:!1,complete:function(){"function"==typeof e.options.completeCallback&&e.options.completeCallback(),e.el.parentNode.removeChild(e.el),i._toasts.splice(i._toasts.indexOf(e),1),0===i._toasts.length&&i._removeContainer()}})}}],[{key:"_createContainer",value:function(){var e=document.createElement("div");e.setAttribute("id","toast-container"),e.addEventListener("touchstart",i._onDragStart),e.addEventListener("touchmove",i._onDragMove),e.addEventListener("touchend",i._onDragEnd),e.addEventListener("mousedown",i._onDragStart),document.addEventListener("mousemove",i._onDragMove),document.addEventListener("mouseup",i._onDragEnd),document.body.appendChild(e),i._container=e}},{key:"_removeContainer",value:function(){document.removeEventListener("mousemove",i._onDragMove),document.removeEventListener("mouseup",i._onDragEnd),i._container.parentNode.removeChild(i._container),i._container=null}},{key:"_onDragStart",value:function(t){if(t.target&&e(t.target).closest(".toast").length){var a=e(t.target).closest(".toast")[0].M_Toast;a.panning=!0,i._draggedToast=a,a.el.classList.add("panning"),a.el.style.transition=null,a.startingXPos=i._xPos(t),a.time=Date.now(),a.xPos=i._xPos(t)}}},{key:"_onDragMove",value:function(e){if(i._draggedToast){e.preventDefault();var t=i._draggedToast;t.deltaX=Math.abs(t.xPos-i._xPos(e)),t.xPos=i._xPos(e),t.velocityX=t.deltaX/(Date.now()-t.time),t.time=Date.now();var a=t.xPos-t.startingXPos,o=t.el.offsetWidth*t.options.activationPercent;t.el.style.transform="translateX("+a+"px)",t.el.style.opacity=1-Math.abs(a/o)}}},{key:"_onDragEnd",value:function(e){if(i._draggedToast){var t=i._draggedToast;t.panning=!1,t.el.classList.remove("panning");var a=t.xPos-t.startingXPos,o=t.el.offsetWidth*t.options.activationPercent;Math.abs(a)>o||t.velocityX>1?(t.wasSwiped=!0,t.remove()):(t.el.style.transition="transform .2s, opacity .2s",t.el.style.transform=null,t.el.style.opacity=null),i._draggedToast=null}}},{key:"_xPos",value:function(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}},{key:"removeAll",value:function(){for(var e in i._toasts)i._toasts[e].remove()}},{key:"defaults",get:function(){return t}}]),i}();i._toasts=[],i._container=null,i._draggedToast=null,window.Materialize.Toast=i,window.Materialize.toast=function(e,t,a,o){return new i(e,t,a,o)}}(jQuery),function(e){var t={init:function(t){t=e.extend({menuWidth:300,edge:"left",closeOnClick:!1,draggable:!0,onOpen:null,onClose:null},t),e(this).each((function(){var i=e(this),a=i.attr("data-activates"),o=e("#"+a);300!=t.menuWidth&&o.css("width",t.menuWidth);var s=e('.drag-target[data-sidenav="'+a+'"]');t.draggable?(s.length&&s.remove(),s=e('<div class="drag-target"></div>').attr("data-sidenav",a),e("body").append(s)):s=e(),"left"==t.edge?(o.css("transform","translateX(-100%)"),s.css({left:0})):(o.addClass("right-aligned").css("transform","translateX(100%)"),s.css({right:0})),o.hasClass("fixed")&&window.innerWidth>992&&o.css("transform","translateX(0)"),o.hasClass("fixed")&&e(window).resize((function(){window.innerWidth>992?0!==e("#sidenav-overlay").length&&n?r(!0):o.css("transform","translateX(0%)"):!1===n&&("left"===t.edge?o.css("transform","translateX(-100%)"):o.css("transform","translateX(100%)"))})),!0===t.closeOnClick&&o.on("click.itemclick","a:not(.collapsible-header)",(function(){window.innerWidth>992&&o.hasClass("fixed")||r()}));var r=function(i){!1,n=!1,e("body").css({overflow:"",width:""}),e("#sidenav-overlay").velocity({opacity:0},{duration:200,queue:!1,easing:"easeOutQuad",complete:function(){e(this).remove()}}),"left"===t.edge?(s.css({width:"",right:"",left:"0"}),o.velocity({translateX:"-100%"},{duration:200,queue:!1,easing:"easeOutCubic",complete:function(){!0===i&&(o.removeAttr("style"),o.css("width",t.menuWidth))}})):(s.css({width:"",right:"0",left:""}),o.velocity({translateX:"100%"},{duration:200,queue:!1,easing:"easeOutCubic",complete:function(){!0===i&&(o.removeAttr("style"),o.css("width",t.menuWidth))}})),"function"==typeof t.onClose&&t.onClose.call(this,o)},n=!1;t.draggable&&(s.on("click",(function(){n&&r()})),s.hammer({prevent_default:!1}).on("pan",(function(i){if("touch"==i.gesture.pointerType){i.gesture.direction;var a=i.gesture.center.x,s=i.gesture.center.y;if(i.gesture.velocityX,0===a&&0===s)return;var d,c=e("body"),l=e("#sidenav-overlay"),p=c.innerWidth();if(c.css("overflow","hidden"),c.width(p),0===l.length&&((l=e('<div id="sidenav-overlay"></div>')).css("opacity",0).click((function(){r()})),"function"==typeof t.onOpen&&t.onOpen.call(this,o),e("body").append(l)),"left"===t.edge&&(a>t.menuWidth?a=t.menuWidth:a<0&&(a=0)),"left"===t.edge)a<t.menuWidth/2?n=!1:a>=t.menuWidth/2&&(n=!0),o.css("transform","translateX("+(a-t.menuWidth)+"px)");else{a<window.innerWidth-t.menuWidth/2?n=!0:a>=window.innerWidth-t.menuWidth/2&&(n=!1);var m=a-t.menuWidth/2;m<0&&(m=0),o.css("transform","translateX("+m+"px)")}"left"===t.edge?(d=a/t.menuWidth,l.velocity({opacity:d},{duration:10,queue:!1,easing:"easeOutQuad"})):(d=Math.abs((a-window.innerWidth)/t.menuWidth),l.velocity({opacity:d},{duration:10,queue:!1,easing:"easeOutQuad"}))}})).on("panend",(function(i){if("touch"==i.gesture.pointerType){var a=e("#sidenav-overlay"),r=i.gesture.velocityX,d=i.gesture.center.x,c=d-t.menuWidth,l=d-t.menuWidth/2;c>0&&(c=0),l<0&&(l=0),!1,"left"===t.edge?n&&r<=.3||r<-.5?(0!==c&&o.velocity({translateX:[0,c]},{duration:300,queue:!1,easing:"easeOutQuad"}),a.velocity({opacity:1},{duration:50,queue:!1,easing:"easeOutQuad"}),s.css({width:"50%",right:0,left:""}),n=!0):(!n||r>.3)&&(e("body").css({overflow:"",width:""}),o.velocity({translateX:[-1*t.menuWidth-10,c]},{duration:200,queue:!1,easing:"easeOutQuad"}),a.velocity({opacity:0},{duration:200,queue:!1,easing:"easeOutQuad",complete:function(){"function"==typeof t.onClose&&t.onClose.call(this,o),e(this).remove()}}),s.css({width:"10px",right:"",left:0})):n&&r>=-.3||r>.5?(0!==l&&o.velocity({translateX:[0,l]},{duration:300,queue:!1,easing:"easeOutQuad"}),a.velocity({opacity:1},{duration:50,queue:!1,easing:"easeOutQuad"}),s.css({width:"50%",right:"",left:0}),n=!0):(!n||r<-.3)&&(e("body").css({overflow:"",width:""}),o.velocity({translateX:[t.menuWidth+10,l]},{duration:200,queue:!1,easing:"easeOutQuad"}),a.velocity({opacity:0},{duration:200,queue:!1,easing:"easeOutQuad",complete:function(){"function"==typeof t.onClose&&t.onClose.call(this,o),e(this).remove()}}),s.css({width:"10px",right:0,left:""}))}}))),i.off("click.sidenav").on("click.sidenav",(function(){if(!0===n)n=!1,!1,r();else{var i=e("body"),a=e('<div id="sidenav-overlay"></div>'),d=i.innerWidth();i.css("overflow","hidden"),i.width(d),e("body").append(s),"left"===t.edge?(s.css({width:"50%",right:0,left:""}),o.velocity({translateX:[0,-1*t.menuWidth]},{duration:300,queue:!1,easing:"easeOutQuad"})):(s.css({width:"50%",right:"",left:0}),o.velocity({translateX:[0,t.menuWidth]},{duration:300,queue:!1,easing:"easeOutQuad"})),a.css("opacity",0).click((function(){n=!1,!1,r(),a.velocity({opacity:0},{duration:300,queue:!1,easing:"easeOutQuad",complete:function(){e(this).remove()}})})),e("body").append(a),a.velocity({opacity:1},{duration:300,queue:!1,easing:"easeOutQuad",complete:function(){n=!0,!1}}),"function"==typeof t.onOpen&&t.onOpen.call(this,o)}return!1}))}))},destroy:function(){var t=e("#sidenav-overlay"),i=e('.drag-target[data-sidenav="'+e(this).attr("data-activates")+'"]');t.trigger("click"),i.remove(),e(this).off("click"),t.remove()},show:function(){this.trigger("click")},hide:function(){e("#sidenav-overlay").trigger("click")}};e.fn.sideNav=function(i){return t[i]?t[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void e.error("Method "+i+" does not exist on jQuery.sideNav"):t.init.apply(this,arguments)}}(jQuery),function(e){function t(t,i,a,o){var r=e();return e.each(s,(function(e,s){if(s.height()>0){var n=s.offset().top,d=s.offset().left,c=d+s.width(),l=n+s.height();!(d>i||c<o||n>a||l<t)&&r.push(s)}})),r}function i(i){++d;var a=o.scrollTop(),s=o.scrollLeft(),n=s+o.width(),l=a+o.height(),p=t(a+c.top+i||200,n+c.right,l+c.bottom,s+c.left);e.each(p,(function(e,t){"number"!=typeof t.data("scrollSpy:ticks")&&t.triggerHandler("scrollSpy:enter"),t.data("scrollSpy:ticks",d)})),e.each(r,(function(e,t){var i=t.data("scrollSpy:ticks");"number"==typeof i&&i!==d&&(t.triggerHandler("scrollSpy:exit"),t.data("scrollSpy:ticks",null))})),r=p}function a(){o.trigger("scrollSpy:winSize")}var o=e(window),s=[],r=[],n=!1,d=0,c={top:0,right:0,bottom:0,left:0};e.scrollSpy=function(t,a){a=e.extend({throttle:100,scrollOffset:200,activeClass:"active",getActiveElement:function(e){return'a[href="#'+e+'"]'}},a);var r=[];(t=e(t)).each((function(t,i){s.push(e(i)),e(i).data("scrollSpy:id",t),e('a[href="#'+e(i).attr("id")+'"]').click((function(t){t.preventDefault();var i=e(Materialize.escapeHash(this.hash)).offset().top+1;e("html, body").animate({scrollTop:i-a.scrollOffset},{duration:400,queue:!1,easing:"easeOutCubic"})}))})),c.top=a.offsetTop||0,c.right=a.offsetRight||0,c.bottom=a.offsetBottom||0,c.left=a.offsetLeft||0;var d=Materialize.throttle((function(){i(a.scrollOffset)}),a.throttle||100),l=function(){e(document).ready(d)};return n||(o.on("scroll",l),o.on("resize",l),n=!0),setTimeout(l,0),t.on("scrollSpy:enter",(function(){r=e.grep(r,(function(e){return 0!=e.height()}));var t=e(this);r[0]?(e(a.getActiveElement(r[0].attr("id"))).removeClass(a.activeClass),t.data("scrollSpy:id")<r[0].data("scrollSpy:id")?r.unshift(e(this)):r.push(e(this))):r.push(e(this)),e(a.getActiveElement(r[0].attr("id"))).addClass(a.activeClass)})),t.on("scrollSpy:exit",(function(){if((r=e.grep(r,(function(e){return 0!=e.height()})))[0]){e(a.getActiveElement(r[0].attr("id"))).removeClass(a.activeClass);var t=e(this);(r=e.grep(r,(function(e){return e.attr("id")!=t.attr("id")})))[0]&&e(a.getActiveElement(r[0].attr("id"))).addClass(a.activeClass)}})),t},e.winSizeSpy=function(t){return e.winSizeSpy=function(){return o},t=t||{throttle:100},o.on("resize",Materialize.throttle(a,t.throttle||100))},e.fn.scrollSpy=function(t){return e.scrollSpy(e(this),t)}}(jQuery),function(e){e(document).ready((function(){Materialize.updateTextFields=function(){e("input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], textarea").each((function(t,i){var a=e(this);e(i).val().length>0||e(i).is(":focus")||i.autofocus||void 0!==a.attr("placeholder")?a.siblings("label").addClass("active"):e(i)[0].validity?a.siblings("label").toggleClass("active",!0===e(i)[0].validity.badInput):a.siblings("label").removeClass("active")}))};var t="input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], textarea";e(document).on("change",t,(function(){0===e(this).val().length&&void 0===e(this).attr("placeholder")||e(this).siblings("label").addClass("active"),validate_field(e(this))})),e(document).ready((function(){Materialize.updateTextFields()})),e(document).on("reset",(function(i){var a=e(i.target);a.is("form")&&(a.find(t).removeClass("valid").removeClass("invalid"),a.find(t).each((function(){""===e(this).attr("value")&&e(this).siblings("label").removeClass("active")})),a.find("select.initialized").each((function(){var e=a.find("option[selected]").text();a.siblings("input.select-dropdown").val(e)})))})),e(document).on("focus",t,(function(){e(this).siblings("label, .prefix").addClass("active")})),e(document).on("blur",t,(function(){var t=e(this),i=".prefix";0===t.val().length&&!0!==t[0].validity.badInput&&void 0===t.attr("placeholder")&&(i+=", label"),t.siblings(i).removeClass("active"),validate_field(t)})),window.validate_field=function(e){var t=void 0!==e.attr("data-length"),i=parseInt(e.attr("data-length")),a=e.val().length;0!==e.val().length||!1!==e[0].validity.badInput||e.is(":required")?e.hasClass("validate")&&(e.is(":valid")&&t&&a<=i||e.is(":valid")&&!t?(e.removeClass("invalid"),e.addClass("valid")):(e.removeClass("valid"),e.addClass("invalid"))):e.hasClass("validate")&&(e.removeClass("valid"),e.removeClass("invalid"))},e(document).on("keyup.radio","input[type=radio], input[type=checkbox]",(function(t){if(9===t.which)return e(this).addClass("tabbed"),void e(this).one("blur",(function(t){e(this).removeClass("tabbed")}))}));var i=e(".hiddendiv").first();i.length||(i=e('<div class="hiddendiv common"></div>'),e("body").append(i)),e(".materialize-textarea").each((function(){var t=e(this);t.data("original-height",t.height()),t.data("previous-length",t.val().length)})),e("body").on("keyup keydown autoresize",".materialize-textarea",(function(){!function(t){var a=t.css("font-family"),o=t.css("font-size"),s=t.css("line-height"),r=t.css("padding");o&&i.css("font-size",o),a&&i.css("font-family",a),s&&i.css("line-height",s),r&&i.css("padding",r),t.data("original-height")||t.data("original-height",t.height()),"off"===t.attr("wrap")&&i.css("overflow-wrap","normal").css("white-space","pre"),i.text(t.val()+"\n");var n=i.html().replace(/\n/g,"<br>");i.html(n),t.is(":visible")?i.css("width",t.width()):i.css("width",e(window).width()/2),t.data("original-height")<=i.height()?t.css("height",i.height()):t.val().length<t.data("previous-length")&&t.css("height",t.data("original-height")),t.data("previous-length",t.val().length)}(e(this))})),e(document).on("change",'.file-field input[type="file"]',(function(){for(var t=e(this).closest(".file-field").find("input.file-path"),i=e(this)[0].files,a=[],o=0;o<i.length;o++)a.push(i[o].name);t.val(a.join(", ")),t.trigger("change")}));var a="input[type=range]",o=!1;e(a).each((function(){var t=e('<span class="thumb"><span class="value"></span></span>');e(this).after(t)}));var s=function(e){var t=-7+parseInt(e.parent().css("padding-left"))+"px";e.velocity({height:"30px",width:"30px",top:"-30px",marginLeft:t},{duration:300,easing:"easeOutExpo"})},r=function(e){var t=e.width()-15,i=parseFloat(e.attr("max")),a=parseFloat(e.attr("min"));return(parseFloat(e.val())-a)/(i-a)*t};e(document).on("change",a,(function(t){var i=e(this).siblings(".thumb");i.find(".value").html(e(this).val()),i.hasClass("active")||s(i);var a=r(e(this));i.addClass("active").css("left",a)})),e(document).on("mousedown touchstart",a,(function(t){var i=e(this).siblings(".thumb");if(i.length<=0&&(i=e('<span class="thumb"><span class="value"></span></span>'),e(this).after(i)),i.find(".value").html(e(this).val()),o=!0,e(this).addClass("active"),i.hasClass("active")||s(i),"input"!==t.type){var a=r(e(this));i.addClass("active").css("left",a)}})),e(document).on("mouseup touchend",".range-field",(function(){o=!1,e(this).removeClass("active")})),e(document).on("input mousemove touchmove",".range-field",(function(t){var i=e(this).children(".thumb"),n=e(this).find(a);if(o){i.hasClass("active")||s(i);var d=r(n);i.addClass("active").css("left",d),i.find(".value").html(i.siblings(a).val())}})),e(document).on("mouseout touchleave",".range-field",(function(){if(!o){var t=e(this).children(".thumb"),i=7+parseInt(e(this).css("padding-left"))+"px";t.hasClass("active")&&t.velocity({height:"0",width:"0",top:"10px",marginLeft:i},{duration:100}),t.removeClass("active")}})),e.fn.autocomplete=function(t){return t=e.extend({data:{},limit:1/0,onAutocomplete:null,minLength:1},t),this.each((function(){var i,a=e(this),o=t.data,s=0,r=-1,n=a.closest(".input-field");if(e.isEmptyObject(o))a.off("keyup.autocomplete focus.autocomplete");else{var d,c=e('<ul class="autocomplete-content dropdown-content"></ul>');n.length?(d=n.children(".autocomplete-content.dropdown-content").first()).length||n.append(c):(d=a.next(".autocomplete-content.dropdown-content")).length||a.after(c),d.length&&(c=d);var l=function(e,t){var i=t.find("img"),a=t.text().toLowerCase().indexOf(""+e.toLowerCase()),o=a+e.length-1,s=t.text().slice(0,a),r=t.text().slice(a,o+1),n=t.text().slice(o+1);t.html("<span>"+s+"<span class='highlight'>"+r+"</span>"+n+"</span>"),i.length&&t.prepend(i)},p=function(){c.empty(),r=-1,c.find(".active").removeClass("active"),i=void 0};a.off("blur.autocomplete").on("blur.autocomplete",(function(){p()})),a.off("keyup.autocomplete focus.autocomplete").on("keyup.autocomplete focus.autocomplete",(function(r){s=0;var n=a.val().toLowerCase();if(13!==r.which&&38!==r.which&&40!==r.which){if(i!==n&&(p(),n.length>=t.minLength))for(var d in o)if(o.hasOwnProperty(d)&&-1!==d.toLowerCase().indexOf(n)){if(s>=t.limit)break;var m=e("<li></li>");o[d]?m.append('<img src="'+o[d]+'" class="right circle"><span>'+d+"</span>"):m.append("<span>"+d+"</span>"),c.append(m),l(n,m),s++}i=n}})),a.off("keydown.autocomplete").on("keydown.autocomplete",(function(e){var t,i=e.which,a=c.children("li").length,o=c.children(".active").first();13===i&&r>=0?(t=c.children("li").eq(r)).length&&(t.trigger("mousedown.autocomplete"),e.preventDefault()):38!==i&&40!==i||(e.preventDefault(),38===i&&r>0&&r--,40===i&&r<a-1&&r++,o.removeClass("active"),r>=0&&c.children("li").eq(r).addClass("active"))})),c.off("mousedown.autocomplete touchstart.autocomplete").on("mousedown.autocomplete touchstart.autocomplete","li",(function(){var i=e(this).text().trim();a.val(i),a.trigger("change"),p(),"function"==typeof t.onAutocomplete&&t.onAutocomplete.call(this,i)}))}}))}})),e.fn.material_select=function(t){function i(e,t,i){var a=e.indexOf(t),o=-1===a;return o?e.push(t):e.splice(a,1),i.siblings("ul.dropdown-content").find("li:not(.optgroup)").eq(t).toggleClass("active"),i.find("option").eq(t).prop("selected",o),function(e,t){for(var i="",a=0,o=e.length;a<o;a++){var s=t.find("option").eq(e[a]).text();i+=0===a?s:", "+s}""===i&&(i=t.find("option:disabled").eq(0).text()),t.siblings("input.select-dropdown").val(i)}(e,i),o}e(this).each((function(){var a=e(this);if(!a.hasClass("browser-default")){var o=!!a.attr("multiple"),s=a.attr("data-select-id");if(s&&(a.parent().find("span.caret").remove(),a.parent().find("input").remove(),a.unwrap(),e("ul#select-options-"+s).remove()),"destroy"===t)return a.removeAttr("data-select-id").removeClass("initialized"),void e(window).off("click.select");var r=Materialize.guid();a.attr("data-select-id",r);var n=e('<div class="select-wrapper"></div>');n.addClass(a.attr("class")),a.is(":disabled")&&n.addClass("disabled");var d=e('<ul id="select-options-'+r+'" class="dropdown-content select-dropdown '+(o?"multiple-select-dropdown":"")+'"></ul>'),c=a.children("option, optgroup"),l=[],p=!1,m=a.find("option:selected").html()||a.find("option:first").html()||"",u=function(t,i,a){var s=i.is(":disabled")?"disabled ":"",r="optgroup-option"===a?"optgroup-option ":"",n=o?'<input type="checkbox"'+s+"/><label></label>":"",c=i.data("icon"),l=i.attr("class");if(c){var p="";return l&&(p=' class="'+l+'"'),d.append(e('<li class="'+s+r+'"><img alt="" src="'+c+'"'+p+"><span>"+n+i.html()+"</span></li>")),!0}d.append(e('<li class="'+s+r+'"><span>'+n+i.html()+"</span></li>"))};c.length&&c.each((function(){if(e(this).is("option"))o?u(0,e(this),"multiple"):u(0,e(this));else if(e(this).is("optgroup")){var t=e(this).children("option");d.append(e('<li class="optgroup"><span>'+e(this).attr("label")+"</span></li>")),t.each((function(){u(0,e(this),"optgroup-option")}))}})),d.find("li:not(.optgroup)").each((function(s){e(this).click((function(r){if(!e(this).hasClass("disabled")&&!e(this).hasClass("optgroup")){var n=!0;o?(e('input[type="checkbox"]',this).prop("checked",(function(e,t){return!t})),n=i(l,s,a),f.trigger("focus")):(d.find("li").removeClass("active"),e(this).toggleClass("active"),f.val(e(this).text())),h(d,e(this)),a.find("option").eq(s).prop("selected",n),a.trigger("change"),void 0!==t&&t()}r.stopPropagation()}))})),a.wrap(n);var g=e('<span class="caret">&#9660;</span>'),_=m.replace(/"/g,"&quot;"),f=e('<input type="text" class="select-dropdown" readonly="true" '+(a.is(":disabled")?"disabled":"")+' data-activates="select-options-'+r+'" value="'+_+'"/>');a.before(f),f.before(g),f.after(d),a.is(":disabled")||f.dropdown({hover:!1}),a.attr("tabindex")&&e(f[0]).attr("tabindex",a.attr("tabindex")),a.addClass("initialized"),f.on({focus:function(){if(e("ul.select-dropdown").not(d[0]).is(":visible")&&(e("input.select-dropdown").trigger("close"),e(window).off("click.select")),!d.is(":visible")){e(this).trigger("open",["focus"]);var t=e(this).val();o&&t.indexOf(",")>=0&&(t=t.split(",")[0]);var i=d.find("li").filter((function(){return e(this).text().toLowerCase()===t.toLowerCase()}))[0];h(d,i,!0),e(window).off("click.select").on("click.select",(function(){o&&(p||f.trigger("close")),e(window).off("click.select")}))}},click:function(e){e.stopPropagation()}}),f.on("blur",(function(){o||(e(this).trigger("close"),e(window).off("click.select")),d.find("li.selected").removeClass("selected")})),d.hover((function(){p=!0}),(function(){p=!1})),o&&a.find("option:selected:not(:disabled)").each((function(){var t=e(this).index();i(l,t,a),d.find("li").eq(t).find(":checkbox").prop("checked",!0)}));var h=function(t,i,a){if(i){t.find("li.selected").removeClass("selected");var s=e(i);s.addClass("selected"),o&&!a||d.scrollTo(s)}},b=[];f.on("keydown",(function(t){if(9!=t.which)if(40!=t.which||d.is(":visible")){if(13!=t.which||d.is(":visible")){t.preventDefault();var i=String.fromCharCode(t.which).toLowerCase();if(i&&-1===[9,13,27,38,40].indexOf(t.which)){b.push(i);var a=b.join(""),s=d.find("li").filter((function(){return 0===e(this).text().toLowerCase().indexOf(a)}))[0];s&&h(d,s)}if(13==t.which){var r=d.find("li.selected:not(.disabled)")[0];r&&(e(r).trigger("click"),o||f.trigger("close"))}40==t.which&&(s=d.find("li.selected").length?d.find("li.selected").next("li:not(.disabled)")[0]:d.find("li:not(.disabled)")[0],h(d,s)),27==t.which&&f.trigger("close"),38==t.which&&(s=d.find("li.selected").prev("li:not(.disabled)")[0])&&h(d,s),setTimeout((function(){b=[]}),1e3)}}else f.trigger("open");else f.trigger("close")}))}}))}}(jQuery),function(e){var t={init:function(t){return t=e.extend({indicators:!0,height:400,transition:500,interval:6e3},t),this.each((function(){function i(e,t){e.hasClass("center-align")?e.velocity({opacity:0,translateY:-100},{duration:t,queue:!1}):e.hasClass("right-align")?e.velocity({opacity:0,translateX:100},{duration:t,queue:!1}):e.hasClass("left-align")&&e.velocity({opacity:0,translateX:-100},{duration:t,queue:!1})}function a(e){e>=c.length?e=0:e<0&&(e=c.length-1),(l=d.find(".active").index())!=e&&(o=c.eq(l),$caption=o.find(".caption"),o.removeClass("active"),o.velocity({opacity:0},{duration:t.transition,queue:!1,easing:"easeOutQuad",complete:function(){c.not(".active").velocity({opacity:0,translateX:0,translateY:0},{duration:0,queue:!1})}}),i($caption,t.transition),t.indicators&&s.eq(l).removeClass("active"),c.eq(e).velocity({opacity:1},{duration:t.transition,queue:!1,easing:"easeOutQuad"}),c.eq(e).find(".caption").velocity({opacity:1,translateX:0,translateY:0},{duration:t.transition,delay:t.transition,queue:!1,easing:"easeOutQuad"}),c.eq(e).addClass("active"),t.indicators&&s.eq(e).addClass("active"))}var o,s,r,n=e(this),d=n.find("ul.slides").first(),c=d.find("> li"),l=d.find(".active").index();-1!=l&&(o=c.eq(l)),n.hasClass("fullscreen")||(t.indicators?n.height(t.height+40):n.height(t.height),d.height(t.height)),c.find(".caption").each((function(){i(e(this),0)})),c.find("img").each((function(){var t="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";e(this).attr("src")!==t&&(e(this).css("background-image",'url("'+e(this).attr("src")+'")'),e(this).attr("src",t))})),t.indicators&&(s=e('<ul class="indicators"></ul>'),c.each((function(i){var o=e('<li class="indicator-item"></li>');o.click((function(){a(d.parent().find(e(this)).index()),clearInterval(r),r=setInterval((function(){l=d.find(".active").index(),c.length==l+1?l=0:l+=1,a(l)}),t.transition+t.interval)})),s.append(o)})),n.append(s),s=n.find("ul.indicators").find("li.indicator-item")),o?o.show():(c.first().addClass("active").velocity({opacity:1},{duration:t.transition,queue:!1,easing:"easeOutQuad"}),l=0,o=c.eq(l),t.indicators&&s.eq(l).addClass("active")),o.find("img").each((function(){o.find(".caption").velocity({opacity:1,translateX:0,translateY:0},{duration:t.transition,queue:!1,easing:"easeOutQuad"})})),r=setInterval((function(){a((l=d.find(".active").index())+1)}),t.transition+t.interval);var p=!1,m=!1;n.hammer({prevent_default:!1}).on("pan",(function(e){if("touch"===e.gesture.pointerType){clearInterval(r);var t,i=e.gesture.direction,a=e.gesture.deltaX,o=e.gesture.velocityX,s=e.gesture.velocityY;$curr_slide=d.find(".active"),Math.abs(o)>Math.abs(s)&&$curr_slide.velocity({translateX:a},{duration:50,queue:!1,easing:"easeOutQuad"}),4===i&&(a>n.innerWidth()/2||o<-.65)?m=!0:2===i&&(a<-1*n.innerWidth()/2||o>.65)&&(p=!0),p&&(0===(t=$curr_slide.next()).length&&(t=c.first()),t.velocity({opacity:1},{duration:300,queue:!1,easing:"easeOutQuad"})),m&&(0===(t=$curr_slide.prev()).length&&(t=c.last()),t.velocity({opacity:1},{duration:300,queue:!1,easing:"easeOutQuad"}))}})).on("panend",(function(e){"touch"===e.gesture.pointerType&&($curr_slide=d.find(".active"),!1,curr_index=d.find(".active").index(),!m&&!p||c.length<=1?$curr_slide.velocity({translateX:0},{duration:300,queue:!1,easing:"easeOutQuad"}):p?(a(curr_index+1),$curr_slide.velocity({translateX:-1*n.innerWidth()},{duration:300,queue:!1,easing:"easeOutQuad",complete:function(){$curr_slide.velocity({opacity:0,translateX:0},{duration:0,queue:!1})}})):m&&(a(curr_index-1),$curr_slide.velocity({translateX:n.innerWidth()},{duration:300,queue:!1,easing:"easeOutQuad",complete:function(){$curr_slide.velocity({opacity:0,translateX:0},{duration:0,queue:!1})}})),p=!1,m=!1,clearInterval(r),r=setInterval((function(){l=d.find(".active").index(),c.length==l+1?l=0:l+=1,a(l)}),t.transition+t.interval))})),n.on("sliderPause",(function(){clearInterval(r)})),n.on("sliderStart",(function(){clearInterval(r),r=setInterval((function(){l=d.find(".active").index(),c.length==l+1?l=0:l+=1,a(l)}),t.transition+t.interval)})),n.on("sliderNext",(function(){a((l=d.find(".active").index())+1)})),n.on("sliderPrev",(function(){a((l=d.find(".active").index())-1)}))}))},pause:function(){e(this).trigger("sliderPause")},start:function(){e(this).trigger("sliderStart")},next:function(){e(this).trigger("sliderNext")},prev:function(){e(this).trigger("sliderPrev")}};e.fn.slider=function(i){return t[i]?t[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void e.error("Method "+i+" does not exist on jQuery.tooltip"):t.init.apply(this,arguments)}}(jQuery),function(e){e(document).ready((function(){e(document).on("click.card",".card",(function(t){if(e(this).find("> .card-reveal").length){var i=e(t.target).closest(".card");void 0===i.data("initialOverflow")&&i.data("initialOverflow",void 0===i.css("overflow")?"":i.css("overflow")),e(t.target).is(e(".card-reveal .card-title"))||e(t.target).is(e(".card-reveal .card-title i"))?e(this).find(".card-reveal").velocity({translateY:0},{duration:225,queue:!1,easing:"easeInOutQuad",complete:function(){e(this).css({display:"none"}),i.css("overflow",i.data("initialOverflow"))}}):(e(t.target).is(e(".card .activator"))||e(t.target).is(e(".card .activator i")))&&(i.css("overflow","hidden"),e(this).find(".card-reveal").css({display:"block"}).velocity("stop",!1).velocity({translateY:"-100%"},{duration:300,queue:!1,easing:"easeInOutQuad"}))}}))}))}(jQuery),function(e){var t={data:[],placeholder:"",secondaryPlaceholder:"",autocompleteOptions:{}};e(document).ready((function(){e(document).on("click",".chip .close",(function(t){e(this).closest(".chips").attr("data-initialized")||e(this).closest(".chip").remove()}))})),e.fn.material_chip=function(i){var a=this;if(this.$el=e(this),this.$document=e(document),this.SELS={CHIPS:".chips",CHIP:".chip",INPUT:"input",DELETE:".material-icons",SELECTED_CHIP:".selected"},"data"===i)return this.$el.data("chips");var o=e.extend({},t,i);a.hasAutocomplete=!e.isEmptyObject(o.autocompleteOptions.data),this.init=function(){var t=0;a.$el.each((function(){var i=e(this),s=Materialize.guid();a.chipId=s,o.data&&o.data instanceof Array||(o.data=[]),i.data("chips",o.data),i.attr("data-index",t),i.attr("data-initialized",!0),i.hasClass(a.SELS.CHIPS)||i.addClass("chips"),a.chips(i,s),t++}))},this.handleEvents=function(){var t=a.SELS;a.$document.off("click.chips-focus",t.CHIPS).on("click.chips-focus",t.CHIPS,(function(i){e(i.target).find(t.INPUT).focus()})),a.$document.off("click.chips-select",t.CHIP).on("click.chips-select",t.CHIP,(function(i){var o=e(i.target);if(o.length){var s=o.hasClass("selected"),r=o.closest(t.CHIPS);e(t.CHIP).removeClass("selected"),s||a.selectChip(o.index(),r)}})),a.$document.off("keydown.chips").on("keydown.chips",(function(i){if(!e(i.target).is("input, textarea")){var o,s=a.$document.find(t.CHIP+t.SELECTED_CHIP),r=s.closest(t.CHIPS),n=s.siblings(t.CHIP).length;if(s.length)if(8===i.which||46===i.which){i.preventDefault(),o=s.index(),a.deleteChip(o,r);var d=null;o+1<n?d=o:o!==n&&o+1!==n||(d=n-1),d<0&&(d=null),null!==d&&a.selectChip(d,r),n||r.find("input").focus()}else if(37===i.which){if((o=s.index()-1)<0)return;e(t.CHIP).removeClass("selected"),a.selectChip(o,r)}else if(39===i.which){if(o=s.index()+1,e(t.CHIP).removeClass("selected"),o>n)return void r.find("input").focus();a.selectChip(o,r)}}})),a.$document.off("focusin.chips",t.CHIPS+" "+t.INPUT).on("focusin.chips",t.CHIPS+" "+t.INPUT,(function(i){var a=e(i.target).closest(t.CHIPS);a.addClass("focus"),a.siblings("label, .prefix").addClass("active"),e(t.CHIP).removeClass("selected")})),a.$document.off("focusout.chips",t.CHIPS+" "+t.INPUT).on("focusout.chips",t.CHIPS+" "+t.INPUT,(function(i){var a=e(i.target).closest(t.CHIPS);a.removeClass("focus"),void 0!==a.data("chips")&&a.data("chips").length||a.siblings("label").removeClass("active"),a.siblings(".prefix").removeClass("active")})),a.$document.off("keydown.chips-add",t.CHIPS+" "+t.INPUT).on("keydown.chips-add",t.CHIPS+" "+t.INPUT,(function(i){var o=e(i.target),s=o.closest(t.CHIPS),r=s.children(t.CHIP).length;if(13===i.which){if(a.hasAutocomplete&&s.find(".autocomplete-content.dropdown-content").length&&s.find(".autocomplete-content.dropdown-content").children().length)return;return i.preventDefault(),a.addChip({tag:o.val()},s),void o.val("")}if((8===i.keyCode||37===i.keyCode)&&""===o.val()&&r)return i.preventDefault(),a.selectChip(r-1,s),void o.blur()})),a.$document.off("click.chips-delete",t.CHIPS+" "+t.DELETE).on("click.chips-delete",t.CHIPS+" "+t.DELETE,(function(i){var o=e(i.target),s=o.closest(t.CHIPS),r=o.closest(t.CHIP);i.stopPropagation(),a.deleteChip(r.index(),s),s.find("input").focus()}))},this.chips=function(t,i){t.empty(),t.data("chips").forEach((function(e){t.append(a.renderChip(e))})),t.append(e('<input id="'+i+'" class="input" placeholder="">')),a.setPlaceholder(t);var s=t.next("label");s.length&&(s.attr("for",i),void 0!==t.data("chips")&&t.data("chips").length&&s.addClass("active"));var r=e("#"+i);a.hasAutocomplete&&(o.autocompleteOptions.onAutocomplete=function(e){a.addChip({tag:e},t),r.val(""),r.focus()},r.autocomplete(o.autocompleteOptions))},this.renderChip=function(t){if(t.tag){var i=e('<div class="chip"></div>');return i.text(t.tag),t.image&&i.prepend(e("<img />").attr("src",t.image)),i.append(e('<i class="material-icons close">close</i>')),i}},this.setPlaceholder=function(e){void 0!==e.data("chips")&&!e.data("chips").length&&o.placeholder?e.find("input").prop("placeholder",o.placeholder):(void 0===e.data("chips")||e.data("chips").length)&&o.secondaryPlaceholder&&e.find("input").prop("placeholder",o.secondaryPlaceholder)},this.isValid=function(e,t){for(var i=e.data("chips"),a=!1,o=0;o<i.length;o++)if(i[o].tag===t.tag)return void(a=!0);return""!==t.tag&&!a},this.addChip=function(e,t){if(a.isValid(t,e)){for(var i=a.renderChip(e),o=[],s=t.data("chips"),r=0;r<s.length;r++)o.push(s[r]);o.push(e),t.data("chips",o),i.insertBefore(t.find("input")),t.trigger("chip.add",e),a.setPlaceholder(t)}},this.deleteChip=function(e,t){var i=t.data("chips")[e];t.find(".chip").eq(e).remove();for(var o=[],s=t.data("chips"),r=0;r<s.length;r++)r!==e&&o.push(s[r]);t.data("chips",o),t.trigger("chip.delete",i),a.setPlaceholder(t)},this.selectChip=function(e,t){var i=t.find(".chip").eq(e);i&&!1===i.hasClass("selected")&&(i.addClass("selected"),t.trigger("chip.select",t.data("chips")[e]))},this.getChipsElement=function(e,t){return t.eq(e)},this.init(),this.handleEvents()}}(jQuery),function(e){e.fn.pushpin=function(t){return"remove"===t?(this.each((function(){(id=e(this).data("pushpin-id"))&&(e(window).off("scroll."+id),e(this).removeData("pushpin-id").removeClass("pin-top pinned pin-bottom").removeAttr("style"))})),!1):(t=e.extend({top:0,bottom:1/0,offset:0},t),$index=0,this.each((function(){function i(e){e.removeClass("pin-top"),e.removeClass("pinned"),e.removeClass("pin-bottom")}function a(a,o){a.each((function(){t.top<=o&&t.bottom>=o&&!e(this).hasClass("pinned")&&(i(e(this)),e(this).css("top",t.offset),e(this).addClass("pinned")),o<t.top&&!e(this).hasClass("pin-top")&&(i(e(this)),e(this).css("top",0),e(this).addClass("pin-top")),o>t.bottom&&!e(this).hasClass("pin-bottom")&&(i(e(this)),e(this).addClass("pin-bottom"),e(this).css("top",t.bottom-r))}))}var o=Materialize.guid(),s=e(this),r=e(this).offset().top;e(this).data("pushpin-id",o),a(s,e(window).scrollTop()),e(window).on("scroll."+o,(function(){var i=e(window).scrollTop()+t.offset;a(s,i)}))})))}}(jQuery),function(e){e(document).ready((function(){e.fn.reverse=[].reverse,e(document).on("mouseenter.fixedActionBtn",".fixed-action-btn:not(.click-to-toggle):not(.toolbar)",(function(i){var a=e(this);t(a)})),e(document).on("mouseleave.fixedActionBtn",".fixed-action-btn:not(.click-to-toggle):not(.toolbar)",(function(t){var a=e(this);i(a)})),e(document).on("click.fabClickToggle",".fixed-action-btn.click-to-toggle > a",(function(a){var o=e(this).parent();o.hasClass("active")?i(o):t(o)})),e(document).on("click.fabToolbar",".fixed-action-btn.toolbar > a",(function(t){var i=e(this).parent();a(i)}))})),e.fn.extend({openFAB:function(){t(e(this))},closeFAB:function(){i(e(this))},openToolbar:function(){a(e(this))},closeToolbar:function(){o(e(this))}});var t=function(t){var i=t;if(!1===i.hasClass("active")){var a,o;!0===i.hasClass("horizontal")?o=40:a=40,i.addClass("active"),i.find("ul .btn-floating").velocity({scaleY:".4",scaleX:".4",translateY:a+"px",translateX:o+"px"},{duration:0});var s=0;i.find("ul .btn-floating").reverse().each((function(){e(this).velocity({opacity:"1",scaleX:"1",scaleY:"1",translateY:"0",translateX:"0"},{duration:80,delay:s}),s+=40}))}},i=function(e){var t,i,a=e;!0===a.hasClass("horizontal")?i=40:t=40,a.removeClass("active"),a.find("ul .btn-floating").velocity("stop",!0),a.find("ul .btn-floating").velocity({opacity:"0",scaleX:".4",scaleY:".4",translateY:t+"px",translateX:i+"px"},{duration:80})},a=function(t){if("true"!==t.attr("data-open")){var i,a,s,r=window.innerWidth,n=window.innerHeight,d=t[0].getBoundingClientRect(),c=t.find("> a").first(),l=t.find("> ul").first(),p=e('<div class="fab-backdrop"></div>'),m=c.css("background-color");c.append(p),i=d.left-r/2+d.width/2,a=n-d.bottom,s=r/p.width(),t.attr("data-origin-bottom",d.bottom),t.attr("data-origin-left",d.left),t.attr("data-origin-width",d.width),t.addClass("active"),t.attr("data-open",!0),t.css({"text-align":"center",width:"100%",bottom:0,left:0,transform:"translateX("+i+"px)",transition:"none"}),c.css({transform:"translateY("+-a+"px)",transition:"none"}),p.css({"background-color":m}),setTimeout((function(){t.css({transform:"",transition:"transform .2s cubic-bezier(0.550, 0.085, 0.680, 0.530), background-color 0s linear .2s"}),c.css({overflow:"visible",transform:"",transition:"transform .2s"}),setTimeout((function(){t.css({overflow:"hidden","background-color":m}),p.css({transform:"scale("+s+")",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"}),l.find("> li > a").css({opacity:1}),e(window).on("scroll.fabToolbarClose",(function(){o(t),e(window).off("scroll.fabToolbarClose"),e(document).off("click.fabToolbarClose")})),e(document).on("click.fabToolbarClose",(function(i){e(i.target).closest(l).length||(o(t),e(window).off("scroll.fabToolbarClose"),e(document).off("click.fabToolbarClose"))}))}),100)}),0)}},o=function(e){if("true"===e.attr("data-open")){var t,i,a=window.innerWidth,o=window.innerHeight,s=e.attr("data-origin-width"),r=e.attr("data-origin-bottom"),n=e.attr("data-origin-left"),d=e.find("> .btn-floating").first(),c=e.find("> ul").first(),l=e.find(".fab-backdrop"),p=d.css("background-color");t=n-a/2+s/2,i=o-r,l.width(),e.removeClass("active"),e.attr("data-open",!1),e.css({"background-color":"transparent",transition:"none"}),d.css({transition:"none"}),l.css({transform:"scale(0)","background-color":p}),c.find("> li > a").css({opacity:""}),setTimeout((function(){l.remove(),e.css({"text-align":"",width:"",bottom:"",left:"",overflow:"","background-color":"",transform:"translate3d("+-t+"px,0,0)"}),d.css({overflow:"",transform:"translate3d(0,"+i+"px,0)"}),setTimeout((function(){e.css({transform:"translate3d(0,0,0)",transition:"transform .2s"}),d.css({transform:"translate3d(0,0,0)",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"})}),20)}),200)}}}(jQuery),function(e){Materialize.fadeInImage=function(t){var i;if("string"==typeof t)i=e(t);else{if("object"!=typeof t)return;i=t}i.css({opacity:0}),e(i).velocity({opacity:1},{duration:650,queue:!1,easing:"easeOutSine"}),e(i).velocity({opacity:1},{duration:1300,queue:!1,easing:"swing",step:function(t,i){i.start=100;var a=t/100,o=150-(100-t)/1.75;o<100&&(o=100),t>=0&&e(this).css({"-webkit-filter":"grayscale("+a+")brightness("+o+"%)",filter:"grayscale("+a+")brightness("+o+"%)"})}})},Materialize.showStaggeredList=function(t){var i;if("string"==typeof t)i=e(t);else{if("object"!=typeof t)return;i=t}var a=0;i.find("li").velocity({translateX:"-100px"},{duration:0}),i.find("li").each((function(){e(this).velocity({opacity:"1",translateX:"0"},{duration:800,delay:a,easing:[60,10]}),a+=120}))},e(document).ready((function(){var t=!1,i=!1;e(".dismissable").each((function(){e(this).hammer({prevent_default:!1}).on("pan",(function(a){if("touch"===a.gesture.pointerType){var o=e(this),s=a.gesture.direction,r=a.gesture.deltaX,n=a.gesture.velocityX;o.velocity({translateX:r},{duration:50,queue:!1,easing:"easeOutQuad"}),4===s&&(r>o.innerWidth()/2||n<-.75)&&(t=!0),2===s&&(r<-1*o.innerWidth()/2||n>.75)&&(i=!0)}})).on("panend",(function(a){if(Math.abs(a.gesture.deltaX)<e(this).innerWidth()/2&&(i=!1,t=!1),"touch"===a.gesture.pointerType){var o,s=e(this);if(t||i)o=t?s.innerWidth():-1*s.innerWidth(),s.velocity({translateX:o},{duration:100,queue:!1,easing:"easeOutQuad",complete:function(){s.css("border","none"),s.velocity({height:0,padding:0},{duration:200,queue:!1,easing:"easeOutQuad",complete:function(){s.remove()}})}});else s.velocity({translateX:0},{duration:100,queue:!1,easing:"easeOutQuad"});t=!1,i=!1}}))}))}))}(jQuery),function(e){var t=!1;Materialize.scrollFire=function(e){var i=Materialize.throttle((function(){!function(){for(var t=window.pageYOffset+window.innerHeight,i=0;i<e.length;i++){var a=e[i],o=a.selector,s=a.offset,r=a.callback,n=document.querySelector(o);null!==n&&t>n.getBoundingClientRect().top+window.pageYOffset+s&&!0!==a.done&&("function"==typeof r?r.call(this,n):"string"==typeof r&&new Function(r)(n),a.done=!0)}}()}),e.throttle||100);t||(window.addEventListener("scroll",i),window.addEventListener("resize",i),t=!0),setTimeout(i,0)}}(),Materialize.Picker=function(e){function t(s,n,l,p){function m(){return t._.node("div",t._.node("div",t._.node("div",t._.node("div",C.component.nodes(v.open),$.box),$.wrap),$.frame),$.holder)}function u(){w.data(n,C).addClass($.input).attr("tabindex",-1).val(w.data("value")?C.get("select",y.format):s.value),y.editable||w.on("focus."+v.id+" click."+v.id,(function(e){e.preventDefault(),C.$root.eq(0).focus()})).on("keydown."+v.id,f),o(s,{haspopup:!0,expanded:!1,readonly:!1,owns:s.id+"_root"})}function g(){C.$root.on({keydown:f,focusin:function(e){C.$root.removeClass($.focused),e.stopPropagation()},"mousedown click":function(t){var i=t.target;i!=C.$root.children()[0]&&(t.stopPropagation(),"mousedown"!=t.type||e(i).is("input, select, textarea, button, option")||(t.preventDefault(),C.$root.eq(0).focus()))}}).on({focus:function(){w.addClass($.target)},blur:function(){w.removeClass($.target)}}).on("focus.toOpen",h).on("click","[data-pick], [data-nav], [data-clear], [data-close]",(function(){var t=e(this),i=t.data(),a=t.hasClass($.navDisabled)||t.hasClass($.disabled),o=r();o=o&&(o.type||o.href),(a||o&&!e.contains(C.$root[0],o))&&C.$root.eq(0).focus(),!a&&i.nav?C.set("highlight",C.component.item.highlight,{nav:i.nav}):!a&&"pick"in i?(C.set("select",i.pick),y.closeOnSelect&&C.close(!0)):i.clear?(C.clear(),y.closeOnSelect&&C.close(!0)):i.close&&C.close(!0)})),o(C.$root[0],"hidden",!0)}function _(){var t;!0===y.hiddenName?(t=s.name,s.name=""):t=(t=["string"==typeof y.hiddenPrefix?y.hiddenPrefix:"","string"==typeof y.hiddenSuffix?y.hiddenSuffix:"_submit"])[0]+s.name+t[1],C._hidden=e('<input type=hidden name="'+t+'"'+(w.data("value")||s.value?' value="'+C.get("select",y.formatSubmit)+'"':"")+">")[0],w.on("change."+v.id,(function(){C._hidden.value=s.value?C.get("select",y.formatSubmit):""})),y.container?e(y.container).append(C._hidden):w.before(C._hidden)}function f(e){var t=e.keyCode,i=/^(8|46)$/.test(t);if(27==t)return C.close(),!1;(32==t||i||!v.open&&C.component.key[t])&&(e.preventDefault(),e.stopPropagation(),i?C.clear().close():C.open())}function h(e){e.stopPropagation(),"focus"==e.type&&C.$root.addClass($.focused),C.open()}if(!s)return t;var b=!1,v={id:s.id||"P"+Math.abs(~~(Math.random()*new Date))},y=l?e.extend(!0,{},l.defaults,p):p||{},$=e.extend({},t.klasses(),y.klass),w=e(s),S=function(){return this.start()},C=S.prototype={constructor:S,$node:w,start:function(){return v&&v.start?C:(v.methods={},v.start=!0,v.open=!1,v.type=s.type,s.autofocus=s==r(),s.readOnly=!y.editable,s.id=s.id||v.id,"text"!=s.type&&(s.type="text"),C.component=new l(C,y),C.$root=e(t._.node("div",m(),$.picker,'id="'+s.id+'_root" tabindex="0"')),g(),y.formatSubmit&&_(),u(),y.container?e(y.container).append(C.$root):w.before(C.$root),C.on({start:C.component.onStart,render:C.component.onRender,stop:C.component.onStop,open:C.component.onOpen,close:C.component.onClose,set:C.component.onSet}).on({start:y.onStart,render:y.onRender,stop:y.onStop,open:y.onOpen,close:y.onClose,set:y.onSet}),b=i(C.$root.children()[0]),s.autofocus&&C.open(),C.trigger("start").trigger("render"))},render:function(e){return e?C.$root.html(m()):C.$root.find("."+$.box).html(C.component.nodes(v.open)),C.trigger("render")},stop:function(){return v.start?(C.close(),C._hidden&&C._hidden.parentNode.removeChild(C._hidden),C.$root.remove(),w.removeClass($.input).removeData(n),setTimeout((function(){w.off("."+v.id)}),0),s.type=v.type,s.readOnly=!1,C.trigger("stop"),v.methods={},v.start=!1,C):C},open:function(i){return v.open?C:(w.addClass($.active),o(s,"expanded",!0),setTimeout((function(){C.$root.addClass($.opened),o(C.$root[0],"hidden",!1)}),0),!1!==i&&(v.open=!0,b&&c.css("overflow","hidden").css("padding-right","+="+a()),C.$root.eq(0).focus(),d.on("click."+v.id+" focusin."+v.id,(function(e){var t=e.target;t!=s&&t!=document&&3!=e.which&&C.close(t===C.$root.children()[0])})).on("keydown."+v.id,(function(i){var a=i.keyCode,o=C.component.key[a],s=i.target;27==a?C.close(!0):s!=C.$root[0]||!o&&13!=a?e.contains(C.$root[0],s)&&13==a&&(i.preventDefault(),s.click()):(i.preventDefault(),o?t._.trigger(C.component.key.go,C,[t._.trigger(o)]):C.$root.find("."+$.highlighted).hasClass($.disabled)||(C.set("select",C.component.item.highlight),y.closeOnSelect&&C.close(!0)))}))),C.trigger("open"))},close:function(e){return e&&(C.$root.off("focus.toOpen").eq(0).focus(),setTimeout((function(){C.$root.on("focus.toOpen",h)}),0)),w.removeClass($.active),o(s,"expanded",!1),setTimeout((function(){C.$root.removeClass($.opened+" "+$.focused),o(C.$root[0],"hidden",!0)}),0),v.open?(v.open=!1,b&&c.css("overflow","").css("padding-right","-="+a()),d.off("."+v.id),C.trigger("close")):C},clear:function(e){return C.set("clear",null,e)},set:function(t,i,a){var o,s,r=e.isPlainObject(t),n=r?t:{};if(a=r&&e.isPlainObject(i)?i:a||{},t){for(o in r||(n[t]=i),n)s=n[o],o in C.component.item&&(void 0===s&&(s=null),C.component.set(o,s,a)),"select"!=o&&"clear"!=o||w.val("clear"==o?"":C.get(o,y.format)).trigger("change");C.render()}return a.muted?C:C.trigger("set",n)},get:function(e,i){if(null!=v[e=e||"value"])return v[e];if("valueSubmit"==e){if(C._hidden)return C._hidden.value;e="value"}if("value"==e)return s.value;if(e in C.component.item){if("string"==typeof i){var a=C.component.get(e);return a?t._.trigger(C.component.formats.toString,C.component,[i,a]):""}return C.component.get(e)}},on:function(t,i,a){var o,s,r=e.isPlainObject(t),n=r?t:{};if(t)for(o in r||(n[t]=i),n)s=n[o],a&&(o="_"+o),v.methods[o]=v.methods[o]||[],v.methods[o].push(s);return C},off:function(){var e,t,i=arguments;for(e=0,namesCount=i.length;e<namesCount;e+=1)(t=i[e])in v.methods&&delete v.methods[t];return C},trigger:function(e,i){var a=function(e){var a=v.methods[e];a&&a.map((function(e){t._.trigger(e,C,[i])}))};return a("_"+e),a(e),C}};return new S}function i(e){var t;return e.currentStyle?t=e.currentStyle.position:window.getComputedStyle&&(t=getComputedStyle(e).position),"fixed"==t}function a(){if(c.height()<=n.height())return 0;var t=e('<div style="visibility:hidden;width:100px" />').appendTo("body"),i=t[0].offsetWidth;t.css("overflow","scroll");var a=e('<div style="width:100%" />').appendTo(t)[0].offsetWidth;return t.remove(),i-a}function o(t,i,a){if(e.isPlainObject(i))for(var o in i)s(t,o,i[o]);else s(t,i,a)}function s(e,t,i){e.setAttribute(("role"==t?"":"aria-")+t,i)}function r(){try{return document.activeElement}catch(e){}}var n=e(window),d=e(document),c=e(document.documentElement);return t.klasses=function(e){return{picker:e=e||"picker",opened:e+"--opened",focused:e+"--focused",input:e+"__input",active:e+"__input--active",target:e+"__input--target",holder:e+"__holder",frame:e+"__frame",wrap:e+"__wrap",box:e+"__box"}},t._={group:function(e){for(var i,a="",o=t._.trigger(e.min,e);o<=t._.trigger(e.max,e,[o]);o+=e.i)i=t._.trigger(e.item,e,[o]),a+=t._.node(e.node,i[0],i[1],i[2]);return a},node:function(t,i,a,o){return i?"<"+t+(a=a?' class="'+a+'"':"")+(o=o?" "+o:"")+">"+(i=e.isArray(i)?i.join(""):i)+"</"+t+">":""},lead:function(e){return(e<10?"0":"")+e},trigger:function(e,t,i){return"function"==typeof e?e.apply(t,i||[]):e},digits:function(e){return/\d/.test(e[1])?2:1},isDate:function(e){return{}.toString.call(e).indexOf("Date")>-1&&this.isInteger(e.getDate())},isInteger:function(e){return{}.toString.call(e).indexOf("Number")>-1&&e%1==0},ariaAttr:function(t,i){for(var a in e.isPlainObject(t)||(t={attribute:i}),i="",t){var o=("role"==a?"":"aria-")+a;i+=null==t[a]?"":o+'="'+t[a]+'"'}return i}},t.extend=function(i,a){e.fn[i]=function(o,s){var r=this.data(i);return"picker"==o?r:r&&"string"==typeof o?t._.trigger(r[o],r,[s]):this.each((function(){e(this).data(i)||new t(this,i,a,o)}))},e.fn[i].defaults=a.defaults},t}(jQuery),function(e,t){function i(e,t){var i=this,a=e.$node[0],o=a.value,s=e.$node.data("value"),r=s||o,n=s?t.formatSubmit:t.format,d=function(){return a.currentStyle?"rtl"==a.currentStyle.direction:"rtl"==getComputedStyle(e.$root[0]).direction};i.settings=t,i.$node=e.$node,i.queue={min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse navigate create validate",view:"parse create validate viewset",disable:"deactivate",enable:"activate"},i.item={},i.item.clear=null,i.item.disable=(t.disable||[]).slice(0),i.item.enable=-function(e){return!0===e[0]?e.shift():-1}(i.item.disable),i.set("min",t.min).set("max",t.max).set("now"),r?i.set("select",r,{format:n}):i.set("select",null).set("highlight",i.item.now),i.key={40:7,38:-7,39:function(){return d()?-1:1},37:function(){return d()?1:-1},go:function(e){var t=i.item.highlight,a=new Date(t.year,t.month,t.date+e);i.set("highlight",a,{interval:e}),this.render()}},e.on("render",(function(){e.$root.find("."+t.klass.selectMonth).on("change",(function(){var i=this.value;i&&(e.set("highlight",[e.get("view").year,i,e.get("highlight").date]),e.$root.find("."+t.klass.selectMonth).trigger("focus"))})),e.$root.find("."+t.klass.selectYear).on("change",(function(){var i=this.value;i&&(e.set("highlight",[i,e.get("view").month,e.get("highlight").date]),e.$root.find("."+t.klass.selectYear).trigger("focus"))}))}),1).on("open",(function(){var a="";i.disabled(i.get("now"))&&(a=":not(."+t.klass.buttonToday+")"),e.$root.find("button"+a+", select").attr("disabled",!1)}),1).on("close",(function(){e.$root.find("button, select").attr("disabled",!0)}),1)}var a=e._;i.prototype.set=function(e,t,i){var a=this,o=a.item;return null===t?("clear"==e&&(e="select"),o[e]=t,a):(o["enable"==e?"disable":"flip"==e?"enable":e]=a.queue[e].split(" ").map((function(o){return t=a[o](e,t,i)})).pop(),"select"==e?a.set("highlight",o.select,i):"highlight"==e?a.set("view",o.highlight,i):e.match(/^(flip|min|max|disable|enable)$/)&&(o.select&&a.disabled(o.select)&&a.set("select",o.select,i),o.highlight&&a.disabled(o.highlight)&&a.set("highlight",o.highlight,i)),a)},i.prototype.get=function(e){return this.item[e]},i.prototype.create=function(e,i,o){var s,r=this;return(i=void 0===i?e:i)==-1/0||i==1/0?s=i:t.isPlainObject(i)&&a.isInteger(i.pick)?i=i.obj:t.isArray(i)?(i=new Date(i[0],i[1],i[2]),i=a.isDate(i)?i:r.create().obj):i=a.isInteger(i)||a.isDate(i)?r.normalize(new Date(i),o):r.now(e,i,o),{year:s||i.getFullYear(),month:s||i.getMonth(),date:s||i.getDate(),day:s||i.getDay(),obj:s||i,pick:s||i.getTime()}},i.prototype.createRange=function(e,i){var o=this,s=function(e){return!0===e||t.isArray(e)||a.isDate(e)?o.create(e):e};return a.isInteger(e)||(e=s(e)),a.isInteger(i)||(i=s(i)),a.isInteger(e)&&t.isPlainObject(i)?e=[i.year,i.month,i.date+e]:a.isInteger(i)&&t.isPlainObject(e)&&(i=[e.year,e.month,e.date+i]),{from:s(e),to:s(i)}},i.prototype.withinRange=function(e,t){return e=this.createRange(e.from,e.to),t.pick>=e.from.pick&&t.pick<=e.to.pick},i.prototype.overlapRanges=function(e,t){var i=this;return e=i.createRange(e.from,e.to),t=i.createRange(t.from,t.to),i.withinRange(e,t.from)||i.withinRange(e,t.to)||i.withinRange(t,e.from)||i.withinRange(t,e.to)},i.prototype.now=function(e,t,i){return t=new Date,i&&i.rel&&t.setDate(t.getDate()+i.rel),this.normalize(t,i)},i.prototype.navigate=function(e,i,a){var o,s,r,n,d=t.isArray(i),c=t.isPlainObject(i),l=this.item.view;if(d||c){for(c?(s=i.year,r=i.month,n=i.date):(s=+i[0],r=+i[1],n=+i[2]),a&&a.nav&&l&&l.month!==r&&(s=l.year,r=l.month),s=(o=new Date(s,r+(a&&a.nav?a.nav:0),1)).getFullYear(),r=o.getMonth();new Date(s,r,n).getMonth()!==r;)n-=1;i=[s,r,n]}return i},i.prototype.normalize=function(e){return e.setHours(0,0,0,0),e},i.prototype.measure=function(e,t){var i=this;return t?"string"==typeof t?t=i.parse(e,t):a.isInteger(t)&&(t=i.now(e,t,{rel:t})):t="min"==e?-1/0:1/0,t},i.prototype.viewset=function(e,t){return this.create([t.year,t.month,1])},i.prototype.validate=function(e,i,o){var s,r,n,d,c=this,l=i,p=o&&o.interval?o.interval:1,m=-1===c.item.enable,u=c.item.min,g=c.item.max,_=m&&c.item.disable.filter((function(e){if(t.isArray(e)){var o=c.create(e).pick;o<i.pick?s=!0:o>i.pick&&(r=!0)}return a.isInteger(e)})).length;if((!o||!o.nav)&&(!m&&c.disabled(i)||m&&c.disabled(i)&&(_||s||r)||!m&&(i.pick<=u.pick||i.pick>=g.pick)))for(m&&!_&&(!r&&p>0||!s&&p<0)&&(p*=-1);c.disabled(i)&&(Math.abs(p)>1&&(i.month<l.month||i.month>l.month)&&(i=l,p=p>0?1:-1),i.pick<=u.pick?(n=!0,p=1,i=c.create([u.year,u.month,u.date+(i.pick===u.pick?0:-1)])):i.pick>=g.pick&&(d=!0,p=-1,i=c.create([g.year,g.month,g.date+(i.pick===g.pick?0:1)])),!n||!d);)i=c.create([i.year,i.month,i.date+p]);return i},i.prototype.disabled=function(e){var i=this,o=i.item.disable.filter((function(o){return a.isInteger(o)?e.day===(i.settings.firstDay?o:o-1)%7:t.isArray(o)||a.isDate(o)?e.pick===i.create(o).pick:t.isPlainObject(o)?i.withinRange(o,e):void 0}));return o=o.length&&!o.filter((function(e){return t.isArray(e)&&"inverted"==e[3]||t.isPlainObject(e)&&e.inverted})).length,-1===i.item.enable?!o:o||e.pick<i.item.min.pick||e.pick>i.item.max.pick},i.prototype.parse=function(e,t,i){var o=this,s={};return t&&"string"==typeof t?(i&&i.format||((i=i||{}).format=o.settings.format),o.formats.toArray(i.format).map((function(e){var i=o.formats[e],r=i?a.trigger(i,o,[t,s]):e.replace(/^!/,"").length;i&&(s[e]=t.substr(0,r)),t=t.substr(r)})),[s.yyyy||s.yy,+(s.mm||s.m)-1,s.dd||s.d]):t},i.prototype.formats=function(){function e(e,t,i){var a=e.match(/\w+/)[0];return i.mm||i.m||(i.m=t.indexOf(a)+1),a.length}function t(e){return e.match(/\w+/)[0].length}return{d:function(e,t){return e?a.digits(e):t.date},dd:function(e,t){return e?2:a.lead(t.date)},ddd:function(e,i){return e?t(e):this.settings.weekdaysShort[i.day]},dddd:function(e,i){return e?t(e):this.settings.weekdaysFull[i.day]},m:function(e,t){return e?a.digits(e):t.month+1},mm:function(e,t){return e?2:a.lead(t.month+1)},mmm:function(t,i){var a=this.settings.monthsShort;return t?e(t,a,i):a[i.month]},mmmm:function(t,i){var a=this.settings.monthsFull;return t?e(t,a,i):a[i.month]},yy:function(e,t){return e?2:(""+t.year).slice(2)},yyyy:function(e,t){return e?4:t.year},toArray:function(e){return e.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g)},toString:function(e,t){var i=this;return i.formats.toArray(e).map((function(e){return a.trigger(i.formats[e],i,[0,t])||e.replace(/^!/,"")})).join("")}}}(),i.prototype.isDateExact=function(e,i){var o=this;return a.isInteger(e)&&a.isInteger(i)||"boolean"==typeof e&&"boolean"==typeof i?e===i:(a.isDate(e)||t.isArray(e))&&(a.isDate(i)||t.isArray(i))?o.create(e).pick===o.create(i).pick:!(!t.isPlainObject(e)||!t.isPlainObject(i))&&o.isDateExact(e.from,i.from)&&o.isDateExact(e.to,i.to)},i.prototype.isDateOverlap=function(e,i){var o=this,s=o.settings.firstDay?1:0;return a.isInteger(e)&&(a.isDate(i)||t.isArray(i))?(e=e%7+s)===o.create(i).day+1:a.isInteger(i)&&(a.isDate(e)||t.isArray(e))?(i=i%7+s)===o.create(e).day+1:!(!t.isPlainObject(e)||!t.isPlainObject(i))&&o.overlapRanges(e,i)},i.prototype.flipEnable=function(e){var t=this.item;t.enable=e||(-1==t.enable?1:-1)},i.prototype.deactivate=function(e,i){var o=this,s=o.item.disable.slice(0);return"flip"==i?o.flipEnable():!1===i?(o.flipEnable(1),s=[]):!0===i?(o.flipEnable(-1),s=[]):i.map((function(e){for(var i,r=0;r<s.length;r+=1)if(o.isDateExact(e,s[r])){i=!0;break}i||(a.isInteger(e)||a.isDate(e)||t.isArray(e)||t.isPlainObject(e)&&e.from&&e.to)&&s.push(e)})),s},i.prototype.activate=function(e,i){var o=this,s=o.item.disable,r=s.length;return"flip"==i?o.flipEnable():!0===i?(o.flipEnable(1),s=[]):!1===i?(o.flipEnable(-1),s=[]):i.map((function(e){var i,n,d,c;for(d=0;d<r;d+=1){if(n=s[d],o.isDateExact(n,e)){i=s[d]=null,c=!0;break}if(o.isDateOverlap(n,e)){t.isPlainObject(e)?(e.inverted=!0,i=e):t.isArray(e)?(i=e)[3]||i.push("inverted"):a.isDate(e)&&(i=[e.getFullYear(),e.getMonth(),e.getDate(),"inverted"]);break}}if(i)for(d=0;d<r;d+=1)if(o.isDateExact(s[d],e)){s[d]=null;break}if(c)for(d=0;d<r;d+=1)if(o.isDateOverlap(s[d],e)){s[d]=null;break}i&&s.push(i)})),s.filter((function(e){return null!=e}))},i.prototype.nodes=function(e){var t=this,i=t.settings,o=t.item,s=o.now,r=o.select,n=o.highlight,d=o.view,c=o.disable,l=o.min,p=o.max,m=function(e,t){return i.firstDay&&(e.push(e.shift()),t.push(t.shift())),a.node("thead",a.node("tr",a.group({min:0,max:6,i:1,node:"th",item:function(a){return[e[a],i.klass.weekdays,'scope=col title="'+t[a]+'"']}})))}((i.showWeekdaysFull?i.weekdaysFull:i.weekdaysLetter).slice(0),i.weekdaysFull.slice(0)),u=function(e){return a.node("div"," ",i.klass["nav"+(e?"Next":"Prev")]+(e&&d.year>=p.year&&d.month>=p.month||!e&&d.year<=l.year&&d.month<=l.month?" "+i.klass.navDisabled:""),"data-nav="+(e||-1)+" "+a.ariaAttr({role:"button",controls:t.$node[0].id+"_table"})+' title="'+(e?i.labelMonthNext:i.labelMonthPrev)+'"')},g=function(o){var s=i.showMonthsShort?i.monthsShort:i.monthsFull;return"short_months"==o&&(s=i.monthsShort),i.selectMonths&&null==o?a.node("select",a.group({min:0,max:11,i:1,node:"option",item:function(e){return[s[e],0,"value="+e+(d.month==e?" selected":"")+(d.year==l.year&&e<l.month||d.year==p.year&&e>p.month?" disabled":"")]}}),i.klass.selectMonth+" browser-default",(e?"":"disabled")+" "+a.ariaAttr({controls:t.$node[0].id+"_table"})+' title="'+i.labelMonthSelect+'"'):"short_months"==o?null!=r?s[r.month]:s[d.month]:a.node("div",s[d.month],i.klass.month)},_=function(o){var s=d.year,r=!0===i.selectYears?5:~~(i.selectYears/2);if(r){var n=l.year,c=p.year,m=s-r,u=s+r;if(n>m&&(u+=n-m,m=n),c<u){var g=m-n,_=u-c;m-=g>_?_:g,u=c}if(i.selectYears&&null==o)return a.node("select",a.group({min:m,max:u,i:1,node:"option",item:function(e){return[e,0,"value="+e+(s==e?" selected":"")]}}),i.klass.selectYear+" browser-default",(e?"":"disabled")+" "+a.ariaAttr({controls:t.$node[0].id+"_table"})+' title="'+i.labelYearSelect+'"')}return"raw"==o?a.node("div",s):a.node("div",s,i.klass.year)};return createDayLabel=function(){return null!=r?r.date:s.date},createWeekdayLabel=function(){var e;return e=null!=r?r.day:s.day,i.weekdaysShort[e]},a.node("div",a.node("div",_("raw"),i.klass.year_display)+a.node("span",createWeekdayLabel()+", ","picker__weekday-display")+a.node("span",g("short_months")+" ",i.klass.month_display)+a.node("span",createDayLabel(),i.klass.day_display),i.klass.date_display)+a.node("div",a.node("div",a.node("div",(i.selectYears,g()+_()+u()+u(1)),i.klass.header)+a.node("table",m+a.node("tbody",a.group({min:0,max:5,i:1,node:"tr",item:function(e){var o=i.firstDay&&0===t.create([d.year,d.month,1]).day?-7:0;return[a.group({min:7*e-d.day+o+1,max:function(){return this.min+7-1},i:1,node:"td",item:function(e){e=t.create([d.year,d.month,e+(i.firstDay?1:0)]);var o=r&&r.pick==e.pick,m=n&&n.pick==e.pick,u=c&&t.disabled(e)||e.pick<l.pick||e.pick>p.pick,g=a.trigger(t.formats.toString,t,[i.format,e]);return[a.node("div",e.date,function(t){return t.push(d.month==e.month?i.klass.infocus:i.klass.outfocus),s.pick==e.pick&&t.push(i.klass.now),o&&t.push(i.klass.selected),m&&t.push(i.klass.highlighted),u&&t.push(i.klass.disabled),t.join(" ")}([i.klass.day]),"data-pick="+e.pick+" "+a.ariaAttr({role:"gridcell",label:g,selected:!(!o||t.$node.val()!==g)||null,activedescendant:!!m||null,disabled:!!u||null})+" "+(u?"":'tabindex="0"')),"",a.ariaAttr({role:"presentation"})]}})]}})),i.klass.table,'id="'+t.$node[0].id+'_table" '+a.ariaAttr({role:"grid",controls:t.$node[0].id,readonly:!0})),i.klass.calendar_container)+a.node("div",a.node("button",i.today,"btn-flat picker__today waves-effect","type=button data-pick="+s.pick+(e&&!t.disabled(s)?"":" disabled")+" "+a.ariaAttr({controls:t.$node[0].id}))+a.node("button",i.clear,"btn-flat picker__clear waves-effect","type=button data-clear=1"+(e?"":" disabled")+" "+a.ariaAttr({controls:t.$node[0].id}))+a.node("button",i.close,"btn-flat picker__close waves-effect","type=button data-close=true "+(e?"":" disabled")+" "+a.ariaAttr({controls:t.$node[0].id})),i.klass.footer),"picker__container__wrapper")},i.defaults=function(e){return{labelMonthNext:"Next month",labelMonthPrev:"Previous month",labelMonthSelect:"Select a month",labelYearSelect:"Select a year",monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysLetter:["S","M","T","W","T","F","S"],today:"Today",clear:"Clear",close:"Ok",closeOnSelect:!1,format:"d mmmm, yyyy",klass:{table:e+"table",header:e+"header",date_display:e+"date-display",day_display:e+"day-display",month_display:e+"month-display",year_display:e+"year-display",calendar_container:e+"calendar-container",navPrev:e+"nav--prev",navNext:e+"nav--next",navDisabled:e+"nav--disabled",month:e+"month",year:e+"year",selectMonth:e+"select--month",selectYear:e+"select--year",weekdays:e+"weekday",day:e+"day",disabled:e+"day--disabled",selected:e+"day--selected",highlighted:e+"day--highlighted",now:e+"day--today",infocus:e+"day--infocus",outfocus:e+"day--outfocus",footer:e+"footer",buttonClear:e+"button--clear",buttonToday:e+"button--today",buttonClose:e+"button--close"}}}(e.klasses().picker+"__"),e.extend("pickadate",i)}(Materialize.Picker,jQuery),function(){function e(e){return document.createElementNS(d,e)}function t(e){return(e<10?"0":"")+e}function i(e){var t=++f+"";return e?e+t:t}function a(a,r){function d(e,t){var i=p.offset(),a=/^touch/.test(e.type),o=i.left+h,s=i.top+h,d=(a?e.originalEvent.touches[0]:e).pageX-o,c=(a?e.originalEvent.touches[0]:e).pageY-s,l=Math.sqrt(d*d+c*c),m=!1;if(!t||!(l<b-y||l>b+y)){e.preventDefault();var _=setTimeout((function(){x.popover.addClass("clockpicker-moving")}),200);x.setHand(d,c,!t,!0),n.off(u).on(u,(function(e){e.preventDefault();var t=/^touch/.test(e.type),i=(t?e.originalEvent.touches[0]:e).pageX-o,a=(t?e.originalEvent.touches[0]:e).pageY-s;(m||i!==d||a!==c)&&(m=!0,x.setHand(i,a,!1,!0))})),n.off(g).on(g,(function(e){n.off(g),e.preventDefault();var i=/^touch/.test(e.type),a=(i?e.originalEvent.changedTouches[0]:e).pageX-o,l=(i?e.originalEvent.changedTouches[0]:e).pageY-s;(t||m)&&a===d&&l===c&&x.setHand(a,l),"hours"===x.currentView?x.toggleView("minutes",w/2):r.autoclose&&(x.minutesView.addClass("clockpicker-dial-out"),setTimeout((function(){x.done()}),w/2)),p.prepend(D),clearTimeout(_),x.popover.removeClass("clockpicker-moving"),n.off(u)}))}}var l=s(S),p=l.find(".clockpicker-plate"),_=l.find(".picker__holder"),f=l.find(".clockpicker-hours"),C=l.find(".clockpicker-minutes"),L=l.find(".clockpicker-am-pm-block"),k="INPUT"===a.prop("tagName"),z=k?a:a.find("input"),I=s("label[for="+z.attr("id")+"]"),x=this;this.id=i("cp"),this.element=a,this.holder=_,this.options=r,this.isAppended=!1,this.isShown=!1,this.currentView="hours",this.isInput=k,this.input=z,this.label=I,this.popover=l,this.plate=p,this.hoursView=f,this.minutesView=C,this.amPmBlock=L,this.spanHours=l.find(".clockpicker-span-hours"),this.spanMinutes=l.find(".clockpicker-span-minutes"),this.spanAmPm=l.find(".clockpicker-span-am-pm"),this.footer=l.find(".picker__footer"),this.amOrPm="PM",r.twelvehour&&(r.ampmclickable?(this.spanAmPm.empty(),s('<div id="click-am">AM</div>').on("click",(function(){x.spanAmPm.children("#click-am").addClass("text-primary"),x.spanAmPm.children("#click-pm").removeClass("text-primary"),x.amOrPm="AM"})).appendTo(this.spanAmPm),s('<div id="click-pm">PM</div>').on("click",(function(){x.spanAmPm.children("#click-pm").addClass("text-primary"),x.spanAmPm.children("#click-am").removeClass("text-primary"),x.amOrPm="PM"})).appendTo(this.spanAmPm)):(this.spanAmPm.empty(),s('<div id="click-am">AM</div>').appendTo(this.spanAmPm),s('<div id="click-pm">PM</div>').appendTo(this.spanAmPm))),s('<button type="button" class="btn-flat picker__clear" tabindex="'+(r.twelvehour?"3":"1")+'">'+r.cleartext+"</button>").click(s.proxy(this.clear,this)).appendTo(this.footer),s('<button type="button" class="btn-flat picker__close" tabindex="'+(r.twelvehour?"3":"1")+'">'+r.canceltext+"</button>").click(s.proxy(this.hide,this)).appendTo(this.footer),s('<button type="button" class="btn-flat picker__close" tabindex="'+(r.twelvehour?"3":"1")+'">'+r.donetext+"</button>").click(s.proxy(this.done,this)).appendTo(this.footer),this.spanHours.click(s.proxy(this.toggleView,this,"hours")),this.spanMinutes.click(s.proxy(this.toggleView,this,"minutes")),z.on("focus.clockpicker click.clockpicker",s.proxy(this.show,this));var P,M,A,E,O=s('<div class="clockpicker-tick"></div>');if(r.twelvehour)for(P=1;P<13;P+=1)M=O.clone(),A=P/6*Math.PI,E=b,M.css({left:h+Math.sin(A)*E-y,top:h-Math.cos(A)*E-y}),M.html(0===P?"00":P),f.append(M),M.on(m,d);else for(P=0;P<24;P+=1)M=O.clone(),A=P/6*Math.PI,E=P>0&&P<13?v:b,M.css({left:h+Math.sin(A)*E-y,top:h-Math.cos(A)*E-y}),M.html(0===P?"00":P),f.append(M),M.on(m,d);for(P=0;P<60;P+=5)M=O.clone(),A=P/30*Math.PI,M.css({left:h+Math.sin(A)*b-y,top:h-Math.cos(A)*b-y}),M.html(t(P)),C.append(M),M.on(m,d);if(p.on(m,(function(e){0===s(e.target).closest(".clockpicker-tick").length&&d(e,!0)})),c){var D=l.find(".clockpicker-canvas"),T=e("svg");T.setAttribute("class","clockpicker-svg"),T.setAttribute("width",$),T.setAttribute("height",$);var G=e("g");G.setAttribute("transform","translate("+h+","+h+")");var N=e("circle");N.setAttribute("class","clockpicker-canvas-bearing"),N.setAttribute("cx",0),N.setAttribute("cy",0),N.setAttribute("r",4);var F=e("line");F.setAttribute("x1",0),F.setAttribute("y1",0);var H=e("circle");H.setAttribute("class","clockpicker-canvas-bg"),H.setAttribute("r",y),G.appendChild(F),G.appendChild(H),G.appendChild(N),T.appendChild(G),D.append(T),this.hand=F,this.bg=H,this.bearing=N,this.g=G,this.canvas=D}o(this.options.init)}function o(e){e&&"function"==typeof e&&e()}var s=window.jQuery,r=s(window),n=s(document),d="http://www.w3.org/2000/svg",c="SVGAngle"in window&&function(){var e,t=document.createElement("div");return t.innerHTML="<svg/>",e=(t.firstChild&&t.firstChild.namespaceURI)==d,t.innerHTML="",e}(),l=function(){var e=document.createElement("div").style;return"transition"in e||"WebkitTransition"in e||"MozTransition"in e||"msTransition"in e||"OTransition"in e}(),p="ontouchstart"in window,m="mousedown"+(p?" touchstart":""),u="mousemove.clockpicker"+(p?" touchmove.clockpicker":""),g="mouseup.clockpicker"+(p?" touchend.clockpicker":""),_=navigator.vibrate?"vibrate":navigator.webkitVibrate?"webkitVibrate":null,f=0,h=135,b=105,v=80,y=20,$=2*h,w=l?350:1,S=['<div class="clockpicker picker">','<div class="picker__holder">','<div class="picker__frame">','<div class="picker__wrap">','<div class="picker__box">','<div class="picker__date-display">','<div class="clockpicker-display">','<div class="clockpicker-display-column">','<span class="clockpicker-span-hours text-primary"></span>',":",'<span class="clockpicker-span-minutes"></span>',"</div>",'<div class="clockpicker-display-column clockpicker-display-am-pm">','<div class="clockpicker-span-am-pm"></div>',"</div>","</div>","</div>",'<div class="picker__container__wrapper">','<div class="picker__calendar-container">','<div class="clockpicker-plate">','<div class="clockpicker-canvas"></div>','<div class="clockpicker-dial clockpicker-hours"></div>','<div class="clockpicker-dial clockpicker-minutes clockpicker-dial-out"></div>',"</div>",'<div class="clockpicker-am-pm-block">',"</div>","</div>",'<div class="picker__footer">',"</div>","</div>","</div>","</div>","</div>","</div>","</div>"].join("");a.DEFAULTS={default:"",fromnow:0,donetext:"Ok",cleartext:"Clear",canceltext:"Cancel",autoclose:!1,ampmclickable:!0,darktheme:!1,twelvehour:!0,vibrate:!0},a.prototype.toggle=function(){this[this.isShown?"hide":"show"]()},a.prototype.locate=function(){var e=this.element,t=this.popover;e.offset(),e.outerWidth(),e.outerHeight(),this.options.align,t.show()},a.prototype.show=function(e){if(!this.isShown){o(this.options.beforeShow),s(":input").each((function(){s(this).attr("tabindex",-1)}));var i=this;this.input.blur(),this.popover.addClass("picker--opened"),this.input.addClass("picker__input picker__input--active"),s(document.body).css("overflow","hidden");var a=((this.input.prop("value")||this.options.default||"")+"").split(":");if(this.options.twelvehour&&void 0!==a[1]&&(a[1].indexOf("AM")>0?this.amOrPm="AM":this.amOrPm="PM",a[1]=a[1].replace("AM","").replace("PM","")),"now"===a[0]){var d=new Date(+new Date+this.options.fromnow);a=[d.getHours(),d.getMinutes()],this.options.twelvehour&&(this.amOrPm=a[0]>=12&&a[0]<24?"PM":"AM")}this.hours=+a[0]||0,this.minutes=+a[1]||0,this.spanHours.html(this.hours),this.spanMinutes.html(t(this.minutes)),this.isAppended||(this.popover.insertAfter(this.input),this.options.twelvehour&&("PM"===this.amOrPm?(this.spanAmPm.children("#click-pm").addClass("text-primary"),this.spanAmPm.children("#click-am").removeClass("text-primary")):(this.spanAmPm.children("#click-am").addClass("text-primary"),this.spanAmPm.children("#click-pm").removeClass("text-primary"))),r.on("resize.clockpicker"+this.id,(function(){i.isShown&&i.locate()})),this.isAppended=!0),this.toggleView("hours"),this.locate(),this.isShown=!0,n.on("click.clockpicker."+this.id+" focusin.clockpicker."+this.id,(function(e){var t=s(e.target);0===t.closest(i.popover.find(".picker__wrap")).length&&0===t.closest(i.input).length&&i.hide()})),n.on("keyup.clockpicker."+this.id,(function(e){27===e.keyCode&&i.hide()})),o(this.options.afterShow)}},a.prototype.hide=function(){o(this.options.beforeHide),this.input.removeClass("picker__input picker__input--active"),this.popover.removeClass("picker--opened"),s(document.body).css("overflow","visible"),this.isShown=!1,s(":input").each((function(e){s(this).attr("tabindex",e+1)})),n.off("click.clockpicker."+this.id+" focusin.clockpicker."+this.id),n.off("keyup.clockpicker."+this.id),this.popover.hide(),o(this.options.afterHide)},a.prototype.toggleView=function(e,t){var i=!1;"minutes"===e&&"visible"===s(this.hoursView).css("visibility")&&(o(this.options.beforeHourSelect),i=!0);var a="hours"===e,r=a?this.hoursView:this.minutesView,n=a?this.minutesView:this.hoursView;this.currentView=e,this.spanHours.toggleClass("text-primary",a),this.spanMinutes.toggleClass("text-primary",!a),n.addClass("clockpicker-dial-out"),r.css("visibility","visible").removeClass("clockpicker-dial-out"),this.resetClock(t),clearTimeout(this.toggleViewTimer),this.toggleViewTimer=setTimeout((function(){n.css("visibility","hidden")}),w),i&&o(this.options.afterHourSelect)},a.prototype.resetClock=function(e){var t=this.currentView,i=this[t],a="hours"===t,o=i*(Math.PI/(a?6:30)),s=a&&i>0&&i<13?v:b,r=Math.sin(o)*s,n=-Math.cos(o)*s,d=this;c&&e?(d.canvas.addClass("clockpicker-canvas-out"),setTimeout((function(){d.canvas.removeClass("clockpicker-canvas-out"),d.setHand(r,n)}),e)):this.setHand(r,n)},a.prototype.setHand=function(e,i,a,o){var r,n=Math.atan2(e,-i),d="hours"===this.currentView,l=Math.PI/(d||a?6:30),p=Math.sqrt(e*e+i*i),m=this.options,u=d&&p<(b+v)/2,g=u?v:b;if(m.twelvehour&&(g=b),n<0&&(n=2*Math.PI+n),n=(r=Math.round(n/l))*l,m.twelvehour?d?0===r&&(r=12):(a&&(r*=5),60===r&&(r=0)):d?(12===r&&(r=0),r=u?0===r?12:r:0===r?0:r+12):(a&&(r*=5),60===r&&(r=0)),this[this.currentView]!==r&&_&&this.options.vibrate&&(this.vibrateTimer||(navigator[_](10),this.vibrateTimer=setTimeout(s.proxy((function(){this.vibrateTimer=null}),this),100))),this[this.currentView]=r,d?this.spanHours.html(r):this.spanMinutes.html(t(r)),c){var f=Math.sin(n)*(g-y),h=-Math.cos(n)*(g-y),$=Math.sin(n)*g,w=-Math.cos(n)*g;this.hand.setAttribute("x2",f),this.hand.setAttribute("y2",h),this.bg.setAttribute("cx",$),this.bg.setAttribute("cy",w)}else this[d?"hoursView":"minutesView"].find(".clockpicker-tick").each((function(){var e=s(this);e.toggleClass("active",r===+e.html())}))},a.prototype.done=function(){o(this.options.beforeDone),this.hide(),this.label.addClass("active");var e=this.input.prop("value"),i=t(this.hours)+":"+t(this.minutes);this.options.twelvehour&&(i+=this.amOrPm),this.input.prop("value",i),i!==e&&(this.input.triggerHandler("change"),this.isInput||this.element.trigger("change")),this.options.autoclose&&this.input.trigger("blur"),o(this.options.afterDone)},a.prototype.clear=function(){this.hide(),this.label.removeClass("active");var e=this.input.prop("value");this.input.prop("value",""),""!==e&&(this.input.triggerHandler("change"),this.isInput||this.element.trigger("change")),this.options.autoclose&&this.input.trigger("blur")},a.prototype.remove=function(){this.element.removeData("clockpicker"),this.input.off("focus.clockpicker click.clockpicker"),this.isShown&&this.hide(),this.isAppended&&(r.off("resize.clockpicker"+this.id),this.popover.remove())},s.fn.pickatime=function(e){var t=Array.prototype.slice.call(arguments,1);return this.each((function(){var i=s(this),o=i.data("clockpicker");if(o)"function"==typeof o[e]&&o[e].apply(o,t);else{var r=s.extend({},a.DEFAULTS,i.data(),"object"==typeof e&&e);i.data("clockpicker",new a(i,r))}}))}}(),function(e){function t(){var t=+e(this).attr("data-length"),i=+e(this).val().length,a=i<=t;e(this).parent().find('span[class="character-counter"]').html(i+"/"+t),function(e,t){var i=t.hasClass("invalid");e&&i?t.removeClass("invalid"):e||i||(t.removeClass("valid"),t.addClass("invalid"))}(a,e(this))}function i(){e(this).parent().find('span[class="character-counter"]').html("")}e.fn.characterCounter=function(){return this.each((function(){var a=e(this);a.parent().find('span[class="character-counter"]').length||void 0!==a.attr("data-length")&&(a.on("input",t),a.on("focus",t),a.on("blur",i),function(t){var i=t.parent().find('span[class="character-counter"]');i.length||(i=e("<span/>").addClass("character-counter").css("float","right").css("font-size","12px").css("height",1),t.parent().append(i))}(a))}))},e(document).ready((function(){e("input, textarea").characterCounter()}))}(jQuery),function(e){var t={init:function(t){t=e.extend({duration:200,dist:-100,shift:0,padding:0,fullWidth:!1,indicators:!1,noWrap:!1,onCycleTo:null},t);var i=Materialize.objectSelectorString(e(this));return this.each((function(a){function o(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function s(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function r(e){return e>=w?e%w:e<0?r(w+e%w):e}function n(i){!0,G.hasClass("scrolling")||G.addClass("scrolling"),null!=D&&window.clearTimeout(D),D=window.setTimeout((function(){!1,G.removeClass("scrolling")}),t.duration);var a,o,s,n,d,c,l,p=b;if(h="number"==typeof i?i:h,b=Math.floor((h+$/2)/$),d=-(n=(s=h-b*$)<0?1:-1)*s*2/$,o=w>>1,t.fullWidth?l="translateX(0)":(l="translateX("+(G[0].clientWidth-_)/2+"px) ",l+="translateY("+(G[0].clientHeight-f)/2+"px)"),F){var m=b%w,u=O.find(".indicator-item.active");u.index()!==m&&(u.removeClass("active"),O.find(".indicator-item").eq(m).addClass("active"))}for((!H||b>=0&&b<w)&&(c=g[r(b)],e(c).hasClass("active")||(G.find(".carousel-item").removeClass("active"),e(c).addClass("active")),c.style[I]=l+" translateX("+-s/2+"px) translateX("+n*t.shift*d*a+"px) translateZ("+t.dist*d+"px)",c.style.zIndex=0,t.fullWidth?tweenedOpacity=1:tweenedOpacity=1-.2*d,c.style.opacity=tweenedOpacity,c.style.display="block"),a=1;a<=o;++a)t.fullWidth?(zTranslation=t.dist,tweenedOpacity=a===o&&s<0?1-d:1):(zTranslation=t.dist*(2*a+d*n),tweenedOpacity=1-.2*(2*a+d*n)),(!H||b+a<w)&&((c=g[r(b+a)]).style[I]=l+" translateX("+(t.shift+($*a-s)/2)+"px) translateZ("+zTranslation+"px)",c.style.zIndex=-a,c.style.opacity=tweenedOpacity,c.style.display="block"),t.fullWidth?(zTranslation=t.dist,tweenedOpacity=a===o&&s>0?1-d:1):(zTranslation=t.dist*(2*a-d*n),tweenedOpacity=1-.2*(2*a-d*n)),(!H||b-a>=0)&&((c=g[r(b-a)]).style[I]=l+" translateX("+(-t.shift+(-$*a-s)/2)+"px) translateZ("+zTranslation+"px)",c.style.zIndex=-a,c.style.opacity=tweenedOpacity,c.style.display="block");if((!H||b>=0&&b<w)&&((c=g[r(b)]).style[I]=l+" translateX("+-s/2+"px) translateX("+n*t.shift*d+"px) translateZ("+t.dist*d+"px)",c.style.zIndex=0,t.fullWidth?tweenedOpacity=1:tweenedOpacity=1-.2*d,c.style.opacity=tweenedOpacity,c.style.display="block"),p!==b&&"function"==typeof t.onCycleTo){var v=G.find(".carousel-item").eq(r(b));t.onCycleTo.call(this,v,A)}"function"==typeof T&&(T.call(this,v,A),T=null)}function d(){var e,t,i;t=(e=Date.now())-P,P=e,i=h-x,x=h,z=1e3*i/(1+t)*.8+.2*z}function c(){var e,i;L&&(e=Date.now()-P,(i=L*Math.exp(-e/t.duration))>2||i<-2?(n(k-i),requestAnimationFrame(c)):n(k))}function l(e){var t=b%w-e;H||(t<0?Math.abs(t+w)<Math.abs(t)&&(t+=w):t>0&&Math.abs(t-w)<t&&(t-=w)),t<0?G.trigger("carouselNext",[Math.abs(t)]):t>0&&G.trigger("carouselPrev",[t])}function p(t){"mousedown"===t.type&&e(t.target).is("img")&&t.preventDefault(),v=!0,A=!1,E=!1,S=o(t),C=s(t),z=L=0,x=h,P=Date.now(),clearInterval(M),M=setInterval(d,100)}function m(e){var t,i;if(v)if(t=o(e),y=s(e),i=S-t,Math.abs(C-y)<30&&!E)(i>2||i<-2)&&(A=!0,S=t,n(h+i));else{if(A)return e.preventDefault(),e.stopPropagation(),!1;E=!0}if(A)return e.preventDefault(),e.stopPropagation(),!1}function u(e){if(v)return v=!1,clearInterval(M),k=h,(z>10||z<-10)&&(k=h+(L=.9*z)),k=Math.round(k/$)*$,H&&(k>=$*(w-1)?k=$*(w-1):k<0&&(k=0)),L=k-h,P=Date.now(),requestAnimationFrame(c),A&&(e.preventDefault(),e.stopPropagation()),!1}var g,_,f,h,b,v,$,w,S,C,L,k,z,I,x,P,M,A,E,O=e('<ul class="indicators"></ul>'),D=null,T=null,G=e(this),N=G.find(".carousel-item").length>1,F=(G.attr("data-indicators")||t.indicators)&&N,H=G.attr("data-no-wrap")||t.noWrap||!N,B=G.attr("data-namespace")||i+a;G.attr("data-namespace",B);var j=function(t){var i=G.find(".carousel-item.active").length?G.find(".carousel-item.active").first():G.find(".carousel-item").first(),a=i.find("img").first();if(a.length)if(a[0].complete)if(a.height()>0)G.css("height",a.height());else{var o=a[0].naturalWidth,s=a[0].naturalHeight,r=G.width()/o*s;G.css("height",r)}else a.on("load",(function(){G.css("height",e(this).height())}));else if(!t){var n=i.height();G.css("height",n)}};if(t.fullWidth&&(t.dist=0,j(),F&&G.find(".carousel-fixed-item").addClass("with-indicators")),G.hasClass("initialized"))return e(window).trigger("resize"),G.trigger("carouselNext",[1e-6]),!0;G.addClass("initialized"),v=!1,h=k=0,g=[],_=G.find(".carousel-item").first().innerWidth(),f=G.find(".carousel-item").first().innerHeight(),$=2*_+t.padding,G.find(".carousel-item").each((function(t){if(g.push(e(this)[0]),F){var i=e('<li class="indicator-item"></li>');0===t&&i.addClass("active"),i.click((function(t){t.stopPropagation(),l(e(this).index())})),O.append(i)}})),F&&G.append(O),w=g.length,I="transform",["webkit","Moz","O","ms"].every((function(e){var t=e+"Transform";return void 0===document.body.style[t]||(I=t,!1)}));var U=Materialize.throttle((function(){t.fullWidth?(_=G.find(".carousel-item").first().innerWidth(),G.find(".carousel-item.active").height(),$=2*_+t.padding,k=h=2*b*_,j(!0)):n()}),200);e(window).off("resize.carousel-"+B).on("resize.carousel-"+B,U),void 0!==window.ontouchstart&&(G.on("touchstart.carousel",p),G.on("touchmove.carousel",m),G.on("touchend.carousel",u)),G.on("mousedown.carousel",p),G.on("mousemove.carousel",m),G.on("mouseup.carousel",u),G.on("mouseleave.carousel",u),G.on("click.carousel",(function(i){if(A)return i.preventDefault(),i.stopPropagation(),!1;if(!t.fullWidth){var a=e(i.target).closest(".carousel-item").index();0!=r(b)-a&&(i.preventDefault(),i.stopPropagation()),l(a)}})),n(h),e(this).on("carouselNext",(function(e,t,i){void 0===t&&(t=1),"function"==typeof i&&(T=i),k=$*Math.round(h/$)+$*t,h!==k&&(L=k-h,P=Date.now(),requestAnimationFrame(c))})),e(this).on("carouselPrev",(function(e,t,i){void 0===t&&(t=1),"function"==typeof i&&(T=i),k=$*Math.round(h/$)-$*t,h!==k&&(L=k-h,P=Date.now(),requestAnimationFrame(c))})),e(this).on("carouselSet",(function(e,t,i){void 0===t&&(t=0),"function"==typeof i&&(T=i),l(t)}))}))},next:function(t,i){e(this).trigger("carouselNext",[t,i])},prev:function(t,i){e(this).trigger("carouselPrev",[t,i])},set:function(t,i){e(this).trigger("carouselSet",[t,i])},destroy:function(){var t=e(this).attr("data-namespace");e(this).removeAttr("data-namespace"),e(this).removeClass("initialized"),e(this).find(".indicators").remove(),e(this).off("carouselNext carouselPrev carouselSet"),e(window).off("resize.carousel-"+t),void 0!==window.ontouchstart&&e(this).off("touchstart.carousel touchmove.carousel touchend.carousel"),e(this).off("mousedown.carousel mousemove.carousel mouseup.carousel mouseleave.carousel click.carousel")}};e.fn.carousel=function(i){return t[i]?t[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void e.error("Method "+i+" does not exist on jQuery.carousel"):t.init.apply(this,arguments)}}(jQuery),function(e){var t={init:function(t){return this.each((function(){var i=e("#"+e(this).attr("data-activates")),a=(e("body"),e(this)),o=a.parent(".tap-target-wrapper"),s=o.find(".tap-target-wave"),r=o.find(".tap-target-origin"),n=a.find(".tap-target-content");o.length||(o=a.wrap(e('<div class="tap-target-wrapper"></div>')).parent()),n.length||(n=e('<div class="tap-target-content"></div>'),a.append(n)),s.length||(s=e('<div class="tap-target-wave"></div>'),r.length||((r=i.clone(!0,!0)).addClass("tap-target-origin"),r.removeAttr("id"),r.removeAttr("style"),s.append(r)),o.append(s));var d=function(){o.is(".open")&&(o.removeClass("open"),r.off("click.tapTarget"),e(document).off("click.tapTarget"),e(window).off("resize.tapTarget"))},c=function(){var t="fixed"===i.css("position");if(!t)for(var r=i.parents(),d=0;d<r.length&&!(t="fixed"==e(r[d]).css("position"));d++);var c=i.outerWidth(),l=i.outerHeight(),p=t?i.offset().top-e(document).scrollTop():i.offset().top,m=t?i.offset().left-e(document).scrollLeft():i.offset().left,u=e(window).width(),g=e(window).height(),_=u/2,f=g/2,h=m<=_,b=m>_,v=p<=f,y=p>f,$=m>=.25*u&&m<=.75*u,w=a.outerWidth(),S=a.outerHeight(),C=p+l/2-S/2,L=m+c/2-w/2,k=t?"fixed":"absolute",z=$?w:w/2+c,I=S/2,x=v?S/2:0,P=h&&!$?w/2-c:0,M=c,A=y?"bottom":"top",E=2*c,O=E,D=S/2-O/2,T=w/2-E/2,G={};G.top=v?C:"",G.right=b?u-L-w:"",G.bottom=y?g-C-S:"",G.left=h?L:"",G.position=k,o.css(G),n.css({width:z,height:I,top:x,right:0,bottom:0,left:P,padding:M,verticalAlign:A}),s.css({top:D,left:T,width:E,height:O})};"open"==t&&(c(),o.is(".open")||(o.addClass("open"),setTimeout((function(){r.off("click.tapTarget").on("click.tapTarget",(function(e){d(),r.off("click.tapTarget")})),e(document).off("click.tapTarget").on("click.tapTarget",(function(t){d(),e(document).off("click.tapTarget")}));var t=Materialize.throttle((function(){c()}),200);e(window).off("resize.tapTarget").on("resize.tapTarget",t)}),0))),"close"==t&&d()}))},open:function(){},close:function(){}};e.fn.tapTarget=function(i){if(t[i]||"object"==typeof i)return t.init.apply(this,arguments);e.error("Method "+i+" does not exist on jQuery.tap-target")}}(jQuery),Handlebars.registerHelper("ifcond",(function(e,t,i,a){switch(t){case"==":return e==i?a.fn(this):a.inverse(this);case"===":return e===i?a.fn(this):a.inverse(this);case"!==":return e!==i?a.fn(this):a.inverse(this);case"<":return e<i?a.fn(this):a.inverse(this);case"<=":return e<=i?a.fn(this):a.inverse(this);case">":return e>i?a.fn(this):a.inverse(this);case">=":return e>=i?a.fn(this):a.inverse(this);case"&&":return e&&i?a.fn(this):a.inverse(this);case"||":return e||i?a.fn(this):a.inverse(this);default:return a.inverse(this)}})),Handlebars.registerHelper("encode",(function(e,t){if(e=Handlebars.Utils.escapeExpression(e)){let t=e.split(" ");if(t.length){let e="";return $.each(t,(function(i,a){let o;a.match("(?:(?:https?|ftp):\\/\\/)?[\\w/\\-?=%.]+\\.[\\w/\\-?=%.]+")?(o=a.includes("//")?`<a href="${a}" target="_blank">${a}</a>`:`<a href="http://${a}" target="_blank">${a}</a>`,e=e+" "+String(o)):e=e+" "+a,t.length==i+1&&(data=e)})),new Handlebars.SafeString(data)}return e}})),Handlebars.registerHelper("firstletter",(function(e,t){return e?e.charAt(0).toUpperCase():void 0})),Handlebars.registerHelper("firstletterCaps",(function(e,t){return e?e.charAt(0).toUpperCase()+e.slice(1):void 0})),Handlebars.registerHelper("core_api_url",(function(e){return config.api.core})),Handlebars.registerHelper("digibiz_api_url",(function(e){return config.api.digibiz})),Handlebars.registerHelper("filesize",(function(e,t){if(e){if(0==e)return"0 Byte";var i=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,i),2)+" "+["Bytes","KB","MB","GB","TB"][i]}}));var emptycol={getEmptyLayout:function(e,t,i,a,o){router.clearEvents(),removeLoader(),$(".global-loader-wrapper").remove(),$("link.components").remove(),console.log("@@@@"),fetch.replaceHtml((function(s){console.log("####"),fetch.appendHtml((function(t){console.log("removed logo display container"),$(".logo-display-container").addClass("hide"),e(!0)}),t,i,a,o)}),"layouts/login","#login-layout-web","#app-root")}},onecol={getDigibizLayout:function(e){0==$("#onecol-layout").length?getUserProfile((function(t){t?(console.log("22"),e()):$("#digibiz_header").length?(console.log("11"),e()):onecol.getLayout((function(){onecol.getHeader((function(){onecol.getUserSidebar((function(){onecol.getFileManger((function(){onecol.getNotification((function(){onecol.getAppSwitchSidebar((function(){$(".global-loader-wrapper").remove(),removeLoader(),showBackButton(),e()}))}))}))}))}))}))})):console.log("kjhgf")},getLayout:e=>{fetch.replaceHtml((function(t){$(".logo-display-container").remove(),e()}),"layouts/one.col","#onecol-layout","#app-root")},getHeader:e=>{var t=JSON.parse(sessionStorage.getItem("profile_details"));if(t.pictures.profile_display.hasOwnProperty("image_id")&&t.pictures.profile_display.image_id)var i=`${config.api.core}/api/individual/get_image?image_id=${t.pictures.profile_display.image_id}&device_id=${crossplat.device.uuid}`;else i="";var a={image_id:t.pictures.profile_display.image_id,account_id:t.individual.id,imageUrl:i,imageLetter:t.individual.name.first.charAt(0).toUpperCase()};fetch.replaceHtml((function(t){e()}),"sections/header","#header-layout","#digibiz_header",a)},getUserSidebar:e=>{var t=JSON.parse(sessionStorage.getItem("profile_details"));if(t.pictures.profile_display.hasOwnProperty("image_id")&&t.pictures.profile_display.image_id)var i=`${config.api.core}/api/individual/get_image?image_id=${t.pictures.profile_display.image_id}&device_id=${crossplat.device.uuid}`;else i="";var a={account_id:t.individual.id,name:t.individual.name,mobileNumber:t.login.mobile_number,user_name:t.login.user_name,avatarUrl:t.pictures.profile_display.image_id,imageUrl:i,imageLetter:t.individual.name.first.charAt(0).toUpperCase()};fetch.replaceHtml((function(t){e()}),"sections/user_sidebar","#user-menu-layout","#profile-menu-toggle",a)},getAppSwitchSidebar:e=>{fetch.replaceHtml((function(t){e()}),"sections/app_sidebar","#app-menu-layout","#app-menu-toggle")},getNotification:e=>{fetch.replaceHtml((function(t){e()}),"sections/notifications","#notifications-template","#notifications_menu_toggle")},getFileManger:e=>{fetch.replaceHtml((function(t){e()}),"sections/filemanager_sidebar","#filemanager-sidebar-layout","#filemanger_container_toggle")}},homecol={getHomeLayout:function(e){0==$("#onecol-layout").length?getUserProfile((function(t){t?(console.log("h222222"),e()):$("#digibiz-layout-main-contentbox").length?(console.log("h11111"),e()):homecol.getLayout((function(){$(".global-loader-wrapper").remove(),removeLoader(),showBackButton(),e()}))})):console.log("honecol-layout already present")},getLayout:e=>{console.log("****GETLAYOUT");var t,i=JSON.parse(sessionStorage.getItem("accountDetails"));if(t="browser"!=crossplat.device.platform&&"desktop"!=crossplat.device.platform,sessionStorage.getItem("get_role_btn"))var a={role_btn:sessionStorage.getItem("get_role_btn"),roles:i.roles,platform:t};else a={role_btn:"jeevi-role-btn",roles:i.roles,platform:t};fetch.replaceHtml((function(t){$(".logo-display-container").remove(),e()}),"page/landPage/home_page","#digibiz-home-page-template","#app-root",a)},getHeader:e=>{var t=JSON.parse(sessionStorage.getItem("profile_details"));if(t.pictures.profile_display.hasOwnProperty("image_id")&&t.pictures.profile_display.image_id)var i=`${config.api.core}/api/individual/get_image?image_id=${t.pictures.profile_display.image_id}&device_id=${crossplat.device.uuid}`;else i="";var a={image_id:t.pictures.profile_display.image_id,account_id:t.individual.id,imageUrl:i,imageLetter:t.individual.name.first.charAt(0).toUpperCase()};fetch.replaceHtml((function(t){e()}),"sections/header","#header-layout","#digibiz_header",a)},getUserSidebar:e=>{var t=JSON.parse(sessionStorage.getItem("profile_details"));if(t.pictures.profile_display.hasOwnProperty("image_id")&&t.pictures.profile_display.image_id)var i=`${config.api.core}/api/individual/get_image?image_id=${t.pictures.profile_display.image_id}&device_id=${crossplat.device.uuid}`;else i="";var a={account_id:t.individual.id,name:t.individual.name,mobileNumber:t.login.mobile_number,user_name:t.login.user_name,avatarUrl:t.pictures.profile_display.image_id,imageUrl:i,imageLetter:t.individual.name.first.charAt(0).toUpperCase()};fetch.replaceHtml((function(t){e()}),"sections/user_sidebar","#user-menu-layout","#profile-menu-toggle",a)},getAppSwitchSidebar:e=>{fetch.replaceHtml((function(t){e()}),"sections/app_sidebar","#app-menu-layout","#app-menu-toggle")},getNotification:e=>{fetch.replaceHtml((function(t){e()}),"sections/notifications","#notifications-template","#notifications_menu_toggle")},getFileManger:e=>{fetch.replaceHtml((function(t){e()}),"sections/filemanager_sidebar","#filemanager-sidebar-layout","#filemanger_container_toggle")}};function isDoubleClicked(e){return!!e.data("isclicked")||(e.data("isclicked",!0),setTimeout((function(){e.removeData("isclicked")}),500),!1)}var appScroll={scrollBar:function(e){$(e).overlayScrollbars({className:"os-theme-dark",sizeAutoCapable:!0,autoUpdate:!0,scrollbars:{clickScrolling:!0,dragScrolling:!0,touchSupport:!0},callbacks:{onScroll:function(e){var t=e.target;t.querySelector(".os-content").parentElement.parentElement.parentElement.dispatchEvent(new CustomEvent("el_scroll",{detail:{scrollTop:t.scrollTop,scrollHeight:t.scrollHeight,offsetHeight:t.offsetHeight}}))}}})}};function joinRoom(e){console.log("room",e),sockets.digibizSocket.emit("joinroom",e)}function getInputText(e){return $(e).html().replace(/&#10;/g,"\n").replace(/&#09;/g,"\t").replace(/<img[^>]*alt="([^"]+)"[^>]*>/gi,"$1").replace(/\n|\r/g,"").replace(/<br[^>]*>/gi,"\n").replace(/(?:<(?:div|p|ol|ul|li|pre|code|object)[^>]*>)+/gi,"<div>").replace(/(?:<\/(?:div|p|ol|ul|li|pre|code|object)>)+/gi,"</div>").replace(/\n<div><\/div>/gi,"\n").replace(/<div><\/div>\n/gi,"\n").replace(/(?:<div>)+<\/div>/gi,"\n").replace(/([^\n])<\/div><div>/gi,"$1\n").replace(/(?:<\/div>)+/gi,"</div>").replace(/([^\n])<\/div>([^\n])/gi,"$1\n$2").replace(/<\/div>/gi,"").replace(/([^\n])<div>/gi,"$1\n").replace(/\n<div>/gi,"\n").replace(/<div>\n/gi,"\n\n").replace(/<(?:[^>]+)?>/g,"").replace(/&nbsp;/g," ").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x60;/g,"`").replace(/&#60;/g,"<").replace(/&#62;/g,">").replace(/&amp;/g,"&")}function checkTransactionalPassword(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e):i(JSON.parse(e.responseText))}),api.verify_transaction_password,"POST","JSON",e)}))}function clearGlobalArrays(){digibiz.department_list_selection=[],digibiz.active_super_admins_list=[],digibiz.pending_super_admins_list=[],digibiz.groupPictureblob={},digibiz.storages=[],digibiz.digibiz_storages=[],digibiz.access_list=[],digibiz.employee_group_image={},digibiz.collaborator_employee_list=[],digibiz.employee_group_employee_members=[],digibiz.employee_group_standard_group_members=[],digibiz.employee_group_department_members=[],digibiz.standard_employees_groups_list_page=[],digibiz.custom_employees_groups_list_page=[],digibiz.business_owner_business_list=[],digibiz.employee_notification_details_list=[],digibiz.customer_notification_details_list=[],digibiz.associate_customer_notification_details_list=[],digibiz.employee_business_list=[],digibiz.customer_business_list=[],digibiz.customer_collaborator_business_list=[],digibiz.digibiz_notifications=[],digibiz.business_notifications=[],digibiz.active_employee_creation_employee_list=[],digibiz.pending_employee_creation_employee_list=[],digibiz.customer_identifiers=[],digibiz.associate_customer_identifiers=[],digibiz.customer_identifiers_active_customers_list=[],digibiz.customer_identifiers_pending_customers_list=[],digibiz.customer_creation_active_list=[],digibiz.customer_creation_pending_list=[],digibiz.standard_customer_groups_identifiers_list=[],digibiz.customer_contacts_identifiers_list=[],digibiz.customer_access_identifiers_list=[],digibiz.contacts_items_list=[],digibiz.customer_access_identifier_items_list=[],digibiz.contacts_list=[],digibiz.groups_list=[],digibiz.custom_groups_list=[],digibiz.all_employees_list=[],digibiz.department_wise_employees_list=[],digibiz.collaborator_contact_list=[],digibiz.pending_collaborator_contact_list=[],digibiz.collaborator_contact_list_notification_details=[],digibiz.collaborator_groups_list=[],digibiz.collaborator_group_owner_employee_members=[],digibiz.cropper={},digibiz.declarationVideo={},digibiz.isDeclarationTransactionPictureSelected=!1,digibiz.isDeclarationSignaturePictureSelected=!1,digibiz.isDeclarationVideoPictureSelected=!1,digibiz.isAssociateCustomerIdentityPictureSelected=!1,digibiz.isCustomerIdentityPictureSelected=!1,digibiz.isEmployeeIdentityPictureSelected=!1,digibiz.isBusinessDisplayPictureSelected=!1,digibiz.isGroupPictureSelected=!1,digibiz.homePageList=[],digibiz.file_type="",digibiz.selectedShareDocument=[],digibiz.filemanager_breadcrumb_path=[],digibiz.cloudAssets=[],digibiz.uploadingFiles=[],digibiz.cameraUploadingFiles=[],digibiz.transactional_picture={},digibiz.signature_picture={},digibiz.device_multimedia_selected_files=[],digibiz.cloud_uploading_files=[],digibiz.cloud_multimedia_selected_files=[],digibiz.camera_multimedia_selected_files=[],digibiz.device_multimedia_uploaded_files=[],digibiz.cloud_multimedia_uploaded_files=[],digibiz.camera_multimedia_uploaded_files=[],digibiz.assets=[],digibiz.department_list=[],digibiz.role_management_employee_list=[],digibiz.role_management_employee_apps_access_list=[],digibiz.role_assignment={},digibiz.logs_list=[],digibiz.customerGroupsContactsList=[],digibiz.customerGroupCustomGroupsList=[],digibiz.communicationGroupsList=[],digibiz.communicationEmployeeGroupsList=[],digibiz.communicationCustomerGroupsList=[],digibiz.communicationGroupsCustomerContactsList=[],digibiz.communicationActivateEmployeeGroupsList=[],digibiz.communicationActivateCustomersGroupsList=[],digibiz.communicationActivateEmployeeGroupEmployeeList=[],digibiz.communicationCreateEmployeeGroupEmployeeList=[],digibiz.communicationActivateCustomerGroupCustomersList=[],digibiz.communicationCreateEmployeeGroupsList=[],digibiz.communicationCreateCustomersGroupsList=[],digibiz.communicationCreateCollaboratorGroupsList=[],digibiz.communicationGroupActivate=[],digibiz.alreadySelected=[],digibiz.alreadySelectedDepartment=[],digibiz.alreadyModuleAdmin=[],sessionStorage.removeItem("group_creation_running"),sessionStorage.removeItem("group_id")}function firstLetterUpperCase(e){return e.charAt(0).toUpperCase()+e.slice(1)}function getDigibizAccountPage(){return new Promise(((e,t)=>{addLoader(),getUserProfile((function(t,i){if(!t&&i){var a={device_id:crossplat.device.uuid,user_profile:i};fetch.replaceHtml((function(){e()}),"page/landPage/digibiz_account","#digibiz-account-page-template","#app-root",a)}else e(),Materialize.toast("Error! Please try again later",3e3,"round error-alert")}))}))}function getDigibizAccountRoleUpdatePage(){return new Promise(((e,t)=>{addLoader(),getUserProfile((function(t,i){if(!t&&i){var a={device_id:crossplat.device.uuid,user_profile:i};fetch.replaceHtml((function(){e()}),"page/landPage/digibiz_account_role_update","#digibiz-account-role-update-page-template","#app-root",a)}else e(),Materialize.toast("Error! Please try again later",3e3,"round error-alert")}))}))}function getDigibizAccountStoragePage(){return new Promise(((e,t)=>{addLoader(),reqParam={device_id:crossplat.device.uuid,uuid:sessionStorage.getItem("uuid")},getDigibizAccount(reqParam).then((t=>{var i={device_id:crossplat.device.uuid,selected:!0,id:sessionStorage.getItem("account_id"),type:"individual"};console.log("requestParams",i),fetch.apiCall((function(i,a,o){if("success"===a)if(window.sessionStorage.setItem("storage_token",JSON.stringify(i.Data)),t.hasOwnProperty("storage")&&t.storage?(digibiz.digibiz_storages=[],t.storage.hasOwnProperty("GoogleDrive")&&t.storage.GoogleDrive&&digibiz.digibiz_storages.push({name:"GoogleDrive",account:t.storage.GoogleDrive.account}),t.storage.hasOwnProperty("OneDrive")&&t.storage.OneDrive&&digibiz.digibiz_storages.push({name:"OneDrive",account:t.storage.OneDrive.account}),t.storage.hasOwnProperty("DropBox")&&t.storage.DropBox&&digibiz.digibiz_storages.push({name:"DropBox",account:t.storage.DropBox.account}),t.storage.hasOwnProperty("DJ")&&t.storage.DJ&&digibiz.digibiz_storages.push({name:"DJ",account:t.storage.DJ})):(console.log("storage not present"),console.log("setting_digibiz_storage_selection"),sessionStorage.setItem("digibiz_storage_selection","first")),"first"==sessionStorage.getItem("digibiz_storage_selection")){if(t.hasOwnProperty("storage")&&t.storage)if(t.storage.length>=4)var s={storage_list:digibiz.digibiz_storages,active_storage:t.active_storage};else s={storage_list:digibiz.digibiz_storages,active_storage:t.active_storage,addStorage:!0};else s={storage_list:digibiz.digibiz_storages,active_storage:t.active_storage,addStorage:!0};fetch.replaceHtml((function(){removeLoader(),e()}),"page/landPage/digibiz_account_storage","#digibiz-account-storage-page-template","#app-root",s)}else{console.log("123");s={storage_list:digibiz.digibiz_storages,active_storage:t.active_storage,addStorage:!0,storage_token:JSON.parse(window.sessionStorage.getItem("storage_token"))};console.log("getData",s),console.log("checc",s.storage_token.tokenStatus),fetch.replaceHtml((function(){"inactive"==s.storage_token.tokenStatus?(showReauthenticateStorage(),sessionStorage.getItem("authErrorCode")?Materialize.toast(JSON.parse(sessionStorage.getItem("authErrorCode")),1e4,"error-alert"):Materialize.toast("Access is revoked, please reauthenticate the selected drive",1e4,"error-alert")):console.log("4566"),removeLoader(),e()}),"page/landPage/digibiz_account_storage","#digibiz-account-storage-page-template","#app-root",s)}else if(console.log("error",i),400==i.status)if(window.sessionStorage.setItem("storage_token",JSON.stringify(i.responseJSON.Data)),t.hasOwnProperty("storage")&&t.storage?(digibiz.digibiz_storages=[],console.log("storage is present"),t.storage.hasOwnProperty("GoogleDrive")&&t.storage.GoogleDrive&&digibiz.digibiz_storages.push({name:"GoogleDrive",account:t.storage.GoogleDrive.account}),t.storage.hasOwnProperty("OneDrive")&&t.storage.OneDrive&&digibiz.digibiz_storages.push({name:"OneDrive",account:t.storage.OneDrive.account}),t.storage.hasOwnProperty("DropBox")&&t.storage.DropBox&&digibiz.digibiz_storages.push({name:"DropBox",account:t.storage.DropBox.account}),t.storage.hasOwnProperty("DJ")&&t.storage.DJ&&digibiz.digibiz_storages.push({name:"DJ",account:t.storage.DJ})):(console.log("storage not present"),console.log("setting_digibiz_storage_selection"),sessionStorage.setItem("digibiz_storage_selection","first")),"first"==sessionStorage.getItem("digibiz_storage_selection")){if(t.hasOwnProperty("storage")&&t.storage)if(t.storage.length>=4)s={storage_list:digibiz.digibiz_storages,active_storage:t.active_storage};else s={storage_list:digibiz.digibiz_storages,active_storage:t.active_storage,addStorage:!0};else s={storage_list:digibiz.digibiz_storages,active_storage:t.active_storage,addStorage:!0};fetch.replaceHtml((function(){removeLoader(),e()}),"page/landPage/digibiz_account_storage","#digibiz-account-storage-page-template","#app-root",s)}else{console.log("123");s={storage_list:digibiz.digibiz_storages,active_storage:t.active_storage,addStorage:!0,storage_token:JSON.parse(window.sessionStorage.getItem("storage_token"))};fetch.replaceHtml((function(){"inactive"==s.storage_token.tokenStatus&&(showReauthenticateStorage(),sessionStorage.getItem("authErrorCode")?Materialize.toast(JSON.parse(sessionStorage.getItem("authErrorCode")),1e4,"error-alert"):Materialize.toast("Access is revoked, please reauthenticate the selected drive",1e4,"error-alert")),removeLoader(),e()}),"page/landPage/digibiz_account_storage","#digibiz-account-storage-page-template","#app-root",s)}else console.log("!@#$!@#$ checkkkkkkk in middleware")}),api.check_token,"POST","JSON",i)})).catch((t=>{fetch.replaceHtml((function(){removeLoader(),e()}),"page/landPage/digibiz_account_storage","#digibiz-account-storage-page-template","#app-root",{addStorage:!0})}))}))}function getBusinessStoragePage(){return new Promise(((e,t)=>{addLoader(),businessGet({device_id:crossplat.device.uuid,id:sessionStorage.getItem("business_id")}).then((t=>{digibiz.storages=[],t.hasOwnProperty("storage")&&t.storage&&(t.storage.hasOwnProperty("GoogleDrive")&&t.storage.GoogleDrive&&digibiz.storages.push({name:"GoogleDrive",account:t.storage.GoogleDrive.account}),t.storage.hasOwnProperty("OneDrive")&&t.storage.OneDrive&&digibiz.storages.push({name:"OneDrive",account:t.storage.OneDrive.account}),t.storage.hasOwnProperty("DropBox")&&t.storage.DropBox&&digibiz.storages.push({name:"DropBox",account:t.storage.DropBox.account}),t.storage.hasOwnProperty("DJ")&&t.storage.DJ&&digibiz.storages.push({name:"DJ",account:t.storage.DJ}));var i={storage_list:digibiz.storages,active_storage:t.active_storage};digibiz.storages.length<4&&(i.addStorage=!0),fetch.replaceHtml((function(){console.log("checkSession in storage",sessionStorage);var t={device_id:crossplat.device.uuid,selected:!0,id:sessionStorage.getItem("business_id"),type:"business"};fetch.apiCall((function(t,i,a){"success"===i?(console.log("success"),e()):(window.sessionStorage.setItem("business_storage_token",JSON.stringify(t.responseJSON.Data)),sessionStorage.getItem("business_storage_token")&&"inactive"==JSON.parse(sessionStorage.getItem("business_storage_token")).tokenStatus?sessionStorage.getItem("authErrorCode")?(showReauthenticateBusinessStorage(),e(),Materialize.toast(JSON.parse(sessionStorage.getItem("authErrorCode")),1e4,"error-alert")):(Materialize.toast("Access is revoked, please reauthenticate the selected drive",1e4,"error-alert"),showReauthenticateBusinessStorage(),e()):(e(),console.log("4566",sessionStorage.getItem("business_storage_token"))))}),api.check_token,"POST","JSON",t)}),"page/business/business_storage","#business-storage-template","#main-content-wrapper",i)})).catch((e=>{removeLoader(),Materialize.toast("Business not found.",1e4,"error-alert")}))}))}function checkBusinessActiveStorage(e){businessGet({device_id:crossplat.device.uuid,id:sessionStorage.getItem("business_id")}).then((t=>{digibiz.storages=[],t.hasOwnProperty("storage")&&t.storage&&(t.storage.hasOwnProperty("GoogleDrive")&&t.storage.GoogleDrive&&digibiz.storages.push({name:"GoogleDrive",account:t.storage.GoogleDrive.account}),t.storage.hasOwnProperty("OneDrive")&&t.storage.OneDrive&&digibiz.storages.push({name:"OneDrive",account:t.storage.OneDrive.account}),t.storage.hasOwnProperty("DropBox")&&t.storage.DropBox&&digibiz.storages.push({name:"DropBox",account:t.storage.DropBox.account}),t.storage.hasOwnProperty("DJ")&&t.storage.DJ&&digibiz.storages.push({name:"DJ",account:t.storage.DJ}));var i={storage_list:digibiz.storages,active_storage:t.active_storage};digibiz.storages.length<4&&(i.addStorage=!0),console.log("checkSession in storage",sessionStorage);var a={device_id:crossplat.device.uuid,selected:!0,id:sessionStorage.getItem("business_id"),type:"business"};fetch.apiCall((function(t,i,a){"success"===i?(console.log("success"),e()):(window.sessionStorage.setItem("business_storage_token",JSON.stringify(t.responseJSON.Data)),sessionStorage.getItem("business_storage_token")&&"inactive"==JSON.parse(sessionStorage.getItem("business_storage_token")).tokenStatus?sessionStorage.getItem("authErrorCode")?(showReauthenticateBusinessStorage(),e(),Materialize.toast(JSON.parse(sessionStorage.getItem("authErrorCode")),1e4,"error-alert")):(Materialize.toast("Access is revoked, please reauthenticate the selected drive",1e4,"error-alert"),showReauthenticateBusinessStorage(),e()):(e(),console.log("4566",sessionStorage.getItem("business_storage_token"))))}),api.check_token,"POST","JSON",a)})).catch((e=>{removeLoader(),Materialize.toast("Business not found.",1e4,"error-alert")}))}function showReauthenticateStorage(){$(".alert-wrapper").remove();var e=JSON.parse(window.sessionStorage.getItem("storage_token")),t=digibiz.digibiz_storages.find((t=>t.name==e.selectedStorage));if(t)var i={alert_id:"Reauthenticate-account",alert_platform:crossplat.device.platform,alert_title:`Reauthenticate ${e.selectedStorage.toLowerCase()} account`,alert_body:`<div class="storage-active-account">\n            <div class="profile-picture-wrapper"><img src="${t.account.picture}"/></div>\n            <div class="profile-details-wrapper"><div class="profile-name">${t.account.name}</div><div class="profile-email">${t.account.email}</div></div>\n            </div>`,alert_btn:[{name:"Choose other storage",attr:[{name:"id",value:"change-drive-button"},{name:"data-storage",value:e.selectedStorage}]},{name:"Reauthenticate to Same Drive",attr:[{name:"id",value:"logout-add-new-storage"},{name:"data-storage",value:e.selectedStorage}]}]};else i={alert_id:"Reauthenticate-account",alert_platform:crossplat.device.platform,alert_title:`Authenticate to ${e.selectedStorage.toLowerCase()} account`,alert_body:`Login to ${e.selectedStorage.toLowerCase()} account or enable other storage.`,alert_btn:[{name:"Choose other storage",attr:[{name:"id",value:"change-drive-button"},{name:"data-storage",value:e.selectedStorage}]},{name:"Login",attr:[{name:"id",value:"reauthenticate-storage"},{name:"data-storage",value:e.selectedStorage}]}]};showAlert(i,(function(){removeLoader()}))}function showReauthenticateBusinessStorage(){$(".alert-wrapper").remove();var e=JSON.parse(window.sessionStorage.getItem("business_storage_token"));console.log("token_status",e);var t=digibiz.storages.find((t=>t.name==e.selectedStorage));console.log("storage_token",t);t?showAlert({alert_id:"Reauthenticate-account",alert_platform:crossplat.device.platform,alert_title:`Reauthenticate ${e.selectedStorage.toLowerCase()} account`,alert_body:`<div class="storage-active-account">\n            <div class="profile-picture-wrapper"><img src="${t.account.picture}"/></div>\n            <div class="profile-details-wrapper"><div class="profile-name">${t.account.name}</div><div class="profile-email">${t.account.email}</div></div>\n            </div>`,alert_btn:[{name:"Choose other storage",attr:[{name:"id",value:"change-business-drive-button"},{name:"data-storage",value:e.selectedStorage}]},{name:"Reauthenticate to Same Drive",attr:[{name:"id",value:"logout-add-new-business-storage"},{name:"data-storage",value:e.selectedStorage}]}]},(function(){removeLoader()})):showAlert({alert_id:"Reauthenticate-account",alert_platform:crossplat.device.platform,alert_title:`Authenticate to ${e.selectedStorage.toLowerCase()} account`,alert_body:`Login to ${e.selectedStorage.toLowerCase()} account or enable other storage.`,alert_btn:[{name:"Choose other storage",attr:[{name:"id",value:"change-business-drive-button"},{name:"data-storage",value:e.selectedStorage}]},{name:"Login",attr:[{name:"id",value:"reauthenticate-storage"},{name:"data-storage",value:e.selectedStorage}]}]},(function(){removeLoader()}))}function addDigibizAccount(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.add_account,"POST","JSON",e)}))}function updateDigibizAccount(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.update_digibiz_record,"POST","JSON",e)}))}function accountGet(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.get_digibiz_record,"POST","JSON",e)}))}function accountSettings(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.account_settings,"POST","JSON",e)}))}function accountUpdate(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.account_update,"POST","JSON",e)}))}function accountDelete(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.account_delete,"POST","JSON",e)}))}function checkCanAccountDelete(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.check_can_account_delete,"POST","JSON",e)}))}function getDigibizAccount(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.get_account,"POST","JSON",e)}))}function addJeeviAccount(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.add_jeevi,"POST","JSON",e)}))}function getJeeviAccount(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if(console.log("response",e),"success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.get_jeevi,"POST","JSON",e)}))}function jeeviAccountSettings(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.jeevi_account_settings,"POST","JSON",e)}))}function jeeviAccountDelete(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.jeevi_account_delete,"POST","JSON",e)}))}function addDisplayControl(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e);else{var s=JSON.parse(e.responseText);i(s)}}),api.add_display_control,"POST","JSON",e)}))}function getDisplayControl(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.get_display_control,"POST","JSON",e)}))}function deleteDisplayControl(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.delete_display_control,"POST","JSON",e)}))}function addTheme(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.add_theme,"POST","JSON",e)}))}function getTheme(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.get_theme,"POST","JSON",e)}))}function deleteTheme(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.delete_theme,"POST","JSON",e)}))}function listTransactionSignaturePicture(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.list_transaction_signature_picture,"POST","JSON",e)}))}function getRecordTransactionSignaturePicture(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.get_record_transaction_signature_picture,"POST","JSON",e)}))}function deleteRecordTransactionSignaturePicture(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.delete_record_transaction_signature_picture,"POST","JSON",e)}))}function updateRecordTransactionSignaturePicture(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.update_transaction_signature_picture,"POST","JSON",e)}))}function getLandingPageList(){return new Promise(((e,t)=>{addLoader(),notificationList({device_id:crossplat.device.uuid,list_by:"for_me_count"}).then((t=>{var i={notification_count:t.length};fetch.replaceHtml((function(){$(".digibiz_notification_count").removeClass("hide"),removeLoader(),e()}),"page/landPage/land_page","#digibiz-land-page","#main-content-wrapper",i)})).catch((t=>{fetch.replaceHtml((function(){removeLoader(),e()}),"page/landPage/land_page","#digibiz-land-page","#main-content-wrapper",null)}))}))}function getDigibizNotificationsPage(){return new Promise(((e,t)=>{addLoader(),notificationList({device_id:crossplat.device.uuid,list_by:"for_me",count:20,offset:0}).then((t=>{fetch.replaceHtml((function(){processDigibizNotificationsList(t,(function(){appScroll.scrollBar("#digibiz-notifications-list-wrapper"),listenForDigibizNotificationsListScrollEvent($("#digibiz-notifications-list-wrapper")),removeLoader(),e()}))}),"page/business/digibiz_notifications_wrapper","#digibiz-notifications-list-wrapper-template","#main-content-wrapper",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/business/digibiz_notifications_data","#digibiz-notifications-data-list-template","#digibiz-notifications-list-wrapper",null)}),"page/business/digibiz_notifications_wrapper","#digibiz-notifications-list-wrapper-template","#main-content-wrapper",null)}))}))}function processDigibizNotificationsList(e,t){digibiz.digibiz_notifications=removeDuplicates(digibiz.digibiz_notifications.concat(e),"id");var i={digibiz_notification_list_data:digibiz.digibiz_notifications.map((e=>{if(e.hasOwnProperty("display_picture")&&e.display_picture)if(e.display_picture.hasOwnProperty("thumbnail")&&e.display_picture.thumbnail){var t=`${api.get_business_multimedia}?business_id=${e.business_id}&device_id=${crossplat.device.uuid}&image_id=${e.display_picture.thumbnail}`;e.display_picture.avtarUrl=t,e.imageLetter=e.business_name.charAt(0)}else e.imageLetter=e.business_name.charAt(0);else e.imageLetter=e.business_name.charAt(0);return"number"==typeof e.createdDate&&(e.createdDate=moment.unix(e.createdDate).format("MMM D YYYY hh:mm:ss A")),"number"==typeof e.updatedDate&&(e.updatedDate=moment.unix(e.updatedDate).format("MMM D YYYY hh:mm:ss A")),"number"==typeof e.expiryDate&&(e.expiryDate=moment.unix(e.expiryDate).format("MMM D YYYY hh:mm:ss A")),e}))};fetch.replaceHtml((function(e){e||t()}),"page/business/digibiz_notifications_data","#digibiz-notifications-data-list-template","#digibiz-notifications-list-wrapper",i)}function listenForDigibizNotificationsListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),addLoader(),notificationList({device_id:crossplat.device.uuid,list_by:"for_me",count:20,offset:digibiz.digibiz_notifications.length}).then((e=>{removeLoader(),scrollProcessDigibizNotificationsList(e,(function(){listenForDigibizNotificationsListScrollEvent($("#digibiz-notifications-list-wrapper"))}))})).catch((e=>{fetch.appendHtml((function(e){e||removeLoader()}),"page/business/scroll_digibiz_notifications_data","#scroll-digibiz-notifications-data-list-template",".digibiz-notifications-list-contentbox",null)})))}))}function scrollProcessDigibizNotificationsList(e,t){digibiz.digibiz_notifications=removeDuplicates(digibiz.digibiz_notifications.concat(e),"id");var i={digibiz_notification_list_data:e.map((e=>{if(e.hasOwnProperty("display_picture")&&e.display_picture)if(e.display_picture.hasOwnProperty("thumbnail")&&e.display_picture.thumbnail){var t=`${api.get_business_multimedia}?business_id=${e.business_id}&device_id=${crossplat.device.uuid}&image_id=${e.display_picture.thumbnail}`;e.display_picture.avtarUrl=t,e.imageLetter=e.business_name.charAt(0)}else e.imageLetter=e.business_name.charAt(0);else e.imageLetter=e.business_name.charAt(0);return"number"==typeof e.createdDate&&(e.createdDate=moment.unix(e.createdDate).format("MMM D YYYY hh:mm:ss A")),"number"==typeof e.updatedDate&&(e.updatedDate=moment.unix(e.updatedDate).format("MMM D YYYY hh:mm:ss A")),"number"==typeof e.expiryDate&&(e.expiryDate=moment.unix(e.expiryDate).format("MMM D YYYY hh:mm:ss A")),e}))};fetch.appendHtml((function(e){e||t()}),"page/business/scroll_digibiz_notifications_data","#scroll-digibiz-notifications-data-list-template",".digibiz-notifications-list-contentbox",i)}function getEmployeeNotificationDetailsPage(){return new Promise(((e,t)=>{notificationList({device_id:crossplat.device.uuid,list_by:"contact_logs",business_id:sessionStorage.getItem("business_id"),contact_uuid:sessionStorage.getItem("contact_uuid")}).then((t=>{fetch.replaceHtml((function(){processEmployeeNotificationDetails(t,(function(){removeLoader(),e()}))}),"page/business/employee_notification_details_list_wrapper","#employee-notification-details-list-wrapper-template","#main-content-wrapper",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/business/employee_notification_details_list_data","#employee-notification-details-data-list-template","#employee-notification-details-list-wrapper",null)}),"page/business/employee_notification_details_list_wrapper","#employee-notification-details-list-wrapper-template","#main-content-wrapper",null)}))}))}function processEmployeeNotificationDetails(e,t){digibiz.employee_notification_details_list=removeDuplicates(digibiz.employee_notification_details_list.concat(e.log_data),"id");var i={employee_notification_details:digibiz.employee_notification_details_list.map((e=>("number"==typeof e.createdDate&&(e.createdDate=moment.unix(e.createdDate).format("MMM D YYYY hh:mm:ss A")),"number"==typeof e.updatedDate&&(e.updatedDate=moment.unix(e.updatedDate).format("MMM D YYYY hh:mm:ss A")),"number"==typeof e.expiryDate&&(e.expiryDate=moment.unix(e.expiryDate).format("MMM D YYYY hh:mm:ss A")),e)))};fetch.replaceHtml((function(i){i||("active"==e.last_notification.status.status&&("rejected"!=e.last_notification.contact.status.status&&"expired"!=e.last_notification.contact.status.status||$(".fixed-action-btn").removeClass("hide")),t())}),"page/business/employee_notification_details_list_data","#employee-notification-details-data-list-template","#employee-notification-details-list-wrapper",i)}function getSuperAdminNotificationDetailsPage(){return new Promise(((e,t)=>{notificationList({device_id:crossplat.device.uuid,list_by:"super_admin_contact_logs",business_id:sessionStorage.getItem("business_id"),contact_uuid:sessionStorage.getItem("contact_uuid")}).then((t=>{fetch.replaceHtml((function(){processSuperAdminNotificationDetails(t,(function(){removeLoader(),e()}))}),"page/business/super_admin_notification_details_list_wrapper","#super-admin-notification-details-list-wrapper-template","#main-content-wrapper",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/business/super_admin_notification_details_list_data","#super-admin-notification-details-data-list-template","#super-admin-notification-details-list-wrapper",null)}),"page/business/super_admin_notification_details_list_wrapper","#super-admin-notification-details-list-wrapper-template","#main-content-wrapper",null)}))}))}function processSuperAdminNotificationDetails(e,t){digibiz.super_admin_notification_details_list=removeDuplicates(digibiz.super_admin_notification_details_list.concat(e.log_data),"id");var i={super_admin_notification_details:digibiz.super_admin_notification_details_list.map((e=>("number"==typeof e.createdDate&&(e.createdDate=moment.unix(e.createdDate).format("MMM D YYYY hh:mm:ss A")),"number"==typeof e.updatedDate&&(e.updatedDate=moment.unix(e.updatedDate).format("MMM D YYYY hh:mm:ss A")),"number"==typeof e.expiryDate&&(e.expiryDate=moment.unix(e.expiryDate).format("MMM D YYYY hh:mm:ss A")),e)))};fetch.replaceHtml((function(i){i||("active"==e.last_notification.status.status&&("rejected"!=e.last_notification.contact.status.status&&"expired"!=e.last_notification.contact.status.status||$(".fixed-action-btn").removeClass("hide")),t())}),"page/business/super_admin_notification_details_list_data","#super-admin-notification-details-data-list-template","#super-admin-notification-details-list-wrapper",i)}function businessOwnerBusinessListPage(){return new Promise(((e,t)=>{digibiz.business_owner_business_list=[],businessList({device_id:crossplat.device.uuid,list_by:"my_business"}).then((t=>{fetch.replaceHtml((function(){processBusinessOwnerBusinessList(t,(function(){addLoader(),removeLoader(),e()}))}),"page/business/business_list_wrapper","#business-owner-business-list-wrapper-template","#digibiz-home-page-middle-band-wrapper",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/business/business_list_data","#business-owner-business-data-list-template","#business-owner-business-list-wrapper",null)}),"page/business/business_list_wrapper","#business-owner-business-list-wrapper-template","#digibiz-home-page-middle-band-wrapper",null)}))}))}function businessAdminBusinessListPage(){return new Promise(((e,t)=>{0==digibiz.checkAccountFlag?(digibiz.business_owner_business_list=[],businessList({device_id:crossplat.device.uuid,list_by:"my_business",count:20,offset:0}).then((t=>{fetch.replaceHtml((function(){processBusinessOwnerBusinessList(t,(function(){appScroll.scrollBar(".business-owner-business-list-main-container"),listenForBusinessOwnerBusinessListScrollEvent($(".business-owner-business-list-main-container")),removeLoader(),e()}))}),"page/business/business_list_wrapper","#business-owner-business-list-wrapper-template","#digibiz-home-page-middle-band-wrapper",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/business/business_list_data","#business-owner-business-data-list-template","#business-owner-business-list-wrapper",null)}),"page/business/business_list_wrapper","#business-owner-business-list-wrapper-template","#digibiz-home-page-middle-band-wrapper",null)}))):fetch.replaceHtml((function(){processBusinessOwnerBusinessList(digibiz.business_owner_business_list,(function(){appScroll.scrollBar(".business-owner-business-list-main-container"),listenForBusinessOwnerBusinessListScrollEvent($(".business-owner-business-list-main-container")),removeLoader(),e()}))}),"page/business/business_list_wrapper","#business-owner-business-list-wrapper-template","#digibiz-home-page-middle-band-wrapper",null)}))}function businessAdminBusinessListHelperMethod(){businessList({device_id:crossplat.device.uuid,list_by:"my_business",count:20,offset:0}).then((e=>{digibiz.business_owner_business_list=e,digibiz.business_owner_business_list.length>0&&$("#business-role-btn").removeClass("hide")})).catch((e=>{}))}function processBusinessOwnerBusinessList(e,t){digibiz.business_owner_business_list=removeDuplicates(digibiz.business_owner_business_list.concat(e),"id");var i={business_owner_business_list_data:digibiz.business_owner_business_list.map((e=>{if(e.hasOwnProperty("display_picture")&&e.display_picture)if(e.display_picture.hasOwnProperty("thumbnail")&&e.display_picture.thumbnail){var t=`${api.get_business_multimedia}?business_id=${e.id}&device_id=${crossplat.device.uuid}&image_id=${e.display_picture.thumbnail}`;e.imageLetter=e.name.charAt(0),e.display_picture.avtarUrl=t}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/business/business_list_data","#business-owner-business-data-list-template","#business-owner-business-list-wrapper",i)}function listenForBusinessOwnerBusinessListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),businessList({device_id:crossplat.device.uuid,list_by:"my_business",count:20,offset:digibiz.business_owner_business_list.length}).then((e=>{scrollProcessBusinessOwnerBusinessList(e,(function(){listenForBusinessOwnerBusinessListScrollEvent($(".business-owner-business-list-main-container")),removeLoader()}))})).catch((e=>{})))}))}function scrollProcessBusinessOwnerBusinessList(e,t){digibiz.business_owner_business_list=removeDuplicates(digibiz.business_owner_business_list.concat(e),"id");var i={business_owner_business_list_data:digibiz.business_owner_business_list.map((e=>{if(e.hasOwnProperty("display_picture")&&e.display_picture)if(e.display_picture.hasOwnProperty("thumbnail")&&e.display_picture.thumbnail){var t=`${api.get_business_multimedia}?business_id=${e.id}&device_id=${crossplat.device.uuid}&image_id=${e.display_picture.thumbnail}`;e.imageLetter=e.name.charAt(0),e.display_picture.avtarUrl=t}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/business/business_list_data","#business-owner-business-data-list-template","#business-owner-business-list-wrapper",i)}function businessAddPage(){return new Promise(((e,t)=>{sessionStorage.getItem("business_id")&&null!=sessionStorage.getItem("business_id")&&null!=sessionStorage.getItem("business_id")?businessTypeList({device_id:crossplat.device.uuid}).then((t=>{businessGet({device_id:crossplat.device.uuid,id:sessionStorage.getItem("business_id")}).then((i=>{"pending"!=i.status.status&&"draft"!=i.status.status||(console.log("pending"),"true"==i.socket_enable_status?(console.log("true"),reqParams={device_id:crossplat.device.uuid,id:sessionStorage.getItem("business_id"),data:{socket_enable_status:"false"}},businessUpdate(reqParams).then((a=>{if(removeLoader(),i.hasOwnProperty("display_picture")&&i.display_picture&&i.display_picture.hasOwnProperty("thumbnail")&&i.display_picture.thumbnail){var o=`${api.get_business_multimedia}?business_id=${sessionStorage.getItem("business_id")}&device_id=${crossplat.device.uuid}&image_id=${i.display_picture.thumbnail}`;i.display_picture.avtarUrl=o}if(i.hasOwnProperty("display_video")&&i.display_video&&i.display_video.hasOwnProperty("thumbnail")&&i.display_video.thumbnail){o=`${api.get_business_multimedia}?business_id=${sessionStorage.getItem("business_id")}&device_id=${crossplat.device.uuid}&image_id=${i.display_video.thumbnail}`;i.display_video.avtarUrl=o}if(i.hasOwnProperty("declaration_transaction_pictures")&&i.declaration_transaction_pictures)if(i.declaration_transaction_pictures.hasOwnProperty("thumbnail")&&i.declaration_transaction_pictures.thumbnail){o=`${api.get_business_multimedia}?business_id=${sessionStorage.getItem("business_id")}&device_id=${crossplat.device.uuid}&image_id=${i.declaration_transaction_pictures.thumbnail}`;i.declaration_transaction_pictures.avtarUrl=o}else i.declaration_transaction_pictures.hasOwnProperty("image_id")&&i.declaration_transaction_pictures.image_id&&(i.declaration_transaction_pictures.avtarUrl=i.declaration_transaction_pictures.image_url);if(i.hasOwnProperty("declaration_signature_pictures")&&i.declaration_signature_pictures)if(i.declaration_signature_pictures.hasOwnProperty("thumbnail")&&i.declaration_signature_pictures.thumbnail){o=`${api.get_business_multimedia}?business_id=${sessionStorage.getItem("business_id")}&device_id=${crossplat.device.uuid}&image_id=${i.declaration_signature_pictures.thumbnail}`;i.declaration_signature_pictures.avtarUrl=o}else i.declaration_signature_pictures.hasOwnProperty("image_id")&&i.declaration_signature_pictures.image_id&&(i.declaration_signature_pictures.avtarUrl=i.declaration_signature_pictures.image_url);if(i.hasOwnProperty("declaration_video")&&i.declaration_video&&i.declaration_video.hasOwnProperty("thumbnail")&&i.declaration_video.thumbnail){o=`${api.get_business_multimedia}?business_id=${sessionStorage.getItem("business_id")}&device_id=${crossplat.device.uuid}&image_id=${i.declaration_video.thumbnail}`;i.declaration_video.avtarUrl=o}i.hasOwnProperty("storage")&&i.storage&&(i.storage.hasOwnProperty("GoogleDrive")&&i.storage.GoogleDrive&&digibiz.storages.push({name:"GoogleDrive",account:i.storage.GoogleDrive.account}),i.storage.hasOwnProperty("OneDrive")&&i.storage.OneDrive&&digibiz.storages.push({name:"OneDrive",account:i.storage.OneDrive.account}),i.storage.hasOwnProperty("DropBox")&&i.storage.DropBox&&digibiz.storages.push({name:"DropBox",account:i.storage.DropBox.account}),i.storage.hasOwnProperty("DJ")&&i.storage.DJ&&digibiz.storages.push({name:"DJ",account:i.storage.DJ}));var s={businessTypes:t,getBusiness:i,getBusinessTypeId:i.business_type_id,storage_list:digibiz.storages,active_storage:i.active_storage};digibiz.storages.length<4&&(s.addStorage=!0),fetch.replaceHtml((function(){var t=$("#business-type-choose-select-dropdown").find(`option[data-id="${i.business_type_id}"]`).val();$("#business-type-choose-select-dropdown").val(t),mobileFlaginit(),calenderInit("#business_date_of_commencement"),calenderInit("#business_date_of_incorporation"),$(".new-business-delete-btn").removeClass("hide"),removeLoader(),e()}),"page/business/business_add","#business-add-template","#main-content-wrapper",s)})).catch((a=>{if("no updated data found"==a.msg){if(removeLoader(),i.hasOwnProperty("display_picture")&&i.display_picture&&i.display_picture.hasOwnProperty("thumbnail")&&i.display_picture.thumbnail){var o=`${api.get_business_multimedia}?business_id=${sessionStorage.getItem("business_id")}&device_id=${crossplat.device.uuid}&image_id=${i.display_picture.thumbnail}`;i.display_picture.avtarUrl=o}if(i.hasOwnProperty("display_video")&&i.display_video&&i.display_video.hasOwnProperty("thumbnail")&&i.display_video.thumbnail){o=`${api.get_business_multimedia}?business_id=${sessionStorage.getItem("business_id")}&device_id=${crossplat.device.uuid}&image_id=${i.display_video.thumbnail}`;i.display_video.avtarUrl=o}if(i.hasOwnProperty("declaration_transaction_pictures")&&i.declaration_transaction_pictures)if(i.declaration_transaction_pictures.hasOwnProperty("thumbnail")&&i.declaration_transaction_pictures.thumbnail){o=`${api.get_business_multimedia}?business_id=${sessionStorage.getItem("business_id")}&device_id=${crossplat.device.uuid}&image_id=${i.declaration_transaction_pictures.thumbnail}`;i.declaration_transaction_pictures.avtarUrl=o}else i.declaration_transaction_pictures.hasOwnProperty("image_id")&&i.declaration_transaction_pictures.image_id&&(i.declaration_transaction_pictures.avtarUrl=i.declaration_transaction_pictures.image_url);if(i.hasOwnProperty("declaration_signature_pictures")&&i.declaration_signature_pictures)if(i.declaration_signature_pictures.hasOwnProperty("thumbnail")&&i.declaration_signature_pictures.thumbnail){o=`${api.get_business_multimedia}?business_id=${sessionStorage.getItem("business_id")}&device_id=${crossplat.device.uuid}&image_id=${i.declaration_signature_pictures.thumbnail}`;i.declaration_signature_pictures.avtarUrl=o}else i.declaration_signature_pictures.hasOwnProperty("image_id")&&i.declaration_signature_pictures.image_id&&(i.declaration_signature_pictures.avtarUrl=i.declaration_signature_pictures.image_url);if(i.hasOwnProperty("declaration_video")&&i.declaration_video&&i.declaration_video.hasOwnProperty("thumbnail")&&i.declaration_video.thumbnail){o=`${api.get_business_multimedia}?business_id=${sessionStorage.getItem("business_id")}&device_id=${crossplat.device.uuid}&image_id=${i.declaration_video.thumbnail}`;i.declaration_video.avtarUrl=o}i.hasOwnProperty("storage")&&i.storage&&(i.storage.hasOwnProperty("GoogleDrive")&&i.storage.GoogleDrive&&digibiz.storages.push({name:"GoogleDrive",account:i.storage.GoogleDrive.account}),i.storage.hasOwnProperty("OneDrive")&&i.storage.OneDrive&&digibiz.storages.push({name:"OneDrive",account:i.storage.OneDrive.account}),i.storage.hasOwnProperty("DropBox")&&i.storage.DropBox&&digibiz.storages.push({name:"DropBox",account:i.storage.DropBox.account}),i.storage.hasOwnProperty("DJ")&&i.storage.DJ&&digibiz.storages.push({name:"DJ",account:i.storage.DJ}));var s={businessTypes:t,getBusiness:i,getBusinessTypeId:i.business_type_id,storage_list:digibiz.storages,active_storage:i.active_storage};digibiz.storages.length<4&&(s.addStorage=!0),fetch.replaceHtml((function(){var t=$("#business-type-choose-select-dropdown").find(`option[data-id="${i.business_type_id}"]`).val();$("#business-type-choose-select-dropdown").val(t),mobileFlaginit(),calenderInit("#business_date_of_commencement"),calenderInit("#business_date_of_incorporation"),$(".new-business-delete-btn").removeClass("hide"),removeLoader(),e()}),"page/business/business_add","#business-add-template","#main-content-wrapper",s)}}))):(console.log("false else part"),Materialize.toast("Access Denied! You or other administrator is creating this business at other place.",3e3,"round error-alert"),showAlert({alert_id:"alert-business-device-change-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Business Alert",alert_body:"Access Denied! You or other administrator is creating this business at other place. Would to like to cancel there and continue here?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-business-device-change-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-business-device-change-cancel-no"}]}]},(function(){removeLoader(),e(),$("#alert-business-device-change-confirm-cancel").attr("data-business-id",sessionStorage.getItem("business_id"))}))))})).catch((t=>{removeLoader(),e(),Materialize.toast("Error in getting business",3e3,"rounded error-alert")}))})).catch((t=>{removeLoader(),e(),Materialize.toast("Error in getting business types",3e3,"rounded error-alert")})):businessTypeList({device_id:crossplat.device.uuid}).then((t=>{var i={businessTypes:t,addStorage:!0};fetch.replaceHtml((function(){calenderInit("#business_date_of_commencement"),calenderInit("#business_date_of_incorporation"),mobileFlaginit(),removeLoader(),e()}),"page/business/business_add","#business-add-template","#main-content-wrapper",i)})).catch((t=>{fetch.replaceHtml((function(){Materialize.toast("Error in listing the business type",3e3,"round success-alert"),calenderInit("#business_date_of_commencement"),calenderInit("#business_date_of_incorporation"),mobileFlaginit(),removeLoader(),e()}),"page/business/business_add","#business-add-template","#main-content-wrapper",null)}))}))}function businessAddEditReload(){sessionStorage.getItem("business_id")&&null!=sessionStorage.getItem("business_id")&&null!=sessionStorage.getItem("business_id")?businessTypeList({device_id:crossplat.device.uuid}).then((e=>{businessGet({device_id:crossplat.device.uuid,id:sessionStorage.getItem("business_id")}).then((t=>{if(t.hasOwnProperty("display_picture")&&t.display_picture&&t.display_picture.hasOwnProperty("thumbnail")&&t.display_picture.thumbnail){var i=`${api.get_business_multimedia}?business_id=${sessionStorage.getItem("business_id")}&device_id=${crossplat.device.uuid}&image_id=${t.display_picture.thumbnail}`;t.display_picture.avtarUrl=i}if(t.hasOwnProperty("display_video")&&t.display_video&&t.display_video.hasOwnProperty("thumbnail")&&t.display_video.thumbnail){i=`${api.get_business_multimedia}?business_id=${sessionStorage.getItem("business_id")}&device_id=${crossplat.device.uuid}&image_id=${t.display_video.thumbnail}`;t.display_video.avtarUrl=i}if(t.hasOwnProperty("declaration_transaction_pictures")&&t.declaration_transaction_pictures)if(t.declaration_transaction_pictures.hasOwnProperty("thumbnail")&&t.declaration_transaction_pictures.thumbnail){i=`${api.get_business_multimedia}?business_id=${sessionStorage.getItem("business_id")}&device_id=${crossplat.device.uuid}&image_id=${t.declaration_transaction_pictures.thumbnail}`;t.declaration_transaction_pictures.avtarUrl=i}else t.declaration_transaction_pictures.hasOwnProperty("image_id")&&t.declaration_transaction_pictures.image_id&&(t.declaration_transaction_pictures.avtarUrl=t.declaration_transaction_pictures.image_url);if(t.hasOwnProperty("declaration_signature_pictures")&&t.declaration_signature_pictures)if(t.declaration_signature_pictures.hasOwnProperty("thumbnail")&&t.declaration_signature_pictures.thumbnail){i=`${api.get_business_multimedia}?business_id=${sessionStorage.getItem("business_id")}&device_id=${crossplat.device.uuid}&image_id=${t.declaration_signature_pictures.thumbnail}`;t.declaration_signature_pictures.avtarUrl=i}else t.declaration_signature_pictures.hasOwnProperty("image_id")&&t.declaration_signature_pictures.image_id&&(t.declaration_signature_pictures.avtarUrl=t.declaration_signature_pictures.image_url);if(t.hasOwnProperty("declaration_video")&&t.declaration_video&&t.declaration_video.hasOwnProperty("thumbnail")&&t.declaration_video.thumbnail){i=`${api.get_business_multimedia}?business_id=${sessionStorage.getItem("business_id")}&device_id=${crossplat.device.uuid}&image_id=${t.declaration_video.thumbnail}`;t.declaration_video.avtarUrl=i}t.hasOwnProperty("storage")&&t.storage&&(t.storage.hasOwnProperty("GoogleDrive")&&t.storage.GoogleDrive&&digibiz.storages.push({name:"GoogleDrive",account:t.storage.GoogleDrive.account}),t.storage.hasOwnProperty("OneDrive")&&t.storage.OneDrive&&digibiz.storages.push({name:"OneDrive",account:t.storage.OneDrive.account}),t.storage.hasOwnProperty("DropBox")&&t.storage.DropBox&&digibiz.storages.push({name:"DropBox",account:t.storage.DropBox.account}),t.storage.hasOwnProperty("DJ")&&t.storage.DJ&&digibiz.storages.push({name:"DJ",account:t.storage.DJ}));var a={businessTypes:e,getBusiness:t,getBusinessTypeId:t.business_type_id,storage_list:digibiz.storages,active_storage:t.active_storage};digibiz.storages.length<4&&(a.addStorage=!0),fetch.replaceHtml((function(){var e=$("#business-type-choose-select-dropdown").find(`option[data-id="${t.business_type_id}"]`).val();$("#business-type-choose-select-dropdown").val(e),mobileFlaginit(),calenderInit("#business_date_of_commencement"),calenderInit("#business_date_of_incorporation"),$(".new-business-delete-btn").removeClass("hide"),removeLoader()}),"page/business/business_add","#business-add-template","#main-content-wrapper",a)})).catch((e=>{removeLoader(),Materialize.toast("Error in getting business",3e3,"rounded error-alert")}))})).catch((e=>{removeLoader(),Materialize.toast("Error in getting business types",3e3,"rounded error-alert")})):businessTypeList({device_id:crossplat.device.uuid}).then((e=>{var t={businessTypes:e,addStorage:!0};fetch.replaceHtml((function(){calenderInit("#business_date_of_commencement"),calenderInit("#business_date_of_incorporation"),mobileFlaginit(),removeLoader()}),"page/business/business_add","#business-add-template","#main-content-wrapper",t)})).catch((e=>{fetch.replaceHtml((function(){Materialize.toast("Error in listing the business type",3e3,"round success-alert"),calenderInit("#business_date_of_commencement"),calenderInit("#business_date_of_incorporation"),mobileFlaginit(),removeLoader()}),"page/business/business_add","#business-add-template","#main-content-wrapper",null)}))}function businessProfileManagementPage(){return new Promise(((e,t)=>{viewBusinessCheckRole({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),account_id:sessionStorage.getItem("account_id")}).then((t=>{var i={type:t.type};fetch.replaceHtml((function(){"inactive"==sessionStorage.getItem("business_status")&&showAlert({alert_id:"alert-business-owner-inactive-ok",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Business is inactive. Activate the business to work on the business.",alert_btn:[{name:"Ok",attr:[{name:"id",value:"btn-business-owner-inactivate-ok"}]}]},(function(){}));removeLoader();new Swiper(".hubSwiper",{slidesPerView:1,spaceBetween:0,grabCursor:!0,observer:!0,pagination:{el:".swiper-pagination",clickable:!0}});$(".swiper").removeClass("hubSwiper"),e()}),"page/business/view_business_profile_hub","#view-business-profile-land-page","#main-content-wrapper",i)})).catch((e=>{removeLoader(),Materialize.toast("No access to business.",3e3,"round success-alert")}))}))}function businessManagementPage(){return new Promise(((e,t)=>{viewBusinessCheckRole({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),account_id:sessionStorage.getItem("account_id")}).then((t=>{sessionStorage.setItem("business_role",t.type);var i,a,o,s,r={type:t.type};"module_admin"==t.type&&(i=t.modules_data.indexOf("employee_management")>=0?"true":"false",a=t.modules_data.indexOf("customer_management")>=0?"true":"false",o=t.modules_data.indexOf("communication_management")>=0?"true":"false",s=t.modules_data.indexOf("collaborator_management")>=0?"true":"false",r.employee_module=i,r.customer_module=a,r.communication_module=o,r.collaborator_module=s);fetch.replaceHtml((function(){"inactive"==sessionStorage.getItem("business_status")&&($(".view-business-app-btn-icon-wrapper").addClass("hide"),showAlert({alert_id:"alert-business-owner-inactive-ok",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Business is inactive. Activate the business to work on the business.",alert_btn:[{name:"Ok",attr:[{name:"id",value:"btn-business-owner-inactivate-ok"}]}]},(function(){})));removeLoader(),e();new Swiper(".hubSwiper",{slidesPerView:1,spaceBetween:0,grabCursor:!0,observer:!0,pagination:{el:".swiper-pagination",clickable:!0},on:{beforeInit:function(){$(".swiper-slide .part-buttons:not(:has(.view-business-app-btn-icon-wrapper))").parents(".swiper-slide").remove()},observerUpdate:function(){$(".swiper-slide .part-buttons:not(:has(.view-business-app-btn-icon-wrapper))").parents(".swiper-slide").remove()}}});$(".swiper").removeClass("hubSwiper")}),"page/business/view_business_hub","#view-business-land-page","#main-content-wrapper",r)})).catch((e=>{removeLoader(),Materialize.toast("No access to business.",3e3,"round success-alert")}))}))}function employeeConfigurationsPage(){return new Promise(((e,t)=>{fetch.replaceHtml((function(){$(".view-digibiz-back-button").removeClass("hide"),removeLoader();new Swiper(".hubSwiper",{slidesPerView:1,spaceBetween:0,grabCursor:!0,observer:!0,pagination:{el:".swiper-pagination",clickable:!0}});$(".swiper").removeClass("hubSwiper"),e()}),"page/business/employee_configurations_hub","#employee-configurations-land-page","#main-content-wrapper",null)}))}function employeeManagementHubPage(){return new Promise(((e,t)=>{fetch.replaceHtml((function(){$(".view-digibiz-back-button").removeClass("hide"),removeLoader();new Swiper(".hubSwiper",{slidesPerView:1,spaceBetween:0,grabCursor:!0,observer:!0,pagination:{el:".swiper-pagination",clickable:!0}});$(".swiper").removeClass("hubSwiper"),e()}),"page/business/employee_management_hub","#employee-management-land-page","#main-content-wrapper",null)}))}function employeeControlsPage(){return new Promise(((e,t)=>{fetch.replaceHtml((function(){$(".view-digibiz-back-button").removeClass("hide"),removeLoader();new Swiper(".hubSwiper",{slidesPerView:1,spaceBetween:0,grabCursor:!0,observer:!0,pagination:{el:".swiper-pagination",clickable:!0}});$(".swiper").removeClass("hubSwiper"),e()}),"page/business/employee_controls_hub","#employee-controls-land-page","#main-content-wrapper",null)}))}function activeEmployeeListPage(){return new Promise(((e,t)=>{if(digibiz.active_employee_creation_employee_list&&digibiz.active_employee_creation_employee_list.length>0)fetch.replaceHtml((function(){processActiveEmployeeCreationEmployeeList(digibiz.active_employee_creation_employee_list,(function(){appScroll.scrollBar(".employee-creation-list-contentbox"),listenForActiveEmployeeListScrollEvent($(".employee-creation-list-contentbox")),removeLoader(),e()}))}),"page/common/active_employee_creation_list_wrapper","#active-employee-creation-list-wrapper-template","#active-employee-list-data-container",null);else{addLoader();var i={device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"list_all_active",count:20,offset:0};employeeCount(i).then((t=>{$(".active-employee-count").text(t),employeeList(i).then((t=>{fetch.replaceHtml((function(){processActiveEmployeeCreationEmployeeList(t,(function(){appScroll.scrollBar(".employee-creation-list-contentbox"),listenForActiveEmployeeListScrollEvent($(".employee-creation-list-contentbox")),removeLoader(),e()}))}),"page/common/active_employee_creation_list_wrapper","#active-employee-creation-list-wrapper-template","#active-employee-list-data-container",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/common/active_employee_creation_list_data","#active-employee-creation-data-list-template","#active-employee-creation-list-wrapper",null)}),"page/common/active_employee_creation_list_wrapper","#active-employee-creation-list-wrapper-template","#active-employee-list-data-container",null)}))})).catch((e=>{console.log("err",e)}))}}))}async function processActiveEmployeeCreationEmployeeList(e,t){digibiz.active_employee_creation_employee_list=removeDuplicates(digibiz.active_employee_creation_employee_list.concat(e),"dj_unique_employee_id");var i={employee_creation_employee_list_data:digibiz.active_employee_creation_employee_list.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);else e.imageLetter=e.name.first.charAt(0);return e}))};console.log("employeeList",i),fetch.replaceHtml((function(e){e||($(document).find(".expand-search-wrap").removeClass("active").children(".expand-search-input").val("").removeClass("searchexpand"),removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",t())}),"page/common/active_employee_creation_list_data","#active-employee-creation-data-list-template","#active-employee-creation-list-wrapper",i)}function aluminiEmployeeListPage(){if(!(digibiz.alumini_employee_list&&digibiz.alumini_employee_list.length>0))return addLoader(),new Promise(((e,t)=>{var i={device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"alumini",count:15,offset:0};employeeCount(i).then((t=>{$(".alumini-employee-count").text(t),employeeList(i).then((t=>{fetch.replaceHtml((function(){processAluminiEmployeeList(t,(function(){appScroll.scrollBar(".employee-creation-list-contentbox"),listenForAluminiEmployeeListScrollEvent($(".employee-creation-list-contentbox")),removeLoader(),e()}))}),"page/common/alumini_employee_creation_list_wrapper","#alumini-employee-creation-list-wrapper-template","#alumini-employee-list-data-container",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),appScroll.scrollBar(".employee-creation-list-contentbox"),e())}),"page/common/alumini_employee_creation_list_data","#alumini-employee-creation-data-list-template","#alumini-employee-creation-list-wrapper",null)}),"page/common/alumini_employee_creation_list_wrapper","#alumini-employee-creation-list-wrapper-template","#alumini-employee-list-data-container",null)}))})).catch((e=>{console.log("err",e)}))}));fetch.replaceHtml((function(){processAluminiEmployeeList(digibiz.alumini_employee_list,(function(){appScroll.scrollBar(".employee-creation-list-contentbox"),listenForAluminiEmployeeListScrollEvent($(".employee-creation-list-contentbox")),removeLoader()}))}),"page/common/alumini_employee_creation_list_wrapper","#alumini-employee-creation-list-wrapper-template","#alumini-employee-list-data-container",null)}function processAluminiEmployeeList(e,t){digibiz.alumini_employee_list=removeDuplicates(digibiz.alumini_employee_list.concat(e),"dj_unique_employee_id");var i={employee_creation_employee_list_data:digibiz.alumini_employee_list.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);else e.imageLetter=e.name.first.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/common/alumini_employee_creation_list_data","#alumini-employee-creation-data-list-template","#alumini-employee-creation-list-wrapper",i)}function pendingEmployeeListPage(){if(!(digibiz.pending_employee_creation_employee_list&&digibiz.pending_employee_creation_employee_list.length>0))return addLoader(),new Promise(((e,t)=>{var i={device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"pending_employees",count:15,offset:0};pendingNotificationCount(i).then((t=>{$(".pending-employee-count").text(t),notificationList(i).then((t=>{fetch.replaceHtml((function(){processPendingEmployeeCreationEmployeeList(t,(function(){appScroll.scrollBar(".employee-creation-list-contentbox"),listenForPendingeEmployeeListScrollEvent($(".employee-creation-list-contentbox")),removeLoader(),e()}))}),"page/common/pending_employee_creation_list_wrapper","#pending-employee-creation-list-wrapper-template","#pending-employee-list-data-container",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),appScroll.scrollBar(".employee-creation-list-contentbox"),e())}),"page/common/pending_employee_creation_list_data","#pending-employee-creation-data-list-template","#pending-employee-creation-list-wrapper",null)}),"page/common/pending_employee_creation_list_wrapper","#pending-employee-creation-list-wrapper-template","#pending-employee-list-data-container",null)}))})).catch((e=>{console.log("err",e)}))}));fetch.replaceHtml((function(){processPendingEmployeeCreationEmployeeList(digibiz.pending_employee_creation_employee_list,(function(){appScroll.scrollBar(".employee-creation-list-contentbox"),listenForPendingeEmployeeListScrollEvent($(".employee-creation-list-contentbox")),removeLoader()}))}),"page/common/pending_employee_creation_list_wrapper","#pending-employee-creation-list-wrapper-template","#pending-employee-list-data-container",null)}function processPendingEmployeeCreationEmployeeList(e,t){digibiz.pending_employee_creation_employee_list=removeDuplicates(digibiz.pending_employee_creation_employee_list.concat(e),"id");var i={employee_creation_employee_list_data:digibiz.pending_employee_creation_employee_list};fetch.replaceHtml((function(e){e||t()}),"page/common/pending_employee_creation_list_data","#pending-employee-creation-data-list-template","#pending-employee-creation-list-wrapper",i)}function employeeCreatePage(){return addLoader(),new Promise(((e,t)=>{"employee"==sessionStorage.getItem("digibiz_role")&&"profile_page"==sessionStorage.getItem("edit_from")?employeeGet({device_id:crossplat.device.uuid,id:sessionStorage.getItem("employee_id"),get_by:"id"}).then((t=>{if(console.log("response",t),t.hasOwnProperty("identity_picture")&&t.identity_picture&&t.identity_picture.hasOwnProperty("thumbnail")&&t.identity_picture.thumbnail){var i=`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${t.identity_picture.thumbnail}`;t.identity_picture.avtarUrl=i}if(t.hasOwnProperty("identity_video")&&t.identity_video&&t.identity_video.hasOwnProperty("thumbnail")&&t.identity_video.thumbnail){i=`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${t.identity_video.thumbnail}`;t.identity_video.avtarUrl=i}var a={EmployeeData:t};fetch.replaceHtml((function(){mobileFlaginit(),$(".employee-create-heading-name").text("Employee Details"),$(".header-band").addClass("hide"),$(".employee-add-company_employee-id-container").remove(),$(".employee-add-type-container").remove(),$(".employee-add-category-container").remove(),$(".employee-add-designation-container").remove(),$(".employee-add-date-of-joining-container").remove(),$(".employee-add-display-name-container").remove(),$(".employee-add-email-container").remove(),$(".employee-back-btn").remove(),$(".employee-forward-btn").remove(),$(".notify-employee-btn").remove(),$(".wizard-progress-container").remove(),$('.employee-creation-parts-container[data-step="1"]').remove(),$('.employee-creation-parts-container[data-step="3"]').remove(),$('.employee-creation-parts-container[data-step="4"]').remove(),$('.employee-creation-parts-container[data-step="2"]').removeClass("hide"),$(".save-employee-btn").removeClass("hide"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),removeLoader(),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",a)})).catch((e=>{console.log("err",e),removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")})):employeeTypeList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id")}).then((t=>{employeeCategoryList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id")}).then((i=>{employeeDesignationList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id")}).then((a=>{if(sessionStorage.getItem("employee_id")){employeeGet({device_id:crossplat.device.uuid,id:sessionStorage.getItem("employee_id"),get_by:"id"}).then((o=>{employeeDepartmentAssignmentList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),dj_unique_employee_id:sessionStorage.getItem("employee_id"),list_by:"employee_active"}).then((s=>{if(o.hasOwnProperty("identity_picture")&&o.identity_picture&&o.identity_picture.hasOwnProperty("thumbnail")&&o.identity_picture.thumbnail){var r=`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${o.identity_picture.thumbnail}`;o.identity_picture.avtarUrl=r}roleManagementList({device_id:crossplat.device.uuid,list_by:"member",member_id:sessionStorage.getItem("employee_id")}).then((r=>{var n={EmployeeData:o,EmployeeTypeList:t,EmployeeCategoryList:i,EmployeeDesignationList:a,employeeDepartmentAssignment:s,role_assignment:r.map((e=>(e.imageLetter=e.app_name.charAt(0),e)))};console.log("EmployeeData",n),fetch.replaceHtml((function(){mobileFlaginit(),o.hasOwnProperty("type")&&o.type&&$("#employee-type-choose-select-dropdown").val(o.type),o.hasOwnProperty("category")&&o.category&&$("#employee-category-choose-select-dropdown").val(o.category),o.hasOwnProperty("designation")&&o.designation&&$("#employee-designation-choose-select-dropdown").val(o.designation),digibiz.alreadySelectedDepartment=s,"super_admin"==o.employee_role&&$(`.employee-department-assignment-box[data-id="${sessionStorage.getItem("department_id")}"]`).find("#employee_department_assignment_remove").remove(),$(".employee-back-btn").attr("data-present-step","2"),$(".employee-forward-btn").attr("data-present-step","2"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="2"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="1"]').addClass("hide"),$('.employee-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-employee-btn").addClass("hide"),$(".employee-forward-btn").removeClass("hide"),calenderInit("#employee_date_of_joining"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),"employee"==sessionStorage.getItem("digibiz_role")&&sessionStorage.getItem("edit_from"),removeLoader(),appScroll.scrollBar("#main-container"),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",n)})).catch((r=>{var n={EmployeeData:o,EmployeeTypeList:t,EmployeeCategoryList:i,EmployeeDesignationList:a,employeeDepartmentAssignment:s};fetch.replaceHtml((function(){mobileFlaginit(),"super_admin"==o.employee_role&&$(`.employee-department-assignment-box[data-id="${sessionStorage.getItem("department_id")}"]`).find("#employee_department_assignment_remove").remove(),o.hasOwnProperty("type")&&o.type&&$("#employee-type-choose-select-dropdown").val(o.type),o.hasOwnProperty("category")&&o.category&&$("#employee-category-choose-select-dropdown").val(o.category),o.hasOwnProperty("designation")&&o.designation&&$("#employee-designation-choose-select-dropdown").val(o.designation),digibiz.alreadySelectedDepartment=s,$(".employee-back-btn").attr("data-present-step","2"),$(".employee-forward-btn").attr("data-present-step","2"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="2"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="1"]').addClass("hide"),$('.employee-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-employee-btn").addClass("hide"),$(".employee-forward-btn").removeClass("hide"),calenderInit("#employee_date_of_joining"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),"employee"==sessionStorage.getItem("digibiz_role")&&($(".mask").addClass("hide"),$('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$('input[type="tel"]').prop("disabled",!0),$("select").prop("disabled",!0),$("#employee_department_assignment_btn").prop("disabled",!0),$("#employee_department_assignment_remove").prop("disabled",!0),$("#employee_contact_access_assignment_btn").prop("disabled",!0),$("#employee_access_show_btn").prop("disabled",!0)),removeLoader(),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",n)}))})).catch((s=>{if(o.hasOwnProperty("identity_picture")&&o.identity_picture&&o.identity_picture.hasOwnProperty("thumbnail")&&o.identity_picture.thumbnail){var r=`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${o.identity_picture.thumbnail}`;o.identity_picture.avtarUrl=r}if(o.hasOwnProperty("identity_video")&&o.identity_video&&o.identity_video.hasOwnProperty("thumbnail")&&o.identity_video.thumbnail){r=`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${o.identity_video.thumbnail}`;o.identity_video.avtarUrl=r}roleManagementList({device_id:crossplat.device.uuid,list_by:"member",member_id:sessionStorage.getItem("employee_id")}).then((s=>{var r={EmployeeData:o,EmployeeTypeList:t,EmployeeCategoryList:i,EmployeeDesignationList:a,role_assignment:s.map((e=>(e.imageLetter=e.app_name.charAt(0),e)))};fetch.replaceHtml((function(){mobileFlaginit(),o.hasOwnProperty("type")&&o.type&&$("#employee-type-choose-select-dropdown").val(o.type),o.hasOwnProperty("category")&&o.category&&$("#employee-category-choose-select-dropdown").val(o.category),o.hasOwnProperty("designation")&&o.designation&&$("#employee-designation-choose-select-dropdown").val(o.designation),"super_admin"==o.employee_role&&$(`.employee-department-assignment-box[data-id="${sessionStorage.getItem("department_id")}"]`).find("#employee_department_assignment_remove").remove(),$(".employee-back-btn").attr("data-present-step","2"),$(".employee-forward-btn").attr("data-present-step","2"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="2"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="1"]').addClass("hide"),$('.employee-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-employee-btn").addClass("hide"),$(".employee-forward-btn").removeClass("hide"),calenderInit("#employee_date_of_joining"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),"employee"==sessionStorage.getItem("digibiz_role")&&($(".mask").addClass("hide"),$('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$('input[type="tel"]').prop("disabled",!0),$("select").prop("disabled",!0),$("#employee_department_assignment_btn").prop("disabled",!0),$("#employee_department_assignment_remove").prop("disabled",!0),$("#employee_contact_access_assignment_btn").prop("disabled",!0),$("#employee_access_show_btn").prop("disabled",!0)),removeLoader(),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",r)})).catch((s=>{var r={EmployeeData:o,EmployeeTypeList:t,EmployeeCategoryList:i,EmployeeDesignationList:a};fetch.replaceHtml((function(){mobileFlaginit(),"super_admin"==o.employee_role&&$(`.employee-department-assignment-box[data-id="${sessionStorage.getItem("department_id")}"]`).find("#employee_department_assignment_remove").remove(),o.hasOwnProperty("type")&&o.type&&$("#employee-type-choose-select-dropdown").val(o.type),o.hasOwnProperty("category")&&o.category&&$("#employee-category-choose-select-dropdown").val(o.category),o.hasOwnProperty("designation")&&o.designation&&$("#employee-designation-choose-select-dropdown").val(o.designation),$(".employee-back-btn").attr("data-present-step","2"),$(".employee-forward-btn").attr("data-present-step","2"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="2"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="1"]').addClass("hide"),$('.employee-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-employee-btn").addClass("hide"),$(".employee-forward-btn").removeClass("hide"),calenderInit("#employee_date_of_joining"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),"employee"==sessionStorage.getItem("digibiz_role")&&($(".mask").addClass("hide"),$('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$('input[type="tel"]').prop("disabled",!0),$("select").prop("disabled",!0),$("#employee_department_assignment_btn").prop("disabled",!0),$("#employee_department_assignment_remove").prop("disabled",!0),$("#employee_contact_access_assignment_btn").prop("disabled",!0),$("#employee_access_show_btn").prop("disabled",!0)),removeLoader(),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",r)}))}))})).catch((e=>{}))}else{digibiz.alreadySelectedDepartment=[];var o={EmployeeTypeList:t,EmployeeCategoryList:i,EmployeeDesignationList:a};fetch.replaceHtml((function(){mobileFlaginit(),calenderInit("#employee_date_of_joining"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),removeLoader(),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",o)}})).catch((a=>{if(sessionStorage.getItem("employee_id")){employeeGet({device_id:crossplat.device.uuid,id:sessionStorage.getItem("employee_id"),get_by:"id"}).then((a=>{employeeDepartmentAssignmentList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),dj_unique_employee_id:sessionStorage.getItem("employee_id"),list_by:"employee_active"}).then((o=>{if(a.hasOwnProperty("identity_picture")&&a.identity_picture&&a.identity_picture.hasOwnProperty("thumbnail")&&a.identity_picture.thumbnail){var s=`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${a.identity_picture.thumbnail}`;a.identity_picture.avtarUrl=s}if(a.hasOwnProperty("identity_video")&&a.identity_video&&a.identity_video.hasOwnProperty("thumbnail")&&a.identity_video.thumbnail){s=`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${a.identity_video.thumbnail}`;a.identity_video.avtarUrl=s}roleManagementList({device_id:crossplat.device.uuid,list_by:"member",member_id:sessionStorage.getItem("employee_id")}).then((s=>{var r={EmployeeData:a,EmployeeTypeList:t,EmployeeCategoryList:i,employeeDepartmentAssignment:o,role_assignment:s.map((e=>(e.imageLetter=e.app_name.charAt(0),e)))};fetch.replaceHtml((function(){mobileFlaginit(),a.hasOwnProperty("type")&&a.type&&$("#employee-type-choose-select-dropdown").val(a.type),a.hasOwnProperty("category")&&a.category&&$("#employee-category-choose-select-dropdown").val(a.category),a.hasOwnProperty("designation")&&a.designation&&$("#employee-designation-choose-select-dropdown").val(a.designation),digibiz.alreadySelectedDepartment=o,"super_admin"==a.employee_role&&$(`.employee-department-assignment-box[data-id="${sessionStorage.getItem("department_id")}"]`).find("#employee_department_assignment_remove").remove(),$(".employee-back-btn").attr("data-present-step","2"),$(".employee-forward-btn").attr("data-present-step","2"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="2"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="1"]').addClass("hide"),$('.employee-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-employee-btn").addClass("hide"),$(".employee-forward-btn").removeClass("hide"),calenderInit("#employee_date_of_joining"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),"employee"==sessionStorage.getItem("digibiz_role")&&($(".mask").addClass("hide"),$('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$('input[type="tel"]').prop("disabled",!0),$("select").prop("disabled",!0),$("#employee_department_assignment_btn").prop("disabled",!0),$("#employee_department_assignment_remove").prop("disabled",!0),$("#employee_contact_access_assignment_btn").prop("disabled",!0),$("#employee_access_show_btn").prop("disabled",!0)),removeLoader(),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",r)})).catch((s=>{var r={EmployeeData:a,EmployeeTypeList:t,EmployeeCategoryList:i,employeeDepartmentAssignment:o};fetch.replaceHtml((function(){mobileFlaginit(),"super_admin"==a.employee_role&&$(`.employee-department-assignment-box[data-id="${sessionStorage.getItem("department_id")}"]`).find("#employee_department_assignment_remove").remove(),a.hasOwnProperty("type")&&a.type&&$("#employee-type-choose-select-dropdown").val(a.type),a.hasOwnProperty("category")&&a.category&&$("#employee-category-choose-select-dropdown").val(a.category),a.hasOwnProperty("designation")&&a.designation&&$("#employee-designation-choose-select-dropdown").val(a.designation),digibiz.alreadySelectedDepartment=o,$(".employee-back-btn").attr("data-present-step","2"),$(".employee-forward-btn").attr("data-present-step","2"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="2"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="1"]').addClass("hide"),$('.employee-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-employee-btn").addClass("hide"),$(".employee-forward-btn").removeClass("hide"),calenderInit("#employee_date_of_joining"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),"employee"==sessionStorage.getItem("digibiz_role")&&($(".mask").addClass("hide"),$('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$('input[type="tel"]').prop("disabled",!0),$("select").prop("disabled",!0),$("#employee_department_assignment_btn").prop("disabled",!0),$("#employee_department_assignment_remove").prop("disabled",!0),$("#employee_contact_access_assignment_btn").prop("disabled",!0),$("#employee_access_show_btn").prop("disabled",!0)),removeLoader(),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",r)}))})).catch((o=>{if(a.hasOwnProperty("identity_picture")&&a.identity_picture&&a.identity_picture.hasOwnProperty("thumbnail")&&a.identity_picture.thumbnail){var s=`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${a.identity_picture.thumbnail}`;a.identity_picture.avtarUrl=s}if(a.hasOwnProperty("identity_video")&&a.identity_video&&a.identity_video.hasOwnProperty("thumbnail")&&a.identity_video.thumbnail){s=`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${a.identity_video.thumbnail}`;a.identity_video.avtarUrl=s}roleManagementList({device_id:crossplat.device.uuid,list_by:"member",member_id:sessionStorage.getItem("employee_id")}).then((o=>{var s={EmployeeData:a,EmployeeTypeList:t,EmployeeCategoryList:i,role_assignment:o.map((e=>(e.imageLetter=e.app_name.charAt(0),e)))};fetch.replaceHtml((function(){mobileFlaginit(),a.hasOwnProperty("type")&&a.type&&$("#employee-type-choose-select-dropdown").val(a.type),a.hasOwnProperty("category")&&a.category&&$("#employee-category-choose-select-dropdown").val(a.category),a.hasOwnProperty("designation")&&a.designation&&$("#employee-designation-choose-select-dropdown").val(a.designation),"super_admin"==a.employee_role&&$(`.employee-department-assignment-box[data-id="${sessionStorage.getItem("department_id")}"]`).find("#employee_department_assignment_remove").remove(),$(".employee-back-btn").attr("data-present-step","2"),$(".employee-forward-btn").attr("data-present-step","2"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="2"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="1"]').addClass("hide"),$('.employee-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-employee-btn").addClass("hide"),$(".employee-forward-btn").removeClass("hide"),calenderInit("#employee_date_of_joining"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),"employee"==sessionStorage.getItem("digibiz_role")&&($(".mask").addClass("hide"),$('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$('input[type="tel"]').prop("disabled",!0),$("select").prop("disabled",!0),$("#employee_department_assignment_btn").prop("disabled",!0),$("#employee_department_assignment_remove").prop("disabled",!0),$("#employee_contact_access_assignment_btn").prop("disabled",!0),$("#employee_access_show_btn").prop("disabled",!0)),removeLoader(),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",s)})).catch((o=>{var s={EmployeeData:a,EmployeeTypeList:t,EmployeeCategoryList:i};fetch.replaceHtml((function(){mobileFlaginit(),"super_admin"==a.employee_role&&$(`.employee-department-assignment-box[data-id="${sessionStorage.getItem("department_id")}"]`).find("#employee_department_assignment_remove").remove(),a.hasOwnProperty("type")&&a.type&&$("#employee-type-choose-select-dropdown").val(a.type),a.hasOwnProperty("category")&&a.category&&$("#employee-category-choose-select-dropdown").val(a.category),a.hasOwnProperty("designation")&&a.designation&&$("#employee-designation-choose-select-dropdown").val(a.designation),$(".employee-back-btn").attr("data-present-step","2"),$(".employee-forward-btn").attr("data-present-step","2"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="2"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="1"]').addClass("hide"),$('.employee-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-employee-btn").addClass("hide"),$(".employee-forward-btn").removeClass("hide"),calenderInit("#employee_date_of_joining"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),"employee"==sessionStorage.getItem("digibiz_role")&&($(".mask").addClass("hide"),$('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$('input[type="tel"]').prop("disabled",!0),$("select").prop("disabled",!0),$("#employee_department_assignment_btn").prop("disabled",!0),$("#employee_department_assignment_remove").prop("disabled",!0),$("#employee_contact_access_assignment_btn").prop("disabled",!0),$("#employee_access_show_btn").prop("disabled",!0)),removeLoader(),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",s)}))}))})).catch((e=>{}))}else{digibiz.alreadySelectedDepartment=[];var o={EmployeeTypeList:t,EmployeeCategoryList:i};fetch.replaceHtml((function(){mobileFlaginit(),calenderInit("#employee_date_of_joining"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),removeLoader(),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",o)}}))})).catch((i=>{employeeDesignationList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id")}).then((i=>{if(sessionStorage.getItem("employee_id")){employeeGet({device_id:crossplat.device.uuid,id:sessionStorage.getItem("employee_id"),get_by:"id"}).then((a=>{employeeDepartmentAssignmentList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),dj_unique_employee_id:sessionStorage.getItem("employee_id"),list_by:"employee_active"}).then((o=>{if(a.hasOwnProperty("identity_picture")&&a.identity_picture&&a.identity_picture.hasOwnProperty("thumbnail")&&a.identity_picture.thumbnail){var s=`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${a.identity_picture.thumbnail}`;a.identity_picture.avtarUrl=s}if(a.hasOwnProperty("identity_video")&&a.identity_video&&a.identity_video.hasOwnProperty("thumbnail")&&a.identity_video.thumbnail){s=`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${a.identity_video.thumbnail}`;a.identity_video.avtarUrl=s}roleManagementList({device_id:crossplat.device.uuid,list_by:"member",member_id:sessionStorage.getItem("employee_id")}).then((s=>{var r={EmployeeData:a,EmployeeTypeList:t,EmployeeDesignationList:i,employeeDepartmentAssignment:o,role_assignment:s.map((e=>(e.imageLetter=e.app_name.charAt(0),e)))};fetch.replaceHtml((function(){mobileFlaginit(),a.hasOwnProperty("type")&&a.type&&$("#employee-type-choose-select-dropdown").val(a.type),a.hasOwnProperty("category")&&a.category&&$("#employee-category-choose-select-dropdown").val(a.category),a.hasOwnProperty("designation")&&a.designation&&$("#employee-designation-choose-select-dropdown").val(a.designation),digibiz.alreadySelectedDepartment=o,"super_admin"==a.employee_role&&$(`.employee-department-assignment-box[data-id="${sessionStorage.getItem("department_id")}"]`).find("#employee_department_assignment_remove").remove(),$(".employee-back-btn").attr("data-present-step","2"),$(".employee-forward-btn").attr("data-present-step","2"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="2"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="1"]').addClass("hide"),$('.employee-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-employee-btn").addClass("hide"),$(".employee-forward-btn").removeClass("hide"),calenderInit("#employee_date_of_joining"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),"employee"==sessionStorage.getItem("digibiz_role")&&($(".mask").addClass("hide"),$('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$('input[type="tel"]').prop("disabled",!0),$("select").prop("disabled",!0),$("#employee_department_assignment_btn").prop("disabled",!0),$("#employee_department_assignment_remove").prop("disabled",!0),$("#employee_contact_access_assignment_btn").prop("disabled",!0),$("#employee_access_show_btn").prop("disabled",!0)),removeLoader(),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",r)})).catch((s=>{var r={EmployeeData:a,EmployeeTypeList:t,EmployeeDesignationList:i,employeeDepartmentAssignment:o};fetch.replaceHtml((function(){mobileFlaginit(),"super_admin"==a.employee_role&&$(`.employee-department-assignment-box[data-id="${sessionStorage.getItem("department_id")}"]`).find("#employee_department_assignment_remove").remove(),a.hasOwnProperty("type")&&a.type&&$("#employee-type-choose-select-dropdown").val(a.type),a.hasOwnProperty("category")&&a.category&&$("#employee-category-choose-select-dropdown").val(a.category),a.hasOwnProperty("designation")&&a.designation&&$("#employee-designation-choose-select-dropdown").val(a.designation),digibiz.alreadySelectedDepartment=o,$(".employee-back-btn").attr("data-present-step","2"),$(".employee-forward-btn").attr("data-present-step","2"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="2"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="1"]').addClass("hide"),$('.employee-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-employee-btn").addClass("hide"),$(".employee-forward-btn").removeClass("hide"),calenderInit("#employee_date_of_joining"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),"employee"==sessionStorage.getItem("digibiz_role")&&($(".mask").addClass("hide"),$('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$('input[type="tel"]').prop("disabled",!0),$("select").prop("disabled",!0),$("#employee_department_assignment_btn").prop("disabled",!0),$("#employee_department_assignment_remove").prop("disabled",!0),$("#employee_contact_access_assignment_btn").prop("disabled",!0),$("#employee_access_show_btn").prop("disabled",!0)),removeLoader(),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",r)}))})).catch((o=>{if(a.hasOwnProperty("identity_picture")&&a.identity_picture&&a.identity_picture.hasOwnProperty("thumbnail")&&a.identity_picture.thumbnail){var s=`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${a.identity_picture.thumbnail}`;a.identity_picture.avtarUrl=s}if(a.hasOwnProperty("identity_video")&&a.identity_video&&a.identity_video.hasOwnProperty("thumbnail")&&a.identity_video.thumbnail){s=`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${a.identity_video.thumbnail}`;a.identity_video.avtarUrl=s}roleManagementList({device_id:crossplat.device.uuid,list_by:"member",member_id:sessionStorage.getItem("employee_id")}).then((o=>{var s={EmployeeData:a,EmployeeTypeList:t,EmployeeDesignationList:i,role_assignment:o.map((e=>(e.imageLetter=e.app_name.charAt(0),e)))};fetch.replaceHtml((function(){mobileFlaginit(),a.hasOwnProperty("type")&&a.type&&$("#employee-type-choose-select-dropdown").val(a.type),a.hasOwnProperty("category")&&a.category&&$("#employee-category-choose-select-dropdown").val(a.category),a.hasOwnProperty("designation")&&a.designation&&$("#employee-designation-choose-select-dropdown").val(a.designation),"super_admin"==a.employee_role&&$(`.employee-department-assignment-box[data-id="${sessionStorage.getItem("department_id")}"]`).find("#employee_department_assignment_remove").remove(),$(".employee-back-btn").attr("data-present-step","2"),$(".employee-forward-btn").attr("data-present-step","2"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="2"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="1"]').addClass("hide"),$('.employee-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-employee-btn").addClass("hide"),$(".employee-forward-btn").removeClass("hide"),calenderInit("#employee_date_of_joining"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),"employee"==sessionStorage.getItem("digibiz_role")&&($(".mask").addClass("hide"),$('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$('input[type="tel"]').prop("disabled",!0),$("select").prop("disabled",!0),$("#employee_department_assignment_btn").prop("disabled",!0),$("#employee_department_assignment_remove").prop("disabled",!0),$("#employee_contact_access_assignment_btn").prop("disabled",!0),$("#employee_access_show_btn").prop("disabled",!0)),removeLoader(),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",s)})).catch((o=>{var s={EmployeeData:a,EmployeeTypeList:t,EmployeeDesignationList:i};fetch.replaceHtml((function(){mobileFlaginit(),"super_admin"==a.employee_role&&$(`.employee-department-assignment-box[data-id="${sessionStorage.getItem("department_id")}"]`).find("#employee_department_assignment_remove").remove(),a.hasOwnProperty("type")&&a.type&&$("#employee-type-choose-select-dropdown").val(a.type),a.hasOwnProperty("category")&&a.category&&$("#employee-category-choose-select-dropdown").val(a.category),a.hasOwnProperty("designation")&&a.designation&&$("#employee-designation-choose-select-dropdown").val(a.designation),$(".employee-back-btn").attr("data-present-step","2"),$(".employee-forward-btn").attr("data-present-step","2"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="2"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="1"]').addClass("hide"),$('.employee-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-employee-btn").addClass("hide"),$(".employee-forward-btn").removeClass("hide"),calenderInit("#employee_date_of_joining"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),"employee"==sessionStorage.getItem("digibiz_role")&&($(".mask").addClass("hide"),$('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$('input[type="tel"]').prop("disabled",!0),$("select").prop("disabled",!0),$("#employee_department_assignment_btn").prop("disabled",!0),$("#employee_department_assignment_remove").prop("disabled",!0),$("#employee_contact_access_assignment_btn").prop("disabled",!0),$("#employee_access_show_btn").prop("disabled",!0)),removeLoader(),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",s)}))}))})).catch((e=>{}))}else{digibiz.alreadySelectedDepartment=[];var a={EmployeeTypeList:t,EmployeeDesignationList:i};fetch.replaceHtml((function(){mobileFlaginit(),calenderInit("#employee_date_of_joining"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),removeLoader(),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",a)}})).catch((i=>{if(sessionStorage.getItem("employee_id")){employeeGet({device_id:crossplat.device.uuid,id:sessionStorage.getItem("employee_id"),get_by:"id"}).then((i=>{employeeDepartmentAssignmentList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),dj_unique_employee_id:sessionStorage.getItem("employee_id"),list_by:"employee_active"}).then((a=>{if(i.hasOwnProperty("identity_picture")&&i.identity_picture&&i.identity_picture.hasOwnProperty("thumbnail")&&i.identity_picture.thumbnail){var o=`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${i.identity_picture.thumbnail}`;i.identity_picture.avtarUrl=o}if(i.hasOwnProperty("identity_video")&&i.identity_video&&i.identity_video.hasOwnProperty("thumbnail")&&i.identity_video.thumbnail){o=`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${i.identity_video.thumbnail}`;i.identity_video.avtarUrl=o}roleManagementList({device_id:crossplat.device.uuid,list_by:"member",member_id:sessionStorage.getItem("employee_id")}).then((o=>{var s={EmployeeData:i,EmployeeTypeList:t,employeeDepartmentAssignment:a,role_assignment:o.map((e=>(e.imageLetter=e.app_name.charAt(0),e)))};fetch.replaceHtml((function(){mobileFlaginit(),i.hasOwnProperty("type")&&i.type&&$("#employee-type-choose-select-dropdown").val(i.type),i.hasOwnProperty("category")&&i.category&&$("#employee-category-choose-select-dropdown").val(i.category),i.hasOwnProperty("designation")&&i.designation&&$("#employee-designation-choose-select-dropdown").val(i.designation),digibiz.alreadySelectedDepartment=a,"super_admin"==i.employee_role&&$(`.employee-department-assignment-box[data-id="${sessionStorage.getItem("department_id")}"]`).find("#employee_department_assignment_remove").remove(),$(".employee-back-btn").attr("data-present-step","2"),$(".employee-forward-btn").attr("data-present-step","2"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="2"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="1"]').addClass("hide"),$('.employee-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-employee-btn").addClass("hide"),$(".employee-forward-btn").removeClass("hide"),calenderInit("#employee_date_of_joining"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),"employee"==sessionStorage.getItem("digibiz_role")&&($(".mask").addClass("hide"),$('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$('input[type="tel"]').prop("disabled",!0),$("select").prop("disabled",!0),$("#employee_department_assignment_btn").prop("disabled",!0),$("#employee_department_assignment_remove").prop("disabled",!0),$("#employee_contact_access_assignment_btn").prop("disabled",!0),$("#employee_access_show_btn").prop("disabled",!0)),removeLoader(),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",s)})).catch((o=>{var s={EmployeeData:i,EmployeeTypeList:t,employeeDepartmentAssignment:a};fetch.replaceHtml((function(){mobileFlaginit(),"super_admin"==i.employee_role&&$(`.employee-department-assignment-box[data-id="${sessionStorage.getItem("department_id")}"]`).find("#employee_department_assignment_remove").remove(),i.hasOwnProperty("type")&&i.type&&$("#employee-type-choose-select-dropdown").val(i.type),i.hasOwnProperty("category")&&i.category&&$("#employee-category-choose-select-dropdown").val(i.category),i.hasOwnProperty("designation")&&i.designation&&$("#employee-designation-choose-select-dropdown").val(i.designation),digibiz.alreadySelectedDepartment=a,$(".employee-back-btn").attr("data-present-step","2"),$(".employee-forward-btn").attr("data-present-step","2"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="2"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="1"]').addClass("hide"),$('.employee-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-employee-btn").addClass("hide"),$(".employee-forward-btn").removeClass("hide"),calenderInit("#employee_date_of_joining"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),"employee"==sessionStorage.getItem("digibiz_role")&&($(".mask").addClass("hide"),$('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$('input[type="tel"]').prop("disabled",!0),$("select").prop("disabled",!0),$("#employee_department_assignment_btn").prop("disabled",!0),$("#employee_department_assignment_remove").prop("disabled",!0),$("#employee_contact_access_assignment_btn").prop("disabled",!0),$("#employee_access_show_btn").prop("disabled",!0)),removeLoader(),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",s)}))})).catch((a=>{if(i.hasOwnProperty("identity_picture")&&i.identity_picture&&i.identity_picture.hasOwnProperty("thumbnail")&&i.identity_picture.thumbnail){var o=`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${i.identity_picture.thumbnail}`;i.identity_picture.avtarUrl=o}if(i.hasOwnProperty("identity_video")&&i.identity_video&&i.identity_video.hasOwnProperty("thumbnail")&&i.identity_video.thumbnail){o=`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${i.identity_video.thumbnail}`;i.identity_video.avtarUrl=o}roleManagementList({device_id:crossplat.device.uuid,list_by:"member",member_id:sessionStorage.getItem("employee_id")}).then((a=>{var o={EmployeeData:i,EmployeeTypeList:t,role_assignment:a.map((e=>(e.imageLetter=e.app_name.charAt(0),e)))};fetch.replaceHtml((function(){mobileFlaginit(),i.hasOwnProperty("type")&&i.type&&$("#employee-type-choose-select-dropdown").val(i.type),i.hasOwnProperty("category")&&i.category&&$("#employee-category-choose-select-dropdown").val(i.category),i.hasOwnProperty("designation")&&i.designation&&$("#employee-designation-choose-select-dropdown").val(i.designation),"super_admin"==i.employee_role&&$(`.employee-department-assignment-box[data-id="${sessionStorage.getItem("department_id")}"]`).find("#employee_department_assignment_remove").remove(),$(".employee-back-btn").attr("data-present-step","2"),$(".employee-forward-btn").attr("data-present-step","2"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="2"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="1"]').addClass("hide"),$('.employee-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-employee-btn").addClass("hide"),$(".employee-forward-btn").removeClass("hide"),calenderInit("#employee_date_of_joining"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),"employee"==sessionStorage.getItem("digibiz_role")&&($(".mask").addClass("hide"),$('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$('input[type="tel"]').prop("disabled",!0),$("select").prop("disabled",!0),$("#employee_department_assignment_btn").prop("disabled",!0),$("#employee_department_assignment_remove").prop("disabled",!0),$("#employee_contact_access_assignment_btn").prop("disabled",!0),$("#employee_access_show_btn").prop("disabled",!0)),removeLoader(),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",o)})).catch((t=>{var a={EmployeeData:i,EmployeeDesignationList:designationResponse};fetch.replaceHtml((function(){mobileFlaginit(),"super_admin"==i.employee_role&&$(`.employee-department-assignment-box[data-id="${sessionStorage.getItem("department_id")}"]`).find("#employee_department_assignment_remove").remove(),i.hasOwnProperty("type")&&i.type&&$("#employee-type-choose-select-dropdown").val(i.type),i.hasOwnProperty("category")&&i.category&&$("#employee-category-choose-select-dropdown").val(i.category),i.hasOwnProperty("designation")&&i.designation&&$("#employee-designation-choose-select-dropdown").val(i.designation),$(".employee-back-btn").attr("data-present-step","2"),$(".employee-forward-btn").attr("data-present-step","2"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="2"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="1"]').addClass("hide"),$('.employee-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-employee-btn").addClass("hide"),$(".employee-forward-btn").removeClass("hide"),calenderInit("#employee_date_of_joining"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),"employee"==sessionStorage.getItem("digibiz_role")&&($(".mask").addClass("hide"),$('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$('input[type="tel"]').prop("disabled",!0),$("select").prop("disabled",!0),$("#employee_department_assignment_btn").prop("disabled",!0),$("#employee_department_assignment_remove").prop("disabled",!0),$("#employee_contact_access_assignment_btn").prop("disabled",!0),$("#employee_access_show_btn").prop("disabled",!0)),removeLoader(),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",a)}))}))})).catch((e=>{}))}else{digibiz.alreadySelectedDepartment=[];var a={EmployeeTypeList:t};fetch.replaceHtml((function(){mobileFlaginit(),calenderInit("#employee_date_of_joining"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),removeLoader(),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",a)}}))}))})).catch((t=>{employeeCategoryList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id")}).then((t=>{employeeDesignationList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id")}).then((i=>{if(sessionStorage.getItem("employee_id")){employeeGet({device_id:crossplat.device.uuid,id:sessionStorage.getItem("employee_id"),get_by:"id"}).then((a=>{employeeDepartmentAssignmentList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),dj_unique_employee_id:sessionStorage.getItem("employee_id"),list_by:"employee_active"}).then((o=>{if(a.hasOwnProperty("identity_picture")&&a.identity_picture&&a.identity_picture.hasOwnProperty("thumbnail")&&a.identity_picture.thumbnail){var s=`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${a.identity_picture.thumbnail}`;a.identity_picture.avtarUrl=s}if(a.hasOwnProperty("identity_video")&&a.identity_video&&a.identity_video.hasOwnProperty("thumbnail")&&a.identity_video.thumbnail){s=`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${a.identity_video.thumbnail}`;a.identity_video.avtarUrl=s}roleManagementList({device_id:crossplat.device.uuid,list_by:"member",member_id:sessionStorage.getItem("employee_id")}).then((s=>{var r={EmployeeData:a,EmployeeCategoryList:t,EmployeeDesignationList:i,employeeDepartmentAssignment:o,role_assignment:s.map((e=>(e.imageLetter=e.app_name.charAt(0),e)))};fetch.replaceHtml((function(){mobileFlaginit(),a.hasOwnProperty("type")&&a.type&&$("#employee-type-choose-select-dropdown").val(a.type),a.hasOwnProperty("category")&&a.category&&$("#employee-category-choose-select-dropdown").val(a.category),a.hasOwnProperty("designation")&&a.designation&&$("#employee-designation-choose-select-dropdown").val(a.designation),digibiz.alreadySelectedDepartment=o,"super_admin"==a.employee_role&&$(`.employee-department-assignment-box[data-id="${sessionStorage.getItem("department_id")}"]`).find("#employee_department_assignment_remove").remove(),$(".employee-back-btn").attr("data-present-step","2"),$(".employee-forward-btn").attr("data-present-step","2"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="2"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="1"]').addClass("hide"),$('.employee-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-employee-btn").addClass("hide"),$(".employee-forward-btn").removeClass("hide"),calenderInit("#employee_date_of_joining"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),"employee"==sessionStorage.getItem("digibiz_role")&&($(".mask").addClass("hide"),$('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$('input[type="tel"]').prop("disabled",!0),$("select").prop("disabled",!0),$("#employee_department_assignment_btn").prop("disabled",!0),$("#employee_department_assignment_remove").prop("disabled",!0),$("#employee_contact_access_assignment_btn").prop("disabled",!0),$("#employee_access_show_btn").prop("disabled",!0)),removeLoader(),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",r)})).catch((s=>{var r={EmployeeData:a,EmployeeCategoryList:t,EmployeeDesignationList:i,employeeDepartmentAssignment:o};fetch.replaceHtml((function(){mobileFlaginit(),"super_admin"==a.employee_role&&$(`.employee-department-assignment-box[data-id="${sessionStorage.getItem("department_id")}"]`).find("#employee_department_assignment_remove").remove(),a.hasOwnProperty("type")&&a.type&&$("#employee-type-choose-select-dropdown").val(a.type),a.hasOwnProperty("category")&&a.category&&$("#employee-category-choose-select-dropdown").val(a.category),a.hasOwnProperty("designation")&&a.designation&&$("#employee-designation-choose-select-dropdown").val(a.designation),digibiz.alreadySelectedDepartment=o,$(".employee-back-btn").attr("data-present-step","2"),$(".employee-forward-btn").attr("data-present-step","2"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="2"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="1"]').addClass("hide"),$('.employee-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-employee-btn").addClass("hide"),$(".employee-forward-btn").removeClass("hide"),calenderInit("#employee_date_of_joining"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),"employee"==sessionStorage.getItem("digibiz_role")&&($(".mask").addClass("hide"),$('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$('input[type="tel"]').prop("disabled",!0),$("select").prop("disabled",!0),$("#employee_department_assignment_btn").prop("disabled",!0),$("#employee_department_assignment_remove").prop("disabled",!0),$("#employee_contact_access_assignment_btn").prop("disabled",!0),$("#employee_access_show_btn").prop("disabled",!0)),removeLoader(),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",r)}))})).catch((o=>{if(a.hasOwnProperty("identity_picture")&&a.identity_picture&&a.identity_picture.hasOwnProperty("thumbnail")&&a.identity_picture.thumbnail){var s=`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${a.identity_picture.thumbnail}`;a.identity_picture.avtarUrl=s}if(a.hasOwnProperty("identity_video")&&a.identity_video&&a.identity_video.hasOwnProperty("thumbnail")&&a.identity_video.thumbnail){s=`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${a.identity_video.thumbnail}`;a.identity_video.avtarUrl=s}roleManagementList({device_id:crossplat.device.uuid,list_by:"member",member_id:sessionStorage.getItem("employee_id")}).then((o=>{var s={EmployeeData:a,EmployeeCategoryList:t,EmployeeDesignationList:i,role_assignment:o.map((e=>(e.imageLetter=e.app_name.charAt(0),e)))};fetch.replaceHtml((function(){mobileFlaginit(),a.hasOwnProperty("type")&&a.type&&$("#employee-type-choose-select-dropdown").val(a.type),a.hasOwnProperty("category")&&a.category&&$("#employee-category-choose-select-dropdown").val(a.category),a.hasOwnProperty("designation")&&a.designation&&$("#employee-designation-choose-select-dropdown").val(a.designation),"super_admin"==a.employee_role&&$(`.employee-department-assignment-box[data-id="${sessionStorage.getItem("department_id")}"]`).find("#employee_department_assignment_remove").remove(),$(".employee-back-btn").attr("data-present-step","2"),$(".employee-forward-btn").attr("data-present-step","2"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="2"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="1"]').addClass("hide"),$('.employee-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-employee-btn").addClass("hide"),$(".employee-forward-btn").removeClass("hide"),calenderInit("#employee_date_of_joining"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),"employee"==sessionStorage.getItem("digibiz_role")&&($(".mask").addClass("hide"),$('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$('input[type="tel"]').prop("disabled",!0),$("select").prop("disabled",!0),$("#employee_department_assignment_btn").prop("disabled",!0),$("#employee_department_assignment_remove").prop("disabled",!0),$("#employee_contact_access_assignment_btn").prop("disabled",!0),$("#employee_access_show_btn").prop("disabled",!0)),removeLoader(),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",s)})).catch((o=>{var s={EmployeeData:a,EmployeeCategoryList:t,EmployeeDesignationList:i};fetch.replaceHtml((function(){mobileFlaginit(),"super_admin"==a.employee_role&&$(`.employee-department-assignment-box[data-id="${sessionStorage.getItem("department_id")}"]`).find("#employee_department_assignment_remove").remove(),a.hasOwnProperty("type")&&a.type&&$("#employee-type-choose-select-dropdown").val(a.type),a.hasOwnProperty("category")&&a.category&&$("#employee-category-choose-select-dropdown").val(a.category),a.hasOwnProperty("designation")&&a.designation&&$("#employee-designation-choose-select-dropdown").val(a.designation),$(".employee-back-btn").attr("data-present-step","2"),$(".employee-forward-btn").attr("data-present-step","2"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="2"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="1"]').addClass("hide"),$('.employee-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-employee-btn").addClass("hide"),$(".employee-forward-btn").removeClass("hide"),calenderInit("#employee_date_of_joining"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),"employee"==sessionStorage.getItem("digibiz_role")&&($(".mask").addClass("hide"),$('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$('input[type="tel"]').prop("disabled",!0),$("select").prop("disabled",!0),$("#employee_department_assignment_btn").prop("disabled",!0),$("#employee_department_assignment_remove").prop("disabled",!0),$("#employee_contact_access_assignment_btn").prop("disabled",!0),$("#employee_access_show_btn").prop("disabled",!0)),removeLoader(),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",s)}))}))})).catch((e=>{}))}else{digibiz.alreadySelectedDepartment=[];var a={EmployeeCategoryList:t,EmployeeDesignationList:i};fetch.replaceHtml((function(){mobileFlaginit(),calenderInit("#employee_date_of_joining"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),removeLoader(),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",a)}})).catch((i=>{if(sessionStorage.getItem("employee_id")){employeeGet({device_id:crossplat.device.uuid,id:sessionStorage.getItem("employee_id"),get_by:"id"}).then((i=>{employeeDepartmentAssignmentList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),dj_unique_employee_id:sessionStorage.getItem("employee_id"),list_by:"employee_active"}).then((a=>{if(i.hasOwnProperty("identity_picture")&&i.identity_picture&&i.identity_picture.hasOwnProperty("thumbnail")&&i.identity_picture.thumbnail){var o=`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${i.identity_picture.thumbnail}`;i.identity_picture.avtarUrl=o}if(i.hasOwnProperty("identity_video")&&i.identity_video&&i.identity_video.hasOwnProperty("thumbnail")&&i.identity_video.thumbnail){o=`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${i.identity_video.thumbnail}`;i.identity_video.avtarUrl=o}roleManagementList({device_id:crossplat.device.uuid,list_by:"member",member_id:sessionStorage.getItem("employee_id")}).then((o=>{var s={EmployeeData:i,EmployeeCategoryList:t,employeeDepartmentAssignment:a,role_assignment:o.map((e=>(e.imageLetter=e.app_name.charAt(0),e)))};fetch.replaceHtml((function(){mobileFlaginit(),i.hasOwnProperty("type")&&i.type&&$("#employee-type-choose-select-dropdown").val(i.type),i.hasOwnProperty("category")&&i.category&&$("#employee-category-choose-select-dropdown").val(i.category),i.hasOwnProperty("designation")&&i.designation&&$("#employee-designation-choose-select-dropdown").val(i.designation),digibiz.alreadySelectedDepartment=a,"super_admin"==i.employee_role&&$(`.employee-department-assignment-box[data-id="${sessionStorage.getItem("department_id")}"]`).find("#employee_department_assignment_remove").remove(),$(".employee-back-btn").attr("data-present-step","2"),$(".employee-forward-btn").attr("data-present-step","2"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="2"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="1"]').addClass("hide"),$('.employee-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-employee-btn").addClass("hide"),$(".employee-forward-btn").removeClass("hide"),calenderInit("#employee_date_of_joining"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),"employee"==sessionStorage.getItem("digibiz_role")&&($(".mask").addClass("hide"),$('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$('input[type="tel"]').prop("disabled",!0),$("select").prop("disabled",!0),$("#employee_department_assignment_btn").prop("disabled",!0),$("#employee_department_assignment_remove").prop("disabled",!0),$("#employee_contact_access_assignment_btn").prop("disabled",!0),$("#employee_access_show_btn").prop("disabled",!0)),removeLoader(),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",s)})).catch((o=>{var s={EmployeeData:i,EmployeeCategoryList:t,employeeDepartmentAssignment:a};fetch.replaceHtml((function(){mobileFlaginit(),"super_admin"==i.employee_role&&$(`.employee-department-assignment-box[data-id="${sessionStorage.getItem("department_id")}"]`).find("#employee_department_assignment_remove").remove(),i.hasOwnProperty("type")&&i.type&&$("#employee-type-choose-select-dropdown").val(i.type),i.hasOwnProperty("category")&&i.category&&$("#employee-category-choose-select-dropdown").val(i.category),i.hasOwnProperty("designation")&&i.designation&&$("#employee-designation-choose-select-dropdown").val(i.designation),digibiz.alreadySelectedDepartment=a,$(".employee-back-btn").attr("data-present-step","2"),$(".employee-forward-btn").attr("data-present-step","2"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="2"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="1"]').addClass("hide"),$('.employee-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-employee-btn").addClass("hide"),$(".employee-forward-btn").removeClass("hide"),calenderInit("#employee_date_of_joining"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),"employee"==sessionStorage.getItem("digibiz_role")&&($(".mask").addClass("hide"),$('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$('input[type="tel"]').prop("disabled",!0),$("select").prop("disabled",!0),$("#employee_department_assignment_btn").prop("disabled",!0),$("#employee_department_assignment_remove").prop("disabled",!0),$("#employee_contact_access_assignment_btn").prop("disabled",!0),$("#employee_access_show_btn").prop("disabled",!0)),removeLoader(),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",s)}))})).catch((a=>{if(i.hasOwnProperty("identity_picture")&&i.identity_picture&&i.identity_picture.hasOwnProperty("thumbnail")&&i.identity_picture.thumbnail){var o=`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${i.identity_picture.thumbnail}`;i.identity_picture.avtarUrl=o}if(i.hasOwnProperty("identity_video")&&i.identity_video&&i.identity_video.hasOwnProperty("thumbnail")&&i.identity_video.thumbnail){o=`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${i.identity_video.thumbnail}`;i.identity_video.avtarUrl=o}roleManagementList({device_id:crossplat.device.uuid,list_by:"member",member_id:sessionStorage.getItem("employee_id")}).then((a=>{var o={EmployeeData:i,EmployeeCategoryList:t,role_assignment:a.map((e=>(e.imageLetter=e.app_name.charAt(0),e)))};fetch.replaceHtml((function(){mobileFlaginit(),i.hasOwnProperty("type")&&i.type&&$("#employee-type-choose-select-dropdown").val(i.type),i.hasOwnProperty("category")&&i.category&&$("#employee-category-choose-select-dropdown").val(i.category),i.hasOwnProperty("designation")&&i.designation&&$("#employee-designation-choose-select-dropdown").val(i.designation),"super_admin"==i.employee_role&&$(`.employee-department-assignment-box[data-id="${sessionStorage.getItem("department_id")}"]`).find("#employee_department_assignment_remove").remove(),$(".employee-back-btn").attr("data-present-step","2"),$(".employee-forward-btn").attr("data-present-step","2"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="2"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="1"]').addClass("hide"),$('.employee-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-employee-btn").addClass("hide"),$(".employee-forward-btn").removeClass("hide"),calenderInit("#employee_date_of_joining"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),"employee"==sessionStorage.getItem("digibiz_role")&&($(".mask").addClass("hide"),$('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$('input[type="tel"]').prop("disabled",!0),$("select").prop("disabled",!0),$("#employee_department_assignment_btn").prop("disabled",!0),$("#employee_department_assignment_remove").prop("disabled",!0),$("#employee_contact_access_assignment_btn").prop("disabled",!0),$("#employee_access_show_btn").prop("disabled",!0)),removeLoader(),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",o)})).catch((a=>{var o={EmployeeData:i,EmployeeCategoryList:t};fetch.replaceHtml((function(){mobileFlaginit(),"super_admin"==i.employee_role&&$(`.employee-department-assignment-box[data-id="${sessionStorage.getItem("department_id")}"]`).find("#employee_department_assignment_remove").remove(),i.hasOwnProperty("type")&&i.type&&$("#employee-type-choose-select-dropdown").val(i.type),i.hasOwnProperty("category")&&i.category&&$("#employee-category-choose-select-dropdown").val(i.category),i.hasOwnProperty("designation")&&i.designation&&$("#employee-designation-choose-select-dropdown").val(i.designation),$(".employee-back-btn").attr("data-present-step","2"),$(".employee-forward-btn").attr("data-present-step","2"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="2"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="1"]').addClass("hide"),$('.employee-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-employee-btn").addClass("hide"),$(".employee-forward-btn").removeClass("hide"),calenderInit("#employee_date_of_joining"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),"employee"==sessionStorage.getItem("digibiz_role")&&($(".mask").addClass("hide"),$('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$('input[type="tel"]').prop("disabled",!0),$("select").prop("disabled",!0),$("#employee_department_assignment_btn").prop("disabled",!0),$("#employee_department_assignment_remove").prop("disabled",!0),$("#employee_contact_access_assignment_btn").prop("disabled",!0),$("#employee_access_show_btn").prop("disabled",!0)),removeLoader(),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",o)}))}))})).catch((e=>{}))}else{digibiz.alreadySelectedDepartment=[];var a={EmployeeCategoryList:t};fetch.replaceHtml((function(){mobileFlaginit(),calenderInit("#employee_date_of_joining"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),removeLoader(),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",a)}}))})).catch((t=>{employeeDesignationList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id")}).then((t=>{if(sessionStorage.getItem("employee_id")){employeeGet({device_id:crossplat.device.uuid,id:sessionStorage.getItem("employee_id"),get_by:"id"}).then((i=>{employeeDepartmentAssignmentList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),dj_unique_employee_id:sessionStorage.getItem("employee_id"),list_by:"employee_active"}).then((a=>{if(i.hasOwnProperty("identity_picture")&&i.identity_picture&&i.identity_picture.hasOwnProperty("thumbnail")&&i.identity_picture.thumbnail){var o=`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${i.identity_picture.thumbnail}`;i.identity_picture.avtarUrl=o}if(i.hasOwnProperty("identity_video")&&i.identity_video&&i.identity_video.hasOwnProperty("thumbnail")&&i.identity_video.thumbnail){o=`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${i.identity_video.thumbnail}`;i.identity_video.avtarUrl=o}roleManagementList({device_id:crossplat.device.uuid,list_by:"member",member_id:sessionStorage.getItem("employee_id")}).then((o=>{var s={EmployeeData:i,EmployeeDesignationList:t,employeeDepartmentAssignment:a,role_assignment:o.map((e=>(e.imageLetter=e.app_name.charAt(0),e)))};fetch.replaceHtml((function(){mobileFlaginit(),i.hasOwnProperty("type")&&i.type&&$("#employee-type-choose-select-dropdown").val(i.type),i.hasOwnProperty("category")&&i.category&&$("#employee-category-choose-select-dropdown").val(i.category),i.hasOwnProperty("designation")&&i.designation&&$("#employee-designation-choose-select-dropdown").val(i.designation),digibiz.alreadySelectedDepartment=a,"super_admin"==i.employee_role&&$(`.employee-department-assignment-box[data-id="${sessionStorage.getItem("department_id")}"]`).find("#employee_department_assignment_remove").remove(),$(".employee-back-btn").attr("data-present-step","2"),$(".employee-forward-btn").attr("data-present-step","2"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="2"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="1"]').addClass("hide"),$('.employee-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-employee-btn").addClass("hide"),$(".employee-forward-btn").removeClass("hide"),calenderInit("#employee_date_of_joining"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),"employee"==sessionStorage.getItem("digibiz_role")&&($(".mask").addClass("hide"),$('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$('input[type="tel"]').prop("disabled",!0),$("select").prop("disabled",!0),$("#employee_department_assignment_btn").prop("disabled",!0),$("#employee_department_assignment_remove").prop("disabled",!0),$("#employee_contact_access_assignment_btn").prop("disabled",!0),$("#employee_access_show_btn").prop("disabled",!0)),removeLoader(),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",s)})).catch((o=>{var s={EmployeeData:i,EmployeeDesignationList:t,employeeDepartmentAssignment:a};fetch.replaceHtml((function(){mobileFlaginit(),"super_admin"==i.employee_role&&$(`.employee-department-assignment-box[data-id="${sessionStorage.getItem("department_id")}"]`).find("#employee_department_assignment_remove").remove(),i.hasOwnProperty("type")&&i.type&&$("#employee-type-choose-select-dropdown").val(i.type),i.hasOwnProperty("category")&&i.category&&$("#employee-category-choose-select-dropdown").val(i.category),i.hasOwnProperty("designation")&&i.designation&&$("#employee-designation-choose-select-dropdown").val(i.designation),digibiz.alreadySelectedDepartment=a,$(".employee-back-btn").attr("data-present-step","2"),$(".employee-forward-btn").attr("data-present-step","2"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="2"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="1"]').addClass("hide"),$('.employee-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-employee-btn").addClass("hide"),$(".employee-forward-btn").removeClass("hide"),calenderInit("#employee_date_of_joining"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),"employee"==sessionStorage.getItem("digibiz_role")&&($(".mask").addClass("hide"),$('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$('input[type="tel"]').prop("disabled",!0),$("select").prop("disabled",!0),$("#employee_department_assignment_btn").prop("disabled",!0),$("#employee_department_assignment_remove").prop("disabled",!0),$("#employee_contact_access_assignment_btn").prop("disabled",!0),$("#employee_access_show_btn").prop("disabled",!0)),removeLoader(),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",s)}))})).catch((a=>{if(i.hasOwnProperty("identity_picture")&&i.identity_picture&&i.identity_picture.hasOwnProperty("thumbnail")&&i.identity_picture.thumbnail){var o=`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${i.identity_picture.thumbnail}`;i.identity_picture.avtarUrl=o}if(i.hasOwnProperty("identity_video")&&i.identity_video&&i.identity_video.hasOwnProperty("thumbnail")&&i.identity_video.thumbnail){o=`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${i.identity_video.thumbnail}`;i.identity_video.avtarUrl=o}roleManagementList({device_id:crossplat.device.uuid,list_by:"member",member_id:sessionStorage.getItem("employee_id")}).then((a=>{var o={EmployeeData:i,EmployeeDesignationList:t,role_assignment:a.map((e=>(e.imageLetter=e.app_name.charAt(0),e)))};fetch.replaceHtml((function(){mobileFlaginit(),i.hasOwnProperty("type")&&i.type&&$("#employee-type-choose-select-dropdown").val(i.type),i.hasOwnProperty("category")&&i.category&&$("#employee-category-choose-select-dropdown").val(i.category),i.hasOwnProperty("designation")&&i.designation&&$("#employee-designation-choose-select-dropdown").val(i.designation),"super_admin"==i.employee_role&&$(`.employee-department-assignment-box[data-id="${sessionStorage.getItem("department_id")}"]`).find("#employee_department_assignment_remove").remove(),$(".employee-back-btn").attr("data-present-step","2"),$(".employee-forward-btn").attr("data-present-step","2"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="2"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="1"]').addClass("hide"),$('.employee-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-employee-btn").addClass("hide"),$(".employee-forward-btn").removeClass("hide"),calenderInit("#employee_date_of_joining"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),"employee"==sessionStorage.getItem("digibiz_role")&&($(".mask").addClass("hide"),$('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$('input[type="tel"]').prop("disabled",!0),$("select").prop("disabled",!0),$("#employee_department_assignment_btn").prop("disabled",!0),$("#employee_department_assignment_remove").prop("disabled",!0),$("#employee_contact_access_assignment_btn").prop("disabled",!0),$("#employee_access_show_btn").prop("disabled",!0)),removeLoader(),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",o)})).catch((a=>{var o={EmployeeData:i,EmployeeDesignationList:t};fetch.replaceHtml((function(){mobileFlaginit(),"super_admin"==i.employee_role&&$(`.employee-department-assignment-box[data-id="${sessionStorage.getItem("department_id")}"]`).find("#employee_department_assignment_remove").remove(),i.hasOwnProperty("type")&&i.type&&$("#employee-type-choose-select-dropdown").val(i.type),i.hasOwnProperty("category")&&i.category&&$("#employee-category-choose-select-dropdown").val(i.category),i.hasOwnProperty("designation")&&i.designation&&$("#employee-designation-choose-select-dropdown").val(i.designation),$(".employee-back-btn").attr("data-present-step","2"),$(".employee-forward-btn").attr("data-present-step","2"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="2"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="1"]').addClass("hide"),$('.employee-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-employee-btn").addClass("hide"),$(".employee-forward-btn").removeClass("hide"),calenderInit("#employee_date_of_joining"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),"employee"==sessionStorage.getItem("digibiz_role")&&($(".mask").addClass("hide"),$('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$('input[type="tel"]').prop("disabled",!0),$("select").prop("disabled",!0),$("#employee_department_assignment_btn").prop("disabled",!0),$("#employee_department_assignment_remove").prop("disabled",!0),$("#employee_contact_access_assignment_btn").prop("disabled",!0),$("#employee_access_show_btn").prop("disabled",!0)),removeLoader(),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",o)}))}))})).catch((e=>{}))}else{digibiz.alreadySelectedDepartment=[];var i={EmployeeDesignationList:t};fetch.replaceHtml((function(){mobileFlaginit(),calenderInit("#employee_date_of_joining"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),removeLoader(),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",i)}})).catch((t=>{if(sessionStorage.getItem("employee_id")){employeeGet({device_id:crossplat.device.uuid,id:sessionStorage.getItem("employee_id"),get_by:"id"}).then((t=>{employeeDepartmentAssignmentList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),dj_unique_employee_id:sessionStorage.getItem("employee_id"),list_by:"employee_active"}).then((i=>{if(t.hasOwnProperty("identity_picture")&&t.identity_picture&&t.identity_picture.hasOwnProperty("thumbnail")&&t.identity_picture.thumbnail){var a=`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${t.identity_picture.thumbnail}`;t.identity_picture.avtarUrl=a}if(t.hasOwnProperty("identity_video")&&t.identity_video&&t.identity_video.hasOwnProperty("thumbnail")&&t.identity_video.thumbnail){a=`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${t.identity_video.thumbnail}`;t.identity_video.avtarUrl=a}roleManagementList({device_id:crossplat.device.uuid,list_by:"member",member_id:sessionStorage.getItem("employee_id")}).then((a=>{var o={EmployeeData:t,employeeDepartmentAssignment:i,role_assignment:a.map((e=>(e.imageLetter=e.app_name.charAt(0),e)))};fetch.replaceHtml((function(){mobileFlaginit(),t.hasOwnProperty("type")&&t.type&&$("#employee-type-choose-select-dropdown").val(t.type),t.hasOwnProperty("category")&&t.category&&$("#employee-category-choose-select-dropdown").val(t.category),t.hasOwnProperty("designation")&&t.designation&&$("#employee-designation-choose-select-dropdown").val(t.designation),digibiz.alreadySelectedDepartment=i,"super_admin"==t.employee_role&&$(`.employee-department-assignment-box[data-id="${sessionStorage.getItem("department_id")}"]`).find("#employee_department_assignment_remove").remove(),$(".employee-back-btn").attr("data-present-step","2"),$(".employee-forward-btn").attr("data-present-step","2"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="2"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="1"]').addClass("hide"),$('.employee-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-employee-btn").addClass("hide"),$(".employee-forward-btn").removeClass("hide"),calenderInit("#employee_date_of_joining"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),"employee"==sessionStorage.getItem("digibiz_role")&&($(".mask").addClass("hide"),$('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$('input[type="tel"]').prop("disabled",!0),$("select").prop("disabled",!0),$("#employee_department_assignment_btn").prop("disabled",!0),$("#employee_department_assignment_remove").prop("disabled",!0),$("#employee_contact_access_assignment_btn").prop("disabled",!0),$("#employee_access_show_btn").prop("disabled",!0)),removeLoader(),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",o)})).catch((a=>{var o={EmployeeData:t,employeeDepartmentAssignment:i};fetch.replaceHtml((function(){mobileFlaginit(),"super_admin"==t.employee_role&&$(`.employee-department-assignment-box[data-id="${sessionStorage.getItem("department_id")}"]`).find("#employee_department_assignment_remove").remove(),t.hasOwnProperty("type")&&t.type&&$("#employee-type-choose-select-dropdown").val(t.type),t.hasOwnProperty("category")&&t.category&&$("#employee-category-choose-select-dropdown").val(t.category),t.hasOwnProperty("designation")&&t.designation&&$("#employee-designation-choose-select-dropdown").val(t.designation),digibiz.alreadySelectedDepartment=i,$(".employee-back-btn").attr("data-present-step","2"),$(".employee-forward-btn").attr("data-present-step","2"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="2"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="1"]').addClass("hide"),$('.employee-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-employee-btn").addClass("hide"),$(".employee-forward-btn").removeClass("hide"),calenderInit("#employee_date_of_joining"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),"employee"==sessionStorage.getItem("digibiz_role")&&($(".mask").addClass("hide"),$('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$('input[type="tel"]').prop("disabled",!0),$("select").prop("disabled",!0),$("#employee_department_assignment_btn").prop("disabled",!0),$("#employee_department_assignment_remove").prop("disabled",!0),$("#employee_contact_access_assignment_btn").prop("disabled",!0),$("#employee_access_show_btn").prop("disabled",!0)),removeLoader(),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",o)}))})).catch((i=>{if(t.hasOwnProperty("identity_picture")&&t.identity_picture&&t.identity_picture.hasOwnProperty("thumbnail")&&t.identity_picture.thumbnail){var a=`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${t.identity_picture.thumbnail}`;t.identity_picture.avtarUrl=a}if(t.hasOwnProperty("identity_video")&&t.identity_video&&t.identity_video.hasOwnProperty("thumbnail")&&t.identity_video.thumbnail){a=`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${t.identity_video.thumbnail}`;t.identity_video.avtarUrl=a}roleManagementList({device_id:crossplat.device.uuid,list_by:"member",member_id:sessionStorage.getItem("employee_id")}).then((i=>{var a={EmployeeData:t,role_assignment:i.map((e=>(e.imageLetter=e.app_name.charAt(0),e)))};fetch.replaceHtml((function(){mobileFlaginit(),t.hasOwnProperty("type")&&t.type&&$("#employee-type-choose-select-dropdown").val(t.type),t.hasOwnProperty("category")&&t.category&&$("#employee-category-choose-select-dropdown").val(t.category),t.hasOwnProperty("designation")&&t.designation&&$("#employee-designation-choose-select-dropdown").val(t.designation),"super_admin"==t.employee_role&&$(`.employee-department-assignment-box[data-id="${sessionStorage.getItem("department_id")}"]`).find("#employee_department_assignment_remove").remove(),$(".employee-back-btn").attr("data-present-step","2"),$(".employee-forward-btn").attr("data-present-step","2"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="2"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="1"]').addClass("hide"),$('.employee-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-employee-btn").addClass("hide"),$(".employee-forward-btn").removeClass("hide"),calenderInit("#employee_date_of_joining"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),"employee"==sessionStorage.getItem("digibiz_role")&&($(".mask").addClass("hide"),$('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$('input[type="tel"]').prop("disabled",!0),$("select").prop("disabled",!0),$("#employee_department_assignment_btn").prop("disabled",!0),$("#employee_department_assignment_remove").prop("disabled",!0),$("#employee_contact_access_assignment_btn").prop("disabled",!0),$("#employee_access_show_btn").prop("disabled",!0)),removeLoader(),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",a)})).catch((i=>{var a={EmployeeData:t};fetch.replaceHtml((function(){mobileFlaginit(),"super_admin"==t.employee_role&&$(`.employee-department-assignment-box[data-id="${sessionStorage.getItem("department_id")}"]`).find("#employee_department_assignment_remove").remove(),t.hasOwnProperty("type")&&t.type&&$("#employee-type-choose-select-dropdown").val(t.type),t.hasOwnProperty("category")&&t.category&&$("#employee-category-choose-select-dropdown").val(t.category),t.hasOwnProperty("designation")&&t.designation&&$("#employee-designation-choose-select-dropdown").val(t.designation),$(".employee-back-btn").attr("data-present-step","2"),$(".employee-forward-btn").attr("data-present-step","2"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="2"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="1"]').addClass("hide"),$('.employee-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-employee-btn").addClass("hide"),$(".employee-forward-btn").removeClass("hide"),calenderInit("#employee_date_of_joining"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),"employee"==sessionStorage.getItem("digibiz_role")&&($(".mask").addClass("hide"),$('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$('input[type="tel"]').prop("disabled",!0),$("select").prop("disabled",!0),$("#employee_department_assignment_btn").prop("disabled",!0),$("#employee_department_assignment_remove").prop("disabled",!0),$("#employee_contact_access_assignment_btn").prop("disabled",!0),$("#employee_access_show_btn").prop("disabled",!0)),removeLoader(),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",a)}))}))})).catch((e=>{}))}else{digibiz.alreadySelectedDepartment=[];fetch.replaceHtml((function(){mobileFlaginit(),calenderInit("#employee_date_of_joining"),calenderInit("#employee_date_of_birth"),calenderInit("#employee_wedding_anniversary"),removeLoader(),e()}),"page/common/employee_create","#employee-create-template","#main-content-wrapper",{})}}))}))}))}))}function employeeProfilePage(){return addLoader(),new Promise(((e,t)=>{(console.log("wefrwf"),sessionStorage.getItem("employee_id"))&&employeeGet({device_id:crossplat.device.uuid,id:sessionStorage.getItem("employee_id"),get_by:"id"}).then((t=>{if(t.hasOwnProperty("identity_picture")&&t.identity_picture&&t.identity_picture.hasOwnProperty("thumbnail")&&t.identity_picture.thumbnail){var i=`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${t.identity_picture.thumbnail}`;t.identity_picture.avtarUrl=i}if(t.hasOwnProperty("identity_video")&&t.identity_video&&t.identity_video.hasOwnProperty("thumbnail")&&t.identity_video.thumbnail){i=`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${t.identity_video.video_id}`;t.identity_video.avtarUrl=i}if(t.hasOwnProperty("date_of_birth")&&t.date_of_birth){var a=t.date_of_birth,o=moment(a,"DD/MM/YYYY");console.log("dateMomentObject",o);var s=o.toDate();console.log("dateObject",s);var r=new Date(s).toUTCString();console.log("UTCDate",r);var n=r.split(" ").slice(1,3).join(" ");t.date_of_birth=n}if(t.hasOwnProperty("wedding_anniversary")&&t.wedding_anniversary){a=t.wedding_anniversary,o=moment(a,"DD/MM/YYYY");console.log("dateMomentObject",o);s=o.toDate();console.log("dateObject",s);r=new Date(s).toUTCString();console.log("UTCDate",r);n=r.split(" ").slice(1,3).join(" ");t.wedding_anniversary=n}var d={EmployeeData:t};fetch.replaceHtml((function(){removeLoader(),$(".employee-create-main-container").length>0&&appScroll.scrollBar(".employee-create-main-container"),e()}),"page/employee/employee_profile","#employee-profile-template","#main-content-wrapper",d)})).catch((e=>{}))}))}function customerProfilePage(){return addLoader(),new Promise(((e,t)=>{if(sessionStorage.getItem("customer_id")&&sessionStorage.getItem("customer_type"))if("customer"==sessionStorage.getItem("customer_type"))customerGet({device_id:crossplat.device.uuid,get_by:"id",id:sessionStorage.getItem("customer_id")}).then((t=>{if(console.log("customerGet result",t),t.hasOwnProperty("identity_picture")&&t.identity_picture&&(console.log("1"),t.identity_picture.hasOwnProperty("thumbnail")&&t.identity_picture.thumbnail)){var i=`${api.get_customer_identity_picture}?id=${sessionStorage.getItem("customer_id")}&device_id=${crossplat.device.uuid}&image_id=${t.identity_picture.thumbnail}`;t.identity_picture.avtarUrl=i}if(t.hasOwnProperty("identity_video")&&t.identity_video&&(console.log("2"),t.identity_video.hasOwnProperty("thumbnail")&&t.identity_video.thumbnail)){console.log("2a");i=`${api.get_customer_identity_picture}?id=${sessionStorage.getItem("customer_id")}&device_id=${crossplat.device.uuid}&image_id=${t.identity_video.video_id}`;t.identity_video.avtarUrl=i}if(t.hasOwnProperty("date_of_birth")&&t.date_of_birth){console.log("3");var a=t.date_of_birth,o=moment(a,"DD/MM/YYYY");console.log("dateMomentObject",o);var s=o.toDate();console.log("dateObject",s);var r=new Date(s).toUTCString();console.log("UTCDate",r);var n=r.split(" ").slice(1,3).join(" ");t.date_of_birth=n}if(t.hasOwnProperty("wedding_anniversary")&&t.wedding_anniversary){console.log("4");a=t.wedding_anniversary,o=moment(a,"DD/MM/YYYY");console.log("dateMomentObject",o);s=o.toDate();console.log("dateObject",s);r=new Date(s).toUTCString();console.log("UTCDate",r);n=r.split(" ").slice(1,3).join(" ");t.wedding_anniversary=n}var d={customerData:t,customer_type:"customer"};console.log("customerData",d),fetch.replaceHtml((function(){removeLoader(),appScroll.scrollBar(".customer-create-main-container"),e()}),"page/customer/customer_profile","#customer-profile-template","#main-content-wrapper",d)})).catch((e=>{}));else if("associate_customer"==sessionStorage.getItem("customer_type")){associateCustomerGet({device_id:crossplat.device.uuid,get_by:"id",id:sessionStorage.getItem("customer_id")}).then((t=>{if(t.hasOwnProperty("identity_picture")&&t.identity_picture&&t.identity_picture.hasOwnProperty("thumbnail")&&t.identity_picture.thumbnail){var i=`${api.get_associate_customer_identity_picture}?id=${sessionStorage.getItem("customer_id")}&device_id=${crossplat.device.uuid}&image_id=${t.identity_picture.thumbnail}`;t.identity_picture.avtarUrl=i}if(t.hasOwnProperty("identity_video")&&t.identity_video&&t.identity_video.hasOwnProperty("thumbnail")&&t.identity_video.thumbnail){i=`${api.get_associate_customer_identity_picture}?id=${sessionStorage.getItem("customer_id")}&device_id=${crossplat.device.uuid}&image_id=${t.identity_video.video_id}`;t.identity_video.avtarUrl=i}if(t.hasOwnProperty("date_of_birth")&&t.date_of_birth){var a=t.date_of_birth,o=moment(a,"DD/MM/YYYY");console.log("dateMomentObject",o);var s=o.toDate();console.log("dateObject",s);var r=new Date(s).toUTCString();console.log("UTCDate",r);var n=r.split(" ").slice(1,3).join(" ");t.date_of_birth=n}if(t.hasOwnProperty("wedding_anniversary")&&t.wedding_anniversary){a=t.wedding_anniversary,o=moment(a,"DD/MM/YYYY");console.log("dateMomentObject",o);s=o.toDate();console.log("dateObject",s);r=new Date(s).toUTCString();console.log("UTCDate",r);n=r.split(" ").slice(1,3).join(" ");t.wedding_anniversary=n}var d={customerData:t,customer_type:"associate_customer"};fetch.replaceHtml((function(){removeLoader(),e()}),"page/customer/customer_profile","#customer-profile-template","#main-content-wrapper",d)})).catch((e=>{}))}}))}function calenderInit(e){var t=$(e).pickadate({selectMonths:!0,selectYears:100,formatSubmit:"dd/mm/yyyy",format:"dd/mm/yyyy",today:!1,clear:"Clear",close:!1,closeOnSelect:!0});if($(e)[0]){let e=$(t).pickadate("picker");t.on("click",(function(t){t.stopPropagation(),$(e).data("stay_open",!0),e.open()})),e.on("open",(function(){$(e).data("stay_open")||e.close()})),e.on("close",(function(){$(e).data("stay_open",!1)}))}}function settingCalenderInit(e){var t=$(e).pickadate({selectMonths:!0,selectYears:100,formatSubmit:"dd/mm/yyyy",format:"dd/mm/yyyy",today:!1,clear:"Clear",close:!1,max:new Date((new Date).getTime()- -31536e6),min:new Date((new Date).getTime()-0),closeOnSelect:!0});if($(e)[0]){let e=$(t).pickadate("picker");t.on("click",(function(t){t.stopPropagation(),$(e).data("stay_open",!0),e.open()})),e.on("open",(function(){$(e).data("stay_open")||e.close()})),e.on("close",(function(){$(e).data("stay_open",!1)}))}}function calenderInitDOB(e){var t=$(e).pickadate({selectMonths:!0,selectYears:100,formatSubmit:"dd/mm/yyyy",format:"dd/mm/yyyy",today:!1,clear:"Clear",close:!1,max:"0",closeOnSelect:!0});if($(e)[0]){let e=$(t).pickadate("picker");t.on("click",(function(t){t.stopPropagation(),$(e).data("stay_open",!0),e.open()})),e.on("open",(function(){$(e).data("stay_open")||e.close()})),e.on("close",(function(){$(e).data("stay_open",!1)}))}}function timepickInit(e){$(e).pickatime({default:"now",fromnow:0,twelvehour:!0,donetext:"OK",cleartext:"Clear",canceltext:"Cancel",container:void 0,autoclose:!1,ampmclickable:!0,aftershow:function(){}});$(e).on("mousedown",(function(e){e.preventDefault()}))}function mobileFlaginit(){$(".mobile-flag").intlTelInput({allowtrueExtensions:!0,autoFormat:!0,separateDialCode:!0,autoHideDialCode:!1,autoPlaceholder:!1,defaultCountry:"in",ipinfoToken:"yolo",nationalMode:!1,numberType:"MOBILE",preferredCountries:["in","us"],preventInvalidNumbers:!0})}function validateAddNewEmployee(){let e=!1,t=!1;var i=JSON.parse(sessionStorage.getItem("profile_details"));return $("#jeevi_member_field").val().length>0&&i.login.user_name==$(".unique-name").val()&&(showError($("#jeevi_member_field"),"Can't select your own contact"),t=!0),0==$("#add-employee-mobile-number").val().length?(showError($("#add-employee-mobile-number"),"Field is required."),e=!0):$("#add-employee-mobile-number").intlTelInput("getNumber").length>3&&(validate.checkIfIntelValidPhoneNumber($("#add-employee-mobile-number"))||(showError($("#add-employee-mobile-number"),"Invalid Phone number."),e=!0),i.login.mobile_number==$("#add-employee-mobile-number").intlTelInput("getNumber")&&(showError($("#add-employee-mobile-number"),"Can't select your own mobile number"),e=!0)),!t||!e||(Materialize.toast("Please fill any one field",3e3,"round success-alert"),!1)}function validateEmployeeStepTwo(){let e=!1,t=!1,i=!1,a=!1,o=!1,s=!1,r=!1;JSON.parse(sessionStorage.getItem("profile_details"));$("#add-employee-display-phone-number").val().trim().length>0&&(0==$("#add-employee-display-phone-number").val().trim().length?(showError($("#add-employee-display-phone-number"),"Field is required."),r=!0):$("#add-employee-display-phone-number").intlTelInput("getNumber").length>3&&(validate.checkIfIntelValidPhoneNumber($("#add-employee-display-phone-number"))||(showError($("#add-employee-display-phone-number"),"Invalid Phone number."),r=!0)));var n=$("#employee_display_name").text().trim().length;return n>0&&(n<config.employeeMinNameLength&&(showError($("#employee_display_name"),`This field should contain atleast ${config.employeeMinNameLength} characters.`),s=!0),n>config.employeeMaxNameLength&&(showError($("#employee_display_name"),`This field can't have more than  ${config.employeeMaxNameLength} characters.`),s=!0),n>=config.employeeMinNameLength&&n<=config.employeeMaxNameLength&&(s=!1)),$("#employee_email").text().trim().length>0&&(validate.checkIfValidEmail($("#employee_email").text().trim())||(showError($("#employee_email"),"Invalid Email"),e=!0)),$("#employee_date_of_joining").val().trim().length>0?t=!1:(t=!0,showError($("#employee_date_of_joining"),"This field is required")),$(".selected-value-employee-type").attr("data-value").length>0?i=!1:(i=!0,showError($(".selected-value-employee-type"),"This field is required")),$(".selected-value-employee-category").attr("data-value").length>0?a=!1:(a=!0,showError($(".selected-value-employee-category"),"This field is required")),$(".selected-value-employee-designation").attr("data-value").length>0?o=!1:(o=!0,showError($(".selected-value-employee-designation"),"This field is required")),!(e||t||i||a||o||s||r)}function validateEmployeeProfileEdit(){let e=!1,t=!1;return $("#add-employee-display-phone-number").val().trim().length>0&&(0==$("#add-employee-display-phone-number").val().trim().length?(showError($("#add-employee-display-phone-number"),"Field is required."),t=!0):$("#add-employee-display-phone-number").intlTelInput("getNumber").length>3&&(validate.checkIfIntelValidPhoneNumber($("#add-employee-display-phone-number"))||(showError($("#add-employee-display-phone-number"),"Invalid Phone number."),t=!0))),$("#employee_alternate_email").text().trim().length>0&&(validate.checkIfValidEmail($("#employee_alternate_email").text().trim())||(showError($("#employee_alternate_email"),"Invalid Email"),e=!0)),!e&&!t}function employeeBusinessListPage(){return new Promise(((e,t)=>{businessList({device_id:crossplat.device.uuid,list_by:"employee"}).then((t=>{fetch.replaceHtml((function(){processEmployeeBusinessList(t,(function(){removeLoader(),e()}))}),"page/business/employee_business_list_wrapper","#employee-business-list-wrapper-template","#main-content-wrapper",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/business/employee_business_list_data","#employee-business-data-list-template","#employee-business-list-wrapper",null)}),"page/business/employee_business_list_wrapper","#employee-business-list-wrapper-template","#main-content-wrapper",null)}))}))}function employeesBusinessListPage(){return new Promise(((e,t)=>{0==digibiz.checkAccountFlag?(digibiz.employee_business_list=[],businessList({device_id:crossplat.device.uuid,list_by:"employee_module",count:8,offset:0}).then((t=>{fetch.replaceHtml((function(){processEmployeeBusinessList(t,(function(){appScroll.scrollBar(".employee-business-list-main-container"),listenForEmployeeBusinessListScrollEvent($(".employee-business-list-main-container")),removeLoader(),e()}))}),"page/business/employee_business_list_wrapper","#employee-business-list-wrapper-template","#digibiz-home-page-middle-band-wrapper",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/business/employee_business_list_data","#employee-business-data-list-template","#employee-business-list-wrapper",null)}),"page/business/employee_business_list_wrapper","#employee-business-list-wrapper-template","#digibiz-home-page-middle-band-wrapper",null)}))):fetch.replaceHtml((function(){processEmployeeBusinessList(digibiz.employee_business_list,(function(){appScroll.scrollBar(".employee-business-list-main-container"),listenForEmployeeBusinessListScrollEvent($(".employee-business-list-main-container")),removeLoader(),e()}))}),"page/business/employee_business_list_wrapper","#employee-business-list-wrapper-template","#digibiz-home-page-middle-band-wrapper",null)}))}function listenForEmployeeBusinessListScrollEvent(e){addLoader(),$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),businessList({device_id:crossplat.device.uuid,list_by:"employee_module",count:5,offset:digibiz.employee_business_list.length}).then((e=>{scrollProcessEmployeeBusinessList(e,(function(){listenForEmployeeBusinessListScrollEvent($(".employee-business-list-main-container")),removeLoader()}))})).catch((e=>{removeLoader()})))}))}function scrollProcessEmployeeBusinessList(e,t){digibiz.employee_business_list=removeDuplicates(digibiz.employee_business_list.concat(e),"id");var i={employee_business_list_data:e.map((e=>{if(e.hasOwnProperty("display_picture")&&e.display_picture)if(e.display_picture.hasOwnProperty("thumbnail")&&e.display_picture.thumbnail){var t=`${api.get_business_multimedia}?business_id=${e.id}&device_id=${crossplat.device.uuid}&image_id=${e.display_picture.thumbnail}`;e.display_picture.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};digibiz.employee_business_list.length>0?console.log("business is there"):(location.hash="jeevi/app/hub",console.log("5555555")),fetch.appendHtml((function(e){e||t()}),"page/business/scroll_employee_business_list_data","#scroll-employee-business-data-list-template","#employee-business-list-wrapper .employee-business-list-contentbox",i)}function employeeBusinessListHelperMethod(){businessList({device_id:crossplat.device.uuid,list_by:"employee"}).then((e=>{digibiz.employee_business_list=e,digibiz.employee_business_list.length>0&&$("#employee-role-btn").removeClass("hide")})).catch((e=>{}))}function employeeModuleListHelperMethod(){businessList({device_id:crossplat.device.uuid,list_by:"employee_module",count:20,offset:0}).then((e=>{digibiz.employee_business_list=e,digibiz.employee_business_list.length>0&&$("#employee-role-btn").removeClass("hide")})).catch((e=>{}))}function processEmployeeBusinessList(e,t){digibiz.employee_business_list=removeDuplicates(digibiz.employee_business_list.concat(e),"id");var i={employee_business_list_data:digibiz.employee_business_list.map((e=>{if(e.hasOwnProperty("display_picture")&&e.display_picture)if(e.display_picture.hasOwnProperty("thumbnail")&&e.display_picture.thumbnail){var t=`${api.get_business_multimedia}?business_id=${e.id}&device_id=${crossplat.device.uuid}&image_id=${e.display_picture.thumbnail}`;e.display_picture.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};digibiz.employee_business_list.length>0?console.log("business is there"):(location.hash="jeevi/app/hub",console.log("5555555")),fetch.replaceHtml((function(e){e||t()}),"page/business/employee_business_list_data","#employee-business-data-list-template","#employee-business-list-wrapper",i)}function employeeBusinessAppsHubPage(){return new Promise(((e,t)=>{var i={business_name:sessionStorage.getItem("business_name")};fetch.replaceHtml((function(){getCollaboratorBusinessList({device_id:crossplat.device.uuid,employee_id:sessionStorage.getItem("employee_id"),business_id:sessionStorage.getItem("business_id")}).then((e=>{console.log("businessList response",e),e&&0==e.length&&$("#collaborator-business-list").addClass("hide")})).catch((e=>{console.log("err",e)})),removeLoader(),e();new Swiper(".hubSwiper",{slidesPerView:1,spaceBetween:0,grabCursor:!0,observer:!0,pagination:{el:".swiper-pagination",clickable:!0}});$(".swiper").removeClass("hubSwiper")}),"page/business/view_employee_business_apps_hub","#view-employee-business-apps-land-page","#main-content-wrapper",i)}))}function customerBusinessAppsHub(){return new Promise(((e,t)=>{var i={customer_cloud_folder:sessionStorage.getItem("customer_cloud_folder"),business_name:sessionStorage.getItem("business_name")};fetch.replaceHtml((function(){removeLoader(),e();new Swiper(".hubSwiper",{slidesPerView:1,spaceBetween:0,grabCursor:!0,observer:!0,pagination:{el:".swiper-pagination",clickable:!0}});$(".swiper").removeClass("hubSwiper")}),"page/business/view_customer_business_apps_hub","#view-customer-business-apps-land-page","#main-content-wrapper",i)}))}function getProfileManagerPage(){return new Promise(((e,t)=>{addLoader(),fetch.replaceHtml((function(){removeLoader(),e()}),"page/landPage/profile_manager_page","#digibiz-profile-manager-page","#main-content-wrapper",null)}))}function departmentAdd(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.add_department_data,"POST","JSON",e)}))}function departmentGet(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.get_department_data,"POST","JSON",e)}))}function departmentList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.list_department_data,"POST","JSON",e)}))}function departmentUpdate(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.update_department_data,"POST","JSON",e)}))}function departmentDelete(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.delete_department_data,"POST","JSON",e)}))}function employeeTypeAdd(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.add_employee_type,"POST","JSON",e)}))}function employeeTypeGet(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.get_employee_type,"POST","JSON",e)}))}function employeeTypeList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.list_employee_type,"POST","JSON",e)}))}function employeeTypeUpdate(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.update_employee_type,"POST","JSON",e)}))}function employeeTypeDelete(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.delete_employee_type,"POST","JSON",e)}))}function employeeCategoryAdd(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.add_employee_category,"POST","JSON",e)}))}function employeeCategoryGet(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.get_employee_category,"POST","JSON",e)}))}function employeeCategoryList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.list_employee_category,"POST","JSON",e)}))}function employeeCategoryUpdate(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.update_employee_category,"POST","JSON",e)}))}function employeeCategoryDelete(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.delete_employee_category,"POST","JSON",e)}))}function employeeDesignationAdd(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.add_employee_designation,"POST","JSON",e)}))}function employeeDesignationGet(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.get_employee_designation,"POST","JSON",e)}))}function employeeDesignationList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.list_employee_designation,"POST","JSON",e)}))}function employeeDesignationUpdate(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.update_employee_designation,"POST","JSON",e)}))}function employeeDesignationDelete(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.delete_employee_designation,"POST","JSON",e)}))}function employeeDepartmentAssignmentAdd(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.add_employee_department,"POST","JSON",e)}))}function employeeDepartmentAssignmentGet(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.get_employee_department,"POST","JSON",e)}))}function employeeDepartmentAssignmentList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.list_employee_department,"POST","JSON",e)}))}function employeeDepartmentAssignmentDelete(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.delete_employee_department,"POST","JSON",e)}))}function employeeAdd(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.add_employee,"POST","JSON",e)}))}function employeeGet(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.get_employee,"POST","JSON",e)}))}function employeeList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.list_employee,"POST","JSON",e)}))}function employeeCount(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.count_employee,"POST","JSON",e)}))}function pendingNotificationCount(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.count_notification,"POST","JSON",e)}))}function employeeFilter(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.filter_employee,"POST","JSON",e)}))}function employeeUpdate(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.update_employee,"POST","JSON",e)}))}function employeeProfileUpdate(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.update_employee_profile,"POST","JSON",e)}))}function employeeDelete(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.delete_employee,"POST","JSON",e)}))}function employeeDepartmentDelete(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.employee_delete_department,"POST","JSON",e)}))}function employeeDeviceChange(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.device_change_employee,"POST","JSON",e)}))}function employeeDeleteAsset(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.delete_employee_asset,"POST","JSON",e)}))}function customerIdentifierAdd(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.add_customer_identifiers,"POST","JSON",e)}))}function customerIdentifierGet(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.get_customer_identifiers,"POST","JSON",e)}))}function customerIdentifierList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.list_customer_identifiers,"POST","JSON",e)}))}function customerIdentifierCount(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.count_customer_identifiers,"POST","JSON",e)}))}function customerIdentifierUpdate(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.update_customer_identifiers,"POST","JSON",e)}))}function customerIdentifierDelete(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.delete_customer_identifiers,"POST","JSON",e)}))}function customerAdd(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.add_customer,"POST","JSON",e)}))}function digibizCustomerAdd(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.add_digibiz_customer,"POST","JSON",e)}))}function customerGet(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.get_customer,"POST","JSON",e)}))}function customerList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.list_customer,"POST","JSON",e)}))}function customerCount(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.count_customer,"POST","JSON",e)}))}function customerUpdate(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.update_customer,"POST","JSON",e)}))}function customerProfileUpdate(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.update_customer_profile,"POST","JSON",e)}))}function customerDelete(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.delete_customer,"POST","JSON",e)}))}function customerReassign(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.reassign_customer,"POST","JSON",e)}))}function customerDeviceChange(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.device_change_customer,"POST","JSON",e)}))}function customerDeleteAsset(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.delete_customer_asset,"POST","JSON",e)}))}function associateCustomerAdd(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.add_associate_customers,"POST","JSON",e)}))}function digibizAssociateCustomerAdd(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.add_digibiz_associate_customers,"POST","JSON",e)}))}function associateCustomerGet(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.get_associate_customers,"POST","JSON",e)}))}function associateCustomerList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.list_associate_customers,"POST","JSON",e)}))}function associateCustomerProfileUpdate(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.update_associate_customer_profile,"POST","JSON",e)}))}function associateCustomerUpdate(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.update_associate_customers,"POST","JSON",e)}))}function associateCustomerDelete(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.delete_associate_customers,"POST","JSON",e)}))}function associateCustomerDeleteAsset(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.delete_associate_customer_asset,"POST","JSON",e)}))}function collaboratorAdd(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.add_collaborator,"POST","JSON",e)}))}function collaboratorGet(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.get_collaborator,"POST","JSON",e)}))}function collaboratorList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.list_collaborator,"POST","JSON",e)}))}function collaboratorCount(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.count_collaborator,"POST","JSON",e)}))}function collaboratorUpdate(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.update_collaborator,"POST","JSON",e)}))}function collaboratorDelete(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.delete_collaborator,"POST","JSON",e)}))}function collaboratorCustomerList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.list_collaborator_business_customer,"POST","JSON",e)}))}function collaboratorCustomerCount(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.count_collaborator_business_customer,"POST","JSON",e)}))}function getCollaboratorCustomerList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.list_collaborator_customer,"POST","JSON",e)}))}function roleManagementAdd(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.add_role_management,"POST","JSON",e)}))}function roleManagementGet(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.get_role_management,"POST","JSON",e)}))}function roleManagementList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.list_role_management,"POST","JSON",e)}))}function roleManagementUpdate(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.update_role_management,"POST","JSON",e)}))}function roleManagementDelete(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.delete_role_management,"POST","JSON",e)}))}function businessOwnerAdd(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.add_business_owner,"POST","JSON",e)}))}function businessOwnerGet(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.get_business_owner,"POST","JSON",e)}))}function businessOwnerList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.list_business_owner,"POST","JSON",e)}))}function businessOwnerUpdate(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.update_business_owner,"POST","JSON",e)}))}function businessOwnerDelete(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.delete_business_owner,"POST","JSON",e)}))}function notificationAdd(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.add_notification,"POST","JSON",e)}))}function notificationGet(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.get_notification,"POST","JSON",e)}))}function notificationList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.list_notification,"POST","JSON",e)}))}function notificationChangeStatus(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.change_status_notification,"POST","JSON",e)}))}function notificationDelete(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.delete_notification,"POST","JSON",e)}))}function businessNotificationAdd(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.add_business_notification,"POST","JSON",e)}))}function businessNotificationGet(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.get_business_notification,"POST","JSON",e)}))}function businessNotificationList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.list_business_notification,"POST","JSON",e)}))}function pendingCollaboratorCount(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.count_business_notification,"POST","JSON",e)}))}function businessNotificationChangeStatus(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.change_status_business_notification,"POST","JSON",e)}))}function businessNotificationDelete(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.delete_business_notification,"POST","JSON",e)}))}function checkEmployeeControlSetting(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.get_employee_control_setting,"POST","JSON",e)}))}function listContactsList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.list_contacts_lists,"POST","JSON",e)}))}function getContactList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.get_contacts_list,"POST","JSON",e)}))}function getCustomerGroupContactList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.get_contact_group_contact_list,"POST","JSON",e)}))}function getIdentifierItem(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.get_identifier_item_customer,"POST","JSON",e)}))}function groupAdd(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.add_group,"POST","JSON",e)}))}function groupGet(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.get_group,"POST","JSON",e)}))}function getGroupModeratorList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.Data):i(JSON.parse(e.responseText))}),api.moderator_list_group,"POST","JSON",e)}))}function getGroupMembersCount(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.group_members_count,"POST","JSON",e)}))}function groupsList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.list_group,"POST","JSON",e)}))}function communicationGroupsList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.list_group_communication,"POST","JSON",e)}))}function collaboratorGroupsList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.list_groups_collaborator,"POST","JSON",e)}))}function employeeGroupUpdate(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.update_employee_group,"POST","JSON",e)}))}function employeeGroupDelete(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.delete_group,"POST","JSON",e)}))}function groupImageDelete(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.remove_group_image,"POST","JSON",e)}))}function employeeGroupDepartmentUpdate(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.update_department_employee_group,"POST","JSON",e)}))}function employeeGroupDepartmentDelete(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.delete_department_employee_group,"POST","JSON",e)}))}function groupModeratorAdd(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.add_moderator_group,"POST","JSON",e)}))}function groupModeratorDelete(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.delete_moderator_group,"POST","JSON",e)}))}function customerGroupMemberGroupUpdate(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.update_member_group_customer_group,"POST","JSON",e)}))}function customerGroupMemberGroupDelete(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.delete_member_group_customer_group,"POST","JSON",e)}))}function groupMemberAdd(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.add_group_member,"POST","JSON",e)}))}function employeeGroupMemberGet(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.get_employee_group_member,"POST","JSON",e)}))}function groupMemberList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.list_group_member,"POST","JSON",e)}))}function getCompleteList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.get_complete_list,"POST","JSON",e)}))}function getGroupMembers(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.get_group_members,"POST","JSON",e)}))}function getCompleteGroupMembers(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.get_complete_group_members,"POST","JSON",e)}))}function getCompleteGroupMembersList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.get_complete_members_list,"POST","JSON",e)}))}function getCollaboratorBusinessEmployeeMembers(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.get_collaborator_business_employees,"POST","JSON",e)}))}function getCollaboratorBusinessList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.get_collaborator_business_list,"POST","JSON",e)}))}function groupMemberDelete(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.delete_group_member,"POST","JSON",e)}))}function checkGroupMemberDelete(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.check_delete_group_member,"POST","JSON",e)}))}function getUserID(){return sessionStorage.getItem("user_id")}function removeLoader(){$(".global-loader-wrapper").remove()}function addLoader(){$("body").append('<div class="global-loader-wrapper"><svg width="50px" height="50px" class="material-loader">\n  <circle cx="25" cy="25" r="20" class="material-loader__circle" />\n  </svg></div>')}function showError(e,t){$(e).siblings(".error_note").length>0?$(e).siblings(".error_note").text(t):$(e).after(`<span class="error_note">${t}</span>`)}function removeError(e){$(e).siblings(".error_note").remove()}function showAlert(e,t){fetch.appendHtml((function(e){t()}),"components/alert","#alert-layout-template","#app-root",e)}function showAction(e,t){fetch.appendHtml((function(e){t()}),"components/action_sheet","#action-sheet-layout-template","#app-root",e)}function showModal(e,t){fetch.appendHtml((function(e){t()}),"components/modal","#modal-layout-template","#app-root",e)}async function asyncEach(e,t){for(let i=0;i<e.length;i++)await t(e[i],i,e)}function removeDuplicates(e,t){return e.filter(((e,i,a)=>a.map((e=>e[t])).indexOf(e[t])===i))}function removeDuplicatesFromMultipleProperties(e,t,i){return e.filter(((a,o)=>e.findIndex((e=>e[t]==a[t]&&e[i]==a[i]))==o))}function getUserID(){return sessionStorage.getItem("user_id")}function showBackButton(){var e=location.href.split("#").pop();e&&e.includes("home/create_card")?($("#sidebar-left").hide(),$(".hamburg-menu-btn").hide()):e&&e.includes("home/edit_card")?$("#sidebar-left").hide():e&&e.includes("home/share_card")||e&&e.includes("home/view_card")||e&&e.includes("home/preview_card")?($("#sidebar-left").hide(),$(".hamburg-menu-btn").hide().siblings(".activity-back-btn").removeClass("hide")):e&&e.includes("home/complete_basic_card")?($("#sidebar-left").hide(),$(".hamburg-menu-btn").hide()):e&&e.includes("home/view_basic_card")?($("#sidebar-left").hide(),$(".hamburg-menu-btn").hide().siblings(".activity-back-btn").removeClass("hide")):($("#sidebar-left").show(),$(".hamburg-menu-btn").show().siblings(".activity-back-btn").addClass("hide"))}function getUserProfile(e){if(console.log("getUserProfile"),sessionStorage.getItem("profile_details")){console.log("got");var t=JSON.parse(sessionStorage.getItem("profile_details"));if(console.log("getData",t),t.hasOwnProperty("individual"))console.log("got individual"),e(null,JSON.parse(sessionStorage.getItem("profile_details")));else{console.log("else");let t={device_id:crossplat.device.uuid,data:{individual:["id","salutation","ssn","status_message","good_to_know_status_message","address","dob","adhaar","nominee","name","spam_count"],login:["mobile_number","status","user_name","email","secondary_number"],pictures:{profile_display:["image_id"]}}};fetch.apiCall((function(t,i,a){"success"===i?(console.log("1"),sessionStorage.setItem("profile_details",JSON.stringify(t.Data)),e(null,t.Data)):(console.log("2"),e(t.responseText))}),api.get_profile,"POST","JSON",t)}}else{console.log("else-else");let t={device_id:crossplat.device.uuid,data:{individual:["id","salutation","ssn","status_message","good_to_know_status_message","address","dob","adhaar","nominee","name","spam_count"],login:["mobile_number","status","user_name","email","secondary_number"],pictures:{profile_display:["image_id"]}}};fetch.apiCall((function(t,i,a){"success"===i?(console.log("3"),sessionStorage.setItem("profile_details",JSON.stringify(t.Data)),e(null,t.Data)):(console.log("4"),e(t.responseText))}),api.get_profile,"POST","JSON",t)}}function getJeeviContactDetail(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e):i(JSON.parse(e.responseText))}),api.get_jeevi_contact,"POST","JSON",e)}))}function getDepartmentManagementPage(){return new Promise(((e,t)=>{departmentList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"department",count:20,offset:0}).then((t=>{fetch.replaceHtml((function(){processDepartmentList(t,(function(){appScroll.scrollBar(".department-list-wrapper"),listenForDepartmentListScrollEvent($(".department-list-wrapper")),removeLoader(),e()}))}),"page/common/department_list_wrapper","#department-list-wrapper-template","#main-content-wrapper",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/common/department_list_data","#department-data-list-template","#department-list-wrapper",null)}),"page/common/department_list_wrapper","#department-list-wrapper-template","#main-content-wrapper",null)}))}))}function processDepartmentList(e,t){digibiz.department_list=removeDuplicates(digibiz.department_list.concat(e),"id");var i={department_list_data:digibiz.department_list};fetch.replaceHtml((function(e){e||t()}),"page/common/department_list_data","#department-data-list-template","#department-list-wrapper",i)}function listenForDepartmentListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),addLoader(),departmentList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"department",count:20,offset:digibiz.department_list.length}).then((e=>{processScrollDepartmentList(e,(function(){listenForDepartmentListScrollEvent($(".department-list-wrapper")),removeLoader()}))})).catch((e=>{fetch.appendHtml((function(e){e||removeLoader()}),"page/common/scroll_department_list_data","#scroll-department-data-list-template","#department-list-wrapper .os-content",null)})))}))}function processScrollDepartmentList(e,t){digibiz.department_list=removeDuplicates(digibiz.department_list.concat(e),"id");var i={department_list_data:e};fetch.appendHtml((function(e){e||t()}),"page/common/scroll_department_list_data","#scroll-department-data-list-template","#department-list-wrapper .os-content",i)}function departmentCreatePage(){return new Promise(((e,t)=>{null!=sessionStorage.getItem("department_id")?departmentGet({device_id:crossplat.device.uuid,id:sessionStorage.getItem("department_id"),list_by:"id",business_id:sessionStorage.getItem("business_id")}).then((t=>{departmentList({device_id:crossplat.device.uuid,id:t.id,list_by:"sub-department",business_id:sessionStorage.getItem("business_id")}).then((i=>{var a={departments:i,department_name:t.name,department_id:t.id};fetch.replaceHtml((function(){removeLoader(),e()}),"page/common/department_create","#department-create-template","#main-content-wrapper",a)})).catch((i=>{var a={department_name:t.name,department_id:t.id};fetch.replaceHtml((function(){removeLoader(),e()}),"page/common/department_create","#department-create-template","#main-content-wrapper",a)}))})).catch((t=>{removeLoader(),e(),Materialize.toast("Error in getting departments",3e3,"round success-alert")})):fetch.replaceHtml((function(){removeLoader(),e()}),"page/common/department_create","#department-create-template","#main-content-wrapper",null)}))}function employeeTypesPage(){return new Promise(((e,t)=>{employeeTypeList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),count:15,offset:0}).then((t=>{fetch.replaceHtml((function(){processEmployeeTypesList(t,(function(){appScroll.scrollBar(".employee-types-list-wrapper"),listenForEmployeeTypesListScrollEvent($(".employee-types-list-wrapper")),removeLoader(),e()}))}),"page/common/employee_types_wrapper","#employee-types-wrapper-template","#main-content-wrapper",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(){removeLoader(),e()}),"page/common/employee_types","#employee-types-template","#employee-types-list-wrapper",null)}),"page/common/employee_types_wrapper","#employee-types-wrapper-template","#main-content-wrapper",null)}))}))}function processEmployeeTypesList(e,t){digibiz.employee_types_list=removeDuplicates(digibiz.employee_types_list.concat(e),"id");var i={employee_types:digibiz.employee_types_list};fetch.replaceHtml((function(e){e||t()}),"page/common/employee_types","#employee-types-template","#employee-types-list-wrapper",i)}function listenForEmployeeTypesListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){if(e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10){$(this).off("el_scroll"),addLoader();var t={device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),count:15,offset:digibiz.employee_types_list.length};let e="#employee-types-list-wrapper .os-content .employee-types-content-box";employeeTypeList(t).then((e=>{removeLoader(),scrollProcessEmployeeTypesList(e,(function(){listenForEmployeeTypesListScrollEvent($(".employee-types-list-wrapper")),removeLoader()}))})).catch((t=>{fetch.appendHtml((function(e){e||removeLoader()}),"page/common/scroll_employee_types","#scroll-employee-types-template",e,null)}))}}))}function scrollProcessEmployeeTypesList(e,t){digibiz.employee_types_list=removeDuplicates(digibiz.employee_types_list.concat(e),"id");var i={employee_types:e};fetch.appendHtml((function(e){e||t()}),"page/common/scroll_employee_types","#scroll-employee-types-template","#employee-types-list-wrapper .os-content .employee-types-content-box",i)}function processEmployeeStatusList(e,t){var i={employee_status:e};fetch.replaceHtml((function(e){e||t()}),"page/common/employee_status","#employee-status-template","#employee-status-list-wrapper",i)}function employeeCategoryPage(){return new Promise(((e,t)=>{employeeCategoryList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),count:15,offset:0}).then((t=>{removeLoader(),fetch.replaceHtml((function(){processEmployeeCategoryList(t,(function(){appScroll.scrollBar(".employee-category-list-wrapper"),listenForEmployeeCategoryListScrollEvent($(".employee-category-list-wrapper")),removeLoader(),e()}))}),"page/common/employee_category_wrapper","#employee-category-wrapper-template","#main-content-wrapper",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/common/employee_category","#employee-category-template","#employee-category-list-wrapper",null)}),"page/common/employee_category_wrapper","#employee-category-wrapper-template","#main-content-wrapper",null)}))}))}function processEmployeeCategoryList(e,t){digibiz.employee_category_list=removeDuplicates(digibiz.employee_category_list.concat(e),"id");var i={employee_category:digibiz.employee_category_list};fetch.replaceHtml((function(e){e||t()}),"page/common/employee_category","#employee-category-template","#employee-category-list-wrapper",i)}function listenForEmployeeCategoryListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){if(e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10){$(this).off("el_scroll"),addLoader();var t={device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),count:20,offset:digibiz.employee_category_list.length};let e="#employee-category-list-wrapper .os-content .employee-category-content-box";employeeCategoryList(t).then((e=>{removeLoader(),scrollProcessEmployeeCategoryList(e,(function(){listenForEmployeeCategoryListScrollEvent($(".employee-category-list-wrapper")),removeLoader()}))})).catch((t=>{fetch.appendHtml((function(e){e||removeLoader()}),"page/common/scroll_employee_category","#scroll-employee-category-template",e,null)}))}}))}function scrollProcessEmployeeCategoryList(e,t){digibiz.employee_category_list=removeDuplicates(digibiz.employee_category_list.concat(e),"id");var i={employee_category:e};fetch.appendHtml((function(e){e||t()}),"page/common/scroll_employee_category","#scroll-employee-category-template","#employee-category-list-wrapper .os-content .employee-category-content-box",i)}function employeeDesignationPage(){return new Promise(((e,t)=>{employeeDesignationList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),count:13,offset:0}).then((t=>{fetch.replaceHtml((function(){processEmployeeDesignationList(t,(function(){appScroll.scrollBar(".employee-designation-list-wrapper"),listenForEmployeeDesignationListScrollEvent($(".employee-designation-list-wrapper")),removeLoader(),e()}))}),"page/common/employee_designation_wrapper","#employee-designation-wrapper-template","#main-content-wrapper",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/common/employee_designation","#employee-designation-template","#employee-designation-list-wrapper",null)}),"page/common/employee_designation_wrapper","#employee-designation-wrapper-template","#main-content-wrapper",null)}))}))}function processEmployeeDesignationList(e,t){digibiz.employee_designation_list=removeDuplicates(digibiz.employee_designation_list.concat(e),"id");var i={employee_designation:digibiz.employee_designation_list};fetch.replaceHtml((function(e){e||t()}),"page/common/employee_designation","#employee-designation-template","#employee-designation-list-wrapper",i)}function listenForEmployeeDesignationListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){if(e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10){$(this).off("el_scroll"),addLoader();var t={device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),count:20,offset:digibiz.employee_designation_list.length};let e="#employee-designation-list-wrapper .os-content .employee-designation-content-box";employeeDesignationList(t).then((e=>{removeLoader(),scrollProcessEmployeeDesignationList(e,(function(){listenForEmployeeDesignationListScrollEvent($(".employee-designation-list-wrapper")),removeLoader()}))})).catch((t=>{fetch.appendHtml((function(e){e||removeLoader()}),"page/common/scroll_employee_designation","#scroll-employee-designation-template",e,null)}))}}))}function scrollProcessEmployeeDesignationList(e,t){digibiz.employee_designation_list=removeDuplicates(digibiz.employee_designation_list.concat(e),"id");var i={employee_designation:e};fetch.appendHtml((function(e){e||t()}),"page/common/scroll_employee_designation","#scroll-employee-designation-template","#employee-designation-list-wrapper .os-content .employee-designation-content-box",i)}function businessTagAdd(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.add_business_tag,"POST","JSON",e)}))}function businessTagGet(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.get_business_tag,"POST","JSON",e)}))}function businessTagList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.list_business_tags,"POST","JSON",e)}))}function businessTagUpdate(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.update_business_tag,"POST","JSON",e)}))}function businessTagDelete(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.delete_business_tag,"POST","JSON",e)}))}function businessTypeAdd(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.add_business_type,"POST","JSON",e)}))}function businessTypeGet(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.get_business_type,"POST","JSON",e)}))}function businessTypeList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.list_business_type,"POST","JSON",e)}))}function businessTypeUpdate(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.update_business_type,"POST","JSON",e)}))}function businessTypeDelete(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.delete_business_type,"POST","JSON",e)}))}function businessAdd(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.add_business,"POST","JSON",e)}))}function businessGet(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.get_business,"POST","JSON",e)}))}function businessList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.list_business,"POST","JSON",e)}))}function businessUpdate(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.update_business,"POST","JSON",e)}))}function businessSettings(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.business_settings,"POST","JSON",e)}))}function businessDelete(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.delete_business,"POST","JSON",e)}))}function businessSuperAdminAdd(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.add_super_admin,"POST","JSON",e)}))}function businessSuperAdminRevoke(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.revoke_super_admin,"POST","JSON",e)}))}function viewBusinessCheckRole(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.view_business_check_role,"POST","JSON",e)}))}function businessDeviceChange(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.device_change_business,"POST","JSON",e)}))}function businessDeleteAsset(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.delete_business_asset,"POST","JSON",e)}))}function businessDeleteDisplayPicture(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.remove_business_display_picture,"POST","JSON",e)}))}function businessDeleteDisplayVideo(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.remove_business_display_video,"POST","JSON",e)}))}function employeeDeleteIdentityPicture(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.remove_employee_identity_picture,"POST","JSON",e)}))}function employeeDeleteIdentityVideo(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.remove_employee_identity_video,"POST","JSON",e)}))}function customerDeleteIdentityPicture(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.remove_customer_identity_picture,"POST","JSON",e)}))}function customerDeleteIdentityVideo(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.remove_customer_identity_video,"POST","JSON",e)}))}function associateCustomerDeleteIdentityPicture(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.remove_associate_customer_identity_picture,"POST","JSON",e)}))}function associateCustomerDeleteIdentityVideo(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.remove_associate_customer_identity_video,"POST","JSON",e)}))}function individualCloudFileRead(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.individual_cloud_file_read,"GET","JSON",e)}))}function digibizCloudFileRead(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.get_business_multimedia,"GET","JSON",e)}))}function navigateLogsAdd(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.add_navigate_logs,"POST","JSON",e)}))}function navigateLogsGet(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.get_navigate_logs,"POST","JSON",e)}))}function navigateLogsList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.list_navigate_logs,"POST","JSON",e)}))}function navigateLogsUpdate(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.update_navigate_logs,"POST","JSON",e)}))}function navigateLogsDelete(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.delete_navigate_logs,"POST","JSON",e)}))}function digibizLogsList(e){return console.log("requestParms",e),new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.list_digibiz_logs,"POST","JSON",e)}))}function digibizFilterLogsList(e){return console.log("requestParms",e),new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.get_digibiz_logs_by_filters,"POST","JSON",e)}))}function digibizLoginLogsList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.Data):i(JSON.parse(e.responseText))}),api.list_digibiz_login_logs,"POST","JSON",e)}))}function digibizLogsUpdate(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.update_digibiz_logs,"POST","JSON",e)}))}function digibizLogsDelete(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.delete_digibiz_logs,"POST","JSON",e)}))}function getBusinessMultimediaDownload(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.get_business_multimedia_download,"POST","JSON",e)}))}function businessTagsPage(){return addLoader(),new Promise(((e,t)=>{businessTagList({device_id:crossplat.device.uuid}).then((t=>{var i={businessTags:t};fetch.replaceHtml((function(){removeLoader(),e()}),"page/business/business_tags","#business-tags-template","#main-content-wrapper",i)})).catch((t=>{fetch.replaceHtml((function(){removeLoader(),e()}),"page/business/business_tags","#business-tags-template","#main-content-wrapper",null)}))}))}function validateBusinessTagName(e){let t=!1;return e.length>0?(e.length<config.businessTagMinLength&&(showError($("#business_tag"),`This field should contain atleast ${config.businessTagMinLength} characters.`),t=!0),e.length>config.businessTagMaxLength&&(showError($("#business_tag"),`This field can't have more than  ${config.businessTagMaxLength} characters.`),t=!0),e.length>=config.businessTagMinLength&&e.length<=config.businessTagMaxLength&&(t=!1)):(showError($("#business_tag"),"This field is required."),t=!0),!t}function validateBusinessTypeName(e){let t=!1;return e.length>0?(e.length<config.businessTypeMinLength&&(showError($("#business_type"),`This field should contain atleast ${config.businessTypeMinLength} characters.`),t=!0),e.length>config.businessTypeMaxLength&&(showError($("#business_type"),`This field can't have more than  ${config.businessTypeMaxLength} characters.`),t=!0),e.length>=config.businessTypeMinLength&&e.length<=config.businessTypeMaxLength&&(t=!1)):(showError($("#business_type"),"This field is required."),t=!0),!t}function businessTypesPage(){return addLoader(),new Promise(((e,t)=>{businessTypeList({device_id:crossplat.device.uuid}).then((t=>{var i={businessTypes:t};fetch.replaceHtml((function(){removeLoader(),e()}),"page/business/business_types","#business-types-template","#main-content-wrapper",i)})).catch((t=>{fetch.replaceHtml((function(){removeLoader(),e()}),"page/business/business_types","#business-types-template","#main-content-wrapper",null)}))}))}function businessCreatePage(){return addLoader(),new Promise(((e,t)=>{businessList({device_id:crossplat.device.uuid,list_by:"all"}).then((t=>{var i={businessList:t};fetch.replaceHtml((function(){removeLoader(),e()}),"page/business/business","#business-template","#main-content-wrapper",i)})).catch((t=>{fetch.replaceHtml((function(){removeLoader(),e()}),"page/business/business","#business-template","#main-content-wrapper",null)}))}))}function businessEditPage(){return new Promise(((e,t)=>{businessTypeList({device_id:crossplat.device.uuid}).then((t=>{businessGet({device_id:crossplat.device.uuid,id:sessionStorage.getItem("business_id")}).then((i=>{if(digibiz.storages=[],i.hasOwnProperty("display_picture")&&i.display_picture&&i.display_picture.hasOwnProperty("thumbnail")&&i.display_picture.thumbnail){var a=`${api.get_business_multimedia}?business_id=${sessionStorage.getItem("business_id")}&device_id=${crossplat.device.uuid}&image_id=${i.display_picture.thumbnail}`;i.display_picture.avtarUrl=a}if(i.hasOwnProperty("display_video")&&i.display_video&&i.display_video.hasOwnProperty("thumbnail")&&i.display_video.thumbnail){a=`${api.get_business_multimedia}?business_id=${sessionStorage.getItem("business_id")}&device_id=${crossplat.device.uuid}&image_id=${i.display_video.thumbnail}`;i.display_video.avtarUrl=a}if(i.hasOwnProperty("declaration_transaction_pictures")&&i.declaration_transaction_pictures)if(i.declaration_transaction_pictures.hasOwnProperty("thumbnail")&&i.declaration_transaction_pictures.thumbnail){a=`${api.get_business_multimedia}?business_id=${sessionStorage.getItem("business_id")}&device_id=${crossplat.device.uuid}&image_id=${i.declaration_transaction_pictures.thumbnail}`;i.declaration_transaction_pictures.avtarUrl=a}else i.declaration_transaction_pictures.hasOwnProperty("image_id")&&i.declaration_transaction_pictures.image_id&&(i.declaration_transaction_pictures.avtarUrl=i.declaration_transaction_pictures.image_url);if(i.hasOwnProperty("declaration_signature_pictures")&&i.declaration_signature_pictures)if(i.declaration_signature_pictures.hasOwnProperty("thumbnail")&&i.declaration_signature_pictures.thumbnail){a=`${api.get_business_multimedia}?business_id=${sessionStorage.getItem("business_id")}&device_id=${crossplat.device.uuid}&image_id=${i.declaration_signature_pictures.thumbnail}`;i.declaration_signature_pictures.avtarUrl=a}else i.declaration_signature_pictures.hasOwnProperty("image_id")&&i.declaration_signature_pictures.image_id&&(i.declaration_signature_pictures.avtarUrl=i.declaration_signature_pictures.image_url);if(i.hasOwnProperty("declaration_video")&&i.declaration_video&&i.declaration_video.hasOwnProperty("thumbnail")&&i.declaration_video.thumbnail){a=`${api.get_business_multimedia}?business_id=${sessionStorage.getItem("business_id")}&device_id=${crossplat.device.uuid}&image_id=${i.declaration_video.thumbnail}`;i.declaration_video.avtarUrl=a}i.hasOwnProperty("storage")&&i.storage&&(i.storage.hasOwnProperty("GoogleDrive")&&i.storage.GoogleDrive&&digibiz.storages.push({name:"GoogleDrive",account:i.storage.GoogleDrive.account}),i.storage.hasOwnProperty("OneDrive")&&i.storage.OneDrive&&digibiz.storages.push({name:"OneDrive",account:i.storage.OneDrive.account}),i.storage.hasOwnProperty("DropBox")&&i.storage.DropBox&&digibiz.storages.push({name:"DropBox",account:i.storage.DropBox.account}),i.storage.hasOwnProperty("DJ")&&i.storage.DJ&&digibiz.storages.push({name:"DJ",account:i.storage.DJ}));var o={businessTypes:t,getBusiness:i,getBusinessTypeId:i.business_type_id,storage_list:digibiz.storages,active_storage:i.active_storage};digibiz.storages.length<4&&(o.addStorage=!0),fetch.replaceHtml((function(){sessionStorage.getItem("business_storage_token")&&"inactive"==JSON.parse(sessionStorage.getItem("business_storage_token")).tokenStatus&&(showReauthenticateBusinessStorage(),sessionStorage.getItem("authErrorCode")?Materialize.toast(JSON.parse(sessionStorage.getItem("authErrorCode")),1e4,"error-alert"):Materialize.toast("Access is revoked, please reauthenticate the selected drive",1e4,"error-alert"));var t=$("#business-type-choose-select-dropdown").find(`option[data-id="${i.business_type_id}"]`).val();$("#business-type-choose-select-dropdown").val(t),calenderInit("#business_date_of_commencement"),calenderInit("#business_date_of_incorporation"),"employee"!=sessionStorage.getItem("digibiz_role")&&"customer"!=sessionStorage.getItem("digibiz_role")||($('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$(".business-add-address-btn").prop("disabled",!0),$("#business-add-address-type-select-dropdown").prop("disabled",!0),$(".mask").addClass("hide"),$('input[type="tel"]').prop("disabled",!0),$(".multimedia-upload").prop("disabled",!0),$(".multimedia-save").prop("disabled",!0),$(".add-identity-proof-btn").prop("disabled",!0),$(".show-account-btn").prop("disabled",!0),$(".setdefault-account-btn").prop("disabled",!0),$(".add-storage-account").prop("disabled",!0)),mobileFlaginit(),removeLoader(),e()}),"page/business/business_edit","#business-edit-template","#main-content-wrapper",o)})).catch((t=>{removeLoader(),e(),Materialize.toast("Error in getting business",3e3,"rounded error-alert")}))})).catch((t=>{removeLoader(),e(),Materialize.toast("Error in getting business types",3e3,"rounded error-alert")}))}))}function viewBusinessProfilePage(){return new Promise(((e,t)=>{businessTypeList({device_id:crossplat.device.uuid}).then((t=>{var i={device_id:crossplat.device.uuid,id:sessionStorage.getItem("business_id")};businessGet(i).then((a=>{getDisplayControl(i).then((i=>{if("+91"==a.alternate_contact_number&&delete a.alternate_contact_number,a.hasOwnProperty("date_of_commencement")&&a.date_of_commencement){var o=a.date_of_commencement.split("/"),s=new Date(o[2],o[1]-1,o[0]).toDateString();a.date_of_commencement=s}if(a.hasOwnProperty("date_of_incorporation")&&a.date_of_incorporation){o=a.date_of_incorporation.split("/");var r=new Date(o[2],o[1]-1,o[0]).toDateString();a.date_of_incorporation=r}if(a.hasOwnProperty("display_picture")&&a.display_picture&&a.display_picture.hasOwnProperty("thumbnail")&&a.display_picture.thumbnail){var n=`${api.get_business_multimedia}?business_id=${sessionStorage.getItem("business_id")}&device_id=${crossplat.device.uuid}&image_id=${a.display_picture.thumbnail}`;a.display_picture.avtarUrl=n}if(a.hasOwnProperty("display_video")&&a.display_video&&a.display_video.hasOwnProperty("thumbnail")&&a.display_video.thumbnail){n=`${api.get_business_multimedia}?business_id=${sessionStorage.getItem("business_id")}&device_id=${crossplat.device.uuid}&image_id=${a.display_video.video_id}`;a.display_video.avtarUrl=n}var d={businessTypes:t,getBusiness:a,getBusinessTypeId:a.business_type_id,display_control:i};fetch.replaceHtml((function(){if("employee"==sessionStorage.getItem("digibiz_role")||"customer"==sessionStorage.getItem("digibiz_role")){$('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$(".business-add-address-btn").prop("disabled",!0),$("#business-add-address-type-select-dropdown").prop("disabled",!0),$(".mask").addClass("hide"),$('input[type="tel"]').prop("disabled",!0),$(".multimedia-upload").prop("disabled",!0),$(".multimedia-save").prop("disabled",!0),$(".add-identity-proof-btn").prop("disabled",!0),$(".show-account-btn").prop("disabled",!0),$(".setdefault-account-btn").prop("disabled",!0),$(".add-storage-account").prop("disabled",!0);var t=a.business_type;"sole_proprietorship"==t?($(".business-add-identity-proof-container").removeClass("hide"),$(".business-add-pancard-container").removeClass("hide"),$(".business-add-shop-established-license-container").removeClass("hide"),$(".business-add-gst-container").removeClass("hide"),removeLoader()):"partnership"==t?($(".business-add-identity-proof-container").removeClass("hide"),$(".business-add-pancard-container").removeClass("hide"),$(".business-add-gst-container").removeClass("hide"),$(".business-add-partnership-deed-container").removeClass("hide"),$(".business-add-partnership-registration-certificate-container").removeClass("hide"),removeLoader()):"limited_liability_partnership"==t?($(".business-add-identity-proof-container").removeClass("hide"),$(".business-add-pancard-container").removeClass("hide"),$(".business-add-gst-container").removeClass("hide"),$(".business-add-llp-registration-certificate-container").removeClass("hide"),$(".business-add-transaction-person-container").removeClass("hide"),removeLoader()):"private_limited_company"==t?($(".business-add-identity-proof-container").removeClass("hide"),$(".business-add-pancard-container").removeClass("hide"),$(".business-add-gst-container").removeClass("hide"),$(".business-add-transaction-person-container").removeClass("hide"),$(".business-add-memorandum-of-association-container").removeClass("hide"),$(".business-add-articles-of-association-container").removeClass("hide"),removeLoader()):"public_limited_company"==t||"government_department"==t?($(".business-add-identity-proof-container").removeClass("hide"),$(".business-add-pancard-container").removeClass("hide"),$(".business-add-gst-container").removeClass("hide"),$(".business-add-memorandum-of-association-container").removeClass("hide"),$(".business-add-articles-of-association-container").removeClass("hide"),$(".business-add-transaction-person-container").removeClass("hide"),removeLoader()):"trusts_foundations"==t?($(".business-add-identity-proof-container").removeClass("hide"),$(".business-add-pancard-container").removeClass("hide"),$(".business-add-gst-container").removeClass("hide"),$(".business-add-transaction-person-container").removeClass("hide"),$(".business-add-trust-establishment-license-container").removeClass("hide"),removeLoader()):"co_operative_society_associations"==t&&($(".business-add-identity-proof-container").removeClass("hide"),$(".business-add-pancard-container").removeClass("hide"),$(".business-add-email-container").removeClass("hide"),$(".business-add-address-container").removeClass("hide"),$(".business-add-identity-proof-container").removeClass("hide"),$(".business-add-pancard-container").removeClass("hide"),$(".business-add-gst-container").removeClass("hide"),$(".business-add-llp-registration-certificate-container").removeClass("hide"),$(".business-add-transaction-person-container").removeClass("hide"),removeLoader()),0==i.display_name&&$(".business-add-display-name-container").remove(),0==i.tag_line&&$(".business-add-tag-line-container").remove(),0==i.status_line&&$(".business-add-status-line-container").remove(),0==i.business_type&&$(".business-type-container").remove(),0==i.date_of_commencement&&$(".business-add-date-of-commencement-container").remove(),0==i.date_of_incorporation&&$(".business-add-date-of-incorporation-container").remove(),0==i.contact_name&&$(".business-add-contact-name-container").remove(),0==i.alternate_contact_number&&$(".business-add-alternate-contact-number-container").remove(),0==i.alternate_e_mail&&$(".business-add-alternate-email-container").remove(),0==i.id_proofs&&$(".business-add-identity-proof-container").remove(),0==i.pan_card_details&&$(".business-add-pancard-container").remove(),0==i.shop_established_license&&$(".business-add-shop-established-license-container").remove(),0==i.gst_details&&$(".business-add-gst-container").remove(),0==i.partnership_deed&&$(".business-add-partnership-deed-container").remove(),0==i.partnership_registration_certificate&&$(".business-add-partnership-registration-certificate-container").remove(),0==i.llp_registration_certificate&&$(".business-add-llp-registration-certificate-container").remove(),0==i.transaction_person&&$(".business-add-transaction-person-container").remove(),0==i.memorandum_of_association&&$(".business-add-memorandum-of-association-container").remove(),0==i.article_of_association&&$(".business-add-articles-of-association-container").remove(),0==i.trust_foundation_established_licence&&$(".business-add-trust-establishment-license-container").remove();(async()=>{1==i.id_proofs&&(a.hasOwnProperty("id_proofs")&&a.id_proofs.length>0?await asyncEach(a.id_proofs,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"identity-proof-load-btn"),$(".add-identity-proof-btn").remove()})):$(".business-add-identity-proof-wrapper").removeClass("hide"))})();(async()=>{1==i.pan_card_details&&void 0!==a.pan_card_details&&a.pan_card_details.pan_card_multimedia.length>0&&($('.multimedia-append-container[data-id="pancard-load-btn"]').find(".grid").remove(),await asyncEach(a.pan_card_details.pan_card_multimedia,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"pancard-load-btn")})))})();(async()=>{1==i.shop_established_license&&a.hasOwnProperty("shop_established_license")&&a.shop_established_license.length>0&&await asyncEach(a.shop_established_license,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"shop-established-license-load-btn")}))})();(async()=>{1==i.gst_details&&void 0!==a.gst_details&&a.gst_details.gst_multimedia.length>0&&($('.multimedia-append-container[data-id="gst-license-load-btn"]').find(".grid").remove(),await asyncEach(a.gst_details.gst_multimedia,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"gst-license-load-btn")})))})();(async()=>{1==i.partnership_deed&&a.hasOwnProperty("partnership_deed")&&a.partnership_deed.length>0&&await asyncEach(a.partnership_deed,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"partnership-deed-load-btn")}))})();(async()=>{1==i.partnership_registration_certificate&&a.hasOwnProperty("partnership_registration_certificate")&&a.partnership_registration_certificate.length>0&&await asyncEach(a.partnership_registration_certificate,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"partnership-registration-certificate-load-btn")}))})();(async()=>{1==i.llp_registration_certificate&&a.hasOwnProperty("llp_registration_certificate")&&a.llp_registration_certificate.length>0&&await asyncEach(a.llp_registration_certificate,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"llp-registration-certificate-load-btn")}))})();(async()=>{1==i.transaction_person&&a.hasOwnProperty("transaction_person")&&a.transaction_person.length>0&&await asyncEach(a.transaction_person,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"transaction-person-load-btn")}))})();(async()=>{1==i.memorandum_of_association&&a.hasOwnProperty("memorandum_of_association")&&a.memorandum_of_association.length>0&&await asyncEach(a.memorandum_of_association,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"memorandum-of-association-load-btn")}))})();(async()=>{1==i.article_of_association&&a.hasOwnProperty("article_of_association")&&a.article_of_association.length>0&&await asyncEach(a.article_of_association,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"articles-of-association-load-btn")}))})();(async()=>{1==i.trust_foundation_established_licence&&a.hasOwnProperty("trust_foundation_established_licence")&&a.trust_foundation_established_licence.length>0&&await asyncEach(a.trust_foundation_established_licence,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"trust-establishment-license-load-btn")}))})()}$(".add-identity-proof-btn").remove(),$(".file-size").remove(),removeLoader(),e()}),"page/business/view_business_profile","#view-business-profile-template","#main-content-wrapper",d)})).catch((i=>{if("+91"==a.alternate_contact_number&&delete a.alternate_contact_number,a.hasOwnProperty("date_of_commencement")&&a.date_of_commencement){var o=a.date_of_commencement.split("/"),s=new Date(o[2],o[1]-1,o[0]).toDateString();a.date_of_commencement=s}if(a.hasOwnProperty("date_of_incorporation")&&a.date_of_incorporation){o=a.date_of_incorporation.split("/");var r=new Date(o[2],o[1]-1,o[0]).toDateString();a.date_of_incorporation=r}if(a.hasOwnProperty("display_picture")&&a.display_picture&&a.display_picture.hasOwnProperty("thumbnail")&&a.display_picture.thumbnail){var n=`${api.get_business_multimedia}?business_id=${sessionStorage.getItem("business_id")}&device_id=${crossplat.device.uuid}&image_id=${a.display_picture.thumbnail}`;a.display_picture.avtarUrl=n}if(a.hasOwnProperty("display_video")&&a.display_video&&a.display_video.hasOwnProperty("thumbnail")&&a.display_video.thumbnail){n=`${api.get_business_multimedia}?business_id=${sessionStorage.getItem("business_id")}&device_id=${crossplat.device.uuid}&image_id=${a.display_video.video_id}`;a.display_video.avtarUrl=n}var d={businessTypes:t,getBusiness:a,getBusinessTypeId:a.business_type_id};fetch.replaceHtml((function(){if("employee"==sessionStorage.getItem("digibiz_role")||"customer"==sessionStorage.getItem("digibiz_role")){$('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$(".business-add-address-btn").prop("disabled",!0),$("#business-add-address-type-select-dropdown").prop("disabled",!0),$(".mask").addClass("hide"),$('input[type="tel"]').prop("disabled",!0),$(".multimedia-upload").prop("disabled",!0),$(".multimedia-save").prop("disabled",!0),$(".add-identity-proof-btn").prop("disabled",!0),$(".show-account-btn").prop("disabled",!0),$(".setdefault-account-btn").prop("disabled",!0),$(".add-storage-account").prop("disabled",!0);var t=a.business_type;"sole_proprietorship"==t?($(".business-add-identity-proof-container").removeClass("hide"),$(".business-add-pancard-container").removeClass("hide"),$(".business-add-shop-established-license-container").removeClass("hide"),$(".business-add-gst-container").removeClass("hide"),removeLoader()):"partnership"==t?($(".business-add-identity-proof-container").removeClass("hide"),$(".business-add-pancard-container").removeClass("hide"),$(".business-add-gst-container").removeClass("hide"),$(".business-add-partnership-deed-container").removeClass("hide"),$(".business-add-partnership-registration-certificate-container").removeClass("hide"),removeLoader()):"limited_liability_partnership"==t?($(".business-add-identity-proof-container").removeClass("hide"),$(".business-add-pancard-container").removeClass("hide"),$(".business-add-gst-container").removeClass("hide"),$(".business-add-llp-registration-certificate-container").removeClass("hide"),$(".business-add-transaction-person-container").removeClass("hide"),removeLoader()):"private_limited_company"==t?($(".business-add-identity-proof-container").removeClass("hide"),$(".business-add-pancard-container").removeClass("hide"),$(".business-add-gst-container").removeClass("hide"),$(".business-add-transaction-person-container").removeClass("hide"),$(".business-add-memorandum-of-association-container").removeClass("hide"),$(".business-add-articles-of-association-container").removeClass("hide"),removeLoader()):"public_limited_company"==t||"government_department"==t?($(".business-add-identity-proof-container").removeClass("hide"),$(".business-add-pancard-container").removeClass("hide"),$(".business-add-gst-container").removeClass("hide"),$(".business-add-memorandum-of-association-container").removeClass("hide"),$(".business-add-articles-of-association-container").removeClass("hide"),$(".business-add-transaction-person-container").removeClass("hide"),removeLoader()):"trusts_foundations"==t?($(".business-add-identity-proof-container").removeClass("hide"),$(".business-add-pancard-container").removeClass("hide"),$(".business-add-gst-container").removeClass("hide"),$(".business-add-transaction-person-container").removeClass("hide"),$(".business-add-trust-establishment-license-container").removeClass("hide"),removeLoader()):"co_operative_society_associations"==t&&($(".business-add-identity-proof-container").removeClass("hide"),$(".business-add-pancard-container").removeClass("hide"),$(".business-add-email-container").removeClass("hide"),$(".business-add-address-container").removeClass("hide"),$(".business-add-identity-proof-container").removeClass("hide"),$(".business-add-pancard-container").removeClass("hide"),$(".business-add-gst-container").removeClass("hide"),$(".business-add-llp-registration-certificate-container").removeClass("hide"),$(".business-add-transaction-person-container").removeClass("hide"),removeLoader()),$(".business-add-display-name-container").remove(),$(".business-type-container").remove(),$(".business-add-tag-line-container").remove(),$(".business-add-status-line-container").remove(),$(".business-add-date-of-commencement-container").remove(),$(".business-add-date-of-incorporation-container").remove(),$(".business-add-contact-name-container").remove(),$(".business-add-alternate-contact-number-container").remove(),$(".business-add-alternate-email-container").remove(),$(".business-add-identity-proof-container").remove(),$(".business-add-pancard-container").remove(),$(".business-add-shop-established-license-container").remove(),$(".business-add-gst-container").remove(),$(".business-add-partnership-deed-container").remove(),$(".business-add-partnership-registration-certificate-container").remove(),$(".business-add-llp-registration-certificate-container").remove(),$(".business-add-transaction-person-container").remove(),$(".business-add-memorandum-of-association-container").remove(),$(".business-add-articles-of-association-container").remove(),$(".business-add-trust-establishment-license-container").remove();(async()=>{a.hasOwnProperty("id_proofs")&&a.id_proofs.length>0?await asyncEach(a.id_proofs,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"identity-proof-load-btn"),$(".add-identity-proof-btn").remove()})):$(".business-add-identity-proof-wrapper").removeClass("hide")})();(async()=>{void 0!==a.pan_card_details&&a.pan_card_details.pan_card_multimedia.length>0&&($('.multimedia-append-container[data-id="pancard-load-btn"]').find(".grid").remove(),await asyncEach(a.pan_card_details.pan_card_multimedia,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"pancard-load-btn")})))})();(async()=>{a.hasOwnProperty("shop_established_license")&&a.shop_established_license.length>0&&await asyncEach(a.shop_established_license,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"shop-established-license-load-btn")}))})();(async()=>{void 0!==a.gst_details&&a.gst_details.gst_multimedia.length>0&&($('.multimedia-append-container[data-id="gst-license-load-btn"]').find(".grid").remove(),await asyncEach(a.gst_details.gst_multimedia,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"gst-license-load-btn")})))})();(async()=>{a.hasOwnProperty("partnership_deed")&&a.partnership_deed.length>0&&await asyncEach(a.partnership_deed,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"partnership-deed-load-btn")}))})();(async()=>{a.hasOwnProperty("partnership_registration_certificate")&&a.partnership_registration_certificate.length>0&&await asyncEach(a.partnership_registration_certificate,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"partnership-registration-certificate-load-btn")}))})();(async()=>{a.hasOwnProperty("llp_registration_certificate")&&a.llp_registration_certificate.length>0&&await asyncEach(a.llp_registration_certificate,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"llp-registration-certificate-load-btn")}))})();(async()=>{a.hasOwnProperty("transaction_person")&&a.transaction_person.length>0&&await asyncEach(a.transaction_person,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"transaction-person-load-btn")}))})();(async()=>{a.hasOwnProperty("memorandum_of_association")&&a.memorandum_of_association.length>0&&await asyncEach(a.memorandum_of_association,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"memorandum-of-association-load-btn")}))})();(async()=>{a.hasOwnProperty("article_of_association")&&a.article_of_association.length>0&&await asyncEach(a.article_of_association,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"articles-of-association-load-btn")}))})();(async()=>{a.hasOwnProperty("trust_foundation_established_licence")&&a.trust_foundation_established_licence.length>0&&await asyncEach(a.trust_foundation_established_licence,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"trust-establishment-license-load-btn")}))})()}$(".add-identity-proof-btn").remove(),$(".file-size").remove(),removeLoader(),$(".business-main-container").length>0&&appScroll.scrollBar(".business-main-container"),e()}),"page/business/view_business_profile","#view-business-profile-template","#main-content-wrapper",d)}))})).catch((t=>{removeLoader(),e(),Materialize.toast("Error in getting business",3e3,"rounded error-alert")}))})).catch((t=>{removeLoader(),e(),Materialize.toast("Error in getting business types",3e3,"rounded error-alert")}))}))}function getFilemanagerAssets(e=null,t){return new Promise(((i,a)=>{var o={device_id:crossplat.device.uuid,owner:{type:"individual",id:sessionStorage.getItem("user_id")},location:t,parent:e,first_request:"true",offset:0,count:""};fetch.apiCall((function(e,t,o){"success"===t?i(e):a(e)}),api.core_get_assets,"POST","JSON",o)}))}function showFilemanagerAssetsFilesList(e=null,t){if(null!=e){digibiz.cloudAssets=removeDuplicates(digibiz.cloudAssets.concat(e),"id"),sorteddata=sortData(digibiz.cloudAssets,"name","asc");var i={assets:sorteddata}}else i=null;fetch.replaceHtml((function(e){e||t()}),"filemanager/cloud_files_list","#filemanager-assets-list-template","#filemanger-assets-list-wrapper",i)}function sortData(e,t,i){var a=[],o=[];return $.each(e,(function(e,t){"folder"===t.type?o.push(t):"file"===t.type&&a.push(t)})),o=o.sort(((e,i)=>e.file_attributes[t].relative.localeCompare(i.file_attributes[t].relative))),a=a.sort(((e,i)=>e.file_attributes[t].relative.localeCompare(i.file_attributes[t].relative))),sorted_assets=o.concat(a),sorted_assets}function filemanagerNavigateToLocation(e,t,i){digibiz.cloudAssets=[],getIndividualAssets({device_id:crossplat.device.uuid,owner:{type:"individual",id:window.sessionStorage.getItem("user_id")},location:t,parent:e,first_request:"true",offset:0,count:20}).then((e=>{digibiz.cloudAssets=e.Data.assets,showIndividualFilemanagerAssetsFilesList(digibiz.cloudAssets,(function(){i()}))})).catch((e=>{"No assets found"==JSON.parse(e.responseText).message&&showIndividualFilemanagerAssetsFilesList(null,(function(){i()}))}))}function digibizFilemanagerNavigateToLocation(e,t,i){digibiz.cloudAssets=[],getDigibizAssets(e,t).then((e=>{digibiz.cloudAssets=e.Data.assets,showDigibizFilemanagerAssetsFilesList(digibiz.cloudAssets,(function(){i()}))})).catch((e=>{"No assets found"==JSON.parse(e.responseText).message&&showDigibizFilemanagerAssetsFilesList(null,(function(){i()}))}))}function setFilemanagerBreadcrumb(e){let t=JSON.parse(sessionStorage.getItem("filemanager_breadcrumb_path")),i=JSON.parse(sessionStorage.getItem("filemanager_breadcrumb_path")),a=!1,o=0;if(e.relative_name&&e.real_name)if($.each(i,(function(t,i){i.real_name==e.real_name&&(a=!0,o=t)})),a){for(let e=i.length-1;e>0;e--)e>o&&t.pop();sessionStorage.setItem("filemanager_breadcrumb_path",JSON.stringify(t)),digibiz.filemanager_breadcrumb_path=t}else digibiz.filemanager_breadcrumb_path.push(e),sessionStorage.setItem("filemanager_breadcrumb_path",JSON.stringify(digibiz.filemanager_breadcrumb_path));else sessionStorage.removeItem("filemanager_breadcrumb_path"),digibiz.filemanager_breadcrumb_path=[]}function getAssetDetailsCloud(e){return new Promise(((t,i)=>{var a={device_id:crossplat.device.uuid,owner:{type:"individual",id:sessionStorage.getItem("user_id")},asset_id:e};fetch.apiCall((function(e,a,o){"success"===a?t(e.Data[0].data):i()}),api.get_multi_media_info,"POST","JSON",a)}))}function callWriteStorage(e,t){return new Promise(((i,a)=>{var o=new FileReader;o.onloadend=function(o){var s=new Blob([o.target.result],{type:e.type}),r=new FormData;r.append("file",s),r.append("userid",t.user_id),r.append("business_id",sessionStorage.getItem("business_id")),r.append("options",JSON.stringify(t.options)),r.append("type",s.type),r.append("totalSize",s.size),r.append("fileName",t.fileName);var n=new XMLHttpRequest;n.addEventListener("load",(function(e){if(200==e.target.status){var t=JSON.parse(e.target.responseText);i(t)}else e.target.status>=400&&a(t)}),!1),n.open("POST",api.file_write,!0),n.send(r)},o.readAsArrayBuffer(e)}))}async function getAssetDetails(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e):i("cannot get asset details")}),api.get_multi_media_info,"POST","JSON",e)}))}function callStorageCopy(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"===a?t(e.Data):i(JSON.parse(e.responseText))}),api.copy_multimedia,"POST","JSON",e)}))}function storageRead(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"===a?t(e.Data):i(JSON.parse(e.responseText))}),api.file_read,"POST","JSON",e)}))}function getUploadedMultimedia(e,t){return new Promise(((i,a)=>{var o={device_id:crossplat.device.uuid,owner:{type:"individual",id:getUserID()},asset_id:e};getAssetDetails(o).then((async a=>{var o=`<div class="grid uploaded-multimedia-files" data-type="file">\n                                <div class="thumbnail-wrapper">\n                                   <a class="">\n                                      <div class="thumbnail"></div>\n                                   </a>                     \n                                </div>\n                                <div class="file-details ellipsify" data-asset-id="${e}">\n                                   <div class="file-name">\n                                      <a class="thumb-title">${a.Data[0].data.file_attributes.name.relative}</a>\n                                   </div>  \n                                   <div class="file-size">\n                                   <div class="thumb-meta">\n                                      <span class="thumb-info">${a.Data[0].data.file_attributes.size.filesize}</span>\n                                   </div>\n                                </div>                    \n                                </div>\n                                <div class="file-selected-remove-btn hide">\n                                <i class="material-icons">cancel</i>\n                            </div>\n                             </div>`;"identity-proof-load-btn"==t||"pancard-load-btn"==t||"shop-established-license-load-btn"==t||"gst-license-load-btn"==t||"partnership-deed-load-btn"==t||"partnership-registration-certificate-load-btn"==t||"llp-registration-certificate-load-btn"==t?($(`.multimedia-append-container[data-id="${t}"]`).find(".selected-multimedia-files").remove(),$(`.multimedia-append-container[data-id="${t}"]`).append(o)):"transaction-person-load-btn"==t?$(`.multimedia-append-container[data-id="${t}"]`).append(o):("memorandum-of-association-load-btn"==t||"articles-of-association-load-btn"==t||"trust-establishment-license-load-btn"==t)&&($(`.multimedia-append-container[data-id="${t}"]`).find(".selected-multimedia-files").remove(),$(`.multimedia-append-container[data-id="${t}"]`).append(o)),i(a.Data[0].data)})).catch((e=>{removeLoader(),a(e)}))}))}function getUploadedBusinessMultimedia(e,t){if("identity-proof-load-btn"==t){var i={id_proof:e};"employee"==sessionStorage.getItem("digibiz_role")||"customer"==sessionStorage.getItem("digibiz_role")?fetch.appendHtml((function(e){$(".add-identity-proof-btn").remove()}),"layouts/popup/profile_identity_proof","#profile-identity-proof-template",`.multimedia-append-container[data-id="${t}"]`,i):fetch.appendHtml((function(e){$(".add-identity-proof-btn").remove()}),"layouts/popup/added_identity_proof","#added-identity-proof-template",".business-identity-proof-content-box",i),$(`.file-details[data-image-id="${e.id_proof_multimedia.thumbnail}"]`).parents(".business-add-identity-proof-wrapper").find("#business-add-identity-proof-type-select-dropdown").find(`option[value="${e.id_proof_type}"]`).prop("selected","selected")}else if("pancard-load-btn"==t||"shop-established-license-load-btn"==t||"gst-license-load-btn"==t||"partnership-deed-load-btn"==t||"partnership-registration-certificate-load-btn"==t||"llp-registration-certificate-load-btn"==t||"transaction-person-load-btn"==t||"articles-of-association-load-btn"==t||"memorandum-of-association-load-btn"==t||"trust-establishment-license-load-btn"==t)if("true"==e.download||1==e.download){var a=`<div class="grid uploaded-multimedia-files" data-type="file">\n                                <div class="thumbnail-wrapper">\n                                   <a class="">\n                                      <div class="thumbnail"></div>\n                                   </a>                     \n                                </div>\n                                <div class="file-details ellipsify" data-image-id="${e.thumbnail}">\n                                   <div class="file-name">\n                                      <a class="thumb-title">${e.name}</a>\n                                   </div>  \n                                   <div class="file-size">\n                                   <div class="thumb-meta">\n                                      <span class="thumb-info">${bytesToSize(e.size)}</span>\n                                   </div>                                   \n                                    </div>  \n                                    <div class="file-caption">\n                                      <a class="thumb-caption">${e.caption}</a>\n                                   </div>                  \n                                </div>\n                                <div class="file-selected-remove-btn hide">\n                                <i class="material-icons">cancel</i>\n                                </div>\n                                <div class="more_vert_option_business_documents" id="more_vert_option_business_documents">\n                                <i class="material-icons">more_vert</i>\n                                </div>\n                             </div>`;$(`.multimedia-append-container[data-id="${t}"]`).find(".selected-multimedia-files").remove(),$(`.multimedia-append-container[data-id="${t}"]`).append(a)}else{a=`<div class="grid uploaded-multimedia-files" data-type="file">\n                                <div class="thumbnail-wrapper">\n                                   <a class="">\n                                      <div class="thumbnail"></div>\n                                   </a>                     \n                                </div>\n                                <div class="file-details ellipsify" data-image-id="${e.thumbnail}">\n                                   <div class="file-name">\n                                      <a class="thumb-title">${e.name}</a>\n                                   </div>  \n                                   <div class="file-size">\n                                   <div class="thumb-meta">\n                                      <span class="thumb-info">${bytesToSize(e.size)}</span>\n                                   </div>                                   \n                                    </div>  \n                                    <div class="file-caption">\n                                      <a class="thumb-caption">${e.caption}</a>\n                                   </div>                  \n                                </div>\n                                <div class="file-selected-remove-btn hide">\n                                <i class="material-icons">cancel</i>\n                                </div>                                \n                             </div>`;$(`.multimedia-append-container[data-id="${t}"]`).find(".selected-multimedia-files").remove(),$(`.multimedia-append-container[data-id="${t}"]`).append(a)}}function validateBusinessStepTwo(){let e=!1,t=!1,i=!1,a=!1,o=!1,s=!1,r=!1;if($("#business_date_of_commencement").val().trim().length>0?s=!1:(s=!0,showError($("#business_date_of_commencement"),"This field is required")),$("#business_date_of_incorporation").val().trim().length>0?r=!1:(r=!0,showError($("#business_date_of_incorporation"),"This field is required")),$("#business_contact_name").text().trim().length>0?($("#business_contact_name").text().trim().length<config.businessContactNameMinLength&&(showError($("#business_contact_name"),`This field should contain atleast ${config.businessContactNameMinLength} characters.`),e=!0),$("#business_contact_name").text().trim().length>config.businessContactNameMaxLength&&(showError($("#business_contact_name"),`This field can't have more than  ${config.businessContactNameMaxLength} characters.`),e=!0),$("#business_contact_name").text().trim().length>=config.businessContactNameMinLength&&$("#business_contact_name").text().trim().length<=config.businessContactNameMaxLength&&(e=!1)):(showError($("#business_contact_name"),"This field is required"),e=!0),$("#business_contact_number").val().length>0?validate.checkIfIntelValidPhoneNumber($("#business_contact_number"))||(showError($("#business_contact_number"),"Invalid Number"),t=!0):(showError($("#business_contact_number"),"This field is required"),t=!0),$("#business_email").text().trim().length>0&&(validate.checkIfValidEmail($("#business_email").text())||(showError($("#business_email"),"Invalid Email"),i=!0)),$(".address_text_box").length>0){var n=[],d=[],c=$(".address_text_box");$.each(c,(function(e,t){""==$(t).parents(".business-add-address-wrapper").find(".selected-value-business-address").attr("data-value")&&0==$(t).text().trim().length?(n.push(!1),showError($(t),"This field is required"),showError($(t).parents(".business-add-address-wrapper").find(".selected-value-business-address"),"This field is required")):""!=$(t).parents(".business-add-address-wrapper").find(".selected-value-business-address").attr("data-value")&&0==$(t).text().trim().length?(n.push(!0),showError($(t),"This field is required")):""==$(t).parents(".business-add-address-wrapper").find(".selected-value-business-address").attr("data-value")&&0!=$(t).text().trim().length?(n.push(!0),showError($(t).parents(".business-add-address-wrapper").find("#business-add-address-type-select-dropdown"),"This field is required")):""!=$(t).parents(".business-add-address-wrapper").find(".selected-value-business-address").attr("data-value")&&0!=$(t).text().trim().length&&($(t).text().trim().length<config.businessAddressLengthMin&&(showError($(t),`This field should contain atleast ${config.businessAddressLengthMin} characters.`),n.push(!0)),$(t).text().trim().length>config.businessAddressLengthMax&&(showError($(t),`This field can't have more than  ${config.businessAddressLengthMax} characters.`),n.push(!0)),$(t).text().trim().length>=config.businessAddressLengthMin&&$(t).text().trim().length<=config.businessAddressLengthMax&&(n.push(!1),d.push(!1)))})),a=1!=n.every((e=>!1===e)),d.length>0?o=!1:(Materialize.toast("Minimum 1 address is required",3e3,"round success-alert"),o=!0)}return!(e||t||i||a||o||s||r)}function validateBusinessStepOne(){let e=!1,t=!1,i=!1,a=!1,o=!1;var s=$("#business_name"),r=$("#business_display_name"),n=$("#business_tag_line"),d=$("#business_status_line");if($(s).text().trim().length>0?($(s).text().trim().length<config.businessNameMinLength&&(showError($(s),`This field should contain atleast ${config.businessNameMinLength} characters.`),e=!0),$(s).text().trim().length>config.busniessNameMaxLength&&(showError($(s),`This field can't have more than  ${config.busniessNameMaxLength} characters.`),e=!0),$(s).text().trim().length>=config.businessNameMinLength&&$(s).text().trim().length<=config.busniessNameMaxLength&&(e=!1)):(showError($(s),"This field is required."),e=!0),$(r).text().trim().length>0){if($(r).text().trim().length<config.businessDisplayNameMinLength&&(showError($(r),`This field should contain atleast ${config.businessDisplayNameMinLength} characters.`),t=!0),$(r).text().trim().length>config.busniessDisplayNameMaxLength&&(showError($(r),`This field can't have more than  ${config.busniessDisplayNameMaxLength} characters.`),t=!0),$(r).text().trim().length>=config.businessDisplayNameMinLength&&$(r).text().trim().length<=config.busniessDisplayNameMaxLength)if(/\s/.test($(r).text().trim()))showError($(r),"This field can't have space between characters."),t=!0;else if(/^[A-Za-z0-9_!$^*()@./#&%+-]+$/.test($(r).text().trim())){var c=$(r).text().trim().charAt(0);/^[a-zA-Z0-9]+$/.test(c)?t=!1:(showError($(r),"First character can't be a special character."),t=!0)}else showError($(r),"This field can contain only letters, numbers and special characters."),t=!0}else showError($(r),"This field is required."),t=!0;return $(n).text().trim().length>0&&($(n).text().trim().length<config.businessTagMinLength&&(showError($(n),`This field should contain atleast ${config.businessTagMinLength} characters.`),a=!0),$(n).text().trim().length>config.businessTagMaxLength&&(showError($(n),`This field can't have more than  ${config.businessTagMaxLength} characters.`),a=!0),$(n).text().trim().length>=config.businessTagMinLength&&$(d).text().trim().length<=config.businessTagMaxLength&&(a=!1)),$(d).text().trim().length>0&&($(d).text().trim().length<config.businessStatusLineMinLength&&(showError($(d),`This field should contain atleast ${config.businessStatusLineMinLength} characters.`),o=!0),$(d).text().trim().length>config.businessStatusLineMaxLength&&(showError($(d),`This field can't have more than  ${config.businessStatusLineMaxLength} characters.`),o=!0),$(d).text().trim().length>=config.businessStatusLineMinLength&&$(d).text().trim().length<=config.businessStatusLineMaxLength&&(o=!1)),$(".selected-value-business-type").attr("data-value").length>0?i=!1:(showError($(".selected-value-business-type"),"This field is required."),i=!0),!(e||t||i||a||o)}function validateBusinessStepThree(e){let t=!1,i=!1,a=!1,o=!1,s=!1,r=!1,n=!1,d=!1,c=!1,l=!1,p=!1;var m=$(".selected-value-business-type").attr("data-value");return"sole_proprietorship"==m?(void 0!==e.id_proofs?e.id_proofs.length>0?t=!1:(t=!0,Materialize.toast("Please attach ID proof",3e3,"rounded error-alert")):(t=!0,Materialize.toast("Please check ID proof field",3e3,"rounded error-alert")),void 0!==e.pan_card_details?e.pan_card_details.pan_card_multimedia.length>0?i=!1:(i=!0,Materialize.toast("Please attach Pan card",3e3,"rounded error-alert")):(i=!0,Materialize.toast("Please check Pan Card field",3e3,"rounded error-alert")),void 0!==e.shop_established_license?e.shop_established_license.length>0?o=!1:(o=!0,Materialize.toast("Please attach Shop Established Licence",3e3,"rounded error-alert")):(o=!0,Materialize.toast("Please check Shop Established Licence field",3e3,"rounded error-alert")),void 0!==e.gst_details?e.gst_details.gst_multimedia.length>0?a=!1:(a=!0,Materialize.toast("Please attach GST",3e3,"rounded error-alert")):(a=!0,Materialize.toast("Please check GST field",3e3,"rounded error-alert"))):"partnership"==m?(void 0!==e.id_proofs?e.id_proofs.length>0?t=!1:(t=!0,Materialize.toast("Please attach ID proof",3e3,"rounded error-alert")):(t=!0,Materialize.toast("Please check ID proof field",3e3,"rounded error-alert")),void 0!==e.pan_card_details?e.pan_card_details.pan_card_multimedia.length>0?i=!1:(i=!0,Materialize.toast("Please attach Pan card",3e3,"rounded error-alert")):(i=!0,Materialize.toast("Please check Pan Card field",3e3,"rounded error-alert")),void 0!==e.gst_details?e.gst_details.gst_multimedia.length>0?a=!1:(a=!0,Materialize.toast("Please attach GST",3e3,"rounded error-alert")):(a=!0,Materialize.toast("Please check GST field",3e3,"rounded error-alert")),void 0!==e.partnership_deed?e.partnership_deed.length>0?s=!1:(s=!0,Materialize.toast("Please attach Partnership deed",3e3,"rounded error-alert")):(s=!0,Materialize.toast("Please check partnership deed field",3e3,"rounded error-alert")),e.hasOwnProperty("partnership_registration_certificate")?e.partnership_registration_certificate.length>0?r=!1:(r=!0,Materialize.toast("Please attach Partnership Registration certificate",3e3,"rounded error-alert")):(r=!0,Materialize.toast("Please check Partnership Registration certificate field",3e3,"rounded error-alert"))):"limited_liability_partnership"==m?(void 0!==e.id_proofs?e.id_proofs.length>0?t=!1:(t=!0,Materialize.toast("Please attach ID proof",3e3,"rounded error-alert")):(t=!0,Materialize.toast("Please check ID proof field",3e3,"rounded error-alert")),void 0!==e.pan_card_details?e.pan_card_details.pan_card_multimedia.length>0?i=!1:(i=!0,Materialize.toast("Please attach Pan card",3e3,"rounded error-alert")):(i=!0,Materialize.toast("Please check Pan Card field",3e3,"rounded error-alert")),void 0!==e.gst_details?e.gst_details.gst_multimedia.length>0?a=!1:(a=!0,Materialize.toast("Please attach GST",3e3,"rounded error-alert")):(a=!0,Materialize.toast("Please check GST field",3e3,"rounded error-alert")),e.hasOwnProperty("llp_registration_certificate")?e.llp_registration_certificate.length>0?n=!1:(n=!0,Materialize.toast("Please attach LLP registration certificate",3e3,"rounded error-alert")):(n=!0,Materialize.toast("Please check LLP registration certigicate field",3e3,"rounded error-alert")),e.hasOwnProperty("transaction_person")?e.transaction_person.length>0?d=!1:(d=!0,Materialize.toast("Please attach Transaction person",3e3,"rounded error-alert")):(d=!0,Materialize.toast("Please check Transaction person field",3e3,"rounded error-alert"))):"private_limited_company"==m||"public_limited_company"==m||"government_department"==m?(void 0!==e.id_proofs?e.id_proofs.length>0?t=!1:(t=!0,Materialize.toast("Please attach ID proof",3e3,"rounded error-alert")):(t=!0,Materialize.toast("Please check ID proof field",3e3,"rounded error-alert")),void 0!==e.pan_card_details?e.pan_card_details.pan_card_multimedia.length>0?i=!1:(i=!0,Materialize.toast("Please attach Pan card",3e3,"rounded error-alert")):(i=!0,Materialize.toast("Please check Pan Card field",3e3,"rounded error-alert")),void 0!==e.gst_details?e.gst_details.gst_multimedia.length>0?a=!1:(a=!0,Materialize.toast("Please attach GST",3e3,"rounded error-alert")):(a=!0,Materialize.toast("Please check GST field",3e3,"rounded error-alert")),e.hasOwnProperty("transaction_person")?e.transaction_person.length>0?d=!1:(d=!0,Materialize.toast("Please attach Transaction person",3e3,"rounded error-alert")):(d=!0,Materialize.toast("Please check Transaction person field",3e3,"rounded error-alert")),e.hasOwnProperty("memorandum_of_association")?e.memorandum_of_association.length>0?c=!1:(c=!0,Materialize.toast("Please attach memorandum of association",3e3,"rounded error-alert")):(c=!0,Materialize.toast("Please check memorandum of association field",3e3,"rounded error-alert")),e.hasOwnProperty("article_of_association")?e.article_of_association.length>0?l=!1:(l=!0,Materialize.toast("Please attach articles of association",3e3,"rounded error-alert")):(l=!0,Materialize.toast("Please check articles of association field",3e3,"rounded error-alert"))):"trusts_foundations"==m?(void 0!==e.id_proofs?e.id_proofs.length>0?t=!1:(t=!0,Materialize.toast("Please attach ID proof",3e3,"rounded error-alert")):(t=!0,Materialize.toast("Please check ID proof field",3e3,"rounded error-alert")),void 0!==e.pan_card_details?e.pan_card_details.pan_card_multimedia.length>0?i=!1:(i=!0,Materialize.toast("Please attach Pan card",3e3,"rounded error-alert")):(i=!0,Materialize.toast("Please check Pan Card field",3e3,"rounded error-alert")),void 0!==e.gst_details?e.gst_details.gst_multimedia.length>0?a=!1:(a=!0,Materialize.toast("Please attach GST",3e3,"rounded error-alert")):(a=!0,Materialize.toast("Please check GST field",3e3,"rounded error-alert")),e.hasOwnProperty("transaction_person")?e.transaction_person.length>0?d=!1:(d=!0,Materialize.toast("Please attach Transaction person",3e3,"rounded error-alert")):(d=!0,Materialize.toast("Please check Transaction person field",3e3,"rounded error-alert")),e.hasOwnProperty("trust_foundation_established_licence")?e.trust_foundation_established_licence.length>0?p=!1:(p=!0,Materialize.toast("Please attach Trust Establishment License person",3e3,"rounded error-alert")):(p=!0,Materialize.toast("Please check Establishment License field",3e3,"rounded error-alert"))):"co_operative_society_associations"==m&&(void 0!==e.id_proofs?e.id_proofs.length>0?t=!1:(t=!0,Materialize.toast("Please attach ID proof",3e3,"rounded error-alert")):(t=!0,Materialize.toast("Please check ID proof field",3e3,"rounded error-alert")),void 0!==e.pan_card_details?e.pan_card_details.pan_card_multimedia.length>0?i=!1:(i=!0,Materialize.toast("Please attach Pan card",3e3,"rounded error-alert")):(i=!0,Materialize.toast("Please check Pan Card field",3e3,"rounded error-alert")),void 0!==e.gst_details?e.gst_details.gst_multimedia.length>0?a=!1:(a=!0,Materialize.toast("Please attach GST",3e3,"rounded error-alert")):(a=!0,Materialize.toast("Please check GST field",3e3,"rounded error-alert")),e.hasOwnProperty("transaction_person")?e.transaction_person.length>0?d=!1:(d=!0,Materialize.toast("Please attach Transaction person",3e3,"rounded error-alert")):(d=!0,Materialize.toast("Please check Transaction person field",3e3,"rounded error-alert"))),$("#business_pancard").length>0&&($("#business_pancard").text().trim().length<=0?(i=!0,showError($("#business_pancard"),"This field is required")):$("#business_pancard").text().trim().length<=2&&(i=!0,showError($("#business_pancard"),"This field should contain atleast 3 characters"))),$("#business_gst_license").length>0&&($("#business_gst_license").text().trim().length<=0?(a=!0,showError($("#business_gst_license"),"This field is required")):$("#business_gst_license").text().trim().length<=2&&(a=!0,showError($("#business_gst_license"),"This field should contain atleast 3 characters"))),!(t||i||a||o||s||r||n||d||c||l||p)}function validateBusinessStepFour(e){let t=!1,i=!1,a=!1;return void 0!==e.declaration_transaction_pictures?t=!1:(t=!0,Materialize.toast("Please add transaction picture.",3e3,"rounded error-alert")),void 0!==e.declaration_signature_pictures?i=!1:(i=!0,Materialize.toast("Please add signature picture.",3e3,"rounded error-alert")),void 0!==e.declaration_video?a=!1:(a=!0,Materialize.toast("Please add video.",3e3,"rounded error-alert")),!(t||i||a)}function validateBeforeAttachement(){let e=!1,t=!1;var i=sessionStorage.getItem("multimedia_upload_data_id");return"identity-proof-load-btn"==i?$(".multimedia-upload.active").parents(".business-add-identity-proof-wrapper").find(".selected-value-business-identity-proof-type").attr("data-value").length<=0&&(t=!0,showError($(".multimedia-upload.active").parents(".business-add-identity-proof-wrapper").find("#business-add-identity-proof-type-select-dropdown"),"This field is required")):"pancard-load-btn"==i?$("#business_pancard").text().trim().length<=0?(e=!0,showError($("#business_pancard"),"This field is required")):$("#business_pancard").text().trim().length<=2&&(e=!0,showError($("#business_pancard"),"This field should contain atleast 3 characters")):"gst-license-load-btn"==i&&($("#business_gst_license").text().trim().length<=0?(e=!0,showError($("#business_gst_license"),"This field is required")):$("#business_gst_license").text().trim().length<=2&&(e=!0,showError($("#business_gst_license"),"This field should contain atleast 3 characters"))),!e&&!t}function validateBeforeSave(e){let t=!1,i=!1,a=!1,o=!1;var s=$("#upload-preview-container-text-box");return $(s).text().trim().length>0&&($(s).text().trim().length<config.multimediaCaptionMinLength&&(showError($(s),`This field should contain atleast ${config.multimediaCaptionMinLength} characters.`),o=!0),$(s).text().trim().length>config.multimediaCaptionMaxLength&&(showError($(s),`This field can't have more than  ${config.multimediaCaptionMaxLength} characters.`),o=!0),$(s).text().trim().length>=config.multimediaCaptionMinLength&&$(s).text().trim().length<=config.multimediaCaptionMaxLength&&(o=!1)),"identity-proof-load-btn"==e?($(".selected-value-business-identity-proof-type").attr("data-value").length<=0&&(i=!0,showError($("#business-add-identity-proof-type-select-dropdown"),"This field is required")),digibiz.cloud_multimedia_selected_files.length>0||digibiz.device_multimedia_selected_files.length>0?a=!1:(Materialize.toast("Please attach ID Proof",3e3,"round success-alert"),a=!0)):"pancard-load-btn"==e?($("#business_pancard").text().length<=0&&(t=!0,showError($("#business_pancard"),"This field is required")),digibiz.cloud_multimedia_selected_files.length>0||digibiz.device_multimedia_selected_files.length>0?a=!1:(Materialize.toast("Please attach PanCard",3e3,"round success-alert"),a=!0)):"shop-established-license-load-btn"==e?digibiz.cloud_multimedia_selected_files.length>0||digibiz.device_multimedia_selected_files.length>0?a=!1:(Materialize.toast("Please attach Shop Established Licence",3e3,"round success-alert"),a=!0):"gst-license-load-btn"==e&&($("#business_gst_license").text().length<=0&&(t=!0,showError($("#business_gst_license"),"This field is required")),digibiz.cloud_multimedia_selected_files.length>0||digibiz.device_multimedia_selected_files.length>0?a=!1:(Materialize.toast("Please attach PanCard",3e3,"round success-alert"),a=!0)),!(t||i||a||o)}function startSession(e,t,i){file_info(e,(function(e){let a={device_id:crossplat.device.uuid,location:e.location,parent:e.parent,owner:{type:"individual",id:e.owner.id},real_name:e.file_attributes.name.real};a.source={app:"Digibiz",data:{id:sessionStorage.getItem("current_share_id")?sessionStorage.getItem("current_share_id"):null,user_id:sessionStorage.getItem("user_id")}};var o="download"==t?api.core_chunk_download:api.core_chunk_view_by_file;fetch.apiCall((function(a,o,s){if("success"===o)a.Data.fileType=e.file_attributes.file_type,i(null,a.Data);else{var r=JSON.parse(a.responseText);"download"==t?(Materialize.toast(r.error,3e3,"error-alert"),i(r.error)):(Materialize.toast(r.error.msg,3e3,"error-alert"),i(r.error.msg))}}),o,"POST","JSON",a)}))}function file_info(e,t){let i={device_id:crossplat.device.uuid,asset_id:e};fetch.apiCall((function(e,i,a){if("success"===i)t(e.Data[0].data);else JSON.parse(a.responseText)}),api.core_asset_details,"POST","JSON",i)}function dataURLToBlob(e){var t=";base64,";if(-1==e.indexOf(t)){var i=(o=e.split(","))[0].split(":")[1],a=decodeURIComponent(o[1]);return new Blob([a],{type:i})}i=(o=e.split(t))[0].split(":")[1];for(var o,s=(a=window.atob(o[1])).length,r=new Uint8Array(s),n=0;n<s;++n)r[n]=a.charCodeAt(n);return new Blob([r],{type:i})}function getTransaction_Signature_Pictures(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e);else{var s=JSON.parse(e.responseText);i(s)}}),api.get_profile,"POST","JSON",e)}))}function validateTransactionPictures(){let e=!1;return e=!digibiz.transactional_picture.hasOwnProperty("image_id"),!e}function validateSignaturePictures(){let e=!1;return e=!digibiz.signature_picture.hasOwnProperty("image_id"),!e}function storeIdentityPic(e,t){return new Promise(((i,a)=>{var o=e,s=Math.round(6*o.length/8),r="image/png",n={};if("customer_groups_details"==$("body").attr("app")||"employee_group_create"==$("body").attr("app"))$("#customerGroupName").length>0?n={name:`${$("#customerGroupName").val()}_${sessionStorage.getItem("group_id")}`,size:s,type:r}:$("#employeeGroupName").length>0&&(n={name:`${$("#employeeGroupName").val()}`,size:s,type:r});else if(sessionStorage.getItem("customer_id"))n=$("#edit-associate-customer-modal").length>0?{name:$("#edit-associate-customer-modal").attr("data-associate-customer-id"),size:s,type:r}:{name:`${sessionStorage.getItem("customer_id")}`,size:s,type:r};else if(sessionStorage.getItem("business_id")){var d=$(".bussines-forward-btn").attr("data-present-step");n="2"==d||2==d?{name:`${sessionStorage.getItem("business_id")}`,size:s,type:r}:{name:`${sessionStorage.getItem("business_id")}_declaration_${t}`,size:s,type:r}}else sessionStorage.getItem("employee_id")&&(n={name:`${sessionStorage.getItem("employee_id")}`,size:s,type:r});checkDriveStatus().then((()=>{!async function(){data=callWriteStorageFrontEnd(n,o,getUserID())}(),data.then((e=>{i(e)})).catch((e=>{a(e)}))})).catch((e=>{a(e)}))}))}function checkDriveStatus(){return new Promise(((e,t)=>{let i={device_id:crossplat.device.uuid,selected:!0};fetch.apiCall((function(i,a,o){"success"==a?e(i):t(JSON.parse(i.responseText))}),api.check_drive_status,"POST","JSON",i)}))}async function callWriteStorageFrontEnd(e,t,i){return new Promise(((a,o)=>{var s="";e.name.includes(".")?s=e.name.split(".").pop():"svg+xml"==(s=e.type.split("/").pop())&&(s="svg");var r={};if("customer_groups_details"==$("body").attr("app")||"employee_group_create"==$("body").attr("app"))r={content:t,options:{encryption:"true",level:"1",filemanager:{device_id:crossplat.device.uuid,owner:{type:"individual",id:getUserID()},app:"digibiz",type:"file",extension:s,file_data:{name:e.name,size:e.size,type:e.type},access_type:"system",file:{permission:"read",keywords:"group image upload"}}},userid:i};else if(sessionStorage.getItem("customer_id"))r=($("#edit-associate-customer-modal").length,{content:t,options:{encryption:"true",level:"1",filemanager:{device_id:crossplat.device.uuid,owner:{type:"individual",id:getUserID()},app:"digibiz",type:"file",extension:s,file_data:{name:e.name,size:e.size,type:e.type},access_type:"system",file:{permission:"read",keywords:"customer identity picture upload"}}},userid:i});else if(sessionStorage.getItem("business_id")){var n=$(".bussines-forward-btn").attr("data-present-step");r="2"==n||2==n?{content:t,options:{encryption:"true",level:"1",filemanager:{device_id:crossplat.device.uuid,owner:{type:"individual",id:getUserID()},app:"digibiz",type:"file",extension:s,file_data:{name:e.name,size:e.size,type:e.type},access_type:"system",file:{permission:"read",keywords:"digibiz business declaration multimedia upload"}}},userid:i}:{content:t,options:{encryption:"true",level:"1",filemanager:{device_id:crossplat.device.uuid,owner:{type:"individual",id:getUserID()},app:"digibiz",type:"file",extension:s,file_data:{name:e.name,size:e.size,type:e.type},access_type:"system",file:{permission:"read",keywords:"digibiz business display picture multimedia upload"}}},userid:i}}else sessionStorage.getItem("employee_id")&&(r={content:t,options:{encryption:"true",level:"1",filemanager:{device_id:crossplat.device.uuid,owner:{type:"individual",id:getUserID()},app:"digibiz",type:"file",extension:s,file_data:{name:e.name,size:e.size,type:e.type},access_type:"system",file:{permission:"read",keywords:"employee identity picture upload"}}},userid:i});e.hasOwnProperty("location")&&e.location&&(r.location=e.location),fetch.apiCall((function(e,t,i){"success"==t?a(e):o(JSON.parse(e.responseText))}),api.store_file,"POST","JSON",r)}))}function getIdentityPicInfo(e){return new Promise(((t,i)=>{var a={device_id:crossplat.device.uuid,owner:{type:"individual",id:getUserID()},asset_id:e};getAssetDetails(a).then((e=>{t(e.Data[0].data)})).catch((e=>{i(e)}))}))}async function getAssetDetails(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e):i(JSON.parse(e.responseText))}),api.get_multi_media_info,"POST","JSON",e)}))}function getViewMultimediaUrl(e){return new Promise(((t,i)=>{checkDriveStatus().then((()=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e);else{var s=JSON.parse(e.responseText);i(s)}}),api.view_multimedia_asset,"POST","JSON",e)})).catch((e=>{i(e)}))}))}function viewFile(e,t,i){return new Promise(((a,o)=>{var s=$(".upload-preview-common-layout#upload-preview-wrapper").find("#upload-footer-send-btn-common").attr("data-uploadtype");if(supported_types=["webm","mp4","quicktime","png","jpeg","jpg","PDF","pdf","mp3","gif","svg","tif","tiff","bmp","ogg","apng","bmp","svg+xml","ogv","aac","3gpp","odt","doc","docx","xls","xlsx","ppt","pptx","txt","text"],null!=t)if(supported_types.includes(t.toLowerCase())){let o;if("image"==e)o='<img class="preview-file" src= "'+i+'">';else if("video"==e)o='<video class="preview-file" id="video_control" width="700" height="400" controls controlsList="nodownload"><source src="'+i+'" ></video>';else if("audio"==e)o='<audio id="audio_control" controls controlsList="nodownload" src="'+i+'"></audio>';else if("application"==e)if("pdf"==t||"PDF"==t)if("Android"==crossplat.device.platform||"iOS"==crossplat.device.platform)if(urlParms=i.split("/").pop(),s&&"filemanager"==s)$(".pdf-view").addClass("hide"),$("#upload-file-preview").removeClass("hide"),o=`<iframe src="${config.web.pdfviewer}/#/${urlParms}/true/digibiz/${app.env}" width="100%" height="100%" frameborder="0">`;else if(s&&"device"==s){(r=document.getElementById("the-canvas")).getContext("2d").clearRect(0,0,r.width,r.height),pdfjsLib.getDocument(i).promise.then((async function(e){pdfPreViewer(i,"abc",(function(){}))})).catch((e=>{e&&(removeLoader(),"PasswordException"==e.name&&Materialize.toast(`${ele.name} is password protected`,3e3,"rounded error-alert"))}))}else $(".pdf-view").addClass("hide"),$("#upload-file-preview").removeClass("hide"),urlParms=i.split("/").pop(),o=`<iframe src="${config.web.pdfviewer}/#/${urlParms}/true/digibiz/${app.env}" width="100%" height="100%" frameborder="0">`;else if(s&&"device"==s){var r;(r=document.getElementById("the-canvas")).getContext("2d").clearRect(0,0,r.width,r.height),pdfjsLib.getDocument(i).promise.then((async function(e){pdfPreViewer(i,"abc",(function(){}))})).catch((e=>{e&&(removeLoader(),"PasswordException"==e.name&&Materialize.toast(`${ele.name} is password protected`,3e3,"rounded error-alert"))}))}else $(".pdf-view").addClass("hide"),$("#upload-file-preview").removeClass("hide"),urlParms=i.split("/").pop(),o=`<iframe src="${config.web.pdfviewer}/#/${urlParms}/true/digibiz/${app.env}" width="100%" height="100%" frameborder="0">`;else o='<div class="unsupported_file_message">Viewer does not support this file format. Please download the file and use appropriate viewer to read the file. <div class="message-save-icn">Download</div> </div>';a(o)}else{var n=digibiz.uploadingFiles.findIndex((e=>e.fileURI==i));digibiz.uploadingFiles[n].file.file_attributes?Materialize.toast("Unsupported File "+digibiz.uploadingFiles[n].file.file_attributes.name.relative,3e3,"rounded error-alert"):Materialize.toast("Unsupported File "+digibiz.uploadingFiles[n].file.name,3e3,"rounded error-alert"),i&&-1!=n&&$(".upload-footer-attached-files-list").find(`[data-identifier = "${digibiz.uploadingFiles[n].identifier}"]`).length>0&&($(".upload-footer-attached-files-list").find(`[data-identifier = "${digibiz.uploadingFiles[n].identifier}"]`).remove(),delete uploader._files[digibiz.uploadingFiles[n].identifier],digibiz.uploadingFiles=digibiz.uploadingFiles.filter((e=>e.fileURI!=i))),o()}else Materialize.toast("There is no file from your assets",3e3,"rounded error-alert"),o()}))}async function pdfPreViewer(e,t,i){pdfViewerData.pdfDoc=null,pdfViewerData.pageNum=1,pdfViewerData.pageRendering=!1,pdfViewerData.pageNumPending=null,pdfViewerData.scale=1.2,pdfViewerData.canvas=document.getElementById("the-canvas"),pdfViewerData.ctx=pdfViewerData.canvas.getContext("2d"),document.getElementById("prev").addEventListener("click",onPrevPage),document.getElementById("next").addEventListener("click",onNextPage),loadPdf(e,(function(){})),removeLoader(),i()}function loadPdf(e){pdfjsLib.getDocument(e).promise.then((function(e){pdfViewerData.pdfDoc=e,document.getElementById("page_count").textContent=pdfViewerData.pdfDoc.numPages,renderPage(pdfViewerData.pageNum)}))}function renderPage(e){pageRendering=!0,pdfViewerData.pdfDoc.getPage(e).then((function(e){var t=e.getViewport({scale:pdfViewerData.scale});pdfViewerData.canvas.height=t.height,pdfViewerData.canvas.width=t.width,pdfViewerData.canvas.font="16px";var i={canvasContext:pdfViewerData.ctx,viewport:t};e.render(i).promise.then((function(){pdfViewerData.pageRendering=!1,null!==pdfViewerData.pageNumPending&&(renderPage(pdfViewerData.pageNumPending),pdfViewerData.pageNumPending=null)}))})),document.getElementById("page_num").textContent=e}function queueRenderPage(e){pdfViewerData.pageRendering?pdfViewerData.pageNumPending=e:renderPage(e)}function onPrevPage(){pdfViewerData.pageNum<=1||(pdfViewerData.pageNum--,queueRenderPage(pdfViewerData.pageNum))}function onNextPage(){pdfViewerData.pageNum>=pdfViewerData.pdfDoc.numPages||(pdfViewerData.pageNum++,queueRenderPage(pdfViewerData.pageNum))}function showFileViewer(e,t){$(".asset-viewer-container").remove(),fetch.appendHtml((function(e){t()}),"components/file_viewer","#file-viewer-template","#app-root",e)}function callApi(e,t){generateThubnail(e.target.result,"base64").then((async function(i){if(console.log("got thumbail contant",i),sessionStorage.getItem("customer_id"))if($("#edit-associate-customer-modal").length>0){var a={identifier:(new Date).getTime(),fileURI:URL.createObjectURL(t),file_type:"video",file_content_base64:e.target.result,thubnail:i};digibiz.fileObject=a,console.log("digibiz.fileObject",digibiz.fileObject),saveAssociateCustomerIdentityVideoThumbnail(digibiz.fileObject.thubnail,(function(e,t){e?(removeLoader(),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert")):saveAssociateCustomerIdentityVideo(digibiz.fileObject.file_content_base64,t,(function(e,t){if(e)removeLoader(),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert");else if(t.hasOwnProperty("thumbnail")&&t.thumbnail){var i=$("#edit-associate-customer-modal").attr("data-associate-customer-id"),a=`${api.get_associate_customer_identity_picture}?id=${i}&device_id=${crossplat.device.uuid}&image_id=${t.thumbnail}`;$("#associate_customer_identity_video").attr("src",a),$(".associate-customer-identity-video-multimedia-load-btn").remove(),$("#associate-customer-identity-video-delete").remove(),$(".associate-customer-add-identity-video-container").find(".mask").removeClass("hide"),$("#associate_customer_identity_video").siblings(".mask").append(`<a class="associate_customer_identity_video_preview" data-thumbnail-id="${t.thumbnail}" data-video-id="${t.video_id}"><i class="material-icons">play_circle_filled</i></a>`),$("#associate_customer_identity_video").siblings(".mask").append(`<a class="info associate-customer-identity-video-multimedia-load-btn cursor_pointer"><i class="material-icons" id="associate-customer-identity-video-load-btn" data-thumbnail-id="${t.thumbnail}" data-video-id="${t.video_id}">photo_camera</i></a>`),$("#associate_customer_identity_video").siblings(".mask").append(`<a class="info associate_customer-identity-video-delete-btn cursor_pointer"><i class="material-icons" id="associate_customer-identity-video-delete" data-thumbnail-id="${t.thumbnail}" data-video-id="${t.video_id}">delete</i></a>`),$("#identity-video-modal").remove(),digibiz.fileObject={},digibiz.objectURLS=[],removeLoader()}}))}))}else{a={identifier:(new Date).getTime(),fileURI:URL.createObjectURL(t),file_type:"video",file_content_base64:e.target.result,thubnail:i};digibiz.fileObject=a,console.log("digibiz.fileObject",digibiz.fileObject),saveCustomerIdentityVideoThumbnail(digibiz.fileObject.thubnail,(function(e,t){e?(removeLoader(),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert")):saveCustomerIdentityVideo(digibiz.fileObject.file_content_base64,t,(function(e,t){if(e)removeLoader(),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert");else if(t.hasOwnProperty("thumbnail")&&t.thumbnail){var i=`${api.get_customer_identity_picture}?id=${sessionStorage.getItem("customer_id")}&device_id=${crossplat.device.uuid}&image_id=${t.thumbnail}`;$("#customer_identity_video").attr("src",i),$(".customer-identity-video-multimedia-load-btn").remove(),$("#customer-identity-video-delete").remove(),$(".customer-add-identity-video-container").find(".mask").removeClass("hide"),$("#customer_identity_video").siblings(".mask").append(`<a class="customer_identity_video_preview" data-thumbnail-id="${t.thumbnail}" data-video-id="${t.video_id}"><i class="material-icons">play_circle_filled</i></a>`),$("#customer_identity_video").siblings(".mask").append(`<a class="info customer-identity-video-multimedia-load-btn cursor_pointer"><i class="material-icons" id="customer-identity-video-load-btn" data-thumbnail-id="${t.thumbnail}" data-video-id="${t.video_id}">photo_camera</i></a>`),$("#customer_identity_video").siblings(".mask").append(`<a class="info customer-identity-video-delete-btn cursor_pointer"><i class="material-icons" id="customer-identity-video-delete" data-thumbnail-id="${t.thumbnail}" data-video-id="${t.video_id}">delete</i></a>`),$("#identity-video-modal").remove(),digibiz.fileObject={},digibiz.objectURLS=[],removeLoader()}}))}))}else if(sessionStorage.getItem("employee_id")){a={identifier:(new Date).getTime(),fileURI:URL.createObjectURL(t),file_type:"video",file_content_base64:e.target.result,thubnail:i};digibiz.fileObject=a,console.log("digibiz.fileObject",digibiz.fileObject),saveEmployeeIdentityVideoThumbnail(digibiz.fileObject.thubnail,(function(e,t){e?(removeLoader(),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert")):saveEmployeeIdentityVideo(digibiz.fileObject.file_content_base64,t,(function(e,t){if(e)removeLoader(),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert");else if(t.hasOwnProperty("thumbnail")&&t.thumbnail){var i=`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${t.thumbnail}`;$("#employee_identity_video").attr("src",i),$(".employee-identity-video-multimedia-load-btn").remove(),$("#employee-identity-video-delete").remove(),$(".employee-add-identity-video-container").find(".mask").removeClass("hide"),$("#employee_identity_video").siblings(".mask").append(`<a class="employee_identity_video_preview" data-thumbnail-id="${t.thumbnail}" data-video-id="${t.video_id}"><i class="material-icons">play_circle_filled</i></a>`),$("#employee_identity_video").siblings(".mask").append(`<a class="info employee-identity-video-multimedia-load-btn cursor_pointer"><i class="material-icons" id="employee-identity-video-load-btn" data-thumbnail-id="${t.thumbnail}" data-video-id="${t.video_id}">photo_camera</i></a>`),$("#employee_identity_video").siblings(".mask").append(`<a class="info employee-identity-video-delete-btn cursor_pointer"><i class="material-icons" id="employee-identity-video-delete" data-thumbnail-id="${t.thumbnail}" data-video-id="${t.video_id}">delete</i></a>`),$("#identity-video-modal").remove(),sessionStorage.removeItem("employee_upload_for"),digibiz.fileObject={},digibiz.objectURLS=[],removeLoader()}}))}))}else if(sessionStorage.getItem("business_id"))if("2"==$(".business-create-stepper.is-active").attr("data-stepper")){a={identifier:(new Date).getTime(),fileURI:URL.createObjectURL(t),file_type:"video",file_content_base64:e.target.result,thubnail:i};digibiz.fileObject=a,console.log("digibiz.fileObject",digibiz.fileObject),savebusinessDisplayVideoThumbnail(digibiz.fileObject.thubnail,(function(e,t){e?(removeLoader(),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert")):savebusinessDisplayVideo(digibiz.fileObject.file_content_base64,t,(function(e,t){e?(removeLoader(),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert")):($("#business_display_video").attr("src",digibiz.fileObject.fileURI),$(".business-display-video-multimedia-load-btn").remove(),$("#business-display-video-delete").remove(),$(".business-display-video-wrapper").find(".mask").removeClass("hide"),$("#business_display_video").siblings(".mask").append(`<a class="business_display_video_preview" data-thumbnail-id="${t.thumbnail}" data-video-id="${t.video_id}"><i class="material-icons">play_circle_filled</i></a>`),$("#business_display_video").siblings(".mask").append(`<a class="info business-display-video-multimedia-load-btn cursor_pointer"><i class="material-icons" id="business-display-video-mutimedia-add" data-thumbnail-id="${t.thumbnail}" data-video-id="${t.video_id}">photo_camera</i></a>`),$("#business_display_video").siblings(".mask").append(`<a class="info business-display-video-delete-btn cursor_pointer remove-pic"><i class="material-icons" id="business-display-video-delete" data-thumbnail-id="${t.thumbnail}" data-video-id="${t.video_id}">cancel</i></a>`),$("#identity-video-modal").remove(),sessionStorage.removeItem("business_upload_for"),digibiz.fileObject={},digibiz.objectURLS=[],removeLoader())}))}))}else savebusinessMultimedia(i,"declaration_video_thumbnail",(function(a,o){a?(removeLoader(),Materialize.toast(`${a} ! Please try again later`,3e3,"round error-alert")):saveVideoDeclartionVideo(e.target.result,(function(e,a){e?(removeLoader(),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert")):businessUpdate({device_id:crossplat.device.uuid,id:sessionStorage.getItem("business_id"),data:{declaration_video:{video_id:a.Data.file,thumbnail:o.Data.file}}}).then((e=>{$("#camera-video-modal").remove();var a=document.createElement("video");a.controls=!0,a.classList.add("preview-file"),a.src=URL.createObjectURL(t),a.width=250,a.height=200,$('.upload-preview-wrapper[data-for="video"]').addClass("hide"),$("#video_picture").attr("src",i),$("#video-declaration-mutimedia-add").remove(),$("#video-declaration-delete").remove(),$('.add-picture-main-wrapper[data-for="video"]').find(".mask").find(".video-declaration-multimedia-load-btn").remove();var o=`<a class="video_declaration_preview" data-thumbnail-id="${e.declaration_video.thumbnail}" data-video-id="${e.declaration_video.video_id}"><i class="material-icons">play_circle_filled</i></a>`;$('.add-picture-main-wrapper[data-for="video"]').find(".mask").append(o),digibiz.isDeclarationVideoPictureSelected=!0,Materialize.toast("Successfully uploaded video",4e3,"round error-alert"),removeLoader()})).catch((e=>{"no updated data found"==e.msg&&removeLoader()}))}))}))}))}function generateThubnail(e,t="file"){return new Promise((async i=>{var a=400;if("file"==t)await ShotCapture.readFile(e).then((async function(t){if("image"==e.type.split("/")[0]){var{width:o,height:s}=await calculateImageSize(t);await ShotCapture.getThumbnails(t,calculateAspectRatioFit(o,s,a,400)).then((e=>{i(e)})).catch((e=>{}))}else if("video"==e.type.split("/")[0])if(e.size>52428800)i(t);else{var r=document.createElement("canvas"),n=r.getContext("2d"),d=document.createElement("video");d.src=t,d.muted=!0,d.playsInline=!0,d.play(),d.onloadeddata=function(){r.setAttribute("width",a),r.setAttribute("height",a),window.vidcanvas=r,n.drawImage(d,0,0,a,a),d.remove(),i(r.toDataURL("image/jpg"))}}else i()}));else{var o=e.match(/data:([a-zA-Z0-9]+\/[a-zA-Z0-9-.+]+).*,.*/);if("image"==o[1].split("/")[0]){var{width:s,height:r}=await calculateImageSize(e);ShotCapture.getThumbnails(e,calculateAspectRatioFit(s,r,a,400)).then((e=>{i(e)})).catch((e=>{}))}else if("video"==o[1].split("/")[0]){var n=document.createElement("canvas"),d=n.getContext("2d"),c=document.createElement("video");c.src=e,c.muted=!0,c.playsInline=!0,c.play(),c.onloadeddata=function(){n.setAttribute("width",c.videoWidth),n.setAttribute("height",c.videoHeight),window.vidcanvas=n,d.drawImage(c,0,0,c.videoWidth,c.videoHeight),c.remove(),i(n.toDataURL())}}else i(e)}}))}function calculateImageSize(e){return new Promise((t=>{var i=new Image;i.src=e,i.onload=function(){var e=this.height,i=this.width;t({width:i,height:e})}}))}function calculateAspectRatioFit(e,t,i,a){var o=Math.min(i/e,a/t);return{width:e*o,height:t*o}}function callStorageWriteApi(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.Data):i()}),api.storage_video_declaration,"POST","JSON",e)}))}function base64GetCore(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i()}),api.get_base64,"POST","JSON",e)}))}function base64GetDigibiz(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i()}),api.get_base64_transaction_signature_picture,"POST","JSON",e)}))}function saveIdentityPicture(e){if(digibiz.isEmployeeIdentityPictureSelected)addLoader(),(i=$("#employee_identity_picture").attr("src"))?storeIdentityPic(i).then((t=>{removeLoader(),e(null,t)})).catch((t=>{e(t)})):e("Failed to upload identity-picture");else if(digibiz.isBusinessDisplayPictureSelected){addLoader();var t=$("#business_display_picture").attr("src");t?storeIdentityPic(t).then((t=>{removeLoader(),e(null,t)})).catch((t=>{e(t)})):e("Failed to upload identity-picture")}else if(digibiz.isCustomerIdentityPictureSelected){addLoader(),(i=$("#customer_identity_picture").attr("src"))?storeIdentityPic(i).then((t=>{removeLoader(),e(null,t)})).catch((t=>{e(t)})):e("Failed to upload identity-picture")}else if(digibiz.isAssociateCustomerIdentityPictureSelected){addLoader(),(i=$("#associate_customer_identity_picture").attr("src"))?storeIdentityPic(i).then((t=>{removeLoader(),e(null,t)})).catch((t=>{e(t)})):e("Failed to upload identity-picture")}else if(digibiz.isGroupPictureSelected){var i;addLoader(),(i=$("#group_image").attr("src"))?storeIdentityPic(i).then((t=>{removeLoader(),e(null,t)})).catch((t=>{e(t)})):e("Failed to upload identity-picture")}else e()}function saveGroupPictureFirstTime(e){digibiz.isGroupPictureSelected?(addLoader(),generateThubnail($("#group_image").attr("src"),"base64").then((async function(t){e(null,t)}))):e()}function saveGroupPictureSecondTime(e,t,i){generateThubnail(e,"base64").then((async function(e){var a={device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id"),data:{thumbnail_content:e,size:t.size}};fetch.apiCall((function(e,t,a){"success"===t?i(null,e.Data.group_image.thumbnail):i("failed")}),api.store_group_image,"POST","JSON",a)}))}function standardEmployeesGroupsListPage(){return new Promise(((e,t)=>{addLoader();var i={device_id:crossplat.device.uuid,type:"employee",list_by:"all_standard_employee_groups",business_id:sessionStorage.getItem("business_id"),offset:0,count:15};getGroupsCount(i).then((t=>{$(".standard-employee-groups-count").text(t),getGroupsCount({device_id:crossplat.device.uuid,type:"employee",list_by:"all_custom_employee_groups",business_id:sessionStorage.getItem("business_id")}).then((t=>{$(".custom-employee-groups-count").text(t),groupsList(i).then((t=>{console.log("employeeGroupList response",t),fetch.replaceHtml((function(){digibiz.standard_employees_groups_list_page=[],processStandardEmployeeGroupsList(t,(function(){appScroll.scrollBar(".standard-employees-groups-list-contentbox"),listenForStandardEmployeeGroupsListScrollEvent($(".standard-employees-groups-list-contentbox")),removeLoader(),e()}))}),"page/employee/standard_employees_groups_list_wrapper","#standard-employees-groups-list-wrapper-template","#standard-employees-groups-list-data-container",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/employee/standard_employees_groups_list_data","#standard-employees-groups-list-data-template","#standard-employees-groups-list-wrapper",null)}),"page/employee/standard_employees_groups_list_wrapper","#standard-employees-groups-list-wrapper-template","#standard-employees-groups-list-data-container",null)}))})).catch((e=>{console.log("err",e)}))})).catch((e=>{console.log("err",e)}))}))}function processStandardEmployeeGroupsList(e,t){digibiz.standard_employees_groups_list_page=removeDuplicates(digibiz.standard_employees_groups_list_page.concat(e),"id");var i={standard_employees_groups_list_data:digibiz.standard_employees_groups_list_page.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image)if(e.group_image.hasOwnProperty("thumbnail")&&e.group_image.thumbnail){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/employee/standard_employees_groups_list_data","#standard-employees-groups-list-data-template","#standard-employees-groups-list-wrapper",i)}function listenForStandardEmployeeGroupsListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){if(e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10){$(this).off("el_scroll");var t={device_id:crossplat.device.uuid,type:"employee",list_by:"all_standard_employee_groups",business_id:sessionStorage.getItem("business_id"),offset:digibiz.standard_employees_groups_list_page.length,count:5};addLoader(),groupsList(t).then((e=>{scrollProcessStandardEmployeeGroupsList(e,(function(){listenForStandardEmployeeGroupsListScrollEvent($(".standard-employees-groups-list-contentbox")),removeLoader()}))})).catch((e=>{removeLoader(),fetch.appendHtml((function(e){e||callback()}),"page/employee/scroll_standard_employees_groups_list_data","#scroll-standard-employees-groups-list-data-template","#standard-employees-groups-list-wrapper .os-content",null)}))}}))}function scrollProcessStandardEmployeeGroupsList(e,t){digibiz.standard_employees_groups_list_page=removeDuplicates(digibiz.standard_employees_groups_list_page.concat(e),"id");var i={standard_employees_groups_list_data:e.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image)if(e.group_image.hasOwnProperty("thumbnail")&&e.group_image.thumbnail){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};fetch.appendHtml((function(e){e||t()}),"page/employee/scroll_standard_employees_groups_list_data","#scroll-standard-employees-groups-list-data-template","#standard-employees-groups-list-wrapper .os-content",i)}function customEmployeesGroupsListPage(){return new Promise(((e,t)=>{addLoader();var i={device_id:crossplat.device.uuid,type:"employee",list_by:"all_custom_employee_groups",business_id:sessionStorage.getItem("business_id"),offset:0,count:15};getGroupsCount(i).then((t=>{$(".custom-employee-groups-count").text(t),getGroupsCount({device_id:crossplat.device.uuid,type:"employee",list_by:"all_standard_employee_groups",business_id:sessionStorage.getItem("business_id")}).then((t=>{$(".standard-employee-groups-count").text(t),groupsList(i).then((t=>{fetch.replaceHtml((function(){digibiz.custom_employees_groups_list_page=[],processCustomEmployeeGroupsList(t,(function(){appScroll.scrollBar(".custom-employees-groups-list-contentbox"),listenForCustomEmployeeGroupsListScrollEvent($(".custom-employees-groups-list-contentbox")),removeLoader(),e()}))}),"page/employee/custom_employees_groups_list_wrapper","#custom-employees-groups-list-wrapper-template","#custom-employees-groups-list-data-container",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e(),appScroll.scrollBar(".custom-employees-groups-list-contentbox"))}),"page/employee/custom_employees_groups_list_data","#custom-employees-groups-list-data-template","#custom-employees-groups-list-wrapper",null)}),"page/employee/custom_employees_groups_list_wrapper","#custom-employees-groups-list-wrapper-template","#custom-employees-groups-list-data-container",null)}))})).catch((e=>{console.log("err",e)}))})).catch((e=>{console.log("err",e)}))}))}function processCustomEmployeeGroupsList(e,t){digibiz.custom_employees_groups_list_page=removeDuplicates(digibiz.custom_employees_groups_list_page.concat(e),"id");var i={custom_employees_groups_list_data:digibiz.custom_employees_groups_list_page.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image)if(e.group_image.hasOwnProperty("thumbnail")&&e.group_image.thumbnail){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/employee/custom_employees_groups_list_data","#custom-employees-groups-list-data-template","#custom-employees-groups-list-wrapper",i)}function listenForCustomEmployeeGroupsListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){if(e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10){$(this).off("el_scroll");var t={device_id:crossplat.device.uuid,type:"employee",list_by:"all_custom_employee_groups",business_id:sessionStorage.getItem("business_id"),offset:digibiz.custom_employees_groups_list_page.length,count:5};addLoader(),groupsList(t).then((e=>{scrollProcessCustomEmployeeGroupsList(e,(function(){listenForCustomEmployeeGroupsListScrollEvent($(".custom-employees-groups-list-contentbox")),removeLoader()}))})).catch((e=>{removeLoader(),fetch.appendHtml((function(e){e||callback()}),"page/employee/scroll_custom_employees_groups_list_data","#scroll-custom-employees-groups-list-data-template","#custom-employees-groups-list-wrapper .os-content",null)}))}}))}function scrollProcessCustomEmployeeGroupsList(e,t){digibiz.custom_employees_groups_list_page=removeDuplicates(digibiz.custom_employees_groups_list_page.concat(e),"id");var i={custom_employees_groups_list_data:e.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image)if(e.group_image.hasOwnProperty("thumbnail")&&e.group_image.thumbnail){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};fetch.appendHtml((function(e){e||t()}),"page/employee/scroll_custom_employees_groups_list_data","#scroll-custom-employees-groups-list-data-template","#custom-employees-groups-list-wrapper .os-content",i)}function employeeGroupCreationPage(){return new Promise(((e,t)=>{if(sessionStorage.getItem("group_id")){if($("#add_employee_group_moderator").removeClass("hide"),"standard"==sessionStorage.getItem("group_type"))groupGet({device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id")}).then((t=>{getGroupModeratorList({device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id"),count:5,offset:0}).then((i=>{if(digibiz.group_moderator_list=[],digibiz.group_moderator_list=i.moderator,t.hasOwnProperty("group_image")&&t.group_image)if(t.group_image.hasOwnProperty("thumbnail")&&t.group_image.thumbnail){var a=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${t.id}&image_id=${t.group_image.thumbnail}`;t.group_image.avtarUrl=a,t.imageLetter=t.name.charAt(0)}else t.imageLetter=t.name.charAt(0);else t.imageLetter=t.name.charAt(0);var o={group_data:t};fetch.replaceHtml((function(t){t||(removeLoader(),appScroll.scrollBar("#main-container"),appScroll.scrollBar("#employee-group-members-list"),processGroupModeratorList(digibiz.group_moderator_list,(function(){appScroll.scrollBar("#employee-group-moderator-members-list"),listenForGroupModeratorListScrollEvent($("#employee-group-moderator-members-list"))})),e())}),"page/common/employee_group_creation","#employee-group-creation-template","#main-content-wrapper",o)})).catch((e=>{console.log("err",e)}))})).catch((t=>{removeLoader(),e()}));else if("custom"==sessionStorage.getItem("group_type"))if(digibiz.group_moderator_list=[],"employee_list"==sessionStorage.getItem("group_from")){groupGet({device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id")}).then((t=>{getGroupModeratorList({device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id"),count:5,offset:0}).then((i=>{if(digibiz.group_moderator_list=[],digibiz.group_moderator_list=i.moderator,t.hasOwnProperty("group_image")&&t.group_image)if(t.group_image.hasOwnProperty("thumbnail")&&t.group_image.thumbnail){var a=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${t.id}&image_id=${t.group_image.thumbnail}`;t.group_image.avtarUrl=a,t.imageLetter=t.name.charAt(0)}else t.imageLetter=t.name.charAt(0);else t.imageLetter=t.name.charAt(0);getGroupMembers({device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id"),offset:0,count:5}).then((i=>{var a=i.membersList;digibiz.group_employee_members_list=[],digibiz.group_employee_members_list=a;var o={group_data:t,membersCount:i.membersCount,group_members_data:a.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.member.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else e.imageLetter=e.member_name.first.charAt(0);else e.imageLetter=e.member_name.first.charAt(0);return e}))};console.log("groupData",o),fetch.replaceHtml((function(t){t||(removeLoader(),appScroll.scrollBar("#main-container"),appScroll.scrollBar("#employee-group-members-list"),listenForEmployeeGroupMembersList($("#employee-group-members-list")),processGroupModeratorList(digibiz.group_moderator_list,(function(){appScroll.scrollBar("#employee-group-moderator-members-list"),listenForGroupModeratorListScrollEvent($("#employee-group-moderator-members-list"))})),e())}),"page/common/employee_group_creation","#employee-group-creation-template","#main-content-wrapper",o)})).catch((i=>{var a={group_data:t};fetch.replaceHtml((function(t){t||(removeLoader(),console.log("Guru 3"),e())}),"page/common/employee_group_creation","#employee-group-creation-template","#main-content-wrapper",a)}))}))})).catch((e=>{console.log("err",e)})).catch((t=>{removeLoader(),e()}))}else if("department_list"==sessionStorage.getItem("group_from")){groupGet({device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id")}).then((t=>{getGroupModeratorList({device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id"),count:5,offset:0}).then((i=>{if(digibiz.group_moderator_list=[],digibiz.group_moderator_list=i.moderator,t.hasOwnProperty("group_image")&&t.group_image)if(t.group_image.hasOwnProperty("thumbnail")&&t.group_image.thumbnail){var a=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${t.id}&image_id=${t.group_image.thumbnail}`;t.group_image.avtarUrl=a,t.imageLetter=t.name.charAt(0)}else t.imageLetter=t.name.charAt(0);else t.imageLetter=t.name.charAt(0);var o={group_data:t,department_list_data:t.department_data.map((e=>(e.imageLetter=e.name.charAt(0),e)))};fetch.replaceHtml((function(t){t||($("#custom-employee-group-department-list-modal").remove(),appScroll.scrollBar("#main-container"),removeLoader(),processGroupModeratorList(digibiz.group_moderator_list,(function(){appScroll.scrollBar("#employee-group-moderator-members-list"),listenForGroupModeratorListScrollEvent($("#employee-group-moderator-members-list"))})),e())}),"page/common/employee_group_creation","#employee-group-creation-template","#main-content-wrapper",o)})).catch((t=>{removeLoader(),e()}))})).catch((e=>{console.log("err",e)}))}else if("standard_group"==sessionStorage.getItem("group_from")){groupGet({device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id")}).then((t=>{if(console.log("employeeGroupGet response",t),"deleted"!=t.status.status){if(t.hasOwnProperty("group_image")&&t.group_image)if(t.group_image.hasOwnProperty("thumbnail")&&t.group_image.thumbnail){var i=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${t.id}&image_id=${t.group_image.thumbnail}`;t.group_image.avtarUrl=i,t.imageLetter=t.name.charAt(0)}else t.imageLetter=t.name.charAt(0);else t.imageLetter=t.name.charAt(0);getGroupModeratorList({device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id"),count:5,offset:0}).then((i=>{digibiz.group_moderator_list=[],digibiz.group_moderator_list=i.moderator,getGroupMembers({device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id"),count:5,offset:0}).then((i=>{var a=i.membersList;digibiz.group_employee_members_list=[],digibiz.group_employee_members_list=a;var o={group_data:t,membersCount:i.membersCount,group_members_data:a.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.member.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.member_name.charAt(0)}else e.imageLetter=e.member_name.charAt(0);return e}))};fetch.replaceHtml((function(t){t||(removeLoader(),appScroll.scrollBar("#main-container"),processGroupModeratorList(digibiz.group_moderator_list,(function(){appScroll.scrollBar("#employee-group-moderator-members-list"),listenForGroupModeratorListScrollEvent($("#employee-group-moderator-members-list"))})),appScroll.scrollBar("#employee-group-members-list"),listenForEmployeeGroupMembersList($("#employee-group-members-list")),e())}),"page/common/employee_group_creation","#employee-group-creation-template","#main-content-wrapper",o)})).catch((i=>{var a={group_data:t};fetch.replaceHtml((function(t){t||(removeLoader(),console.log("Guru 6"),e())}),"page/common/employee_group_creation","#employee-group-creation-template","#main-content-wrapper",a)}))})).catch((e=>{console.log("err",e)}))}else Materialize.toast("Group Deleted.",3e3,"round success-alert"),location.hash="employee_group_creation/list"})).catch((t=>{removeLoader(),e()}))}}else fetch.replaceHtml((function(t){t||($("#add_employee_group_moderator").addClass("hide"),appScroll.scrollBar("#main-container"),console.log("Guru 7"),removeLoader(),e())}),"page/common/employee_group_creation","#employee-group-creation-template","#main-content-wrapper",null)}))}function validateGroupData(){let e=!1,t=!1,i=!1,a=!1;return $("#employeeGroupName").val().trim().length>0?($("#employeeGroupName").val().trim().length<config.EmployeeGroupNameMinLength&&(showError($("#employeeGroupName"),`This field should contain atleast ${config.EmployeeGroupNameMinLength} characters.`),e=!0),$("#employeeGroupName").val().trim().length>config.EmployeeGroupNameMaxLength&&(showError($("#employeeGroupName"),`This field can't have more than  ${config.EmployeeGroupNameMaxLength} characters.`),e=!0),$("#employeeGroupName").val().trim().length>=config.EmployeeGroupNameMinLength&&$("#employeeGroupName").val().trim().length<=config.EmployeeGroupNameMaxLength&&(e=!1)):(showError($("#employeeGroupName"),"This field is required."),e=!0),$("#employee_group_desc").val().trim().length>0?($("#employee_group_desc").val().trim().length<config.EmployeeGroupDescriptionMinLength&&(showError($("#employee_group_desc"),`This field should contain atleast ${config.EmployeeGroupDescriptionMinLength} characters.`),t=!0),$("#employee_group_desc").val().trim().length>config.EmployeeGroupDescriptionMaxLength&&(showError($("#employee_group_desc"),`This field can't have more than  ${config.EmployeeGroupDescriptionMaxLength} characters.`),t=!0),$("#employee_group_desc").val().trim().length>=config.EmployeeGroupDescriptionMinLength&&$("#employee_group_desc").val().trim().length<=config.EmployeeGroupDescriptionMaxLength&&(t=!1)):t=!1,$(".selected-value-group-visbility").attr("data-value").length>0?i=!1:(showError($("#select-visibility-type"),"This field is required."),i=!0),"custom"==sessionStorage.getItem("group_type")?sessionStorage.getItem("group_id")||(sessionStorage.getItem("group_from")?"employee_list"==sessionStorage.getItem("group_from")?$("input[name='selectedmembers[]']:checked").length>0?$("input[name='selectedmembers[]']:checked").length>1?a=!1:(Materialize.toast("Minimum 2 group members are required.",3e3,"round success-alert"),a=!0):(Materialize.toast("Please add group members",3e3,"round success-alert"),a=!0):"department_list"==sessionStorage.getItem("group_from")?digibiz.employee_group_department_members.length>0?a=!1:(Materialize.toast("Please add group members",3e3,"round success-alert"),a=!0):"standard_group"==sessionStorage.getItem("group_from")&&($("input[name='selectedmembers[]']:checked").length>0?$("input[name='selectedmembers[]']:checked").length>1?a=!1:(Materialize.toast("Minimum 2 group members are required.",3e3,"round success-alert"),a=!0):(Materialize.toast("Please add group members",3e3,"round success-alert"),a=!0)):(Materialize.toast("Please add group members",3e3,"round success-alert"),a=!0)):a=!1,!(a||t||e||i)}function getAddedEmployeeMembers(e){if(digibiz.employee_group_employee_members.filter((e=>e.hasOwnProperty("selected")&&e.selected)).length>0){let t=[];$.each(digibiz.employee_group_employee_members.filter((e=>e.hasOwnProperty("selected")&&e.selected)),(function(i,a){t.push(a.id),digibiz.employee_group_employee_members.filter((e=>e.hasOwnProperty("selected")&&e.selected)).length==i+1&&e(t)}))}else e([])}function uniqueArray(e){var t=[];return $.each(e,(function(e,i){-1==$.inArray(i,t)&&t.push(i)})),t}function allEmployessListPage(){return new Promise(((e,t)=>{employeeList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"list_only_active"}).then((t=>{fetch.replaceHtml((function(){processEmployeeList(t,(function(){removeLoader(),e()}))}),"page/employee/all_employees_list_wrapper","#all-employees-list-wrapper-template","#all-employees-contact-list-data-container",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/employee/all_employees_list_data","#all-employees-list-data-template","#all-employees-list-wrapper",null)}),"page/employee/all_employees_list_wrapper","#all-employees-list-wrapper-template","#all-employees-contact-list-data-container",null)}))}))}function processEmployeeList(e,t){digibiz.all_employees_list=removeDuplicates(digibiz.all_employees_list.concat(e),"dj_unique_employee_id");var i={all_employees_list_data:digibiz.all_employees_list.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture){var t=`${api.get_employee_thumbnail}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&type=display_picture`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/employee/all_employees_list_data","#all-employees-list-data-template","#all-employees-list-wrapper",i)}function processDepartmentWiseEmployeeList(e,t){digibiz.department_wise_employees_list=removeDuplicates(digibiz.department_wise_employees_list.concat(e),"dj_unique_employee_id");var i={department_wise_employees_list_data:digibiz.department_wise_employees_list.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture){var t=`${api.get_employee_thumbnail}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&type=display_picture`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/employee/department_wise_employees_list_data","#department-wise-employees-list-data-template","#department-wise-employees-list-wrapper",i)}function departmentWiseEmployessListPage(){return new Promise(((e,t)=>{employeeFilter({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:digibiz.employeeFilterData.type,category:digibiz.employeeFilterData.category,designation:digibiz.employeeFilterData.designation,departments:digibiz.employeeFilterData.department,status:digibiz.employeeFilterData.status}).then((t=>{console.log("response",t),processDepartmentWiseEmployeeList(t,(function(){$("#employee-filter-option-modal").remove(),removeLoader(),e()}))})).catch((t=>{$("#employee-filter-option-modal").remove(),removeLoader(),fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/employee/department_wise_employees_list_data","#department-wise-employees-list-data-template","#department-wise-employees-list-wrapper",null)}))}))}function customerManagementHubPage(){return new Promise(((e,t)=>{fetch.replaceHtml((function(){$(".view-digibiz-back-button").removeClass("hide"),removeLoader();new Swiper(".hubSwiper",{slidesPerView:1,spaceBetween:0,grabCursor:!0,observer:!0,pagination:{el:".swiper-pagination",clickable:!0}});$(".swiper").removeClass("hubSwiper"),e()}),"page/customer/customer_management_hub","#customer-management-land-page","#main-content-wrapper",null)}))}function customerIdentifierListPage(){return addLoader(),new Promise(((e,t)=>{var i={device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"customer",offset:0,count:15};customerIdentifierCount(i).then((t=>{$(".customer-identifiers-tab").text(`Identifiers (#${t.totalIdentifiers})`),customerIdentifierList(i).then((t=>{fetch.replaceHtml((function(){processCustomerIdentifiersList(t,(function(){appScroll.scrollBar(".customer-identifiers-list-contentbox"),listenForCustomerIdentifiersScrollEvent($(".customer-identifiers-list-contentbox")),removeLoader(),e()}))}),"page/customer/customer_identifiers_list_wrapper","#customer-identifiers-list-wrapper-template","#customer-identifiers-list-data-container",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/customer/customer_identifiers_list_data","#customer-identifiers-data-list-template","#customer-identifiers-list-wrapper",null)}),"page/customer/customer_identifiers_list_wrapper","#customer-identifiers-list-wrapper-template","#customer-identifiers-list-data-container",null)}))})).catch((e=>{console.log("err",e)}))}))}function processCustomerIdentifiersList(e,t){digibiz.customer_identifiers=removeDuplicates(digibiz.customer_identifiers.concat(e),"id");var i={customer_identifiers_list_data:digibiz.customer_identifiers};fetch.replaceHtml((function(e){e||t()}),"page/customer/customer_identifiers_list_data","#customer-identifiers-data-list-template","#customer-identifiers-list-wrapper",i)}function associateCustomerIdentifierListPage(){return addLoader(),new Promise(((e,t)=>{customerIdentifierList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"associate_customer",count:15,offset:0}).then((t=>{fetch.replaceHtml((function(){processAssociateCustomerIdentifiersList(t,(function(){appScroll.scrollBar(".associate-customer-identifiers-list-contentbox"),listenForAssociateCustomerIdentifiersListScrollEvent($(".associate-customer-identifiers-list-contentbox")),removeLoader(),e()}))}),"page/customer/associate_customers_list_wrapper","#associate-customer-identifiers-list-wrapper-template","#associate-customer-identifiers-list-data-container",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),console.log("entry 1"),e())}),"page/customer/associate_customers_list_data","#associate-customer-identifiers-data-list-template","#associate-customer-identifiers-list-wrapper",null)}),"page/customer/associate_customers_list_wrapper","#associate-customer-identifiers-list-wrapper-template","#associate-customer-identifiers-list-data-container",null)}))}))}function processAssociateCustomerIdentifiersList(e,t){digibiz.associate_customer_identifiers=removeDuplicates(digibiz.associate_customer_identifiers.concat(e),"id");var i={associate_customer_identifiers_list_data:digibiz.associate_customer_identifiers};fetch.replaceHtml((function(e){e||t()}),"page/customer/associate_customers_list_data","#associate-customer-identifiers-data-list-template","#associate-customer-identifiers-list-wrapper",i)}function primaryCustomerLabelListPage(){return addLoader(),new Promise(((e,t)=>{customerIdentifierList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"primary_customer"}).then((t=>{fetch.replaceHtml((function(){processPrimaryCustomerLabelList(t,(function(){removeLoader(),e()}))}),"page/customer/primary_customer_label_list_wrapper","#primary-customer-label-list-wrapper-template","#primary-customer-label-list-data-container",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/customer/primary_customer_label_list_data","#primary-customer-label-data-list-template","#primary-customer-label-list-wrapper",null)}),"page/customer/primary_customer_label_list_wrapper","#primary-customer-label-list-wrapper-template","#primary-customer-label-list-data-container",null)}))}))}function processPrimaryCustomerLabelList(e,t){var i={customer_label_list_data:e};fetch.replaceHtml((function(e){e||t()}),"page/customer/primary_customer_label_list_data","#primary-customer-label-data-list-template","#primary-customer-label-list-wrapper",i)}function validateIdentifierData(e){let t=!1;if("associate_customer_identifier"==e){var i=getInputText($("#associate_customer_identifier_name")).trim();(a=Array.from(i).length)>0?(a<config.CustomerIdentifierNameMinLength&&(showError($("#associate_customer_identifier_name"),`This field should contain atleast ${config.CustomerIdentifierNameMinLength} characters.`),t=!0),a>config.CustomerIdentifierNameMaxLength&&(showError($("#associate_customer_identifier_name"),`This field can't have more than  ${config.CustomerIdentifierNameMaxLength} characters.`),t=!0),a>=config.CustomerIdentifierNameMinLength&&a<=config.CustomerIdentifierNameMaxLength&&(t=!1)):(showError($("#associate_customer_identifier_name"),"This field is required."),t=!0)}else if("customer_identifier"==e){i=getInputText($("#customer_identifier_name")).trim();(a=Array.from(i).length)>0?(a<config.CustomerIdentifierNameMinLength&&(showError($("#customer_identifier_name"),`This field should contain atleast ${config.CustomerIdentifierNameMinLength} characters.`),t=!0),a>config.CustomerIdentifierNameMaxLength&&(showError($("#customer_identifier_name"),`This field can't have more than  ${config.CustomerIdentifierNameMaxLength} characters.`),t=!0),a>=config.CustomerIdentifierNameMinLength&&a<=config.CustomerIdentifierNameMaxLength&&(t=!1)):(showError($("#customer_identifier_name"),"This field is required."),t=!0)}else{var a;i=getInputText($("#primary_customer_label_name")).trim();(a=Array.from(i).length)>0?(a<config.CustomerIdentifierNameMinLength&&(showError($("#primary_customer_label_name"),`This field should contain atleast ${config.CustomerIdentifierNameMinLength} characters.`),t=!0),a>config.CustomerIdentifierNameMaxLength&&(showError($("#primary_customer_label_name"),`This field can't have more than  ${config.CustomerIdentifierNameMaxLength} characters.`),t=!0),a>=config.CustomerIdentifierNameMinLength&&a<=config.CustomerIdentifierNameMaxLength&&(t=!1)):(showError($("#primary_customer_label_name"),"This field is required."),t=!0)}return!t}function activeCustomerListPage(){return addLoader(),new Promise(((e,t)=>{digibiz.customer_identifiers_active_customers_list=[];var i={type:"active_customers"},a={device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"customer",offset:0,count:15};customerIdentifierCount(a).then((t=>{$(".header_primary").text(`Identifiers (#${t.totalIdentifiers})`),$(".customer_count_header_primary").text(`Total Customers (#${t.totalCustomers})`),customerIdentifierList(a).then((t=>{fetch.replaceHtml((function(){processCustomerIdentifiersActiveCustomerCreationList(t,(function(){appScroll.scrollBar(".active-customer-identifiers-list-contentbox"),listenForCustomerIdentifiersActiveCustomerCreationListScrollEvent($(".active-customer-identifiers-list-contentbox")),removeLoader(),e()}))}),"page/customer/customer_creation_identifiers_list_wrapper","#customer-creation-identifiers-list-wrapper-template","#main-content-wrapper",i)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/customer/customer_creation_identifiers_list_data","#customer-creation-identifiers-data-list-template","#active-customer-creation-identifiers-list-wrapper",i)}),"page/customer/customer_creation_identifiers_list_wrapper","#customer-creation-identifiers-list-wrapper-template","#main-content-wrapper",i)}))})).catch((e=>{console.log("err",e)}))}))}function processCustomerIdentifiersActiveCustomerCreationList(e,t){digibiz.customer_identifiers_active_customers_list=removeDuplicates(digibiz.customer_identifiers_active_customers_list.concat(e),"id");var i={customer_identifiers_list_data:digibiz.customer_identifiers_active_customers_list,type:"active_customers"};fetch.replaceHtml((function(e){e||t()}),"page/customer/customer_creation_identifiers_list_data","#customer-creation-identifiers-data-list-template","#active-customer-creation-identifiers-list-wrapper",i)}function pendingCustomerListPage(){return addLoader(),new Promise(((e,t)=>{digibiz.customer_identifiers_pending_customers_list=[];var i={type:"pending_customers"},a={device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"customer",offset:0,count:15};customerIdentifierCount(a).then((t=>{$(".customer-pending-count").text(t),customerIdentifierList(a).then((t=>{fetch.replaceHtml((function(){processCustomerIdentifiersPendingCustomerCreationList(t,(function(){appScroll.scrollBar(".pending-customer-identifiers-list-contentbox"),listenForCustomerIdentifiersPendingCustomerScrollEvent($(".pending-customer-identifiers-list-contentbox")),removeLoader(),e()}))}),"page/customer/customer_creation_identifiers_list_wrapper","#customer-creation-identifiers-list-wrapper-template","#pending-customer-list-data-container",i)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/customer/customer_creation_identifiers_list_data","#customer-creation-identifiers-data-list-template","#pending-customer-creation-identifiers-list-wrapper",i)}),"page/customer/customer_creation_identifiers_list_wrapper","#customer-creation-identifiers-list-wrapper-template","#pending-customer-list-data-container",i)}))})).catch((e=>{console.log("err",e)}))}))}function processCustomerIdentifiersPendingCustomerCreationList(e,t){digibiz.customer_identifiers_pending_customers_list=removeDuplicates(digibiz.customer_identifiers_pending_customers_list.concat(e),"id");var i={customer_identifiers_list_data:digibiz.customer_identifiers_pending_customers_list,type:"pending_customers"};fetch.replaceHtml((function(e){e||t()}),"page/customer/customer_creation_identifiers_list_data","#customer-creation-identifiers-data-list-template","#pending-customer-creation-identifiers-list-wrapper",i)}function aluminiCustomerListPage(){return addLoader(),new Promise(((e,t)=>{digibiz.alumini_customer_list=[];var i={device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),identifier_id:sessionStorage.getItem("identifier_id"),list_by:"alumini",offset:0,count:5};customerCount(i).then((t=>{$(".customer-alumini-count").text(`${t}`),customerList(i).then((t=>{fetch.replaceHtml((function(){processAluminiCustomerList(t,(function(){appScroll.scrollBar(".alumini-customers-list-contentbox"),listenForAluminiCustomerListScrollEvent($(".alumini-customers-list-contentbox")),removeLoader(),e()}))}),"page/customer/alumini_customers_list_wrapper","#alumini-customers-list-wrapper-template","#alumini-customer-list-data-container",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/customer/alumini_customers_list_data","#alumini-customers-list-data-template","#alumini-customers-list-wrapper",null)}),"page/customer/alumini_customers_list_wrapper","#alumini-customers-list-wrapper-template","#alumini-customer-list-data-container",null)}))})).catch((e=>{console.log("err",e)}))}))}function activeCustomerCreationListPage(){return addLoader(),new Promise(((e,t)=>{var i={device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),identifier_id:sessionStorage.getItem("identifier_id"),list_by:"business_identifier_active_accepted",count:20,offset:0};customerCount(i).then((t=>{customerList(i).then((i=>{$(".customer-active-count").text(`${t}`),fetch.replaceHtml((function(){processActiveCustomerList(i,(function(){appScroll.scrollBar(".active-customers-list-contentbox"),listenForActiveCustomerListScrollEvent($(".active-customers-list-contentbox")),removeLoader(),e()}))}),"page/customer/active_customers_list_wrapper","#active-customers-list-wrapper-template","#active-customer-list-data-container",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/customer/active_customers_list_data","#active-customers-list-data-template","#active-customers-list-wrapper",null)}),"page/customer/active_customers_list_wrapper","#active-customers-list-wrapper-template","#active-customer-list-data-container",null)}))})).catch((e=>{console.log("err",e)}))}))}function processActiveCustomerList(e,t){digibiz.customer_creation_active_list=removeDuplicates(digibiz.customer_creation_active_list.concat(e),"id");var i={active_customers_list_data:digibiz.customer_creation_active_list.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_customer_identity_picture}?id=${e.id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);else e.imageLetter=e.name.first.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/customer/active_customers_list_data","#active-customers-list-data-template","#active-customers-list-wrapper",i)}function processAluminiCustomerList(e,t){digibiz.alumini_customer_list=removeDuplicates(digibiz.alumini_customer_list.concat(e),"id");var i={alumini_customers_list_data:digibiz.alumini_customer_list.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_customer_identity_picture}?id=${e.id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);else e.imageLetter=e.name.first.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/customer/alumini_customers_list_data","#alumini-customers-list-data-template","#alumini-customers-list-wrapper",i)}function pendingCustomerCreationListPage(){return addLoader(),new Promise(((e,t)=>{var i={device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),identifier_id:sessionStorage.getItem("identifier_id"),list_by:"pending_customers"};pendingNotificationCount(i).then((t=>{$(".customer-pending-count").text(`${t}`),notificationList(i).then((t=>{fetch.replaceHtml((function(){processPendingCustomerList(t,(function(){removeLoader(),e()}))}),"page/customer/pending_customers_list_wrapper","#pending-customers-list-wrapper-template","#pending-customer-list-data-container",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/customer/pending_customers_list_data","#pending-customers-list-data-template","#pending-customers-list-wrapper",null)}),"page/customer/pending_customers_list_wrapper","#pending-customers-list-wrapper-template","#pending-customer-list-data-container",null)}))})).catch((e=>{console.log("err",e)}))}))}function processPendingCustomerList(e,t){digibiz.customer_creation_pending_list=removeDuplicates(digibiz.customer_creation_pending_list.concat(e),"id");var i={pending_customers_list_data:digibiz.customer_creation_pending_list};fetch.replaceHtml((function(e){e||t()}),"page/customer/pending_customers_list_data","#pending-customers-list-data-template","#pending-customers-list-wrapper",i)}function customerCreatePage(){return addLoader(),new Promise(((e,t)=>{"customer"==sessionStorage.getItem("digibiz_role")&&"profile_page"==sessionStorage.getItem("edit_from")?customerGet({device_id:crossplat.device.uuid,get_by:"id",id:sessionStorage.getItem("customer_id")}).then((t=>{if(t.hasOwnProperty("identity_picture")&&t.identity_picture&&t.identity_picture.hasOwnProperty("thumbnail")&&t.identity_picture.thumbnail){var i=`${api.get_customer_identity_picture}?id=${sessionStorage.getItem("customer_id")}&device_id=${crossplat.device.uuid}&image_id=${t.identity_picture.thumbnail}`;t.identity_picture.avtarUrl=i}if(t.hasOwnProperty("identity_video")&&t.identity_video&&t.identity_video.hasOwnProperty("thumbnail")&&t.identity_video.thumbnail){i=`${api.get_customer_identity_picture}?id=${sessionStorage.getItem("customer_id")}&device_id=${crossplat.device.uuid}&image_id=${t.identity_video.thumbnail}`;t.identity_video.avtarUrl=i}var a={customerData:t};fetch.replaceHtml((function(){mobileFlaginit(),$(".customer-create-heading-name").text("Customer Details"),$(".header-band").addClass("hide"),$(".customer-add-label-container").remove(),$(".customer-add-display-name-container").remove(),$(".customer-add-email-container").remove(),$(".customer-add-identifier-container").remove(),$(".employee-add-date-of-joining-container").remove(),$(".customer-back-btn").remove(),$(".customer-forward-btn").remove(),$(".register-customer-btn").remove(),$(".notify-customer-btn").remove(),$(".wizard-progress-container").remove(),$('.customer-creation-parts-container[data-step="1"]').remove(),$('.customer-creation-parts-container[data-step="3"]').remove(),$('.customer-creation-parts-container[data-step="4"]').remove(),$('.customer-creation-parts-container[data-step="2"]').removeClass("hide"),$(".save-customer-btn").removeClass("hide"),calenderInit("#customer_date_of_birth"),calenderInit("#customer_wedding_anniversary"),removeLoader(),e()}),"page/customer/customer_create","#customer-create-template","#main-content-wrapper",a)})).catch((e=>{console.log("err",e),removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")})):customerIdentifierList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"customer"}).then((t=>{if(sessionStorage.getItem("customer_id")){customerGet({device_id:crossplat.device.uuid,get_by:"id",id:sessionStorage.getItem("customer_id")}).then((i=>{if(i.hasOwnProperty("identity_picture")&&i.identity_picture&&i.identity_picture.hasOwnProperty("thumbnail")&&i.identity_picture.thumbnail){var a=`${api.get_customer_identity_picture}?id=${sessionStorage.getItem("customer_id")}&device_id=${crossplat.device.uuid}&image_id=${i.identity_picture.thumbnail}`;i.identity_picture.avtarUrl=a}if(i.hasOwnProperty("identity_video")&&i.identity_video&&i.identity_video.hasOwnProperty("thumbnail")&&i.identity_video.thumbnail){a=`${api.get_customer_identity_picture}?id=${sessionStorage.getItem("customer_id")}&device_id=${crossplat.device.uuid}&image_id=${i.identity_video.thumbnail}`;i.identity_video.avtarUrl=a}associateCustomerList({device_id:crossplat.device.uuid,list_by:"business_customer",business_id:sessionStorage.getItem("business_id"),customer_id:sessionStorage.getItem("customer_id")}).then((a=>{notificationList({device_id:crossplat.device.uuid,list_by:"pending_associate_customer",business_id:sessionStorage.getItem("business_id"),customer_id:sessionStorage.getItem("customer_id")}).then((o=>{roleManagementList({device_id:crossplat.device.uuid,list_by:"member",member_id:sessionStorage.getItem("customer_id")}).then((s=>{var r={customerData:i,customerIdentifierList:t,activeAcceptedAssociateCustomers:a.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_associate_customer_identity_picture}?id=${e.id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);else e.imageLetter=e.name.first.charAt(0);return e})),pendingAssociateCustomers:o,role_assignment:s};fetch.replaceHtml((function(){mobileFlaginit(),calenderInit("#customer_date_of_birth"),calenderInit("#customer_wedding_anniversary"),i.hasOwnProperty("identifier_id")&&i.identifier_id&&$("#customer-identifier-choose-select-dropdown").val(i.identifier_id),$(".customer-back-btn").attr("data-present-step","2"),$(".customer-forward-btn").attr("data-present-step","2"),$(".customer-create-stepper").removeClass("is-active"),$('.customer-create-stepper[data-stepper="2"]').addClass("is-active"),$('.customer-creation-parts-container[data-step="1"]').addClass("hide"),$('.customer-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-customer-btn").addClass("hide"),$(".customer-forward-btn").removeClass("hide"),"customer"==sessionStorage.getItem("digibiz_role")&&($('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$(".mask").addClass("hide"),$('input[type="tel"]').prop("disabled",!0),$(".reassign-customer-btn").prop("disabled",!0),$("#customer_associate_customer_assignment_btn").prop("disabled",!0),$("#show_action_customer_associate-customer_assignment").prop("disabled",!0)),removeLoader(),e()}),"page/customer/customer_create","#customer-create-template","#main-content-wrapper",r)})).catch((s=>{var r={customerData:i,customerIdentifierList:t,activeAcceptedAssociateCustomers:a.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_associate_customer_identity_picture}?id=${e.id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);else e.imageLetter=e.name.first.charAt(0);return e})),pendingAssociateCustomers:o};fetch.replaceHtml((function(){mobileFlaginit(),calenderInit("#customer_date_of_birth"),calenderInit("#customer_wedding_anniversary"),i.hasOwnProperty("identifier_id")&&i.identifier_id&&$("#customer-identifier-choose-select-dropdown").val(i.identifier_id),$(".customer-back-btn").attr("data-present-step","2"),$(".customer-forward-btn").attr("data-present-step","2"),$(".customer-create-stepper").removeClass("is-active"),$('.customer-create-stepper[data-stepper="2"]').addClass("is-active"),$('.customer-creation-parts-container[data-step="1"]').addClass("hide"),$('.customer-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-customer-btn").addClass("hide"),$(".customer-forward-btn").removeClass("hide"),"customer"==sessionStorage.getItem("digibiz_role")&&($('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$(".mask").addClass("hide"),$('input[type="tel"]').prop("disabled",!0),$(".reassign-customer-btn").prop("disabled",!0),$("#customer_associate_customer_assignment_btn").prop("disabled",!0),$("#show_action_customer_associate-customer_assignment").prop("disabled",!0)),removeLoader(),e()}),"page/customer/customer_create","#customer-create-template","#main-content-wrapper",r)}))})).catch((o=>{roleManagementList({device_id:crossplat.device.uuid,list_by:"member",member_id:sessionStorage.getItem("customer_id")}).then((o=>{var s={customerData:i,customerIdentifierList:t,activeAcceptedAssociateCustomers:a.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_associate_customer_identity_picture}?id=${e.id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);else e.imageLetter=e.name.first.charAt(0);return e})),role_assignment:o};fetch.replaceHtml((function(){mobileFlaginit(),calenderInit("#customer_date_of_birth"),calenderInit("#customer_wedding_anniversary"),i.hasOwnProperty("identifier_id")&&i.identifier_id&&$("#customer-identifier-choose-select-dropdown").val(i.identifier_id),$(".customer-back-btn").attr("data-present-step","2"),$(".customer-forward-btn").attr("data-present-step","2"),$(".customer-create-stepper").removeClass("is-active"),$('.customer-create-stepper[data-stepper="2"]').addClass("is-active"),$('.customer-creation-parts-container[data-step="1"]').addClass("hide"),$('.customer-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-customer-btn").addClass("hide"),$(".customer-forward-btn").removeClass("hide"),"customer"==sessionStorage.getItem("digibiz_role")&&($('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$(".mask").addClass("hide"),$('input[type="tel"]').prop("disabled",!0),$(".reassign-customer-btn").prop("disabled",!0),$("#customer_associate_customer_assignment_btn").prop("disabled",!0),$("#show_action_customer_associate-customer_assignment").prop("disabled",!0)),removeLoader(),e()}),"page/customer/customer_create","#customer-create-template","#main-content-wrapper",s)})).catch((o=>{var s={customerData:i,customerIdentifierList:t,activeAcceptedAssociateCustomers:a.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_associate_customer_identity_picture}?id=${e.id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);else e.imageLetter=e.name.first.charAt(0);return e}))};fetch.replaceHtml((function(){mobileFlaginit(),calenderInit("#customer_date_of_birth"),calenderInit("#customer_wedding_anniversary"),i.hasOwnProperty("identifier_id")&&i.identifier_id&&$("#customer-identifier-choose-select-dropdown").val(i.identifier_id),$(".customer-back-btn").attr("data-present-step","2"),$(".customer-forward-btn").attr("data-present-step","2"),$(".customer-create-stepper").removeClass("is-active"),$('.customer-create-stepper[data-stepper="2"]').addClass("is-active"),$('.customer-creation-parts-container[data-step="1"]').addClass("hide"),$('.customer-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-customer-btn").addClass("hide"),$(".customer-forward-btn").removeClass("hide"),"customer"==sessionStorage.getItem("digibiz_role")&&($('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$(".mask").addClass("hide"),$('input[type="tel"]').prop("disabled",!0),$(".reassign-customer-btn").prop("disabled",!0),$("#customer_associate_customer_assignment_btn").prop("disabled",!0),$("#show_action_customer_associate-customer_assignment").prop("disabled",!0)),removeLoader(),e()}),"page/customer/customer_create","#customer-create-template","#main-content-wrapper",s)}))}))})).catch((a=>{notificationList({device_id:crossplat.device.uuid,list_by:"pending_associate_customer",business_id:sessionStorage.getItem("business_id"),customer_id:sessionStorage.getItem("customer_id")}).then((a=>{roleManagementList({device_id:crossplat.device.uuid,list_by:"member",member_id:sessionStorage.getItem("customer_id")}).then((o=>{var s={customerData:i,customerIdentifierList:t,pendingAssociateCustomers:a,role_assignment:o};fetch.replaceHtml((function(){mobileFlaginit(),calenderInit("#customer_date_of_birth"),calenderInit("#customer_wedding_anniversary"),i.hasOwnProperty("identifier_id")&&i.identifier_id&&$("#customer-identifier-choose-select-dropdown").val(i.identifier_id),$(".customer-back-btn").attr("data-present-step","2"),$(".customer-forward-btn").attr("data-present-step","2"),$(".customer-create-stepper").removeClass("is-active"),$('.customer-create-stepper[data-stepper="2"]').addClass("is-active"),$('.customer-creation-parts-container[data-step="1"]').addClass("hide"),$('.customer-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-customer-btn").addClass("hide"),$(".customer-forward-btn").removeClass("hide"),"customer"==sessionStorage.getItem("digibiz_role")&&($('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$(".mask").addClass("hide"),$('input[type="tel"]').prop("disabled",!0),$(".reassign-customer-btn").prop("disabled",!0),$("#customer_associate_customer_assignment_btn").prop("disabled",!0),$("#show_action_customer_associate-customer_assignment").prop("disabled",!0)),removeLoader(),e()}),"page/customer/customer_create","#customer-create-template","#main-content-wrapper",s)})).catch((o=>{var s={customerData:i,customerIdentifierList:t,pendingAssociateCustomers:a};fetch.replaceHtml((function(){mobileFlaginit(),calenderInit("#customer_date_of_birth"),calenderInit("#customer_wedding_anniversary"),i.hasOwnProperty("identifier_id")&&i.identifier_id&&$("#customer-identifier-choose-select-dropdown").val(i.identifier_id),$(".customer-back-btn").attr("data-present-step","2"),$(".customer-forward-btn").attr("data-present-step","2"),$(".customer-create-stepper").removeClass("is-active"),$('.customer-create-stepper[data-stepper="2"]').addClass("is-active"),$('.customer-creation-parts-container[data-step="1"]').addClass("hide"),$('.customer-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-customer-btn").addClass("hide"),$(".customer-forward-btn").removeClass("hide"),"customer"==sessionStorage.getItem("digibiz_role")&&($('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$(".mask").addClass("hide"),$('input[type="tel"]').prop("disabled",!0),$(".reassign-customer-btn").prop("disabled",!0),$("#customer_associate_customer_assignment_btn").prop("disabled",!0),$("#show_action_customer_associate-customer_assignment").prop("disabled",!0)),removeLoader(),e()}),"page/customer/customer_create","#customer-create-template","#main-content-wrapper",s)}))})).catch((a=>{roleManagementList({device_id:crossplat.device.uuid,list_by:"member",member_id:sessionStorage.getItem("customer_id")}).then((a=>{var o={customerData:i,customerIdentifierList:t,role_assignment:a};fetch.replaceHtml((function(){mobileFlaginit(),calenderInit("#customer_date_of_birth"),calenderInit("#customer_wedding_anniversary"),i.hasOwnProperty("identifier_id")&&i.identifier_id&&$("#customer-identifier-choose-select-dropdown").val(i.identifier_id),$(".customer-back-btn").attr("data-present-step","2"),$(".customer-forward-btn").attr("data-present-step","2"),$(".customer-create-stepper").removeClass("is-active"),$('.customer-create-stepper[data-stepper="2"]').addClass("is-active"),$('.customer-creation-parts-container[data-step="1"]').addClass("hide"),$('.customer-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-customer-btn").addClass("hide"),$(".customer-forward-btn").removeClass("hide"),"customer"==sessionStorage.getItem("digibiz_role")&&($('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$(".mask").addClass("hide"),$('input[type="tel"]').prop("disabled",!0),$(".reassign-customer-btn").prop("disabled",!0),$("#customer_associate_customer_assignment_btn").prop("disabled",!0),$("#show_action_customer_associate-customer_assignment").prop("disabled",!0)),removeLoader(),appScroll.scrollBar("#main-container"),e()}),"page/customer/customer_create","#customer-create-template","#main-content-wrapper",o)})).catch((a=>{var o={customerData:i,customerIdentifierList:t};fetch.replaceHtml((function(){mobileFlaginit(),calenderInit("#customer_date_of_birth"),calenderInit("#customer_wedding_anniversary"),i.hasOwnProperty("identifier_id")&&i.identifier_id&&$("#customer-identifier-choose-select-dropdown").val(i.identifier_id),$(".customer-back-btn").attr("data-present-step","2"),$(".customer-forward-btn").attr("data-present-step","2"),$(".customer-create-stepper").removeClass("is-active"),$('.customer-create-stepper[data-stepper="2"]').addClass("is-active"),$('.customer-creation-parts-container[data-step="1"]').addClass("hide"),$('.customer-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-customer-btn").addClass("hide"),$(".customer-forward-btn").removeClass("hide"),"customer"==sessionStorage.getItem("digibiz_role")&&($('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$(".mask").addClass("hide"),$('input[type="tel"]').prop("disabled",!0),$(".reassign-customer-btn").prop("disabled",!0),$("#customer_associate_customer_assignment_btn").prop("disabled",!0),$("#show_action_customer_associate-customer_assignment").prop("disabled",!0)),removeLoader(),e()}),"page/customer/customer_create","#customer-create-template","#main-content-wrapper",o)}))}))}))})).catch((e=>{}))}else{var i={customerIdentifierList:t};fetch.replaceHtml((function(){mobileFlaginit(),calenderInit("#customer_date_of_birth"),calenderInit("#customer_wedding_anniversary"),removeLoader(),e()}),"page/customer/customer_create","#customer-create-template","#main-content-wrapper",i)}})).catch((e=>{removeLoader()}))}))}function getCustomerNotificationDetailsPage(){return new Promise(((e,t)=>{if("customer"==sessionStorage.getItem("customer_notification_type"))var i={device_id:crossplat.device.uuid,list_by:"customer_contact_logs",business_id:sessionStorage.getItem("business_id"),identifier_id:sessionStorage.getItem("identifier_id"),contact_uuid:sessionStorage.getItem("contact_uuid")};else i={device_id:crossplat.device.uuid,list_by:"collaborator_customer_contact_logs",business_id:sessionStorage.getItem("business_id"),identifier_id:sessionStorage.getItem("identifier_id"),collaborator_business_id:sessionStorage.getItem("collaborator_business_id")};notificationList(i).then((t=>{fetch.replaceHtml((function(){processCustomerNotificationDetails(t,(function(){removeLoader(),e()}))}),"page/customer/pending_customer_notification_details_list_wrapper","#customer-notification-details-list-wrapper-template","#main-content-wrapper",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/customer/pending_customer_notification_details_list_data","#customer-notification-details-data-list-template","#customer-notification-details-list-wrapper",null)}),"page/customer/pending_customer_notification_details_list_wrapper","#customer-notification-details-list-wrapper-template","#main-content-wrapper",null)}))}))}function processCustomerNotificationDetails(e,t){digibiz.customer_notification_details_list=removeDuplicates(digibiz.customer_notification_details_list.concat(e.log_data),"id");var i={customer_notification_details:digibiz.customer_notification_details_list.map((e=>("number"==typeof e.createdDate&&(e.createdDate=moment.unix(e.createdDate).format("MMM D YYYY hh:mm:ss A")),"number"==typeof e.updatedDate&&(e.updatedDate=moment.unix(e.updatedDate).format("MMM D YYYY hh:mm:ss A")),"number"==typeof e.expiryDate&&(e.expiryDate=moment.unix(e.expiryDate).format("MMM D YYYY hh:mm:ss A")),e)))};fetch.replaceHtml((function(i){i||("active"==e.last_notification.status.status&&("rejected"!=e.last_notification.contact.status.status&&"expired"!=e.last_notification.contact.status.status||$(".fixed-action-btn").removeClass("hide")),t())}),"page/customer/pending_customer_notification_details_list_data","#customer-notification-details-data-list-template","#customer-notification-details-list-wrapper",i)}function validateCustomerStepTwo(){let e=!1,t=!1,i=!1,a=!1,o=!1;JSON.parse(sessionStorage.getItem("profile_details"));$("#add-customer-display-phone-number").val().length>0&&(0==$("#add-customer-display-phone-number").val().length?(showError($("#add-customer-display-phone-number"),"Field is required."),i=!0):$("#add-customer-display-phone-number").intlTelInput("getNumber").length>3&&(validate.checkIfIntelValidPhoneNumber($("#add-customer-display-phone-number"))||(showError($("#add-customer-display-phone-number"),"Invalid Phone number."),i=!0)));var s=getInputText($("#customer_label_name")).trim(),r=Array.from(s).length;r>0?(r<config.employeeMinNameLength&&(showError($("#customer_label_name"),`This field should contain atleast ${config.employeeMinNameLength} characters.`),e=!0),r>config.employeeMaxNameLength&&(showError($("#customer_label_name"),`This field can't have more than  ${config.employeeMaxNameLength} characters.`),e=!0),r>=config.employeeMinNameLength&&r<=config.employeeMaxNameLength&&(e=!1)):(showError($("#customer_label_name"),"This field is required."),e=!0);var n=getInputText($("#customer_display_name")).trim(),d=Array.from(n).length;return d>0&&(d<config.employeeMinNameLength&&(showError($("#customer_display_name"),`This field should contain atleast ${config.employeeMinNameLength} characters.`),t=!0),d>config.employeeMaxNameLength&&(showError($("#customer_display_name"),`This field can't have more than  ${config.employeeMaxNameLength} characters.`),t=!0),d>=config.employeeMinNameLength&&d<=config.employeeMaxNameLength&&(t=!1)),$("#customer_email").text().length>0&&(validate.checkIfValidEmail($("#customer_email").text())||(showError($("#customer_email"),"Invalid Email"),a=!0)),$('.customer-creation-parts-container[data-step="2"]').find(".selected-value-customer-identifier").attr("data-value").length>0?o=!1:(o=!0,showError($('.customer-creation-parts-container[data-step="2"]').find("#customer-identifier-choose-select-dropdown"),"This field is required")),!(a||o||t||i||e)}function validateCustomerProfileEdit(){let e=!1,t=!1;return $("#add-customer-display-phone-number").val().length>0&&(0==$("#add-customer-display-phone-number").val().length?(showError($("#add-customer-display-phone-number"),"Field is required."),e=!0):$("#add-customer-display-phone-number").intlTelInput("getNumber").length>3&&(validate.checkIfIntelValidPhoneNumber($("#add-customer-display-phone-number"))||(showError($("#add-customer-display-phone-number"),"Invalid Phone number."),e=!0))),$("#customer_alternate_email").text().length>0&&(validate.checkIfValidEmail($("#customer_alternate_email").text())||(showError($("#customer_alternate_email"),"Invalid Email"),t=!0)),!t&&!e}function processPendingAssociateCustomerNotificationDetailsList(e,t){digibiz.associate_customer_notification_details_list=removeDuplicates(digibiz.associate_customer_notification_details_list.concat(e.log_data),"id");var i={associate_customer_notification_details:digibiz.associate_customer_notification_details_list.map((e=>("number"==typeof e.createdDate&&(e.createdDate=moment.unix(e.createdDate).format("MMM D YYYY hh:mm:ss A")),"number"==typeof e.updatedDate&&(e.updatedDate=moment.unix(e.updatedDate).format("MMM D YYYY hh:mm:ss A")),"number"==typeof e.expiryDate&&(e.expiryDate=moment.unix(e.expiryDate).format("MMM D YYYY hh:mm:ss A")),e)))};fetch.replaceHtml((function(i){i||("active"==e.last_notification.status.status&&("rejected"!=e.last_notification.contact.status.status&&"expired"!=e.last_notification.contact.status.status||$(".fixed-action-btn").removeClass("hide")),t())}),"page/customer/pending_associate_customer_notification_details_list_data","#associate-customer-notification-details-data-list-template","#associate-customer-notification-details-list",i)}function validateAssociateCustomer(){let e=!1,t=!1,i=!1,a=!1;var o=JSON.parse(sessionStorage.getItem("profile_details"));$("#add-associate-customer-display-phone-number").val().length>0&&(0==$("#add-associate-customer-display-phone-number").val().length?(showError($("#add-associate-customer-display-phone-number"),"Field is required."),t=!0):$("#add-associate-customer-display-phone-number").intlTelInput("getNumber").length>3&&(validate.checkIfIntelValidPhoneNumber($("#add-associate-customer-display-phone-number"))||(showError($("#add-associate-customer-display-phone-number"),"Invalid Phone number."),t=!0),o.login.mobile_number==$("#add-associate-customer-display-phone-number").intlTelInput("getNumber")&&(showError($("#add-associate-customer-display-phone-number"),"Can't select your own mobile number"),t=!0)));var s=getInputText($("#associate_customer_display_name")).trim(),r=Array.from(s).length;return r>0&&(r<config.employeeMinNameLength&&(showError($("#associate_customer_display_name"),`This field should contain atleast ${config.employeeMinNameLength} characters.`),e=!0),r>config.employeeMaxNameLength&&(showError($("#associate_customer_display_name"),`This field can't have more than  ${config.employeeMaxNameLength} characters.`),e=!0),r>=config.employeeMinNameLength&&r<=config.employeeMaxNameLength&&(e=!1)),$("#associate_customer_email").text().length>0&&(validate.checkIfValidEmail($("#associate_customer_email").text())||(showError($("#associate_customer_email"),"Invalid Email"),i=!0)),$(".selected-value-associate-customer-identifier").attr("data-value").length>0?a=!1:(a=!0,showError($(".selected-value-associate-customer-identifier"),"This field is required")),!(i||a||e||t)}function validateAssociateCustomerProfile(){let e=!1,t=!1;return $("#add-associate-customer-display-phone-number").val().length>0&&(0==$("#add-associate-customer-display-phone-number").val().length?(showError($("#add-associate-customer-display-phone-number"),"Field is required."),e=!0):$("#add-associate-customer-display-phone-number").intlTelInput("getNumber").length>3&&(validate.checkIfIntelValidPhoneNumber($("#add-associate-customer-display-phone-number"))||(showError($("#add-associate-customer-display-phone-number"),"Invalid Phone number."),e=!0))),$("#associate_customer_alternate_email").text().length>0&&(validate.checkIfValidEmail($("#associate_customer_alternate_email").text())||(showError($("#associate_customer_alternate_email"),"Invalid Email"),t=!0)),!t&&!e}function getCustomerContactsIdentifiersListPage(){return new Promise(((e,t)=>{customerIdentifierList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"customer"}).then((t=>{fetch.replaceHtml((function(){processCustomerContactsIdentifiersList(t,(function(){removeLoader(),e()}))}),"page/customer/customer_contacts_identifiers_list_wrapper","#customer-contacts-identifiers-list-wrapper-template","#main-content-wrapper",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/customer/customer_contacts_identifiers_list_data","#customer-contacts-identifiers-list-data-template","#customer-contacts-identifiers-list-wrapper",null)}),"page/customer/customer_contacts_identifiers_list_wrapper","#customer-contacts-identifiers-list-wrapper-template","#main-content-wrapper",null)}))}))}function processCustomerContactsIdentifiersList(e,t){digibiz.customer_contacts_identifiers_list=removeDuplicates(digibiz.customer_contacts_identifiers_list.concat(e),"id");var i={customer_contacts_identifiers_list_data:digibiz.customer_contacts_identifiers_list,list_for:"customer_contacts_module"};fetch.replaceHtml((function(e){e||t()}),"page/customer/customer_contacts_identifiers_list_data","#customer-contacts-identifiers-list-data-template","#customer-contacts-identifiers-list-wrapper",i)}function standardCustomerGroupsIdentifierListPage(){return new Promise(((e,t)=>{var i={device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"customer",limit:15,offset:0};getGroupsCount({device_id:crossplat.device.uuid,type:"customer",business_id:sessionStorage.getItem("business_id"),list_by:"basic_customer_groups"}).then((t=>{$(".standard-customer-groups-count").text(t),getGroupsCount({device_id:crossplat.device.uuid,type:"customer",business_id:sessionStorage.getItem("business_id"),list_by:"custom_groups",group_for:"customer",customer_group_type:"custom"}).then((t=>{$(".custom-customer-groups-count").text(t),customerIdentifierList(i).then((t=>{var i=[];$.each(t,(function(e,t){i.push(t)})),groupsList({device_id:crossplat.device.uuid,type:"customer",business_id:sessionStorage.getItem("business_id"),list_by:"basic_customer_groups"}).then((t=>{$.each(t,(function(e,t){i.push(t)})),fetch.replaceHtml((function(){processStandardCustomerGroupsIdentifiersList(i,(function(){removeLoader(),e()}))}),"page/customer/standard_customer_groups_identifiers_list_wrapper","#standard-customer-groups-identifiers-list-wrapper-template","#standard-customer-group-type-data-container",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/customer/standard_customer_groups_identifiers_list_data","#standard-customer-groups-identifiers-list-data-template","#standard-customer-groups-identifiers-list-wrapper",null)}),"page/customer/standard_customer_groups_identifiers_list_wrapper","#standard-customer-groups-identifiers-list-wrapper-template","#standard-customer-group-type-data-container",null)}))})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/customer/standard_customer_groups_identifiers_list_data","#standard-customer-groups-identifiers-list-data-template","#standard-customer-groups-identifiers-list-wrapper",null)}),"page/customer/standard_customer_groups_identifiers_list_wrapper","#standard-customer-groups-identifiers-list-wrapper-template","#standard-customer-group-type-data-container",null)}))})).catch((e=>{console.log("err",e)}))})).catch((e=>{console.log("err",e)}))}))}function processStandardCustomerGroupsIdentifiersList(e,t){digibiz.standard_customer_groups_identifiers_list=removeDuplicates(digibiz.standard_customer_groups_identifiers_list.concat(e),"id");var i={standard_customer_groups_identifiers_list_data:digibiz.standard_customer_groups_identifiers_list};fetch.replaceHtml((function(e){e||(t(),appScroll.scrollBar(".standard-customer-groups-identifiers-list-data-contentbox"))}),"page/customer/standard_customer_groups_identifiers_list_data","#standard-customer-groups-identifiers-list-data-template","#standard-customer-groups-identifiers-list-wrapper",i)}function getCustomerContactsItemsListPage(){return new Promise(((e,t)=>{listContactsList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"customer",list_by:"primary_customer_identifier",primary_customer_identifier_id:sessionStorage.getItem("identifier_id")}).then((t=>{fetch.replaceHtml((function(){processCustomerContactsItemsList(t,(function(){removeLoader(),e()}))}),"page/customer/contacts_items_list_wrapper","#contacts-items-list-wrapper-template","#main-content-wrapper",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/customer/contacts_items_list_data","#contact-items-list-data-template","#contacts-items-list-wrapper",null)}),"page/customer/contacts_items_list_wrapper","#contacts-items-list-wrapper-template","#main-content-wrapper",null)}))}))}function processCustomerContactsItemsList(e,t){digibiz.contacts_items_list=removeDuplicates(digibiz.contacts_items_list.concat(e),"id");var i={contacts_items_list_data:digibiz.contacts_items_list};fetch.replaceHtml((function(e){e||t()}),"page/customer/contacts_items_list_data","#contact-items-list-data-template","#contacts-items-list-wrapper",i)}function getCustomerContactListPage(){return new Promise(((e,t)=>{getContactList({device_id:crossplat.device.uuid,id:sessionStorage.getItem("item_id")}).then((t=>{fetch.replaceHtml((function(){processCustomerContactList(t,(function(){removeLoader(),e()}))}),"page/customer/customer_contact_list_wrapper","#customer-contact-list-wrapper-template","#main-content-wrapper",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/customer/customer_contact_list_data","#customer-contact-list-data-template","#customer-contact-list-wrapper",null)}),"page/customer/customer_contact_list_wrapper","#customer-contact-list-wrapper-template","#main-content-wrapper",null)}))}))}function processCustomerContactList(e,t){digibiz.contacts_list=removeDuplicates(digibiz.contacts_list.concat(e),"id");var i={customer_contact_list_data:digibiz.contacts_list};fetch.replaceHtml((function(e){e||t()}),"page/customer/customer_contact_list_data","#customer-contact-list-data-template","#customer-contact-list-wrapper",i)}function getCustomerGroupsListPage(){return new Promise(((e,t)=>{if("custom"==sessionStorage.getItem("selected-customer-group-type-tab"))groupsList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),group_for:"customer",customer_group_type:"custom"}).then((t=>{fetch.replaceHtml((function(){processCustomerCustomGroupList(t,(function(){removeLoader(),e()}))}),"page/customer/customer_custom_groups_list_wrapper","#customer-custom-groups-list-wrapper-template","#main-content-wrapper",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/customer/customer_custom_groups_list_data","#customer-custom-groups-list-data-template","#customer-custom-groups-list-wrapper",null)}),"page/customer/customer_custom_groups_list_wrapper","#customer-custom-groups-list-wrapper-template","#main-content-wrapper",null)}));else if("standard"==sessionStorage.getItem("selected-customer-group-type-tab")){var i=sessionStorage.getItem("identifier_id");groupsList({device_id:crossplat.device.uuid,type:"customer",business_id:sessionStorage.getItem("business_id"),list_by:"primary_identifier",group_for:"customer",parent_customer_identifier_id:i}).then((t=>{fetch.replaceHtml((function(){processCustomerGroupList(t,(function(){removeLoader(),e()}))}),"page/customer/customer_groups_list_wrapper","#customer-groups-list-wrapper-template","#main-content-wrapper",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/customer/customer_groups_list_data","#customer-groups-list-data-template","#customer-groups-list-wrapper",null)}),"page/customer/customer_groups_list_wrapper","#customer-groups-list-wrapper-template","#main-content-wrapper",null)}))}}))}function processCustomerGroupList(e,t){digibiz.groups_list=removeDuplicates(digibiz.groups_list.concat(e),"id");var i={customer_groups_list_data:digibiz.groups_list.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image)if(e.group_image.hasOwnProperty("thumbnail")&&e.group_image.thumbnail){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/customer/customer_groups_list_data","#customer-groups-list-data-template","#customer-groups-list-wrapper",i)}function processCustomerCustomGroupList(e,t){digibiz.custom_groups_list=removeDuplicates(digibiz.custom_groups_list.concat(e),"id");var i={customer_custom_groups_list_data:digibiz.custom_groups_list.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image)if(e.group_image.hasOwnProperty("thumbnail")&&e.group_image.thumbnail){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};fetch.replaceHtml((function(e){e||(appScroll.scrollBar(".customer-custom-groups-list-contentbox"),t())}),"page/customer/customer_custom_groups_list_data","#customer-custom-groups-list-data-template","#customer-custom-groups-list-wrapper",i)}function listenForCustomerCustomGroupListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),groupsList({device_id:crossplat.device.uuid,type:"customer",business_id:sessionStorage.getItem("business_id"),list_by:"custom_groups",group_for:"customer",customer_group_type:"custom",offset:digibiz.custom_groups_list.length,count:5}).then((e=>{scrollProcessCustomerCustomGroupList(e,(function(){listenForCustomerCustomGroupListScrollEvent($(".customer-custom-groups-list-contentbox")),removeLoader()}))})).catch((e=>{})))}))}function scrollProcessCustomerCustomGroupList(e,t){digibiz.custom_groups_list=removeDuplicates(digibiz.custom_groups_list.concat(e),"id");var i={customer_custom_groups_list_data:e.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image)if(e.group_image.hasOwnProperty("thumbnail")&&e.group_image.thumbnail){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};fetch.appendHtml((function(e){e||t()}),"page/customer/scroll_customer_custom_groups_list_data","#scroll-customer-custom-groups-list-data-template","#customer-custom-groups-list-wrapper .os-content",i)}function customCustomerGroupsListPage(){return addLoader(),new Promise(((e,t)=>{var i={device_id:crossplat.device.uuid,type:"customer",business_id:sessionStorage.getItem("business_id"),list_by:"custom_groups",group_for:"customer",customer_group_type:"custom",offset:0,count:20};getGroupsCount({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"basic_customer_groups",type:"customer"}).then((t=>{$(".standard-customer-groups-count").text(t),getGroupsCount({device_id:crossplat.device.uuid,type:"customer",business_id:sessionStorage.getItem("business_id"),list_by:"custom_groups",group_for:"customer",customer_group_type:"custom"}).then((t=>{$(".custom-customer-groups-count").text(t),groupsList(i).then((t=>{fetch.replaceHtml((function(){processCustomerCustomGroupList(t,(function(){listenForCustomerCustomGroupListScrollEvent($(".customer-custom-groups-list-contentbox")),removeLoader(),e()}))}),"page/customer/customer_custom_groups_list_wrapper","#customer-custom-groups-list-wrapper-template","#custom-customer-group-type-data-container",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),appScroll.scrollBar(".customer-custom-groups-list-contentbox"),e())}),"page/customer/customer_custom_groups_list_data","#customer-custom-groups-list-data-template","#customer-custom-groups-list-wrapper",null)}),"page/customer/customer_custom_groups_list_wrapper","#customer-custom-groups-list-wrapper-template","#custom-customer-group-type-data-container",null)}))})).catch((e=>{console.log("err",e)}))})).catch((e=>{console.log("err",e)}))}))}function getCustomerGroupsDetailPage(){return new Promise(((e,t)=>{if(void 0===sessionStorage.getItem("group_id")||null===sessionStorage.getItem("group_id")||""==sessionStorage.getItem("group_id")){fetch.replaceHtml((function(){removeLoader(),console.log("Raja 1"),e()}),"page/customer/customer_group_details_page","#customer-group-details-template","#main-content-wrapper",{group_type:"custom"})}else{if("standard"==sessionStorage.getItem("group_type")||"primary_associate_customers"==sessionStorage.getItem("group_type")||"primary_customers"==sessionStorage.getItem("group_type"))customerIdentifierList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"primary_customer"}).then((t=>{groupGet({device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id")}).then((i=>{if(i.hasOwnProperty("group_image")&&i.group_image)if(i.group_image.hasOwnProperty("thumbnail")&&i.group_image.thumbnail){var a=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${i.id}&image_id=${i.group_image.thumbnail}`;i.group_image.avtarUrl=a,i.imageLetter=i.name.charAt(0)}else i.imageLetter=i.name.charAt(0);else i.imageLetter=i.name.charAt(0);var o={group_data:i,label_name:t[0].identifier.trim()};fetch.replaceHtml((function(t){t||(removeLoader(),console.log("Raja 2"),e())}),"page/customer/customer_group_details_page","#customer-group-details-template","#main-content-wrapper",o)})).catch((t=>{removeLoader(),e()}))})).catch((t=>{removeLoader(),e()}));else if("custom"==sessionStorage.getItem("group_type")){if("contact_list"==sessionStorage.getItem("group_from"))groupGet({device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id")}).then((t=>{if(t.hasOwnProperty("group_image")&&t.group_image)if(t.group_image.hasOwnProperty("thumbnail")&&t.group_image.thumbnail){var i=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${t.id}&image_id=${t.group_image.thumbnail}`;t.group_image.avtarUrl=i,t.imageLetter=t.name.charAt(0)}else t.imageLetter=t.name.charAt(0);else t.imageLetter=t.name.charAt(0);getGroupMembers({device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id"),count:5,offset:0}).then((i=>{var a=i.membersList;digibiz.customer_group_members_list=[],digibiz.customer_group_members_list=a;var o={group_data:t,membersCount:i.membersCount,group_members_data:a.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture){var t=`${api.get_customer_thumbnail}?id=${e.member.customer_id}&device_id=${crossplat.device.uuid}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else e.imageLetter=e.member_name.first.charAt(0);return e}))};fetch.replaceHtml((function(t){t||($("#modal-employee-selection").remove(),appScroll.scrollBar("#main-container"),appScroll.scrollBar("#customer-group-members-list"),listenForCustomerGroupContactsMembersList($("#customer-group-members-list")),removeLoader(),console.log("Raja 3"),e())}),"page/customer/customer_group_details_page","#customer-group-details-template","#main-content-wrapper",o)})).catch((i=>{var a={group_data:t};fetch.replaceHtml((function(t){t||($("#modal-employee-selection").remove(),removeLoader(),console.log("Raja 4"),e())}),"page/customer/customer_group_details_page","#customer-group-details-template","#main-content-wrapper",a)}))})).catch((t=>{removeLoader(),e()}));else if("group_list"==sessionStorage.getItem("group_from")){groupGet({device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id")}).then((t=>{if(console.log("employeeGroupGet response",t),t.hasOwnProperty("group_image")&&t.group_image)if(t.group_image.hasOwnProperty("thumbnail")&&t.group_image.thumbnail){var i=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${t.id}&image_id=${t.group_image.thumbnail}`;t.group_image.avtarUrl=i}else t.imageLetter=t.name.charAt(0);else t.imageLetter=t.name.charAt(0);var a={group_data:t,group_members_data:t.customer_data.map((e=>(e.imageLetter=e.name.charAt(0),e)))};digibiz.customer_group_members_list=t.customer_data,console.log("groupData",a),fetch.replaceHtml((function(t){t||(removeLoader(),appScroll.scrollBar("#main-container"),appScroll.scrollBar("#customer-group-members-list"),listenForCustomerGroupGroupMembersList($("#customer-group-members-list")),e())}),"page/customer/customer_group_details_page","#customer-group-details-template","#main-content-wrapper",a)})).catch((t=>{console.log("error in employee group get",t),removeLoader(),e()}))}}}}))}function validateCustomerGroup(){let e=!1,t=!1,i=!1,a=!1;var o=$("#customerGroupName").val();o.length>0?(o.length<config.EmployeeGroupNameMinLength&&(showError($("#customerGroupName"),`This field should contain atleast ${config.EmployeeGroupNameMinLength} characters.`),e=!0),o.length>config.EmployeeGroupNameMaxLength&&(showError($("#customerGroupName"),`This field can't have more than  ${config.EmployeeGroupNameMaxLength} characters.`),e=!0),o.length>=config.EmployeeGroupNameMinLength&&o.length<=config.EmployeeGroupNameMaxLength&&(e=!1)):(showError($("#customerGroupName"),"This field is required."),e=!0);var s=$("#customer_group_desc").val();return s.length>0?(s.length<config.EmployeeGroupDescriptionMinLength&&(showError($("#customer_group_desc"),`This field should contain atleast ${config.EmployeeGroupDescriptionMinLength} characters.`),t=!0),s.length>config.EmployeeGroupDescriptionMaxLength&&(showError($("#customer_group_desc"),`This field can't have more than  ${config.EmployeeGroupDescriptionMaxLength} characters.`),t=!0),s.length>=config.EmployeeGroupDescriptionMinLength&&s.length<=config.EmployeeGroupDescriptionMaxLength&&(t=!1)):t=!1,$(".selected-value-group-visbility").attr("data-value").length>0?i=!1:(showError($("#select-visibility-type"),"This field is required."),i=!0),"custom"==sessionStorage.getItem("group_type")?sessionStorage.getItem("group_id")||(sessionStorage.getItem("group_from")?("contact_list"==sessionStorage.getItem("group_from")||"group_list"==sessionStorage.getItem("group_from"))&&($("input[name='selectedmembers[]']:checked").length>0?$("input[name='selectedmembers[]']:checked").length>1?a=!1:(Materialize.toast("Minimum 2 group members are required.",3e3,"round success-alert"),a=!0):(Materialize.toast("Please add group members",3e3,"round success-alert"),a=!0)):(Materialize.toast("Please add group members",3e3,"round success-alert"),a=!0)):a=!1,!(e||t||i||a)}function getBusinessNotificationsPage(){return new Promise(((e,t)=>{addLoader(),businessNotificationList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"my_business_notifications",sort_by:"contacts",count:20,offset:0}).then((t=>{processBusinessNotificationsList(t,(function(){appScroll.scrollBar(".business-notifications-list-contentbox"),listenForBusinessNotificationsListScrollEvent($(".business-notifications-list-contentbox")),removeLoader(),e()}))})).catch((t=>{fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/business/business_notifications_data","#business-notifications-data-list-template","#business-notifications-list-wrapper",null)}))}))}function processBusinessNotificationsList(e,t){digibiz.business_notifications=removeDuplicates(digibiz.business_notifications.concat(e),"id");var i={business_notification_list_data:digibiz.business_notifications.map((e=>{if(e.hasOwnProperty("display_picture")&&e.display_picture)if(e.display_picture.hasOwnProperty("thumbnail")&&e.display_picture.thumbnail){var t=`${api.get_business_multimedia}?business_id=${e.id}&device_id=${crossplat.device.uuid}&image_id=${e.display_picture.thumbnail}`;e.display_picture.avtarUrl=t,e.imageLetter=e.business_name.charAt(0)}else e.imageLetter=e.business_name.charAt(0);else e.imageLetter=e.business_name.charAt(0);return"number"==typeof e.expiryDate&&(e.expiryDate=moment.unix(e.expiryDate).format("MMM D YYYY hh:mm:ss A")),e}))};fetch.replaceHtml((function(e){e||t()}),"page/business/business_notifications_data","#business-notifications-data-list-template","#business-notifications-list-wrapper",i)}function listenForBusinessNotificationsListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),addLoader(),businessNotificationList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"my_business_notifications",sort_by:"contacts",count:20,offset:digibiz.business_notifications.length}).then((e=>{removeLoader(),scrollProcessBusinessNotificationsList(e,(function(){listenForBusinessNotificationsListScrollEvent($(".business-notifications-list-contentbox"))}))})).catch((e=>{fetch.appendHtml((function(e){e||removeLoader()}),"page/business/scroll_business_notifications_data","#scroll-business-notifications-data-list-template","#business-notifications-list-wrapper .os-content",null)})))}))}function scrollProcessBusinessNotificationsList(e,t){digibiz.business_notifications=removeDuplicates(digibiz.business_notifications.concat(e),"id");var i={business_notification_list_data:e.map((e=>{if(e.hasOwnProperty("display_picture")&&e.display_picture)if(e.display_picture.hasOwnProperty("thumbnail")&&e.display_picture.thumbnail){var t=`${api.get_business_multimedia}?business_id=${e.id}&device_id=${crossplat.device.uuid}&image_id=${e.display_picture.thumbnail}`;e.display_picture.avtarUrl=t,e.imageLetter=e.business_name.charAt(0)}else e.imageLetter=e.business_name.charAt(0);else e.imageLetter=e.business_name.charAt(0);return"number"==typeof e.expiryDate&&(e.expiryDate=moment.unix(e.expiryDate).format("MMM D YYYY hh:mm:ss A")),e}))};fetch.appendHtml((function(e){e||t()}),"page/business/scroll_business_notifications_data","#scroll-business-notifications-data-list-template","#business-notifications-list-wrapper .os-content",i)}function getGroupBusinessNotificationsPage(){return new Promise(((e,t)=>{addLoader(),businessNotificationList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"my_business_notifications",sort_by:"groups",count:20,offset:0}).then((t=>{processGroupsBusinessNotificationsList(t,(function(){appScroll.scrollBar(".business-notifications-list-contentbox"),listenForGroupsBusinessNotificationsListScrollEvent($(".business-notifications-list-contentbox")),removeLoader(),e()}))})).catch((t=>{fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/business/business_notifications_data","#business-notifications-data-list-template","#business-notifications-list-wrapper",null)}))}))}function processGroupsBusinessNotificationsList(e,t){digibiz.group_business_notifications=removeDuplicates(digibiz.group_business_notifications.concat(e),"id");var i={business_notification_list_data:digibiz.group_business_notifications.map((e=>{if(e.hasOwnProperty("display_picture")&&e.display_picture)if(e.display_picture.hasOwnProperty("thumbnail")&&e.display_picture.thumbnail){var t=`${api.get_business_multimedia}?business_id=${e.id}&device_id=${crossplat.device.uuid}&image_id=${e.display_picture.thumbnail}`;e.display_picture.avtarUrl=t,e.imageLetter=e.business_name.charAt(0)}else e.imageLetter=e.business_name.charAt(0);else e.imageLetter=e.business_name.charAt(0);return"number"==typeof e.expiryDate&&(e.expiryDate=moment.unix(e.expiryDate).format("MMM D YYYY hh:mm:ss A")),e}))};fetch.replaceHtml((function(e){e||t()}),"page/business/group_business_notifications_data","#group-business-notifications-data-list-template","#group-business-notifications-list-wrapper",i)}function listenForGroupsBusinessNotificationsListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),addLoader(),businessNotificationList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"my_business_notifications",sort_by:"groups",count:20,offset:digibiz.group_business_notifications.length}).then((e=>{removeLoader(),scrollProcessGroupsBusinessNotificationsList(e,(function(){listenForGroupsBusinessNotificationsListScrollEvent($(".business-notifications-list-contentbox"))}))})).catch((e=>{fetch.appendHtml((function(e){e||removeLoader()}),"page/business/scroll_group_business_notifications_data","#scroll-group-business-notifications-data-list-template","#group-business-notifications-list-wrapper .os-content",null)})))}))}function scrollProcessGroupsBusinessNotificationsList(e,t){digibiz.group_business_notifications=removeDuplicates(digibiz.group_business_notifications.concat(e),"id");var i={business_notification_list_data:e.map((e=>{if(e.hasOwnProperty("display_picture")&&e.display_picture)if(e.display_picture.hasOwnProperty("thumbnail")&&e.display_picture.thumbnail){var t=`${api.get_business_multimedia}?business_id=${e.id}&device_id=${crossplat.device.uuid}&image_id=${e.display_picture.thumbnail}`;e.display_picture.avtarUrl=t,e.imageLetter=e.business_name.charAt(0)}else e.imageLetter=e.business_name.charAt(0);else e.imageLetter=e.business_name.charAt(0);return"number"==typeof e.expiryDate&&(e.expiryDate=moment.unix(e.expiryDate).format("MMM D YYYY hh:mm:ss A")),e}))};fetch.appendHtml((function(e){e||t()}),"page/business/scroll_group_business_notifications_data","#scroll-group-business-notifications-data-list-template","#group-business-notifications-list-wrapper .os-content",i)}function collaboratorHubPage(){return new Promise(((e,t)=>{fetch.replaceHtml((function(){removeLoader();new Swiper(".hubSwiper",{slidesPerView:1,spaceBetween:0,grabCursor:!0,observer:!0,pagination:{el:".swiper-pagination",clickable:!0}});$(".swiper").removeClass("hubSwiper"),e()}),"page/collaborator/collaborator_management_hub","#collaborator-management-land-page","#main-content-wrapper",null)}))}function activeCollaboratorContactListPage(){return new Promise(((e,t)=>{var i={device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"my_collaborators",count:15,offset:0};collaboratorCount(i).then((t=>{$(".collaborator-active-count").text(`${t}`),pendingCollaboratorCount({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"my_pending_collaborator_contact_list_notifications"}).then((t=>{$(".pending-collaborator-count").text(`${t}`),collaboratorList(i).then((t=>{fetch.replaceHtml((function(){processActiveCollaboratorContactList(t,(function(){appScroll.scrollBar(".collaborator-contact-list-contentbox"),listenForActiveCollaboratorContactListScrollEvent($(".collaborator-contact-list-contentbox")),removeLoader(),e()}))}),"page/collaborator/collaborator_contact_list_wrapper","#collaborator-contact-list-wrapper-template","#active-collaborator-list-data-container",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/collaborator/collaborator_contact_list_data","#collaborator-contact-list-data-template","#collaborator-contact-list-wrapper",null)}),"page/collaborator/collaborator_contact_list_wrapper","#collaborator-contact-list-wrapper-template","#active-collaborator-list-data-container",null)}))})).catch((e=>{console.log("err",e)}))})).catch((e=>{console.log("err",e)}))}))}function processActiveCollaboratorContactList(e,t){digibiz.collaborator_contact_list=removeDuplicates(digibiz.collaborator_contact_list.concat(e),"id");var i={collaborator_contact_list_data:digibiz.collaborator_contact_list.map((e=>{if(e.hasOwnProperty("business_display_picture")&&e.business_display_picture)if(e.business_display_picture.hasOwnProperty("thumbnail")&&e.business_display_picture.thumbnail){var t=`${api.get_business_multimedia}?business_id=${e.business_id}&device_id=${crossplat.device.uuid}&image_id=${e.business_display_picture.thumbnail}`;e.business_display_picture.avtarUrl=t,e.imageLetter=e.business_name.charAt(0)}else e.imageLetter=e.business_name.charAt(0);else e.imageLetter=e.business_name.charAt(0);return e}))};fetch.replaceHtml((function(e){e||(t(),appScroll.scrollBar(".collaborator-contact-list-contentbox"))}),"page/collaborator/collaborator_contact_list_data","#collaborator-contact-list-data-template","#collaborator-contact-list-wrapper",i)}function listenForActiveCollaboratorContactListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),addLoader(),collaboratorList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"my_collaborators",count:5,offset:digibiz.collaborator_contact_list.length}).then((e=>{removeLoader(),scrollProcessActiveCollaboratorContactList(e,(function(){listenForActiveCollaboratorContactListScrollEvent($(".collaborator-contact-list-contentbox")),removeLoader()}))})).catch((e=>{fetch.appendHtml((function(e){e||removeLoader()}),"page/collaborator/scroll_collaborator_contact_list_data","#scroll-collaborator-contact-list-data-template","#collaborator-contact-list-wrapper .os-content",null)})))}))}function scrollProcessActiveCollaboratorContactList(e,t){digibiz.collaborator_contact_list=removeDuplicates(digibiz.collaborator_contact_list.concat(e),"id");var i={collaborator_contact_list_data:e.map((e=>{if(e.hasOwnProperty("business_display_picture")&&e.business_display_picture)if(e.business_display_picture.hasOwnProperty("thumbnail")&&e.business_display_picture.thumbnail){var t=`${api.get_business_multimedia}?business_id=${e.business_id}&device_id=${crossplat.device.uuid}&image_id=${e.business_display_picture.thumbnail}`;e.business_display_picture.avtarUrl=t,e.imageLetter=e.business_name.charAt(0)}else e.imageLetter=e.business_name.charAt(0);else e.imageLetter=e.business_name.charAt(0);return e}))};fetch.appendHtml((function(e){e||t()}),"page/collaborator/scroll_collaborator_contact_list_data","#scroll-collaborator-contact-list-data-template","#collaborator-contact-list-wrapper .os-content",i)}function pendingCollaboratorContactListPage(){return new Promise(((e,t)=>{var i={device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"my_pending_collaborator_contact_list_notifications",count:15,offset:0};collaboratorCount({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"my_collaborators"}).then((t=>{$(".collaborator-active-count").text(`${t}`),pendingCollaboratorCount(i).then((t=>{$(".pending-collaborator-count").text(`${t}`),businessNotificationList(i).then((t=>{fetch.replaceHtml((function(){processPendingCollaboratorContactList(t,(function(){removeLoader(),e()}))}),"page/collaborator/pending_collaborator_contact_list_wrapper","#pending-collaborator-contact-list-wrapper-template","#pending-collaborator-list-data-container",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/collaborator/pending_collaborator_contact_list_data","#pending-collaborator-contact-list-data-template","#pending-collaborator-contact-list-wrapper",null)}),"page/collaborator/pending_collaborator_contact_list_wrapper","#pending-collaborator-contact-list-wrapper-template","#pending-collaborator-list-data-container",null)}))})).catch((e=>{console.log("err",e)}))})).catch((e=>{console.log("err",e)}))}))}function processPendingCollaboratorContactList(e,t){digibiz.pending_collaborator_contact_list=removeDuplicates(digibiz.pending_collaborator_contact_list.concat(e),"id");var i={pending_collaborator_contact_list_data:digibiz.pending_collaborator_contact_list.map((e=>{if(e.hasOwnProperty("display_picture")&&e.display_picture)if(e.display_picture.hasOwnProperty("thumbnail")&&e.display_picture.thumbnail){var t=`${api.get_business_multimedia}?business_id=${e.contact.business_id}&device_id=${crossplat.device.uuid}&image_id=${e.display_picture.thumbnail}`;e.display_picture.avtarUrl=t,e.imageLetter=e.business_name.charAt(0)}else e.imageLetter=e.business_name.charAt(0);else e.imageLetter=e.business_name.charAt(0);return"number"==typeof e.createdDate&&(e.createdDate=moment.unix(e.createdDate).format("MMM D YYYY hh:mm:ss A")),"number"==typeof e.updatedDate&&(e.updatedDate=moment.unix(e.updatedDate).format("MMM D YYYY hh:mm:ss A")),"number"==typeof e.expiryDate&&(e.expiryDate=moment.unix(e.expiryDate).format("MMM D YYYY hh:mm:ss A")),e}))};fetch.replaceHtml((function(e){e||(appScroll.scrollBar(".pending-collaborator-contact-list-contentbox"),t())}),"page/collaborator/pending_collaborator_contact_list_data","#pending-collaborator-contact-list-data-template","#pending-collaborator-contact-list-wrapper",i)}function getCollaboratorContactListNotificationDetailsPage(){return new Promise(((e,t)=>{businessNotificationList({device_id:crossplat.device.uuid,list_by:"collaborator_contact_list_notifications_details",collaborator_business_id:sessionStorage.getItem("collaborator_business_id"),business_id:sessionStorage.getItem("business_id")}).then((t=>{fetch.replaceHtml((function(){processCollaboratorContactListNotificationDetails(t,(function(){removeLoader(),e()}))}),"page/collaborator/collaborator_contact_list_notifications_details_wrapper","#collaborator-contact-list-notification-details-wrapper-template","#main-content-wrapper",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/collaborator/collaborator_contact_list_notifications_details_data","#collaborator-contact-list-notification-details-data-template","#collaborator-contact-list-notification-details-list-wrapper",null)}),"page/collaborator/collaborator_contact_list_notifications_details_wrapper","#collaborator-contact-list-notification-details-wrapper-template","#main-content-wrapper",null)}))}))}function processCollaboratorContactListNotificationDetails(e,t){digibiz.collaborator_contact_list_notification_details=removeDuplicates(digibiz.collaborator_contact_list_notification_details.concat(e.notifications_data),"id");var i={collaborator_contact_list_notification_details:digibiz.collaborator_contact_list_notification_details.map((e=>("number"==typeof e.createdDate&&(e.createdDate=moment.unix(e.createdDate).format("MMM D YYYY hh:mm:ss A")),"number"==typeof e.updatedDate&&(e.updatedDate=moment.unix(e.updatedDate).format("MMM D YYYY hh:mm:ss A")),"number"==typeof e.expiryDate&&(e.expiryDate=moment.unix(e.expiryDate).format("MMM D YYYY hh:mm:ss A")),e)))};fetch.replaceHtml((function(i){i||("active"==e.last_notification.status.status&&("rejected"!=e.last_notification.contact.status.status&&"expired"!=e.last_notification.contact.status.status||$(".fixed-action-btn").removeClass("hide")),t())}),"page/collaborator/collaborator_contact_list_notifications_details_data","#collaborator-contact-list-notification-details-data-template","#collaborator-contact-list-notification-details-list-wrapper",i)}function aluminiCollaboratorContactListPage(){return new Promise(((e,t)=>{collaboratorList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"alumini_collaborators",count:15,offset:0}).then((t=>{fetch.replaceHtml((function(){processAluminiCollaboratorContactList(t,(function(){appScroll.scrollBar(".collaborator-contact-list-contentbox"),listenForAluminiCollaboratorContactListScrollEvent($(".collaborator-contact-list-contentbox")),removeLoader(),e()}))}),"page/collaborator/alumini_collaborator_contact_list_wrapper","#alumini-collaborator-contact-list-wrapper-template","#alumini-collaborator-list-data-container",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/collaborator/alumini_collaborator_contact_list_data","#alumini-collaborator-contact-list-data-template","#alumini-collaborator-contact-list-wrapper",null)}),"page/collaborator/alumini_collaborator_contact_list_wrapper","#alumini-collaborator-contact-list-wrapper-template","#alumini-collaborator-list-data-container",null)}))}))}function processAluminiCollaboratorContactList(e,t){digibiz.alumini_collaborator_contact_list=removeDuplicates(digibiz.alumini_collaborator_contact_list.concat(e),"id");var i={collaborator_contact_list_data:digibiz.alumini_collaborator_contact_list.map((e=>{if(e.hasOwnProperty("business_display_picture")&&e.business_display_picture)if(e.business_display_picture.hasOwnProperty("thumbnail")&&e.business_display_picture.thumbnail){var t=`${api.get_business_multimedia}?business_id=${e.business_id}&device_id=${crossplat.device.uuid}&image_id=${e.business_display_picture.thumbnail}`;e.business_display_picture.avtarUrl=t,e.imageLetter=e.business_name.charAt(0)}else e.imageLetter=e.business_name.charAt(0);else e.imageLetter=e.business_name.charAt(0);return"number"==typeof e.updatedDate&&(e.updatedDate=moment.unix(e.updatedDate).format("MMM D YYYY hh:mm:ss A")),e}))};fetch.replaceHtml((function(e){e||(t(),appScroll.scrollBar(".collaborator-contact-list-contentbox"))}),"page/collaborator/alumini_collaborator_contact_list_data","#alumini-collaborator-contact-list-data-template","#alumini-collaborator-contact-list-wrapper",i)}function listenForAluminiCollaboratorContactListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),addLoader(),collaboratorList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"alumini_collaborators",count:5,offset:digibiz.alumini_collaborator_contact_list.length}).then((e=>{removeLoader(),scrollProcessAluminiCollaboratorContactList(e,(function(){listenForAluminiCollaboratorContactListScrollEvent($(".collaborator-contact-list-contentbox")),removeLoader()}))})).catch((e=>{fetch.appendHtml((function(e){e||removeLoader()}),"page/collaborator/scroll_alumini_collaborator_contact_list_data","#scroll-alumini-collaborator-contact-list-data-template","#alumini-collaborator-contact-list-wrapper .os-content",null)})))}))}function scrollProcessAluminiCollaboratorContactList(e,t){digibiz.alumini_collaborator_contact_list=removeDuplicates(digibiz.alumini_collaborator_contact_list.concat(e),"id");var i={collaborator_contact_list_data:e.map((e=>{if(e.hasOwnProperty("business_display_picture")&&e.business_display_picture)if(e.business_display_picture.hasOwnProperty("thumbnail")&&e.business_display_picture.thumbnail){var t=`${api.get_business_multimedia}?business_id=${e.business_id}&device_id=${crossplat.device.uuid}&image_id=${e.business_display_picture.thumbnail}`;e.business_display_picture.avtarUrl=t,e.imageLetter=e.business_name.charAt(0)}else e.imageLetter=e.business_name.charAt(0);else e.imageLetter=e.business_name.charAt(0);return"number"==typeof e.updatedDate&&(e.updatedDate=moment.unix(e.updatedDate).format("MMM D YYYY hh:mm:ss A")),e}))};fetch.appendHtml((function(e){e||t()}),"page/collaborator/scroll_alumini_collaborator_contact_list_data","#scroll-alumini-collaborator-contact-list-data-template","#alumini-collaborator-contact-list-wrapper .os-content",i)}function getCollaboratorGroupsListPage(){return new Promise(((e,t)=>{var i={device_id:crossplat.device.uuid,type:"collaborator",list_by:"business_collaborator_groups_page",business_id:sessionStorage.getItem("business_id"),count:15,offset:0};getCollaboratorGroupsCount(i).then((t=>{$(".collaborator-groups-count").text(t),getCollaboratorGroupsCount({device_id:crossplat.device.uuid,type:"collaborator",list_by:"business_other_collaborator_groups_page",business_id:sessionStorage.getItem("business_id")}).then((t=>{$(".other-collaborator-groups-count").text(t),collaboratorGroupsList(i).then((t=>{fetch.replaceHtml((function(){processCollaboratorGroupsList(t,(function(){appScroll.scrollBar(".collaborator-groups-list-contentbox"),listenForCollaboratorGroupsListScrollEvent($(".collaborator-groups-list-contentbox")),removeLoader(),e()}))}),"page/collaborator/group_list_wrapper","#collaborator-groups-list-wrapper-template","#my-collaborator-group-list-data-container",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/collaborator/group_list_data","#collaborator-groups-list-data-template","#collaborator-groups-list-list-wrapper",null)}),"page/collaborator/group_list_wrapper","#collaborator-groups-list-wrapper-template","#my-collaborator-group-list-data-container",null)}))})).catch((e=>{console.log("err",e)}))})).catch((e=>{console.log("err",e)}))}))}function processCollaboratorGroupsList(e,t){digibiz.collaborator_groups_list=removeDuplicates(digibiz.collaborator_groups_list.concat(e),"id");var i={collaborator_groups_list:digibiz.collaborator_groups_list.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image)if(e.group_image.hasOwnProperty("thumbnail")&&e.group_image.thumbnail){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/collaborator/group_list_data","#collaborator-groups-list-data-template","#collaborator-groups-list-list-wrapper",i)}function listenForCollaboratorGroupsListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),collaboratorGroupsList({device_id:crossplat.device.uuid,type:"collaborator",list_by:"business_collaborator_groups_page",business_id:sessionStorage.getItem("business_id"),count:5,offset:digibiz.collaborator_groups_list.length}).then((e=>{scrollProcessCollaboratorGroupsList(e,(function(){listenForCollaboratorGroupsListScrollEvent($(".collaborator-groups-list-contentbox")),removeLoader()}))})).catch((e=>{removeLoader()})))}))}function scrollProcessCollaboratorGroupsList(e,t){digibiz.collaborator_groups_list=removeDuplicates(digibiz.collaborator_groups_list.concat(e),"id");var i={collaborator_groups_list:e.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image)if(e.group_image.hasOwnProperty("thumbnail")&&e.group_image.thumbnail){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};fetch.appendHtml((function(e){e||t()}),"page/collaborator/scroll_group_list_data","#scroll-collaborator-groups-list-data-template","#collaborator-groups-list-list-wrapper .os-content",i)}function getOtherCollaboratorGroupsListPage(){return new Promise(((e,t)=>{var i={device_id:crossplat.device.uuid,type:"collaborator",list_by:"business_other_collaborator_groups_page",business_id:sessionStorage.getItem("business_id"),count:15,offset:0};getCollaboratorGroupsCount(i).then((t=>{$(".other-collaborator-groups-count").text(t),getCollaboratorGroupsCount({device_id:crossplat.device.uuid,type:"collaborator",list_by:"business_collaborator_groups_page",business_id:sessionStorage.getItem("business_id")}).then((t=>{$(".collaborator-groups-count").text(t),collaboratorGroupsList(i).then((t=>{console.log("collaboratorsGroupsList response",t),fetch.replaceHtml((function(){processOtherCollaboratorGroupsList(t,(function(){appScroll.scrollBar(".collaborator-groups-list-main-container"),listenForOtherCollaboratorGroupsListScrollEvent($(".collaborator-groups-list-main-container")),removeLoader(),e()}))}),"page/collaborator/other_collaborator_group_list_wrapper","#other-collaborator-groups-list-wrapper-template","#other-collaborator-group-list-data-container",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/collaborator/group_list_data","#collaborator-groups-list-data-template","#collaborator-groups-list-list-wrapper",null)}),"page/collaborator/group_list_wrapper","#collaborator-groups-list-wrapper-template","#my-collaborator-group-list-data-container",null)}))})).catch((e=>{console.log("err",e)}))})).catch((e=>{console.log("err",e)}))}))}function processOtherCollaboratorGroupsList(e,t){digibiz.other_collaborator_groups_list=removeDuplicates(digibiz.other_collaborator_groups_list.concat(e),"id");var i={collaborator_groups_list:digibiz.other_collaborator_groups_list.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image)if(e.group_image.hasOwnProperty("thumbnail")&&e.group_image.thumbnail){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/collaborator/other_group_list_data","#other-collaborator-groups-list-data-template","#other-collaborator-groups-list-list-wrapper",i)}function listenForOtherCollaboratorGroupsListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),collaboratorGroupsList({device_id:crossplat.device.uuid,type:"collaborator",list_by:"business_other_collaborator_groups_page",business_id:sessionStorage.getItem("business_id"),count:5,offset:digibiz.other_collaborator_groups_list.length}).then((e=>{scrollProcessOtherCollaboratorGroupsList(e,(function(){listenForOtherCollaboratorGroupsListScrollEvent($(".collaborator-groups-list-main-container")),removeLoader()}))})).catch((e=>{removeLoader()})))}))}function scrollProcessOtherCollaboratorGroupsList(e,t){digibiz.other_collaborator_groups_list=removeDuplicates(digibiz.other_collaborator_groups_list.concat(e),"id");var i={collaborator_groups_list:e.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image)if(e.group_image.hasOwnProperty("thumbnail")&&e.group_image.thumbnail){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};console.log("collaboratorGroupsList",i),fetch.appendHtml((function(e){e||t()}),"page/collaborator/scroll_other_group_list_data","#scroll-other-collaborator-groups-list-data-template","#other-collaborator-groups-list-list-wrapper",i)}function getAluminiCollaboratorGroupsListPage(){return new Promise(((e,t)=>{collaboratorGroupsList({device_id:crossplat.device.uuid,type:"collaborator",list_by:"business_alumini_collaborator_groups_page",business_id:sessionStorage.getItem("business_id"),count:15,offset:0}).then((t=>{console.log("collaboratorsGroupsList response",t),fetch.replaceHtml((function(){processAluminiCollaboratorGroupsList(t,(function(){appScroll.scrollBar(".collaborator-groups-list-main-container"),listenForAluminiCollaboratorGroupsListScrollEvent($(".collaborator-groups-list-main-container")),removeLoader(),e()}))}),"page/collaborator/alumini_collaborator_group_list_wrapper","#alumini-collaborator-groups-list-wrapper-template","#alumini-collaborator-group-list-data-container",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/collaborator/alumini_group_list_data","#alumini-collaborator-groups-list-data-template","#alumini-collaborator-groups-list-list-wrapper",null)}),"page/collaborator/alumini_collaborator_group_list_wrapper","#alumini-collaborator-groups-list-wrapper-template","#alumini-collaborator-group-list-data-container",null)}))}))}function processAluminiCollaboratorGroupsList(e,t){digibiz.alumini_collaborator_groups_list=removeDuplicates(digibiz.alumini_collaborator_groups_list.concat(e),"id");var i={collaborator_groups_list:digibiz.alumini_collaborator_groups_list.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image)if(e.group_image.hasOwnProperty("thumbnail")&&e.group_image.thumbnail){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return"number"==typeof e.updatedDate&&(e.updatedDate=moment.unix(e.updatedDate).format("MMM D YYYY hh:mm:ss A")),e}))};fetch.replaceHtml((function(e){e||t()}),"page/collaborator/alumini_group_list_data","#alumini-collaborator-groups-list-data-template","#alumini-collaborator-groups-list-list-wrapper",i)}function listenForAluminiCollaboratorGroupsListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),collaboratorGroupsList({device_id:crossplat.device.uuid,type:"collaborator",list_by:"business_alumini_collaborator_groups_page",business_id:sessionStorage.getItem("business_id"),count:5,offset:digibiz.alumini_collaborator_groups_list.length}).then((e=>{scrollProcessAluminiCollaboratorGroupsList(e,(function(){listenForAluminiCollaboratorGroupsListScrollEvent($(".collaborator-groups-list-main-container")),removeLoader()}))})).catch((e=>{removeLoader(),fetch.appendHtml((function(e){e||callback()}),"page/collaborator/scroll_alumini_group_list_data","#scroll-alumini-collaborator-groups-list-data-template","#alumini-collaborator-groups-list-list-wrapper",null)})))}))}function scrollProcessAluminiCollaboratorGroupsList(e,t){digibiz.alumini_collaborator_groups_list=removeDuplicates(digibiz.alumini_collaborator_groups_list.concat(e),"id");var i={collaborator_groups_list:e.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image)if(e.group_image.hasOwnProperty("thumbnail")&&e.group_image.thumbnail){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};console.log("collaboratorGroupsList",i),fetch.appendHtml((function(e){e||t()}),"page/collaborator/scroll_alumini_group_list_data","#scroll-alumini-collaborator-groups-list-data-template","#alumini-collaborator-groups-list-list-wrapper",i)}function getCollaboratorGroupCreatePage(){return new Promise(((e,t)=>{fetch.replaceHtml((function(t){t||(removeLoader(),appScroll.scrollBar("#main-container"),e())}),"page/collaborator/group_create","#collaborator-group-creation-template","#main-content-wrapper",null)}))}function getCollaboratorGroupDetailsPage(){return new Promise(((e,t)=>{groupGet({device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id")}).then((t=>{if(t.hasOwnProperty("group_image")&&t.group_image)if(t.group_image.hasOwnProperty("thumbnail")&&t.group_image.thumbnail){var i=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${t.id}&image_id=${t.group_image.thumbnail}`;t.group_image.avtarUrl=i,t.imageLetter=t.name.charAt(0)}else t.imageLetter=t.name.charAt(0);else t.imageLetter=t.name.charAt(0);var a={device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id"),count:5,offset:0};groupMemberList(a).then((i=>{getGroupMembersCount(a).then((a=>{getGroupModeratorList({device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id"),count:5,offset:0}).then((o=>{digibiz.group_moderator_list=[],digibiz.group_moderator_list=o.moderator,digibiz.collaborator_group_members_list=[],digibiz.collaborator_group_members_list=i;var s={},r=i.find((e=>e.member.business_id==t.owner.business_id));null!=r&&(s=r);var n={myGroup:t.owner.business_id==sessionStorage.getItem("business_id")?"true":"false",group_data:t,membersCount:a,totalMembersCount:i[0].totalCount,group_creator_business_data:s,group_members_data:i.map((e=>{if("business"==e.type)if(e.hasOwnProperty("display_picture")&&e.display_picture)if(e.display_picture.hasOwnProperty("thumbnail")&&e.display_picture.thumbnail){var t=`${api.get_business_multimedia}?business_id=${e.member.business_id}&device_id=${crossplat.device.uuid}&image_id=${e.display_picture.thumbnail}`;e.display_picture.avtarUrl=t,e.imageLetter=e.business_name.charAt(0)}else e.imageLetter=e.business_name.charAt(0);else e.imageLetter=e.business_name.charAt(0);return e}))};fetch.replaceHtml((function(t){t||(removeLoader(),appScroll.scrollBar("#main-container"),appScroll.scrollBar("#collaborator-group-members-list"),listenForCollaboratorGroupMembersListScrollEvent($("#collaborator-group-members-list")),processGroupModeratorList(digibiz.group_moderator_list,(function(){appScroll.scrollBar("#collaborator-group-moderator-list"),listentForCommunicationGroupModeratorList($("#communication-group-moderator-members-list"))})),e())}),"page/collaborator/collaborator_group_details_page","#collaborator-group-details-template","#main-content-wrapper",n)})).catch((e=>{console.log("err",e)}))})).catch((e=>{console.log("err",e)}))})).catch((i=>{var a={group_data:t};fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/collaborator/collaborator_group_details_page","#collaborator-group-details-template","#main-content-wrapper",a)}))})).catch((t=>{sessionStorage.removeItem("group_id"),location.hash="collaborator/groups/list",e()}))}))}function validateCollaboratorGroup(){let e=!1,t=!1,i=!1,a=!1,o=!1,s=!1;return $("#collaboratorGroupName").val().trim().length>0?($("#collaboratorGroupName").val().trim().length<config.EmployeeGroupNameMinLength&&(showError($("#collaboratorGroupName"),`This field should contain atleast ${config.EmployeeGroupNameMinLength} characters.`),e=!0),$("#collaboratorGroupName").val().trim().length>config.EmployeeGroupNameMaxLength&&(showError($("#collaboratorGroupName"),`This field can't have more than  ${config.EmployeeGroupNameMaxLength} characters.`),e=!0),$("#collaboratorGroupName").val().trim().length>=config.EmployeeGroupNameMinLength&&$("#collaboratorGroupName").val().trim().length<=config.EmployeeGroupNameMaxLength&&(e=!1)):(showError($("#collaboratorGroupName"),"This field is required."),e=!0),$("#collaborator_group_desc").val().trim().length>0?($("#collaborator_group_desc").val().trim().length<config.EmployeeGroupDescriptionMinLength&&(showError($("#collaborator_group_desc"),`This field should contain atleast ${config.EmployeeGroupDescriptionMinLength} characters.`),t=!0),$("#collaborator_group_desc").val().trim().length>config.EmployeeGroupDescriptionMaxLength&&(showError($("#collaborator_group_desc"),`This field can't have more than  ${config.EmployeeGroupDescriptionMaxLength} characters.`),t=!0),$("#collaborator_group_desc").val().trim().length>=config.EmployeeGroupDescriptionMinLength&&$("#collaborator_group_desc").val().trim().length<=config.EmployeeGroupDescriptionMaxLength&&(t=!1)):t=!1,$(".selected-value-group-active-when").attr("data-value").length>0?i=!1:(showError($("#select-group-active-when"),"This field is required."),i=!0),""!=sessionStorage.getItem("group_id")&&null!=sessionStorage.getItem("group_id")&&null!=sessionStorage.getItem("group_id")||($(".collaborator-group-owner-business-employee-member:checked").length>0?a=!1:(Materialize.toast("Please add atleast 1 Employee to your business",3e3,"round error-alert"),a=!0),$(".collaborator-group-business-member:checked").length>0?o=!1:(Materialize.toast("Please add atleast 1 Business",3e3,"round error-alert"),o=!0),$(".collaborator-group-employee-moderator-member:checked").length>0?s=!1:(Materialize.toast("Please add atleast 1 moderator",3e3,"round error-alert"),s=!0)),!(a||o||t||e||i||s)}function getRoleManagementPage(){return new Promise(((e,t)=>{employeeList({device_id:crossplat.device.uuid,list_by:"list_only_active",business_id:sessionStorage.getItem("business_id")}).then((t=>{fetch.replaceHtml((function(){processRoleManagementEmployeeList(t,(function(){removeLoader(),e()}))}),"page/role_management/employee_list_wrapper","#role-management-employee-list-wrapper-template","#main-content-wrapper",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/role_management/employee_list_data","#role-management-employees-list-data-template","#role-management-employee-list-wrapper",null)}),"page/role_management/employee_list_wrapper","#role-management-employee-list-wrapper-template","#main-content-wrapper",null)}))}))}function processRoleManagementEmployeeList(e,t){digibiz.role_management_employee_list=removeDuplicates(digibiz.role_management_employee_list.concat(e),"id");var i={role_management_employees_list_data:digibiz.role_management_employee_list.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture){var t=`${api.get_employee_thumbnail}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&type=display_picture`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/role_management/employee_list_data","#role-management-employees-list-data-template","#role-management-employee-list-wrapper",i)}function getRoleManagementEmployeeAppsAccessListPage(){return new Promise(((e,t)=>{roleManagementList({device_id:crossplat.device.uuid,list_by:"member",member_id:sessionStorage.getItem("employee_id")}).then((t=>{fetch.replaceHtml((function(){processRoleManagementEmployeeAppAccessList(t,(function(){removeLoader(),e()}))}),"page/role_management/employee_apps_access_list_wrapper","#employee-apps-access-list-wrapper-template","#main-content-wrapper",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/role_management/employee_apps_access_list_data","#employees-apps-access-list-data-template","#employee-apps-access-list-wrapper",null)}),"page/role_management/employee_apps_access_list_wrapper","#employee-apps-access-list-wrapper-template","#main-content-wrapper",null)}))}))}function processRoleManagementEmployeeAppAccessList(e,t){digibiz.role_management_employee_apps_access_list=removeDuplicates(digibiz.role_management_employee_apps_access_list.concat(e),"id");var i={employees_apps_access_list_data:digibiz.role_management_employee_apps_access_list.map((e=>(e.imageLetter=e.app_name.charAt(0),e)))};fetch.replaceHtml((function(e){e||(removeLoader(),t())}),"page/role_management/employee_apps_access_list_data","#employees-apps-access-list-data-template","#employee-apps-access-list-wrapper",i)}function bizchatCustomerIdentifierApiCall(){return new Promise(((e,t)=>{customerIdentifierList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"customer"}).then((t=>{t.length>0?($.each(t,(function(e,t){var i=`<div class="bizchat-customer-identifier-access-container">\n                        <div class="bizchat-customer-identifier-access-wrapper">                    \n                            <div id="bizchat_customer_identifier_access" type="text" contenteditable="true" class="validate" autocomplete="off" disabled>${t.identifier}</div>\n                            <input type="checkbox" class="filled-in bizchat-customer-identifier-access" id="filled-in-box-customer-identifier-${t.identifier}" data-id="${t.id}" />\n                            <label for="filled-in-box-customer-identifier-${t.identifier}"></label>                  \n                        </div>                \n                    </div>`;$(".role-assignment-bizchat-customer-identifiers-type-container").append(i)})),e()):e()})).catch((t=>{e()})),departmentList({device_id:crossplat.device.uuid,list_by:"department",business_id:sessionStorage.getItem("business_id")}).then((e=>{e.length>0&&$.each(e,(function(e,t){var i=`<div class="sub-departments-content-box sub-department-box" data-id="${t.id}">\n                        <div class="sub-department-box-name-symbol-content-box">\n                            <i class="material-icons arrow-right" id="employee_department_assignment_arrow_button">keyboard_arrow_right</i>                                \n                            <div id="added_sub_department" type="text" data-length="60" contenteditable="false" class="validate" autocomplete="off" disabled>${t.name}</div>\n                            <input type="checkbox" class="filled-in department-selected" id="filled-in-box-${t.id}" />\n                            <label for="filled-in-box-${t.id}"></label>\n                        </div>\n                        <div class="sub_sub_department_conatiner_box hide" data-id="${t.id}"></div>\n                    </div>`;$(".role-assignment-bizchat-employee-department-type-container").append(i)}))})).catch((e=>{}))}))}function bizchatEmployeeDepartmentApiCall(){return new Promise(((e,t)=>{departmentList({device_id:crossplat.device.uuid,list_by:"department",business_id:sessionStorage.getItem("business_id")}).then((t=>{t.length>0?($.each(t,(function(e,t){var i=`<div class="sub-departments-content-box sub-department-box" data-id="${t.id}">\n                        <div class="sub-department-box-name-symbol-content-box">\n                            <i class="material-icons arrow-right" id="employee_department_assignment_arrow_button">keyboard_arrow_right</i>                                \n                            <div id="added_sub_department" type="text" data-length="60" contenteditable="false" class="validate" autocomplete="off" disabled>${t.name}</div>\n                            <input type="checkbox" class="filled-in department-selected" id="filled-in-box-${t.id}" />\n                            <label for="filled-in-box-${t.id}"></label>\n                        </div>\n                        <div class="sub_sub_department_conatiner_box hide" data-id="${t.id}"></div>\n                    </div>`;$(".role-assignment-bizchat-employee-department-type-container").append(i)})),e()):e()})).catch((t=>{e()}))}))}function getDigibizLogsPage(){return new Promise(((e,t)=>{var i;"notification_role_page"==sessionStorage.getItem("log_type")?i={device_id:crossplat.device.uuid,list_by:"notification_roles_page"}:"business_notification_page"==sessionStorage.getItem("log_type")?i={device_id:crossplat.device.uuid,list_by:"business_notification_page",business_id:sessionStorage.getItem("business_id")}:"business_owner_business_list_page"==sessionStorage.getItem("log_type")?i={device_id:crossplat.device.uuid,list_by:"business_owner_roles_page"}:"business_app_hub_page"==sessionStorage.getItem("log_type")?i={device_id:crossplat.device.uuid,list_by:"business_app_hub_page",business_id:sessionStorage.getItem("business_id")}:"jeevi_hub_page"==sessionStorage.getItem("log_type")?i={device_id:crossplat.device.uuid,list_by:"jeevi_hub_page",account_id:sessionStorage.getItem("account_id")}:"digibiz_hub_page"==sessionStorage.getItem("log_type")?i={device_id:crossplat.device.uuid,list_by:"digibiz_account",user_id:sessionStorage.getItem("account_id")}:"digibiz_roles_logs"==sessionStorage.getItem("log_type")?i={device_id:crossplat.device.uuid,list_by:"digibiz_roles",user_id:sessionStorage.getItem("account_id")}:"digibiz_business_logs"==sessionStorage.getItem("log_type")?i={device_id:crossplat.device.uuid,list_by:"digibiz_business_logs",user_id:sessionStorage.getItem("account_id"),account_id:sessionStorage.getItem("account_id")}:"digibiz_login_logs"==sessionStorage.getItem("log_type")?i={device_id:crossplat.device.uuid,list_by:"digibiz_login_logs",filter:"digibiz",offset:1,count:15}:"app_permission_logs"==sessionStorage.getItem("log_type")?i={device_id:crossplat.device.uuid,list_by:"app_permissions_page",business_id:sessionStorage.getItem("business_id"),user_id:sessionStorage.getItem("account_id"),account_id:sessionStorage.getItem("account_id")}:"customer_logs"==sessionStorage.getItem("log_type")?i={device_id:crossplat.device.uuid,list_by:"customer_logs",type:"customer",business_id:sessionStorage.getItem("business_id"),user_id:sessionStorage.getItem("account_id"),account_id:sessionStorage.getItem("account_id")}:"teams_group_logs"==sessionStorage.getItem("log_type")?i={device_id:crossplat.device.uuid,list_by:"business_teams",user_id:sessionStorage.getItem("account_id"),business_id:sessionStorage.getItem("business_id")}:"communication_group_logs"==sessionStorage.getItem("log_type")?i={device_id:crossplat.device.uuid,list_by:"communication",user_id:sessionStorage.getItem("account_id"),business_id:sessionStorage.getItem("business_id")}:"business_notification_activity_logs"==sessionStorage.getItem("log_type")?(i={device_id:crossplat.device.uuid,list_by:"business_notification",user_id:sessionStorage.getItem("account_id"),business_id:sessionStorage.getItem("business_id")},"business_notification"==sessionStorage.getItem("selected-business-notification-tab")?i.sort_by="contacts":i.sort_by="groups"):i="collaborator_group_logs"==sessionStorage.getItem("log_type")?{device_id:crossplat.device.uuid,list_by:"collaborator",user_id:sessionStorage.getItem("account_id"),business_id:sessionStorage.getItem("business_id")}:"member_collaborator_group_logs"==sessionStorage.getItem("log_type")?{device_id:crossplat.device.uuid,list_by:"collaborator_member",user_id:sessionStorage.getItem("account_id"),business_id:sessionStorage.getItem("business_id")}:"contact_control_logs"==sessionStorage.getItem("log_type")?{device_id:crossplat.device.uuid,list_by:"contact_control",user_id:sessionStorage.getItem("account_id"),business_id:sessionStorage.getItem("business_id")}:"customer_control_logs"==sessionStorage.getItem("log_type")?{device_id:crossplat.device.uuid,list_by:"customer_control",user_id:sessionStorage.getItem("account_id"),business_id:sessionStorage.getItem("business_id")}:"trusted_control_logs"==sessionStorage.getItem("log_type")?{device_id:crossplat.device.uuid,list_by:"trusted_control",user_id:sessionStorage.getItem("account_id"),business_id:sessionStorage.getItem("business_id")}:{device_id:crossplat.device.uuid,list_by:"business_module",business_id:sessionStorage.getItem("business_id"),type:sessionStorage.getItem("log_type"),user_id:sessionStorage.getItem("account_id"),account_id:sessionStorage.getItem("account_id")},i.count=20,i.offset=0,"digibiz_login_logs"!=sessionStorage.getItem("log_type")?digibizLogsList(i).then((t=>{fetch.replaceHtml((function(){processLogsList(t,(function(){appScroll.scrollBar(".digibiz-logs-list-contentbox"),listenForDigibizLogsListScrollEvent($(".digibiz-logs-list-contentbox")),removeLoader(),sessionStorage.getItem("log_type"),e()}))}),"page/common/digibiz_logs_wrapper","#digibiz-logs-list-wrapper-template","#main-content-wrapper",i)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),sessionStorage.getItem("log_type"),e())}),"page/common/digibiz_logs_data","#digibiz-logs-list-data-template","#digibiz-logs-list-wrapper",i)}),"page/common/digibiz_logs_wrapper","#digibiz-logs-list-wrapper-template","#main-content-wrapper",i)})):digibizLoginLogsList(i).then((t=>{fetch.replaceHtml((function(){processLogsList(t,(function(){appScroll.scrollBar(".digibiz-logs-list-contentbox"),removeLoader(),sessionStorage.getItem("log_type"),e()}))}),"page/common/digibiz_logs_wrapper","#digibiz-logs-list-wrapper-template","#main-content-wrapper",i)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),sessionStorage.getItem("log_type"),e())}),"page/common/digibiz_logs_data","#digibiz-logs-list-data-template","#digibiz-logs-list-wrapper",i)}),"page/common/digibiz_logs_wrapper","#digibiz-logs-list-wrapper-template","#main-content-wrapper",i)}))}))}function processLogsList(e,t){console.log("data",e),digibiz.logs_list=removeDuplicates(digibiz.logs_list.concat(e),"id");var i={log_list_data:digibiz.logs_list.map((e=>("digibiz_account_complete_inactivate"==e.action.operation?e.action.activity=e.action.activity+moment.unix(e.action.date).format("MMM D YYYY hh:mm:ss A")+" is successfull.":"digibiz_account_activate_schedule"==e.action.operation||"digibiz_account_inactivate_schedule"==e.action.operation?e.action.activity=e.action.activity+moment.unix(e.action.date).format("MMM D YYYY hh:mm:ss A"):"digibiz_account_cancel_inactivate"==e.action.operation?e.action.activity=e.action.activity+moment.unix(e.action.data.date).format("MMM D YYYY hh:mm:ss A")+" is canceled.":"digibiz_account_cancel_activate"==e.action.operation&&(e.action.activity=e.action.activity+moment.unix(e.action.data.twelvehourdate).format("MMM D YYYY hh:mm:ss A")+" is canceled."),e.action.date=moment.unix(e.action.date).format("MMM D YYYY hh:mm:ss A"),e)))};fetch.replaceHtml((function(e){e||(removeLoader(),t())}),"page/common/digibiz_logs_data","#digibiz-logs-list-data-template","#digibiz-logs-list-wrapper",i)}function processSearchCloseLogsList(e,t){digibiz.logs_list=removeDuplicates(digibiz.logs_list.concat(e),"id");var i={log_list_data:digibiz.logs_list};console.log("logsList",i),fetch.replaceHtml((function(e){e||(removeLoader(),t())}),"page/common/digibiz_logs_data","#digibiz-logs-list-data-template","#digibiz-logs-list-wrapper",i)}function listenForDigibizLogsListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){if(e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10){var t;$(this).off("el_scroll"),addLoader(),"notification_role_page"==sessionStorage.getItem("log_type")?t={device_id:crossplat.device.uuid,list_by:"notification_roles_page"}:"business_notification_page"==sessionStorage.getItem("log_type")?t={device_id:crossplat.device.uuid,list_by:"business_notification_page",business_id:sessionStorage.getItem("business_id")}:"business_owner_business_list_page"==sessionStorage.getItem("log_type")?t={device_id:crossplat.device.uuid,list_by:"business_owner_roles_page"}:"business_app_hub_page"==sessionStorage.getItem("log_type")?t={device_id:crossplat.device.uuid,list_by:"business_app_hub_page",business_id:sessionStorage.getItem("business_id")}:"jeevi_hub_page"==sessionStorage.getItem("log_type")?t={device_id:crossplat.device.uuid,list_by:"jeevi_hub_page",account_id:sessionStorage.getItem("account_id")}:"digibiz_hub_page"==sessionStorage.getItem("log_type")?t={device_id:crossplat.device.uuid,list_by:"digibiz_account",user_id:sessionStorage.getItem("account_id")}:"digibiz_roles_logs"==sessionStorage.getItem("log_type")?t={device_id:crossplat.device.uuid,list_by:"digibiz_roles",user_id:sessionStorage.getItem("account_id")}:"digibiz_business_logs"==sessionStorage.getItem("log_type")?t={device_id:crossplat.device.uuid,list_by:"digibiz_business_logs",user_id:sessionStorage.getItem("account_id"),account_id:sessionStorage.getItem("account_id")}:"digibiz_login_logs"==sessionStorage.getItem("log_type")?t={device_id:crossplat.device.uuid,list_by:"digibiz_login_logs",filter:"digibiz",offset:1,count:15}:"app_permission_logs"==sessionStorage.getItem("log_type")?t={device_id:crossplat.device.uuid,list_by:"app_permissions_page",business_id:sessionStorage.getItem("business_id"),user_id:sessionStorage.getItem("account_id"),account_id:sessionStorage.getItem("account_id")}:"customer_logs"==sessionStorage.getItem("log_type")?t={device_id:crossplat.device.uuid,list_by:"customer_logs",type:"customer",business_id:sessionStorage.getItem("business_id"),user_id:sessionStorage.getItem("account_id"),account_id:sessionStorage.getItem("account_id")}:"teams_group_logs"==sessionStorage.getItem("log_type")?t={device_id:crossplat.device.uuid,list_by:"business_teams",user_id:sessionStorage.getItem("account_id"),business_id:sessionStorage.getItem("business_id")}:"communication_group_logs"==sessionStorage.getItem("log_type")?t={device_id:crossplat.device.uuid,list_by:"communication",user_id:sessionStorage.getItem("account_id"),business_id:sessionStorage.getItem("business_id")}:"business_notification_activity_logs"==sessionStorage.getItem("log_type")?(t={device_id:crossplat.device.uuid,list_by:"business_notification",user_id:sessionStorage.getItem("account_id"),business_id:sessionStorage.getItem("business_id")},"business_notification"==sessionStorage.getItem("selected-business-notification-tab")?t.sort_by="contacts":t.sort_by="groups"):t="collaborator_group_logs"==sessionStorage.getItem("log_type")?{device_id:crossplat.device.uuid,list_by:"collaborator",user_id:sessionStorage.getItem("account_id"),business_id:sessionStorage.getItem("business_id")}:"member_collaborator_group_logs"==sessionStorage.getItem("log_type")?{device_id:crossplat.device.uuid,list_by:"collaborator_member",user_id:sessionStorage.getItem("account_id"),business_id:sessionStorage.getItem("business_id")}:"contact_control_logs"==sessionStorage.getItem("log_type")?{device_id:crossplat.device.uuid,list_by:"contact_control",user_id:sessionStorage.getItem("account_id"),business_id:sessionStorage.getItem("business_id")}:"customer_control_logs"==sessionStorage.getItem("log_type")?{device_id:crossplat.device.uuid,list_by:"customer_control",user_id:sessionStorage.getItem("account_id"),business_id:sessionStorage.getItem("business_id")}:"trusted_control_logs"==sessionStorage.getItem("log_type")?{device_id:crossplat.device.uuid,list_by:"trusted_control",user_id:sessionStorage.getItem("account_id"),business_id:sessionStorage.getItem("business_id")}:{device_id:crossplat.device.uuid,list_by:"business_module",business_id:sessionStorage.getItem("business_id"),type:sessionStorage.getItem("log_type"),user_id:sessionStorage.getItem("account_id"),account_id:sessionStorage.getItem("account_id")},t.count=10,t.offset=digibiz.logs_list.length;var i=$(".wrapper-dropdown").find(".selected-dropdown").attr("data-value");i&&null!=i?(t.filter_value=i,"digibiz_login_logs"!=sessionStorage.getItem("log_type")?digibizFilterLogsList(t).then((e=>{scrollProcessLogsList(e,(function(){listenForDigibizLogsListScrollEvent($(".digibiz-logs-list-contentbox")),removeLoader()}))})).catch((e=>{fetch.appendHtml((function(e){e||removeLoader()}),"page/common/scroll_digibiz_logs_data","#scroll-digibiz-logs-list-data-template",".digibiz-logs-list-contentbox .os-content",t)})):digibizLoginLogsList(t).then((e=>{fetch.appendHtml((function(){scrollProcessLogsList(e,(function(){listenForDigibizLogsListScrollEvent($(".digibiz-logs-list-contentbox")),removeLoader()}))}),"page/common/scroll_digibiz_logs_data","#scroll-digibiz-logs-list-data-template",".digibiz-logs-list-contentbox .os-content",t)})).catch((e=>{fetch.appendHtml((function(e){e||removeLoader()}),"page/common/scroll_digibiz_logs_data","#scroll-digibiz-logs-list-data-template",".digibiz-logs-list-contentbox .os-content",t)}))):"digibiz_login_logs"!=sessionStorage.getItem("log_type")?digibizLogsList(t).then((e=>{scrollProcessLogsList(e,(function(){listenForDigibizLogsListScrollEvent($(".digibiz-logs-list-contentbox")),removeLoader()}))})).catch((e=>{fetch.appendHtml((function(e){e||removeLoader()}),"page/common/scroll_digibiz_logs_data","#scroll-digibiz-logs-list-data-template",".digibiz-logs-list-contentbox .os-content",t)})):digibizLoginLogsList(t).then((e=>{fetch.appendHtml((function(){scrollProcessLogsList(e,(function(){removeLoader()}))}),"page/common/scroll_digibiz_logs_data","#scroll-digibiz-logs-list-data-template",".digibiz-logs-list-contentbox .os-content",t)})).catch((e=>{fetch.appendHtml((function(e){e||removeLoader()}),"page/common/scroll_digibiz_logs_data","#scroll-digibiz-logs-list-data-template",".digibiz-logs-list-contentbox .os-content",t)}))}}))}function scrollProcessLogsList(e,t){console.log("data",e),digibiz.logs_list=removeDuplicates(digibiz.logs_list.concat(e),"id");var i={log_list_data:e.map((e=>("digibiz_account_complete_inactivate"==e.action.operation?e.action.activity=e.action.activity+moment.unix(e.action.date).format("MMM D YYYY hh:mm:ss A")+" is successfull.":"digibiz_account_activate_schedule"==e.action.operation||"digibiz_account_inactivate_schedule"==e.action.operation?e.action.activity=e.action.activity+moment.unix(e.action.date).format("MMM D YYYY hh:mm:ss A"):"digibiz_account_cancel_inactivate"==e.action.operation?e.action.activity=e.action.activity+moment.unix(e.action.data.date).format("MMM D YYYY hh:mm:ss A")+" is canceled.":"digibiz_account_cancel_activate"==e.action.operation&&(e.action.activity=e.action.activity+moment.unix(e.action.data.twelvehourdate).format("MMM D YYYY hh:mm:ss A")+" is canceled."),e.action.date=moment.unix(e.action.date).format("MMM D YYYY hh:mm:ss A"),e)))};fetch.appendHtml((function(e){e||(removeLoader(),t())}),"page/common/scroll_digibiz_logs_data","#scroll-digibiz-logs-list-data-template",".digibiz-logs-list-contentbox .os-content",i)}function processCustomerGroupContactsList(e,t){digibiz.customerGroupsContactsList=removeDuplicates(digibiz.customerGroupsContactsList.concat(e),"id");var i={customer_group_contact_list_data:digibiz.customerGroupsContactsList,device_id:crossplat.device.uuid};fetch.replaceHtml((function(){var e=[];$(".customer-group-member-wrapper").length>0&&$.each($(".customer-group-member-wrapper"),(function(t,i){e.push({id:$(i).attr("data-id")})})),$("#customer-group-members-list").find(".custom-customer-group-member-wrapper").length>0&&$.each($("#customer-group-members-list .custom-customer-group-member-wrapper"),(function(t,i){e.push({id:$(i).attr("data-customer-id")})})),e.length>0&&$.each(e,(function(e,t){})),t()}),"page/customer/group_contact_list_data","#customer-group-contact-list-data-template","#customer-group-contacts-items-list-wrapper",i)}function listenForCustomerGroupContactsListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),addLoader(),getCustomerGroupContactList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),count:20,offset:digibiz.customerGroupsContactsList.length}).then((e=>{scrollProcessCustomerGroupContactsList(e,(function(){listenForCustomerGroupContactsListScrollEvent($(".modal-popup-content")),removeLoader()}))})).catch((e=>{fetch.appendHtml((function(){removeLoader()}),"page/customer/scroll_group_contact_list_data","#scroll-customer-group-contact-list-data-template",".customer-group-contact-list-contentbox",null)})))}))}function scrollProcessCustomerGroupContactsList(e,t){digibiz.customerGroupsContactsList=removeDuplicates(digibiz.customerGroupsContactsList.concat(e),"id");var i={customer_group_contact_list_data:e,device_id:crossplat.device.uuid};fetch.appendHtml((function(){var e=[];$(".customer-group-member-wrapper").length>0&&$.each($(".customer-group-member-wrapper"),(function(t,i){e.push({id:$(i).attr("data-id")})})),$("#customer-group-members-list").find(".custom-customer-group-member-wrapper").length>0&&$.each($("#customer-group-members-list .custom-customer-group-member-wrapper"),(function(t,i){e.push({id:$(i).attr("data-customer-id")})})),e.length>0&&$.each(e,(function(e,t){})),t()}),"page/customer/scroll_group_contact_list_data","#scroll-customer-group-contact-list-data-template",".customer-group-contact-list-contentbox",i)}function processCustomerGroupCustomGroupList(e,t){digibiz.customerGroupCustomGroupsList=removeDuplicates(digibiz.customerGroupCustomGroupsList.concat(e),"id");var i={customer_group_custom_groups_list_data:digibiz.customerGroupCustomGroupsList.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thubnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);var i=digibiz.customerGroupCustomGroupsList.findIndex((t=>t.id==e.id));i>-1&&(1==digibiz.customerGroupCustomGroupsList[i].selected&&(e.selected=!0));return e}))};fetch.replaceHtml((function(){var e=[];$(".customer-group-member-wrapper").length>0&&$.each($(".customer-group-member-wrapper"),(function(t,i){e.push({id:$(i).attr("data-id"),type:"new_member"})})),$("#customer-group-members-list").find(".custom-customer-group-member-wrapper").length>0&&$.each($("#customer-group-members-list .custom-customer-group-member-wrapper"),(function(t,i){e.push({id:$(i).attr("data-group-id"),type:"old_member"})})),e.length>0&&$.each(e,(function(e,t){})),t()}),"page/customer/customer_group_custom_group_list_data","#customer-group-custom-groups-list-template","#customer-group-custom-groups-list-wrapper",i)}function listenForCustomerGroupCustomGroupListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),addLoader(),groupsList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"customer",list_by:"draft_active_standard_customer_groups",count:20,offset:digibiz.customerGroupCustomGroupsList.length}).then((e=>{scrollProcessCustomerGroupCustomGroupList(e,(function(){listenForCustomerGroupCustomGroupListScrollEvent($(".modal-popup-content")),removeLoader()}))})).catch((e=>{fetch.appendHtml((function(){removeLoader()}),"page/customer/scroll_customer_group_custom_group_list_data","#scroll-customer-group-custom-groups-list-template",".customer-group-custom-groups-list-contentbox",null)})))}))}function scrollProcessCustomerGroupCustomGroupList(e,t){digibiz.customerGroupCustomGroupsList=removeDuplicates(digibiz.customerGroupCustomGroupsList.concat(e),"id");var i={customer_group_custom_groups_list_data:digibiz.customerGroupCustomGroupsList.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thubnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);var i=digibiz.customerGroupCustomGroupsList.findIndex((t=>t.id==e.id));i>-1&&(1==digibiz.customerGroupCustomGroupsList[i].selected&&(e.selected=!0));return e}))};fetch.appendHtml((function(){var e=[];$(".customer-group-member-wrapper").length>0&&$.each($(".customer-group-member-wrapper"),(function(t,i){e.push({id:$(i).attr("data-id"),type:"new_member"})})),$("#customer-group-members-list").find(".custom-customer-group-member-wrapper").length>0&&$.each($("#customer-group-members-list .custom-customer-group-member-wrapper"),(function(t,i){e.push({id:$(i).attr("data-group-id"),type:"old_member"})})),e.length>0&&($.each(e,(function(e,t){})),$(".customer-group-custom-group-wrapper").length>0||$(".customer-group-custom-groups-list-contentbox").append('<div class="no_data">No data found</div>')),t()}),"page/customer/scroll-customer_group_custom_group_list_data","#scroll-customer-group-custom-groups-list-template",".customer-group-custom-groups-list-contentbox",i)}function getCommunicationGroupsPage(){return new Promise(((e,t)=>{var i={device_id:crossplat.device.uuid,list_by:"communication",business_id:sessionStorage.getItem("business_id"),count:15,offset:0};getCommunicationGroupsCount(i).then((t=>{$(".communication-group-count").text(`${t}`),communicationGroupsList(i).then((t=>{processCommunicationGroupsList(t,(function(){appScroll.scrollBar(".communication-group-list-contentbox"),listenForCommunicationGroupsListScrollEvent($(".communication-group-list-contentbox")),removeLoader(),e()}))})).catch((t=>{fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/communication/communication_group_list_data","#communication-group-list-data-template","#communication-group-list-list-wrapper",null)}))})).catch((e=>{console.log("err",e)}))}))}function processCommunicationGroupsList(e,t){digibiz.communicationGroupsList=removeDuplicates(digibiz.communicationGroupsList.concat(e),"id");var i={communication_group_list_data:digibiz.communicationGroupsList.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image)if(e.group_image.hasOwnProperty("thumbnail")&&e.group_image.thumbnail){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/communication/communication_group_list_data","#communication-group-list-data-template","#communication-group-list-list-wrapper",i)}function listenForCommunicationGroupsListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),communicationGroupsList({device_id:crossplat.device.uuid,list_by:"communication",business_id:sessionStorage.getItem("business_id"),count:5,offset:digibiz.communicationGroupsList.length}).then((e=>{scrollProcessCommunicationGroupsList(e,(function(){listenForCommunicationGroupsListScrollEvent($(".communication-group-list-contentbox")),removeLoader()}))})).catch((e=>{removeLoader()})))}))}function scrollProcessCommunicationGroupsList(e,t){digibiz.communicationGroupsList=removeDuplicates(digibiz.communicationGroupsList.concat(e),"id");var i={communication_group_list_data:e.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image)if(e.group_image.hasOwnProperty("thumbnail")&&e.group_image.thumbnail){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};fetch.appendHtml((function(e){e||t()}),"page/communication/scroll_communication_group_list_data","#scroll-communication-group-list-data-template","#communication-group-list-list-wrapper .os-content",i)}function getCollaboratorCommunicationGroupsPage(){return new Promise(((e,t)=>{var i={device_id:crossplat.device.uuid,list_by:"collaborator_communication",business_id:sessionStorage.getItem("business_id"),count:15,offset:0};getCommunicationGroupsCount(i).then((t=>{$(".collaborator-communication-group-count").text(`${t}`);crossplat.device.uuid,sessionStorage.getItem("business_id");communicationGroupsList(i).then((t=>{console.log("communicationGroupList response",t),processCollaboratorCommunicationGroupsList(t,(function(){appScroll.scrollBar(".communication-group-list-contentbox"),listenForCollaboratorCommunicationGroupsListScrollEvent($(".communication-group-list-contentbox")),removeLoader(),e()}))})).catch((t=>{fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/communication/communication_group_list_data","#communication-group-list-data-template","#communication-group-list-list-wrapper",null)}))})).catch((e=>{console.log("err",e)}))}))}function processCollaboratorCommunicationGroupsList(e,t){digibiz.collaboratorCommunicationGroupsList=removeDuplicates(digibiz.collaboratorCommunicationGroupsList.concat(e),"id");var i={communication_group_list_data:digibiz.collaboratorCommunicationGroupsList.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image)if(e.group_image.hasOwnProperty("thumbnail")&&e.group_image.thumbnail){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/communication/communication_group_list_data","#communication-group-list-data-template","#collaborator-communication-group-list-list-wrapper",i)}function listenForCollaboratorCommunicationGroupsListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),communicationGroupsList({device_id:crossplat.device.uuid,list_by:"communication",business_id:sessionStorage.getItem("business_id"),count:5,offset:digibiz.collaboratorCommunicationGroupsList.length}).then((e=>{scrollProcessCollaboratorCommunicationGroupsList(e,(function(){listenForCollaboratorCommunicationGroupsListScrollEvent($(".communication-group-list-contentbox")),removeLoader()}))})).catch((e=>{removeLoader()})))}))}function scrollProcessCollaboratorCommunicationGroupsList(e,t){digibiz.collaboratorCommunicationGroupsList=removeDuplicates(digibiz.collaboratorCommunicationGroupsList.concat(e),"id");var i={communication_group_list_data:e.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image)if(e.group_image.hasOwnProperty("thumbnail")&&e.group_image.thumbnail){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};fetch.appendHtml((function(e){e||t()}),"page/communication/scroll_communication_group_list_data","#scroll-communication-group-list-data-template","#collaborator-communication-group-list-list-wrapper .os-content",i)}function getCommunicationEmployeePage(){return new Promise(((e,t)=>{communicationGroupsList({device_id:crossplat.device.uuid,list_by:"employee",business_id:sessionStorage.getItem("business_id")}).then((t=>{fetch.replaceHtml((function(){processCommunicationEmployeeGroupsList(t,(function(){removeLoader(),e()}))}),"page/communication/employee_group_list_wrapper","#communication-employee-groups-list-wrapper-template","#communication-group-employee-data-container",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/communication/employee_group_list_data","#communication-employee-group-list-data-template","#communication-employee-group-list-wrapper",null)}),"page/communication/employee_group_list_wrapper","#communication-employee-groups-list-wrapper-template","#communication-group-employee-data-container",null)}))}))}function processCommunicationEmployeeGroupsList(e,t){digibiz.communicationEmployeeGroupsList=removeDuplicates(digibiz.communicationEmployeeGroupsList.concat(e),"id");var i={communication_employee_group_list_data:digibiz.communicationEmployeeGroupsList.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thubnail}`;e.group_image.avtarUrl=t}else e.imageLetter=e.name.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/communication/employee_group_list_data","#communication-employee-group-list-data-template","#communication-employee-group-list-wrapper",i)}function getCommunicationCustomerPage(){return new Promise(((e,t)=>{communicationGroupsList({device_id:crossplat.device.uuid,list_by:"customer",business_id:sessionStorage.getItem("business_id")}).then((t=>{fetch.replaceHtml((function(){processCommunicationCustomerGroupsList(t,(function(){removeLoader(),e()}))}),"page/communication/customer_group_list_wrapper","#communication-customer-groups-list-wrapper-template","#communication-group-customer-data-container",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/communication/customer_group_list_data","#communication-customer-group-list-data-template","#communication-customer-group-list-wrapper",null)}),"page/communication/customer_group_list_wrapper","#communication-customer-groups-list-wrapper-template","#communication-group-customer-data-container",null)}))}))}function processCommunicationCustomerGroupsList(e,t){digibiz.communicationCustomerGroupsList=removeDuplicates(digibiz.communicationCustomerGroupsList.concat(e),"id");var i={communication_customer_group_list_data:digibiz.communicationCustomerGroupsList.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thubnail}`;e.group_image.avtarUrl=t}else e.imageLetter=e.name.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/communication/customer_group_list_data","#communication-customer-group-list-data-template","#communication-customer-group-list-wrapper",i)}function getCommunicationGroupDetailPage(){return new Promise(((e,t)=>{if(void 0===sessionStorage.getItem("group_id")||null===sessionStorage.getItem("group_id")||""==sessionStorage.getItem("group_id")){var i={};i="group_list"==sessionStorage.getItem("group_from")?{communication_group_type:"group_list",is_owner:!0}:{communication_group_type:"contact_list",is_owner:!0},fetch.replaceHtml((function(){"group_list"==sessionStorage.getItem("group_from")&&($(".communication-group-creation-group-moderator-section").addClass("hide"),$(".search-member-button").addClass("hide")),"contact_list"==sessionStorage.getItem("group_from")&&$(".search-member-button").removeClass("hide"),removeLoader(),appScroll.scrollBar("#main-container"),e()}),"page/communication/communication_group_detail_page","#communication-group-details-template","#main-content-wrapper",i)}else{groupGet({device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id")}).then((t=>{if(console.log("communicationGroupGet response",t),sessionStorage.setItem("group_type",t.group_from),sessionStorage.setItem("group_from",t.group_type),t.hasOwnProperty("group_image")&&t.group_image)if(t.group_image.hasOwnProperty("thumbnail")&&t.group_image.thumbnail){var i=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${t.id}&image_id=${t.group_image.thumbnail}`;t.group_image.avtarUrl=i,t.imageLetter=t.name.charAt(0)}else t.imageLetter=t.name.charAt(0);else t.imageLetter=t.name.charAt(0);getGroupMembers({device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id"),list_by:"employee_members",count:5,offset:0}).then((i=>{var a=i.membersList;console.log("communicationGroupMemberList response",a);getGroupMembers({device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id"),list_by:"customer_members",count:5,offset:0}).then((o=>{var s=o.membersList;getGroupMembers({device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id"),list_by:"collaborator_members",count:5,offset:0}).then((r=>{var n=r.membersList;getGroupModeratorList({device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id"),count:5,offset:0}).then((d=>{digibiz.group_moderator_list=[],digibiz.group_moderator_list=d.moderator;var c={group_data:t,employeeMembersCount:i.membersCount,customerMembersCount:o.membersCount,collaboratorMembersCount:r.membersCount,totalMembersCount:i.membersCount+o.membersCount+r.membersCount,communication_group_type:t.group_type,group_collaborator_members_data:n.map((e=>{if("employee"==e.member.type)if(e.hasOwnProperty("identity_picture")&&e.identity_picture){var t=`${api.get_employee_thumbnail}?id=${e.member.id}&device_id=${crossplat.device.uuid}&type=display_picture`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else e.imageLetter=e.member_name.first.charAt(0);else if("customer"==e.member.type){if("customer"==e.member.customer_type)if(e.hasOwnProperty("identity_picture")&&e.identity_picture){t=`${api.get_customer_thumbnail}?id=${e.member.id}&device_id=${crossplat.device.uuid}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else e.imageLetter=e.member_name.first.charAt(0);else if("associate_customer"==e.member.customer_type)if(e.hasOwnProperty("identity_picture")&&e.identity_picture){t=`${api.get_associate_customer_thumbnail}?id=${e.member.id}&device_id=${crossplat.device.uuid}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else e.imageLetter=e.member_name.first.charAt(0)}else if("employee_group"==e.member.type)if(e.hasOwnProperty("group_image")&&e.group_image){t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.member.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.member_name.charAt(0)}else e.imageLetter=e.member_name.charAt(0);else if("customer_group"==e.member.type)if(e.hasOwnProperty("group_image")&&e.group_image){t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.member.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.member_name.charAt(0)}else e.imageLetter=e.member_name.charAt(0);else if("collaborator_group"==e.member.type)if(e.hasOwnProperty("group_image")&&e.group_image){t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.member.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.member_name.charAt(0)}else e.imageLetter=e.member_name.charAt(0);return e})),group_customer_members_data:s.map((e=>{if("employee"==e.member.type)if(e.hasOwnProperty("identity_picture")&&e.identity_picture){var t=`${api.get_employee_thumbnail}?id=${e.member.id}&device_id=${crossplat.device.uuid}&type=display_picture`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else e.imageLetter=e.member_name.first.charAt(0);else if("customer"==e.member.type){if("customer"==e.member.customer_type)if(e.hasOwnProperty("identity_picture")&&e.identity_picture){t=`${api.get_customer_thumbnail}?id=${e.member.id}&device_id=${crossplat.device.uuid}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else e.imageLetter=e.member_name.first.charAt(0);else if("associate_customer"==e.member.customer_type)if(e.hasOwnProperty("identity_picture")&&e.identity_picture){t=`${api.get_associate_customer_thumbnail}?id=${e.member.id}&device_id=${crossplat.device.uuid}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else e.imageLetter=e.member_name.first.charAt(0)}else if("employee_group"==e.member.type)if(e.hasOwnProperty("group_image")&&e.group_image){t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.member.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.member_name.charAt(0)}else e.imageLetter=e.member_name.charAt(0);else if("customer_group"==e.member.type)if(e.hasOwnProperty("group_image")&&e.group_image){t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.member.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.member_name.charAt(0)}else e.imageLetter=e.member_name.charAt(0);else if("collaborator_group"==e.member.type)if(e.hasOwnProperty("group_image")&&e.group_image){t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.member.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.member_name.charAt(0)}else e.imageLetter=e.member_name.charAt(0);return e})),group_members_data:a.map((e=>{if("employee"==e.member.type)if(e.hasOwnProperty("identity_picture")&&e.identity_picture){var t=`${api.get_employee_thumbnail}?id=${e.member.id}&device_id=${crossplat.device.uuid}&type=display_picture`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else e.imageLetter=e.member_name.first.charAt(0);else if("customer"==e.member.type){if("customer"==e.member.customer_type)if(e.hasOwnProperty("identity_picture")&&e.identity_picture){t=`${api.get_customer_thumbnail}?id=${e.member.id}&device_id=${crossplat.device.uuid}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else e.imageLetter=e.member_name.first.charAt(0);else if("associate_customer"==e.member.customer_type)if(e.hasOwnProperty("identity_picture")&&e.identity_picture){t=`${api.get_associate_customer_thumbnail}?id=${e.member.id}&device_id=${crossplat.device.uuid}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else e.imageLetter=e.member_name.first.charAt(0)}else if("employee_group"==e.member.type)if(e.hasOwnProperty("group_image")&&e.group_image){t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.member.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.member_name.charAt(0)}else e.imageLetter=e.member_name.charAt(0);else if("customer_group"==e.member.type)if(e.hasOwnProperty("group_image")&&e.group_image){t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.member.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.member_name.charAt(0)}else e.imageLetter=e.member_name.charAt(0);else if("collaborator_group"==e.member.type)if(e.hasOwnProperty("group_image")&&e.group_image){t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.member.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.member_name.charAt(0)}else e.imageLetter=e.member_name.charAt(0);return e}))};digibiz.communitcation_group_employee_members_list=[],digibiz.communitcation_group_employee_members_list=c.group_members_data,digibiz.communitcation_group_customer_members_list=[],digibiz.communitcation_group_customer_members_list=c.group_customer_members_data,digibiz.communitcation_group_collaborator_members_list=[],digibiz.communitcation_group_collaborator_members_list=c.group_collaborator_members_data,t.business_id==sessionStorage.getItem("business_id")&&(c.is_owner=!0),console.log("groupData",c),fetch.replaceHtml((function(t){t||(processGroupModeratorList(digibiz.group_moderator_list,(function(){appScroll.scrollBar("#communication-group-moderator-members-list"),listenForCommunicationGroupModeratorListScrollEvent($("#communication-group-moderator-members-list"))})),$(".communication-group-creation-group-moderator-section").removeClass("hide"),removeLoader(),console.log("scroll test2"),appScroll.scrollBar("#main-container"),appScroll.scrollBar("#communication-group-employee-members-list"),listentForCommunicationGroupEmployeMembersList($("#communication-group-employee-members-list")),appScroll.scrollBar("#communication-group-customer-members-list"),listentForCommunicationGroupCustomerMembersList($("#communication-group-customer-members-list")),appScroll.scrollBar("#communication-group-collaborator-members-list"),listentForCommunicationGroupCollaboratorMembersList($("#communication-group-collaborator-members-list")),e())}),"page/communication/communication_group_detail_page","#communication-group-details-template","#main-content-wrapper",c)})).catch((e=>{console.log("err",e)}))})).catch((e=>{console.log("err",e)}))})).catch((e=>{console.log("err",e)}))})).catch((i=>{var a={group_data:t};fetch.replaceHtml((function(t){t||(removeLoader(),console.log("scroll test3"),e())}),"page/communication/communication_group_detail_page","#communication-group-details-template","#main-content-wrapper",a)}))})).catch((t=>{removeLoader(),e()}))}}))}function getCommunicationEmployeeGroupDetailPage(){return new Promise(((e,t)=>{groupGet({device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id")}).then((t=>{if(t.hasOwnProperty("group_image")&&t.group_image)if(t.group_image.hasOwnProperty("asset_id")&&t.group_image.asset_id){var i=`${api.get_employee_group_thumbnail}?id=${t.id}&device_id=${crossplat.device.uuid}`;t.group_image.avtarUrl=i,t.imageLetter=t.name.charAt(0)}else t.imageLetter=t.name.charAt(0);else t.imageLetter=t.name.charAt(0);if("standard"==t.group_type){var a={group_data:t,group_moderator_data:t.moderator};fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/communication/employee_group_detail_page","#communication-employee-group-detail-template","#main-content-wrapper",a)}else if("custom"==t.group_type){if("employee_list"==t.custom_group_from)getGroupMembers({device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id")}).then((i=>{var a=i.membersList,o={group_data:t,membersCount:i.membersCount,group_moderator_data:t.moderator,group_members_data:a.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture){var t=`${api.get_employee_thumbnail}?id=${e.member.dj_unique_employee_id}&device_id=${crossplat.device.uuid}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else e.imageLetter=e.member_name.first.charAt(0);return e}))};fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/communication/employee_group_detail_page","#communication-employee-group-detail-template","#main-content-wrapper",o)})).catch((i=>{var a={group_data:t,group_moderator_data:t.moderator};fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/communication/employee_group_detail_page","#communication-employee-group-detail-template","#main-content-wrapper",a)}));else if("department_list"==t.custom_group_from){a={group_data:t,group_moderator_data:t.moderator,department_list_data:t.department_data.map((e=>(e.imageLetter=e.name.charAt(0),e)))};fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/communication/employee_group_detail_page","#communication-employee-group-detail-template","#main-content-wrapper",a)}}})).catch((t=>{location.hash="communication/groups",e()}))}))}function getCommunicationCustomerGroupDetailPage(){return new Promise(((e,t)=>{groupGet({device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id")}).then((t=>{if(t.hasOwnProperty("group_image")&&t.group_image)if(t.group_image.hasOwnProperty("asset_id")&&t.group_image.asset_id){var i=`${api.get_employee_group_thumbnail}?id=${t.id}&device_id=${crossplat.device.uuid}`;t.group_image.avtarUrl=i,t.imageLetter=t.name.charAt(0)}else t.imageLetter=t.name.charAt(0);else t.imageLetter=t.name.charAt(0);if("standard"==t.group_type||"primary_associate_customers"==t.group_type||"primary_customers"==t.group_type){var a={group_data:t,group_moderator_data:t.moderator};fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/communication/customer_group_detail_page","#communication-customer-group-detail-template","#main-content-wrapper",a)}else if("custom"==t.group_type){if("contact_list"==t.custom_group_from)getGroupMembers({device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id")}).then((i=>{var a=i.membersList,o={group_data:t,membersCount:i.membersCount,group_moderator_data:t.moderator,group_members_data:a.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture){var t=`${api.get_customer_thumbnail}?id=${e.member.id}&device_id=${crossplat.device.uuid}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else e.imageLetter=e.member_name.first.charAt(0);return e}))};fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/communication/customer_group_detail_page","#communication-customer-group-detail-template","#main-content-wrapper",o)})).catch((i=>{var a={group_data:t};fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/communication/customer_group_detail_page","#communication-customer-group-detail-template","#main-content-wrapper",a)}));else if("group_list"==t.custom_group_from){a={group_data:t,group_moderator_data:t.moderator,group_members_data:t.customer_data.map((e=>(e.imageLetter=e.name.charAt(0),e)))};fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/communication/customer_group_detail_page","#communication-customer-group-detail-template","#main-content-wrapper",a)}}})).catch((t=>{location.hash="communication/groups",e()}))}))}function processCommunicationGroupActivateEmployeeGroupsList(e,t){digibiz.communicationActivateEmployeeGroupsList=removeDuplicates(digibiz.communicationActivateEmployeeGroupsList.concat(e),"id");var i={groupList:digibiz.communicationActivateEmployeeGroupsList.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thubnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);return e})),page_for:"activate_communication_group"};fetch.replaceHtml((function(){t()}),"page/communication/employee_group_selection","#employee-group-list-selection-template","#communication-group-activate-employee-group-list-wrapper",i)}function processCommunicationGroupActivateEmployeeGroupEmployeeList(e=null,t=null,i){if(e&&(digibiz.communicationActivateEmployeeGroupEmployeeList=removeDuplicates(digibiz.communicationActivateEmployeeGroupEmployeeList.concat(e),"id")),t&&t.moderator&&t.moderator.length>0&&$.each(t.moderator,(function(e,i){var a;i.hasOwnProperty("group_id")&&i.group_id?($(`.accordion-content[data-group-id="${i.group_id}"]`).find(`.communication-group-employee-select-btn[data-dj-unique-employee-id="${i.id}"]`).parents(".communication-group-employee-select-btn-checkbox-click-wrapper").addClass("selected-row"),digibiz.employeeSelectedContactList.push({id:i.id,group_id:i.group_id,selected:!0})):"standard"==t.group_type?(a=digibiz.communicationActivateEmployeeGroupEmployeeList.findIndex((e=>e.dj_unique_employee_id==i.id)))>-1&&(digibiz.communicationActivateEmployeeGroupEmployeeList[a].selected=!0):(a=digibiz.communicationActivateEmployeeGroupEmployeeList.findIndex((e=>e.member.dj_unique_employee_id==i.id)))>-1&&(digibiz.communicationActivateEmployeeGroupEmployeeList[a].selected=!0)})),t&&"standard"==t.group_type)var a={EmployeeList:digibiz.communicationActivateEmployeeGroupEmployeeList.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);else e.imageLetter=e.name.first.charAt(0);return e})),from:"direct"};else if(t&&"custom"==t.group_type&&"employee_list"==t.custom_group_from)a={EmployeeList:digibiz.communicationActivateEmployeeGroupEmployeeList.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.member.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else e.imageLetter=e.member_name.first.charAt(0);else e.imageLetter=e.member_name.first.charAt(0);return e})),from:"employee_list"};else if(t&&"custom"==t.group_type&&"standard_group"==t.custom_group_from)a={EmployeeList:digibiz.communicationActivateEmployeeGroupEmployeeList.map((e=>(e.hasOwnProperty("group_members")&&e.group_members&&$.each(e.group_members,(function(e,t){if(t.hasOwnProperty("identity_picture")&&t.identity_picture)if(t.identity_picture.hasOwnProperty("thumbnail")&&t.identity_picture.thumbnail){var i=`${api.get_employee_identity_picture}?id=${t.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${t.identity_picture.thumbnail}`;t.identity_picture.avtarUrl=i}else t.hasOwnProperty("display_name")&&t.display_name?t.imageLetter=t.display_name.charAt(0):t.imageLetter=t.name.first.charAt(0);else t.hasOwnProperty("display_name")&&t.display_name?t.imageLetter=t.display_name.charAt(0):t.imageLetter=t.name.first.charAt(0)})),e))),from:"standard_group"};console.log("getData",a),fetch.replaceHtml((function(){$(".expand-search-wrap").removeClass("active").children(".expand-search-input").val("").removeClass("searchexpand"),digibiz.alreadySelected.length>0&&$.each(digibiz.alreadySelected,(function(e,t){t.hasOwnProperty("group_id")&&t.group_id&&$(`.accordion-content[data-group-id="${t.group_id}"]`).find(`.communication-group-employee-select-btn[data-dj-unique-employee-id="${t.id}"]`).parents(".communication-group-employee-select-btn-checkbox-click-wrapper").addClass("selected-row")})),i()}),"page/communication/employee_selection_list","#employee-selection-list-template","#communication-group-activate-employee-group-employee-list-wrapper",a)}function listenForGroupMembersList(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){if(e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10){$(this).off("el_scroll"),addLoader();var t={device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id")};sessionStorage.getItem("group_id")?t.id=sessionStorage.getItem("group_id"):t.id=sessionStorage.getItem("activate_group_id"),groupGet(t).then((e=>{var t={device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id"),count:20,offset:digibiz.communicationActivateEmployeeGroupEmployeeList.length};sessionStorage.getItem("group_id")?t.group_id=sessionStorage.getItem("group_id"):t.group_id=sessionStorage.getItem("activate_group_id"),getCompleteGroupMembers(t).then((t=>{if(removeLoader(),t&&t.length>0)scrollProcessCommunicationGroupActivateEmployeeGroupEmployeeList(t,e,(function(){listenForGroupMembersList($(".modal-popup-content")),removeLoader()}));else{fetch.appendHtml((function(){removeLoader(),console.log("err",err)}),"page/communication/scroll_employee_selection_list","#scroll-employee-selection-list-template","#communication-group-activate-employee-group-employee-list-wrapper .employee-selection-member-list",{from:"direct"})}})).catch((e=>{fetch.appendHtml((function(){removeLoader(),console.log("err",e)}),"page/communication/scroll_employee_selection_list","#scroll-employee-selection-list-template","#communication-group-activate-employee-group-employee-list-wrapper .employee-selection-member-list",null)}))})).catch((e=>{console.log("err",e);fetch.appendHtml((function(){removeLoader(),console.log("err",e)}),"page/communication/scroll_employee_selection_list","#scroll-employee-selection-list-template","#communication-group-activate-employee-group-employee-list-wrapper .employee-selection-member-list",null)}))}}))}function scrollProcessCommunicationGroupActivateEmployeeGroupEmployeeList(e=null,t=null,i){if(console.log("groupData",t),e&&(digibiz.communicationActivateEmployeeGroupEmployeeList=removeDuplicates(digibiz.communicationActivateEmployeeGroupEmployeeList.concat(e),"id")),t&&t.moderator&&t.moderator.length>0&&$.each(t.moderator,(function(e,i){var a;i.hasOwnProperty("group_id")&&i.group_id?($(`.accordion-content[data-group-id="${i.group_id}"]`).find(`.communication-group-employee-select-btn[data-dj-unique-employee-id="${i.id}"]`).parents(".communication-group-employee-select-btn-checkbox-click-wrapper").addClass("selected-row"),digibiz.employeeSelectedContactList.push({id:i.id,group_id:i.group_id,selected:!0})):"standard"==t.group_type?(a=digibiz.communicationActivateEmployeeGroupEmployeeList.findIndex((e=>e.dj_unique_employee_id==i.id)))>-1&&(digibiz.communicationActivateEmployeeGroupEmployeeList[a].selected=!0):(a=digibiz.communicationActivateEmployeeGroupEmployeeList.findIndex((e=>e.member.dj_unique_employee_id==i.id)))>-1&&(digibiz.communicationActivateEmployeeGroupEmployeeList[a].selected=!0)})),t&&"standard"==t.group_type)var a={EmployeeList:e.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);else e.imageLetter=e.name.first.charAt(0);return e})),from:"direct"};else if(t&&"custom"==t.group_type&&"employee_list"==t.custom_group_from)a={EmployeeList:e.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.member.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else e.imageLetter=e.member_name.first.charAt(0);else e.imageLetter=e.member_name.first.charAt(0);return e})),from:"employee_list"};else if(t&&"custom"==t.group_type&&"standard_group"==t.custom_group_from)a={EmployeeList:e.map((e=>(e.hasOwnProperty("group_members")&&e.group_members&&$.each(e.group_members,(function(e,t){if(t.hasOwnProperty("identity_picture")&&t.identity_picture)if(t.identity_picture.hasOwnProperty("thumbnail")&&t.identity_picture.thumbnail){var i=`${api.get_employee_identity_picture}?id=${t.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${t.identity_picture.thumbnail}`;t.identity_picture.avtarUrl=i}else t.imageLetter=member_name.charAt(0);else t.imageLetter=member_name.charAt(0)})),e))),from:"standard_group"};else a={from:"direct"};console.log("getData",a),fetch.appendHtml((function(){$(".expand-search-wrap").removeClass("active").children(".expand-search-input").val("").removeClass("searchexpand"),digibiz.alreadySelected.length>0&&$.each(digibiz.alreadySelected,(function(e,t){t.hasOwnProperty("group_id")&&t.group_id&&$(`.accordion-content[data-group-id="${t.group_id}"]`).find(`.communication-group-employee-select-btn[data-dj-unique-employee-id="${t.id}"]`).parents(".communication-group-employee-select-btn-checkbox-click-wrapper").addClass("selected-row")})),i()}),"page/communication/scroll_employee_selection_list","#scroll-employee-selection-list-template","#communication-group-activate-employee-group-employee-list-wrapper .employee-selection-member-list",a)}function processCommunicationGroupCreateEmployeeGroupEmployeeList(e,t){digibiz.communicationCreateEmployeeGroupEmployeeList=removeDuplicates(digibiz.communicationCreateEmployeeGroupEmployeeList.concat(e),"id"),digibiz.alreadySelected.length>0&&$.each(digibiz.alreadySelected,(function(e,t){if("employee"==t.type&&$("#modal-communication-group-create-employee-group-employee-list-selection").attr("data-group-id")==t.group_id){var i=digibiz.communicationCreateEmployeeGroupEmployeeList.findIndex((e=>e.dj_unique_employee_id==t.id));i>-1&&(digibiz.communicationCreateEmployeeGroupEmployeeList[i].selected=!0,t.hasOwnProperty("moderator_type")&&"fixed"==t.moderator_type&&(digibiz.communicationCreateEmployeeGroupEmployeeList[i].disabled=!0))}}));var i={EmployeeList:digibiz.communicationCreateEmployeeGroupEmployeeList.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);else e.imageLetter=e.name.first.charAt(0);return e})),from:"group",type:"commuication_create_group_list"};fetch.replaceHtml((function(){t()}),"page/communication/employee_selection_list","#employee-selection-list-template","#communication-group-create-employee-group-employee-list-wrapper",i)}function processCommunicationGroupCreateCustomerGroupCustomerList(e,t){digibiz.communicationCreateEmployeeGroupEmployeeList=removeDuplicates(digibiz.communicationCreateEmployeeGroupEmployeeList.concat(e),"id"),digibiz.alreadySelected.length>0&&$.each(digibiz.alreadySelected,(function(e,t){if(("customer"==t.type||"associate_customer"==t.type)&&$("#modal-communication-group-create-employee-group-employee-list-selection").attr("data-group-id")==t.group_id){var i=digibiz.communicationCreateEmployeeGroupEmployeeList.findIndex((e=>e.id==t.id&&e.type==t.type));i>-1&&(digibiz.communicationCreateEmployeeGroupEmployeeList[i].selected=!0)}}));var i={customerList:digibiz.communicationCreateEmployeeGroupEmployeeList.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture){var t=`${api.get_employee_thumbnail}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&type=display_picture`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);return e}))};fetch.replaceHtml((function(){t()}),"page/communication/customer_selection_list","#customer-selection-list-template","#communication-group-create-employee-group-employee-list-wrapper",i)}function processCommunicationGroupActivateCustomerGroupsList(e,t){digibiz.communicationActivateCustomersGroupsList=removeDuplicates(digibiz.communicationActivateCustomersGroupsList.concat(e),"id");var i={groupList:digibiz.communicationActivateCustomersGroupsList.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thubnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);return e})),page_for:"activate_communication_group"};fetch.replaceHtml((function(){t()}),"page/communication/customer_group_selection","#customer-group-list-selection-template","#communication-group-activate-customer-group-list-wrapper",i)}function processCommunicationGroupActivateCustomerGroupCustomersList(e,t){digibiz.communicationActivateCustomerGroupCustomersList=removeDuplicates(digibiz.communicationActivateCustomerGroupCustomersList.concat(e),"id");var i={customerList:digibiz.communicationActivateCustomerGroupCustomersList.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture){var t=`${api.get_employee_thumbnail}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&type=display_picture`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);return e})),from:"group"};fetch.replaceHtml((function(){digibiz.alreadySelected.length>0&&$.each(digibiz.alreadySelected,(function(e,t){$(`.communication-group-activate-customer-select-btn[data-customer-id="${t.id}"]`).prop("checked",!0)})),t()}),"page/communication/customer_selection_list","#customer-selection-list-template","#communication-group-activate-customer-group-customers-list-wrapper",i)}function processCommunicationGroupCreateEmployeeGroupsList(e,t){digibiz.communicationCreateEmployeeGroupsList=removeDuplicates(digibiz.communicationCreateEmployeeGroupsList.concat(e),"id");var i={groupList:digibiz.communicationCreateEmployeeGroupsList.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thubnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);return e})),page_for:"create_communication_group"};fetch.replaceHtml((function(){var e=[];$(".communication-group-employee-group-member-wrapper").length>0&&$.each($(".communication-group-employee-group-member-wrapper"),(function(t,i){e.push({id:$(i).attr("data-id"),type:"new_member"})})),$("#communication-group-employee-members-list").find(".communication-group-member-wrapper").length>0&&$.each($("#communication-group-employee-members-list .communication-group-member-wrapper"),(function(t,i){e.push({id:$(i).attr("data-group-id"),type:"old_member"})})),e.length>0&&$.each(e,(function(e,t){("new_member"==t.type||"old_member"==t.type)&&$(`.group-selection-wrapper[data-group-id="${t.id}"]`).remove()})),$("#modal-communication-group-employee-group-selection").find(".group-selection-wrapper").length>0||$(".employee-group-list-selection-main-container").append('<div class="no-data">No Data found</div>'),t()}),"page/communication/employee_group_selection","#employee-group-list-selection-template","#communication-group-create-employee-group-list-wrapper",i)}function listenForCommunicationGroupCreateEmployeeGroupsListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),addLoader(),groupsList({device_id:crossplat.device.uuid,type:"employee",list_by:"active_employee_groups",business_id:sessionStorage.getItem("business_id"),count:20,offset:digibiz.communicationCreateEmployeeGroupsList.length}).then((e=>{removeLoader(),scrollProcessCommunicationGroupCreateEmployeeGroupsList(e,(function(){listenForCommunicationGroupCreateEmployeeGroupsListScrollEvent($(".modal-popup-content")),removeLoader()}))})).catch((e=>{fetch.appendHtml((function(){removeLoader(),console.log("err",e)}),"page/communication/scroll_employee_group_selection","#scroll-employee-group-list-selection-template","#communication-group-create-employee-group-list-wrapper .employee-group-list-selection-main-container",{page_for:"create_communication_group"})})))}))}function scrollProcessCommunicationGroupCreateEmployeeGroupsList(e,t){digibiz.communicationCreateEmployeeGroupsList=removeDuplicates(digibiz.communicationCreateEmployeeGroupsList.concat(e),"id");var i={groupList:e.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&business_id=${e.business_id}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);return e})),page_for:"create_communication_group"};fetch.appendHtml((function(){var e=[];$(".communication-group-employee-group-member-wrapper").length>0&&$.each($(".communication-group-employee-group-member-wrapper"),(function(t,i){e.push({id:$(i).attr("data-id"),type:"new_member"})})),$("#communication-group-employee-members-list").find(".communication-group-member-wrapper").length>0&&$.each($("#communication-group-employee-members-list .communication-group-member-wrapper"),(function(t,i){e.push({id:$(i).attr("data-group-id"),type:"old_member"})})),e.length,$("#modal-communication-group-employee-group-selection").find(".group-selection-wrapper").length>0||$(".employee-group-list-selection-main-container").append('<div class="no-data">No Data found</div>'),t()}),"page/communication/scroll_employee_group_selection","#scroll-employee-group-list-selection-template","#communication-group-create-employee-group-list-wrapper .employee-group-list-selection-main-container",i)}function processCommunicationGroupCreateCustomerGroupsList(e,t){digibiz.communicationCreateCustomersGroupsList=removeDuplicates(digibiz.communicationCreateCustomersGroupsList.concat(e),"id");var i={groupList:digibiz.communicationCreateCustomersGroupsList.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thubnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);return e})),page_for:"create_communication_group"};fetch.replaceHtml((function(){var e=[];$(".communication-group-customer-group-member-wrapper").length>0&&$.each($(".communication-group-customer-group-member-wrapper"),(function(t,i){e.push({id:$(i).attr("data-id"),type:"new_member"})})),$("#communication-group-customer-members-list").find(".communication-group-member-wrapper").length>0&&$.each($("#communication-group-customer-members-list .communication-group-member-wrapper"),(function(t,i){e.push({id:$(i).attr("data-group-id"),type:"old_member"})})),e.length>0&&$.each(e,(function(e,t){("new_member"==t.type||"old_member"==t.type)&&$(`.group-selection-wrapper[data-group-id="${t.id}"]`).remove()})),$("#modal-communication-group-customer-group-selection").find(".group-selection-wrapper").length>0||$(".customer-group-list-selection-main-container").append('<div class="no-data">No Data found</div>'),t()}),"page/communication/customer_group_selection","#customer-group-list-selection-template","#communication-group-create-customer-group-list-wrapper",i)}function listenForCommunicationGroupCreateCustomerGroupsListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),addLoader(),groupsList({device_id:crossplat.device.uuid,type:"customer",list_by:"draft_active_customer_groups",business_id:sessionStorage.getItem("business_id"),count:20,offset:digibiz.communicationCreateCustomersGroupsList.length}).then((e=>{removeLoader(),scrollProcessCommunicationGroupCreateCustomerGroupsList(e,(function(){listenForCommunicationGroupCreateCustomerGroupsListScrollEvent($(".modal-popup-content")),removeLoader()}))})).catch((e=>{fetch.appendHtml((function(){removeLoader(),console.log("err",e)}),"page/communication/scroll_customer_group_selection","#scroll-customer-group-list-selection-template","#communication-group-create-customer-group-list-wrapper .customer-group-list-selection-main-container",{page_for:"create_communication_group"})})))}))}function scrollProcessCommunicationGroupCreateCustomerGroupsList(e,t){digibiz.communicationCreateCustomersGroupsList=removeDuplicates(digibiz.communicationCreateCustomersGroupsList.concat(e),"id");var i={groupList:e.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thubnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);return e})),page_for:"create_communication_group"};fetch.appendHtml((function(){var e=[];$(".communication-group-customer-group-member-wrapper").length>0&&$.each($(".communication-group-customer-group-member-wrapper"),(function(t,i){e.push({id:$(i).attr("data-id"),type:"new_member"})})),$("#communication-group-customer-members-list").find(".communication-group-member-wrapper").length>0&&$.each($("#communication-group-customer-members-list .communication-group-member-wrapper"),(function(t,i){e.push({id:$(i).attr("data-group-id"),type:"old_member"})})),e.length,$("#modal-communication-group-customer-group-selection").find(".group-selection-wrapper").length>0||$(".customer-group-list-selection-main-container").append('<div class="no-data">No Data found</div>'),t()}),"page/communication/scroll_customer_group_selection","#scroll-customer-group-list-selection-template","#communication-group-create-customer-group-list-wrapper .customer-group-list-selection-main-container",i)}function processCommunicationGroupCreateCollaboratorGroupsList(e,t){digibiz.communicationCreateCollaboratorGroupsList=removeDuplicates(digibiz.communicationCreateCollaboratorGroupsList.concat(e),"id");var i={groupList:digibiz.communicationCreateCollaboratorGroupsList.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thubnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);return e}))};fetch.replaceHtml((function(){var e=[];$(".communication-group-collaborator-group-member-wrapper").length>0&&$.each($(".communication-group-collaborator-group-member-wrapper"),(function(t,i){e.push({id:$(i).attr("data-id"),type:"new_member"})})),$("#communication-group-collaborator-members-list").find(".communication-group-member-wrapper").length>0&&$.each($("#communication-group-collaborator-members-list .communication-group-member-wrapper"),(function(t,i){e.push({id:$(i).attr("data-group-id"),type:"old_member"})})),e.length>0&&$.each(e,(function(e,t){("new_member"==t.type||"old_member"==t.type)&&$(`.group-selection-wrapper[data-group-id="${t.id}"]`).remove()})),$("#modal-communication-group-collaborator-group-selection").find(".group-selection-wrapper").length>0||$(".collaborator-group-list-selection-main-container").append('<div class="no-data">No Data found</div>'),t()}),"page/communication/collaborator_group_selection","#collaborator-group-list-selection-template","#communication-group-create-collaborator-group-list-wrapper",i)}function listenForCommunicationGroupCreateCollaboratorGroupsListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),addLoader(),collaboratorGroupsList({device_id:crossplat.device.uuid,list_by:"all_my_active_collaborator_groups",business_id:sessionStorage.getItem("business_id"),count:20,offset:digibiz.communicationCreateCollaboratorGroupsList.length}).then((e=>{removeLoader(),processCommunicationGroupCreateCollaboratorGroupsList(e,(function(){listenForCommunicationGroupCreateCollaboratorGroupsListScrollEvent($(".modal-popup-content")),removeLoader()}))})).catch((e=>{fetch.appendHtml((function(){removeLoader(),console.log("err",e)}),"page/communication/scroll_collaborator_group_selection","#scroll-collaborator-group-list-selection-template","#communication-group-create-collaborator-group-list-wrapper .collaborator-group-list-selection-main-container",null)})))}))}function scrollProcessCommunicationGroupCreateCollaboratorGroupsList(e,t){digibiz.communicationCreateCollaboratorGroupsList=removeDuplicates(digibiz.communicationCreateCollaboratorGroupsList.concat(e),"id");var i={groupList:e.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thubnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);return e}))};fetch.appendHtml((function(){var e=[];$(".communication-group-collaborator-group-member-wrapper").length>0&&$.each($(".communication-group-collaborator-group-member-wrapper"),(function(t,i){e.push({id:$(i).attr("data-id"),type:"new_member"})})),$("#communication-group-collaborator-members-list").find(".communication-group-member-wrapper").length>0&&$.each($("#communication-group-collaborator-members-list .communication-group-member-wrapper"),(function(t,i){e.push({id:$(i).attr("data-group-id"),type:"old_member"})})),e.length,$("#modal-communication-group-collaborator-group-selection").find(".group-selection-wrapper").length>0||$(".collaborator-group-list-selection-main-container").append('<div class="no-data">No Data found</div>'),t()}),"page/communication/scroll_collaborator_group_selection","#scroll-collaborator-group-list-selection-template","#communication-group-create-collaborator-group-list-wrapper .collaborator-group-list-selection-main-container",i)}function validateCommunicationGroupData(){let e=!1,t=!1,i=!1,a=!1,o=!1,s=!1;var r,n;($("#communicationGroupName").val().trim().length>0?($("#communicationGroupName").val().trim().length<config.EmployeeGroupNameMinLength&&(showError($("#communicationGroupName"),`This field should contain atleast ${config.EmployeeGroupNameMinLength} characters.`),e=!0),$("#communicationGroupName").val().trim().length>config.EmployeeGroupNameMaxLength&&(showError($("#communicationGroupName"),`This field can't have more than  ${config.EmployeeGroupNameMaxLength} characters.`),e=!0),$("#communicationGroupName").val().trim().length>=config.EmployeeGroupNameMinLength&&$("#communicationGroupName").val().trim().length<=config.EmployeeGroupNameMaxLength&&(e=!1)):(showError($("#communicationGroupName"),"This field is required."),e=!0),$("#communication_group_desc").val().trim().length>0?($("#communication_group_desc").val().trim().length<config.EmployeeGroupDescriptionMinLength&&(showError($("#communication_group_desc"),`This field should contain atleast ${config.EmployeeGroupDescriptionMinLength} characters.`),t=!0),$("#communication_group_desc").val().trim().length>config.EmployeeGroupDescriptionMaxLength&&(showError($("#communication_group_desc"),`This field can't have more than  ${config.EmployeeGroupDescriptionMaxLength} characters.`),t=!0),$("#communication_group_desc").val().trim().length>=config.EmployeeGroupDescriptionMinLength&&$("#communication_group_desc").val().trim().length<=config.EmployeeGroupDescriptionMaxLength&&(t=!1)):t=!1,$(".selected-value-group-visbility").attr("data-value").length>0?i=!1:(showError($("#select-visibility-type"),"This field is required."),i=!0),""==sessionStorage.getItem("group_id")||null==sessionStorage.getItem("group_id")||null==sessionStorage.getItem("group_id"))&&("contact_list"==sessionStorage.getItem("group_from")?($(".communication-group-employee-member-checkbox:checked").length>0?a=!1:(Materialize.toast("Please add atleast 1 Employee",3e3,"round error-alert"),a=!0),$(".communication-group-customer-member-checkbox:checked").length>0?o=!1:(Materialize.toast("Please add atleast 1 Customer",3e3,"round error-alert"),o=!0),$(".communication-group-moderator-members-list").find(".communication-group-moderator-member-not-saved:checked").length>0?s=!1:(Materialize.toast("Please add group moderator.",3e3,"round error-alert"),s=!0)):(r=$(".communication-group-employee-group-member-checkbox:checked").length>0,n=$(".communication-group-collaborator-group-member-checkbox:checked").length>0,r||n?a=!1:(Materialize.toast("Please add atleast 1 employee/collaborator group",3e3,"round error-alert"),a=!0),$(".communication-group-customer-group-member-checkbox:checked").length>0?o=!1:(Materialize.toast("Please add atleast 1 Customer Group",3e3,"round error-alert"),o=!0)));return!(a||o||t||e||i||s)}function processCommunicationGroupActivate(e,t,i){if(console.log("data",e),digibiz.communicationGroupActivate=removeDuplicates(digibiz.communicationGroupActivate.concat(e),"id"),console.log("groupData",t),t.moderator&&t.moderator.length>0&&$.each(t.moderator,(function(e,t){if(t.hasOwnProperty("group_id")&&t.group_id)$(`.accordion-content[data-group-id="${t.group_id}"]`).find(`.communication-group-moderator-select-btn[data-id="${t.id}"]`).prop("checked",!0);else{var i=digibiz.communicationGroupActivate.findIndex((e=>e.member.id==t.id));i>-1&&(digibiz.communicationGroupActivate[i].selected=!0)}})),"contact_list"==t.group_type)var a={page_for:"contact_list_moderator",membersList:digibiz.communicationGroupActivate.map((e=>{var t=digibiz.selectedMembers.findIndex((t=>t.id==e.member.id));if(-1!=t&&(digibiz.selectedMembers[t].more_info&&(e.more_info=digibiz.selectedMembers[t].more_info),digibiz.selectedMembers[t].main_identifier&&(e.main_identifier=digibiz.selectedMembers[t].more_info),digibiz.selectedMembers[t].associate_customter_info&&(e.associate_customter_info=digibiz.selectedMembers[t].associate_customter_info),digibiz.selectedMembers[t].role_business_name&&(e.role_business_name=digibiz.selectedMembers[t].role_business_name),digibiz.selectedMembers[t].label&&(e.label=digibiz.selectedMembers[t].label)),e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){if("employee"==e.member.type){var i=`${api.get_employee_identity_picture}?id=${e.member.id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=i,e.imageLetter=e.member_name.first.charAt(0)}else if("customer"==e.member.type&&"customer"==e.member.customer_type){i=`${api.get_customer_identity_picture}?id=${e.member.id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=i,e.imageLetter=e.member_name.first.charAt(0)}else if("customer"==e.member.type&&"associate_customer"==e.member.customer_type){i=`${api.get_associate_customer_identity_picture}?id=${e.member.id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=i,e.imageLetter=e.member_name.first.charAt(0)}}else e.imageLetter=e.member_name.first.charAt(0);else e.imageLetter=e.member_name.first.charAt(0);return e})),page_for:"contact_list_moderator"};else if("group_list"==t.group_type)a={membersList:digibiz.communicationGroupActivate.map((e=>(e.hasOwnProperty("group_members")&&e.group_members&&$.each(e.group_members,(function(e,t){if(t.hasOwnProperty("identity_picture")&&t.identity_picture)if(t.identity_picture.hasOwnProperty("thumbnail")&&t.identity_picture.thumbnail){var i=`${api.get_employee_identity_picture}?id=${t.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${t.identity_picture.thumbnail}`;t.identity_picture.avtarUrl=i,t.imageLetter=t.name.first.charAt(0)}else t.imageLetter=t.name.first.charAt(0);else t.imageLetter=t.name.first.charAt(0)})),e))),page_for:"standard_group"};console.log("getData",a),fetch.replaceHtml((function(){t.moderator&&t.moderator.length>0&&$.each(t.moderator,(function(e,t){t.hasOwnProperty("group_id")&&t.group_id&&$(`.accordion-content[data-group-id="${t.group_id}"]`).find(`.communication-group-moderator-select-btn[data-id="${t.id}"]`).prop("checked",!0)})),i()}),"page/communication/moderator_selection_list","#moderator-selection-list-template","#communication-group-members-wrapper",a)}function listenForCommunicationGroupActivateScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){if(e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10){$(this).off("el_scroll"),addLoader();var t={device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id")};sessionStorage.getItem("group_id")?t.id=sessionStorage.getItem("group_id"):t.id=sessionStorage.getItem("activate_group_id"),groupGet(t).then((e=>{var t={device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id"),count:5,offset:digibiz.communicationGroupActivate.length};sessionStorage.getItem("group_id")?t.group_id=sessionStorage.getItem("group_id"):t.group_id=sessionStorage.getItem("activate_group_id"),getCompleteGroupMembers(t).then((t=>{if(removeLoader(),t&&t.length>0)scrollProcessCommunicationGroupActivate(t,e,(function(){listenForCommunicationGroupActivateScrollEvent($(".modal-popup-content")),removeLoader()}));else{fetch.appendHtml((function(){removeLoader(),console.log("err",err)}),"page/communication/scroll_moderator_selection_list","#scroll-moderator-selection-list-template","#communication-group-members-wrapper .employee-selection-member-list",{page_for:"contact_list_moderator"})}})).catch((e=>{fetch.appendHtml((function(){removeLoader(),console.log("err",e)}),"page/communication/scroll_moderator_selection_list","#scroll-moderator-selection-list-template","#communication-group-members-wrapper .employee-selection-member-list",{page_for:"contact_list_moderator"})}))})).catch((e=>{console.log("err",e);fetch.appendHtml((function(){removeLoader(),console.log("err",e)}),"page/communication/scroll_moderator_selection_list","#scroll-moderator-selection-list-template","#communication-group-members-wrapper .employee-selection-member-list",{page_for:"contact_list_moderator"})}))}}))}function scrollProcessCommunicationGroupActivate(e,t,i){if(console.log("data",e),digibiz.communicationGroupActivate=removeDuplicates(digibiz.communicationGroupActivate.concat(e),"id"),t.moderator&&t.moderator.length>0&&$.each(t.moderator,(function(e,t){if(t.hasOwnProperty("group_id")&&t.group_id)$(`.accordion-content[data-group-id="${t.group_id}"]`).find(`.communication-group-moderator-select-btn[data-id="${t.id}"]`).prop("checked",!0);else{var i=digibiz.communicationGroupActivate.findIndex((e=>e.member.id==t.id));i>-1&&(digibiz.communicationGroupActivate[i].selected=!0)}})),"contact_list"==t.group_type)var a={page_for:"contact_list_moderator",membersList:e.map((e=>{var t=digibiz.selectedMembers.findIndex((t=>t.id==e.member.id));if(-1!=t&&(digibiz.selectedMembers[t].more_info&&(e.more_info=digibiz.selectedMembers[t].more_info),digibiz.selectedMembers[t].main_identifier&&(e.main_identifier=digibiz.selectedMembers[t].more_info),digibiz.selectedMembers[t].associate_customter_info&&(e.associate_customter_info=digibiz.selectedMembers[t].associate_customter_info),digibiz.selectedMembers[t].role_business_name&&(e.role_business_name=digibiz.selectedMembers[t].role_business_name),digibiz.selectedMembers[t].label&&(e.label=digibiz.selectedMembers[t].label)),e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){if("employee"==e.member.type){var i=`${api.get_employee_identity_picture}?id=${e.member.id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=i,e.imageLetter=e.member_name.first.charAt(0)}else if("customer"==e.member.type&&"customer"==e.member.customer_type){i=`${api.get_customer_identity_picture}?id=${e.member.id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=i,e.imageLetter=e.member_name.first.charAt(0)}else if("customer"==e.member.type&&"associate_customer"==e.member.customer_type){i=`${api.get_associate_customer_identity_picture}?id=${e.member.id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=i,e.imageLetter=e.member_name.first.charAt(0)}}else e.imageLetter=e.member_name.first.charAt(0);else e.imageLetter=e.member_name.first.charAt(0);return e})),page_for:"contact_list_moderator"};else if("group_list"==t.group_type)a={membersList:e.map((e=>(e.hasOwnProperty("group_members")&&e.group_members&&$.each(e.group_members,(function(e,t){if(t.hasOwnProperty("identity_picture")&&t.identity_picture)if(t.identity_picture.hasOwnProperty("thumbnail")&&t.identity_picture.thumbnail){var i=`${api.get_employee_identity_picture}?id=${t.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${t.identity_picture.thumbnail}`;t.identity_picture.avtarUrl=i,t.imageLetter=t.name.first.charAt(0)}else t.imageLetter=t.name.first.charAt(0);else t.imageLetter=t.name.first.charAt(0)})),e))),page_for:"standard_group"};console.log("getData",a),fetch.appendHtml((function(){t.moderator&&t.moderator.length>0&&$.each(t.moderator,(function(e,t){t.hasOwnProperty("group_id")&&t.group_id&&$(`.accordion-content[data-group-id="${t.group_id}"]`).find(`.communication-group-moderator-select-btn[data-id="${t.id}"]`).prop("checked",!0)})),i()}),"page/communication/scroll_moderator_selection_list","#scroll-moderator-selection-list-template","#communication-group-members-wrapper .employee-selection-member-list",a)}function processSearchCommunicationGroupActivate(e,t,i){if(console.log("data",e),"contact_list"==t.group_type)var a={page_for:"contact_list_moderator",membersList:e.map((e=>{var t=digibiz.selectedMembers.findIndex((t=>t.id==e.member.id));if(-1!=t&&(digibiz.selectedMembers[t].more_info&&(e.more_info=digibiz.selectedMembers[t].more_info),digibiz.selectedMembers[t].main_identifier&&(e.main_identifier=digibiz.selectedMembers[t].more_info),digibiz.selectedMembers[t].associate_customter_info&&(e.associate_customter_info=digibiz.selectedMembers[t].associate_customter_info),digibiz.selectedMembers[t].role_business_name&&(e.role_business_name=digibiz.selectedMembers[t].role_business_name),digibiz.selectedMembers[t].label&&(e.label=digibiz.selectedMembers[t].label)),e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){if("employee"==e.member.type){var i=`${api.get_employee_identity_picture}?id=${e.member.id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=i,e.imageLetter=e.member_name.first.charAt(0)}else if("customer"==e.member.type&&"customer"==e.member.customer_type){i=`${api.get_customer_identity_picture}?id=${e.member.id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=i,e.imageLetter=e.member_name.first.charAt(0)}else if("customer"==e.member.type&&"associate_customer"==e.member.customer_type){i=`${api.get_associate_customer_identity_picture}?id=${e.member.id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=i,e.imageLetter=e.member_name.first.charAt(0)}}else e.imageLetter=e.member_name.first.charAt(0);else e.imageLetter=e.member_name.first.charAt(0);return e})),page_for:"contact_list_moderator"};else if("group_list"==t.group_type)a={membersList:e.map((e=>(e.hasOwnProperty("group_members")&&e.group_members&&$.each(e.group_members,(function(e,t){if(t.hasOwnProperty("identity_picture")&&t.identity_picture)if(t.identity_picture.hasOwnProperty("thumbnail")&&t.identity_picture.thumbnail){var i=`${api.get_employee_identity_picture}?id=${t.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${t.identity_picture.thumbnail}`;t.identity_picture.avtarUrl=i,t.imageLetter=t.name.first.charAt(0)}else t.imageLetter=t.name.first.charAt(0);else t.imageLetter=t.name.first.charAt(0)})),e))),page_for:"standard_group"};console.log("getData",a),fetch.appendHtml((function(){t.moderator&&t.moderator.length>0&&$.each(t.moderator,(function(e,t){t.hasOwnProperty("group_id")&&t.group_id&&$(`.accordion-content[data-group-id="${t.group_id}"]`).find(`.communication-group-moderator-select-btn[data-id="${t.id}"]`).prop("checked",!0)})),i()}),"page/communication/scroll_moderator_selection_list","#scroll-moderator-selection-list-template","#communication-group-members-wrapper .employee-selection-member-list",a)}function customerBusinessListPage(){return new Promise(((e,t)=>{businessList({device_id:crossplat.device.uuid,list_by:"customer"}).then((t=>{fetch.replaceHtml((function(){processCustomerBusinessList(t,(function(){appScroll.scrollBar(".employee-business-list-main-container"),listenForCustomerBusinessListScrollEvent($(".employee-business-list-main-container")),removeLoader(),e()}))}),"page/business/customer_business_list_wrapper","#customer-business-list-wrapper-template","#main-content-wrapper",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(appScroll.scrollBar(".employee-business-list-main-container"),listenForCustomerBusinessListScrollEvent($(".employee-business-list-main-container")),removeLoader(),e())}),"page/business/customer_business_list_data","#customer-business-data-list-template","#customer-business-list-wrapper",null)}),"page/business/customer_business_list_wrapper","#customer-business-list-wrapper-template","#main-content-wrapper",null)}))}))}function customersBusinessListPage(){return new Promise(((e,t)=>{0==digibiz.checkAccountFlag?businessList({device_id:crossplat.device.uuid,list_by:"customer_module",count:20,offset:0}).then((t=>{fetch.replaceHtml((function(){processCustomerBusinessList(t,(function(){appScroll.scrollBar(".employee-business-list-main-container"),listenForCustomerBusinessListScrollEvent($(".employee-business-list-main-container")),removeLoader(),e()}))}),"page/business/customer_business_list_wrapper","#customer-business-list-wrapper-template","#digibiz-home-page-middle-band-wrapper",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/business/customer_business_list_data","#customer-business-data-list-template","#customer-business-list-wrapper",null)}),"page/business/customer_business_list_wrapper","#customer-business-list-wrapper-template","#digibiz-home-page-middle-band-wrapper",null)})):fetch.replaceHtml((function(){processCustomerBusinessList(digibiz.customer_business_list,(function(){appScroll.scrollBar(".employee-business-list-main-container"),listenForCustomerBusinessListScrollEvent($(".employee-business-list-main-container")),removeLoader(),e()}))}),"page/business/customer_business_list_wrapper","#customer-business-list-wrapper-template","#digibiz-home-page-middle-band-wrapper",null)}))}function listenForCustomerBusinessListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){if(e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10){$(this).off("el_scroll");var t=digibiz.customer_business_list.filter((e=>"customer"==e.type));businessList({device_id:crossplat.device.uuid,list_by:"customer_module",count:5,offset:t.length}).then((e=>{scrollProcessCustomerBusinessList(e,(function(){listenForCustomerBusinessListScrollEvent($(".employee-business-list-main-container")),removeLoader()}))})).catch((e=>{}))}}))}function scrollProcessCustomerBusinessList(e,t){digibiz.customer_business_list=removeDuplicatesFromMultipleProperties(digibiz.customer_business_list.concat(e),"customer_id","type");var i={customer_business_list_data:e.map((e=>{if(joinRoom(e.id),e.hasOwnProperty("display_picture")&&e.display_picture)if(e.display_picture.hasOwnProperty("thumbnail")&&e.display_picture.thumbnail){var t=`${api.get_business_multimedia}?business_id=${e.id}&device_id=${crossplat.device.uuid}&image_id=${e.display_picture.thumbnail}`;e.display_picture.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};fetch.appendHtml((function(e){e||t()}),"page/business/scroll_customer_business_list_data","#scroll-customer-business-data-list-template","#customer-business-list-wrapper .employee-business-list-contentbox",i)}function customerBusinessListHelperMethod(){businessList({device_id:crossplat.device.uuid,list_by:"customer"}).then((e=>{digibiz.customer_business_list=e,digibiz.customer_business_list.length>0&&$("#customer-role-btn").removeClass("hide")})).catch((e=>{}))}function customerModuleListHelperMethod(){businessList({device_id:crossplat.device.uuid,list_by:"customer_module",count:20,offset:0}).then((e=>{digibiz.customer_business_list=e,digibiz.customer_business_list.length>0&&$("#customer-role-btn").removeClass("hide")})).catch((e=>{}))}function associateCustomerModuleListHelperMethod(){businessList({device_id:crossplat.device.uuid,list_by:"associate_customer_module",count:20,offset:0}).then((e=>{digibiz.customer_business_list=e,digibiz.customer_business_list.length>0&&$("#customer-role-btn").removeClass("hide")})).catch((e=>{}))}function processCustomerBusinessList(e,t){digibiz.customer_business_list=removeDuplicatesFromMultipleProperties(digibiz.customer_business_list.concat(e),"customer_id","type"),customer_business_list=digibiz.customer_business_list.filter((e=>"customer"==e.type));var i={customer_business_list_data:customer_business_list.map((e=>{if(joinRoom(e.id),e.hasOwnProperty("display_picture")&&e.display_picture)if(e.display_picture.hasOwnProperty("thumbnail")&&e.display_picture.thumbnail){var t=`${api.get_business_multimedia}?business_id=${e.id}&device_id=${crossplat.device.uuid}&image_id=${e.display_picture.thumbnail}`;e.display_picture.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/business/customer_business_list_data","#customer-business-data-list-template","#customer-business-list-wrapper",i)}function savebusinessDisplayPicture(e,t){generateThubnail(e,"base64").then((async function(i){var a={device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),data:{display_picture:e,display_picture_thumbnail:i}};console.log("requestParams",a),fetch.apiCall((function(e,i,a){"success"===i?t(null,e.Data.display_picture):t("failed")}),api.set_business_display_picture,"POST","JSON",a)}))}function savebusinessCredentialPicture(e,t,i){console.log("savebusinessCredentialPicture",e),generateThubnail(e,"base64").then((async function(a){console.log("thubnailContent",a);var o={device_id:crossplat.device.uuid,account_id:sessionStorage.getItem("account_id"),type:t,picture_original_details:e,picture_thumbnail_details:a};console.log("requestParams",o),fetch.apiCall((function(e,t,a){"success"===t?i(null,e.data):i(JSON.parse(e.responseText))}),api.add_transaction_signature_picture,"POST","JSON",o)}))}function savebusinessDisplayVideoThumbnail(e,t){requestParams={device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),data:{display_video_thumbnail:e}},fetch.apiCall((function(e,i,a){"success"===i?t(null,e.Data):t("failed")}),api.set_business_display_video_thumbnail,"POST","JSON",requestParams)}function savebusinessDisplayVideo(e,t,i){requestParams={device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),data:{display_video:e,display_video_thumbnail:t}},fetch.apiCall((function(e,t,a){"success"===t?i(null,e.Data.display_video):i("failed")}),api.set_business_display_video,"POST","JSON",requestParams)}function saveEmployeeIdentityPicture(e,t,i){generateThubnail(e,"base64").then((async function(e){var a={device_id:crossplat.device.uuid,employee_id:sessionStorage.getItem("employee_id"),data:{thumbnail_content:e,size:t.size}};fetch.apiCall((function(e,t,a){"success"===t?i(null,e.Data.identity_picture.thumbnail):i("failed")}),api.store_employee_identity_picture,"POST","JSON",a)}))}function saveEmployeeIdentityVideoThumbnail(e,t){var i={device_id:crossplat.device.uuid,employee_id:sessionStorage.getItem("employee_id"),data:{thumbnail_content:e}};fetch.apiCall((function(e,i,a){"success"===i?t(null,e.Data):t("failed")}),api.store_employee_identity_video_thumbnail,"POST","JSON",i)}function saveEmployeeIdentityVideo(e,t,i){var a={device_id:crossplat.device.uuid,employee_id:sessionStorage.getItem("employee_id"),data:{video_content:e,thumbnail_content:t}};fetch.apiCall((function(e,t,a){"success"===t?i(null,e.Data.identity_video):i("failed")}),api.store_employee_identity_video,"POST","JSON",a)}function saveCustomerIdentityPicture(e,t,i){generateThubnail(e,"base64").then((async function(e){var a={device_id:crossplat.device.uuid,customer_id:sessionStorage.getItem("customer_id"),data:{thumbnail_content:e,size:t.size}};fetch.apiCall((function(e,t,a){"success"===t?i(null,e.Data.identity_picture.thumbnail):i("failed")}),api.store_customer_identity_picture,"POST","JSON",a)}))}function saveCustomerIdentityVideoThumbnail(e,t){var i={device_id:crossplat.device.uuid,customer_id:sessionStorage.getItem("customer_id"),data:{thumbnail_content:e}};fetch.apiCall((function(e,i,a){"success"===i?t(null,e.Data):t("failed")}),api.store_customer_identity_video_thumbnail,"POST","JSON",i)}function saveCustomerIdentityVideo(e,t,i){var a={device_id:crossplat.device.uuid,customer_id:sessionStorage.getItem("customer_id"),data:{video_content:e,thumbnail_content:t}};fetch.apiCall((function(e,t,a){"success"===t?i(null,e.Data.identity_video):i("failed")}),api.store_customer_identity_video,"POST","JSON",a)}function saveAssociateCustomerIdentityPicture(e,t,i){generateThubnail(e,"base64").then((async function(e){var a={device_id:crossplat.device.uuid,associate_customer_id:$("#edit-associate-customer-modal").attr("data-associate-customer-id"),data:{thumbnail_content:e,size:t.size}};fetch.apiCall((function(e,t,a){"success"===t?i(null,e.Data.identity_picture.thumbnail):i("failed")}),api.store_associate_customer_identity_picture,"POST","JSON",a)}))}function saveAssociateCustomerIdentityVideoThumbnail(e,t){var i={device_id:crossplat.device.uuid,associate_customer_id:$("#edit-associate-customer-modal").attr("data-associate-customer-id"),data:{thumbnail_content:e}};fetch.apiCall((function(e,i,a){"success"===i?t(null,e.Data):t("failed")}),api.store_associate_customer_identity_video_thumbnail,"POST","JSON",i)}function saveAssociateCustomerIdentityVideo(e,t,i){var a={device_id:crossplat.device.uuid,associate_customer_id:$("#edit-associate-customer-modal").attr("data-associate-customer-id"),data:{video_content:e,thumbnail_content:t}};fetch.apiCall((function(e,t,a){"success"===t?i(null,e.Data.identity_video):i("failed")}),api.store_associate_customer_identity_video,"POST","JSON",a)}function savebusinessMultimedia(e,t,i){e.startsWith("data:")?generateThubnail(e,"base64").then((async function(e){var a={};"identity-proof-load-btn"==t?a={id_proofs:e}:"pancard-load-btn"==t?a={pan_card_details:e}:"shop-established-license-load-btn"==t||"gst-license-load-btn"==t?a={shop_established_license:e}:"partnership-deed-load-btn"==t?a={partnership_deed:e}:"partnership-registration-certificate-load-btn"==t?a={partnership_registration_certificate:e}:"llp-registration-certificate-load-btn"==t?a={llp_registration_certificate:e}:"transaction-person-load-btn"==t?a={transaction_person:e}:"memorandum-of-association-load-btn"==t?a={memorandum_of_association:e}:"articles-of-association-load-btn"==t?a={article_of_association:e}:"trust-establishment-license-load-btn"==t?a={trust_foundation_established_licence:e}:"signature"==t?a={declaration_signature_pictures:e}:"transaction"==t?a={declaration_transaction_pictures:e}:"declaration_video_thumbnail"==t?a={declaration_video_thumbnail:e}:"declaration_video"==t&&(a={declaration_video:e}),requestParams={device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id")},requestParams.data=a,fetch.apiCall((function(e,t,a){"success"===t?i(null,e):i("failed")}),api.set_business_multimedia,"POST","JSON",requestParams)})):getBlobFromURL(e).then((e=>{URL.createObjectURL(e);var a=new FileReader;a.onloadend=function(){generateThubnail(this.result,"base64").then((async function(e){var a={};"identity-proof-load-btn"==t?a={id_proofs:e}:"pancard-load-btn"==t?a={pan_card_details:e}:"shop-established-license-load-btn"==t||"gst-license-load-btn"==t?a={shop_established_license:e}:"partnership-deed-load-btn"==t?a={partnership_deed:e}:"partnership-registration-certificate-load-btn"==t?a={partnership_registration_certificate:e}:"llp-registration-certificate-load-btn"==t?a={llp_registration_certificate:e}:"transaction-person-load-btn"==t?a={transaction_person:e}:"memorandum-of-association-load-btn"==t?a={memorandum_of_association:e}:"articles-of-association-load-btn"==t?a={article_of_association:e}:"trust-establishment-license-load-btn"==t?a={trust_foundation_established_licence:e}:"signature"==t?a={declaration_signature_pictures:e}:"transaction"==t?a={declaration_transaction_pictures:e}:"declaration_video_thumbnail"==t?a={declaration_video_thumbnail:e}:"declaration_video"==t&&(a={declaration_video:e}),requestParams={device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id")},requestParams.data=a,fetch.apiCall((function(e,t,a){"success"===t?i(null,e):i("failed")}),api.set_business_multimedia,"POST","JSON",requestParams)}))},a.readAsDataURL(e)}))}function saveVideoDeclartionVideo(e,t){var i={device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),data:{declaration_video:e}};fetch.apiCall((function(e,i,a){"success"===i?t(null,e):t("failed")}),api.set_business_multimedia,"POST","JSON",i)}function validateEmployeeData(e){let t=!1;return $(e).text().trim().length>0?($(e).text().trim().length<config.EmployeeDataMinLength&&(showError($(e),`This field should contain atleast ${config.EmployeeDataMinLength} characters.`),t=!0),$(e).text().trim().length>config.EmployeeDataMaxLength&&(showError($(e),`This field can't have more than  ${config.EmployeeDataMaxLength} characters.`),t=!0),$(e).text().trim().length>=config.EmployeeDataMinLength&&$(e).text().trim().length<=config.EmployeeDataMaxLength&&(t=!1)):(showError($(e),"This field is required."),t=!0),!t}function customerAccessIdentifiersPage(){return new Promise(((e,t)=>{customerIdentifierList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"customer",count:15,offset:0}).then((t=>{fetch.replaceHtml((function(){processCustomerAccessIdentifiersList(t,(function(){appScroll.scrollBar(".customer-access-identifier-list-wrapper"),listenForCustomerAccessIdentifiersListScrollEvent($(".customer-access-identifier-list-wrapper")),removeLoader(),e()}))}),"page/customer/customer_access_identifier_list_wrapper","#customer-access-identifier-list-wrapper-template","#main-content-wrapper",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/customer/customer_access_identifier_list_data","#customer-access-identifier-list-data-template","#customer-access-identifier-list-wrapper",null)}),"page/customer/customer_access_identifier_list_wrapper","#customer-access-identifier-list-wrapper-template","#main-content-wrapper",null)}))}))}function processCustomerAccessIdentifiersList(e,t){digibiz.customer_access_identifiers_list=removeDuplicates(digibiz.customer_access_identifiers_list.concat(e),"id");var i={customer_access_identifiers_list_data:digibiz.customer_access_identifiers_list};fetch.replaceHtml((function(e){e||t()}),"page/customer/customer_access_identifier_list_data","#customer-access-identifier-list-data-template","#customer-access-identifier-list-wrapper",i)}function listenForCustomerAccessIdentifiersListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),customerIdentifierList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"customer",count:20,offset:digibiz.customer_access_identifiers_list.length}).then((e=>{scrollProcessCustomerAccessIdentifiersList(e,(function(){listenForCustomerAccessIdentifiersListScrollEvent($(".customer-access-identifier-list-wrapper")),removeLoader()}))})).catch((e=>{removeLoader()})))}))}function scrollProcessCustomerAccessIdentifiersList(e,t){digibiz.customer_access_identifiers_list=removeDuplicates(digibiz.customer_access_identifiers_list.concat(e),"id");var i={customer_access_identifiers_list_data:e};fetch.appendHtml((function(e){e||t()}),"page/customer/scroll_customer_access_identifier_list_data","#scroll-customer-access-identifier-list-data-template","#customer-access-identifier-list-wrapper .os-content",i)}function customerAccessIdentifiersItemsPage(){return new Promise(((e,t)=>{listContactsList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"customer",list_by:"primary_customer_identifier",primary_customer_identifier_id:sessionStorage.getItem("identifier_id")}).then((t=>{fetch.replaceHtml((function(){processCustomerAccessIdentifierItemsList(t,(function(){removeLoader(),e()}))}),"page/customer/customer_access_identifier_items_wrapper","#customer-access-identifier-items-list-wrapper-template","#main-content-wrapper",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/customer/customer_access_identifier_items_data","#customer-access-identifier-items-list-data-template","#customer-access-identifier-items-list-wrapper",null)}),"page/customer/customer_access_identifier_items_wrapper","#customer-access-identifier-items-list-wrapper-template","#main-content-wrapper",null)}))}))}function processCustomerAccessIdentifierItemsList(e,t){digibiz.customer_access_identifier_items_list=removeDuplicates(digibiz.customer_access_identifier_items_list.concat(e),"id");var i={customer_access_identifier_items_list_data:digibiz.customer_access_identifier_items_list};fetch.replaceHtml((function(e){e||t()}),"page/customer/customer_access_identifier_items_data","#customer-access-identifier-items-list-data-template","#customer-access-identifier-items-list-wrapper",i)}function customerAccessIdentifiersItemAccessPage(){return new Promise(((e,t)=>{fetch.replaceHtml((function(){e()}),"page/customer/customer_access_identifier_item_access_page","#customer-access-identifier-item-access-page-template","#main-content-wrapper",null)}))}function contactAccessAdd(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.add_contact_access,"POST","JSON",e)}))}function contactAccessList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.list_contact_access,"POST","JSON",e)}))}function identifierItemsEmployeesAccessList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.list_identifier_items_employees,"POST","JSON",e)}))}function activeCustomGroupEmployeeList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.active_custom_group_employee,"POST","JSON",e)}))}function showAccessEmployeeList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.show_access_list_employee,"POST","JSON",e)}))}function showAccessCustomerList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.show_access_list_customer,"POST","JSON",e)}))}function accessList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.access_list,"POST","JSON",e)}))}function revokeAccess(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.revoke_access,"POST","JSON",e)}))}function deleteRecords(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.delete_records,"POST","JSON",e)}))}function groupAccessAdd(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.add_group_access,"POST","JSON",e)}))}function groupAccessList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.group_access_list,"POST","JSON",e)}))}function groupRevokeAccess(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.group_revoke_access,"POST","JSON",e)}))}function groupDeleteRecords(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.group_delete_records,"POST","JSON",e)}))}function activateStorage(e,t){var i,a;if("digibiz_account_storage"==$("body").attr("app")){var o={device_id:crossplat.device.uuid,drive:e,id:sessionStorage.getItem("account_id"),type:"individual"};i=sessionStorage.getItem("account_id"),a="individual"}else{o={device_id:crossplat.device.uuid,drive:e,id:sessionStorage.getItem("business_id"),type:"business"};i=sessionStorage.getItem("business_id"),a="business"}fetch.apiCall((function(o,s,r){if("success"===s)Materialize.toast(e+" is set as default storage. And is active now.",3e3,"success-alert"),sessionStorage.setItem("storage_token",JSON.stringify({selectedStorage:e,tokenStatus:"active"})),"digibiz_account_storage"==$("body").attr("app")?(sessionStorage.getItem("digibiz_storage_selection"),getDigibizAccountStoragePage(),t(!0)):("business_add"==$("body").attr("app")?businessStorageReloadAddPage((function(e,t){})):"business_edit"==$("body").attr("app")&&businessStorageReloadEditPage((function(e,t){})),t(!0));else{Materialize.toast("failure",3e3,"success-alert");var n,d=location.href.split("#").pop();n=d&&d.includes("business/add")?"create":d&&d.includes("business/edit")?"edit":d&&d.includes("business/storage")?"business_storage":"account_storage","browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?window.open(`${api[`${e}_auth`]}?device_id=${crossplat.device.uuid}&platform=${crossplat.device.platform}&id=${i}&type=${a}&data_from=${n}`,"_self"):cordova.plugins.browsertab.openUrl(`${api[`${e}_auth`]}?platform=${crossplat.device.platform}&device_id=${crossplat.device.uuid}&id=${i}&type=${a}&data_from=${n}`,{scheme:"djbusiness://"})}}),api.set_active_storage,"POST","JSON",o)}function businessDigibizAdminsTab(){return new Promise(((e,t)=>{addLoader(),businessOwnerList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"digibiz_admin"}).then((t=>{var i={dataList:t.map((e=>{if("digibiz_admin"==e.admin_type)if(e.owner_data.employee_data.hasOwnProperty("identity_picture")&&e.owner_data.employee_data.identity_picture)if(e.owner_data.employee_data.identity_picture.hasOwnProperty("thumbnail")&&e.owner_data.employee_data.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.owner_data.employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.owner_data.employee_data.identity_picture.thumbnail}`;e.owner_data.employee_data.identity_picture.avtarUrl=t,e.imageLetter=e.owner_data.employee_data.name.first.charAt(0)}else e.imageLetter=e.owner_data.employee_data.name.first.charAt(0);else e.imageLetter=e.owner_data.employee_data.name.first.charAt(0);else if("creator"==e.admin_type)if(e.owner_data.creator_data.hasOwnProperty("profile_display")&&e.owner_data.creator_data.profile_display)if(e.owner_data.creator_data.profile_display.hasOwnProperty("thumbnail")&&e.owner_data.creator_data.profile_display.thumbnail){t=`${config.api.core}/api/individual/get_image?image_id=${e.owner_data.creator_data.profile_display.thumbnail}&device_id=${crossplat.device.uuid}`;e.owner_data.creator_data.profile_display.avtarUrl=t,e.imageLetter=e.owner_data.creator_data.name.first.charAt(0)}else e.imageLetter=e.owner_data.creator_data.name.first.charAt(0);else e.imageLetter=e.owner_data.creator_data.name.first.charAt(0);return e}))};fetch.replaceHtml((function(){removeLoader(),appScroll.scrollBar("#digibiz-admin-list-wrapper"),e()}),"page/business/digibiz_admins_list_data","#digibiz-admin-list-template","#digibiz-admin-list-data-container",i)})).catch((t=>{fetch.replaceHtml((function(){0==$(".employee-wrapper").length&&$("#digibiz-admin-list-wrapper").append('<div class="no_data">No data found</div>'),removeLoader(),e()}),"page/business/digibiz_admins_list_data","#digibiz-admin-list-template","#digibiz-admin-list-data-container",null)}))}))}function businessModuleAdminsTab(){return new Promise(((e,t)=>{addLoader(),fetch.replaceHtml((function(){removeLoader(),appScroll.scrollBar("#main-content-wrapper"),e()}),"page/business/module_admin_management_data","#module-admin-management-list-template","#module-admin-list-data-container",null)}))}function prospectAppHubPage(){return new Promise(((e,t)=>{fetch.replaceHtml((function(){removeLoader(),e();new Swiper(".hubSwiper",{slidesPerView:1,spaceBetween:0,grabCursor:!0,observer:!0,pagination:{el:".swiper-pagination",clickable:!0}});$(".swiper").removeClass("hubSwiper")}),"page/prospect/app_hub","#prospect-app-hub-page-template","#main-content-wrapper",null)}))}function jeeviAppHubPage(){return new Promise(((e,t)=>{var i=JSON.parse(sessionStorage.getItem("accountDetails"));if(i.hasOwnProperty("roles")&&i.roles&&("active"==i.roles.prospect||"inactive_pending"==i.roles.prospect)){fetch.replaceHtml((function(){removeLoader(),e();new Swiper(".hubSwiper",{slidesPerView:1,spaceBetween:0,grabCursor:!0,observer:!0,pagination:{el:".swiper-pagination",clickable:!0}});$(".swiper").removeClass("hubSwiper")}),"page/prospect/app_hub","#prospect-app-hub-page-template","#digibiz-home-page-middle-band-wrapper",{jeevi_role_status:!0})}else{getJeeviAccount({device_id:crossplat.device.uuid,get_by:"account_id",account_id:i.id}).then((t=>{fetch.replaceHtml((function(){t?"pending"==t.status.status||"deleted"==t.status.status?showAlert({alert_id:"jeevi-account-not-present",alert_platform:crossplat.device.platform,alert_title:"Jeevi Account!",alert_body:"Your jeevi account is deleted.",alert_btn:[{name:"Create",attr:[{name:"id",value:"digibiz_account_role_update_confirm_button"}]},{name:"Close",attr:[{name:"id",value:"close-jeevi-account-create"}]}]},(function(){sessionStorage.setItem("role","prospect"),$(document).on("click","#close-jeevi-account-create",(function(e){$("#jeevi-account-not-present").remove()}))})):showAlert({alert_id:"jeevi-account-inactive",alert_platform:crossplat.device.platform,alert_title:"Jeevi Account Alert!",alert_body:"Your jeevi account is inactive.",alert_btn:[{name:"Activate",attr:[{name:"id",value:"activate-jeevi-account"}]},{name:"Close",attr:[{name:"id",value:"close-jeevi-account-inactive"}]}]},(function(){sessionStorage.setItem("jeevi_id",t.id),sessionStorage.setItem("jeevi_status",t.status.status),sessionStorage.setItem("account_status",i.status.status),$("#jeevi-account-inactive").attr("jeevi_id",t.id),$(document).on("click","#close-jeevi-account-inactive",(function(e){$("#jeevi-account-inactive").remove()})),$(document).on("click","#activate-jeevi-account",(function(e){addLoader();var a={jeevi_account_status:i.roles.prospect,account_settings:t.settings};fetch.getHtml((function(e,t){showModal({modal_id:"jeevi-account-inactive-active-settings",modal_header:"Active/Inactive",modal_platform:crossplat.device.platform,modal_body:t,modal_action_buttons:[{name:"Activate",id:"add-jeevi-account-inactive-data"}]},(function(){$("#jeevi-account-inactive").remove(),"inactive"==a.jeevi_account_status&&($(".account-inactive-start-end-date-time").addClass("hide"),$(".account-inactive-main-container").addClass("hide")),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),$(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content")):$(".custom-modal-popup").show().addClass("modal-slide-top"),$('.custom-modal-popup[id="jeevi-account-inactive-active-settings"]').length>1&&$('.custom-modal-popup[id="jeevi-account-inactive-active-settings"]:last').remove(),removeLoader()}))}),"page/common/active_inactive_jeevi_account","#active_inactive_jeevi_account-template",a)}))})):showAlert({alert_id:"jeevi-account-not-present",alert_platform:crossplat.device.platform,alert_title:"Jeevi Account!",alert_body:"Your jeevi account is deleted.",alert_btn:[{name:"Create",attr:[{name:"id",value:"digibiz_account_role_update_confirm_button"}]},{name:"Close",attr:[{name:"id",value:"close-jeevi-account-create"}]}]},(function(){sessionStorage.setItem("role","prospect"),$(document).on("click","#close-jeevi-account-create",(function(e){$("#jeevi-account-not-present").remove()}))}));removeLoader(),e();new Swiper(".hubSwiper",{slidesPerView:1,spaceBetween:0,grabCursor:!0,observer:!0,pagination:{el:".swiper-pagination",clickable:!0}});$(".swiper").removeClass("hubSwiper")}),"page/prospect/app_hub","#prospect-app-hub-page-template","#digibiz-home-page-middle-band-wrapper",{jeevi_role_status:!1})})).catch((e=>{}))}}))}function prospectAppHubSettingsPage(){return new Promise(((e,t)=>{fetch.replaceHtml((function(){removeLoader(),e()}),"page/prospect/settings","#prospect-app-hub-settings-page-template","#main-content-wrapper",null)}))}function moduleAdminListPage(){return new Promise(((e,t)=>{var i=sessionStorage.getItem("module_type");businessOwnerList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"module_wise_module_admin",module:i}).then((t=>{var i={dataList:t.map((e=>{if(e.owner_data.employee_data.hasOwnProperty("identity_picture")&&e.owner_data.employee_data.identity_picture)if(e.owner_data.employee_data.identity_picture.hasOwnProperty("thumbnail")&&e.owner_data.employee_data.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.owner_data.employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.owner_data.employee_data.identity_picture.thumbnail}`;e.owner_data.employee_data.identity_picture.avtarUrl=t,e.imageLetter=e.owner_data.employee_data.name.first.charAt(0)}else e.imageLetter=e.owner_data.employee_data.name.first.charAt(0);else e.imageLetter=e.owner_data.employee_data.name.first.charAt(0);return e}))};fetch.replaceHtml((function(){e(),removeLoader()}),"page/business/module_admins_list_data","#module-admin-list-template","#main-content-wrapper",i)})).catch((t=>{fetch.replaceHtml((function(){e(),removeLoader()}),"page/business/module_admins_list_data","#module-admin-list-template","#main-content-wrapper",null)}))}))}function activeSuperAdminsTab(){return addLoader(),new Promise(((e,t)=>{employeeList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"super_admin_active_tab"}).then((t=>{fetch.replaceHtml((function(){processActiveSuperAdminsList(t,(function(){removeLoader(),appScroll.scrollBar(".active-super-admin-list-contentbox"),e()}))}),"page/business/active_super_admin_list_wrapper","#active-super-admins-list-wrapper-template","#active-super-admin-list-data-container",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/business/active_super_admin_list_data","#active-super-admin-data-list-template","#active-super-admins-list-wrapper",null)}),"page/business/active_super_admin_list_wrapper","#active-super-admins-list-wrapper-template","#active-super-admin-list-data-container",null)}))}))}function processActiveSuperAdminsList(e,t){digibiz.active_super_admins_list=removeDuplicates(digibiz.active_super_admins_list.concat(e),"dj_unique_employee_id");var i={active_super_admins_list_data:digibiz.active_super_admins_list.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);else e.imageLetter=e.name.first.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/business/active_super_admin_list_data","#active-super-admin-data-list-template","#active-super-admins-list-wrapper",i)}function pendingSuperAdminsTab(){return addLoader(),new Promise(((e,t)=>{notificationList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"pending_super_admins"}).then((t=>{fetch.replaceHtml((function(){processPendingSuperAdminsList(t,(function(){removeLoader(),e()}))}),"page/business/pending_super_admin_list_wrapper","#pending-super-admins-list-wrapper-template","#pending-super-admin-list-data-container",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/business/pending_super_admin_list_data","#pending-super-admin-data-list-template","#pending-super-admins-list-wrapper",null)}),"page/business/pending_super_admin_list_wrapper","#pending-super-admins-list-wrapper-template","#pending-super-admin-list-data-container",null)}))}))}function processPendingSuperAdminsList(e,t){digibiz.pending_super_admins_list=removeDuplicates(digibiz.pending_super_admins_list.concat(e),"id");var i={pending_super_admins_list_data:digibiz.pending_super_admins_list};fetch.replaceHtml((function(e){e||(removeLoader(),t())}),"page/business/pending_super_admin_list_data","#pending-super-admin-data-list-template","#pending-super-admins-list-wrapper",i)}function processDepartmentListSelection(e,t){digibiz.department_list_selection=removeDuplicates(digibiz.department_list_selection.concat(e),"id");var i={department_list_data:digibiz.department_list_selection.map((e=>(e.imageLetter=e.name.charAt(0),e)))};null!=digibiz.alreadySelectedDepartment&&digibiz.alreadySelectedDepartment.length>0?($.each(digibiz.alreadySelectedDepartment,(function(e,t){var i=digibiz.department_list_selection.findIndex((e=>e.id==t.id));i>-1&&(digibiz.department_list_selection[i].selected=!0)})),t()):t(),fetch.replaceHtml((function(e){e||(appScroll.scrollBar(".department-list-contentbox"),console.log("entry 1"))}),"page/employee/department_list_data","#department-list-data-template","#department-list-selection-wrapper",i)}function processCommunicationGroupContactListCustomerList(e,t){digibiz.communicationGroupsCustomerContactsList=removeDuplicates(digibiz.communicationGroupsCustomerContactsList.concat(e),"id");var i={communication_group_identifier_based_customer_contact_list_data:digibiz.communicationGroupsCustomerContactsList};fetch.replaceHtml((function(){t()}),"page/communication/communication_group_contact_list_customer_list","#communication-group-identifier-based-customer-contact-list-data-template","#communication-group-contacts-items-list-wrapper",i)}function listenForCommunicationGroupContactListCustomerListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),addLoader(),customerIdentifierList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"customer",count:20,offset:digibiz.communicationGroupsCustomerContactsList.length}).then((e=>{removeLoader(),scrollProcessCommunicationGroupContactListCustomerList(e,(function(){listenForCommunicationGroupContactListCustomerListScrollEvent($(".modal-popup-content")),removeLoader()}))})).catch((e=>{fetch.appendHtml((function(e){e||removeLoader()}),"page/communication/scroll_communication_group_contact_list_customer_list","#scroll-communication-group-identifier-based-customer-contact-list-data-template","#communication-group-contacts-items-list-wrapper .communication-group-identifier-based-customer-contact-list-contentbox",null)})))}))}function scrollProcessCommunicationGroupContactListCustomerList(e,t){digibiz.communicationGroupsCustomerContactsList=removeDuplicates(digibiz.communicationGroupsCustomerContactsList.concat(e),"id");var i={communication_group_identifier_based_customer_contact_list_data:e};fetch.appendHtml((function(){t()}),"page/communication/scroll_communication_group_contact_list_customer_list","#scroll-communication-group-identifier-based-customer-contact-list-data-template","#communication-group-contacts-items-list-wrapper .communication-group-identifier-based-customer-contact-list-contentbox",i)}function processCommunicationGroupContactListCustomerContactItemsList(e,t,i){var a={communication_group_contact_list_customer_list_level_two_data:e};fetch.replaceHtml((function(){i()}),"page/communication/communication_group_contact_list_customer_list_level_two","#communication-group-contact-list-customer-list-level-two-data-template",`#${t}[data-content-type="identifier"]`,a)}function processCommunicationGroupContactListCustomerContactsList(e,t,i){var a={communication_group_contact_list_customer_list_level_three_data:e,device_id:crossplat.device.uuid};console.log("getData",a),fetch.replaceHtml((function(){var e=[];$(".communication-group-customer-member-wrapper").length>0&&$.each($(".communication-group-customer-member-wrapper"),(function(t,i){e.push({id:$(i).attr("data-id")})})),$("#communication-group-customer-members-list").find(".communication-group-member-wrapper").length>0&&$.each($("#communication-group-customer-members-list .communication-group-member-wrapper"),(function(t,i){e.push({id:$(i).attr("data-customer-id")})})),e.length>0&&$.each(e,(function(e,t){})),$.each(digibiz.communicationSelectedContactList,(function(e,i){i.contact_item_id==t&&$(`.accordion-contenttt[id="${i.contact_item_id}"]`).find(`.communication-group-customer-contact-select-btn[data-id="${i.id}"]`).attr("checked","checked")})),i()}),"page/communication/communication_group_contact_list_customer_list_level_three","#communication-group-contact-list-customer-list-level-three-data-template",`#${t}[data-content-type="contact_item"]`,a)}function listenForCommunicationGroupContactListCustomerContactsListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),addLoader(),getContactList({device_id:crossplat.device.uuid,id:sessionStorage.getItem("accordion_item"),count:5,offset:digibiz.communication_group_contact_list_customer_list_level_three_data.length}).then((e=>{removeLoader(),scrollProcessCommunicationGroupContactListCustomerContactsList(e,sessionStorage.getItem("accordion_item"),(function(){listenForCommunicationGroupContactListCustomerContactsListScrollEvent($(".accordion-contenttt")),removeLoader()}))})).catch((e=>{fetch.appendHtml((function(e){e||removeLoader()}),"page/communication/communication_group_contact_list_customer_list_level_three","#communication-group-contact-list-customer-list-level-three-data-template",`#${accordionitem}[data-content-type="contact_item"]`,null)})))}))}function scrollProcessCommunicationGroupContactListCustomerContactsList(e,t,i){digibiz.communication_group_contact_list_customer_list_level_three_data=removeDuplicates(digibiz.communication_group_contact_list_customer_list_level_three_data.concat(e),"id");var a={communication_group_contact_list_customer_list_level_three_data:e,device_id:crossplat.device.uuid};fetch.appendHtml((function(){var e=[];$(".communication-group-customer-member-wrapper").length>0&&$.each($(".communication-group-customer-member-wrapper"),(function(t,i){e.push({id:$(i).attr("data-id")})})),$("#communication-group-customer-members-list").find(".communication-group-member-wrapper").length>0&&$.each($("#communication-group-customer-members-list .communication-group-member-wrapper"),(function(t,i){e.push({id:$(i).attr("data-customer-id")})})),e.length>0&&$.each(e,(function(e,t){})),$.each(digibiz.communicationSelectedContactList,(function(e,i){i.contact_item_id==t&&$(`.accordion-contenttt[id="${i.contact_item_id}"]`).find(`.communication-group-customer-contact-select-btn[data-id="${i.id}"]`).attr("checked","checked")})),i()}),"page/communication/communication_group_contact_list_customer_list_level_three","#communication-group-contact-list-customer-list-level-three-data-template",`#${t}[data-content-type="contact_item"] .os-content`,a)}function showCloudSelcetionList(e){fetch.replaceHtml((function(t){t||e()}),"filemanager/cloud_selection","#cloud-assets-select-template","#filemanger-assets-list-wrapper",null)}function getBlobFromURL(e){return new Promise((t=>{var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="blob",i.onreadystatechange=function(e){4==i.readyState&&200==i.status&&t(i.response)},i.send()}))}function blob2Base64(e){return new Promise(((t,i)=>{var a=new FileReader;a.onloadend=function(){t(this.result)},a.onerror=function(e){i(e)},a.readAsDataURL(e)}))}function startFileSession(e,t){return new Promise(((i,a)=>{let o={device_id:crossplat.device.uuid,location:e.location,parent:e.parent,owner:{type:e.owner.type,id:e.owner.id},real_name:e.file_attributes.name.real};var s="download"==t?api.chunk_download:api.chunk_view_by_file;fetch.apiCall((function(o,s,r){if("success"===s)o.Data.fileType=e.file_attributes.file_type,i(o.Data);else{var n=JSON.parse(o.responseText);"download"==t?(Materialize.toast(n.error,3e3,"error-alert"),a(n.error)):(Materialize.toast(n.error.msg,3e3,"error-alert"),i())}}),s,"POST","JSON",o)}))}function getIndividualAssets(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"===a?t(e):i(e)}),api.core_get_assets,"POST","JSON",e)}))}function getDigibizAssets(e,t){var i=sessionStorage.getItem("account_id"),a={device_id:crossplat.device.uuid,owner:{type:"individual",id:i},location:t,parent:e,first_request:"true",offset:0,count:20};return new Promise(((e,t)=>{fetch.apiCall((function(i,a,o){"success"===a?e(i):t(i)}),api.digibiz_get_assets,"POST","JSON",a)}))}function showIndividualFilemanagerAssetsFilesList(e=null,t){if(null!=e){digibiz.cloudAssets=removeDuplicates(digibiz.cloudAssets.concat(e),"id"),sorteddata=sortData(digibiz.cloudAssets,"name","asc");var i={assets:sorteddata}}else i=null;identifier="#filemanger-assets-list-wrapper",$("#filemanger-assets-list-wrapper .os-content").length>0?identifier="#filemanger-assets-list-wrapper .os-content":$("#filemanger-assets-list-wrapper").replaceWith('<div class="upload-grid-view-wrapper view-grid" id="filemanger-assets-list-wrapper"></div>'),fetch.replaceHtml((function(e){e||t()}),"filemanager/individual_cloud_files_list","#individual-filemanager-assets-list-template",identifier,i)}function getIndividualAssetDetails(e){return new Promise(((t,i)=>{var a=window.sessionStorage.getItem("account_id"),o={device_id:crossplat.device.uuid,owner:{type:"individual",id:a},asset_id:e};fetch.apiCall((function(e,a,o){if("success"===a)t(e.Data[0].data);else{var s=JSON.parse(e.responseText);i(s)}}),api.core_asset_details,"POST","JSON",o)}))}function getDigibizAssetDetails(e){return new Promise(((t,i)=>{var a=window.sessionStorage.getItem("account_id"),o={device_id:crossplat.device.uuid,owner:{type:"individual",id:a},asset_id:e};fetch.apiCall((function(e,a,o){if("success"===a)t(e.Data[0].data);else{var s=JSON.parse(e.responseText);i(s)}}),api.digibiz_asset_details,"POST","JSON",o)}))}function individualStartFileSession(e,t){return new Promise(((i,a)=>{let o={device_id:crossplat.device.uuid,location:e.location,parent:e.parent,owner:{type:e.owner.type,id:e.owner.id},real_name:e.file_attributes.name.real};var s="download"==t?api.core_chunk_download:api.core_chunk_view_by_file;fetch.apiCall((function(o,s,r){if("success"===s)o.Data.fileType=e.file_attributes.file_type,i(o.Data);else{var n=JSON.parse(o.responseText);"download"==t?(Materialize.toast(n.error,3e3,"error-alert"),a(n.error)):(Materialize.toast(n.error.msg,3e3,"error-alert"),i())}}),s,"POST","JSON",o)}))}function getAssets(){var e=api.digibiz_get_assets,t=sessionStorage.getItem("account_id");return new Promise(((i,a)=>{var o={device_id:crossplat.device.uuid,owner:{id:t,type:"individual"},location:"personal_workspace",parent:"",offset:0,count:10};fetch.apiCall((function(e,t,o){"success"===t?i(e):a(e)}),e,"POST","JSON",o)}))}function showDigibizFilemanagerAssetsFilesList(e=null,t){if(null!=e){digibiz.cloudAssets=removeDuplicates(digibiz.cloudAssets.concat(e),"id"),sorteddata=sortData(digibiz.cloudAssets,"name","asc");var i={assets:sorteddata}}else i=null;identifier="#filemanger-assets-list-wrapper",$("#filemanger-assets-list-wrapper .os-content").length>0?identifier="#filemanger-assets-list-wrapper .os-content":$("#filemanger-assets-list-wrapper").replaceWith('<div class="upload-grid-view-wrapper view-grid" id="filemanger-assets-list-wrapper"></div>'),fetch.replaceHtml((function(e){e||t()}),"filemanager/digibiz_cloud_files_list","#digibiz-filemanager-assets-list-template",identifier,i)}function employeeMembersList(e){var t=[];$(".communication-group-employee-members-list .communication-group-employee-member-checkbox").length>0?employeeList({device_id:crossplat.device.uuid,list_by:"list_only_active",business_id:sessionStorage.getItem("business_id")}).then((i=>{$.each($(".communication-group-employee-member-checkbox:checked"),(function(e,a){var o=i.find((e=>e.dj_unique_employee_id==$(a).attr("value")));null!=o&&t.push({id:`${o.dj_unique_employee_id}employee`,member:{id:o.dj_unique_employee_id,account_id:o.account_id,type:"employee"},designation_name:o.designation_name,member_name:o.name,member_display_name:o.display_name,identity_picture:o.identity_picture})})),$.each($(".communication-group-moderator-member-not-saved"),(function(e,i){t=t.filter((e=>e.member.id!=$(i).attr("value")))})),e(null,t)})).catch((t=>{e(t)})):e(null,t)}function customerMembersList(e){var t=[];$('.communication-group-customer-member-checkbox[data-type="customer"]:checked').length>0?customerList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"business_active"}).then((i=>{$.each($('.communication-group-customer-member-checkbox[data-type="customer"]:checked'),(function(e,a){var o=i.find((e=>e.id==$(a).attr("value")));null!=o&&t.push({id:`${o.id}customer`,member:{id:o.id,account_id:o.account_id,type:"customer",customer_type:"customer",identifier_id:o.identifier_id,label:o.label},member_name:o.name,member_display_name:o.display_name,identity_picture:o.identity_picture,role_business_name:o.role_business_name})})),$.each($(".communication-group-moderator-member-not-saved"),(function(e,i){t=t.filter((e=>e.member.id!=$(i).attr("value")))})),e(null,t)})).catch((t=>{e(t)})):e(null,t)}function associateCustomerMembersList(e){var t=[];$('.communication-group-customer-member-checkbox[data-type="associate_customer"]:checked').length>0?associateCustomerList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"business_active"}).then((i=>{$.each($('.communication-group-customer-member-checkbox[data-type="associate_customer"]:checked'),(function(e,a){var o=i.find((e=>e.id==$(a).attr("value")));null!=o&&t.push({id:`${o.id}associatecustomer`,member:{id:o.id,account_id:o.account_id,type:"customer",customer_type:"associate_customer",identifier_id:o.identifier_id,parent_customer_id:o.customer_id,parent_customer_identifier_id:o.parent_customer_identifier_id},parent_customer_identifier_id:o.parent_customer_identifier_id,member_name:o.name,member_display_name:o.display_name,identity_picture:o.identity_picture})})),$.each($(".communication-group-moderator-member-not-saved"),(function(e,i){t=t.filter((e=>e.member.id!=$(i).attr("value")))})),e(null,t)})).catch((t=>{e(t)})):e(null,t)}function getEmployeeAccessListPage(){return new Promise(((e,t)=>{employeeList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"list_only_active"}).then((t=>{fetch.replaceHtml((function(){processEmployeeAccessList(t,(function(){removeLoader(),e()}))}),"page/employee/employee_access_list_wrapper","#employee-access-list-wrapper-template","#main-content-wrapper",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/employee/employee_access_list_data","#employee-access-data-list-template","#employee-access-list-wrapper",null)}),"page/employee/employee_access_list_wrapper","#employee-access-list-wrapper-template","#main-content-wrapper",null)}))}))}function processEmployeeAccessList(e,t){digibiz.employee_access_list=removeDuplicates(digibiz.employee_access_list.concat(e),"dj_unique_employee_id");var i={employee_access_list_data:digibiz.employee_access_list.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);else e.imageLetter=e.name.first.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/employee/employee_access_list_data","#employee-access-data-list-template","#employee-access-list-wrapper",i)}function processEmployeeShowAccessList(e,t){digibiz.show_employee_access_list=removeDuplicates(digibiz.show_employee_access_list.concat(e),"id");var i={employee_show_access_list:digibiz.show_employee_access_list};console.log("showAccessList",i),fetch.replaceHtml((function(e){e||t()}),"page/employee/show_employee_access_list_data","#employee-show-access-data-list-template","#employee-show-access-list-content-box",i)}function processCustomerShowAccessList(e,t){digibiz.show_customer_access_list=removeDuplicates(digibiz.show_customer_access_list.concat(e),"id");var i={customer_show_access_list:digibiz.show_customer_access_list};fetch.replaceHtml((function(e){e||t()}),"page/customer/show_customer_access_list_data","#customer-show-access-data-list-template","#customer-show-access-list-content-box",i)}function processAssociateCustomerShowAccessList(e,t){digibiz.show_associate_customer_access_list=removeDuplicates(digibiz.show_associate_customer_access_list.concat(e),"id");var i={customer_show_access_list:digibiz.show_associate_customer_access_list};fetch.replaceHtml((function(e){e||t()}),"page/customer/show_associate_customer_access_list_data","#associate-customer-show-access-data-list-template","#associate-customer-show-access-list-content-box",i)}function processCustomerEmployeeContactAccessSelection(e,t){digibiz.customer_employee_contact_access_selection=removeDuplicates(digibiz.customer_employee_contact_access_selection.concat(e),"id");var i={employee_Data:digibiz.customer_employee_contact_access_selection};fetch.replaceHtml((function(e){e||(digibiz.access_list.length>0&&$.each(digibiz.access_list,(function(e,t){$(`.customer-contact-access-employee-wrapper[data-id="${t.access_data.id}"]`).find(".customer-contact-access-employee-selected").prop("checked",!0),$(`.customer-contact-access-employee-wrapper[data-id="${t.access_data.id}"]`).addClass("selected-row")})),t())}),"layouts/popup/customer_contact_access_employee_selection","#customer-contact-access-employee-selection-template","#customer-employee-contact-access-selection-content-box",i)}function getCustomerContactAddAccessForCustomerContact(e,t){digibiz.customer_contact_add_access_customer_contact_item_selection=removeDuplicates(digibiz.customer_contact_add_access_customer_contact_item_selection.concat(e),"id");var i={identifier_items_list_data:digibiz.customer_contact_add_access_customer_contact_item_selection};fetch.replaceHtml((function(e){e||(digibiz.access_list.length>0&&$.each(digibiz.access_list,(function(e,t){$(`.customer-identifier-item-wrapper[data-id="${t.access_data.id}"]`).find(".customer-identifier-item-selected").prop("checked",!0)})),t())}),"layouts/popup/identifier_items_list","#identifier-items-list-data-template","#customer-contact-add-access-customer-contact-item-list-content-box",i)}function businessStorageReloadAddPage(e){sessionStorage.getItem("business_id")&&null!=sessionStorage.getItem("business_id")&&null!=sessionStorage.getItem("business_id")&&businessTypeList({device_id:crossplat.device.uuid}).then((t=>{businessGet({device_id:crossplat.device.uuid,id:sessionStorage.getItem("business_id")}).then((i=>{if(i.hasOwnProperty("display_picture")&&i.display_picture&&i.display_picture.hasOwnProperty("thumbnail")&&i.display_picture.thumbnail){var a=`${api.get_business_multimedia}?business_id=${sessionStorage.getItem("business_id")}&device_id=${crossplat.device.uuid}&image_id=${i.display_picture.thumbnail}`;i.display_picture.avtarUrl=a}if(i.hasOwnProperty("declaration_transaction_pictures")&&i.declaration_transaction_pictures)if(i.declaration_transaction_pictures.hasOwnProperty("thumbnail")&&i.declaration_transaction_pictures.thumbnail){a=`${api.get_business_multimedia}?business_id=${sessionStorage.getItem("business_id")}&device_id=${crossplat.device.uuid}&image_id=${i.declaration_transaction_pictures.thumbnail}`;i.declaration_transaction_pictures.avtarUrl=a}else i.declaration_transaction_pictures.hasOwnProperty("image_id")&&i.declaration_transaction_pictures.image_id&&(i.declaration_transaction_pictures.avtarUrl=i.declaration_transaction_pictures.image_url);if(i.hasOwnProperty("declaration_signature_pictures")&&i.declaration_signature_pictures)if(i.declaration_signature_pictures.hasOwnProperty("thumbnail")&&i.declaration_signature_pictures.thumbnail){a=`${api.get_business_multimedia}?business_id=${sessionStorage.getItem("business_id")}&device_id=${crossplat.device.uuid}&image_id=${i.declaration_signature_pictures.thumbnail}`;i.declaration_signature_pictures.avtarUrl=a}else i.declaration_signature_pictures.hasOwnProperty("image_id")&&i.declaration_signature_pictures.image_id&&(i.declaration_signature_pictures.avtarUrl=i.declaration_signature_pictures.image_url);if(i.hasOwnProperty("declaration_video")&&i.declaration_video&&i.declaration_video.hasOwnProperty("thumbnail")&&i.declaration_video.thumbnail){a=`${api.get_business_multimedia}?business_id=${sessionStorage.getItem("business_id")}&device_id=${crossplat.device.uuid}&image_id=${i.declaration_video.thumbnail}`;i.declaration_video.avtarUrl=a}i.hasOwnProperty("storage")&&i.storage&&(i.storage.hasOwnProperty("GoogleDrive")&&i.storage.GoogleDrive&&digibiz.storages.push({name:"GoogleDrive",account:i.storage.GoogleDrive.account}),i.storage.hasOwnProperty("OneDrive")&&i.storage.OneDrive&&digibiz.storages.push({name:"OneDrive",account:i.storage.OneDrive.account}),i.storage.hasOwnProperty("DropBox")&&i.storage.DropBox&&digibiz.storages.push({name:"DropBox",account:i.storage.DropBox.account}),i.storage.hasOwnProperty("DJ")&&i.storage.DJ&&digibiz.storages.push({name:"DJ",account:i.storage.DJ}));var o={businessTypes:t,getBusiness:i,getBusinessTypeId:i.business_type_id,storage_list:digibiz.storages,active_storage:i.active_storage};digibiz.storages.length<4&&(o.addStorage=!0),fetch.replaceHtml((function(){var t=$("#business-type-choose-select-dropdown").find(`option[data-id="${i.business_type_id}"]`).val();$("#business-type-choose-select-dropdown").val(t),mobileFlaginit(),calenderInit("#business_date_of_commencement"),calenderInit("#business_date_of_incorporation"),$(".bussines-forward-btn").attr("data-present-step","6"),$(".bussines-forward-btn").siblings(".bussines-back-btn").attr("data-present-step","6"),$(".bussines-forward-btn").addClass("hide"),$(".bussines-back-btn").removeClass("hide"),$(".register-bussines-btn").removeClass("hide"),$(".business-create-stepper").removeClass("is-active"),$('.business-create-stepper[data-stepper="6"]').addClass("is-active"),$('.business-creation-parts-container[data-step="1"]').addClass("hide"),$('.business-creation-parts-container[data-step="6"]').removeClass("hide"),removeLoader(),e()}),"page/business/business_add","#business-add-template","#main-content-wrapper",o)})).catch((t=>{removeLoader(),e(),Materialize.toast("Error in getting business",3e3,"rounded error-alert")}))})).catch((e=>{removeLoader(),resolve(),Materialize.toast("Error in getting business types",3e3,"rounded error-alert")}))}function businessStorageReloadEditPage(e){sessionStorage.getItem("business_id")&&null!=sessionStorage.getItem("business_id")&&null!=sessionStorage.getItem("business_id")&&businessTypeList({device_id:crossplat.device.uuid}).then((t=>{businessGet({device_id:crossplat.device.uuid,id:sessionStorage.getItem("business_id")}).then((i=>{if(i.hasOwnProperty("display_picture")&&i.display_picture&&i.display_picture.hasOwnProperty("thumbnail")&&i.display_picture.thumbnail){var a=`${api.get_business_multimedia}?business_id=${sessionStorage.getItem("business_id")}&device_id=${crossplat.device.uuid}&image_id=${i.display_picture.thumbnail}`;i.display_picture.avtarUrl=a}if(i.hasOwnProperty("declaration_transaction_pictures")&&i.declaration_transaction_pictures)if(i.declaration_transaction_pictures.hasOwnProperty("thumbnail")&&i.declaration_transaction_pictures.thumbnail){a=`${api.get_business_multimedia}?business_id=${sessionStorage.getItem("business_id")}&device_id=${crossplat.device.uuid}&image_id=${i.declaration_transaction_pictures.thumbnail}`;i.declaration_transaction_pictures.avtarUrl=a}else i.declaration_transaction_pictures.hasOwnProperty("image_id")&&i.declaration_transaction_pictures.image_id&&(i.declaration_transaction_pictures.avtarUrl=i.declaration_transaction_pictures.image_url);if(i.hasOwnProperty("declaration_signature_pictures")&&i.declaration_signature_pictures)if(i.declaration_signature_pictures.hasOwnProperty("thumbnail")&&i.declaration_signature_pictures.thumbnail){a=`${api.get_business_multimedia}?business_id=${sessionStorage.getItem("business_id")}&device_id=${crossplat.device.uuid}&image_id=${i.declaration_signature_pictures.thumbnail}`;i.declaration_signature_pictures.avtarUrl=a}else i.declaration_signature_pictures.hasOwnProperty("image_id")&&i.declaration_signature_pictures.image_id&&(i.declaration_signature_pictures.avtarUrl=i.declaration_signature_pictures.image_url);if(i.hasOwnProperty("declaration_video")&&i.declaration_video&&i.declaration_video.hasOwnProperty("thumbnail")&&i.declaration_video.thumbnail){a=`${api.get_business_multimedia}?business_id=${sessionStorage.getItem("business_id")}&device_id=${crossplat.device.uuid}&image_id=${i.declaration_video.thumbnail}`;i.declaration_video.avtarUrl=a}i.hasOwnProperty("storage")&&i.storage&&(digibiz.storages=[],i.storage.hasOwnProperty("GoogleDrive")&&i.storage.GoogleDrive&&digibiz.storages.push({name:"GoogleDrive",account:i.storage.GoogleDrive.account}),i.storage.hasOwnProperty("OneDrive")&&i.storage.OneDrive&&digibiz.storages.push({name:"OneDrive",account:i.storage.OneDrive.account}),i.storage.hasOwnProperty("DropBox")&&i.storage.DropBox&&digibiz.storages.push({name:"DropBox",account:i.storage.DropBox.account}),i.storage.hasOwnProperty("DJ")&&i.storage.DJ&&digibiz.storages.push({name:"DJ",account:i.storage.DJ}));var o={businessTypes:t,getBusiness:i,getBusinessTypeId:i.business_type_id,storage_list:digibiz.storages,active_storage:i.active_storage};digibiz.storages.length<4&&(o.addStorage=!0),fetch.replaceHtml((function(){var t=$("#business-type-choose-select-dropdown").find(`option[data-id="${i.business_type_id}"]`).val();$("#business-type-choose-select-dropdown").val(t),mobileFlaginit(),calenderInit("#business_date_of_commencement"),calenderInit("#business_date_of_incorporation"),$(".bussines-forward-btn").attr("data-present-step","6"),$(".bussines-forward-btn").siblings(".bussines-back-btn").attr("data-present-step","6"),$(".bussines-forward-btn").addClass("hide"),$(".bussines-back-btn").removeClass("hide"),$(".register-bussines-btn").removeClass("hide"),$(".business-create-stepper").removeClass("is-active"),$('.business-create-stepper[data-stepper="6"]').addClass("is-active"),$('.business-creation-parts-container[data-step="1"]').addClass("hide"),$('.business-creation-parts-container[data-step="6"]').removeClass("hide"),removeLoader(),e()}),"page/business/business_edit","#business-edit-template","#main-content-wrapper",o)})).catch((t=>{removeLoader(),e(),Materialize.toast("Error in getting business",3e3,"rounded error-alert")}))})).catch((e=>{removeLoader(),resolve(),Materialize.toast("Error in getting business types",3e3,"rounded error-alert")}))}function businessDetails(e,t){businessGet({device_id:crossplat.device.uuid,id:e}).then((e=>{if(e.hasOwnProperty("display_picture")&&e.display_picture)if(e.display_picture.hasOwnProperty("thumbnail")&&e.display_picture.thumbnail){var i=`${api.get_business_multimedia}?business_id=${e.id}&device_id=${crossplat.device.uuid}&image_id=${e.display_picture.thumbnail}`;e.display_picture.avtarUrl=i,e.imageLetter=e.name.charAt(0),t(null,e)}else e.imageLetter=e.name.charAt(0),t(null,e);else e.imageLetter=e.name.charAt(0),t(null,e)})).catch((e=>{t(e)}))}function callDigibizWriteStorage(e,t,i="file_object"){return new Promise(((a,o)=>{if("blob"==i){var s=new FormData;s.append("file",e),s.append("userid",t.user_id),s.append("business_id",sessionStorage.getItem("business_id")),s.append("options",JSON.stringify(t.options)),s.append("type",e.type),s.append("totalSize",e.size),s.append("fileName",t.fileName);var r=new XMLHttpRequest;r.addEventListener("load",(function(e){if(200==e.target.status){var t=JSON.parse(e.target.responseText);a(t)}else e.target.status>=400&&o(t)}),!1),r.open("POST",api.file_write,!0),r.send(s)}else{var n=new FileReader;n.onloadend=function(i){var s=new Blob([i.target.result],{type:e.type}),r=new FormData;r.append("file",s),r.append("userid",t.user_id),r.append("business_id",sessionStorage.getItem("business_id")),r.append("options",JSON.stringify(t.options)),r.append("type",s.type),r.append("totalSize",s.size),r.append("fileName",t.fileName);var n=new XMLHttpRequest;n.addEventListener("load",(function(e){if(200==e.target.status){var t=JSON.parse(e.target.responseText);a(t)}else e.target.status>=400&&o(t)}),!1),n.open("POST",api.file_write,!0),n.send(r)},n.readAsArrayBuffer(e)}}))}function encryptString(e,t){param={key:"dummy",string:e},fetch.apiCall((function(e,i,a){return t(e.data)}),api.encrypt_string,"POST","JSON",param)}function decryptSring(e,t){param={key:"dummy",string:e},fetch.apiCall((function(e,i,a){return t(e.data)}),api.decrypt_string,"POST","JSON",param)}function AddMinutesToDate(e,t){return new Date(e.getTime()+6e4*t)}function timeConvertor(e){var t=!!e.match("PM"),i=(e=e.split(":"))[1];if(12==e[0])return e[0]+":"+e[1];if(t)var a=12+parseInt(e[0],10);else a=e[0];return a+":"+(i=i.slice(0,-2))}function formatAMPM(e){var t=e.getDate(),i=e.getMonth()+1;t<10&&(t="0"+t),i<10&&(i="0"+i);var a=e.getFullYear()+"/"+i+"/"+t,o=e.getHours(),s=e.getMinutes(),r=o>=12?"PM":"AM";return a+" "+((o=(o%=12)||12)+":"+(s=s<10?"0"+s:s)+" "+r)}function validateSettingData(e){if("schedule"==e){let e=!1,x=!1,P=!1,M=!1,A=!1;""==$("#start-date").val()?(showError($("#start-date"),"This field is required."),e=!0):(removeError($("#start-date")),e=!1),""==$("#end-date").val()?(showError($("#end-date"),"This field is required."),M=!0):(removeError($("#end-date")),M=!1),""==$("#start-time").val()?(showError($("#start-time"),"This field is required."),x=!0):(removeError($("#start-time")),x=!1),""==$("#end-time").val()?(showError($("#end-time"),"This field is required."),P=!0):(removeError($("#end-time")),P=!1);var t=$("#start-date").val(),i=t.split("/")[0],a=t.split("/")[1],o=t.split("/")[2],s=(z=$("#end-date").val()).split("/")[0],r=z.split("/")[1];let E=o+"/"+a+"/"+i,O=z.split("/")[2]+"/"+r+"/"+s;var n=(I=new Date).getDate(),d=I.getMonth()+1,c=I.getFullYear();if(n<10&&(n="0"+n),d<10&&(d="0"+d),I=c+"/"+d+"/"+n,$("#start-time").val())var l=$("#start-time").val();if($("#end-time").val())var p=$("#end-time").val();if(l)var m=timeConvertor(l);if(p)var u=timeConvertor(p);moment(E+" "+m,"YYYY-MM-DDHH:mm:ss").unix(),moment(O+" "+u,"YYYY-MM-DDHH:mm:ss").unix();var g=formatAMPM(AddMinutesToDate(new Date,2));if(l){var _=l.split(":"),f=!!l.match("PM"),h=_[1].slice(0,-2);if(f)var b=E+" "+_[0]+":"+h+" PM";else b=E+" "+_[0]+":"+h+" AM"}if(p){var v=p.split(":"),y=!!p.match("PM"),w=v[1].slice(0,-2);if(y)var S=O+" "+v[0]+":"+w+" PM";else S=O+" "+v[0]+":"+w+" AM"}var C=new Date(b).getTime(),L=new Date(S).getTime(),k=new Date(g).getTime();return l&&0==$("#start-date").val().length?(showError($("#start-date"),"This field is required"),A=!0):p&&0==$("#end-date").val().length?(showError($("#end-date"),"This field is required"),A=!0):O&&O<I?(showError($("#start-date"),"Start date is greater than today"),A=!0):E&&E<I?(A=!0,showError($("#end-date"),"End date is greater than today")):E&&0==$("#start-time").val().length?(A=!0,showError($("#start-time"),"This field is required")):C<=k?(A=!0,showError($("#start-time"),"Start datetime should be greater than 2 min of current datetime")):O&&0==$("#end-time").val().length?(A=!0,showError($("#end-time"),"This field is required")):C>=L?(A=!0,showError($("#end-time"),"End datetime should be greater than start datetime")):L<=k&&(A=!0,showError($("#end-time"),"End datetime should be greater than 2 min of current datetime")),!(A||e||x||P||M)}{let e=!1,t=!1,i=!1;if(""==$("#end-date").val()&&(showError($("#end-date"),"This field is required."),t=!0),""==$("#end-time").val()&&(showError($("#end-time"),"This field is required."),e=!0),$("#end-date").val().length>0&&$("#end-time").val().length>0){var z;s=(z=$("#end-date").val()).split("/")[0],r=z.split("/")[1];let e=z.split("/")[2]+"/"+r+"/"+s;var I;n=(I=new Date).getDate(),d=I.getMonth()+1,c=I.getFullYear();if(n<10&&(n="0"+n),d<10&&(d="0"+d),I=c+"/"+d+"/"+n,$("#end-time").val())p=$("#end-time").val();if(p)u=timeConvertor(p);moment(e+" "+u,"YYYY-MM-DDHH:mm:ss").unix(),g=formatAMPM(AddMinutesToDate(new Date,2));if(p){v=p.split(":"),y=!!p.match("PM"),w=v[1].slice(0,-2);if(y)S=e+" "+v[0]+":"+w+" PM";else S=e+" "+v[0]+":"+w+" AM"}L=new Date(S).getTime(),k=new Date(g).getTime();e<I?(showError($("#end-date"),"End date is less than today"),i=!0):L<=k&&(i=!0,showError($("#end-time"),"End datetime should be greater than 10 min of current datetime"))}return!(i||t||e)}}function digibizBusinessSettingsPage(){return new Promise(((e,t)=>{fetch.replaceHtml((function(){new Swiper(".hubSwiper",{slidesPerView:1,spaceBetween:0,grabCursor:!0,observer:!0,pagination:{el:".swiper-pagination",clickable:!0}});$(".swiper").removeClass("hubSwiper"),e()}),"page/business/digibiz_business_settings","#digibiz-business-settings-template","#main-content-wrapper",null)}))}function processGroupMemberSearch(e=null,t){if(console.log("data",e),e)var i={data:e,device_id:crossplat.device.uuid};else i={device_id:crossplat.device.uuid};console.log("getData",i),fetch.replaceHtml((function(){t()}),"page/common/group_member_search_modal","#group-member-search-template","#group-member-search-wrapper",i)}function processCreateGroupMemberSearch(e=null,t){if(console.log("data",e),e)var i={data:e,device_id:crossplat.device.uuid};else i={device_id:crossplat.device.uuid};console.log("getData",i),fetch.replaceHtml((function(){t()}),"page/common/create_group_member_search_modal","#create-group-member-search-template","#group-member-search-wrapper",i)}function processSearchedBusinessOwnerBusinessListPage(e,t){if(e.length>0){var i={business_owner_business_list_data:e.map((e=>{if(e.hasOwnProperty("display_picture")&&e.display_picture)if(e.display_picture.hasOwnProperty("thumbnail")&&e.display_picture.thumbnail){var t=`${api.get_business_multimedia}?business_id=${e.id}&device_id=${crossplat.device.uuid}&image_id=${e.display_picture.thumbnail}`;e.display_picture.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/business/business_list_data","#business-owner-business-data-list-template","#business-owner-business-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/business/business_list_data","#business-owner-business-data-list-template","#business-owner-business-list-wrapper",null)}function processSearchedEmployeeBusinessListPage(e,t){if(e.length>0){var i={employee_business_list_data:e.map((e=>{if(e.hasOwnProperty("display_picture")&&e.display_picture)if(e.display_picture.hasOwnProperty("thumbnail")&&e.display_picture.thumbnail){var t=`${api.get_business_multimedia}?business_id=${e.id}&device_id=${crossplat.device.uuid}&image_id=${e.display_picture.thumbnail}`;e.display_picture.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/business/employee_business_list_data","#employee-business-data-list-template","#employee-business-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/business/employee_business_list_data","#employee-business-data-list-template","#employee-business-list-wrapper",null)}function processSearchedCustomerBusinessListPage(e,t){if(e.length>0){var i={customer_business_list_data:e.map((e=>{if(e.hasOwnProperty("display_picture")&&e.display_picture)if(e.display_picture.hasOwnProperty("thumbnail")&&e.display_picture.thumbnail){var t=`${api.get_business_multimedia}?business_id=${e.id}&device_id=${crossplat.device.uuid}&image_id=${e.display_picture.thumbnail}`;e.display_picture.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/business/customer_business_list_data","#customer-business-data-list-template","#customer-business-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/business/customer_business_list_data","#customer-business-data-list-template","#customer-business-list-wrapper",null)}function processSearchedCollaboratorAddSearchListPage(e,t){if(e.length>0){var i={business_list:e.map((e=>{if(e.hasOwnProperty("display_picture")&&e.display_picture)if(e.display_picture.hasOwnProperty("thumbnail")&&e.display_picture.thumbnail){var t=`${api.get_business_multimedia}?business_id=${e.id}&device_id=${crossplat.device.uuid}&image_id=${e.display_picture.thumbnail}`;e.display_picture.avtarUrl=t,e.hasOwnProperty("display_name")&&e.display_name?e.imageLetter=e.display_name.charAt(0):e.imageLetter=e.name.charAt(0)}else e.hasOwnProperty("display_name")&&e.display_name?e.imageLetter=e.display_name.charAt(0):e.imageLetter=e.name.charAt(0);else e.hasOwnProperty("display_name")&&e.display_name?e.imageLetter=e.display_name.charAt(0):e.imageLetter=e.name.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/collaborator/collaborator_add_search_list_data","#collaborator-add-search-list-template","#collaborator-add-search-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/collaborator/collaborator_add_search_list_data","#collaborator-add-search-list-template","#collaborator-add-search-list-wrapper",null)}function processSearchedDepartmentListPage(e,t){if(e.length>0){var i={department_list_data:e};fetch.replaceHtml((function(e){e||t()}),"page/common/department_list_data","#department-data-list-template","#department-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/common/department_list_data","#department-data-list-template","#department-list-wrapper",null)}function processSearchedEmployeeCreationActivePage(e,t){if(e.length>0){var i={employee_creation_employee_list_data:e.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);else e.imageLetter=e.name.first.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/common/active_employee_creation_list_data","#active-employee-creation-data-list-template","#active-employee-creation-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/common/active_employee_creation_list_data","#active-employee-creation-data-list-template","#active-employee-creation-list-wrapper",null)}function processSearchedEmployeeCreationPendingPage(e,t){if(e.length>0){var i={employee_creation_employee_list_data:e};fetch.replaceHtml((function(e){e||t()}),"page/common/pending_employee_creation_list_data","#pending-employee-creation-data-list-template","#pending-employee-creation-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/common/pending_employee_creation_list_data","#pending-employee-creation-data-list-template","#pending-employee-creation-list-wrapper",null)}function processSearchedEmployeeCreatDepartmentList(e,t){if(e.length>0){var i={department_list_data:e.map((e=>{var t=digibiz.department_list_selection.find((t=>t.id==e.id));return null!=t&&t.hasOwnProperty("selected")&&1==t.selected&&(e.selected=!0),e.imageLetter=e.name.charAt(0),e}))};fetch.replaceHtml((function(e){e||(t(),console.log("entry 2"))}),"page/employee/department_list_data","#department-list-data-template","#department-list-selection-wrapper",i)}else fetch.replaceHtml((function(e){e||(t(),console.log("entry 3"))}),"page/employee/department_list_data","#department-list-data-template","#department-list-selection-wrapper",null)}function processSearchedEmployeeContactListAllEmployeePage(e,t){if(e.length>0){var i={all_employees_list_data:e.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture){var t=`${api.get_employee_thumbnail}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&type=display_picture`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/employee/all_employees_list_data","#all-employees-list-data-template","#all-employees-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/employee/all_employees_list_data","#all-employees-list-data-template","#all-employees-list-wrapper",null)}function processSearchedEmployeeAccessListPage(e,t){if(e.length>0){var i={employee_access_list_data:e.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);else e.imageLetter=e.name.first.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/employee/employee_access_list_data","#employee-access-data-list-template","#employee-access-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/employee/employee_access_list_data","#employee-access-data-list-template","#employee-access-list-wrapper",null)}function processSearchedEmployeeGroupEmployeeSelectionList(e,t){if(console.log("datadata",e),e.length>0){digibiz.searched_employee_list=removeDuplicates(digibiz.searched_employee_list.concat(e),"id"),sessionStorage.getItem("group_id")?$.each($(".custom-employee-group-member-wrapper"),(function(t,i){e=e.filter((function(e){return e.dj_unique_employee_id!=$(i).attr("data-dj-unique-employee-id")}))})):$.each($("input[name='selectedmembers[]']"),(function(t,i){e=e.filter((function(e){return e.dj_unique_employee_id!=$(i).val()}))}));var i={EmployeeList:e.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t}else e.hasOwnProperty("display_name")&&e.display_name?e.imageLetter=e.display_name.charAt(0):e.imageLetter=e.name.first.charAt(0);else e.hasOwnProperty("display_name")&&e.display_name?e.imageLetter=e.display_name.charAt(0):e.imageLetter=e.name.first.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"layouts/template_elements/employee_list_selection","#employee-selection-list-template","#employee-selection-member-list-container",i)}else fetch.replaceHtml((function(e){e||t()}),"layouts/template_elements/employee_list_selection","#employee-selection-list-template","#employee-selection-member-list-container",null)}function processSearchedEmployeeSelectionList(e,t){if(e.length>0){$(".employee-select-btn-wrapper").removeClass("selected-row");var i={EmployeeList:e.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t}else e.hasOwnProperty("display_name")&&e.display_name?e.imageLetter=e.display_name.charAt(0):e.imageLetter=e.name.first.charAt(0);else e.hasOwnProperty("display_name")&&e.display_name?e.imageLetter=e.display_name.charAt(0):e.imageLetter=e.name.first.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"layouts/template_elements/employee_list_selection","#employee-selection-list-template","#employee-selection-member-list-container",i)}else fetch.replaceHtml((function(e){e||t()}),"layouts/template_elements/employee_list_selection","#employee-selection-list-template","#employee-selection-member-list-container",null)}function processSearchedEmployeeGroupStandardGroupSelectionList(e,t){if(e.length>0){sessionStorage.getItem("group_id")?$.each($(".custom-employee-group-member-wrapper"),(function(t,i){e=e.filter((function(e){return e.id!=$(i).attr("data-member-group-id")}))})):$.each($("input[name='selectedmembers[]']"),(function(t,i){e=e.filter((function(e){return e.id!=$(i).val()}))}));var i={standardGroupList:e.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image)if(e.group_image.hasOwnProperty("thumbnail")&&e.group_image.thumbnail){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"layouts/template_elements/standard_employee_group_selection","#standard-employee-selection-list-template","#standard-employee-selection-list-container",i)}else fetch.replaceHtml((function(e){e||t()}),"layouts/template_elements/standard_employee_group_selection","#standard-employee-selection-list-template","#standard-employee-selection-list-container",null)}function processSearchedEmployeeTypesListPage(e,t){if(e.length>0){var i={employee_types:e};fetch.replaceHtml((function(e){e||t()}),"page/common/employee_types","#employee-types-template","#employee-types-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/common/employee_types","#employee-types-template","#employee-types-list-wrapper",null)}function processSearchedEmployeeCategoryListPage(e,t){if(e.length>0){var i={employee_category:e};fetch.replaceHtml((function(e){e||t()}),"page/common/employee_category","#employee-category-template","#employee-category-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/common/employee_category","#employee-category-template","#employee-category-list-wrapper",null)}function processSearchedEmployeeDesignationListPage(e,t){if(e.length>0){var i={employee_designation:e};fetch.replaceHtml((function(e){e||t()}),"page/common/employee_designation","#employee-designation-template","#employee-designation-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/common/employee_designation","#employee-designation-template","#employee-designation-list-wrapper",null)}function processSearchedCustomerIdentifierTabPage(e,t){if(e.length>0){var i={customer_identifiers_list_data:e};fetch.replaceHtml((function(e){e||t()}),"page/customer/customer_identifiers_list_data","#customer-identifiers-data-list-template","#customer-identifiers-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/customer/customer_identifiers_list_data","#customer-identifiers-data-list-template","#customer-identifiers-list-wrapper",null)}function processSearchedAssociateCustomerIdentifierTabPage(e,t){if(e.length>0){var i={associate_customer_identifiers_list_data:e};fetch.replaceHtml((function(e){e||t()}),"page/customer/associate_customers_list_data","#associate-customer-identifiers-data-list-template","#associate-customer-identifiers-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/customer/associate_customers_list_data","#associate-customer-identifiers-data-list-template","#associate-customer-identifiers-list-wrapper",null)}function processSearchedCustomerIdentifiersActiveCustomerCreationList(e,t){if(e.length>0){var i={customer_identifiers_list_data:e,type:"active_customers"};fetch.replaceHtml((function(e){e||t()}),"page/customer/customer_creation_identifiers_list_data","#customer-creation-identifiers-data-list-template","#active-customer-creation-identifiers-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/customer/customer_creation_identifiers_list_data","#customer-creation-identifiers-data-list-template","#active-customer-creation-identifiers-list-wrapper",null)}function processSearchedCustomerIdentifiersPendingCustomerCreationList(e,t){if(e.length>0){var i={customer_identifiers_list_data:e,type:"pending_customers"};fetch.replaceHtml((function(e){e||t()}),"page/customer/customer_creation_identifiers_list_data","#customer-creation-identifiers-data-list-template","#pending-customer-creation-identifiers-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/customer/customer_creation_identifiers_list_data","#customer-creation-identifiers-data-list-template","#pending-customer-creation-identifiers-list-wrapper",i)}function processSearchedActiveCustomersListPage(e,t){if(e.length>0){var i={active_customers_list_data:e.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_customer_identity_picture}?id=${e.id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);else e.imageLetter=e.name.first.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/customer/active_customers_list_data","#active-customers-list-data-template","#active-customers-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/customer/active_customers_list_data","#active-customers-list-data-template","#active-customers-list-wrapper",null)}function processSearchedPendingCustomersListPage(e,t){if(e.length>0){var i={pending_customers_list_data:e};fetch.replaceHtml((function(e){e||t()}),"page/customer/pending_customers_list_data","#pending-customers-list-data-template","#pending-customers-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/customer/pending_customers_list_data","#pending-customers-list-data-template","#pending-customers-list-wrapper",null)}function processSearchedCustomerContactsIdentifiersList(e,t){if(e.length>0){var i={customer_contacts_identifiers_list_data:e,list_for:"customer_contacts_module"};fetch.replaceHtml((function(e){e||t()}),"page/customer/customer_contacts_identifiers_list_data","#customer-contacts-identifiers-list-data-template","#customer-contacts-identifiers-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/customer/customer_contacts_identifiers_list_data","#customer-contacts-identifiers-list-data-template","#customer-contacts-identifiers-list-wrapper",null)}function processSearchedCustomerContactsItemsList(e,t){if(e.length>0){var i={contacts_items_list_data:e};fetch.replaceHtml((function(e){e||t()}),"page/customer/contacts_items_list_data","#contact-items-list-data-template","#contacts-items-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/customer/contacts_items_list_data","#contact-items-list-data-template","#contacts-items-list-wrapper",i)}function processSearchedCustomerContactList(e,t){if(e.length>0){var i={customer_contact_list_data:e};fetch.replaceHtml((function(e){e||t()}),"page/customer/customer_contact_list_data","#customer-contact-list-data-template","#customer-contact-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/customer/customer_contact_list_data","#customer-contact-list-data-template","#customer-contact-list-wrapper",null)}function processSearchedStandardEmployeeGroupsList(e,t){if(e.length>0){var i={standard_employees_groups_list_data:e.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image)if(e.group_image.hasOwnProperty("thumbnail")&&e.group_image.thumbnail){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/employee/standard_employees_groups_list_data","#standard-employees-groups-list-data-template","#standard-employees-groups-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/employee/standard_employees_groups_list_data","#standard-employees-groups-list-data-template","#standard-employees-groups-list-wrapper",null)}function processSearchedCustomEmployeeGroupsList(e,t){if(e.length>0){var i={custom_employees_groups_list_data:e.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image)if(e.group_image.hasOwnProperty("thumbnail")&&e.group_image.thumbnail){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/employee/custom_employees_groups_list_data","#custom-employees-groups-list-data-template","#custom-employees-groups-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/employee/custom_employees_groups_list_data","#custom-employees-groups-list-data-template","#custom-employees-groups-list-wrapper",null)}function processSearchedEmployeeAccessList(e,t){if(e.length>0){var i={employee_access_list_data:e.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);else e.imageLetter=e.name.first.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/employee/employee_access_list_data","#employee-access-data-list-template","#employee-access-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/employee/employee_access_list_data","#employee-access-data-list-template","#employee-access-list-wrapper",null)}function processSearchedStandardCustomerGroupsIdentifiersList(e,t){if(e.length>0){var i={standard_customer_groups_identifiers_list_data:e};fetch.replaceHtml((function(e){e||t()}),"page/customer/standard_customer_groups_identifiers_list_data","#standard-customer-groups-identifiers-list-data-template","#standard-customer-groups-identifiers-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/customer/standard_customer_groups_identifiers_list_data","#standard-customer-groups-identifiers-list-data-template","#standard-customer-groups-identifiers-list-wrapper",null)}function processSearchedCustomerCustomGroupList(e,t){if(e.length>0){var i={customer_custom_groups_list_data:e.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image)if(e.group_image.hasOwnProperty("thumbnail")&&e.group_image.thumbnail){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/customer/customer_custom_groups_list_data","#customer-custom-groups-list-data-template","#customer-custom-groups-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/customer/customer_custom_groups_list_data","#customer-custom-groups-list-data-template","#customer-custom-groups-list-wrapper",null)}function processSearchedCustomerGroupList(e,t){if(e.length>0){var i={customer_groups_list_data:e.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image)if(e.group_image.hasOwnProperty("thumbnail")&&e.group_image.thumbnail){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/customer/customer_groups_list_data","#customer-groups-list-data-template","#customer-groups-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/customer/customer_groups_list_data","#customer-groups-list-data-template","#customer-groups-list-wrapper",null)}function processSearchedCustomerAccessIdentifiersList(e,t){if(e.length>0){var i={customer_access_identifiers_list_data:e};fetch.replaceHtml((function(e){e||t()}),"page/customer/customer_access_identifier_list_data","#customer-access-identifier-list-data-template","#customer-access-identifier-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/customer/customer_access_identifier_list_data","#customer-access-identifier-list-data-template","#customer-access-identifier-list-wrapper",null)}function processSearchedCustomerAccessIdentifierItemsList(e,t){if(e.length>0){var i={customer_access_identifier_items_list_data:e};fetch.replaceHtml((function(e){e||t()}),"page/customer/customer_access_identifier_items_data","#customer-access-identifier-items-list-data-template","#customer-access-identifier-items-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/customer/customer_access_identifier_items_data","#customer-access-identifier-items-list-data-template","#customer-access-identifier-items-list-wrapper",null)}function processSearchedCommunicationGroupsList(e,t){if(e.length>0){var i={communication_group_list_data:e.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image)if(e.group_image.hasOwnProperty("thumbnail")&&e.group_image.thumbnail){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/communication/communication_group_list_data","#communication-group-list-data-template","#communication-group-list-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/communication/communication_group_list_data","#communication-group-list-data-template","#communication-group-list-list-wrapper",null)}function processSearchedActiveCollaboratorContactList(e,t){if(e.length>0){var i={collaborator_contact_list_data:e.map((e=>{if(e.hasOwnProperty("business_display_picture")&&e.business_display_picture)if(e.business_display_picture.hasOwnProperty("thumbnail")&&e.business_display_picture.thumbnail){var t=`${api.get_business_multimedia}?business_id=${e.business_id}&device_id=${crossplat.device.uuid}&image_id=${e.business_display_picture.thumbnail}`;e.business_display_picture.avtarUrl=t,e.imageLetter=e.business_name.charAt(0)}else e.imageLetter=e.business_name.charAt(0);else e.imageLetter=e.business_name.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/collaborator/collaborator_contact_list_data","#collaborator-contact-list-data-template","#collaborator-contact-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/collaborator/collaborator_contact_list_data","#collaborator-contact-list-data-template","#collaborator-contact-list-wrapper",null)}function processSearchedPendingCollaboratorContactList(e,t){if(e.length>0){var i={pending_collaborator_contact_list_data:digibiz.pending_collaborator_contact_list.map((e=>{if(e.hasOwnProperty("display_picture")&&e.display_picture)if(e.display_picture.hasOwnProperty("thumbnail")&&e.display_picture.thumbnail){var t=`${api.get_business_multimedia}?business_id=${e.contact.business_id}&device_id=${crossplat.device.uuid}&image_id=${e.display_picture.thumbnail}`;e.display_picture.avtarUrl=t,e.imageLetter=e.business_name.charAt(0)}else e.imageLetter=e.business_name.charAt(0);else e.imageLetter=e.business_name.charAt(0);return"number"==typeof e.createdDate&&(e.createdDate=moment.unix(e.createdDate).format("MMM D YYYY hh:mm:ss A")),"number"==typeof e.updatedDate&&(e.updatedDate=moment.unix(e.updatedDate).format("MMM D YYYY hh:mm:ss A")),"number"==typeof e.expiryDate&&(e.expiryDate=moment.unix(e.expiryDate).format("MMM D YYYY hh:mm:ss A")),e}))};fetch.replaceHtml((function(e){e||t()}),"page/collaborator/pending_collaborator_contact_list_data","#pending-collaborator-contact-list-data-template","#pending-collaborator-contact-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/collaborator/pending_collaborator_contact_list_data","#pending-collaborator-contact-list-data-template","#pending-collaborator-contact-list-wrapper",null)}function processSearchedCollaboratorGroupsList(e,t){if(e.length>0){var i={collaborator_groups_list:e.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image)if(e.group_image.hasOwnProperty("thumbnail")&&e.group_image.thumbnail){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/collaborator/group_list_data","#collaborator-groups-list-data-template","#collaborator-groups-list-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/collaborator/group_list_data","#collaborator-groups-list-data-template","#collaborator-groups-list-list-wrapper",null)}function processSearchedOtherCollaboratorGroupsList(e,t){if(e.length>0){var i={collaborator_groups_list:e.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image)if(e.group_image.hasOwnProperty("thumbnail")&&e.group_image.thumbnail){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/collaborator/group_list_data","#collaborator-groups-list-data-template","#other-collaborator-groups-list-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/collaborator/group_list_data","#collaborator-groups-list-data-template","#other-collaborator-groups-list-list-wrapper",null)}function processSearchedLogsList(e,t){if(console.log("qwe",e),e&&e.length>0){var i={log_list_data:e.map((e=>("number"==typeof e.action.date&&(e.action.date=moment.unix(e.action.date).format("MMM D YYYY hh:mm:ss A")),e)))};fetch.replaceHtml((function(e){e||(removeLoader(),t())}),"page/common/digibiz_logs_data","#digibiz-logs-list-data-template","#digibiz-logs-list-wrapper",i)}else fetch.replaceHtml((function(e){e||(removeLoader(),t())}),"page/common/digibiz_logs_data","#digibiz-logs-list-data-template","#digibiz-logs-list-wrapper",null)}function processSearchedEmployeeStandardGroupNewModeratorAddSearchResult(e,t){if(e.length>0){var i={EmployeeList:e.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);else e.imageLetter=e.name.first.charAt(0);var i=digibiz.communicationActivateEmployeeGroupEmployeeList.find((t=>t.dj_unique_employee_id==e.dj_unique_employee_id));return null!=i&&i.hasOwnProperty("selected")&&1==i.selected&&(e.selected=!0),e})),from:"direct"};fetch.replaceHtml((function(){t()}),"page/communication/employee_selection_list","#employee-selection-list-template","#communication-group-activate-employee-group-employee-list-wrapper",i)}else fetch.replaceHtml((function(){t()}),"page/communication/employee_selection_list","#employee-selection-list-template","#communication-group-activate-employee-group-employee-list-wrapper",null)}function processSearchedEmployeeStandardGroupMember(e,t){if(e){if($("#group-member-search-main-container").hasClass("employee-member-serach"))var i=e.filter((e=>"employee"==e.type));else if($("#group-member-search-main-container").hasClass("customer-member-serach"))i=e.filter((e=>"customer"==e.type));else i=e;var a={data:i,device_id:crossplat.device.uuid};fetch.replaceHtml((function(){t()}),"page/common/group_member_search_modal","#group-member-search-template","#group-member-search-wrapper",a)}else fetch.replaceHtml((function(){t()}),"page/common/group_member_search_modal","#group-member-search-template","#group-member-search-wrapper",null)}function processSearchedBusinessNotificationsList(e,t){if(e.length>0){var i={business_notification_list_data:e.map((e=>{if(e.hasOwnProperty("display_picture")&&e.display_picture)if(e.display_picture.hasOwnProperty("thumbnail")&&e.display_picture.thumbnail){var t=`${api.get_business_multimedia}?business_id=${e.id}&device_id=${crossplat.device.uuid}&image_id=${e.display_picture.thumbnail}`;e.display_picture.avtarUrl=t,e.imageLetter=e.business_name.charAt(0)}else e.imageLetter=e.business_name.charAt(0);else e.imageLetter=e.business_name.charAt(0);return"number"==typeof e.expiryDate&&(e.expiryDate=moment.unix(e.expiryDate).format("MMM D YYYY hh:mm:ss A")),e}))};fetch.replaceHtml((function(e){e||t()}),"page/business/business_notifications_data","#business-notifications-data-list-template","#business-notifications-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/business/business_notifications_data","#business-notifications-data-list-template","#business-notifications-list-wrapper",null)}function processSearchedCustomerGroupContactsList(e,t){if(e.length>0){var i={customer_group_contact_list_data:e};fetch.replaceHtml((function(){var e=[];$(".customer-group-member-wrapper").length>0&&$.each($(".customer-group-member-wrapper"),(function(t,i){e.push({id:$(i).attr("data-id")})})),$("#customer-group-members-list").find(".custom-customer-group-member-wrapper").length>0&&$.each($("#customer-group-members-list .custom-customer-group-member-wrapper"),(function(t,i){e.push({id:$(i).attr("data-customer-id")})})),e.length>0&&$.each(e,(function(e,t){$(`.customer-groups-contact-wrapper[data-id="${t.id}"]`).remove()})),t()}),"page/customer/group_contact_list_data","#customer-group-contact-list-data-template","#customer-group-contacts-items-list-wrapper",i)}else fetch.replaceHtml((function(){var e=[];$(".customer-group-member-wrapper").length>0&&$.each($(".customer-group-member-wrapper"),(function(t,i){e.push({id:$(i).attr("data-id")})})),$("#customer-group-members-list").find(".custom-customer-group-member-wrapper").length>0&&$.each($("#customer-group-members-list .custom-customer-group-member-wrapper"),(function(t,i){e.push({id:$(i).attr("data-customer-id")})})),e.length>0&&$.each(e,(function(e,t){$(`.customer-groups-contact-wrapper[data-id="${t.id}"]`).remove()})),t()}),"page/customer/group_contact_list_data","#customer-group-contact-list-data-template","#customer-group-contacts-items-list-wrapper",null)}function processSearchedCustomerGroupCustomGroupList(e,t){if(e.length>0){var i={customer_group_custom_groups_list_data:e.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thubnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);var i=digibiz.customerGroupCustomGroupsList.findIndex((t=>t.id==e.id));i>-1&&(1==digibiz.customerGroupCustomGroupsList[i].selected&&(e.selected=!0));return e}))};fetch.replaceHtml((function(){var e=[];$(".customer-group-member-wrapper").length>0&&$.each($(".customer-group-member-wrapper"),(function(t,i){e.push({id:$(i).attr("data-id"),type:"new_member"})})),$("#customer-group-members-list").find(".custom-customer-group-member-wrapper").length>0&&$.each($("#customer-group-members-list .custom-customer-group-member-wrapper"),(function(t,i){e.push({id:$(i).attr("data-group-id"),type:"old_member"})})),e.length>0&&($.each(e,(function(e,t){$("#customer-group-custom-groups-list-wrapper").find(`.customer-group-custom-group-wrapper[data-id="${t.id}"]`).remove()})),$(".customer-group-custom-group-wrapper").length>0||$(".customer-group-custom-groups-list-contentbox").append('<div class="no_data">No data found</div>')),t()}),"page/customer/customer_group_custom_group_list_data","#customer-group-custom-groups-list-template","#customer-group-custom-groups-list-wrapper",i)}else fetch.replaceHtml((function(){var e=[];$(".customer-group-member-wrapper").length>0&&$.each($(".customer-group-member-wrapper"),(function(t,i){e.push({id:$(i).attr("data-id"),type:"new_member"})})),$("#customer-group-members-list").find(".custom-customer-group-member-wrapper").length>0&&$.each($("#customer-group-members-list .custom-customer-group-member-wrapper"),(function(t,i){e.push({id:$(i).attr("data-group-id"),type:"old_member"})})),e.length>0&&($.each(e,(function(e,t){$("#customer-group-custom-groups-list-wrapper").find(`.customer-group-custom-group-wrapper[data-id="${t.id}"]`).remove()})),$(".customer-group-custom-group-wrapper").length>0||$(".customer-group-custom-groups-list-contentbox").append('<div class="no_data">No data found</div>')),t()}),"page/customer/customer_group_custom_group_list_data","#customer-group-custom-groups-list-template","#customer-group-custom-groups-list-wrapper",null)}function processGroupBusinessMemberSearch(e=null,t){if(digibiz.collaborator_business_members_search=removeDuplicates(digibiz.collaborator_business_members_search.concat(e),"id"),e)var i={businessList:digibiz.collaborator_business_members_search.map((e=>{if(e.hasOwnProperty("display_picture")&&e.display_picture)if(e.display_picture.hasOwnProperty("thumbnail")&&e.display_picture.thumbnail){var t=`${api.get_business_multimedia}?business_id=${e.member.business_id}&device_id=${crossplat.device.uuid}&image_id=${e.display_picture.thumbnail}`;e.display_picture.avtarUrl=t,e.imageLetter=e.business_name.charAt(0)}else e.imageLetter=e.business_name.charAt(0);else e.imageLetter=e.business_name.charAt(0);return e}))};else i={};fetch.replaceHtml((function(e){e||t()}),"page/collaborator/collaborator_business_members_search_list","#collaborator-contact-selection-list-template","#group-member-search-wrapper",i)}function processSearchedGroupBusinessMemberSearch(e,t){if(e.length>0){var i={businessList:e.map((e=>{if(e.hasOwnProperty("display_picture")&&e.display_picture)if(e.display_picture.hasOwnProperty("thumbnail")&&e.display_picture.thumbnail){var t=`${api.get_business_multimedia}?business_id=${e.member.business_id}&device_id=${crossplat.device.uuid}&image_id=${e.display_picture.thumbnail}`;e.display_picture.avtarUrl=t,e.imageLetter=e.business_name.charAt(0)}else e.imageLetter=e.business_name.charAt(0);else e.imageLetter=e.business_name.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/collaborator/collaborator_business_members_search_list","#collaborator-contact-selection-list-template","#group-member-search-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/collaborator/collaborator_business_members_search_list","#collaborator-contact-selection-list-template","#group-member-search-wrapper",null)}function showEmployeesCollaboratorGroupBusinessMembers(e,t){if(digibiz.show_employees_collaborator_group=removeDuplicates(digibiz.show_employees_collaborator_group.concat(e),"id"),$("#modal-collaborator-group-business-members").attr("data-business-id")==sessionStorage.getItem("business_id"))var i={EmployeeList:digibiz.show_employees_collaborator_group.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.member.employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else e.imageLetter=e.member_name.first.charAt(0);else e.imageLetter=e.member_name.first.charAt(0);return e.can_edit="yes",e})),page_for:"listing_employees"};else i={EmployeeList:digibiz.show_employees_collaborator_group.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.member.employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else e.imageLetter=e.member_name.first.charAt(0);else e.imageLetter=e.member_name.first.charAt(0);return e})),page_for:"listing_employees"};fetch.replaceHtml((function(e){e||t()}),"page/collaborator/moderator_selection_list","#moderator-selection-list-template","#collaborator-group-show-employees-business-member-list-wrapper",i)}function processSearchedShowEmployeesCollaboratorGroupBusinessMembers(e,t){if(e.length>0){if($("#modal-collaborator-group-business-members").attr("data-business-id")==sessionStorage.getItem("business_id"))var i={EmployeeList:e.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.member.employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else e.imageLetter=e.member_name.first.charAt(0);else e.imageLetter=e.member_name.first.charAt(0);return e.can_edit="yes",e})),page_for:"listing_employees"};else i={EmployeeList:e.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.member.employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else e.imageLetter=e.member_name.first.charAt(0);else e.imageLetter=e.member_name.first.charAt(0);return e})),page_for:"listing_employees"};fetch.replaceHtml((function(e){e||t()}),"page/collaborator/moderator_selection_list","#moderator-selection-list-template","#collaborator-group-show-employees-business-member-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/collaborator/moderator_selection_list","#moderator-selection-list-template","#collaborator-group-show-employees-business-member-list-wrapper",null)}function collaboratorGroupOwnerBusinessEmployeeSelection(e,t){digibiz.collaborator_group_owner_employee_members=removeDuplicates(digibiz.collaborator_group_owner_employee_members.concat(e),"id");var i={EmployeeList:digibiz.collaborator_group_owner_employee_members.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);else e.imageLetter=e.name.first.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/common/employee_list_selection","#employee-selection-list-template","#collaborator-group-owner-business-employees-selection-list-wrapper",i)}function processSearchedCollaboratorGroupOwnerBusinessEmployeeSelection(e,t){if(e.length>0){var i={EmployeeList:e.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);else e.imageLetter=e.name.first.charAt(0);var i=digibiz.collaborator_group_owner_employee_members.findIndex((t=>t.dj_unique_employee_id==e.dj_unique_employee_id));i>-1&&(1==digibiz.collaborator_group_owner_employee_members[i].selected&&(e.selected=!0));return e}))};fetch.replaceHtml((function(e){e||t()}),"page/common/employee_list_selection","#employee-selection-list-template","#collaborator-group-owner-business-employees-selection-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/common/employee_list_selection","#employee-selection-list-template","#collaborator-group-owner-business-employees-selection-list-wrapper",null)}function processSearchedCommunicationGroupCreateEmployeeGroupsList(e,t){if(e.length>0){var i={groupList:e.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thubnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);var i=digibiz.communicationCreateEmployeeGroupsList.findIndex((t=>t.id==e.id));i>-1&&(1==digibiz.communicationCreateEmployeeGroupsList[i].selected&&(e.selected=!0));return e})),page_for:"create_communication_group"};fetch.replaceHtml((function(){var e=[];$(".communication-group-employee-group-member-wrapper").length>0&&$.each($(".communication-group-employee-group-member-wrapper"),(function(t,i){e.push({id:$(i).attr("data-id"),type:"new_member"})})),$("#communication-group-employee-members-list").find(".communication-group-member-wrapper").length>0&&$.each($("#communication-group-employee-members-list .communication-group-member-wrapper"),(function(t,i){e.push({id:$(i).attr("data-group-id"),type:"old_member"})})),e.length>0&&$.each(e,(function(e,t){("new_member"==t.type||"old_member"==t.type)&&$(`.group-selection-wrapper[data-group-id="${t.id}"]`).remove()})),$("#modal-communication-group-employee-group-selection").find(".group-selection-wrapper").length>0||$(".employee-group-list-selection-main-container").append('<div class="no-data">No Data found</div>'),t()}),"page/communication/employee_group_selection","#employee-group-list-selection-template","#communication-group-create-employee-group-list-wrapper",i)}else fetch.replaceHtml((function(){t()}),"page/communication/employee_group_selection","#employee-group-list-selection-template","#communication-group-create-employee-group-list-wrapper",null)}function processSearchedCommunicationGroupCreateCollaboratorGroupsList(e,t){if(e.length>0){var i={groupList:e.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thubnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);var i=digibiz.communicationCreateCollaboratorGroupsList.findIndex((t=>t.id==e.id));i>-1&&(1==digibiz.communicationCreateCollaboratorGroupsList[i].selected&&(e.selected=!0));return e}))};fetch.replaceHtml((function(){var e=[];$(".communication-group-collaborator-group-member-wrapper").length>0&&$.each($(".communication-group-collaborator-group-member-wrapper"),(function(t,i){e.push({id:$(i).attr("data-id"),type:"new_member"})})),$("#communication-group-collaborator-members-list").find(".communication-group-member-wrapper").length>0&&$.each($("#communication-group-collaborator-members-list .communication-group-member-wrapper"),(function(t,i){e.push({id:$(i).attr("data-group-id"),type:"old_member"})})),e.length>0&&$.each(e,(function(e,t){("new_member"==t.type||"old_member"==t.type)&&$(`.group-selection-wrapper[data-group-id="${t.id}"]`).remove()})),$("#modal-communication-group-collaborator-group-selection").find(".group-selection-wrapper").length>0||$(".collaborator-group-list-selection-main-container").append('<div class="no-data">No Data found</div>'),t()}),"page/communication/collaborator_group_selection","#collaborator-group-list-selection-template","#communication-group-create-collaborator-group-list-wrapper",i)}else fetch.replaceHtml((function(){t()}),"page/communication/collaborator_group_selection","#collaborator-group-list-selection-template","#communication-group-create-collaborator-group-list-wrapper",null)}function processSearchedCommunicationGroupCreateCustomerGroupsList(e,t){if(e.length>0){var i={groupList:e.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thubnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);var i=digibiz.communicationCreateCustomersGroupsList.findIndex((t=>t.id==e.id));i>-1&&(1==digibiz.communicationCreateCustomersGroupsList[i].selected&&(e.selected=!0));return e})),page_for:"create_communication_group"};fetch.replaceHtml((function(){var e=[];$(".communication-group-customer-group-member-wrapper").length>0&&$.each($(".communication-group-customer-group-member-wrapper"),(function(t,i){e.push({id:$(i).attr("data-id"),type:"new_member"})})),$("#communication-group-customer-members-list").find(".communication-group-member-wrapper").length>0&&$.each($("#communication-group-customer-members-list .communication-group-member-wrapper"),(function(t,i){e.push({id:$(i).attr("data-group-id"),type:"old_member"})})),e.length>0&&$.each(e,(function(e,t){("new_member"==t.type||"old_member"==t.type)&&$(`.group-selection-wrapper[data-group-id="${t.id}"]`).remove()})),$("#modal-communication-group-customer-group-selection").find(".group-selection-wrapper").length>0||$(".customer-group-list-selection-main-container").append('<div class="no-data">No Data found</div>'),t()}),"page/communication/customer_group_selection","#customer-group-list-selection-template","#communication-group-create-customer-group-list-wrapper",i)}else fetch.replaceHtml((function(){t()}),"page/communication/customer_group_selection","#customer-group-list-selection-template","#communication-group-create-customer-group-list-wrapper",null)}function processCommunicationGroupCreateEmployeeSelectionList(e,t){digibiz.communicationGroupEmployeeSelectionList=removeDuplicates(digibiz.communicationGroupEmployeeSelectionList.concat(e),"id");var i={EmployeeList:digibiz.communicationGroupEmployeeSelectionList.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);else e.imageLetter=e.name.first.charAt(0);return e})),from:"direct"};fetch.replaceHtml((function(e){e||(digibiz.alreadySelected.length>0&&($("#modal-communication-group-employees-selection").find(".contact-profile-container").length>0||$(".employee-selection-member-list").append('<div class="no-data">No Employees found</div>')),t())}),"page/communication/employee_selection_list","#employee-selection-list-template","#communication-group-employees-selection-list-wrapper",i)}function processSearchedCommunicationGroupCreateEmployeeSelectionList(e,t){if(e.length>0){var i={EmployeeList:e.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);else e.imageLetter=e.name.first.charAt(0);var i=digibiz.communicationGroupEmployeeSelectionList.findIndex((t=>t.id==e.id));i>-1&&(1==digibiz.communicationGroupEmployeeSelectionList[i].selected&&(e.selected=!0));return e})),from:"direct"};fetch.replaceHtml((function(e){e||(digibiz.alreadySelected.length>0&&($.each(digibiz.alreadySelected,(function(e,t){("new_member"==t.type||"old_member"==t.type)&&$(`.contact-profile-container[data-dj-unique-employee-id="${t.id}"]`).parent(".employee-selection-list-container").remove()})),$("#modal-communication-group-employees-selection").find(".contact-profile-container").length>0||$(".employee-selection-member-list").append('<div class="no-data">No Employees found</div>')),t())}),"page/communication/employee_selection_list","#employee-selection-list-template","#communication-group-employees-selection-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/communication/employee_selection_list","#employee-selection-list-template","#communication-group-employees-selection-list-wrapper",null)}function listenForCommunicationGroupCreateEmployeeSelectionListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),addLoader(),employeeList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"list_only_active",count:20,offset:digibiz.communicationGroupEmployeeSelectionList.length}).then((e=>{removeLoader(),scrollProcessCommunicationGroupCreateEmployeeSelectionList(e,(function(){listenForCommunicationGroupCreateEmployeeSelectionListScrollEvent($(".modal-popup-content")),removeLoader()}))})).catch((e=>{fetch.appendHtml((function(e){e||removeLoader()}),"page/communication/scroll_employee_selection_list","#scroll-employee-selection-list-template","#communication-group-employees-selection-list-wrapper",null)})))}))}function scrollProcessCommunicationGroupCreateEmployeeSelectionList(e,t){digibiz.communicationGroupEmployeeSelectionList=removeDuplicates(digibiz.communicationGroupEmployeeSelectionList.concat(e),"id");var i={EmployeeList:e.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);else e.imageLetter=e.name.first.charAt(0);return e})),from:"direct"};fetch.appendHtml((function(e){e||(digibiz.alreadySelected.length>0&&($("#modal-communication-group-employees-selection").find(".contact-profile-container").length>0||$(".employee-selection-member-list").append('<div class="no-data">No Employees found</div>')),t())}),"page/communication/scroll_employee_selection_list","#scroll-employee-selection-list-template","#communication-group-employees-selection-list-wrapper",i)}function processSearchedCommunicationGroupContactListCustomerList(e,t){if(e.length>0){var i={communication_group_identifier_based_customer_contact_list_data:e};fetch.replaceHtml((function(){t()}),"page/communication/communication_group_contact_list_customer_list","#communication-group-identifier-based-customer-contact-list-data-template","#communication-group-contacts-items-list-wrapper",i)}else fetch.replaceHtml((function(){t()}),"page/communication/communication_group_contact_list_customer_list","#communication-group-identifier-based-customer-contact-list-data-template","#communication-group-contacts-items-list-wrapper",null)}function processSearchedCommunicationGroupActivateEmployeeGroupEmployeeList(e,t,i){if(e.length>0){if("custom"==t.group_type&&"employee_list"==t.custom_group_from)var a={EmployeeList:e.map((e=>{if(e.member_data.hasOwnProperty("identity_picture")&&e.member_data.identity_picture)if(e.member_data.identity_picture.hasOwnProperty("thumbnail")&&e.member_data.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.member_data.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.member_data.identity_picture.thumbnail}`;e.member_data.identity_picture.avtarUrl=t,e.member_data.imageLetter=e.member_data.name.first.charAt(0)}else e.member_data.imageLetter=e.member_data.name.first.charAt(0);else e.member_data.imageLetter=e.member_data.name.first.charAt(0);var i=digibiz.communicationActivateEmployeeGroupEmployeeList.findIndex((t=>t.member.dj_unique_employee_id==e.id));if(i>-1){var a=digibiz.communicationActivateEmployeeGroupEmployeeList[i].selected;1!=a&&"true"!=a||(e.selected=!0)}return e})),from:"employee_list_search"};else if("custom"==t.group_type&&"standard_group"==t.custom_group_from)a={EmployeeList:e.map((e=>(e.hasOwnProperty("group_members")&&e.group_members&&$.each(e.group_members,(function(e,t){if(t.hasOwnProperty("identity_picture")&&t.identity_picture)if(t.identity_picture.hasOwnProperty("thumbnail")&&t.identity_picture.thumbnail){var i=`${api.get_employee_identity_picture}?id=${t.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${t.identity_picture.thumbnail}`;t.identity_picture.avtarUrl=i,t.imageLetter=t.name.first.charAt(0)}else t.imageLetter=t.name.first.charAt(0);else t.imageLetter=t.name.first.charAt(0)})),e))),from:"standard_group"};fetch.replaceHtml((function(){i()}),"page/communication/employee_selection_list","#employee-selection-list-template","#communication-group-activate-employee-group-employee-list-wrapper",a)}else fetch.replaceHtml((function(){i()}),"page/communication/employee_selection_list","#employee-selection-list-template","#communication-group-activate-employee-group-employee-list-wrapper",null)}function processSearchedCommunicationGroupActivate(e,t,i){if(e.length>0){if("contact_list"==t)var a={membersList:e.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){if("employee"==e.member.type){var t=`${api.get_employee_identity_picture}?id=${e.member.id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else if("customer"==e.member.type&&"customer"==e.member.customer_type){t=`${api.get_customer_identity_picture}?id=${e.member.id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else if("customer"==e.member.type&&"associate_customer"==e.member.customer_type){t=`${api.get_associate_customer_identity_picture}?id=${e.member.id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}}else e.imageLetter=e.member_name.first.charAt(0);else e.imageLetter=e.member_name.first.charAt(0);var i=digibiz.communicationGroupActivate.findIndex((t=>t.member.id==e.member.id));if(i>-1){var a=digibiz.communicationGroupActivate[i].selected;1!=a&&"true"!=a||(e.selected=!0)}return e})),page_for:"contact_list_moderator"};else if("group_list"==t)a={membersList:e.map((e=>(e.hasOwnProperty("group_members")&&e.group_members&&$.each(e.group_members,(function(e,t){if(t.hasOwnProperty("identity_picture")&&t.identity_picture)if(t.identity_picture.hasOwnProperty("thumbnail")&&t.identity_picture.thumbnail){var i=`${api.get_employee_identity_picture}?id=${t.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${t.identity_picture.thumbnail}`;t.identity_picture.avtarUrl=i,t.imageLetter=t.name.first.charAt(0)}else t.imageLetter=t.name.first.charAt(0);else t.imageLetter=t.name.first.charAt(0)})),e))),page_for:"standard_group"};fetch.replaceHtml((function(){i()}),"page/communication/moderator_selection_list","#moderator-selection-list-template","#group-moderator-search-wrapper",a)}else fetch.replaceHtml((function(){i()}),"page/communication/moderator_selection_list","#moderator-selection-list-template","#group-moderator-search-wrapper",null)}function processSearchedCommunicationGroupCreateEmployeeGroupEmployeeList(e,t){if(e.length>0){var i={EmployeeList:e.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);else e.imageLetter=e.name.first.charAt(0);if(e.group_id==$("#modal-communication-group-create-employee-group-employee-list-selection").attr("data-group-id")){var i=digibiz.communicationCreateEmployeeGroupEmployeeList.findIndex((t=>t.dj_unique_employee_id==e.dj_unique_employee_id));if(i>-1){var a=digibiz.communicationCreateEmployeeGroupEmployeeList[i].selected;if(1==a||"true"==a){e.selected=!0;var o=digibiz.communicationCreateEmployeeGroupEmployeeList[i].disabled;1!=o&&"true"!=o||(e.disabled=!0)}}}return e})),from:"group",type:"commuication_create_group_list"};fetch.replaceHtml((function(){t()}),"page/communication/employee_selection_list","#employee-selection-list-template","#communication-group-create-employee-group-employee-list-wrapper",i)}else fetch.replaceHtml((function(){t()}),"page/communication/employee_selection_list","#employee-selection-list-template","#communication-group-create-employee-group-employee-list-wrapper",null)}function processSearchedCommunicationGroupCreateCustomerGroupCustomerList(e,t){if(e.length>0){var i={customerList:e.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){if("customer"==e.type){var t=`${api.get_customer_identity_picture}?id=${e.id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else if("associate_customer"==e.type){t=`${api.get_associate_customer_identity_picture}?id=${e.id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}}else e.imageLetter=e.name.first.charAt(0);else e.imageLetter=e.name.first.charAt(0);if(e.group_id==$("#modal-communication-group-create-employee-group-employee-list-selection").attr("data-group-id")){var i=digibiz.communicationCreateEmployeeGroupEmployeeList.findIndex((t=>t.id==e.id));if(i>-1){var a=digibiz.communicationCreateEmployeeGroupEmployeeList[i].selected;1!=a&&"true"!=a||(e.selected=!0)}}return e}))};fetch.replaceHtml((function(){t()}),"page/communication/customer_selection_list","#customer-selection-list-template","#communication-group-create-employee-group-employee-list-wrapper",i)}else fetch.replaceHtml((function(){t()}),"page/communication/customer_selection_list","#customer-selection-list-template","#communication-group-create-employee-group-employee-list-wrapper",null)}function acceptNotification(){var e=sessionStorage.getItem("notify_id"),t=sessionStorage.getItem("notify_owner_id"),i=sessionStorage.getItem("notify_business_id"),a=sessionStorage.getItem("notify_type");accountGet({device_id:crossplat.device.uuid,user_id:sessionStorage.getItem("user_id")}).then((o=>{if("employee"==a)"active"==o.roles.employee?notificationChangeStatus({device_id:crossplat.device.uuid,notification_id:e,action:"accepted"}).then((a=>{"accepted"==a.contact.status.status?employeeAdd({device_id:crossplat.device.uuid,adder_user_id:t,business_id:i,notification_id:e}).then((e=>{sessionStorage.removeItem("notify_business_id"),sessionStorage.removeItem("notify_owner_id"),sessionStorage.removeItem("notify_id"),sessionStorage.removeItem("notify_type"),sessionStorage.removeItem("notify_identifier_id"),sessionStorage.removeItem("notify_customer_id"),"administrator"==sessionStorage.getItem("role")?(sessionStorage.removeItem("role"),location.hash="business_owner/business/list"):"employee"==sessionStorage.getItem("role")?(sessionStorage.removeItem("role"),digibiz.checkAccountFlag=!1,location.hash="employee/business/list"):"customer"==sessionStorage.getItem("role")?(sessionStorage.removeItem("role"),location.hash="customer/business/list"):"prospect"==sessionStorage.getItem("role")&&(sessionStorage.removeItem("role"),location.hash="digibiz/account/storage"),removeLoader()})).catch((e=>{sessionStorage.removeItem("notify_business_id"),sessionStorage.removeItem("notify_owner_id"),sessionStorage.removeItem("notify_id"),sessionStorage.removeItem("notify_type"),sessionStorage.removeItem("notify_identifier_id"),sessionStorage.removeItem("notify_customer_id"),"administrator"==sessionStorage.getItem("role")?(sessionStorage.removeItem("role"),location.hash="business_owner/business/list"):"employee"==sessionStorage.getItem("role")?(sessionStorage.removeItem("role"),location.hash="employee/business/list"):"customer"==sessionStorage.getItem("role")?(sessionStorage.removeItem("role"),location.hash="customer/business/list"):"prospect"==sessionStorage.getItem("role")&&(sessionStorage.removeItem("role"),location.hash="digibiz/account/storage"),removeLoader()})):removeLoader()})).catch((e=>{removeLoader()})):(removeLoader(),showAlert({alert_id:"activate-role-hub-page",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Please activate your employee role to accept this request.",alert_btn:[{name:"Ok",attr:[{name:"id",value:"activate-role-hub-page-alert-ok"}]},{name:"Cancel",attr:[{name:"id",value:"activate-role-hub-page-alert-cancel"}]}]},(function(){sessionStorage.setItem("role","employee"),sessionStorage.setItem("notify_business_id",i),sessionStorage.setItem("notify_owner_id",t),sessionStorage.setItem("notify_id",e),sessionStorage.setItem("notify_type",a),removeLoader()})));else if("customer"==a||"associate_customer"==a){if("active"==o.roles.customer)notificationChangeStatus({device_id:crossplat.device.uuid,notification_id:e,action:"accepted"}).then((o=>{if("accepted"==o.contact.status.status){if("customer"==a){var s=sessionStorage.getItem("notify_identifier_id");customerAdd({device_id:crossplat.device.uuid,identifier_id:s,adder_user_id:t,business_id:i,notification_id:e}).then((e=>{sessionStorage.removeItem("notify_business_id"),sessionStorage.removeItem("notify_owner_id"),sessionStorage.removeItem("notify_id"),sessionStorage.removeItem("notify_type"),sessionStorage.removeItem("notify_identifier_id"),sessionStorage.removeItem("notify_customer_id"),"administrator"==sessionStorage.getItem("role")?(sessionStorage.removeItem("role"),location.hash="business_owner/business/list"):"employee"==sessionStorage.getItem("role")?(sessionStorage.removeItem("role"),location.hash="employee/business/list"):"customer"==sessionStorage.getItem("role")?(sessionStorage.removeItem("role"),digibiz.checkAccountFlag=!1,location.hash="customer/business/list"):"prospect"==sessionStorage.getItem("role")&&(sessionStorage.removeItem("role"),location.hash="digibiz/account/storage"),removeLoader()})).catch((e=>{sessionStorage.removeItem("notify_business_id"),sessionStorage.removeItem("notify_owner_id"),sessionStorage.removeItem("notify_id"),sessionStorage.removeItem("notify_type"),sessionStorage.removeItem("notify_identifier_id"),sessionStorage.removeItem("notify_customer_id"),"administrator"==sessionStorage.getItem("role")?(sessionStorage.removeItem("role"),location.hash="business_owner/business/list"):"employee"==sessionStorage.getItem("role")?(sessionStorage.removeItem("role"),location.hash="employee/business/list"):"customer"==sessionStorage.getItem("role")?(sessionStorage.removeItem("role"),digibiz.checkAccountFlag=!1,location.hash="customer/business/list"):"prospect"==sessionStorage.getItem("role")&&(sessionStorage.removeItem("role"),location.hash="digibiz/account/storage"),removeLoader()}))}else if("associate_customer"==a){var r=sessionStorage.getItem("notify_customer_id");associateCustomerAdd({device_id:crossplat.device.uuid,adder_user_id:t,customer_id:r,business_id:i,notification_id:e}).then((e=>{sessionStorage.removeItem("notify_business_id"),sessionStorage.removeItem("notify_owner_id"),sessionStorage.removeItem("notify_id"),sessionStorage.removeItem("notify_type"),sessionStorage.removeItem("notify_identifier_id"),sessionStorage.removeItem("notify_customer_id"),"administrator"==sessionStorage.getItem("role")?(sessionStorage.removeItem("role"),location.hash="business_owner/business/list"):"employee"==sessionStorage.getItem("role")?(sessionStorage.removeItem("role"),location.hash="employee/business/list"):"customer"==sessionStorage.getItem("role")?(sessionStorage.removeItem("role"),digibiz.checkAccountFlag=!1,location.hash="customer/business/list"):"prospect"==sessionStorage.getItem("role")&&(sessionStorage.removeItem("role"),location.hash="digibiz/account/storage"),removeLoader()})).catch((e=>{sessionStorage.removeItem("notify_business_id"),sessionStorage.removeItem("notify_owner_id"),sessionStorage.removeItem("notify_id"),sessionStorage.removeItem("notify_type"),sessionStorage.removeItem("notify_identifier_id"),sessionStorage.removeItem("notify_customer_id"),"administrator"==sessionStorage.getItem("role")?(sessionStorage.removeItem("role"),location.hash="business_owner/business/list"):"employee"==sessionStorage.getItem("role")?(sessionStorage.removeItem("role"),location.hash="employee/business/list"):"customer"==sessionStorage.getItem("role")?(sessionStorage.removeItem("role"),digibiz.checkAccountFlag=!1,location.hash="customer/business/list"):"prospect"==sessionStorage.getItem("role")&&(sessionStorage.removeItem("role"),location.hash="digibiz/account/storage"),removeLoader()}))}}else removeLoader()})).catch((e=>{removeLoader()}));else removeLoader(),showAlert({alert_id:"activate-role-hub-page",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Please activate your customer role to accept this request.",alert_btn:[{name:"Ok",attr:[{name:"id",value:"activate-role-hub-page-alert-ok"}]},{name:"Cancel",attr:[{name:"id",value:"activate-role-hub-page-alert-cancel"}]}]},(function(){if("customer"==a){var o=sessionStorage.getItem("notify_identifier_id");sessionStorage.setItem("notify_identifier_id",o)}else if("associate_customer"==a){var s=sessionStorage.getItem("notify_customer_id");sessionStorage.setItem("notify_customer_id",s)}sessionStorage.setItem("role","customer"),sessionStorage.setItem("notify_business_id",i),sessionStorage.setItem("notify_owner_id",t),sessionStorage.setItem("notify_id",e),sessionStorage.setItem("notify_type",a),removeLoader()}))}else if("super_admin"==a){if("active"==o.roles.employee&&"active"==o.roles.administrator)notificationChangeStatus({device_id:crossplat.device.uuid,notification_id:e,action:"accepted"}).then((t=>{"accepted"==t.contact.status.status?businessSuperAdminAdd({device_id:crossplat.device.uuid,notification_id:e,business_id:i}).then((e=>{sessionStorage.removeItem("notify_business_id"),sessionStorage.removeItem("notify_owner_id"),sessionStorage.removeItem("notify_id"),sessionStorage.removeItem("notify_type"),sessionStorage.removeItem("notify_identifier_id"),sessionStorage.removeItem("notify_customer_id"),"administrator"==sessionStorage.getItem("role")?(sessionStorage.removeItem("role"),digibiz.checkAccountFlag=!1,location.hash="business_owner/business/list"):"employee"==sessionStorage.getItem("role")?(sessionStorage.removeItem("role"),location.hash="employee/business/list"):"customer"==sessionStorage.getItem("role")?(sessionStorage.removeItem("role"),location.hash="customer/business/list"):"prospect"==sessionStorage.getItem("role")&&(sessionStorage.removeItem("role"),location.hash="digibiz/account/storage"),removeLoader()})).catch((e=>{sessionStorage.removeItem("notify_business_id"),sessionStorage.removeItem("notify_owner_id"),sessionStorage.removeItem("notify_id"),sessionStorage.removeItem("notify_type"),sessionStorage.removeItem("notify_identifier_id"),sessionStorage.removeItem("notify_customer_id"),"administrator"==sessionStorage.getItem("role")?(sessionStorage.removeItem("role"),digibiz.checkAccountFlag=!1,location.hash="business_owner/business/list"):"employee"==sessionStorage.getItem("role")?(sessionStorage.removeItem("role"),location.hash="employee/business/list"):"customer"==sessionStorage.getItem("role")?(sessionStorage.removeItem("role"),location.hash="customer/business/list"):"prospect"==sessionStorage.getItem("role")&&(sessionStorage.removeItem("role"),location.hash="digibiz/account/storage"),removeLoader()})):removeLoader()})).catch((e=>{removeLoader()}));else if("active"==o.roles.employee)if("active"==o.roles.administrator)notificationChangeStatus({device_id:crossplat.device.uuid,notification_id:e,action:"accepted"}).then((t=>{"accepted"==t.contact.status.status?businessSuperAdminAdd({device_id:crossplat.device.uuid,notification_id:e,business_id:i}).then((e=>{sessionStorage.removeItem("notify_business_id"),sessionStorage.removeItem("notify_owner_id"),sessionStorage.removeItem("notify_id"),sessionStorage.removeItem("notify_type"),sessionStorage.removeItem("notify_identifier_id"),sessionStorage.removeItem("notify_customer_id"),"administrator"==sessionStorage.getItem("role")?(sessionStorage.removeItem("role"),digibiz.checkAccountFlag=!1,location.hash="business_owner/business/list"):"employee"==sessionStorage.getItem("role")?(sessionStorage.removeItem("role"),location.hash="employee/business/list"):"customer"==sessionStorage.getItem("role")?(sessionStorage.removeItem("role"),location.hash="customer/business/list"):"prospect"==sessionStorage.getItem("role")&&(sessionStorage.removeItem("role"),location.hash="digibiz/account/storage"),removeLoader()})).catch((e=>{sessionStorage.removeItem("notify_business_id"),sessionStorage.removeItem("notify_owner_id"),sessionStorage.removeItem("notify_id"),sessionStorage.removeItem("notify_type"),sessionStorage.removeItem("notify_identifier_id"),sessionStorage.removeItem("notify_customer_id"),"administrator"==sessionStorage.getItem("role")?(sessionStorage.removeItem("role"),digibiz.checkAccountFlag=!1,location.hash="business_owner/business/list"):"employee"==sessionStorage.getItem("role")?(sessionStorage.removeItem("role"),location.hash="employee/business/list"):"customer"==sessionStorage.getItem("role")?(sessionStorage.removeItem("role"),location.hash="customer/business/list"):"prospect"==sessionStorage.getItem("role")&&(sessionStorage.removeItem("role"),location.hash="digibiz/account/storage"),removeLoader()})):removeLoader()})).catch((e=>{removeLoader()}));else removeLoader(),showAlert({alert_id:"activate-role-hub-page",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Please activate your administrator role to accept this request.",alert_btn:[{name:"Ok",attr:[{name:"id",value:"activate-role-hub-page-alert-ok"}]},{name:"Cancel",attr:[{name:"id",value:"activate-role-hub-page-alert-cancel"}]}]},(function(){sessionStorage.setItem("role","administrator"),sessionStorage.setItem("notify_business_id",i),sessionStorage.setItem("notify_id",e),sessionStorage.setItem("notify_type",a),removeLoader()}));else removeLoader(),showAlert({alert_id:"activate-role-hub-page",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Please activate your employee role to accept this request.",alert_btn:[{name:"Ok",attr:[{name:"id",value:"activate-role-hub-page-alert-ok"}]},{name:"Cancel",attr:[{name:"id",value:"activate-role-hub-page-alert-cancel"}]}]},(function(){sessionStorage.setItem("role","employee"),sessionStorage.setItem("notify_business_id",i),sessionStorage.setItem("notify_owner_id",t),sessionStorage.setItem("notify_id",e),sessionStorage.setItem("notify_type",a),removeLoader()}))}})).catch((o=>{if(removeLoader(),"employee"==a)showAlert({alert_id:"activate-role-hub-page",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Please activate your employee role to accept this request.",alert_btn:[{name:"Ok",attr:[{name:"id",value:"activate-role-hub-page-alert-ok"}]},{name:"Cancel",attr:[{name:"id",value:"activate-role-hub-page-alert-cancel"}]}]},(function(){sessionStorage.setItem("role","employee"),sessionStorage.setItem("notify_business_id",i),sessionStorage.setItem("notify_owner_id",t),sessionStorage.setItem("notify_id",e),sessionStorage.setItem("notify_type",a),removeLoader()}));else if("customer"==a||"associate_customer"==a){showAlert({alert_id:"activate-role-hub-page",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Please activate your customer role to accept this request.",alert_btn:[{name:"Ok",attr:[{name:"id",value:"activate-role-hub-page-alert-ok"}]},{name:"Cancel",attr:[{name:"id",value:"activate-role-hub-page-alert-cancel"}]}]},(function(){if("customer"==a){var o=sessionStorage.getItem("notify_identifier_id");sessionStorage.setItem("notify_identifier_id",o)}else if("associate_customer"==a){var s=sessionStorage.getItem("notify_customer_id");sessionStorage.setItem("notify_customer_id",s)}sessionStorage.setItem("role","customer"),sessionStorage.setItem("notify_business_id",i),sessionStorage.setItem("notify_owner_id",t),sessionStorage.setItem("notify_id",e),sessionStorage.setItem("notify_type",a),removeLoader()}))}else if("super_admin"==a){showAlert({alert_id:"activate-role-hub-page",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Please activate your administrator role to accept this request.",alert_btn:[{name:"Ok",attr:[{name:"id",value:"activate-role-hub-page-alert-ok"}]},{name:"Cancel",attr:[{name:"id",value:"activate-role-hub-page-alert-cancel"}]}]},(function(){sessionStorage.setItem("role","administrator"),sessionStorage.setItem("notify_business_id",i),sessionStorage.setItem("notify_id",e),sessionStorage.setItem("notify_type",a),removeLoader()}))}}))}function businessDisplayControlPage(){return new Promise(((e,t)=>{var i={device_id:crossplat.device.uuid,id:sessionStorage.getItem("business_id")};businessGet(i).then((t=>{getDisplayControl(i).then((i=>{var a={getBusinessDisplayData:i};fetch.replaceHtml((function(){var i=t.business_type;"sole_proprietorship"==i?($(".id-proof").parents(".business-profile-display-control-content").removeClass("hide"),$(".pan-card").parents(".business-profile-display-control-content").removeClass("hide"),$(".shop-established-licence").parents(".business-profile-display-control-content").removeClass("hide"),$(".gst").parents(".business-profile-display-control-content").removeClass("hide"),removeLoader()):"partnership"==i?($(".id-proof").parents(".business-profile-display-control-content").removeClass("hide"),$(".pan-card").parents(".business-profile-display-control-content").removeClass("hide"),$(".partnership-deed").parents(".business-profile-display-control-content").removeClass("hide"),$(".gst").parents(".business-profile-display-control-content").removeClass("hide"),$(".partnership-registration-certificate").parents(".business-profile-display-control-content").removeClass("hide"),removeLoader()):"limited_liability_partnership"==i?($(".id-proof").parents(".business-profile-display-control-content").removeClass("hide"),$(".pan-card").parents(".business-profile-display-control-content").removeClass("hide"),$(".gst").parents(".business-profile-display-control-content").removeClass("hide"),$(".limited-liability-partnership").parents(".business-profile-display-control-content").removeClass("hide"),$(".board-resolution-authorize").parents(".business-profile-display-control-content").removeClass("hide"),removeLoader()):"private_limited_company"==i||"public_limited_company"==i||"government_department"==i?($(".id-proof").parents(".business-profile-display-control-content").removeClass("hide"),$(".pan-card").parents(".business-profile-display-control-content").removeClass("hide"),$(".gst").parents(".business-profile-display-control-content").removeClass("hide"),$(".memorandum-of-association").parents(".business-profile-display-control-content").removeClass("hide"),$(".articles-of-association").parents(".business-profile-display-control-content").removeClass("hide"),$(".board-resolution-authorize").parents(".business-profile-display-control-content").removeClass("hide"),removeLoader()):"trusts_foundations"==i?($(".id-proof").parents(".business-profile-display-control-content").removeClass("hide"),$(".pan-card").parents(".business-profile-display-control-content").removeClass("hide"),$(".gst").parents(".business-profile-display-control-content").removeClass("hide"),$(".trust-establishment-license").parents(".business-profile-display-control-content").removeClass("hide"),$(".board-resolution-authorize").parents(".business-profile-display-control-content").removeClass("hide"),removeLoader()):"co_operative_society_associations"==i&&($(".id-proof").parents(".business-profile-display-control-content").removeClass("hide"),$(".pan-card").parents(".business-profile-display-control-content").removeClass("hide"),$(".gst").parents(".business-profile-display-control-content").removeClass("hide"),$(".board-resolution-authorize").parents(".business-profile-display-control-content").removeClass("hide"),removeLoader()),removeLoader(),appScroll.scrollBar("#main-content-wrapper"),e()}),"page/business/business_profile_display_control","#business-profile-display-control-template","#main-content-wrapper",a)})).catch((i=>{fetch.replaceHtml((function(){var i=t.business_type;"sole_proprietorship"==i?($(".id-proof").parents(".business-profile-display-control-content").removeClass("hide"),$(".pan-card").parents(".business-profile-display-control-content").removeClass("hide"),$(".shop-established-licence").parents(".business-profile-display-control-content").removeClass("hide"),$(".gst").parents(".business-profile-display-control-content").removeClass("hide"),removeLoader()):"partnership"==i?($(".id-proof").parents(".business-profile-display-control-content").removeClass("hide"),$(".pan-card").parents(".business-profile-display-control-content").removeClass("hide"),$(".partnership-deed").parents(".business-profile-display-control-content").removeClass("hide"),$(".gst").parents(".business-profile-display-control-content").removeClass("hide"),$(".partnership-registration-certificate").parents(".business-profile-display-control-content").removeClass("hide"),removeLoader()):"limited_liability_partnership"==i?($(".id-proof").parents(".business-profile-display-control-content").removeClass("hide"),$(".pan-card").parents(".business-profile-display-control-content").removeClass("hide"),$(".gst").parents(".business-profile-display-control-content").removeClass("hide"),$(".limited-liability-partnership").parents(".business-profile-display-control-content").removeClass("hide"),$(".board-resolution-authorize").parents(".business-profile-display-control-content").removeClass("hide"),removeLoader()):"private_limited_company"==i||"public_limited_company"==i||"government_department"==i?($(".id-proof").parents(".business-profile-display-control-content").removeClass("hide"),$(".pan-card").parents(".business-profile-display-control-content").removeClass("hide"),$(".gst").parents(".business-profile-display-control-content").removeClass("hide"),$(".memorandum-of-association").parents(".business-profile-display-control-content").removeClass("hide"),$(".articles-of-association").parents(".business-profile-display-control-content").removeClass("hide"),$(".board-resolution-authorize").parents(".business-profile-display-control-content").removeClass("hide"),removeLoader()):"trusts_foundations"==i?($(".id-proof").parents(".business-profile-display-control-content").removeClass("hide"),$(".pan-card").parents(".business-profile-display-control-content").removeClass("hide"),$(".gst").parents(".business-profile-display-control-content").removeClass("hide"),$(".trust-establishment-license").parents(".business-profile-display-control-content").removeClass("hide"),$(".board-resolution-authorize").parents(".business-profile-display-control-content").removeClass("hide"),removeLoader()):"co_operative_society_associations"==i&&($(".id-proof").parents(".business-profile-display-control-content").removeClass("hide"),$(".pan-card").parents(".business-profile-display-control-content").removeClass("hide"),$(".gst").parents(".business-profile-display-control-content").removeClass("hide"),$(".board-resolution-authorize").parents(".business-profile-display-control-content").removeClass("hide"),removeLoader()),removeLoader(),appScroll.scrollBar(".business-profile-display-control-main-wrapper"),e()}),"page/business/business_profile_display_control","#business-profile-display-control-template","#main-content-wrapper",null)}))})).catch((t=>{removeLoader(),e(),Materialize.toast("Error in getting business",3e3,"rounded error-alert")}))}))}function downloadToDevice22(e,t){getAssetDetails(e).then((e=>{e&&chunkDownload(e).then((i=>{let a=e.file_attributes.name.relative;if("Android"==crossplat.device.platform||"iOS"==crossplat.device.platform)Materialize.toast("Downloading...",1e3,"round success-alert"),window.resolveLocalFileSystemURL(cordova.file.externalRootDirectory,(function(e){e.getDirectory("Digital Jeevi",{create:!0},(function(e){var t=config.downloadFolderNames.find((e=>e.name==fileType)),o="Others";t&&(o=t.folder_name),e.getDirectory(o,{create:!0},(function(e){e.getFile(a.trim(),{create:!0},(function(e){var t=(new BackgroundTransfer.BackgroundDownloader).createDownload(api.chunk_download+"/"+i.Data.sessionid,e);app.downloadPromise=t.startAsync().then((function(){Materialize.Toast.removeAll(),Materialize.toast("File Downloaded",3e3,"success-alert")}),(function(e){Materialize.toast("Error while downloading file",3e3,"error-alert")}),(function(e){$("#download-progress").html(100*e.bytesReceived/e.totalBytesToReceive+"%")}))}))}),(function(e){Materialize.toast("Error while downloading file",3e3,"error-alert")}))}),(function(e){Materialize.toast("Error while downloading file",3e3,"error-alert")}))}));else{Materialize.toast("Downloading...",3e3);var o=document.createElement("a");o.setAttribute("href",api.chunk_download+"/"+i.Data.sessionid),o.style.display="none",document.body.appendChild(o),o.hasAttribute("href")&&o.click()}t()})).catch((e=>{Materialize.toast("Sorry,some error occured",4e3,"round error-alert")}))})).catch((e=>{"No such file found"==e.Data[0].data&&(removeLoader(),Materialize.toast("Original file is deleted please contact sender",2e3,"round error - alert"))}))}function downloadToDevice(e,t,i){getBusinessMultimediaDownload({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),image_id:e}).then((e=>{e&&(downloadFromBase64(t,e.file_type,e.file_extension,e.content),i())})).catch((e=>{"unable to get file content"==e.msg&&(removeLoader(),Materialize.toast("Unable to get the content",2e3,"round error-alert"))}))}function chunkDownload(e=null){return new Promise(((t,i)=>{if("employee"==sessionStorage.getItem("bizchat_role"))var a=window.sessionStorage.getItem("employee_id"),o="employee";else if("individual"==sessionStorage.getItem("bizchat_role"))a=window.sessionStorage.getItem("digibiz_individual_id"),o="individual";else if("customer"==sessionStorage.getItem("bizchat_role"))if("customer"==sessionStorage.getItem("customer_type"))a=window.sessionStorage.getItem("customer_id"),o="customer";else if("associate_customer"==sessionStorage.getItem("customer_type"))a=window.sessionStorage.getItem("customer_id"),o="associate_customer";let s={device_id:crossplat.device.uuid,location:e.location,parent:e.parent,owner:{type:o,id:a},real_name:e.file_attributes.name.real};fetch.apiCall((function(e,a,o){"success"===a?t(e):i()}),api.chunk_download,"POST","JSON",s)}))}function downloadFromBase64(e,t,i,a){let o=config.downloadFolderNames.find((e=>e.name==t)),s="Others";if(o&&(s=o.folder_name),"Android"==crossplat.device.platform)Materialize.toast("Downloading...",1e3,"round success-alert"),window.resolveLocalFileSystemURL(cordova.file.externalRootDirectory,(function(o){o.getDirectory("Download",{},(function(o){o.getDirectory("Digitaljeevi",{create:!0},(function(o){o.getDirectory(s,{create:!0},(function(o){o.getFile(e.trim(),{create:!0},(function(e){let o=b64toBlobFunction(a,`${t}/${i}`);e.createWriter((function(e){e.onwriteend=function(){Materialize.Toast.removeAll(),Materialize.toast("File Downloaded",3e3,"success-alert")},e.onerror=function(e){Materialize.toast("Error while downloading file",3e3,"error-alert")},e.write(o)}))}),(function(e){}))}),(function(e){Materialize.toast("Error while downloading file",3e3,"error-alert")}))}),(function(e){Materialize.toast("Error while downloading file",3e3,"error-alert")}))}),(function(e){Materialize.toast("Error while downloading file",3e3,"error-alert")}))}),(function(e){Materialize.toast("Error while downloading file",3e3,"error-alert")}));else if("iOS"==crossplat.device.platform)Materialize.toast("Downloading...",1e3,"round success-alert"),"image"==t||"video"==t?window.resolveLocalFileSystemURL(cordova.file.dataDirectory,(function(o){o.getDirectory("temp",{create:!0},(function(o){o.getFile(e.trim(),{create:!0},(function(e){let s=b64toBlobFunction(a,`${t}/${i}`);e.createWriter((function(i){i.onwriteend=function(){"image"==t&&cordova.plugins.photoLibrary.saveImage(e.toURL(),"Digitaljeevi",(function(e){Materialize.Toast.removeAll(),Materialize.toast("File Downloaded",3e3,"success-alert"),o.removeRecursively((function(){}),(function(e){}))}),(function(e){})),"video"==t&&cordova.plugins.photoLibrary.saveVideo(e.toURL(),"Digitaljeevi",(function(){Materialize.Toast.removeAll(),Materialize.toast("File Downloaded",3e3,"success-alert"),o.removeRecursively((function(){}),(function(e){}))}),(function(e){}))},i.onerror=function(e){Materialize.toast("Error while downloading file",3e3,"error-alert")},i.write(s)}))}),(function(e){}))}),(function(e){Materialize.toast("Error while downloading file",3e3,"error-alert")}))}),(function(e){Materialize.toast("Error while downloading file",3e3,"error-alert")})):"application"==t?cordova.InAppBrowser.open(api.chunk_download+"/"+sessionResponse.Data.sessionid,"_system"):Materialize.toast("File cannot be downloaded in this device. Please download it from web.",4e3,"round error-alert");else{Materialize.toast("Downloading...",3e3);const o=`data:${t}/${i};base64,${a}`,s=document.createElement("a");document.body.appendChild(s),s.href=o,s.target="_self",s.download=e,s.click()}}const b64toBlobFunction=(e,t="",i=512)=>{const a=atob(e),o=[];for(let e=0;e<a.length;e+=i){const t=a.slice(e,e+i),s=new Array(t.length);for(let e=0;e<t.length;e++)s[e]=t.charCodeAt(e);const r=new Uint8Array(s);o.push(r)}return new Blob(o,{type:t})};function getBusinessAppPermissionsPage(){return new Promise(((e,t)=>{addLoader(),listAppPermissions({device_id:crossplat.device.uuid,list_by:"active_inactive_apps_by_business",business_id:sessionStorage.getItem("business_id")}).then((t=>{if(t.length>0){var i,a,o,s,r,n,d,c,l,p,m,u,g;$.each(t,(function(e,t){"product360"==t.app?i=t.status.status:"bizassets"==t.app?a=t.status.status:"bizpal"==t.app?o=t.status.status:"bizpdfkit"==t.app?s=t.status.status:"bizchat"==t.app?r=t.status.status:"bizcards"==t.app?n=t.status.status:"bizmeet"==t.app?d=t.status.status:"bizcall"==t.app?c=t.status.status:"bizvoiceit"==t.app?l=t.status.status:"bizcelfe"==t.app?p=t.status.status:"wittily"==t.app?m=t.status.status:"channel"==t.app?u=t.status.status:"multi"==t.app&&(g=t.status.status)}));var _={product360_status:i,bizassets_status:a,bizpal_status:o,bizpdfkit_status:s,bizchat_status:r,bizcards_status:n,bizmeet_status:d,bizcall_status:c,bizvoiceit_status:l,bizcelfe_status:p,wittily_status:m,channel_status:u,multi_status:g};fetch.replaceHtml((function(){removeLoader(),appScroll.scrollBar(".apps-choose-business-management-page-wrapper"),e()}),"page/business/app_permission_settings","#app-permission-settings-page-template","#main-content-wrapper",_)}else fetch.replaceHtml((function(){removeLoader(),e()}),"page/business/app_permission_settings","#app-permission-settings-page-template","#main-content-wrapper",null)})).catch((t=>{fetch.replaceHtml((function(){removeLoader(),e()}),"page/business/app_permission_settings","#app-permission-settings-page-template","#main-content-wrapper",null)}))}))}function addAppPermissions(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.msg):i(JSON.parse(e.responseText))}),api.add_app_permissions,"POST","JSON",e)}))}function getAppPermission(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.get_app_permissions,"POST","JSON",e)}))}function listAppPermissions(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.Data):i(JSON.parse(e.responseText))}),api.list_app_permissions,"POST","JSON",e)}))}function changeStatusAppPermissions(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.change_status_app_permissions,"POST","JSON",e)}))}function getRolesForContactNumberCustomer(e,t){addLoader(),digibiz.getRolesListData=[],getCustomerRolesList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"mobile_number",value:e.value,count:20,offset:0}).then((e=>{showModal({modal_id:"get-roles-list-modal",modal_header:"Roles List",modal_platform:crossplat.device.platform,modal_body:'<div id="get-roles-list-main-container">                                \n                                <div class="search">\n                                    <div class="expand-search-wrap search-wrapper" id="get-roles-list-search-btn">\n                                        <span class="searchbtn waves-effect"><i class="material-icons">search</i></span>\n                                        <input id="get-roles-list-search" type="search" class="expand-search-input searchexpand" placeholder="Business Name"/>\n                                        <span class="searchclosebtn"><i class="material-icons get-roles-list-close-btn hide">close</i></span>\n                                    </div>\n                                </div>\n                                <div id="get-roles-list-wrapper"></div>\n                            </div>'},(function(){$("#get-roles-list-modal").attr("data-for","customer"),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"):$(".custom-modal-popup").show().addClass("modal-slide-top"),processGetRoleslist(e,(function(){appScroll.scrollBar(".search-user-list-data"),listenForGetRoleslistScrollEvent($(".search-user-list-data")),setTimeout((function(){removeLoader(),t();let e=document.querySelector("#get-roles-list-search");e&&(e.addEventListener("input",(function(){timestamp=(new Date).getTime(),e.setAttribute("socketid",timestamp)})),e.addEventListener("keyup",(function(t){if(t.stopImmediatePropagation(),socketid=e.getAttribute("socketid"),keyword=e.value,socketid&&keyword){var i={room:crossplat.device.uuid,app:"digibiz",keyword:keyword,socketid:socketid,index:"rolesSearchForCustomer",business_id:sessionStorage.getItem("business_id"),type:"mobile_number",value:$("#add-customer-mobile-number").intlTelInput("getNumber").replace(/\s/g,"")};sockets.searchSocket.emit("search",i),addLoader(),setTimeout((()=>{}),300)}else processGetRoleslist(digibiz.getRolesListData,(function(){})),removeLoader()})))}),1e3)}))}))})).catch((e=>{"No digibiz account"!=e.msg&&"This number has not activated role jeevi and not present in any business"!=e.msg||showModal({modal_id:"get-roles-list-modal",modal_header:"Roles List",modal_platform:crossplat.device.platform,modal_body:'<div id="get-roles-list-main-container">                                    \n                                    <div id="get-roles-list-wrapper"></div>\n                                </div>'},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"):$(".custom-modal-popup").show().addClass("modal-slide-top"),processGetRoleslist([],(function(){"No digibiz account"==e.msg?$(".no_data").text("This number is not registered on digibiz platform."):"This number has not activated role jeevi and not present in any business"==e.msg&&$(".no_data").text("This number has not activated role jeevi and not present in any business."),removeLoader(),t()}))}))}))}function getRolesForContactNumberAssociateCustomer(e,t){addLoader(),digibiz.getRolesListData=[],getAssociateCustomerRolesList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"mobile_number",value:e.value}).then((e=>{showModal({modal_id:"get-roles-list-modal",modal_header:"Roles List",modal_platform:crossplat.device.platform,modal_body:'<div id="get-roles-list-main-container">                                \n                                <div class="search">\n                                    <div class="expand-search-wrap search-wrapper" id="get-roles-list-search-btn">\n                                        <span class="searchbtn waves-effect"><i class="material-icons">search</i></span>\n                                        <input id="get-roles-list-search" type="search" class="expand-search-input searchexpand" placeholder="Business Name"/>\n                                        <span class="searchclosebtn"><i class="material-icons get-roles-list-close-btn hide">close</i></span>\n                                    </div>\n                                </div>\n                                <div id="get-roles-list-wrapper"></div>\n                            </div>'},(function(){$("#get-roles-list-modal").attr("data-for","associate_customer"),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"):$(".custom-modal-popup").show().addClass("modal-slide-top"),processGetRoleslist(e,(function(){setTimeout((function(){removeLoader(),t();let e=document.querySelector("#get-roles-list-search");e&&(e.addEventListener("input",(function(){timestamp=(new Date).getTime(),e.setAttribute("socketid",timestamp)})),e.addEventListener("keyup",(function(t){if(t.stopImmediatePropagation(),socketid=e.getAttribute("socketid"),keyword=e.value,socketid&&keyword){var i={room:crossplat.device.uuid,app:"digibiz",keyword:keyword,socketid:socketid,index:"rolesSearchForAssociateCustomer",type:"mobile_number",value:$(".contact_mobile").intlTelInput("getNumber").replace(/\s/g,"")};sockets.searchSocket.emit("search",i),addLoader(),setTimeout((()=>{}),300)}else processGetRoleslist(digibiz.getRolesListData,(function(){})),removeLoader()})))}),1e3)}))}))})).catch((e=>{"No digibiz account"!=e.msg&&"This number has not activated role jeevi and not present in any business"!=e.msg||showModal({modal_id:"get-roles-list-modal",modal_header:"Roles List",modal_platform:crossplat.device.platform,modal_body:'<div id="get-roles-list-main-container">                                    \n                                    <div id="get-roles-list-wrapper"></div>\n                                </div>'},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"):$(".custom-modal-popup").show().addClass("modal-slide-top"),processGetRoleslist([],(function(){"No digibiz account"==e.msg?$(".no_data").text("This number is not registered on digibiz platform."):"This number has not activated role jeevi and not present in any business"==e.msg&&$(".no_data").text("This number has not activated role jeevi and not present in any business."),removeLoader(),t()}))}))}))}function getCustomerRolesList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.get_customer_roles_list,"POST","JSON",e)}))}function getAssociateCustomerRolesList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.get_associate_customer_roles_list,"POST","JSON",e)}))}function processGetRoleslist(e,t){if(e.length>0){digibiz.getRolesListData=removeDuplicatesFromMultipleProperties(digibiz.getRolesListData.concat(e),"id","role_type");var i={userList:digibiz.getRolesListData.map((e=>{if("employee"==e.role_type)if(e.hasOwnProperty("profile_display_id")&&e.profile_display_id){var t=`${api.get_employee_identity_picture}?id=${e.user_id}&device_id=${crossplat.device.uuid}&image_id=${e.profile_display_id}`;e.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else if(e.hasOwnProperty("profile_display_id")&&null!=e.profile_display_id){t=`${config.api.core}/api/individual/get_image?image_id=${e.profile_display_id}&device_id=${crossplat.device.uuid}`;e.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/common/get_roles_list","#get-roles-list-template","#get-roles-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/common/get_roles_list","#get-roles-list-template","#get-roles-list-wrapper",null)}function processSearchedGetRoleslist(e,t){if(e.length>0){var i={userList:e.map((e=>{if("employee"==e.role_type)if(e.hasOwnProperty("profile_display_id")&&e.profile_display_id){var t=`${api.get_employee_identity_picture}?id=${e.user_id}&device_id=${crossplat.device.uuid}&image_id=${e.profile_display_id}`;e.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else if(e.hasOwnProperty("profile_display_id")&&null!=e.profile_display_id){t=`${config.api.core}/api/individual/get_image?image_id=${e.profile_display_id}&device_id=${crossplat.device.uuid}`;e.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/common/get_roles_list","#get-roles-list-template","#get-roles-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/common/get_roles_list","#get-roles-list-template","#get-roles-list-wrapper",null)}function digibizHomePage(){return new Promise(((e,t)=>{fetch.replaceHtml((function(){removeLoader(),e()}),"page/landPage/home_page","#digibiz-home-page-template","#main-content-wrapper",null)}))}function createAccountHelperMethod(e){sessionStorage.setItem("role","prospect"),addDigibizAccount({device_id:crossplat.device.uuid,role:sessionStorage.getItem("role")}).then((e=>{if(sessionStorage.setItem("account_id",e.id),sessionStorage.getItem("notify_id"))acceptNotification();else if("administrator"==sessionStorage.getItem("role"))sessionStorage.removeItem("role"),location.hash="business_owner/business/list";else if("employee"==sessionStorage.getItem("role"))sessionStorage.removeItem("role"),location.hash="employee/business/list";else if("customer"==sessionStorage.getItem("role"))sessionStorage.removeItem("role"),location.hash="customer/business/list";else if("prospect"==sessionStorage.getItem("role")){sessionStorage.removeItem("role"),addJeeviAccount({device_id:crossplat.device.uuid,account_id:e.id}).then((e=>{sessionStorage.setItem("digibiz_storage_selection","first"),location.hash="digibiz/account/storage"})).catch((e=>{}))}})).catch((e=>{removeLoader(),Materialize.toast("Error! Please try again later",3e3,"round error-alert")}))}function digibizProfilePage(){return console.log("insidde digibizProfilePage"),new Promise(((e,t)=>{var i;i="browser"!=crossplat.device.platform&&"desktop"!=crossplat.device.platform;var a=JSON.parse(sessionStorage.getItem("profile_details"));if(a.pictures.profile_display.hasOwnProperty("image_id")&&a.pictures.profile_display.image_id)var o=`${config.api.core}/api/individual/get_image?image_id=${a.pictures.profile_display.image_id}&device_id=${crossplat.device.uuid}`;else o=`${config.api.core}/api/individual/get_image?image_id=${a.pictures.profile_display.image_id}&device_id=${crossplat.device.uuid}`;var s={account_id:a.individual.id,name:a.individual.name,mobileNumber:a.login.mobile_number,user_name:a.login.user_name,avatarUrl:a.pictures.profile_display.image_id,imageUrl:o,imageLetter:a.individual.name.first.charAt(0).toUpperCase(),platform:i};fetch.replaceHtml((function(){console.log("done",s),removeLoader(),e()}),"page/profile/profile_page","#profile-page-template","#digibiz-home-page-middle-band-wrapper",s)}))}function digibizAccountsSettingsPage(){return new Promise(((e,t)=>{fetch.replaceHtml((function(){removeLoader(),e()}),"page/profile/digibiz_accounts","#digibiz-accounts-settings-page-template","#main-content-wrapper",null)}))}function digibizCredentialsSettingsPage(){return new Promise(((e,t)=>{listTransactionSignaturePicture({device_id:crossplat.device.uuid,list_by:"account",account_id:sessionStorage.getItem("account_id")}).then((t=>{fetch.replaceHtml((function(){processTransactionSignaturePictures(t,(function(){removeLoader(),e()}))}),"page/profile/my_credentials","#my-credentials-template","#main-content-wrapper",null)})).catch((t=>{fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/profile/my_credentials","#my-credentials-template","#main-content-wrapper",null)}))}))}function processTransactionSignaturePictures(e,t){addLoader();var i=[];i=removeDuplicates(i.concat(e),"id"),$.each(i,(function(e,a){if(a.hasOwnProperty("picture_details")&&a.picture_details&&a.picture_details.hasOwnProperty("thumbnail")&&a.picture_details.thumbnail){var o=`${api.get_transaction_signature_picture}?id=${a.id}&device_id=${crossplat.device.uuid}&image_id=${a.picture_details.thumbnail}`;if(console.log("avtarUrl",o),"inactive"==a.status.status)var s=`<div class="transaction_signature_picture_contentbox">\n                                            <div class="multimedia-container">        \n                                                <div class="multimedia_wrapper">\n                                                    <div class="identity-picture-wrapper view">   \n                                                        <img class="attached-img inactivated transaction_signature_container view-transaction-signature-picture" id="${a.id}" thumbnail_id="${a.picture_details.thumbnail}" data-status="${a.status.status}" type="${a.type}" src="${o}"/>     \n                                                        <span class="picture-used material-icons">lock</span>                        \n                                                    </div>\n                                                </div>    \n                                            </div>\n                                        </div>`;else if("yes"==a.picture_used)s=`<div class="transaction_signature_picture_contentbox">\n                                            <div class="multimedia-container">        \n                                                <div class="multimedia_wrapper">\n                                                    <div class="identity-picture-wrapper view">   \n                                                        <img class="attached-img transaction_signature_container view-transaction-signature-picture" id="${a.id}" thumbnail_id="${a.picture_details.thumbnail}" data-status="${a.status.status}" type="${a.type}" src="${o}"/>     \n                                                        <span class="picture-used material-icons">lock</span>                        \n                                                    </div>\n                                                </div>    \n                                            </div>\n                                        </div>`;else if("no"==a.picture_used)s=`<div class="transaction_signature_picture_contentbox">\n                                                <div class="multimedia-container">        \n                                                    <div class="multimedia_wrapper">\n                                                        <div class="identity-picture-wrapper view">   \n                                                            <img class="attached-img transaction_signature_container view-transaction-signature-picture" id="${a.id}" thumbnail_id="${a.picture_details.thumbnail}" data-status="${a.status.status}" type="${a.type}" src="${o}"/>     \n                                                        </div>\n                                                    </div>    \n                                                </div>\n                                            </div>`;"transaction_picture"==a.type?$("#transaction_pictures_main_container").append(s):"signature_picture"==a.type&&$("#signature_pictures_main_container").append(s)}e+1==i.length&&(removeLoader(),t())}))}function showHideRoleButtons(){digibiz.employee_business_list.length>0&&$("#employee-role-btn").removeClass("hide"),digibiz.customer_business_list.length>0&&$("#customer-role-btn").removeClass("hide"),digibiz.business_owner_business_list.length>0&&$("#business-role-btn").removeClass("hide")}function validateMinOneRoleActiveJeeviDelete(e){var t=!1,i=!1,a=!1;return"active"!=e.employee&&"inactive_pending"!=e.employee&&"inactive"!=e.employee||(t=!0),"active"!=e.customer&&"inactive_pending"!=e.customer&&"inactive"!=e.customer||(i=!0),"active"!=e.administrator&&"inactive_pending"!=e.administrator&&"inactive"!=e.administrator||(a=!0),!!(t||i||a)}function logoutDigibiz(){var e={device_id:crossplat.device.uuid,app:"business"};fetch.apiCall((function(e,t,i){if("success"===t)sockets.coreSocket.emit("joinroom",crossplat.device.uuid),sockets.coreSocket.emit("leaveroom",sessionStorage.getItem("socketID")),sessionStorage.clear(),setTimeout((function(){deviceHelper.navigateToAccounts("core")}),1e3);else JSON.parse(e.responseText)}),api.logout,"POST","JSON",e)}function processChooseCustomerIdentifierList(e,t){digibiz.chooseCustomerIdentifiers=removeDuplicates(digibiz.chooseCustomerIdentifiers.concat(e),"id");var i={data:digibiz.chooseCustomerIdentifiers};fetch.replaceHtml((function(e){e||t()}),"page/customer/choose_customer_identifier_list","#choose-customer-identifier-list-template","#choose-customer-identifier-list",i)}function processSearchedChooseCustomerIdentifierList(e,t){var i={data:e};fetch.replaceHtml((function(e){e||t()}),"page/customer/choose_customer_identifier_list","#choose-customer-identifier-list-template","#choose-customer-identifier-list",i)}function setServerSession(e,t,i){console.log("set server"),param={device_id:crossplat.device.uuid,data:t},fetch.apiCall((function(e,t,a){i(e)}),api.set_session,"POST","JSON",param)}function notificationCountListHelperMethod(){notificationList({device_id:crossplat.device.uuid,list_by:"for_me_count"}).then((e=>{e.length>0&&($(".digibiz_notification_count").attr("data-count",e.length),$(".digibiz_notification_count").text(e.length))})).catch((e=>{}))}function getBusinessNotificationCountHelperMethod(){businessNotificationList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"my_business_notification_count"}).then((e=>{e.length>0&&($(".business_notification_count").removeClass("hide"),$(".business_notification_count").text(e.length))})).catch((e=>{}))}function validateTransactionPictureData(){let e=!1;return e=!($('.transaction_signature_container[type="transaction_picture"][data-status="active"]').length<config.transactionPictureMaxLength),!e}function validateSignaturePictureData(){let e=!1;return e=!($('.transaction_signature_container[type="signature_picture"][data-status="active"]').length<config.signaturePictureMaxLength),!e}function bytesToSize(e){if(0==e)return"0 Byte";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return(e/Math.pow(1024,t)).toFixed(2)+" "+["Bytes","KB","MB","GB","TB"][t]}function showVideoPreviewHtml(e,t){let i;return"image"==e?i='<img src= "'+t+'">':"video_thumbnail"==e?i='<video width="610px" height="450px" controlsList="nodownload" src="'+t+'" disablePictureInPicture muted> </video>':"audio_thumbnail"==e?i='<audio controlsList="nodownload" src="'+t+'" disablePictureInPicture muted></audio>':"video"==e&&(i='<video width="610px" height="450px" controls controlsList="nodownload" src="'+t+'" ></video>'),i}function employeeProfileEditPage(){return new Promise(((e,t)=>{employeeGet({device_id:crossplat.device.uuid,id:sessionStorage.getItem("employee_id"),get_by:"id"}).then((t=>{if(t.hasOwnProperty("identity_picture")&&t.identity_picture&&t.identity_picture.hasOwnProperty("thumbnail")&&t.identity_picture.thumbnail){var i=`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${t.identity_picture.thumbnail}`;t.identity_picture.avtarUrl=i}if(t.hasOwnProperty("identity_video")&&t.identity_video&&t.identity_video.hasOwnProperty("thumbnail")&&t.identity_video.thumbnail){i=`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${t.identity_video.thumbnail}`;t.identity_video.avtarUrl=i}var a={EmployeeData:t};fetch.replaceHtml((function(){$(".header-band").addClass("hide"),mobileFlaginit(),calenderInitDOB("#employee_date_of_birth"),calenderInitDOB("#employee_wedding_anniversary"),removeLoader(),console.log("new scroll init"),appScroll.scrollBar("#main-container"),e()}),"page/employee/employee_profile_edit","#employee-profile-edit-template","#main-content-wrapper",a)})).catch((e=>{console.log("err",e),removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))}))}function customerProfileEditPage(){return new Promise(((e,t)=>{customerGet({device_id:crossplat.device.uuid,get_by:"id",id:sessionStorage.getItem("customer_id")}).then((t=>{if(t.hasOwnProperty("identity_picture")&&t.identity_picture&&t.identity_picture.hasOwnProperty("thumbnail")&&t.identity_picture.thumbnail){var i=`${api.get_customer_identity_picture}?id=${sessionStorage.getItem("customer_id")}&device_id=${crossplat.device.uuid}&image_id=${t.identity_picture.thumbnail}`;t.identity_picture.avtarUrl=i}if(t.hasOwnProperty("identity_video")&&t.identity_video&&t.identity_video.hasOwnProperty("thumbnail")&&t.identity_video.thumbnail){i=`${api.get_customer_identity_picture}?id=${sessionStorage.getItem("customer_id")}&device_id=${crossplat.device.uuid}&image_id=${t.identity_video.thumbnail}`;t.identity_video.avtarUrl=i}var a={customerData:t};fetch.replaceHtml((function(){$(".header-band").addClass("hide"),mobileFlaginit(),calenderInitDOB("#customer_date_of_birth"),calenderInitDOB("#customer_wedding_anniversary"),removeLoader(),e()}),"page/customer/customer_profile_edit","#customer-profile-edit-template","#main-content-wrapper",a)})).catch((e=>{console.log("err",e),removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))}))}function associateCustomerProfileEditPage(){return new Promise(((e,t)=>{associateCustomerGet({device_id:crossplat.device.uuid,get_by:"id",id:sessionStorage.getItem("customer_id")}).then((t=>{if(t.hasOwnProperty("identity_picture")&&t.identity_picture&&t.identity_picture.hasOwnProperty("thumbnail")&&t.identity_picture.thumbnail){var i=`${api.get_associate_customer_identity_picture}?id=${sessionStorage.getItem("customer_id")}&device_id=${crossplat.device.uuid}&image_id=${t.identity_picture.thumbnail}`;t.identity_picture.avtarUrl=i}if(t.hasOwnProperty("identity_video")&&t.identity_video&&t.identity_video.hasOwnProperty("thumbnail")&&t.identity_video.thumbnail){i=`${api.get_associate_customer_identity_picture}?id=${sessionStorage.getItem("customer_id")}&device_id=${crossplat.device.uuid}&image_id=${t.identity_video.thumbnail}`;t.identity_video.avtarUrl=i}var a={associateCustomerData:t};fetch.replaceHtml((function(){$(".header-band").addClass("hide"),mobileFlaginit(),calenderInitDOB("#associate_customer_date_of_birth"),calenderInitDOB("#associate_customer_wedding_anniversary"),removeLoader(),e()}),"page/customer/associate_customer_profile_edit","#associate-customer-profile-edit-template","#main-content-wrapper",a)})).catch((e=>{console.log("err",e),removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))}))}function cameraCaptureClick(e){var t=e,i=JSON.parse(sessionStorage.getItem("profile_details"));i.individual.name.first,i.individual.name.last;if(t&&"videocamera"==t)if(digibiz.declarationVideo={},"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform){var a=new Blob(videoCapturedChunks,{type:"video/webm"});console.log("blob",a);var o=new FileReader;o.onloadend=function(e){callApi(e,a),$("#camera-video-modal").remove()},o.readAsDataURL(a)}else window.resolveLocalFileSystemURL(window.videoMediaFile,(function(e){e.file((function(e){var t=new FileReader;t.onloadend=function(t){var i=new FileReader;i.onloadend=function(i){var a=new Blob([i.target.result],{type:e.type});callApi(t,a)},i.readAsArrayBuffer(e)},t.readAsDataURL(e)}))}),(function(e){}));else if(t&&"camera"==t)if("digibiz_credentials"==$("body").attr("app")){var s=$("#camera-modal").attr("camera-for");$("#camera-modal").remove(),showModal({modal_platform:crossplat.device.platform,modal_id:"business-credential-picture-modal",modal_header:"Crop Image",modal_body:' <div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"business-credential-picture-crop-button",name:"crop",attr:[{name:"data-id",value:""}]}]},(function(){removeLoader(),$(".modal-popup-content").length>0&&("browser"==crossplat.device.platform||crossplat.device.platform),$(".custom-modal-popup").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#business-credential-picture-modal").attr("picture-type",s)})),setTimeout((function(){var e=["png","jpeg","jpg","PNG","JPEG","JPG"];"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?window.captureCanvas.toBlob((function(t){var i=new FileReader;i.onloadend=function(t){var a=dataURLToBlob(i.result,{type:"image/jpg"}).type.split("/")[1];if(e.includes(a.toLowerCase())){$(".image_container").remove();var o=document.getElementById("image_cropper");console.log("image",o),o.src=t.target.result,o.onload=function(e){$(".group_image_delete").hide()},$("#business-credential-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(o,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}}),removeLoader()}},i.readAsDataURL(t)})):window.resolveLocalFileSystemURL(window.cameraMediaFile,(function(t){t.file((function(t){var i=new FileReader;i.onloadend=function(i){var a=new FileReader;a.onloadend=function(t){var a=new Blob([t.target.result],{type:"image/jpeg"}),o=a.type.split("/")[1];if(e.includes(o.toLowerCase())){$(".image_container").remove();URL.createObjectURL(a);var s=document.getElementById("image_cropper");s.src=i.target.result,s.onload=function(e){$(".group_image_delete").hide()},$("#business-credential-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(s,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}}),removeLoader()}},a.readAsArrayBuffer(t)},i.readAsDataURL(t)}))}),(function(e){}))}),500)}else if("customer_groups_details"==$("body").attr("app")||"employee_group_create"==$("body").attr("app")||"communication_group_details"==$("body").attr("app")||"collaborator_group_details"==$("body").attr("app")){$(".upload-preview-wrapper").addClass("hide"),$("#camera-modal").remove(),showModal({modal_platform:crossplat.device.platform,modal_id:"group-image-modal",modal_header:"",modal_body:'<div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"group-image-crop-button",name:"crop",attr:[{name:"data-id",value:""}]}]},(function(){removeLoader(),$(".modal-popup-content").length>0&&("browser"==crossplat.device.platform||crossplat.device.platform),$(".custom-modal-popup").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#group-image-modal").attr("picture-type","group_image")})),setTimeout((function(){var e=["png","jpeg","jpg","PNG","JPEG","JPG"];"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?window.captureCanvas.toBlob((function(t){var i=new FileReader;i.onloadend=function(t){var a=dataURLToBlob(i.result,{type:"image/jpg"}).type.split("/")[1];if(e.includes(a.toLowerCase())){$(".image_container").remove();var o=document.getElementById("image_cropper");o.src=t.target.result,o.onload=function(e){$(".group-image-delete").hide()},$("#group-image-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(o,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}}),removeLoader()}},i.readAsDataURL(t)})):window.resolveLocalFileSystemURL(window.cameraMediaFile,(function(t){t.file((function(t){var i=new FileReader;i.onloadend=function(i){var a=new FileReader;a.onloadend=function(t){var a=new Blob([t.target.result],{type:"image/jpeg"}),o=a.type.split("/")[1];if(e.includes(o.toLowerCase())){$(".image_container").remove();URL.createObjectURL(a);var s=document.getElementById("image_cropper");s.src=i.target.result,s.onload=function(e){$(".group-image-delete").hide()},$("#group-image-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(s,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}}),removeLoader()}},a.readAsArrayBuffer(t)},i.readAsDataURL(t)}))}),(function(e){}))}),500)}else if(sessionStorage.getItem("customer_id")){if($("#edit-associate-customer-modal").length>0)$("#edit-associate-customer-modal").find(".upload-preview-wrapper").addClass("hide"),$("#camera-modal").remove(),showModal({modal_platform:crossplat.device.platform,modal_id:"associate-customer-identity-picture-modal",modal_header:"",modal_body:'<div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"associate-customer-identity-crop-button",name:"crop",attr:[{name:"data-id",value:""}]}]},(function(){removeLoader(),$(".modal-popup-content").length>0&&("browser"!=crossplat.device.platform&&"desktop"!=crossplat.device.platform||appScroll.scrollBar(".modal-popup-content")),$("#associate-customer-identity-picture-modal").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#associate-customer-identity-picture-modal").attr("picture-type","associate_customer_identity_picture")})),setTimeout((function(){var e=["png","jpeg","jpg","PNG","JPEG","JPG"];"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?window.captureCanvas.toBlob((function(t){var i=new FileReader;i.onloadend=function(t){var a=dataURLToBlob(i.result,{type:"image/jpg"}).type.split("/")[1];if(e.includes(a.toLowerCase())){$(".image_container").remove();var o=document.getElementById("image_cropper");o.src=t.target.result,o.onload=function(e){$(".group_image_delete").hide()},$("#associate-customer-identity-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(o,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}}),removeLoader()}},i.readAsDataURL(t)})):window.resolveLocalFileSystemURL(window.cameraMediaFile,(function(t){t.file((function(t){var i=new FileReader;i.onloadend=function(i){var a=new FileReader;a.onloadend=function(t){var a=new Blob([t.target.result],{type:"image/jpeg"}),o=a.type.split("/")[1];if(e.includes(o.toLowerCase())){$(".image_container").remove();URL.createObjectURL(a);var s=document.getElementById("image_cropper");s.src=i.target.result,s.onload=function(e){$(".group_image_delete").hide()},$("#associate-customer-identity-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(s,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}}),removeLoader()}},a.readAsArrayBuffer(t)},i.readAsDataURL(t)}))}),(function(e){}))}),500);else $(".upload-preview-wrapper").addClass("hide"),$("#camera-modal").remove(),showModal({modal_platform:crossplat.device.platform,modal_id:"customer-identity-picture-modal",modal_header:"",modal_body:' <div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"customer-identity-crop-button",name:"crop",attr:[{name:"data-id",value:""}]}]},(function(){removeLoader(),$(".modal-popup-content").length>0&&("browser"==crossplat.device.platform||crossplat.device.platform),$(".custom-modal-popup").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#customer-identity-picture-modal").attr("picture-type","customer_identity_picture")})),setTimeout((function(){var e=["png","jpeg","jpg","PNG","JPEG","JPG"];"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?window.captureCanvas.toBlob((function(t){var i=new FileReader;i.onloadend=function(t){var a=dataURLToBlob(i.result,{type:"image/jpg"}).type.split("/")[1];if(e.includes(a.toLowerCase())){$(".image_container").remove();var o=document.getElementById("image_cropper");o.src=t.target.result,o.onload=function(e){$(".group_image_delete").hide()},$("#customer-identity-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(o,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}}),removeLoader()}},i.readAsDataURL(t)})):window.resolveLocalFileSystemURL(window.cameraMediaFile,(function(t){t.file((function(t){var i=new FileReader;i.onloadend=function(i){var a=new FileReader;a.onloadend=function(t){var a=new Blob([t.target.result],{type:"image/jpeg"}),o=a.type.split("/")[1];if(e.includes(o.toLowerCase())){$(".image_container").remove();URL.createObjectURL(a);var s=document.getElementById("image_cropper");s.src=i.target.result,s.onload=function(e){$(".group_image_delete").hide()},$("#customer-identity-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(s,{viewMode:0,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}}),removeLoader()}},a.readAsArrayBuffer(t)},i.readAsDataURL(t)}))}),(function(e){}))}),500)}else if(sessionStorage.getItem("employee_id")){$(".upload-preview-wrapper").addClass("hide"),$("#camera-modal").remove(),showModal({modal_platform:crossplat.device.platform,modal_id:"employee-identity-picture-modal",modal_header:"",modal_body:' <div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"employee-identity-crop-button",name:"crop",attr:[{name:"data-id",value:""}]}]},(function(){removeLoader(),$(".modal-popup-content").length>0&&("browser"!=crossplat.device.platform&&"desktop"!=crossplat.device.platform||appScroll.scrollBar(".modal-popup-content")),$("#employee-identity-picture-modal").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#employee-identity-picture-modal").attr("picture-type","employee_identity_picture")})),setTimeout((function(){var e=["png","jpeg","jpg","PNG","JPEG","JPG"];"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?window.captureCanvas.toBlob((function(t){var i=new FileReader;i.onloadend=function(t){var a=dataURLToBlob(i.result,{type:"image/jpg"}).type.split("/")[1];if(e.includes(a.toLowerCase())){$(".image_container").remove();var o=document.getElementById("image_cropper");o.src=t.target.result,o.onload=function(e){$(".group_image_delete").hide()},$("#employee-identity-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(o,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}}),removeLoader()}},i.readAsDataURL(t)})):window.resolveLocalFileSystemURL(window.cameraMediaFile,(function(t){t.file((function(t){var i=new FileReader;i.onloadend=function(i){var a=new FileReader;a.onloadend=function(t){var a=new Blob([t.target.result],{type:"image/jpeg"}),o=a.type.split("/")[1];if(e.includes(o.toLowerCase())){$(".image_container").remove();URL.createObjectURL(a);var s=document.getElementById("image_cropper");s.src=i.target.result,s.onload=function(e){$(".group_image_delete").hide()},$("#employee-identity-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(s,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}}),removeLoader()}},a.readAsArrayBuffer(t)},i.readAsDataURL(t)}))}),(function(e){}))}),500)}else if(sessionStorage.getItem("business_id")){var r=sessionStorage.getItem("camera_for");if($("#camera-modal").remove(),$(`.upload-preview-wrapper[data-for="${r}"]`).addClass("hide"),"business_display_picture"==r)showModal({modal_platform:crossplat.device.platform,modal_id:"business-display-picture-modal",modal_header:"",modal_body:' <div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"business-display-crop-button",name:"crop",attr:[{name:"data-id",value:""}]}]},(function(){removeLoader(),$(".modal-popup-content").length>0&&("browser"==crossplat.device.platform||crossplat.device.platform),$(".custom-modal-popup").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#business-display-picture-modal").attr("picture-type","business_display_picture")}));else showModal({modal_platform:crossplat.device.platform,modal_id:"transaction-signature-picture-modal",modal_header:"",modal_body:' <div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"crop-button",name:"crop",attr:[{name:"data-id",value:r}]}]},(function(){removeLoader(),$(".modal-popup-content").length>0&&("browser"==crossplat.device.platform||crossplat.device.platform),$(".custom-modal-popup").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#transaction-signature-picture-modal").attr("data-id",r)}));setTimeout((function(){var e=["png","jpeg","jpg","PNG","JPEG","JPG"];"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?window.captureCanvas.toBlob((function(t){var i=new FileReader;i.onloadend=function(t){var a=dataURLToBlob(i.result,{type:"image/jpg"}).type.split("/")[1];if(e.includes(a.toLowerCase())){$(".image_container").remove();var o=document.getElementById("image_cropper");o.src=t.target.result,o.onload=function(e){$(".group_image_delete").hide()},$("#transaction-signature-picture-modal, #business-display-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(o,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}}),removeLoader()}},i.readAsDataURL(t)})):window.resolveLocalFileSystemURL(window.cameraMediaFile,(function(t){t.file((function(t){var i=new FileReader;i.onloadend=function(i){var a=new FileReader;a.onloadend=function(t){var a=new Blob([t.target.result],{type:"image/jpeg"}),o=a.type.split("/")[1];if(e.includes(o.toLowerCase())){$(".image_container").remove();URL.createObjectURL(a);var s=document.getElementById("image_cropper");s.src=i.target.result,s.onload=function(e){$(".group_image_delete").hide()},$("#transaction-signature-picture-modal, #business-display-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(s,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}}),removeLoader()}},a.readAsArrayBuffer(t)},i.readAsDataURL(t)}))}),(function(e){}))}),500)}}function digibizActivitySettingsPage(){return new Promise(((e,t)=>{fetch.replaceHtml((function(){removeLoader(),e()}),"page/profile/digibiz_activity_hub","#digibiz-activity-hub-page-template","#main-content-wrapper",null)}))}function groupDeviceChange(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.device_change_group,"POST","JSON",e)}))}function teamManagementHubPage(){return new Promise(((e,t)=>{fetch.replaceHtml((function(){$(".view-digibiz-back-button").removeClass("hide"),removeLoader();new Swiper(".hubSwiper",{slidesPerView:1,spaceBetween:0,grabCursor:!0,observer:!0,pagination:{el:".swiper-pagination",clickable:!0}});$(".swiper").removeClass("hubSwiper"),e()}),"page/business/team_management_hub","#team-management-land-page","#main-content-wrapper",null)}))}function teamGroupsListPage(){return new Promise(((e,t)=>{addLoader();var i={device_id:crossplat.device.uuid,type:"teams",list_by:"all_teams_groups",business_id:sessionStorage.getItem("business_id"),count:15,offset:0};getGroupsCount(i).then((t=>{groupsList(i).then((i=>{fetch.replaceHtml((function(){$(".header_primary").text(`Team Groups(#${t})`),digibiz.team_groups_list_page=[],processTeamGroupsList(i,(function(){appScroll.scrollBar(".team-groups-list-wrapper"),listenForTeamGroupsListScrollEvent($(".team-groups-list-wrapper")),removeLoader(),e()}))}),"page/teams/team_groups_list_wrapper","#team-groups-list-wrapper-template","#main-content-wrapper",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/teams/team_groups_list_data","#team-groups-list-data-template","#team-groups-list-wrapper",null)}),"page/teams/team_groups_list_wrapper","#team-groups-list-wrapper-template","#main-content-wrapper",null)}))})).catch((e=>{console.log("err",e)}))}))}function processTeamGroupsList(e,t){digibiz.team_groups_list_page=removeDuplicates(digibiz.team_groups_list_page.concat(e),"id");var i={team_groups_list_data:digibiz.team_groups_list_page.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image)if(e.group_image.hasOwnProperty("thumbnail")&&e.group_image.thumbnail){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/teams/team_groups_list_data","#team-groups-list-data-template","#team-groups-list-wrapper",i)}function listenForTeamGroupsListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),addLoader(),groupsList({device_id:crossplat.device.uuid,type:"teams",list_by:"all_teams_groups",business_id:sessionStorage.getItem("business_id"),count:5,offset:digibiz.team_groups_list_page.length}).then((e=>{removeLoader(),scrollProcessTeamGroupsList(e,(function(){listenForTeamGroupsListScrollEvent($(".team-groups-list-wrapper"))})).catch((e=>{removeLoader(),fetch.appendHtml((function(e){e||removeLoader()}),"page/teams/team_groups_list_data","#team-groups-list-data-template","#team-groups-list-wrapper",null)}))})))}))}function scrollProcessTeamGroupsList(e,t){digibiz.team_groups_list_page=removeDuplicates(digibiz.team_groups_list_page.concat(e),"id");var i={team_groups_list_data:e.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image)if(e.group_image.hasOwnProperty("thumbnail")&&e.group_image.thumbnail){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};fetch.appendHtml((function(e){e||t()}),"page/teams/scroll_team_groups_list_data","#scroll-team-groups-list-data-template","#team-groups-list-wrapper",i)}function teamGroupCreationPage(){return new Promise(((e,t)=>{sessionStorage.getItem("group_id")?($("#add_employee_group_moderator").removeClass("hide"),groupGet({device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id")}).then((t=>{getGroupModeratorList({device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id"),count:5,offset:0}).then((i=>{if(digibiz.group_moderator_list=[],digibiz.group_moderator_list=i.moderator,t.hasOwnProperty("group_image")&&t.group_image)if(t.group_image.hasOwnProperty("thumbnail")&&t.group_image.thumbnail){var a=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${t.id}&image_id=${t.group_image.thumbnail}`;t.group_image.avtarUrl=a,t.imageLetter=t.name.charAt(0)}else t.imageLetter=t.name.charAt(0);else t.imageLetter=t.name.charAt(0);var o={group_data:t};console.log("groupData",o),fetch.replaceHtml((function(t){t||(removeLoader(),console.log("test sctoll 1"),appScroll.scrollBar("#main-container"),processGroupModeratorList(digibiz.group_moderator_list,(function(){appScroll.scrollBar("#employee-group-moderator-members-list"),listenForGroupModeratorListScrollEvent($("#employee-group-moderator-members-list"))})),e())}),"page/common/teams_group_creation","#teams-group-creation-template","#main-content-wrapper",o)})).catch((e=>{console.log("err",e)}))})).catch((t=>{removeLoader(),e()}))):fetch.replaceHtml((function(t){t||($("#add_employee_group_moderator").addClass("hide"),removeLoader(),console.log("test sctoll 2"),e())}),"page/common/teams_group_creation","#teams-group-creation-template","#main-content-wrapper",null)}))}function processTeamGroupCreateEmployeeSelectionList(e,t,i){digibiz.teamGroupEmployeeSelectionList=removeDuplicates(digibiz.teamGroupEmployeeSelectionList.concat(e),"id");var a={EmployeeList:digibiz.teamGroupEmployeeSelectionList.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);else e.imageLetter=e.name.first.charAt(0);return digibiz.alreadySelected.findIndex((t=>t.id==e.dj_unique_employee_id))>-1&&(e.selected=!0),e})),from:"direct"};console.log("EmployeeList",a),fetch.replaceHtml((function(e){e||(digibiz.alreadySelected.length>0&&($.each(digibiz.alreadySelected,(function(e,t){("new_member"==t.type||"old_member"==t.type)&&$(`.contact-profile-container[data-dj-unique-employee-id="${t.id}"]`).parent(".employee-selection-list-container").remove()})),$("#modal-communication-group-activate-employee-group-employee-list-selection").find(".contact-profile-container").length>0||$(".employee-selection-member-list").append('<div class="no-data">No Employees found</div>')),i())}),"page/communication/employee_selection_list","#employee-selection-list-template","#communication-group-activate-employee-group-employee-list-wrapper",a)}function processSearchedTeamGroupCreateEmployeeSelectionList(e,t){if(e.length>0){var i={EmployeeList:e.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);else e.imageLetter=e.name.first.charAt(0);var i=digibiz.teamGroupEmployeeSelectionList.findIndex((t=>t.id==e.id));i>-1&&(1==digibiz.teamGroupEmployeeSelectionList[i].selected&&(e.selected=!0));return e})),from:"direct"};fetch.replaceHtml((function(e){e||(digibiz.alreadySelected.length>0&&($.each(digibiz.alreadySelected,(function(e,t){("new_member"==t.type||"old_member"==t.type)&&$(`.contact-profile-container[data-dj-unique-employee-id="${t.id}"]`).parent(".employee-selection-list-container").remove()})),$("#modal-communication-group-employees-selection").find(".contact-profile-container").length>0||$(".employee-selection-member-list").append('<div class="no-data">No Employees found</div>')),t())}),"page/communication/employee_selection_list","#employee-selection-list-template","#communication-group-activate-employee-group-employee-list-wrapper",i)}else fetch.replaceHtml((function(e){e||t()}),"page/communication/employee_selection_list","#employee-selection-list-template","#communication-group-activate-employee-group-employee-list-wrapper",null)}function teamsGroupInactive(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.inactive_group,"POST","JSON",e)}))}function getImageUrl(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"===a?t():i(e.responseText)}),e,"GET","JSON")}))}function listenForActiveEmployeeListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),addLoader(),employeeList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"list_all_active",count:5,offset:digibiz.active_employee_creation_employee_list.length}).then((e=>{removeLoader(),scrollProcessActiveEmployeeCreationEmployeeList(e,(function(){listenForActiveEmployeeListScrollEvent($(".employee-creation-list-contentbox"))}))})).catch((e=>{fetch.appendHtml((function(e){e||removeLoader()}),"page/common/scroll_active_employee_creation_list_data","#scroll-active-employee-creation-data-list-template","#active-employee-creation-list-wrapper .os-content",null)})))}))}async function scrollProcessActiveEmployeeCreationEmployeeList(e,t){digibiz.active_employee_creation_employee_list=removeDuplicates(digibiz.active_employee_creation_employee_list.concat(e),"dj_unique_employee_id");var i={employee_creation_employee_list_data:e.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);else e.imageLetter=e.name.first.charAt(0);return e}))};console.log("employeeList",i),fetch.appendHtml((function(e){e||(t(),$(document).find(".expand-search-wrap").removeClass("active").children(".expand-search-input").val("").removeClass("searchexpand"),removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none")}),"page/common/scroll_active_employee_creation_list_data","#scroll-active-employee-creation-data-list-template","#active-employee-creation-list-wrapper .os-content",i)}function listenForPendingeEmployeeListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),addLoader(),notificationList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"pending_employees",count:5,offset:digibiz.pending_employee_creation_employee_list.length}).then((e=>{removeLoader(),scrollProcessPendingEmployeeCreationEmployeeList(e,(function(){listenForPendingeEmployeeListScrollEvent($(".employee-creation-list-contentbox"))}))})).catch((e=>{fetch.appendHtml((function(e){e||removeLoader()}),"page/common/scroll_pending_employee_creation_list_data","#scroll-pending-employee-creation-data-list-template","#pending-employee-creation-list-wrapper .os-content",null)})))}))}function scrollProcessPendingEmployeeCreationEmployeeList(e,t){digibiz.pending_employee_creation_employee_list=removeDuplicates(digibiz.pending_employee_creation_employee_list.concat(e),"id");var i={employee_creation_employee_list_data:e};fetch.appendHtml((function(e){e||t()}),"page/common/scroll_pending_employee_creation_list_data","#scroll-pending-employee-creation-data-list-template","#pending-employee-creation-list-wrapper .os-content",i)}function listenForAluminiEmployeeListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),addLoader(),employeeList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"alumini",count:5,offset:digibiz.alumini_employee_list.length}).then((e=>{removeLoader(),scrollProcessAluminiEmployeeList(e,(function(){listenForAluminiEmployeeListScrollEvent($(".employee-creation-list-contentbox")),removeLoader()}))})).catch((e=>{removeLoader(),fetch.appendHtml((function(e){e||removeLoader()}),"page/common/scroll_alumini_employee_creation_list_data","#scroll-alumini-employee-creation-data-list-template","#alumini-employee-creation-list-wrapper .os-content",null)})))}))}function scrollProcessAluminiEmployeeList(e,t){digibiz.alumini_employee_list=removeDuplicates(digibiz.alumini_employee_list.concat(e),"dj_unique_employee_id");var i={employee_creation_employee_list_data:e.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);else e.imageLetter=e.name.first.charAt(0);return e}))};fetch.appendHtml((function(e){e||t()}),"page/common/scroll_alumini_employee_creation_list_data","#scroll-alumini-employee-creation-data-list-template","#alumini-employee-creation-list-wrapper .os-content",i)}function collaboratorCustomerAdd(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.add_collaborator_customer,"POST","JSON",e)}))}function collaboratorCustomerDelete(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.delete_collaborator_customer,"POST","JSON",e)}))}function collaboratorIdentifierCustomerDelete(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.data);else{var s=JSON.parse(e.responseText);i(s)}}),api.delete_collaborator_identifier_customer,"POST","JSON",e)}))}function processCollaboratorCustomerBusinessList(e,t){console.log("000",e),digibiz.customer_collaborator_business_list=digibiz.customer_collaborator_business_list.concat(e);var i={customer_business_list_data:digibiz.customer_collaborator_business_list.map((e=>{if(joinRoom(e.id),e.hasOwnProperty("display_picture")&&e.display_picture)if(e.display_picture.hasOwnProperty("thumbnail")&&e.display_picture.thumbnail){var t=`${api.get_business_multimedia}?business_id=${e.id}&device_id=${crossplat.device.uuid}&image_id=${e.display_picture.thumbnail}`;e.display_picture.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};digibiz.customer_collaborator_business_list.length>0?console.log("business is there"):(location.hash="jeevi/app/hub",console.log("5555555")),fetch.replaceHtml((function(e){e||t()}),"page/business/customer_business_list_data","#customer-business-data-list-template","#customer-business-list-wrapper",i)}function collaboratorCustomerListPage(){return new Promise(((e,t)=>{var i={device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"my_collaborator_customers"};collaboratorCustomerCount().then((t=>{collaboratorCustomerList(i).then((i=>{console.log("collaboratorsCustomerList response",i),fetch.replaceHtml((function(){processCollaboratorCustomerList(i,(function(){$(".collaborator-groups-list-title-band").find("span").text(`Collaborator Customers(#${t})`),removeLoader(),e()}))}),"page/collaborator/customer_list_wrapper","#collaborator-customers-list-wrapper-template","#main-content-wrapper",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/collaborator/customer_list_data","#collaborator-customers-list-data-template","#collaborator-customer-list-wrapper",null)}),"page/collaborator/customer_list_wrapper","#collaborator-customers-list-wrapper-template","#main-content-wrapper",null)}))})).catch((e=>{console.log("err",e)}))}))}function processCollaboratorCustomerList(e,t){digibiz.collaborator_customer_list=removeDuplicates(digibiz.collaborator_customer_list.concat(e),"identifier_id");var i={collaborator_customer_list_data:digibiz.collaborator_customer_list.map((e=>{if(e.hasOwnProperty("display_picture")&&e.display_picture)if(e.display_picture.hasOwnProperty("thumbnail")&&e.display_picture.thumbnail){var t=`${api.get_business_multimedia}?business_id=${e.id}&device_id=${crossplat.device.uuid}&image_id=${e.display_picture.thumbnail}`;e.display_picture.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/collaborator/customer_list_data","#collaborator-customers-list-data-template","#collaborator-customers-list-wrapper",i)}function processCollaboratorEmployeeSectionList(e=null,t=null,i){console.log("processCommunicationGroupActivateEmployeeGroupEmployeeList",e),console.log("customerData",t),e&&(digibiz.collaborator_employee_list=removeDuplicates(digibiz.collaborator_employee_list.concat(e),"id")),t&&t.length>0&&$.each(t,(function(e,t){t.hasOwnProperty("role")&&t.role.id&&($(`.communication-group-employee-select-btn[data-dj-unique-employee-id="${t.role.id}"]`).parents(".communication-group-employee-select-btn-checkbox-click-wrapper").addClass("selected-row"),digibiz.employeeSelectedContactList.push({id:t.role.id,business_id:t.role.business_id,selected:!0}))}));var a={EmployeeList:digibiz.collaborator_employee_list.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);else e.imageLetter=e.name.first.charAt(0);return e})),from:"employee_list"};console.log("getData",a),fetch.replaceHtml((function(){$(".expand-search-wrap").removeClass("active").children(".expand-search-input").val("").removeClass("searchexpand"),digibiz.alreadySelected.length>0&&$.each(digibiz.alreadySelected,(function(e,t){$(`.communication-group-employee-select-btn[data-dj-unique-employee-id="${t.role.id}"]`).parents(".communication-group-employee-select-btn-checkbox-click-wrapper").addClass("selected-row")})),i()}),"page/collaborator/collaborator_employee_selection_list","#collaborator-employee-selection-list-template","#communication-group-activate-employee-group-employee-list-wrapper",a)}function activeCollaboratorCustomerListPage(){return addLoader(),new Promise(((e,t)=>{collaboratorCustomerList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"received_collaborator_business_list"}).then((t=>{console.log("customerList response",t),fetch.replaceHtml((function(){processCollaboratorBusinessCustomerList(t,(function(){removeLoader(),e()}))}),"page/customer/collaborator_business_customers_wrapper","#collaborator-business-customers-list-wrapper-template","#main-content-wrapper",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/customer/collaborator_business_customers_data","#collaborator-business-customers-list-data-template","#collaborator-business-customers-list-wrapper",null)}),"page/customer/collaborator_business_customers_wrapper","#collaborator-business-customers-list-wrapper-template","#main-content-wrapper",null)}))}))}function processCollaboratorBusinessCustomerList(e,t){digibiz.collaborator_business_customer_list=removeDuplicates(digibiz.collaborator_business_customer_list.concat(e),"identifier_id");var i={collaborator_business_customers_list_data:digibiz.collaborator_business_customer_list.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_customer_identity_picture}?id=${e.id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/customer/collaborator_business_customers_data","#collaborator-business-customers-list-data-template","#collaborator-business-customers-list-wrapper",i)}function collaboratorCustomerBusinessUpdate(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.update_collaborator_business_customer,"POST","JSON",e)}))}function collaboratorCustomerCreatePage(){return addLoader(),new Promise(((e,t)=>{"customer"==sessionStorage.getItem("digibiz_role")&&"profile_page"==sessionStorage.getItem("edit_from")?customerGet({device_id:crossplat.device.uuid,get_by:"id",id:sessionStorage.getItem("customer_id")}).then((t=>{if(t.hasOwnProperty("identity_picture")&&t.identity_picture&&t.identity_picture.hasOwnProperty("thumbnail")&&t.identity_picture.thumbnail){var i=`${api.get_customer_identity_picture}?id=${sessionStorage.getItem("customer_id")}&device_id=${crossplat.device.uuid}&image_id=${t.identity_picture.thumbnail}`;t.identity_picture.avtarUrl=i}if(t.hasOwnProperty("identity_video")&&t.identity_video&&t.identity_video.hasOwnProperty("thumbnail")&&t.identity_video.thumbnail){i=`${api.get_customer_identity_picture}?id=${sessionStorage.getItem("customer_id")}&device_id=${crossplat.device.uuid}&image_id=${t.identity_video.thumbnail}`;t.identity_video.avtarUrl=i}var a={customerData:t};fetch.replaceHtml((function(){mobileFlaginit(),$(".customer-create-heading-name").text("Customer Details"),$(".header-band").addClass("hide"),$(".customer-add-label-container").remove(),$(".customer-add-display-name-container").remove(),$(".customer-add-email-container").remove(),$(".customer-add-identifier-container").remove(),$(".employee-add-date-of-joining-container").remove(),$(".customer-back-btn").remove(),$(".customer-forward-btn").remove(),$(".register-customer-btn").remove(),$(".notify-customer-btn").remove(),$(".wizard-progress-container").remove(),$('.customer-creation-parts-container[data-step="1"]').remove(),$('.customer-creation-parts-container[data-step="3"]').remove(),$('.customer-creation-parts-container[data-step="4"]').remove(),$('.customer-creation-parts-container[data-step="2"]').removeClass("hide"),$(".save-customer-btn").removeClass("hide"),calenderInit("#customer_date_of_birth"),calenderInit("#customer_wedding_anniversary"),removeLoader(),e()}),"page/customer/customer_create","#customer-create-template","#main-content-wrapper",a)})).catch((e=>{console.log("err",e),removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")})):customerIdentifierList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"customer"}).then((t=>{if(sessionStorage.getItem("business_id")){collaboratorBusinessCustomerIdentifierGet({device_id:crossplat.device.uuid,get_by:"id",collaborator_business_customers_id:sessionStorage.getItem("collaborator_business_customers_id"),id:sessionStorage.getItem("business_id")}).then((i=>{var a={customerData:i,customerIdentifierList:t};console.log("customerData",a),fetch.replaceHtml((function(){mobileFlaginit(),calenderInit("#customer_date_of_birth"),calenderInit("#customer_wedding_anniversary"),$(".customer-back-btn").attr("data-present-step","2"),$(".customer-forward-btn").attr("data-present-step","2"),$(".customer-create-stepper").removeClass("is-active"),$('.customer-create-stepper[data-stepper="2"]').addClass("is-active"),$('.customer-creation-parts-container[data-step="1"]').addClass("hide"),$('.customer-creation-parts-container[data-step="2"]').removeClass("hide"),$(".notify-customer-btn").addClass("hide"),$(".customer-forward-btn").removeClass("hide"),"customer"==sessionStorage.getItem("digibiz_role")&&($('div[contenteditable="true"][type="text"]').attr("contenteditable",!1),$('div[type="text"]').prop("disabled",!0),$('input[type="text"]').prop("disabled",!0),$(".mask").addClass("hide"),$('input[type="tel"]').prop("disabled",!0),$(".reassign-customer-btn").prop("disabled",!0),$("#customer_associate_customer_assignment_btn").prop("disabled",!0),$("#show_action_customer_associate-customer_assignment").prop("disabled",!0)),removeLoader(),e()}),"page/customer/customer_create","#customer-create-template","#main-content-wrapper",a)})).catch((e=>{console.log("error in employeeGet")}))}else{var i={customerIdentifierList:t};fetch.replaceHtml((function(){mobileFlaginit(),calenderInit("#customer_date_of_birth"),calenderInit("#customer_wedding_anniversary"),removeLoader(),e()}),"page/customer/customer_create","#customer-create-template","#main-content-wrapper",i)}})).catch((e=>{removeLoader()}))}))}function collaboratorBusinessCustomerIdentifierGet(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.Data);else{var s=JSON.parse(e.responseText);i(s)}}),api.get_collaborator_business_customer,"POST","JSON",e)}))}function collaboratorCustomerReassign(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){if("success"==a)t(e.msg);else{var s=JSON.parse(e.responseText);i(s)}}),api.collaborator_reassign_customer,"POST","JSON",e)}))}function listenForCustomerIdentifiersActiveCustomerCreationListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){if(e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10){$(this).off("el_scroll");customerIdentifierList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"customer",offset:digibiz.customer_identifiers_active_customers_list.length,count:5}).then((e=>{scrollProcessCustomerIdentifiersActiveCustomerCreationList(e,(function(){listenForCustomerIdentifiersActiveCustomerCreationListScrollEvent($(".active-customer-identifiers-list-contentbox")),removeLoader()}))})).catch((e=>{removeLoader()}))}}))}function scrollProcessCustomerIdentifiersActiveCustomerCreationList(e,t){digibiz.customer_identifiers_active_customers_list=removeDuplicates(digibiz.customer_identifiers_active_customers_list.concat(e),"id");var i={customer_identifiers_list_data:e,type:"active_customers"};fetch.appendHtml((function(e){e||t()}),"page/customer/scroll_customer_creation_identifiers_list_data","#scroll-customer-creation-identifiers-data-list-template","#active-customer-creation-identifiers-list-wrapper .os-content",i)}function listenForCustomerIdentifiersScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),customerIdentifierList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"customer",offset:digibiz.customer_identifiers.length,count:5}).then((e=>{console.log("customerIdentifierList response",e),scrollProcessCustomerIdentifiersList(e,(function(){listenForCustomerIdentifiersScrollEvent($(".customer-identifiers-list-contentbox")),removeLoader()}))})).catch((e=>{removeLoader()})))}))}function scrollProcessCustomerIdentifiersList(e,t){digibiz.customer_identifiers=removeDuplicates(digibiz.customer_identifiers.concat(e),"id");var i={customer_identifiers_list_data:e};fetch.appendHtml((function(e){e||t()}),"page/customer/scroll_customer_identifiers_list_data","#scroll-customer-identifiers-data-list-template","#customer-identifiers-list-wrapper .os-content",i)}function listenForCustomerIdentifiersPendingCustomerScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){if(e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10){$(this).off("el_scroll");customerIdentifierList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"customer",offset:digibiz.customer_identifiers_pending_customers_list.length,count:5}).then((e=>{scrollProcessCustomerIdentifiersPendingCustomerCreationList(e,(function(){listenForCustomerIdentifiersPendingCustomerScrollEvent($(".pending-customer-identifiers-list-contentbox")),removeLoader()}))})).catch((e=>{removeLoader()}))}}))}function scrollProcessCustomerIdentifiersPendingCustomerCreationList(e,t){digibiz.customer_identifiers_pending_customers_list=removeDuplicates(digibiz.customer_identifiers_pending_customers_list.concat(e),"id");var i={customer_identifiers_list_data:e,type:"pending_customers"};console.log("customerIdentifiersList11",i),fetch.appendHtml((function(e){e||t()}),"page/customer/scroll_customer_creation_identifiers_list_data","#scroll-customer-creation-identifiers-data-list-template","#pending-customer-creation-identifiers-list-wrapper .os-content",i)}function listenForAluminiCustomerListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),customerList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),identifier_id:sessionStorage.getItem("identifier_id"),list_by:"alumini",offset:digibiz.alumini_customer_list.length,count:5}).then((e=>{scrollProcessAluminiCustomerList(e,(function(){listenForAluminiCustomerListScrollEvent($(".alumini-customers-list-contentbox")),removeLoader()}))})).catch((e=>{removeLoader()})))}))}function scrollProcessAluminiCustomerList(e,t){digibiz.alumini_customer_list=removeDuplicates(digibiz.alumini_customer_list.concat(e),"id");var i={alumini_customers_list_data:e.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_customer_identity_picture}?id=${e.id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);else e.imageLetter=e.name.first.charAt(0);return e}))};fetch.appendHtml((function(e){e||t()}),"page/customer/scroll_alumini_customers_list_data","#scroll-alumini-customers-list-data-template","#alumini-customers-list-wrapper .os-content",i)}function listenForAssociateCustomerIdentifiersListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),customerIdentifierList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"associate_customer",count:15,offset:digibiz.associate_customer_identifiers.length}).then((e=>{scrollProcessAssociateCustomerIdentifiersList(e,(function(){listenForAssociateCustomerIdentifiersListScrollEvent($(".associate-customer-identifiers-list-contentbox")),removeLoader()}))})).catch((e=>{removeLoader()})))}))}function scrollProcessAssociateCustomerIdentifiersList(e,t){digibiz.associate_customer_identifiers=removeDuplicates(digibiz.associate_customer_identifiers.concat(e),"id");var i={associate_customer_identifiers_list_data:e};fetch.appendHtml((function(e){e||t()}),"page/customer/scroll_associate_customers_list_data","#scroll-associate-customer-identifiers-data-list-template","#associate-customer-identifiers-list-wrapper .os-content",i)}function listenForActiveCustomerListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){if(e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10){$(this).off("el_scroll");var t={device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),identifier_id:sessionStorage.getItem("identifier_id"),list_by:"business_identifier_active_accepted",count:5,offset:digibiz.customer_creation_active_list.length};addLoader(),customerList(t).then((e=>{scrollProcessActiveCustomerList(e,(function(){listenForActiveCustomerListScrollEvent($(".active-customers-list-contentbox")),removeLoader()}))})).catch((e=>{removeLoader(),fetch.appendHtml((function(e){}),"page/customer/scroll_active_customers_list_data","#scroll-active-customers-list-data-template","#active-customers-list-wrapper .os-content",null)}))}}))}function scrollProcessActiveCustomerList(e,t){digibiz.customer_creation_active_list=removeDuplicates(digibiz.customer_creation_active_list.concat(e),"id");var i={active_customers_list_data:e.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_customer_identity_picture}?id=${e.id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);else e.imageLetter=e.name.first.charAt(0);return e}))};fetch.appendHtml((function(e){e||(removeLoader(),t())}),"page/customer/scroll_active_customers_list_data","#scroll-active-customers-list-data-template","#active-customers-list-wrapper .os-content",i)}function updateSettingPageInfo(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.Data):i("error in getting settings")}),api.update_setting_info,"POST","JSON",e)}))}function associateCustomersBusinessListPage(){return new Promise(((e,t)=>{var i=digibiz.customer_business_list.filter((e=>"associate_customer"==e.type));i&&0==i.length?businessList({device_id:crossplat.device.uuid,list_by:"associate_customer_module",count:8,offset:0}).then((t=>{processAssociateCustomerBusinessList(t,(function(){digibiz.checkAccountFlag=!0,appScroll.scrollBar(".employee-business-list-main-container"),listenForAssociateCustomerBusinessListScrollEvent($(".employee-business-list-main-container")),removeLoader(),e()}))})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/business/customer_business_list_data","#customer-business-data-list-template","#customer-business-list-wrapper",null)}),"page/business/customer_business_list_wrapper","#customer-business-list-wrapper-template","#digibiz-home-page-middle-band-wrapper",null)})):processAssociateCustomerBusinessList(digibiz.customer_business_list,(function(){appScroll.scrollBar(".employee-business-list-main-container"),listenForAssociateCustomerBusinessListScrollEvent($(".employee-business-list-main-container")),removeLoader(),e()}))}))}function processAssociateCustomerBusinessList(e,t){digibiz.customer_business_list=removeDuplicatesFromMultipleProperties(digibiz.customer_business_list.concat(e),"customer_id","type"),associate_customer_business_list=digibiz.customer_business_list.filter((e=>"associate_customer"==e.type));var i={customer_business_list_data:associate_customer_business_list.map((e=>{if(joinRoom(e.id),e.hasOwnProperty("display_picture")&&e.display_picture)if(e.display_picture.hasOwnProperty("thumbnail")&&e.display_picture.thumbnail){var t=`${api.get_business_multimedia}?business_id=${e.id}&device_id=${crossplat.device.uuid}&image_id=${e.display_picture.thumbnail}`;e.display_picture.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};console.log("5555555"),fetch.replaceHtml((function(e){e||t()}),"page/business/customer_business_list_data","#customer-business-data-list-template","#associate-customer-business-list-wrapper",i)}function listenForAssociateCustomerBusinessListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){if(e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10){$(this).off("el_scroll");var t=digibiz.customer_business_list.filter((e=>"associate_customer"==e.type));businessList({device_id:crossplat.device.uuid,list_by:"associate_customer_module",count:5,offset:t.length}).then((e=>{scrollAssociateProcessCustomerBusinessList(e,(function(){listenForAssociateCustomerBusinessListScrollEvent($(".employee-business-list-main-container")),removeLoader()}))})).catch((e=>{}))}}))}function scrollAssociateProcessCustomerBusinessList(e,t){digibiz.customer_business_list=removeDuplicatesFromMultipleProperties(digibiz.customer_business_list.concat(e),"customer_id","type");var i={customer_business_list_data:e.map((e=>{if(joinRoom(e.id),e.hasOwnProperty("display_picture")&&e.display_picture)if(e.display_picture.hasOwnProperty("thumbnail")&&e.display_picture.thumbnail){var t=`${api.get_business_multimedia}?business_id=${e.id}&device_id=${crossplat.device.uuid}&image_id=${e.display_picture.thumbnail}`;e.display_picture.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};digibiz.customer_business_list.length>0?console.log("business is there"):(location.hash="jeevi/app/hub",console.log("5555555")),fetch.appendHtml((function(e){e||t()}),"page/business/scroll_customer_business_list_data","#scroll-customer-business-data-list-template","#associate-customer-business-list-wrapper .employee-business-list-contentbox",i)}function processCustomerStatusList(e,t){var i={customer_status:e};fetch.replaceHtml((function(e){e||t()}),"page/customer/customer_status","#customer-status-template",".employee-filter-wrapper",i)}function statusWiseCustomerListPage(){return new Promise(((e,t)=>{customerFilter({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),identifier_id:sessionStorage.getItem("identifier_id"),list_by:"business_identifier_active_accepted",status:digibiz.customerFilterData.status,count:20,offset:0}).then((t=>{$("#customer-filter-option-modal").remove(),fetch.replaceHtml((function(){processActiveCustomerList(t,(function(){appScroll.scrollBar(".active-customers-list-contentbox"),listenForActiveCustomerListScrollEvent($(".active-customers-list-contentbox")),removeLoader(),e()}))}),"page/customer/active_customers_list_wrapper","#active-customers-list-wrapper-template","#main-content-wrapper",null)})).catch((t=>{$("#employee-filter-option-modal").remove(),removeLoader(),fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/employee/department_wise_employees_list_data","#department-wise-employees-list-data-template","#department-wise-employees-list-wrapper",null)}))}))}function customerFilter(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.filter_customers,"POST","JSON",e)}))}function processGroupStatusList(e,t){var i={group_status:e};fetch.replaceHtml((function(e){e||t()}),"page/common/group_status","#group-status-template",".employee-filter-wrapper",i)}function statusWiseGroupListPage(){return new Promise(((e,t)=>{if("employee_group_creation_list"==$("body").attr("app")){if(sessionStorage.getItem("selected-employee-group-list-type-tab"))if($(".tab-content").removeClass("active"),$(`.tab-content[id="${sessionStorage.getItem("selected-employee-group-list-type-tab")}"`).addClass("active"),$(".tab").removeClass("active"),$(`.tab[data-id="${sessionStorage.getItem("selected-employee-group-list-type-tab")}"]`).addClass("active"),"standard"==sessionStorage.getItem("selected-employee-group-list-type-tab"))groupsFilterList({device_id:crossplat.device.uuid,type:"employee",list_by:"all_standard_employee_groups",business_id:sessionStorage.getItem("business_id"),status:digibiz.groupFilterData.status,offset:0,count:15}).then((t=>{$("#group-filter-option-modal").remove(),fetch.replaceHtml((function(){digibiz.standard_employees_groups_list_page=[],processStandardEmployeeGroupsList(t,(function(){appScroll.scrollBar(".standard-employees-groups-list-contentbox"),listenForStandardEmployeeGroupsListScrollEvent($(".standard-employees-groups-list-contentbox")),removeLoader(),e()}))}),"page/employee/standard_employees_groups_list_wrapper","#standard-employees-groups-list-wrapper-template","#standard-employees-groups-list-data-container",null)})).catch((t=>{$("#group-filter-option-modal").remove(),fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/employee/standard_employees_groups_list_data","#standard-employees-groups-list-data-template","#standard-employees-groups-list-wrapper",null)}),"page/employee/standard_employees_groups_list_wrapper","#standard-employees-groups-list-wrapper-template","#standard-employees-groups-list-data-container",null)}));else if("custom"==sessionStorage.getItem("selected-employee-group-list-type-tab")){groupsFilterList({device_id:crossplat.device.uuid,type:"employee",list_by:"all_custom_employee_groups",business_id:sessionStorage.getItem("business_id"),status:digibiz.groupFilterData.status,offset:0,count:15}).then((t=>{$("#group-filter-option-modal").remove(),fetch.replaceHtml((function(){digibiz.custom_employees_groups_list_page=[],processCustomEmployeeGroupsList(t,(function(){appScroll.scrollBar(".custom-employees-groups-list-contentbox"),listenForCustomEmployeeGroupsListScrollEvent($(".custom-employees-groups-list-contentbox")),removeLoader(),e()}))}),"page/employee/custom_employees_groups_list_wrapper","#custom-employees-groups-list-wrapper-template","#custom-employees-groups-list-data-container",null)})).catch((t=>{$("#group-filter-option-modal").remove(),fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e(),appScroll.scrollBar(".custom-employees-groups-list-contentbox"))}),"page/employee/custom_employees_groups_list_data","#custom-employees-groups-list-data-template","#custom-employees-groups-list-wrapper",null)}),"page/employee/custom_employees_groups_list_wrapper","#custom-employees-groups-list-wrapper-template","#custom-employees-groups-list-data-container",null)}))}}else if("customer_groups_identifiers_list"==$("body").attr("app")){if(sessionStorage.getItem("selected-customer-group-type-tab"))if($(".tab-content").removeClass("active"),$(`.tab-content[id="${sessionStorage.getItem("selected-customer-group-type-tab")}"`).addClass("active"),$(".tab").removeClass("active"),$(`.tab[data-id="${sessionStorage.getItem("selected-customer-group-type-tab")}"]`).addClass("active"),"standard"==sessionStorage.getItem("selected-customer-group-type-tab"))customerIdentifierList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"customer",status:digibiz.groupFilterData.status,limit:15,offset:0}).then((t=>{var i=[];$.each(t,(function(e,t){i.push(t)})),groupsFilterList({device_id:crossplat.device.uuid,type:"customer",business_id:sessionStorage.getItem("business_id"),status:digibiz.groupFilterData.status,list_by:"basic_customer_groups"}).then((t=>{$.each(t,(function(e,t){i.push(t)})),fetch.replaceHtml((function(){processStandardCustomerGroupsIdentifiersList(i,(function(){removeLoader(),e()}))}),"page/customer/standard_customer_groups_identifiers_list_wrapper","#standard-customer-groups-identifiers-list-wrapper-template","#standard-customer-group-type-data-container",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/customer/standard_customer_groups_identifiers_list_data","#standard-customer-groups-identifiers-list-data-template","#standard-customer-groups-identifiers-list-wrapper",null)}),"page/customer/standard_customer_groups_identifiers_list_wrapper","#standard-customer-groups-identifiers-list-wrapper-template","#standard-customer-group-type-data-container",null)}))})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/customer/standard_customer_groups_identifiers_list_data","#standard-customer-groups-identifiers-list-data-template","#standard-customer-groups-identifiers-list-wrapper",null)}),"page/customer/standard_customer_groups_identifiers_list_wrapper","#standard-customer-groups-identifiers-list-wrapper-template","#standard-customer-group-type-data-container",null)}));else if("custom"==sessionStorage.getItem("selected-employee-group-list-type-tab")){groupsFilterList({device_id:crossplat.device.uuid,type:"customer",business_id:sessionStorage.getItem("business_id"),list_by:"custom_groups",group_for:"customer",status:digibiz.groupFilterData.status,customer_group_type:"custom",offset:0,count:20}).then((t=>{fetch.replaceHtml((function(){processCustomerCustomGroupList(t,(function(){listenForCustomerCustomGroupListScrollEvent($(".customer-custom-groups-list-contentbox")),removeLoader(),e()}))}),"page/customer/customer_custom_groups_list_wrapper","#customer-custom-groups-list-wrapper-template","#custom-customer-group-type-data-container",null)})).catch((t=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),appScroll.scrollBar(".customer-custom-groups-list-contentbox"),e())}),"page/customer/customer_custom_groups_list_data","#customer-custom-groups-list-data-template","#customer-custom-groups-list-wrapper",null)}),"page/customer/customer_custom_groups_list_wrapper","#customer-custom-groups-list-wrapper-template","#custom-customer-group-type-data-container",null)}))}}else if("team_group_creation_list"==$("body").attr("app")){groupsFilterList({device_id:crossplat.device.uuid,type:"teams",list_by:"all_teams_groups",business_id:sessionStorage.getItem("business_id"),status:digibiz.groupFilterData.status,count:15,offset:0}).then((t=>{$("#group-filter-option-modal").remove(),fetch.replaceHtml((function(){digibiz.team_groups_list_page=[],processTeamGroupsList(t,(function(){appScroll.scrollBar(".team-groups-list-wrapper"),listenForTeamGroupsListScrollEvent($(".team-groups-list-wrapper")),removeLoader(),e()}))}),"page/teams/team_groups_list_wrapper","#team-groups-list-wrapper-template","#main-content-wrapper",null)})).catch((t=>{$("#group-filter-option-modal").remove(),fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/teams/team_groups_list_data","#team-groups-list-data-template","#team-groups-list-wrapper",null)}),"page/teams/team_groups_list_wrapper","#team-groups-list-wrapper-template","#main-content-wrapper",null)}))}else if("collaborator_groups_list"==$("body").attr("app")){if(sessionStorage.getItem("selected-collaborator-tab"))if($(".tab-content").removeClass("active"),$(`.tab-content[id="${sessionStorage.getItem("selected-collaborator-tab")}"`).addClass("active"),$(".tab").removeClass("active"),$(`.tab[data-id="${sessionStorage.getItem("selected-collaborator-tab")}"]`).addClass("active"),"my_group_collaborator"==sessionStorage.getItem("selected-collaborator-tab"))collaboratorGroupsFilterList({device_id:crossplat.device.uuid,type:"collaborator",list_by:"business_collaborator_groups_page",business_id:sessionStorage.getItem("business_id"),status:digibiz.groupFilterData.status,count:15,offset:0}).then((t=>{$("#group-filter-option-modal").remove(),digibiz.collaborator_groups_list=[],fetch.replaceHtml((function(){processCollaboratorGroupsList(t,(function(){appScroll.scrollBar(".collaborator-groups-list-contentbox"),listenForCollaboratorGroupsListScrollEvent($(".collaborator-groups-list-contentbox")),removeLoader(),e()}))}),"page/collaborator/group_list_wrapper","#collaborator-groups-list-wrapper-template","#my-collaborator-group-list-data-container",null)})).catch((t=>{$("#group-filter-option-modal").remove(),fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/collaborator/group_list_data","#collaborator-groups-list-data-template","#collaborator-groups-list-list-wrapper",null)}),"page/collaborator/group_list_wrapper","#collaborator-groups-list-wrapper-template","#my-collaborator-group-list-data-container",null)}));else if("other_group_collaborator"==sessionStorage.getItem("selected-collaborator-tab")){collaboratorGroupsFilterList({device_id:crossplat.device.uuid,type:"collaborator",list_by:"business_other_collaborator_groups_page",business_id:sessionStorage.getItem("business_id"),status:digibiz.groupFilterData.status,count:15,offset:0}).then((t=>{$("#group-filter-option-modal").remove(),digibiz.other_collaborator_groups_list=[],fetch.replaceHtml((function(){processOtherCollaboratorGroupsList(t,(function(){appScroll.scrollBar(".collaborator-groups-list-main-container"),listenForOtherCollaboratorGroupsListScrollEvent($(".collaborator-groups-list-main-container")),removeLoader(),e()}))}),"page/collaborator/other_collaborator_group_list_wrapper","#other-collaborator-groups-list-wrapper-template","#other-collaborator-group-list-data-container",null)})).catch((t=>{$("#group-filter-option-modal").remove(),fetch.replaceHtml((function(){fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/collaborator/group_list_data","#collaborator-groups-list-data-template","#collaborator-groups-list-list-wrapper",null)}),"page/collaborator/group_list_wrapper","#collaborator-groups-list-wrapper-template","#my-collaborator-group-list-data-container",null)}))}}else if("communication_groups"==$("body").attr("app")){if(sessionStorage.getItem("selected-communication-tab"))if($(".tab-content").removeClass("active"),$(`.tab-content[id="${sessionStorage.getItem("selected-communication-tab")}"`).addClass("active"),$(".tab").removeClass("active"),$(`.tab[data-id="${sessionStorage.getItem("selected-communication-tab")}"]`).addClass("active"),"communication-group-list"==sessionStorage.getItem("selected-communication-tab"))communicationGroupsFilterList({device_id:crossplat.device.uuid,list_by:"communication",business_id:sessionStorage.getItem("business_id"),status:digibiz.groupFilterData.status,count:15,offset:0}).then((t=>{$("#group-filter-option-modal").remove(),digibiz.communicationGroupsList=[],processCommunicationGroupsList(t,(function(){appScroll.scrollBar(".communication-group-list-contentbox"),listenForCommunicationGroupsListScrollEvent($(".communication-group-list-contentbox")),removeLoader(),e()}))})).catch((t=>{$("#group-filter-option-modal").remove(),fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/communication/communication_group_list_data","#communication-group-list-data-template","#communication-group-list-list-wrapper",null)}));else if("collaborator-communication-group-list"==sessionStorage.getItem("selected-communication-tab")){communicationGroupsFilterList({device_id:crossplat.device.uuid,list_by:"collaborator_communication",business_id:sessionStorage.getItem("business_id"),status:digibiz.groupFilterData.status,count:15,offset:0}).then((t=>{digibiz.collaboratorCommunicationGroupsList=[],$("#group-filter-option-modal").remove(),processCollaboratorCommunicationGroupsList(t,(function(){appScroll.scrollBar(".communication-group-list-contentbox"),listenForCollaboratorCommunicationGroupsListScrollEvent($(".communication-group-list-contentbox")),removeLoader(),e()}))})).catch((t=>{$("#group-filter-option-modal").remove(),fetch.replaceHtml((function(t){t||(removeLoader(),e())}),"page/communication/communication_group_list_data","#communication-group-list-data-template","#communication-group-list-list-wrapper",null)}))}}}))}function groupsFilterList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.filter_list_group,"POST","JSON",e)}))}function collaboratorGroupsFilterList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.filter_list_groups_collaborator,"POST","JSON",e)}))}function communicationGroupsFilterList(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.filter_list_group_communication,"POST","JSON",e)}))}function listentForCommunicationGroupEmployeMembersList(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),addLoader(),getGroupMembers({device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id"),list_by:"employee_members",count:5,offset:digibiz.communitcation_group_employee_members_list.length}).then((e=>{var t=e.membersList;removeLoader(),t&&t.length>0?scrollProcessCommunicationGroupEmployeeMembersList(t,(function(){listentForCommunicationGroupEmployeMembersList($("#communication-group-employee-members-list"))})):fetch.appendHtml((function(e){e||removeLoader()}),"page/communication/group_members_list","#communication-group-member-list-template","#communication-group-employee-members-list .os-content",null)})).catch((e=>{console.log("error in employee group members data",e),removeLoader(),fetch.appendHtml((function(e){}),"page/communication/group_members_list","#communication-group-member-list-template","#communication-group-employee-members-list .os-content",null)})))}))}function scrollProcessCommunicationGroupEmployeeMembersList(e,t){digibiz.communitcation_group_employee_members_list=removeDuplicates(digibiz.communitcation_group_employee_members_list.concat(e),"id");var i={group_type:sessionStorage.getItem("group_from"),group_members_data:e.map((e=>{if("employee"==e.member.type)if(e.hasOwnProperty("identity_picture")&&e.identity_picture){var t=`${api.get_employee_thumbnail}?id=${e.member.id}&device_id=${crossplat.device.uuid}&type=display_picture`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else e.imageLetter=e.member_name.first.charAt(0);else if("customer"==e.member.type){if("customer"==e.member.customer_type)if(e.hasOwnProperty("identity_picture")&&e.identity_picture){t=`${api.get_customer_thumbnail}?id=${e.member.id}&device_id=${crossplat.device.uuid}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else e.imageLetter=e.member_name.first.charAt(0);else if("associate_customer"==e.member.customer_type)if(e.hasOwnProperty("identity_picture")&&e.identity_picture){t=`${api.get_associate_customer_thumbnail}?id=${e.member.id}&device_id=${crossplat.device.uuid}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else e.imageLetter=e.member_name.first.charAt(0)}else if("employee_group"==e.member.type)if(e.hasOwnProperty("group_image")&&e.group_image){t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.member.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.member_name.charAt(0)}else e.imageLetter=e.member_name.charAt(0);else if("customer_group"==e.member.type)if(e.hasOwnProperty("group_image")&&e.group_image){t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.member.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.member_name.charAt(0)}else e.imageLetter=e.member_name.charAt(0);else if("collaborator_group"==e.member.type)if(e.hasOwnProperty("group_image")&&e.group_image){t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.member.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.member_name.charAt(0)}else e.imageLetter=e.member_name.charAt(0);return e}))};console.log("communicationGroupsEmployeeMembersList",i),fetch.appendHtml((function(e){e||t()}),"page/communication/group_members_list","#communication-group-member-list-template","#communication-group-employee-members-list .os-content",i)}function listentForCommunicationGroupCustomerMembersList(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){if(e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10){$(this).off("el_scroll"),addLoader();var t={device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id"),list_by:"customer_members",count:5,offset:digibiz.communitcation_group_customer_members_list.length};console.log("requestParams",t),getGroupMembers(t).then((e=>{var t=e.membersList;removeLoader(),t&&t.length>0?scrollProcessCommunicationGroupCustomerMembersList(t,(function(){listentForCommunicationGroupCustomerMembersList($("#communication-group-customer-members-list"))})):fetch.appendHtml((function(e){e||removeLoader()}),"page/communication/scroll_customer_group_members_list","#communication-customer-group-member-list-template","#communication-group-customer-members-list .os-content",null)})).catch((e=>{console.log("error in employee group members data",e),removeLoader(),fetch.appendHtml((function(e){}),"page/communication/scroll_customer_group_members_list","#communication-customer-group-member-list-template","#communication-group-customer-members-list .os-content",null)}))}}))}function scrollProcessCommunicationGroupCustomerMembersList(e,t){digibiz.communitcation_group_customer_members_list=removeDuplicates(digibiz.communitcation_group_customer_members_list.concat(e),"id");var i={group_type:sessionStorage.getItem("group_from"),group_members_data:e.map((e=>{if("employee"==e.member.type)if(e.hasOwnProperty("identity_picture")&&e.identity_picture){var t=`${api.get_employee_thumbnail}?id=${e.member.id}&device_id=${crossplat.device.uuid}&type=display_picture`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else e.imageLetter=e.member_name.first.charAt(0);else if("customer"==e.member.type){if("customer"==e.member.customer_type)if(e.hasOwnProperty("identity_picture")&&e.identity_picture){t=`${api.get_customer_thumbnail}?id=${e.member.id}&device_id=${crossplat.device.uuid}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else e.imageLetter=e.member_name.first.charAt(0);else if("associate_customer"==e.member.customer_type)if(e.hasOwnProperty("identity_picture")&&e.identity_picture){t=`${api.get_associate_customer_thumbnail}?id=${e.member.id}&device_id=${crossplat.device.uuid}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else e.imageLetter=e.member_name.first.charAt(0)}else if("employee_group"==e.member.type)if(e.hasOwnProperty("group_image")&&e.group_image){t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.member.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.member_name.charAt(0)}else e.imageLetter=e.member_name.charAt(0);else if("customer_group"==e.member.type)if(e.hasOwnProperty("group_image")&&e.group_image){t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.member.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.member_name.charAt(0)}else e.imageLetter=e.member_name.charAt(0);else if("collaborator_group"==e.member.type)if(e.hasOwnProperty("group_image")&&e.group_image){t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.member.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.member_name.charAt(0)}else e.imageLetter=e.member_name.charAt(0);return e}))};console.log("communicationGroupsEmployeeMembersList",i),fetch.appendHtml((function(e){e||t()}),"page/communication/scroll_customer_group_members_list","#communication-customer-group-member-list-template","#communication-group-customer-members-list .os-content",i)}function listentForCommunicationGroupCollaboratorMembersList(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){if(e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10){$(this).off("el_scroll"),addLoader();var t={device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id"),list_by:"collaborator_members",count:5,offset:digibiz.communitcation_group_collaborator_members_list.length};console.log("requestParams",t),getGroupMembers(t).then((e=>{var t=e.membersList;removeLoader(),t&&t.length>0?scrollProcessCommunicationGroupCollaboratorMembersList(t,(function(){listentForCommunicationGroupCollaboratorMembersList($("#communication-group-collaborator-members-list"))})):fetch.appendHtml((function(e){e||removeLoader()}),"page/communication/scroll_collaborator_group_members_list","#communication-collaborator-group-member-list-template","#communication-group-collaborator-members-list .os-content",null)})).catch((e=>{console.log("error in employee group members data",e),removeLoader(),fetch.appendHtml((function(e){}),"page/communication/scroll_collaborator_group_members_list","#communication-collaborator-group-member-list-template","#communication-group-collaborator-members-list .os-content",null)}))}}))}function scrollProcessCommunicationGroupCollaboratorMembersList(e,t){digibiz.communitcation_group_collaborator_members_list=removeDuplicates(digibiz.communitcation_group_collaborator_members_list.concat(e),"id");var i={group_type:sessionStorage.getItem("group_from"),group_members_data:e.map((e=>{if("employee"==e.member.type)if(e.hasOwnProperty("identity_picture")&&e.identity_picture){var t=`${api.get_employee_thumbnail}?id=${e.member.id}&device_id=${crossplat.device.uuid}&type=display_picture`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else e.imageLetter=e.member_name.first.charAt(0);else if("customer"==e.member.type){if("customer"==e.member.customer_type)if(e.hasOwnProperty("identity_picture")&&e.identity_picture){t=`${api.get_customer_thumbnail}?id=${e.member.id}&device_id=${crossplat.device.uuid}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else e.imageLetter=e.member_name.first.charAt(0);else if("associate_customer"==e.member.customer_type)if(e.hasOwnProperty("identity_picture")&&e.identity_picture){t=`${api.get_associate_customer_thumbnail}?id=${e.member.id}&device_id=${crossplat.device.uuid}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else e.imageLetter=e.member_name.first.charAt(0)}else if("employee_group"==e.member.type)if(e.hasOwnProperty("group_image")&&e.group_image){t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.member.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.member_name.charAt(0)}else e.imageLetter=e.member_name.charAt(0);else if("customer_group"==e.member.type)if(e.hasOwnProperty("group_image")&&e.group_image){t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.member.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.member_name.charAt(0)}else e.imageLetter=e.member_name.charAt(0);else if("collaborator_group"==e.member.type)if(e.hasOwnProperty("group_image")&&e.group_image){t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.member.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.member_name.charAt(0)}else e.imageLetter=e.member_name.charAt(0);return e}))};console.log("communicationGroupsEmployeeMembersList",i),fetch.appendHtml((function(e){e||t()}),"page/communication/scroll_collaborator_group_members_list","#communication-collaborator-group-member-list-template","#communication-group-collaborator-members-list .os-content",i)}function listenForAllEmployeeActiveListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),addLoader(),employeeList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"list_all_active",count:20,offset:digibiz.all_employee_active_list.length}).then((e=>{removeLoader(),scrollProcessAllEmployeeActiveList(e,(function(){listenForAllEmployeeActiveListScrollEvent($(".contact-recommend-to-members-selection-list")),removeLoader()}))})).catch((e=>{fetch.appendHtml((function(e){e||removeLoader()}),"page/common/scroll_all_active_employee_data","#scroll-all-active-employee-template",".contact-recommend-to-members-selection-list .os-content",null)})))}))}function scrollProcessAllEmployeeActiveList(e,t){digibiz.all_employee_active_list=removeDuplicates(digibiz.all_employee_active_list.concat(e),"id");var i={contactList:e,device_id:crossplat.device.uuid};console.log("getEmployeeTypesData",i),fetch.appendHtml((function(e){e||t()}),"page/common/scroll_all_active_employee_data","#scroll-all-active-employee-template",".contact-recommend-to-members-selection-list .os-content",i)}function listenForGetRoleslistScrollEvent(e){console.log("11111111"),$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&(console.log("2222222"),$(this).off("el_scroll"),addLoader(),getCustomerRolesList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"mobile_number",value:$("#add-customer-mobile-number").intlTelInput("getNumber").replace(/\s/g,""),count:20,offset:digibiz.getRolesListData.length-1}).then((e=>{removeLoader(),e&&1==e.length&&"jeevi"==e[0].role_type?removeLoader():scrollProcessGetRoleslist(e,(function(){listenForGetRoleslistScrollEvent($(".search-user-list-data")),removeLoader()}))})).catch((e=>{fetch.appendHtml((function(e){e||callback()}),"page/common/get_roles_list","#get-roles-list-template","#get-roles-list-wrapper .os-content",null)})))}))}function scrollProcessGetRoleslist(e,t){if(e.length>0){digibiz.getRolesListData=removeDuplicatesFromMultipleProperties(digibiz.getRolesListData.concat(e),"id","role_type");var i={userList:e.map((e=>{if("employee"==e.role_type)if(e.hasOwnProperty("profile_display_id")&&e.profile_display_id){var t=`${api.get_employee_identity_picture}?id=${e.user_id}&device_id=${crossplat.device.uuid}&image_id=${e.profile_display_id}`;e.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else if(e.hasOwnProperty("profile_display_id")&&null!=e.profile_display_id){t=`${config.api.core}/api/individual/get_image?image_id=${e.profile_display_id}&device_id=${crossplat.device.uuid}`;e.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);return e}))};fetch.appendHtml((function(e){e||t()}),"page/common/scroll_get_roles_list","#scroll-get-roles-list-template","#get-roles-list-wrapper .os-content",i)}else fetch.appendHtml((function(e){e||t()}),"page/common/scroll_get_roles_list","#scroll-get-roles-list-template","#get-roles-list-wrapper .os-content",null)}function processGroupModeratorData(e,t){if(console.log("data",e),e&&e.length>0){var i={group_moderator_data:e.map((e=>{if("employee"==e.type)if(e.data.hasOwnProperty("identity_picture")&&e.data.identity_picture)if(e.data.identity_picture.hasOwnProperty("thumbnail")&&e.data.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.id}&device_id=${crossplat.device.uuid}&image_id=${e.data.identity_picture.thumbnail}`;e.avtarUrl=t,e.imageLetter=e.data.name.first.charAt(0)}else e.imageLetter=e.data.name.first.charAt(0);else e.imageLetter=e.data.name.first.charAt(0);else if("customer"==e.type)if(e.data.hasOwnProperty("identity_picture")&&e.data.identity_picture)if(e.data.identity_picture.hasOwnProperty("thumbnail")&&e.data.identity_picture.thumbnail){t=`${api.get_customer_identity_picture}?id=${e.id}&device_id=${crossplat.device.uuid}&image_id=${e.data.identity_picture.thumbnail}`;e.avtarUrl=t,e.imageLetter=e.data.name.first.charAt(0)}else e.imageLetter=e.data.name.first.charAt(0);else e.imageLetter=e.data.name.first.charAt(0);else if("associate_customer"==e.type)if(e.data.hasOwnProperty("identity_picture")&&e.data.identity_picture){t=`${api.get_associate_customer_thumbnail}?id=${e.id}&device_id=${crossplat.device.uuid}`;e.avtarUrl=t,e.imageLetter=e.data.name.first.charAt(0)}else e.imageLetter=e.data.name.first.charAt(0);return e}))};fetch.replaceHtml((function(e){e||t()}),"page/communication/group_moderator_list_data","#communication-group-moderator-list-template","#communication-group-moderator-members-list",i)}else fetch.replaceHtml((function(e){e||t()}),"page/communication/group_moderator_list_data","#communication-group-moderator-list-template","#communication-group-moderator-members-list",null)}function listentForCommunicationGroupModeratorList(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){if(e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10){$(this).off("el_scroll"),addLoader();var t=digibiz.group_moderator_list;console.log("finalArray",t);var i=digibiz.listed_group_moderator_list.length,a=digibiz.listed_group_moderator_list.length+5;console.log("offset",i,a);var o=t.slice(i,a);console.log("moderatorList",o),digibiz.listed_group_moderator_list=digibiz.listed_group_moderator_list.concat(o),o&&o.length>0?scrollProcessCommunicationGroupModeratorList(o,(function(){removeLoader(),listentForCommunicationGroupModeratorList($("#communication-group-moderator-members-list"))})):fetch.appendHtml((function(e){e||removeLoader()}),"page/communication/scroll_customer_group_members_list","#communication-customer-group-member-list-template","#communication-group-customer-members-list .os-content",null)}}))}function scrollProcessCommunicationGroupModeratorList(e,t){if(e&&e.length>0){var i={group_moderator_data:e.map((e=>{if("employee"==e.type)if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.data.name.first.charAt(0)}else e.imageLetter=e.data.name.first.charAt(0);else e.imageLetter=e.data.name.first.charAt(0);else if("customer"==e.type)if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){t=`${api.get_customer_identity_picture}?id=${e.id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.data.name.first.charAt(0)}else e.imageLetter=e.data.name.first.charAt(0);else e.imageLetter=e.data.name.first.charAt(0);else if("associate_customer"==e.type)if(e.hasOwnProperty("identity_picture")&&e.identity_picture){t=`${api.get_associate_customer_thumbnail}?id=${e.member.id}&device_id=${crossplat.device.uuid}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.data.name.first.charAt(0)}else e.imageLetter=e.data.name.first.charAt(0);return e}))};fetch.appendHtml((function(e){e||t()}),"page/communication/group_moderator_list_data","#communication-group-moderator-list-template","#communication-group-moderator-members-list .os-content",i)}else fetch.appendHtml((function(e){e||t()}),"page/communication/group_moderator_list_data","#communication-group-moderator-list-template","#communication-group-moderator-members-list .os-content",null)}function listenForEmployeeGroupMembersList(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),addLoader(),getGroupMembers({device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id"),offset:digibiz.group_employee_members_list.length,count:5}).then((e=>{var t=e.membersList;if(removeLoader(),t&&t.length>0)scrollProcessGroupEmployeeMembersList(t,(function(){listenForEmployeeGroupMembersList($("#employee-group-members-list"))}));else{var i={group_type:sessionStorage.getItem("group_type"),custom_group_from:sessionStorage.getItem("group_from")};fetch.appendHtml((function(e){e||removeLoader()}),"page/communication/employee_group_members","#employee-group-members-list-template","#employee-group-members-list .os-content",i)}})).catch((e=>{console.log("error in employee group members data",e),removeLoader();var t={group_type:sessionStorage.getItem("group_type"),custom_group_from:sessionStorage.getItem("group_from")};fetch.appendHtml((function(e){}),"page/communication/employee_group_members","#employee-group-members-list-template","#employee-group-members-list .os-content",t)})))}))}function scrollProcessGroupEmployeeMembersList(e,t){digibiz.group_employee_members_list=removeDuplicates(digibiz.group_employee_members_list.concat(e),"id");var i={group_type:sessionStorage.getItem("group_type"),custom_group_from:sessionStorage.getItem("group_from"),group_members_data:e.map((e=>{if("employee"==e.member.type||e.member.dj_unique_employee_id)if(e.hasOwnProperty("identity_picture")&&e.identity_picture){var t=`${api.get_employee_thumbnail}?id=${e.member.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&type=display_picture`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else e.imageLetter=e.member_name.first.charAt(0);else if("customer"==e.member.type){if("customer"==e.member.customer_type)if(e.hasOwnProperty("identity_picture")&&e.identity_picture){t=`${api.get_customer_thumbnail}?id=${e.member.id}&device_id=${crossplat.device.uuid}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else e.imageLetter=e.member_name.first.charAt(0);else if("associate_customer"==e.member.customer_type)if(e.hasOwnProperty("identity_picture")&&e.identity_picture){t=`${api.get_associate_customer_thumbnail}?id=${e.member.id}&device_id=${crossplat.device.uuid}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else e.imageLetter=e.member_name.first.charAt(0)}else if("employee_group"==e.member.type)if(e.hasOwnProperty("group_image")&&e.group_image){t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.member.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.member_name.charAt(0)}else e.imageLetter=e.member_name.charAt(0);else if("customer_group"==e.member.type)if(e.hasOwnProperty("group_image")&&e.group_image){t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.member.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.member_name.charAt(0)}else e.imageLetter=e.member_name.charAt(0);else if("collaborator_group"==e.member.type)if(e.hasOwnProperty("group_image")&&e.group_image){t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.member.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.member_name.charAt(0)}else e.imageLetter=e.member_name.charAt(0);else if("standard_group"==e.member.type)if(e.hasOwnProperty("group_image")&&e.group_image){t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${e.member.id}&image_id=${e.group_image.thumbnail}`;e.group_image.avtarUrl=t,e.imageLetter=e.member_name.charAt(0)}else e.imageLetter=e.member_name.charAt(0);return e}))};console.log("communicationGroupsEmployeeMembersList",i),fetch.appendHtml((function(e){e||t()}),"page/communication/employee_group_members","#employee-group-members-list-template","#employee-group-members-list .os-content",i)}function processSearchGroupModeratorData(e=null,t){if(console.log("data",e),e)var i={group_moderator_data:e.map((e=>{if("employee"==e.type)if(e.data.hasOwnProperty("identity_picture")&&e.data.identity_picture)if(e.data.identity_picture.hasOwnProperty("thumbnail")&&e.data.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.id}&device_id=${crossplat.device.uuid}&image_id=${e.data.identity_picture.thumbnail}`;e.avtarUrl=t,e.imageLetter=e.data.name.first.charAt(0)}else e.imageLetter=e.data.name.first.charAt(0);else e.imageLetter=e.data.name.first.charAt(0);else if("customer"==e.type)if(e.data.hasOwnProperty("identity_picture")&&e.data.identity_picture)if(e.data.identity_picture.hasOwnProperty("thumbnail")&&e.data.identity_picture.thumbnail){t=`${api.get_customer_identity_picture}?id=${e.id}&device_id=${crossplat.device.uuid}&image_id=${e.data.identity_picture.thumbnail}`;e.avtarUrl=t,e.imageLetter=e.data.name.first.charAt(0)}else e.imageLetter=e.data.name.first.charAt(0);else e.imageLetter=e.data.name.first.charAt(0);else if("associate_customer"==e.type)if(e.data.hasOwnProperty("identity_picture")&&e.data.identity_picture){t=`${api.get_associate_customer_thumbnail}?id=${e.id}&device_id=${crossplat.device.uuid}`;e.avtarUrl=t,e.imageLetter=e.data.name.first.charAt(0)}else e.imageLetter=e.data.name.first.charAt(0);return e}))};else i={device_id:crossplat.device.uuid};console.log("getData",i),fetch.replaceHtml((function(){t()}),"page/communication/group_moderator_list_data","#communication-group-moderator-list-template","#group-moderator-search-wrapper",i)}function listenForEmployeeSelectionListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),addLoader(),employeeList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"list_only_active",count:20,offset:digibiz.employee_group_employee_members.length}).then((e=>{removeLoader(),scrollProcessEmployeeSelectionList(e,(function(){listenForEmployeeSelectionListScrollEvent($(".modal-popup-content")),removeLoader()}))})).catch((e=>{fetch.appendHtml((function(e){e||removeLoader()}),"page/common/scroll_employee_list_selection","#scroll-employee-selection-list-template","#employee-selection-member-list-container",null)})))}))}function scrollProcessEmployeeSelectionList(e,t){console.log("oiii",e),digibiz.employee_group_employee_members=removeDuplicates(digibiz.employee_group_employee_members.concat(e),"id");var i={EmployeeList:e.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);else e.imageLetter=e.name.first.charAt(0);return e})),from:"direct"};fetch.appendHtml((function(e){e||t()}),"page/common/scroll_employee_list_selection","#scroll-employee-selection-list-template","#employee-selection-member-list-container",i)}function listenForCustomerGroupContactsMembersList(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){if(e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10){$(this).off("el_scroll"),addLoader();var t={device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id"),count:5,offset:digibiz.customer_group_members_list.length};console.log("requestParamsee",t),getGroupMembers(t).then((e=>{var t=e.membersList;if(removeLoader(),t&&t.length>0)scrollProcessCustomerGroupMembersList(t,(function(){listenForCustomerGroupContactsMembersList($("#customer-group-members-list"))}));else{var i={customer_group_type:sessionStorage.getItem("group_type"),custom_group_from:sessionStorage.getItem("group_from")};console.log("swdefr",i),fetch.appendHtml((function(e){e||removeLoader()}),"page/customer/scroll_customer_group_members_list_data","#scroll-customer-group-members-list-template","#customer-group-members-list .os-content",i)}})).catch((e=>{console.log("error in employee group members data",e),removeLoader();var t={customer_group_type:sessionStorage.getItem("group_type"),custom_group_from:sessionStorage.getItem("group_from")};console.log("qqqqqqq",t),fetch.appendHtml((function(e){}),"page/customer/scroll_customer_group_members_list_data","#scroll-customer-group-members-list-template","#customer-group-members-list .os-content",t)}))}}))}function scrollProcessCustomerGroupMembersList(e,t){digibiz.customer_group_members_list=removeDuplicates(digibiz.customer_group_members_list.concat(e),"id");var i={customer_group_type:sessionStorage.getItem("group_type"),custom_group_from:sessionStorage.getItem("group_from"),group_members_data:e.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture){var t=`${api.get_customer_thumbnail}?id=${e.customer_id}&device_id=${crossplat.device.uuid}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else e.imageLetter=e.member_name.first.charAt(0);return e}))};console.log("communicationGroupsEmployeeMembersList",i),fetch.appendHtml((function(e){e||t()}),"page/customer/scroll_customer_group_members_list_data","#scroll-customer-group-members-list-template","#customer-group-members-list .os-content",i)}function listenForCustomerGroupGroupMembersList(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){if(e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10){$(this).off("el_scroll"),addLoader();var t={device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id"),count:5,offset:digibiz.customer_group_members_list.length};console.log("requestParamsee",t),getGroupMembers(t).then((e=>{var t=e.membersList;if(console.log("membersResponse",t),removeLoader(),t&&t.length>0)scrollProcessCustomerGroupMembersList(t,(function(){listenForCustomerGroupGroupMembersList($("#customer-group-members-list"))}));else{var i={customer_group_type:sessionStorage.getItem("group_type"),custom_group_from:sessionStorage.getItem("group_from")};fetch.appendHtml((function(e){e||removeLoader()}),"page/customer/scroll_customer_group_members_list_data","#scroll-customer-group-members-list-template","#customer-group-members-list .os-content",i)}})).catch((e=>{console.log("error in employee group members data",e),removeLoader();var t={customer_group_type:sessionStorage.getItem("group_type"),custom_group_from:sessionStorage.getItem("group_from")};fetch.appendHtml((function(e){}),"page/customer/scroll_customer_group_members_list_data","#scroll-customer-group-members-list-template","#customer-group-members-list .os-content",t)}))}}))}function listenForEmployeeList(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){if(e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10){$(this).off("el_scroll"),addLoader();var t={device_id:crossplat.device.uuid,list_by:"list_only_active",business_id:sessionStorage.getItem("receiver_business_id"),count:20,offset:digibiz.employee_list.length};sessionStorage.getItem("receiver_business_id")?t.business_id=sessionStorage.getItem("receiver_business_id"):t.business_id=sessionStorage.getItem("business_id"),employeeList(t).then((e=>{removeLoader(),scrollProcessEmployeeSelectionListData(e,(function(){listenForEmployeeList($(".modal-popup-content")),removeLoader()}))})).catch((e=>{if($("#modal-collaborator-group-owner-business-employee-selection").length>0)var t=".employee-selection-member-list #employee-selection-member-list-container";else t=".employee-selection-member-list";fetch.appendHtml((function(){removeLoader(),console.log("err",e)}),"page/common/scroll_employee_list_selection","#scroll-employee-selection-list-template",t,null)}))}}))}function scrollProcessEmployeeSelectionListData(e,t){digibiz.employee_list=removeDuplicates(digibiz.employee_list.concat(e),"id");var i={EmployeeList:e.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);else e.imageLetter=e.name.first.charAt(0);return e})),from:"direct"};if($("#modal-collaborator-group-owner-business-employee-selection").length>0)var a=".employee-selection-member-list #employee-selection-member-list-container";else a=".employee-selection-member-list";fetch.appendHtml((function(e){e||t()}),"page/common/scroll_employee_list_selection","#scroll-employee-selection-list-template",a,i)}function listenForCollaboratorGroupContactListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),collaboratorList({device_id:crossplat.device.uuid,type:"collaborator",list_by:"business_collaborator_groups_page",business_id:sessionStorage.getItem("business_id"),count:5,offset:digibiz.collaborator_contact_list.length}).then((e=>{scrollProcessCollaboratorGroupContactList(e,(function(){listenForCollaboratorGroupContactListScrollEvent($(".modal-popup-content")),removeLoader()}))})).catch((e=>{removeLoader(),fetch.appendHtml((function(e){e||callback()}),"page/collaborator/scroll_contact_list_selection","#scroll-collaborator-contact-selection-list-template",".collaborator-contact-selection-list",null)})))}))}function scrollProcessCollaboratorGroupContactList(e,t){digibiz.collaborator_contact_list=removeDuplicates(digibiz.collaborator_contact_list.concat(e),"id");e.map((e=>{if(e.hasOwnProperty("business_display_picture")&&e.business_display_picture)if(e.business_display_picture.hasOwnProperty("thumbnail")&&e.business_display_picture.thumbnail){var t=`${api.get_business_multimedia}?business_id=${e.business_id}&device_id=${crossplat.device.uuid}&image_id=${e.business_display_picture.thumbnail}`;e.business_display_picture.avtarUrl=t,e.imageLetter=e.business_name.charAt(0)}else e.imageLetter=e.business_name.charAt(0);else e.imageLetter=e.business_name.charAt(0);return e}));fetch.appendHtml((function(e){e||t()}),"page/collaborator/scroll_contact_list_selection","#scroll-collaborator-contact-selection-list-template",".collaborator-contact-selection-list",collaboratorContactList)}function listenForCollaboratorGroupMembersListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),groupMemberList({device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id"),count:5,offset:digibiz.collaborator_group_members_list.length}).then((e=>{scrollProcessCollaboratorGroupMembersList(e,(function(){listenForCollaboratorGroupMembersListScrollEvent($("#collaborator-group-members-list")),removeLoader()}))})).catch((e=>{removeLoader(),fetch.appendHtml((function(e){}),"page/collaborator/scroll_collaborator_group_members_list_data","#scroll-collaborator-group-members-list-template","#collaborator-group-members-list .os-content",null)})))}))}function scrollProcessCollaboratorGroupMembersList(e,t){digibiz.collaborator_group_members_list=removeDuplicates(digibiz.collaborator_group_members_list.concat(e),"id");var i={group_members_data:e.map((e=>{if("business"==e.type)if(e.hasOwnProperty("display_picture")&&e.display_picture)if(e.display_picture.hasOwnProperty("thumbnail")&&e.display_picture.thumbnail){var t=`${api.get_business_multimedia}?business_id=${e.member.business_id}&device_id=${crossplat.device.uuid}&image_id=${e.display_picture.thumbnail}`;e.display_picture.avtarUrl=t,e.imageLetter=e.business_name.charAt(0)}else e.imageLetter=e.business_name.charAt(0);else e.imageLetter=e.business_name.charAt(0);return e}))};fetch.appendHtml((function(e){e||t()}),"page/collaborator/scroll_collaborator_group_members_list_data","#scroll-collaborator-group-members-list-template","#collaborator-group-members-list .os-content",i)}function listenForCollaboratorGroupModeratorsListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),getCollaboratorBusinessEmployeeMembers({device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id"),business_id:sessionStorage.getItem("business_id"),count:20,offset:digibiz.colloborator_group_moderator_list.length}).then((e=>{scrollProcessCollaboratorBusinessEmployeeMembersList(e,(function(){listenForCollaboratorGroupModeratorsListScrollEvent($(".modal-popup-content")),removeLoader()}))})).catch((e=>{removeLoader();fetch.appendHtml((function(e){e||callback()}),"page/collaborator/scroll_collaborator_group_members_list_data","#scroll-collaborator-group-members-list-template",".employee-selection-member-list",{page_for:"moderator"})})))}))}function scrollProcessCollaboratorBusinessEmployeeMembersList(e,t){digibiz.colloborator_group_moderator_list=removeDuplicates(digibiz.colloborator_group_moderator_list.concat(e),"id");var i={EmployeeList:e.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture){var t=`${api.get_employee_thumbnail}?id=${e.member.employee_id}&device_id=${crossplat.device.uuid}&type=display_picture`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else e.imageLetter=e.member_name.first.charAt(0);return e})),page_for:"moderator"};fetch.appendHtml((function(e){e||t()}),"page/collaborator/scroll_moderator_selection_list","#scroll-moderator-selection-list-template",".employee-selection-member-list",i)}function listenForCollaboratorGroupModeratorListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),addLoader(),getGroupModeratorList({device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id"),offset:digibiz.group_moderator_list.length,count:5}).then((e=>{removeLoader(),e.moderator&&e.moderator.length>0?scrollProcessGroupModeratorList(e.moderator,(function(){listenForCollaboratorGroupModeratorListScrollEvent($("#collaborator-group-moderator-list"))})):fetch.appendHtml((function(e){e||removeLoader()}),"page/common/group_moderator_list_data","#group-moderator-list-template","collaborator-group-moderator-list .os-content",null)})).catch((e=>{console.log("error in employee group members data",e),removeLoader(),fetch.appendHtml((function(e){}),"page/common/group_moderator_list_data","#group-moderator-list-template","#collaborator-group-moderator-list .os-content",null)})))}))}function listenForGroupModeratorListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),addLoader(),getGroupModeratorList({device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id"),offset:digibiz.group_moderator_list.length,count:5}).then((e=>{removeLoader(),e.moderator&&e.moderator.length>0?scrollProcessGroupModeratorList(e.moderator,(function(){listenForGroupModeratorListScrollEvent($("#employee-group-moderator-members-list"))})):fetch.appendHtml((function(e){e||removeLoader()}),"page/common/group_moderator_list_data","#group-moderator-list-template","#employee-group-moderator-members-list .os-content",null)})).catch((e=>{console.log("error in employee group members data",e),removeLoader(),fetch.appendHtml((function(e){}),"page/common/group_moderator_list_data","#group-moderator-list-template","#employee-group-moderator-members-list .os-content",null)})))}))}function listenForCommunicationGroupModeratorListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),addLoader(),getGroupModeratorList({device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id"),offset:digibiz.group_moderator_list.length,count:5}).then((e=>{removeLoader(),e.moderator&&e.moderator.length>0?scrollProcessGroupModeratorList(e.moderator,(function(){listenForCommunicationGroupModeratorListScrollEvent($("#communication-group-moderator-members-list"))})):fetch.appendHtml((function(e){e||callback()}),"page/common/group_moderator_list_data","#group-moderator-list-template","#communication-group-moderator-members-list .os-content",groupModeratorsList)})).catch((e=>{console.log("error in employee group members data",e),removeLoader(),fetch.appendHtml((function(e){e||callback()}),"page/common/group_moderator_list_data","#group-moderator-list-template","#communication-group-moderator-members-list .os-content",groupModeratorsList)})))}))}function processGroupModeratorList(e,t){var i={group_type:sessionStorage.getItem("group_type"),custom_group_from:sessionStorage.getItem("group_from"),group_moderator_data:digibiz.group_moderator_list.map((e=>{if(e.data.hasOwnProperty("identity_picture")&&e.data.identity_picture)if(e.data.identity_picture.hasOwnProperty("thumbnail")&&e.data.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.id}&device_id=${crossplat.device.uuid}&image_id=${e.data.identity_picture.thumbnail}`;e.data.identity_picture.avtarUrl=t,e.data.imageLetter=e.data.name.first.charAt(0)}else e.data.imageLetter=e.data.name.first.charAt(0);else e.data.imageLetter=e.data.name.first.charAt(0);return e}))};if(console.log("groupModeratorsList",i),$("#communication-group-moderator-members-list").length>0)var a="#communication-group-moderator-members-list";else if($("#collaborator-group-moderator-list").length>0)a="#collaborator-group-moderator-list";else a="#employee-group-moderator-members-list";fetch.appendHtml((function(e){e||t()}),"page/common/group_moderator_list_data","#group-moderator-list-template",a,i)}function scrollProcessGroupModeratorList(e,t){console.log("datadata",e),digibiz.group_moderator_list=digibiz.group_moderator_list.concat(e);var i={group_type:sessionStorage.getItem("group_type"),custom_group_from:sessionStorage.getItem("group_from"),group_moderator_data:e.map((e=>{if(e.data.hasOwnProperty("identity_picture")&&e.data.identity_picture)if(e.data.identity_picture.hasOwnProperty("thumbnail")&&e.data.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.id}&device_id=${crossplat.device.uuid}&image_id=${e.data.identity_picture.thumbnail}`;e.data.identity_picture.avtarUrl=t,e.data.imageLetter=e.data.name.first.charAt(0)}else e.data.imageLetter=e.data.name.first.charAt(0);else e.data.imageLetter=e.data.name.first.charAt(0);return e}))};if($("#communication-group-moderator-members-list").length>0);else if($("#collaborator-group-moderator-list").length>0);else;console.log("groupModeratorsList",i),fetch.appendHtml((function(e){e||t()}),"page/common/group_moderator_list_data","#group-moderator-list-template","#employee-group-moderator-members-list .os-content",i)}function listenForSearchedEmployeeGroupEmployeeSelectionListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){if(e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10){$(this).off("el_scroll");var t=$("#employee-list-selection-search-btn").find(".expand-search-input");if(t)var i=t.attr("socketid"),a=t.val();if(currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:i,app:"digibiz",keyword:a},"employee_group_create"===currentroute)"custom"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&$("#modal-employee-selection").length>0&&"employee_list"==sessionStorage.getItem("group_from")&&(data.index="getEmployeeContactListAllEmployees",data.business_id=sessionStorage.getItem("business_id"),data.count=10,data.offset=digibiz.searched_employee_list.length)}}))}function getGroupsCount(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.group_count,"POST","JSON",e)}))}function getCollaboratorGroupsCount(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.collaborator_group_count,"POST","JSON",e)}))}function getCommunicationGroupsCount(e){return new Promise(((t,i)=>{fetch.apiCall((function(e,a,o){"success"==a?t(e.data):i(JSON.parse(e.responseText))}),api.communication_group_count,"POST","JSON",e)}))}function listenForEmployeeStandardGroupListScrollEvent(e){$(e).off("el_scroll"),e.on("el_scroll",(function(e){e.detail.scrollTop>=e.detail.scrollHeight-e.detail.offsetHeight-10&&($(this).off("el_scroll"),addLoader(),groupsList({device_id:crossplat.device.uuid,type:"employee",list_by:"draft_active_standard_employee_groups",business_id:sessionStorage.getItem("business_id"),count:20,offset:digibiz.employee_group_standard_group_members.length}).then((e=>{processScrollEmployeeStandardGroupList(e,(function(){var t=removeDuplicates(digibiz.employee_group_standard_group_members.concat(e),"id");digibiz.employee_group_standard_group_members.length==t.length?fetch.appendHtml((function(e){e||removeLoader()}),"page/common/scroll_standard_employee_group_selection","#scroll-standard-employee-selection-list-template","#standard-employee-selection-list-container",null):listenForEmployeeStandardGroupListScrollEvent($(".modal-popup-content")),removeLoader()}))})).catch((e=>{fetch.appendHtml((function(e){e||removeLoader()}),"page/common/scroll_standard_employee_group_selection","#scroll-standard-employee-selection-list-template","#standard-employee-selection-list-container",null)})))}))}function processScrollEmployeeStandardGroupList(e,t){digibiz.employee_group_standard_group_members=removeDuplicates(digibiz.employee_group_standard_group_members.concat(e),"id");var i={standardGroupList:e.map((e=>{if(e.hasOwnProperty("display_picture")&&e.display_picture){var t=`${api.get_employee_thumbnail}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&type=display_picture`;e.display_picture.avtarUrl=t}else e.imageLetter=e.name.charAt(0);return e}))};fetch.appendHtml((function(e){e||t()}),"page/common/scroll_standard_employee_group_selection","#scroll-standard-employee-selection-list-template","#standard-employee-selection-list-container",i)}var commonExecutables=function(){console.log("inside common executables"),$(".main").length>0&&("browser"==crossplat.device.platform||crossplat.device.platform);const e=$('.theme-switch input[type="checkbox"]'),t=localStorage.getItem("theme");t&&e&&"on"===t&&$(e).prop("checked",!0),$(document).on("change",'.theme-switch input[type="checkbox"]',(function(e){e.stopPropagation(),addLoader();var t=$(this);$(t).is(":checked")?addTheme({device_id:crossplat.device.uuid,account_id:sessionStorage.getItem("account_id"),theme:"on",platform:crossplat.device.platform,app:"digibiz",role:"bizadmin",business_id:sessionStorage.getItem("business_id"),owner:{id:sessionStorage.getItem("account_id"),type:"individual"}}).then((e=>{localStorage.setItem("theme","on"),document.documentElement.setAttribute("data-darkmode","on"),document.documentElement.classList.add("translate"),removeLoader()})).catch((e=>{removeLoader()})):deleteTheme({device_id:crossplat.device.uuid,delete_by:"digibiz",platform:crossplat.device.platform,owner:{id:sessionStorage.getItem("account_id"),type:"individual"},business_id:sessionStorage.getItem("business_id")}).then((e=>{localStorage.setItem("theme","off"),document.documentElement.setAttribute("data-darkmode","off"),document.documentElement.classList.add("translate"),removeLoader()})).catch((e=>{removeLoader()}))})),$(document).on("click",".wrapper-dropdown",(function(e){e.stopImmediatePropagation();var t=$(this);$(t).toggleClass("active").parent("div").siblings().find(".wrapper-dropdown").removeClass("active")})),$(document).on("click",".menu-toggle",(function(e){addLoader(),e.stopImmediatePropagation();let t=$(this).attr("data-id");if("profile-menu-toggle"==t){if($(".business-metadata").addClass("hide"),$(".profile-metadata.employee-customer").addClass("hide"),$(".profile-metadata.individual").removeClass("hide"),$(".business_profile_slider_btn").parent().addClass("hide"),$(".employee_profile_slider_btn").parent().addClass("hide"),$(".bizadmin-business-list-page").parent().removeClass("hide"),$(".theme-switch-wrapper").removeClass("hide"),"landing_page"==$("body").attr("app"))$(".profile-metadata.individual").siblings(".qr_code_wrap").removeClass("hide"),$(".digibiz_account_storage_btn").parents(".top-notify-icon").removeClass("hide"),$(".digibiz-account-delete").parents(".top-notify-icon").removeClass("hide"),$(".digibiz-account-active-inactive-settings").parents(".top-notify-icon").addClass("hide"),$(".digibiz_business_settings_btn").parents(".top-notify-icon").addClass("hide"),$(".digibiz-notification-role-logs").parents(".top-notify-icon").addClass("hide"),$(".digibiz-business-notification-logs").parents(".top-notify-icon").addClass("hide"),$(".business_profile_slider_btn").parents(".top-notify-icon").addClass("hide"),$(".employee_profile_slider_btn").parents(".top-notify-icon").addClass("hide"),$(".customer_profile_slider_btn").parents(".top-notify-icon").addClass("hide"),$(".digibiz-business-logs").parents(".top-notify-icon").addClass("hide"),$(".digibiz-business-owner-role-logs").parents(".top-notify-icon").addClass("hide");else if("business_management"==$("body").attr("app")){$(".profile-metadata.individual").siblings(".qr_code_wrap").addClass("hide"),$(".digibiz_account_storage_btn").parents(".top-notify-icon").addClass("hide"),$(".digibiz-account-delete").parents(".top-notify-icon").addClass("hide"),$(".digibiz-account-active-inactive-settings").parents(".top-notify-icon").addClass("hide"),$(".digibiz-notification-role-logs").parents(".top-notify-icon").addClass("hide"),$(".digibiz-business-notification-logs").parents(".top-notify-icon").addClass("hide"),$(".digibiz-business-owner-role-logs").parents(".top-notify-icon").addClass("hide"),$(".digibiz-business-app-hub-logs").parents(".top-notify-icon").removeClass("hide"),"super_admin"==$(".view-business-land-page-icons-container").attr("data-type")&&$(".digibiz_business_settings_btn").parents(".top-notify-icon").removeClass("hide")}else"digibiz_notifications"==$("body").attr("app")?($(".profile-metadata.individual").siblings(".qr_code_wrap").addClass("hide"),$(".digibiz_account_storage_btn").parents(".top-notify-icon").addClass("hide"),$(".digibiz-account-delete").parents(".top-notify-icon").addClass("hide"),$(".digibiz-account-active-inactive-settings").parents(".top-notify-icon").addClass("hide"),$(".digibiz_business_settings_btn").parents(".top-notify-icon").addClass("hide"),$(".digibiz-business-notification-logs").parents(".top-notify-icon").addClass("hide"),$(".digibiz-notification-role-logs").parents(".top-notify-icon").removeClass("hide"),$(".digibiz-business-owner-role-logs").parents(".top-notify-icon").addClass("hide"),$(".digibiz-business-app-hub-logs").parents(".top-notify-icon").addClass("hide")):"business_notifications"==$("body").attr("app")?($(".profile-metadata.individual").siblings(".qr_code_wrap").addClass("hide"),$(".digibiz_account_storage_btn").parents(".top-notify-icon").addClass("hide"),$(".digibiz-account-delete").parents(".top-notify-icon").addClass("hide"),$(".digibiz-account-active-inactive-settings").parents(".top-notify-icon").addClass("hide"),$(".digibiz_business_settings_btn").parents(".top-notify-icon").addClass("hide"),$(".digibiz-notification-role-logs").parents(".top-notify-icon").addClass("hide"),$(".digibiz-business-owner-role-logs").parents(".top-notify-icon").addClass("hide"),$(".digibiz-business-app-hub-logs").parents(".top-notify-icon").addClass("hide"),$(".digibiz-business-notification-logs").parents(".top-notify-icon").removeClass("hide")):"business_admin_business_list"==$("body").attr("app")?($(".profile-metadata.individual").siblings(".qr_code_wrap").addClass("hide"),$(".digibiz_account_storage_btn").parents(".top-notify-icon").addClass("hide"),$(".digibiz-account-delete").parents(".top-notify-icon").addClass("hide"),$(".digibiz-account-active-inactive-settings").parents(".top-notify-icon").addClass("hide"),$(".digibiz_business_settings_btn").parents(".top-notify-icon").addClass("hide"),$(".digibiz-notification-role-logs").parents(".top-notify-icon").addClass("hide"),$(".digibiz-business-owner-role-logs").parents(".top-notify-icon").removeClass("hide"),$(".digibiz-business-notification-logs").parents(".top-notify-icon").addClass("hide"),$(".digibiz-business-app-hub-logs").parents(".top-notify-icon").addClass("hide")):"business_add"==$("body").attr("app")||"business_edit"==$("body").attr("app")?$(".theme-switch-wrapper").addClass("hide"):($(".profile-metadata.individual").siblings(".qr_code_wrap").addClass("hide"),$(".digibiz_account_storage_btn").parents(".top-notify-icon").addClass("hide"),$(".digibiz-account-delete").parents(".top-notify-icon").addClass("hide"),$(".digibiz-account-active-inactive-settings").parents(".top-notify-icon").addClass("hide"),$(".digibiz_business_settings_btn").parents(".top-notify-icon").addClass("hide"),$(".digibiz-notification-role-logs").parents(".top-notify-icon").addClass("hide"),$(".digibiz-business-owner-role-logs").parents(".top-notify-icon").addClass("hide"),$(".digibiz-business-app-hub-logs").parents(".top-notify-icon").addClass("hide"),$(".digibiz-business-notification-logs").parents(".top-notify-icon").addClass("hide"));return $("#"+t).hasClass("active")?($("#"+t).removeClass("active").css({transform:"translate3d(100%,0,0)"}),$("div.menu-overlay").animate({opacity:"0"},200,(function(){$("div.menu-overlay").css({visibility:"hidden","z-index":""})})),removeLoader(),!1):($("#"+t).addClass("active").css({transform:"translate3d(0,0,0)"}),$("div.menu-overlay").animate({opacity:"1"},200,(function(){$("div.menu-overlay").css({visibility:"visible","z-index":"997"})})),removeLoader(),!1)}return $("#"+t).hasClass("active")?($("#"+t).removeClass("active").css({transform:"translate3d(100%,0,0)"}),$("div.menu-overlay").animate({opacity:"0"},200,(function(){$("div.menu-overlay").css({visibility:"hidden","z-index":""})})),removeLoader(),!1):($("#"+t).addClass("active").css({transform:"translate3d(0,0,0)"}),$("div.menu-overlay").animate({opacity:"1"},200,(function(){$("div.menu-overlay").css({visibility:"visible","z-index":"997"})})),removeLoader(),!1)})),$(document).on("click",(function(e){var t=$(".menu-toggle, .slide-bar, .sidebar_left"),i=$(".wrapper-dropdown"),a=$(".popup-background-container, .background-image"),o=$(".survey-comment-reply-star"),s=$(".action-sheet-container");$(".action-sheet-container").hasClass("slide-top")&&(s!==e.target&&s.has(e.target).length,$(".action-sheet-container").removeClass("slide-top").addClass("slide-bottom").remove()),$(".slide-bar, .sidebar_left").hasClass("active")&&(t===e.target||t.has(e.target).length||($(".menu-section").removeClass("active").css({transform:"translate3d(100%,0,0)"}),$("div.menu-overlay").animate({opacity:"0"},200,(function(){$("div.menu-overlay").css({visibility:"hidden","z-index":""})})))),$(i).hasClass("active")&&(i===e.target||i.has(e.target).length||$(i).removeClass("active")),$(".popup-background-container").hasClass("active")&&(a===e.target||a.has(e.target).length||($(".popup-background-container").removeClass("active"),$(".background-selection").children().remove())),$(".rating").hasClass("active")&&(o===e.target||o.has(e.target).length||$(".rating").removeClass("active"))})),$(document).on("click",".file-viewer-back-btn",(function(){$(".asset-viewer-container").removeClass("modal-slide-top").addClass("modal-slide-bottom"),setTimeout((function(){$(".asset-viewer-container").remove()}),100)})),$(document).on("click",".accordion-title",(function(e){var t=$(this).attr("data-tab");$("#"+t).slideToggle().parent().siblings().find(".accordion-content").slideUp(),$(this).toggleClass("active-title"),$("#"+t).parent().siblings().find(".accordion-title").removeClass("active-title"),$.each(digibiz.customerSelectedContactList,(function(e,i){i.contact_item_id==t&&$(`.accordion-content[id="${i.contact_item_id}"]`).find(`.customer-group-contact-select-btn[data-id="${i.id}"]`).attr("checked","checked")})),$.each(digibiz.employeeSelectedContactList,(function(e,t){$(`.accordion-content[data-group-id="${t.group_id}"]`).find(`.communication-group-employee-select-btn[data-dj-unique-employee-id="${t.id}"]`).attr("checked","checked")}))})),$(document).on("click",".accordion-titleee",(function(e){addLoader();var t=$(this).attr("data-tab");sessionStorage.removeItem("accordion_item"),sessionStorage.setItem("accordion_item",t);var i=$(this).attr("data-type");if("identifier"==i)listContactsList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"customer",list_by:"primary_customer_identifier",primary_customer_identifier_id:t}).then((e=>{processCommunicationGroupContactListCustomerContactItemsList(e,t,(function(){setTimeout((function(){removeLoader(),$("#"+t).slideToggle().parent().siblings().find(".accordion-contenttt").slideUp(),$(this).toggleClass("active-title"),$("#"+t).parent().siblings().find(".accordion-titleee").removeClass("active-title")}),0)}))})).catch((e=>{removeLoader(),$("#"+t).slideToggle().parent().siblings().find(".accordion-contenttt").slideUp(),$(this).toggleClass("active-title"),$("#"+t).parent().siblings().find(".accordion-titleee").removeClass("active-title")}));else if("contact_item"==i){getContactList({device_id:crossplat.device.uuid,id:t,count:5,offset:0}).then((e=>{digibiz.communication_group_contact_list_customer_list_level_three_data=e,processCommunicationGroupContactListCustomerContactsList(e,t,(function(){appScroll.scrollBar(".accordion-contenttt"),setTimeout((function(){listenForCommunicationGroupContactListCustomerContactsListScrollEvent($(".accordion-contenttt")),removeLoader(),$("#"+t).slideToggle().parent().siblings().find(".accordion-contenttt").slideUp(),$(this).toggleClass("active-title"),$("#"+t).parent().siblings().find(".accordion-titleee").removeClass("active-title")}),0)}))})).catch((e=>{removeLoader(),$("#"+t).slideToggle().parent().siblings().find(".accordion-contenttt").slideUp(),$(this).toggleClass("active-title"),$("#"+t).parent().siblings().find(".accordion-titleee").removeClass("active-title")}))}})),$(document).on("click",".view-digibiz-back-button",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){addLoader(),sessionStorage.removeItem("group_id");var t=location.href.split("#").pop();if(console.log("current_url",t),t&&t.includes("employee_filter"))location.hash="employee_creation/list";else if(t&&t.includes("business_display_control"))location.hash="business/profile/management";else if(t&&t.includes("employee/configurations"))location.hash="employee/management/hub";else if(t&&t.includes("business/profile/management"))location.hash="business/management";else if(t&&t.includes("customer/profile"))"employee"==sessionStorage.getItem("digibiz_role")?(sessionStorage.removeItem("business_id"),sessionStorage.removeItem("employee_id"),location.hash="employee/business/list"):"customer"!=sessionStorage.getItem("digibiz_role")&&"associate_customer"!=sessionStorage.getItem("digibiz_role")||(sessionStorage.removeItem("business_id"),sessionStorage.removeItem("customer_id"),sessionStorage.removeItem("customer_type"),location.hash="customer/business/list");else if(t&&t.includes("employee/profile"))"employee"==sessionStorage.getItem("digibiz_role")?(sessionStorage.removeItem("business_id"),sessionStorage.removeItem("employee_id"),location.hash="employee/business/list"):"customer"!=sessionStorage.getItem("digibiz_role")&&"associate_customer"!=sessionStorage.getItem("digibiz_role")||(sessionStorage.removeItem("business_id"),sessionStorage.removeItem("customer_id"),sessionStorage.removeItem("customer_type"),location.hash="customer/business/list");else if(t&&t.includes("business/profile"))"employee"==sessionStorage.getItem("digibiz_role")?(sessionStorage.removeItem("business_id"),sessionStorage.removeItem("employee_id"),location.hash="employee/business/list"):"customer"!=sessionStorage.getItem("digibiz_role")&&"associate_customer"!=sessionStorage.getItem("digibiz_role")||(sessionStorage.removeItem("business_id"),sessionStorage.removeItem("customer_id"),sessionStorage.removeItem("customer_type"),location.hash="customer/business/list");else if(t&&t.includes("prospect/settings"))location.hash="jeevi/app/hub",console.log("fwefwef");else if(t&&t.includes("digibiz/business/settings"))sessionStorage.removeItem("selected-business-settings-tab"),location.hash="business/management";else if(t&&t.includes("module_admin/list"))sessionStorage.removeItem("module_type"),location.hash="module_admin/management";else if(t&&t.includes("business_owner/business/list")||t&&t.includes("employee/business/list")||t&&t.includes("customer/business/list"))$(this).addClass("hide"),sessionStorage.removeItem("digibiz_role"),sessionStorage.clear(),setTimeout((function(){deviceHelper.navigateToAccounts("core")}),1e3);else if(t&&t.includes("business_owner/business/list"))sessionStorage.removeItem("business_id"),location.hash="business_owner/business/list";else if(t&&t.includes("business/management"))sessionStorage.removeItem("business_id"),sessionStorage.removeItem("business_status"),sessionStorage.removeItem("business_role"),sessionStorage.removeItem("business_name"),sessionStorage.removeItem("business_profile_socket_status"),$(this).addClass("hide"),$(".header-heading-name").text(""),location.hash="business_owner/business/list";else if(t&&t.includes("employee/management/hub"))location.hash="business/management";else if(t&&t.includes("customer/management/hub"))location.hash="business/management";else if(t&&t.includes("digibiz/logs"))"employee"==sessionStorage.getItem("log_type")?($(".header-heading-name").text(""),sessionStorage.removeItem("log_type"),location.hash="employee/management/hub"):"notification_role_page"==sessionStorage.getItem("log_type")||"digibiz_hub_page"==sessionStorage.getItem("log_type")||"digibiz_roles_logs"==sessionStorage.getItem("log_type")?(sessionStorage.removeItem("log_type"),location.hash="digibiz/activity"):"business_notification_page"==sessionStorage.getItem("log_type")?(sessionStorage.removeItem("log_type"),location.hash="business/notifications"):"business_owner_business_list_page"==sessionStorage.getItem("log_type")?(sessionStorage.removeItem("log_type"),location.hash="business_owner/business/list"):"business_app_hub_page"==sessionStorage.getItem("log_type")?(sessionStorage.removeItem("log_type"),location.hash="business/management"):"jeevi_hub_page"==sessionStorage.getItem("log_type")||"digibiz_login_logs"==sessionStorage.getItem("log_type")||"digibiz_business_logs"==sessionStorage.getItem("log_type")?(sessionStorage.removeItem("log_type"),location.hash="digibiz/activity"):"app_permission_logs"==sessionStorage.getItem("log_type")?(sessionStorage.removeItem("log_type"),location.hash="business/app_permission/settings"):"contact_control_logs"==sessionStorage.getItem("log_type")||"customer_control_logs"==sessionStorage.getItem("log_type")||"trusted_control_logs"==sessionStorage.getItem("log_type")?(sessionStorage.removeItem("log_type"),location.hash="employee/controls"):"communication_group_logs"==sessionStorage.getItem("log_type")?(sessionStorage.removeItem("log_type"),location.hash="communication/groups"):"collaborator_group_logs"==sessionStorage.getItem("log_type")||"member_collaborator_group_logs"==sessionStorage.getItem("log_type")?(sessionStorage.removeItem("log_type"),location.hash="collaborator/hub"):(sessionStorage.removeItem("log_type"),location.hash="business/management");else if(t&&t.includes("employee/types"))$(".header-heading-name").text(""),location.hash="employee/configurations";else if(t&&t.includes("employee/category"))$(".header-heading-name").text(""),location.hash="employee/configurations";else if(t&&t.includes("employee/designation"))$(".header-heading-name").text(""),location.hash="employee/configurations";else if(t&&t.includes("employee/access/list"))$(".header-heading-name").text(""),location.hash="employee/management/hub";else if(t&&t.includes("employee_creation/list"))$(".header-heading-name").text(""),sessionStorage.removeItem("selected-employee-tab"),location.hash="employee/management/hub";else if(t&&t.includes("employee/business/apps/hub"))sessionStorage.removeItem("business_id"),sessionStorage.removeItem("business_name"),sessionStorage.removeItem("employee_id"),location.hash="employee/business/list";else if(t&&t.includes("digibiz/notifications"))$(this).addClass("hide"),"business-role-btn"==sessionStorage.getItem("get_role_btn")?location.hash="business_owner/business/list":"employee-role-btn"==sessionStorage.getItem("get_role_btn")?location.hash="employee/business/list":"customer-role-btn"==sessionStorage.getItem("get_role_btn")?location.hash="customer/business/list":"jeevi-role-btn"==sessionStorage.getItem("get_role_btn")&&(location.hash="jeevi/app/hub",console.log("fwefwef"));else if(t&&t.includes("employee/notification/details"))sessionStorage.removeItem("contact_uuid"),location.hash="employee_creation/list";else if(t&&t.includes("super_admin/notification/details"))sessionStorage.removeItem("contact_uuid"),location.hash="super_admin/management/hub";else if(t&&t.includes("employee_group_creation/list"))sessionStorage.removeItem("selected-employee-group-list-type-tab"),digibiz.standard_employees_groups_list_page=[],digibiz.custom_employees_groups_list_page=[],$(".header-heading-name").text(""),location.hash="employee/management/hub";else if(t&&t.includes("employee_group_creation/list"));else if(t&&(t.includes("customers/identifiers/list")||t.includes("customer/access/identifiers")))sessionStorage.removeItem("selected-customer-identifier-tab"),$(".header-heading-name").text(""),location.hash="customer/management/hub";else if(t&&t.includes("customer_creation")&&"customer_creation"==$("body").attr("app"))sessionStorage.removeItem("selected-tab"),$(".header-heading-name").text(""),location.hash="identifiers_list_customer_creation";else if(t&&t.includes("identifiers_list_customer_creation")&&"identifiers_list_customer_creation"==$("body").attr("app"))sessionStorage.removeItem("selected-tab"),sessionStorage.removeItem("identifier_id"),$(".header-heading-name").text(""),location.hash="customer/management/hub";else if(t&&t.includes("customer_creation/identifiers/list"))sessionStorage.removeItem("selected-customer-tab"),$(".header-heading-name").text(""),location.hash="customer/management/hub";else if(t&&t.includes("customer_creation/active/list"))sessionStorage.removeItem("identifier_id"),location.hash="customer_creation";else if(t&&t.includes("customer_creation/pending/list"))sessionStorage.removeItem("identifier_id"),location.hash="customer_creation";else if(t&&t.includes("customer/notification/details")){sessionStorage.removeItem("contact_user_id");sessionStorage.getItem("selected-tab");location.hash="customer_creation"}else if(t&&t.includes("customer/contacts/groups/identifiers/list"))("customer_group_list"==sessionStorage.getItem("customer_module")||"customer_contact_list"==sessionStorage.getItem("customer_module"))&&(sessionStorage.removeItem("selected-customer-group-type-tab"),sessionStorage.removeItem("customer_module"),$(".header-heading-name").text(""),location.hash="customer/management/hub");else if(t&&t.includes("customer/contacts/identifiers/list"))$(".header-heading-name").text(""),location.hash="customer/management/hub";else if(t&&t.includes("customer/groups/identifiers/list"))sessionStorage.removeItem("selected-customer-group-type-tab"),$(".header-heading-name").text(""),location.hash="customer/management/hub";else if(t&&t.includes("customer/contacts_items/list"))digibiz.contacts_items_list=[],sessionStorage.removeItem("identifier_id"),location.hash="customer/contacts/identifiers/list";else if(t&&t.includes("customer/contact/list"))sessionStorage.removeItem("item_id"),location.hash="customer/contacts_items/list";else if(t&&t.includes("customer/groups/list"))digibiz.groups_list=[],digibiz.standard_customer_groups_identifiers_list=[],sessionStorage.removeItem("identifier_id"),location.hash="customer/groups/identifiers/list";else if(t&&t.includes("department_management"))$(".header-heading-name").text(""),location.hash="employee/configurations";else if(t&&t.includes("department/create"))sessionStorage.removeItem("department_id"),location.hash="department_management";else if(t&&t.includes("employee/contact/list"))sessionStorage.removeItem("selected-employee-contact-list-type-tab"),$(".header-heading-name").text(""),location.hash="employee/management/hub";else if(t&&t.includes("collaborator/hub"))location.hash="business/management";else if(t&&t.includes("business/notifications"))sessionStorage.removeItem("selected-business-notification-tab"),location.hash="business/management";else if(t&&t.includes("collaborator/contact/list"))sessionStorage.removeItem("selected-collaborator-tab"),$(".header-heading-name").text(""),location.hash="collaborator/hub";else if(t&&t.includes("collaborator/contact_list/notification/details"))sessionStorage.removeItem("collaborator_business_id"),location.hash="collaborator/contact/list";else if(t&&t.includes("collaborator/customer/list"))$(".header-heading-name").text(""),location.hash="collaborator/hub";else if(t&&t.includes("collaborator/groups/list"))sessionStorage.removeItem("selected-collaborator-tab"),$(".header-heading-name").text(""),location.hash="collaborator/hub";else if(t&&t.includes("collaborator/group/create"))sessionStorage.removeItem("group_id"),location.hash="collaborator/groups/list";else if(t&&t.includes("communication/groups"))sessionStorage.removeItem("group_id"),sessionStorage.removeItem("group_creation_running"),location.hash="business/management";else if(t&&t.includes("customer/access/identifier/items"))digibiz.customer_access_identifier_items_list=[],sessionStorage.removeItem("identifier_id"),location.hash="customer/access/identifiers";else if(t&&t.includes("customer/access/identifier/item/page"))sessionStorage.removeItem("identifier_item_id"),location.hash="customer/access/identifier/items";else if(t&&t.includes("customer/business/apps/hub"))sessionStorage.removeItem("customer_id"),sessionStorage.removeItem("business_name"),sessionStorage.removeItem("customer_identifier_id"),sessionStorage.removeItem("customer_type"),location.hash="customer/business/list";else if(t&&t.includes("customer/collaborators"))location.hash="customer/management/hub";else if(t&&t.includes("super_admin/management/hub"))sessionStorage.removeItem("selected-super-admin-management-tab"),location.hash="digibiz/business/settings";else if(t&&t.includes("business/settings"))sessionStorage.removeItem("selected-business-settings-tab"),location.hash="digibiz/business/settings";else if(t&&t.includes("module_admin/management"))sessionStorage.removeItem("selected-business-settings-tab"),location.hash="digibiz/business/settings",appScroll.scrollBar("#main-content-wrapper").destroy();else if(t&&t.includes("business/storage")){addLoader();var i={device_id:crossplat.device.uuid,selected:!0,id:sessionStorage.getItem("business_id"),type:"business"};fetch.apiCall((function(e,t,i){"success"===t?(sessionStorage.removeItem("successCode"),sessionStorage.removeItem("authErrorCode"),sessionStorage.removeItem("business_storage_token"),location.hash="business/management"):getBusinessStoragePage()}),api.check_token,"POST","JSON",i)}else t&&t.includes("collaborator/add")?location.hash="collaborator/contact/list":t&&t.includes("business/app_permission/settings")||t&&t.includes("teams/management/hub")?location.hash="business/management":t&&t.includes("team_group_creation/list")?location.hash="teams/management/hub":t&&t.includes("employee/controls")&&(location.hash="employee/management/hub")}})),$(document).on("click",".digibiz-cancel-button",(function(){addLoader();var e=location.href.split("#").pop();$(this).addClass("hide"),e&&e.includes("super_admin/management/hub")?(sessionStorage.removeItem("selected-super-admin-management-tab"),location.hash="digibiz/business/settings"):e&&e.includes("business/settings")||e&&e.includes("module_admin/management")?(sessionStorage.removeItem("selected-business-settings-tab"),location.hash="digibiz/business/settings"):e&&e.includes("business/storage")?location.hash="digibiz/business/settings":e&&e.includes("collaborator/add")?location.hash="collaborator/contact/list":e&&e.includes("business/app_permission/settings")&&(location.hash="digibiz/business/settings")})),$(document).on("click","#digibiz_account_confirm_button",(function(){addLoader(),showModal({modal_platform:crossplat.device.platform,modal_id:"digibiz-term-and-conditions-modal",modal_header:"Terms & Conditions",modal_body:'<div class="terms-conditions-data">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</div>',modal_action_buttons:[{name:"Register",id:"digibiz_account_register"}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),$(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content")):($(".custom-modal-popup").show().addClass("modal-slide-top"),$(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content")),removeLoader()}))})),$(document).on("click","#digibiz_account_cancel_button, #digibiz_account_role_update_cancel_button",(function(){addLoader(),sessionStorage.clear(),setTimeout((function(){deviceHelper.navigateToAccounts("core")}),1e3)})),$(document).on("click","#digibiz_account_register",(function(){addLoader(),sessionStorage.setItem("role","prospect"),addDigibizAccount({device_id:crossplat.device.uuid,role:sessionStorage.getItem("role")}).then((e=>{if($("#digibiz-term-and-conditions-modal").remove(),sessionStorage.setItem("account_id",e.id),sessionStorage.getItem("notify_id"))acceptNotification();else if("administrator"==sessionStorage.getItem("role"))sessionStorage.removeItem("role"),location.hash="business_owner/business/list";else if("employee"==sessionStorage.getItem("role"))sessionStorage.removeItem("role"),location.hash="employee/business/list";else if("customer"==sessionStorage.getItem("role"))sessionStorage.removeItem("role"),location.hash="customer/business/list";else if("prospect"==sessionStorage.getItem("role")){sessionStorage.removeItem("role"),addJeeviAccount({device_id:crossplat.device.uuid,account_id:e.id}).then((e=>{sessionStorage.setItem("digibiz_storage_selection","first"),location.hash="digibiz/account/storage"})).catch((e=>{}))}})).catch((e=>{removeLoader(),Materialize.toast("Error! Please try again later",3e3,"round error-alert")}))})),$(document).on("click","#digibiz_account_role_update_confirm_button",(function(){addLoader(),updateDigibizAccount({device_id:crossplat.device.uuid,id:sessionStorage.getItem("account_id"),role:sessionStorage.getItem("role"),status:"active"}).then((e=>{if(console.log("update response",e),sessionStorage.getItem("notify_id"))acceptNotification();else if("administrator"==sessionStorage.getItem("role"))sessionStorage.removeItem("role"),location.hash="business_owner/business/list";else if("employee"==sessionStorage.getItem("role"))sessionStorage.removeItem("role"),location.hash="employee/business/list";else if("customer"==sessionStorage.getItem("role"))sessionStorage.removeItem("role"),location.hash="customer/business/list";else if("prospect"==sessionStorage.getItem("role")){sessionStorage.removeItem("role"),addJeeviAccount({device_id:crossplat.device.uuid,account_id:e.id}).then((t=>{if(e.hasOwnProperty("storage")&&e.storage){var i={device_id:crossplat.device.uuid,selected:!0,id:sessionStorage.getItem("account_id"),type:"individual"};fetch.apiCall((function(e,t,i){"success"===t?(window.sessionStorage.setItem("storage_token",JSON.stringify(e.Data)),location.reload()):400==e.status?(window.sessionStorage.setItem("storage_token",JSON.stringify(e.responseJSON.Data)),location.hash="digibiz/account/storage"):console.log("ERROR CHECK HERE")}),api.check_token,"POST","JSON",i)}else sessionStorage.setItem("digibiz_storage_selection","first"),location.hash="digibiz/account/storage"})).catch((e=>{}))}})).catch((e=>{removeLoader(),Materialize.toast("Error! Please try again later",3e3,"round error-alert")}))})),$(document).on("click",".digibiz-app-btn.business_owner",(function(e){e.stopPropagation(),addLoader(),sessionStorage.setItem("digibiz_role","business_owner"),location.hash="business_owner/business/list"})),$(document).on("click",".digibiz-app-btn.employee",(function(e){e.stopPropagation(),addLoader(),sessionStorage.setItem("digibiz_role","employee"),location.hash="employee/business/list"})),$(document).on("click",".digibiz-app-btn.customer",(function(e){e.stopPropagation(),addLoader(),sessionStorage.setItem("digibiz_role","customer"),location.hash="customer/business/list"})),$(document).on("click",".digibiz_notifications",(function(e){e.stopPropagation(),addLoader(),location.hash="digibiz/notifications"})),$(document).on("click",".digibiz-app-btn.prospect",(function(e){e.stopPropagation(),addLoader();var t={device_id:crossplat.device.uuid,uuid:sessionStorage.getItem("uuid")};fetch.apiCall((function(e,t,i){"success"==t?"active"==e.Data.status.status||"inactive_pending"==e.Data.status.status?(sessionStorage.setItem("digibiz_role","prospect"),location.hash="jeevi/app/hub",console.log("fwefwef")):(removeLoader(),sessionStorage.setItem("account_id",e.Data.id),sessionStorage.setItem("account_status",e.Data.status.status),showAlert({alert_id:"digibiz-account-inactive",alert_platform:crossplat.device.platform,alert_title:"",alert_body:"Your account is inactive.",alert_btn:[{name:"Activate",attr:[{name:"id",value:"activate-digibiz-account"}]},{name:"Close",attr:[{name:"id",value:"close-digibiz-account-inactive"}]}]},(function(){$("#digibiz-account-inactive").attr("account_id",e.Data.id),document.querySelector("#activate-digibiz-account").addEventListener("click",(function(){var t={account_status:e.Data.status.status,account_settings:e.Data.settings};fetch.getHtml((function(e,i){showModal({modal_id:"account-inactive-active-settings",modal_header:"Active/Inactive",modal_platform:crossplat.device.platform,modal_body:i,modal_action_buttons:[{name:"Save",id:"add-account-inactive-data"}]},(function(){$("#digibiz-account-inactive").remove(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),$(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content")):($(".custom-modal-popup").show().addClass("modal-slide-top"),$(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content")),"inactive"!=t.account_status&&"inactive_pending"!=t.account_status||$(".account-inactive-start-end-date-time").removeClass("hide"),commonExecutables(),removeLoader()}))}),"page/common/active_inactive_account","#active_inactive_account-template",t)})),document.querySelector("#close-digibiz-account-inactive").addEventListener("click",(function(){$("#digibiz-account-inactive").remove(),logoutDigibiz(),setTimeout((function(){deviceHelper.navigateToAccounts("core")}),1e3)}))}))):(removeLoader(),Materialize.toast("Account not found.",3e3,"round error-alert"))}),api.get_account,"POST","JSON",t)})),$(document).on("click",".prospect-bizchat",(function(e){(e.stopImmediatePropagation(),isDoubleClicked($(this)))||(addLoader(),navigateLogsAdd({device_id:crossplat.device.uuid,platform:crossplat.device.platform,app:"bizchat",role:"individual",account_id:sessionStorage.getItem("account_id")}).then((e=>{setTimeout((function(){deviceHelper.navigateApp("bizchat"),"android"!=cordova.platformId&&"ios"!==cordova.platformId||StatusBar.backgroundColorByHexString("#b5f9e4")}),500)})).catch((e=>{removeLoader()})))})),$(document).on("click",".prospect-bizasset",(function(e){(e.stopImmediatePropagation(),isDoubleClicked($(this)))||(addLoader(),navigateLogsAdd({device_id:crossplat.device.uuid,platform:crossplat.device.platform,app:"bizassets",role:"individual",account_id:sessionStorage.getItem("account_id")}).then((e=>{setTimeout((function(){deviceHelper.navigateApp("bizassets"),"android"!=cordova.platformId&&"ios"!==cordova.platformId||StatusBar.backgroundColorByHexString("#b5f9e4")}),500)})).catch((e=>{removeLoader()})))})),$(document).on("click",".prospect-bizdigipal",(function(e){(e.stopImmediatePropagation(),isDoubleClicked($(this)))||(addLoader(),navigateLogsAdd({device_id:crossplat.device.uuid,platform:crossplat.device.platform,app:"bizpal",role:"individual",account_id:sessionStorage.getItem("account_id")}).then((e=>{setTimeout((function(){deviceHelper.navigateApp("bizpal"),"android"!=cordova.platformId&&"ios"!==cordova.platformId||StatusBar.backgroundColorByHexString("#b5f9e4")}),500)})).catch((e=>{removeLoader()})))})),$(document).on("click",".prospect-bizcards",(function(e){(e.stopImmediatePropagation(),isDoubleClicked($(this)))||(addLoader(),navigateLogsAdd({device_id:crossplat.device.uuid,platform:crossplat.device.platform,app:"bizcards",role:"individual",account_id:sessionStorage.getItem("account_id")}).then((e=>{setTimeout((function(){deviceHelper.navigateApp("bizcards"),"android"!=cordova.platformId&&"ios"!==cordova.platformId||StatusBar.backgroundColorByHexString("#b5f9e4")}),500)})).catch((e=>{removeLoader()})))})),$(document).on("click",".prospect-bizpdfkit",(function(e){(e.stopImmediatePropagation(),isDoubleClicked($(this)))||(addLoader(),navigateLogsAdd({device_id:crossplat.device.uuid,platform:crossplat.device.platform,app:"bizpdfkit",role:"individual",account_id:sessionStorage.getItem("account_id")}).then((e=>{setTimeout((function(){deviceHelper.navigateApp("bizpdfkit"),"android"!=cordova.platformId&&"ios"!==cordova.platformId||StatusBar.backgroundColorByHexString("#b5f9e4")}),500)})).catch((e=>{removeLoader()})))})),$(document).on("click",".prospect-bizvoiceit",(function(e){(e.stopImmediatePropagation(),isDoubleClicked($(this)))||(addLoader(),navigateLogsAdd({device_id:crossplat.device.uuid,platform:crossplat.device.platform,app:"bizvoiceit",role:"individual",account_id:sessionStorage.getItem("account_id")}).then((e=>{setTimeout((function(){deviceHelper.navigateApp("bizvoiceit"),"android"!=cordova.platformId&&"ios"!==cordova.platformId||StatusBar.backgroundColorByHexString("#b5f9e4")}),500)})).catch((e=>{removeLoader()})))})),$(document).on("click",".prospect-bizvoiceit-local",(function(e){(e.stopImmediatePropagation(),isDoubleClicked($(this)))||(addLoader(),navigateLogsAdd({device_id:crossplat.device.uuid,platform:crossplat.device.platform,app:"bizvoiceit",role:"individual",account_id:sessionStorage.getItem("account_id")}).then((e=>{setTimeout((function(){deviceHelper.navigateApp("bizvoiceit_local")}),500)})).catch((e=>{removeLoader()})))})),$(document).on("click",".prospect-bizcelfe",(function(e){(e.stopImmediatePropagation(),isDoubleClicked($(this)))||(addLoader(),navigateLogsAdd({device_id:crossplat.device.uuid,platform:crossplat.device.platform,app:"bizcelfe",role:"individual",account_id:sessionStorage.getItem("account_id")}).then((e=>{setTimeout((function(){deviceHelper.navigateApp("bizcelfe"),"android"!=cordova.platformId&&"ios"!==cordova.platformId||StatusBar.backgroundColorByHexString("#b5f9e4")}),500)})).catch((e=>{removeLoader()})))})),$(document).on("click",".prospect-wittily",(function(e){(e.stopImmediatePropagation(),isDoubleClicked($(this)))||(addLoader(),navigateLogsAdd({device_id:crossplat.device.uuid,platform:crossplat.device.platform,app:"wittily",role:"individual",account_id:sessionStorage.getItem("account_id")}).then((e=>{setTimeout((function(){deviceHelper.navigateApp("wittily"),"android"!=cordova.platformId&&"ios"!==cordova.platformId||StatusBar.backgroundColorByHexString("#b5f9e4")}),500)})).catch((e=>{removeLoader()})))})),$(document).on("click",".prospect-product360",(function(e){(e.stopImmediatePropagation(),isDoubleClicked($(this)))||(addLoader(),navigateLogsAdd({device_id:crossplat.device.uuid,platform:crossplat.device.platform,app:"product360",role:"individual",account_id:sessionStorage.getItem("account_id")}).then((e=>{setTimeout((function(){deviceHelper.navigateApp("product360"),"android"!=cordova.platformId&&"ios"!==cordova.platformId||StatusBar.backgroundColorByHexString("#b5f9e4")}),500)})).catch((e=>{removeLoader()})))})),$(document).on("click",".prospect-trusted",(function(e){(e.stopImmediatePropagation(),isDoubleClicked($(this)))||(addLoader(),navigateLogsAdd({device_id:crossplat.device.uuid,platform:crossplat.device.platform,app:"trusted",role:"individual",account_id:sessionStorage.getItem("account_id")}).then((e=>{setTimeout((function(){deviceHelper.navigateApp("trusted"),"android"!=cordova.platformId&&"ios"!==cordova.platformId||StatusBar.backgroundColorByHexString("#b5f9e4")}),500)})).catch((e=>{removeLoader()})))})),$(document).on("click",".prospect-channels",(function(e){(e.stopImmediatePropagation(),isDoubleClicked($(this)))||(addLoader(),navigateLogsAdd({device_id:crossplat.device.uuid,platform:crossplat.device.platform,app:"channel",role:"individual",account_id:sessionStorage.getItem("account_id")}).then((e=>{setTimeout((function(){deviceHelper.navigateApp("channel"),"android"!=cordova.platformId&&"ios"!==cordova.platformId||StatusBar.backgroundColorByHexString("#b5f9e4")}),500)})).catch((e=>{removeLoader()})))})),$(document).on("click",".prospect-bizcontacts",(function(e){(e.stopImmediatePropagation(),isDoubleClicked($(this)))||(addLoader(),navigateLogsAdd({device_id:crossplat.device.uuid,platform:crossplat.device.platform,app:"bizcontacts",role:"individual",account_id:sessionStorage.getItem("account_id")}).then((e=>{setTimeout((function(){deviceHelper.navigateApp("bizcontacts"),"android"!=cordova.platformId&&"ios"!==cordova.platformId||StatusBar.backgroundColorByHexString("#b5f9e4")}),500)})).catch((e=>{removeLoader()})))})),$(document).on("click",".prospect-bizgroups",(function(e){(e.stopImmediatePropagation(),isDoubleClicked($(this)))||(addLoader(),navigateLogsAdd({device_id:crossplat.device.uuid,platform:crossplat.device.platform,app:"bizgroups",role:"individual",account_id:sessionStorage.getItem("account_id")}).then((e=>{setTimeout((function(){deviceHelper.navigateApp("bizgroups"),"android"!=cordova.platformId&&"ios"!==cordova.platformId||StatusBar.backgroundColorByHexString("#b5f9e4")}),500)})).catch((e=>{removeLoader()})))})),$(document).on("click",".prospect-multi",(function(e){(e.stopImmediatePropagation(),isDoubleClicked($(this)))||(addLoader(),navigateLogsAdd({device_id:crossplat.device.uuid,platform:crossplat.device.platform,app:"multi",role:"individual",account_id:sessionStorage.getItem("account_id")}).then((e=>{setTimeout((function(){deviceHelper.navigateApp("multi"),"android"!=cordova.platformId&&"ios"!==cordova.platformId||StatusBar.backgroundColorByHexString("#b5f9e4")}),500)})).catch((e=>{removeLoader()})))})),$(document).on("click","#activate-role-hub-page-alert-cancel",(function(){sessionStorage.removeItem("role"),sessionStorage.removeItem("notify_business_id"),sessionStorage.removeItem("notify_owner_id"),sessionStorage.removeItem("notify_id"),sessionStorage.removeItem("notify_type"),sessionStorage.removeItem("notify_identifier_id"),sessionStorage.removeItem("notify_customer_id"),$("#activate-role-hub-page").remove()})),$(document).on("click","#activate-role-hub-page-alert-ok",(function(){$("#activate-role-hub-page").remove(),sessionStorage.getItem("account_id")?location.hash="digibiz/account/role_update":location.hash="digibiz/account"})),$(document).on("click","#digibiz-notification-accept-btn",(function(){addLoader();var e=$(this),t=$(e).parent(".accept_reject_wrap").attr("data-notification-id"),i=$(e).parent(".accept_reject_wrap").attr("data-owner-id"),a=$(e).parent(".accept_reject_wrap").attr("data-business-id"),o=$(e).parent(".accept_reject_wrap").attr("data-type");accountGet({device_id:crossplat.device.uuid,user_id:sessionStorage.getItem("user_id")}).then((s=>{if(sessionStorage.setItem("account_id",s.id),"employee"==o)"active"==s.roles.employee?notificationChangeStatus({device_id:crossplat.device.uuid,notification_id:t,action:"accepted",type:o}).then((e=>{"accepted"==e.contact.status.status?employeeAdd({device_id:crossplat.device.uuid,adder_user_id:i,business_id:a,notification_id:t}).then((e=>{sockets.digibizSocket.emit("joinroom",sessionStorage.getItem("socketID")),Materialize.toast("Successfully accepted",3e3,"round success-alert"),removeLoader()})).catch((e=>{Materialize.toast("Error in accepting",3e3,"round success-alert"),removeLoader()})):removeLoader()})).catch((e=>{removeLoader()})):(removeLoader(),sessionStorage.setItem("role","employee"),sessionStorage.setItem("notify_business_id",a),sessionStorage.setItem("notify_owner_id",i),sessionStorage.setItem("notify_id",t),sessionStorage.setItem("notify_type",o),updateDigibizAccount({device_id:crossplat.device.uuid,id:sessionStorage.getItem("account_id"),role:sessionStorage.getItem("role"),status:"active"}).then((e=>{if(sessionStorage.getItem("notify_id"))acceptNotification();else if("administrator"==sessionStorage.getItem("role"))sessionStorage.removeItem("role"),location.hash="business_owner/business/list";else if("employee"==sessionStorage.getItem("role"))sessionStorage.removeItem("role"),location.hash="employee/business/list";else if("customer"==sessionStorage.getItem("role"))sessionStorage.removeItem("role"),location.hash="customer/business/list";else if("prospect"==sessionStorage.getItem("role")){sessionStorage.removeItem("role"),addJeeviAccount({device_id:crossplat.device.uuid,account_id:e.id}).then((e=>{sessionStorage.setItem("digibiz_storage_selection","first"),location.hash="digibiz/account/storage"})).catch((e=>{}))}})).catch((e=>{removeLoader(),Materialize.toast("Error! Please try again later",3e3,"round error-alert")})));else if("customer"==o||"associate_customer"==o)if("active"==s.roles.customer){notificationChangeStatus({device_id:crossplat.device.uuid,notification_id:t,action:"accepted",type:o}).then((s=>{if("accepted"==s.contact.status.status){if("customer"==o){var r=$(e).parent(".accept_reject_wrap").attr("data-identifier-id");customerAdd({device_id:crossplat.device.uuid,identifier_id:r,adder_user_id:i,business_id:a,notification_id:t}).then((e=>{businessList({device_id:crossplat.device.uuid,list_by:"customer"}).then((e=>{digibiz.customer_business_list=removeDuplicatesFromMultipleProperties(digibiz.customer_business_list.concat(e),"customer_id","type")})).catch((e=>{console.log("err")})),$(".customer-role-btn").removeClass("hide"),Materialize.toast("Successfully accepted",3e3,"round success-alert"),removeLoader()})).catch((e=>{Materialize.toast("Error in accepting",3e3,"round success-alert"),removeLoader()}))}else if("associate_customer"==o){var n=$(e).parent(".accept_reject_wrap").attr("data-customer-id");associateCustomerAdd({device_id:crossplat.device.uuid,adder_user_id:i,customer_id:n,business_id:a,notification_id:t}).then((e=>{Materialize.toast("Successfully accepted",3e3,"round success-alert"),removeLoader()})).catch((e=>{Materialize.toast("Error in accepting",3e3,"round success-alert"),removeLoader()}))}}else removeLoader()})).catch((e=>{removeLoader()}))}else{if(removeLoader(),"customer"==o){var r=$(e).parent(".accept_reject_wrap").attr("data-identifier-id");sessionStorage.setItem("notify_identifier_id",r)}else if("associate_customer"==o){var n=$(e).parent(".accept_reject_wrap").attr("data-customer-id");sessionStorage.setItem("notify_customer_id",n)}sessionStorage.setItem("role","customer"),sessionStorage.setItem("notify_business_id",a),sessionStorage.setItem("notify_owner_id",i),sessionStorage.setItem("notify_id",t),sessionStorage.setItem("notify_type",o),updateDigibizAccount({device_id:crossplat.device.uuid,id:sessionStorage.getItem("account_id"),role:sessionStorage.getItem("role"),status:"active"}).then((e=>{if(sessionStorage.getItem("notify_id"))acceptNotification();else if("administrator"==sessionStorage.getItem("role"))sessionStorage.removeItem("role"),location.hash="business_owner/business/list";else if("employee"==sessionStorage.getItem("role"))sessionStorage.removeItem("role"),location.hash="employee/business/list";else if("customer"==sessionStorage.getItem("role"))sessionStorage.removeItem("role"),location.hash="customer/business/list";else if("prospect"==sessionStorage.getItem("role")){sessionStorage.removeItem("role"),addJeeviAccount({device_id:crossplat.device.uuid,account_id:e.id}).then((e=>{sessionStorage.setItem("digibiz_storage_selection","first"),location.hash="digibiz/account/storage"})).catch((e=>{}))}})).catch((e=>{removeLoader(),Materialize.toast("Error! Please try again later",3e3,"round error-alert")}))}else if("super_admin"==o){if("active"==s.roles.employee&&"active"==s.roles.administrator)notificationChangeStatus({device_id:crossplat.device.uuid,notification_id:t,action:"accepted",type:o}).then((e=>{"accepted"==e.contact.status.status?businessSuperAdminAdd({device_id:crossplat.device.uuid,notification_id:t,business_id:a}).then((e=>{Materialize.toast("Successfully accepted",3e3,"round success-alert"),removeLoader()})).catch((e=>{Materialize.toast("Error in accepting",3e3,"round success-alert"),removeLoader()})):removeLoader()})).catch((e=>{removeLoader()}));else if("active"==s.roles.employee)if("active"==s.roles.administrator)notificationChangeStatus({device_id:crossplat.device.uuid,notification_id:t,action:"accepted",type:o}).then((e=>{"accepted"==e.contact.status.status?businessSuperAdminAdd({device_id:crossplat.device.uuid,notification_id:t,business_id:a}).then((e=>{Materialize.toast("Successfully accepted",3e3,"round success-alert"),removeLoader()})).catch((e=>{Materialize.toast("Error in accepting",3e3,"round success-alert"),removeLoader()})):removeLoader()})).catch((e=>{removeLoader()}));else removeLoader(),sessionStorage.setItem("role","administrator"),sessionStorage.setItem("notify_business_id",a),sessionStorage.setItem("notify_id",t),sessionStorage.setItem("notify_type",o),updateDigibizAccount({device_id:crossplat.device.uuid,id:sessionStorage.getItem("account_id"),role:sessionStorage.getItem("role"),status:"active"}).then((e=>{if(sessionStorage.getItem("notify_id"))acceptNotification();else if("administrator"==sessionStorage.getItem("role"))sessionStorage.removeItem("role"),location.hash="business_owner/business/list";else if("employee"==sessionStorage.getItem("role"))sessionStorage.removeItem("role"),location.hash="employee/business/list";else if("customer"==sessionStorage.getItem("role"))sessionStorage.removeItem("role"),location.hash="customer/business/list";else if("prospect"==sessionStorage.getItem("role")){sessionStorage.removeItem("role"),addJeeviAccount({device_id:crossplat.device.uuid,account_id:e.id}).then((e=>{sessionStorage.setItem("digibiz_storage_selection","first"),location.hash="digibiz/account/storage"})).catch((e=>{}))}})).catch((e=>{removeLoader(),Materialize.toast("Error! Please try again later",3e3,"round error-alert")}));else removeLoader(),sessionStorage.setItem("role","employee"),sessionStorage.setItem("notify_business_id",a),sessionStorage.setItem("notify_owner_id",i),sessionStorage.setItem("notify_id",t),sessionStorage.setItem("notify_type",o),updateDigibizAccount({device_id:crossplat.device.uuid,id:sessionStorage.getItem("account_id"),role:sessionStorage.getItem("role"),status:"active"}).then((e=>{if(sessionStorage.getItem("notify_id"))acceptNotification();else if("administrator"==sessionStorage.getItem("role"))sessionStorage.removeItem("role"),location.hash="business_owner/business/list";else if("employee"==sessionStorage.getItem("role"))sessionStorage.removeItem("role"),location.hash="employee/business/list";else if("customer"==sessionStorage.getItem("role"))sessionStorage.removeItem("role"),location.hash="customer/business/list";else if("prospect"==sessionStorage.getItem("role")){sessionStorage.removeItem("role"),addJeeviAccount({device_id:crossplat.device.uuid,account_id:e.id}).then((e=>{sessionStorage.setItem("digibiz_storage_selection","first"),location.hash="digibiz/account/storage"})).catch((e=>{}))}})).catch((e=>{removeLoader(),Materialize.toast("Error! Please try again later",3e3,"round error-alert")}))}})).catch((e=>{if(removeLoader(),"employee"==o)sessionStorage.setItem("role","employee"),sessionStorage.setItem("notify_business_id",a),sessionStorage.setItem("notify_owner_id",i),sessionStorage.setItem("notify_id",t),sessionStorage.setItem("notify_type",o),updateDigibizAccount({device_id:crossplat.device.uuid,id:sessionStorage.getItem("account_id"),role:sessionStorage.getItem("role"),status:"active"}).then((e=>{if(sessionStorage.getItem("notify_id"))acceptNotification();else if("administrator"==sessionStorage.getItem("role"))sessionStorage.removeItem("role"),location.hash="business_owner/business/list";else if("employee"==sessionStorage.getItem("role"))sessionStorage.removeItem("role"),location.hash="employee/business/list";else if("customer"==sessionStorage.getItem("role"))sessionStorage.removeItem("role"),location.hash="customer/business/list";else if("prospect"==sessionStorage.getItem("role")){sessionStorage.removeItem("role"),addJeeviAccount({device_id:crossplat.device.uuid,account_id:e.id}).then((e=>{sessionStorage.setItem("digibiz_storage_selection","first"),location.hash="digibiz/account/storage"})).catch((e=>{}))}})).catch((e=>{removeLoader(),Materialize.toast("Error! Please try again later",3e3,"round error-alert")}));else if("customer"==o||"associate_customer"==o){sessionStorage.setItem("role","customer"),sessionStorage.setItem("notify_business_id",a),sessionStorage.setItem("notify_owner_id",i),sessionStorage.setItem("notify_id",t),sessionStorage.setItem("notify_type",o),updateDigibizAccount({device_id:crossplat.device.uuid,id:sessionStorage.getItem("account_id"),role:sessionStorage.getItem("role"),status:"active"}).then((e=>{if(sessionStorage.getItem("notify_id"))acceptNotification();else if("administrator"==sessionStorage.getItem("role"))sessionStorage.removeItem("role"),location.hash="business_owner/business/list";else if("employee"==sessionStorage.getItem("role"))sessionStorage.removeItem("role"),location.hash="employee/business/list";else if("customer"==sessionStorage.getItem("role"))sessionStorage.removeItem("role"),location.hash="customer/business/list";else if("prospect"==sessionStorage.getItem("role")){sessionStorage.removeItem("role"),addJeeviAccount({device_id:crossplat.device.uuid,account_id:e.id}).then((e=>{sessionStorage.setItem("digibiz_storage_selection","first"),location.hash="digibiz/account/storage"})).catch((e=>{}))}})).catch((e=>{removeLoader(),Materialize.toast("Error! Please try again later",3e3,"round error-alert")}))}else if("super_admin"==o){sessionStorage.setItem("role","administrator"),sessionStorage.setItem("notify_business_id",a),sessionStorage.setItem("notify_id",t),sessionStorage.setItem("notify_type",o),updateDigibizAccount({device_id:crossplat.device.uuid,id:sessionStorage.getItem("account_id"),role:sessionStorage.getItem("role"),status:"active"}).then((e=>{if(sessionStorage.getItem("notify_id"))acceptNotification();else if("administrator"==sessionStorage.getItem("role"))sessionStorage.removeItem("role"),location.hash="business_owner/business/list";else if("employee"==sessionStorage.getItem("role"))sessionStorage.removeItem("role"),location.hash="employee/business/list";else if("customer"==sessionStorage.getItem("role"))sessionStorage.removeItem("role"),location.hash="customer/business/list";else if("prospect"==sessionStorage.getItem("role")){sessionStorage.removeItem("role"),addJeeviAccount({device_id:crossplat.device.uuid,account_id:e.id}).then((e=>{sessionStorage.setItem("digibiz_storage_selection","first"),location.hash="digibiz/account/storage"})).catch((e=>{}))}})).catch((e=>{removeLoader(),Materialize.toast("Error! Please try again later",3e3,"round error-alert")}))}}))})),$(document).on("click","#digibiz-notification-reject-btn",(function(){addLoader();var e=$(this).parent(".accept_reject_wrap").attr("data-notification-id");$(this).parent(".accept_reject_wrap").attr("data-owner-id"),$(this).parent(".accept_reject_wrap").attr("data-business-id"),JSON.parse(sessionStorage.getItem("profile_details"));notificationChangeStatus({device_id:crossplat.device.uuid,notification_id:e,action:"rejected"}).then((e=>{"rejected"==e.contact.status.status&&(Materialize.toast("Successfully rejected",3e3,"round success-alert"),removeLoader())})).catch((e=>{removeLoader()}))})),$(document).on("click",".pending-employee-wrapper",(function(){addLoader();var e=$(this).attr("data-uuid");sessionStorage.setItem("contact_uuid",e),location.hash="employee/notification/details"})),$(document).on("click",".pending-super-admin-wrapper",(function(){addLoader();var e=$(this).attr("data-uuid");sessionStorage.setItem("contact_uuid",e),location.hash="super_admin/notification/details"})),$(document).on("click","#delete-employee-notification",(function(){addLoader();var e=$(this).parents(".employee-notification-details-wrapper").attr("data-notification-id");notificationDelete({device_id:crossplat.device.uuid,notification_id:e}).then((e=>{removeLoader(),$(this).parents(".employee-notification-details-wrapper").remove(),0==$(".employee-notification-details-wrapper").length&&$(".employee-notification-details-list-contentbox").append('<div class="no_data">No data found</div>'),Materialize.toast("Successfully deleted the notification.",3e3,"round success-alert")})).catch((e=>{removeLoader(),Materialize.toast("Error in deleting the notification.",3e3,"round success-alert")}))})),$(document).on("click","#delete-super-admin-notification",(function(){addLoader();var e=$(this).parents(".super-admin-notification-details-wrapper").attr("data-notification-id");notificationDelete({device_id:crossplat.device.uuid,notification_id:e}).then((e=>{removeLoader(),$(this).parents(".super-admin-notification-details-wrapper").remove(),0==$(".super-admin-notification-details-wrapper").length&&$(".super-admin-notification-details-list-contentbox").append('<div class="no_data">No data found</div>'),Materialize.toast("Successfully deleted the notification.",3e3,"round success-alert")})).catch((e=>{removeLoader(),Materialize.toast("Error in deleting the notification.",3e3,"round success-alert")}))})),$(document).on("click","#add-business-btn",(function(e){e.stopPropagation(),addLoader(),digibiz.storages=[],location.hash="business/add"})),$(document).on("click","#create-business-btn",(function(e){e.stopPropagation(),addLoader(),updateDigibizAccount({device_id:crossplat.device.uuid,id:sessionStorage.getItem("account_id"),role:"administrator",status:"active"}).then((e=>{location.hash="business/add"})).catch((e=>{removeLoader()}))})),$(document).on("click",".bussines-forward-btn",(function(){addLoader();var e=$(this),t=$(this).attr("data-present-step");if("employee"==sessionStorage.getItem("digibiz_role"))if("1"==t||1==t)removeLoader(),$(this).attr("data-present-step","2"),$(this).siblings(".bussines-back-btn").attr("data-present-step","2"),$(".business-create-stepper").removeClass("is-active"),$('.business-create-stepper[data-stepper="2"]').addClass("is-active"),$('.business-creation-parts-container[data-step="1"]').addClass("hide"),$('.business-creation-parts-container[data-step="2"]').removeClass("hide"),$(".bussines-back-btn").removeClass("hide");else if("2"==t||2==t){businessGet({device_id:crossplat.device.uuid,id:sessionStorage.getItem("business_id")}).then((t=>{$(e).attr("data-present-step","3"),$(e).siblings(".bussines-back-btn").attr("data-present-step","3"),$(".business-create-stepper").removeClass("is-active"),$('.business-create-stepper[data-stepper="3"]').addClass("is-active"),$('.business-creation-parts-container[data-step="2"]').addClass("hide"),$('.business-creation-parts-container[data-step="3"]').removeClass("hide"),$(".grid.uploaded-multimedia-files").remove(),t.hasOwnProperty("id_proofs")&&t.id_proofs.length>0&&$(".business-add-identity-proof-wrapper").remove();var i=$("#business-type-choose-select-dropdown").val();"sole_proprietorship"==i?($(".business-add-identity-proof-container").removeClass("hide"),$(".business-add-pancard-container").removeClass("hide"),$(".business-add-shop-established-license-container").removeClass("hide"),$(".business-add-gst-container").removeClass("hide"),removeLoader()):"partnership"==i?($(".business-add-identity-proof-container").removeClass("hide"),$(".business-add-pancard-container").removeClass("hide"),$(".business-add-gst-container").removeClass("hide"),$(".business-add-partnership-deed-container").removeClass("hide"),$(".business-add-partnership-registration-certificate-container").removeClass("hide"),removeLoader()):"limited_liability_partnership"==i?($(".business-add-identity-proof-container").removeClass("hide"),$(".business-add-pancard-container").removeClass("hide"),$(".business-add-gst-container").removeClass("hide"),$(".business-add-llp-registration-certificate-container").removeClass("hide"),$(".business-add-transaction-person-container").removeClass("hide"),removeLoader()):"private_limited_company"==i?($(".business-add-identity-proof-container").removeClass("hide"),$(".business-add-pancard-container").removeClass("hide"),$(".business-add-gst-container").removeClass("hide"),$(".business-add-transaction-person-container").removeClass("hide"),$(".business-add-memorandum-of-association-container").removeClass("hide"),$(".business-add-articles-of-association-container").removeClass("hide"),removeLoader()):"public_limited_company"==i||"government_department"==i?($(".business-add-identity-proof-container").removeClass("hide"),$(".business-add-pancard-container").removeClass("hide"),$(".business-add-gst-container").removeClass("hide"),$(".business-add-memorandum-of-association-container").removeClass("hide"),$(".business-add-articles-of-association-container").removeClass("hide"),$(".business-add-transaction-person-container").removeClass("hide"),removeLoader()):"trusts_foundations"==i?($(".business-add-identity-proof-container").removeClass("hide"),$(".business-add-pancard-container").removeClass("hide"),$(".business-add-gst-container").removeClass("hide"),$(".business-add-transaction-person-container").removeClass("hide"),$(".business-add-trust-establishment-license-container").removeClass("hide"),removeLoader()):"co_operative_society_associations"==i&&($(".business-add-identity-proof-container").removeClass("hide"),$(".business-add-pancard-container").removeClass("hide"),$(".business-add-email-container").removeClass("hide"),$(".business-add-address-container").removeClass("hide"),$(".business-add-identity-proof-container").removeClass("hide"),$(".business-add-pancard-container").removeClass("hide"),$(".business-add-gst-container").removeClass("hide"),$(".business-add-llp-registration-certificate-container").removeClass("hide"),$(".business-add-transaction-person-container").removeClass("hide"),removeLoader());(async()=>{t.hasOwnProperty("id_proofs")&&t.id_proofs.length>0?await asyncEach(t.id_proofs,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"identity-proof-load-btn")})):$(".business-add-identity-proof-wrapper").removeClass("hide")})();(async()=>{void 0!==t.pan_card_details&&t.pan_card_details.pan_card_multimedia.length>0&&($('.multimedia-append-container[data-id="pancard-load-btn"]').find(".grid").remove(),await asyncEach(t.pan_card_details.pan_card_multimedia,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"pancard-load-btn")})))})();(async()=>{t.hasOwnProperty("shop_established_license")&&t.shop_established_license.length>0&&await asyncEach(t.shop_established_license,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"shop-established-license-load-btn")}))})();(async()=>{void 0!==t.gst_details&&t.gst_details.gst_multimedia.length>0&&($('.multimedia-append-container[data-id="gst-license-load-btn"]').find(".grid").remove(),await asyncEach(t.gst_details.gst_multimedia,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"gst-license-load-btn")})))})();(async()=>{t.hasOwnProperty("partnership_deed")&&t.partnership_deed.length>0&&await asyncEach(t.partnership_deed,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"partnership-deed-load-btn")}))})();(async()=>{t.hasOwnProperty("partnership_registration_certificate")&&t.partnership_registration_certificate.length>0&&await asyncEach(t.partnership_registration_certificate,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"partnership-registration-certificate-load-btn")}))})();(async()=>{t.hasOwnProperty("llp_registration_certificate")&&t.llp_registration_certificate.length>0&&await asyncEach(t.llp_registration_certificate,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"llp-registration-certificate-load-btn")}))})();(async()=>{t.hasOwnProperty("transaction_person")&&t.transaction_person.length>0&&await asyncEach(t.transaction_person,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"transaction-person-load-btn")}))})();(async()=>{t.hasOwnProperty("memorandum_of_association")&&t.memorandum_of_association.length>0&&await asyncEach(t.memorandum_of_association,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"memorandum-of-association-load-btn")}))})();(async()=>{t.hasOwnProperty("article_of_association")&&t.article_of_association.length>0&&await asyncEach(t.article_of_association,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"articles-of-association-load-btn")}))})();(async()=>{t.hasOwnProperty("trust_foundation_established_licence")&&t.trust_foundation_established_licence.length>0&&await asyncEach(t.trust_foundation_established_licence,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"trust-establishment-license-load-btn")}))})()})).catch((e=>{}))}else"3"==t||3==t?($(this).attr("data-present-step","4"),$(this).siblings(".bussines-back-btn").attr("data-present-step","4"),$(".business-create-stepper").removeClass("is-active"),$('.business-create-stepper[data-stepper="4"]').addClass("is-active"),$('.business-creation-parts-container[data-step="3"]').addClass("hide"),$('.business-creation-parts-container[data-step="4"]').removeClass("hide"),removeLoader()):"4"==t||4==t?($(this).attr("data-present-step","5"),$(this).siblings(".bussines-back-btn").attr("data-present-step","5"),$(".business-create-stepper").removeClass("is-active"),$('.business-create-stepper[data-stepper="5"]').addClass("is-active"),$('.business-creation-parts-container[data-step="4"]').addClass("hide"),$('.business-creation-parts-container[data-step="5"]').removeClass("hide"),removeLoader()):"5"!=t&&5!=t||($(this).attr("data-present-step","6"),$(this).siblings(".bussines-back-btn").attr("data-present-step","6"),$(this).addClass("hide"),$(".business-create-stepper").removeClass("is-active"),$('.business-create-stepper[data-stepper="6"]').addClass("is-active"),$('.business-creation-parts-container[data-step="5"]').addClass("hide"),$('.business-creation-parts-container[data-step="6"]').removeClass("hide"),removeLoader());else if("1"==t||1==t)if(validateBusinessStepOne()){$(".selected-value-business-type").attr("data-value");var i=$(".selected-value-business-type").attr("data-id"),a=$("#business_name").text().trim(),o=$("#business_display_name").text().trim(),s=$("#business_tag_line").text().trim(),r=$("#business_status_line").text().trim();if(sessionStorage.getItem("business_id")&&null!=sessionStorage.getItem("business_id")&&null!=sessionStorage.getItem("business_id"))businessUpdate({device_id:crossplat.device.uuid,id:sessionStorage.getItem("business_id"),data:{name:firstLetterUpperCase(a),display_name:o,tag_line:firstLetterUpperCase(s),status_line:firstLetterUpperCase(r)}}).then((e=>{removeLoader(),$(this).attr("data-present-step","2"),$(this).siblings(".bussines-back-btn").attr("data-present-step","2"),$(".business-create-stepper").removeClass("is-active"),$('.business-create-stepper[data-stepper="2"]').addClass("is-active"),$('.business-creation-parts-container[data-step="1"]').addClass("hide"),$('.business-creation-parts-container[data-step="2"]').removeClass("hide"),$(".bussines-back-btn").removeClass("hide")})).catch((e=>{"no updated data found"==e.msg?(removeLoader(),$(this).attr("data-present-step","2"),$(this).siblings(".bussines-back-btn").attr("data-present-step","2"),$(".business-create-stepper").removeClass("is-active"),$('.business-create-stepper[data-stepper="2"]').addClass("is-active"),$('.business-creation-parts-container[data-step="1"]').addClass("hide"),$('.business-creation-parts-container[data-step="2"]').removeClass("hide"),$(".bussines-back-btn").removeClass("hide")):(removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert"))}));else businessAdd({device_id:crossplat.device.uuid,name:firstLetterUpperCase(a),display_name:o,business_type_id:i,tag_line:firstLetterUpperCase(s),status_line:firstLetterUpperCase(r),status:"pending"}).then((e=>{removeLoader(),sessionStorage.setItem("business_id",e.id),$(this).attr("data-present-step","2"),$(this).siblings(".bussines-back-btn").attr("data-present-step","2"),$(".business-create-stepper").removeClass("is-active"),$('.business-create-stepper[data-stepper="2"]').addClass("is-active"),$('.business-creation-parts-container[data-step="1"]').addClass("hide"),$('.business-creation-parts-container[data-step="2"]').removeClass("hide"),$(".bussines-back-btn").removeClass("hide"),$("#business-type-choose-select-dropdown").prop("disabled",!0)})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))}else removeLoader(),Materialize.toast("Please check the data in step-1",3e3,"round success-alert");else if("2"==t||2==t)if(validateBusinessStepTwo()){var n=$("#business_contact_name").text(),d=$("#business_contact_number").intlTelInput("getNumber"),c=$("#business_alternate_contact_number").intlTelInput("getNumber"),l=$("#business_email").text(),p=$("#business_alternate_email").text(),m=[],u=$(".address_text_box"),g=$("#business_date_of_commencement").val().trim(),_=$("#business_date_of_incorporation").val().trim();$.each(u,(function(e,t){""!=$(t).parents(".business-add-address-wrapper").find(".selected-value-business-address").attr("data-value")&&""!=$(t).text()&&m.push({address_type:$(t).parents(".business-add-address-wrapper").find(".selected-value-business-address").attr("data-value"),address_data:firstLetterUpperCase($(t).text())})})),businessUpdate({device_id:crossplat.device.uuid,id:sessionStorage.getItem("business_id"),data:{contact_name:firstLetterUpperCase(n),contact_number:d,alternate_contact_number:c,e_mail:l,alternate_e_mail:p,address:m,date_of_commencement:g,date_of_incorporation:_}}).then((t=>{sessionStorage.removeItem("business_upload_for"),$(e).attr("data-present-step","3"),$(e).siblings(".bussines-back-btn").attr("data-present-step","3"),$(".business-create-stepper").removeClass("is-active"),$('.business-create-stepper[data-stepper="3"]').addClass("is-active"),$('.business-creation-parts-container[data-step="2"]').addClass("hide"),$('.business-creation-parts-container[data-step="3"]').removeClass("hide"),$(".grid.uploaded-multimedia-files").remove(),t.hasOwnProperty("id_proofs")&&t.id_proofs.length>0&&$(".business-add-identity-proof-wrapper").remove();var i=$(".selected-value-business-type").attr("data-value");"sole_proprietorship"==i?($(".business-add-identity-proof-container").removeClass("hide"),$(".business-add-pancard-container").removeClass("hide"),$(".business-add-shop-established-license-container").removeClass("hide"),$(".business-add-gst-container").removeClass("hide"),removeLoader()):"partnership"==i?($(".business-add-identity-proof-container").removeClass("hide"),$(".business-add-pancard-container").removeClass("hide"),$(".business-add-gst-container").removeClass("hide"),$(".business-add-partnership-deed-container").removeClass("hide"),$(".business-add-partnership-registration-certificate-container").removeClass("hide"),removeLoader()):"limited_liability_partnership"==i?($(".business-add-identity-proof-container").removeClass("hide"),$(".business-add-pancard-container").removeClass("hide"),$(".business-add-gst-container").removeClass("hide"),$(".business-add-llp-registration-certificate-container").removeClass("hide"),$(".business-add-transaction-person-container").removeClass("hide"),removeLoader()):"private_limited_company"==i?($(".business-add-identity-proof-container").removeClass("hide"),$(".business-add-pancard-container").removeClass("hide"),$(".business-add-gst-container").removeClass("hide"),$(".business-add-transaction-person-container").removeClass("hide"),$(".business-add-memorandum-of-association-container").removeClass("hide"),$(".business-add-articles-of-association-container").removeClass("hide"),removeLoader()):"public_limited_company"==i||"government_department"==i?($(".business-add-identity-proof-container").removeClass("hide"),$(".business-add-pancard-container").removeClass("hide"),$(".business-add-gst-container").removeClass("hide"),$(".business-add-memorandum-of-association-container").removeClass("hide"),$(".business-add-articles-of-association-container").removeClass("hide"),$(".business-add-transaction-person-container").removeClass("hide"),removeLoader()):"trusts_foundations"==i?($(".business-add-identity-proof-container").removeClass("hide"),$(".business-add-pancard-container").removeClass("hide"),$(".business-add-gst-container").removeClass("hide"),$(".business-add-transaction-person-container").removeClass("hide"),$(".business-add-trust-establishment-license-container").removeClass("hide"),removeLoader()):"co_operative_society_associations"==i&&($(".business-add-identity-proof-container").removeClass("hide"),$(".business-add-pancard-container").removeClass("hide"),$(".business-add-email-container").removeClass("hide"),$(".business-add-address-container").removeClass("hide"),$(".business-add-identity-proof-container").removeClass("hide"),$(".business-add-pancard-container").removeClass("hide"),$(".business-add-gst-container").removeClass("hide"),$(".business-add-llp-registration-certificate-container").removeClass("hide"),$(".business-add-transaction-person-container").removeClass("hide"),removeLoader());(async()=>{t.hasOwnProperty("id_proofs")&&t.id_proofs.length>0?await asyncEach(t.id_proofs,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"identity-proof-load-btn")})):$(".business-add-identity-proof-wrapper").removeClass("hide")})();(async()=>{void 0!==t.pan_card_details&&t.pan_card_details.pan_card_multimedia.length>0&&($('.multimedia-append-container[data-id="pancard-load-btn"]').find(".grid").remove(),await asyncEach(t.pan_card_details.pan_card_multimedia,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"pancard-load-btn")})))})();(async()=>{t.hasOwnProperty("shop_established_license")&&t.shop_established_license.length>0&&await asyncEach(t.shop_established_license,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"shop-established-license-load-btn")}))})();(async()=>{void 0!==t.gst_details&&t.gst_details.gst_multimedia.length>0&&($('.multimedia-append-container[data-id="gst-license-load-btn"]').find(".grid").remove(),await asyncEach(t.gst_details.gst_multimedia,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"gst-license-load-btn")})))})();(async()=>{t.hasOwnProperty("partnership_deed")&&t.partnership_deed.length>0&&await asyncEach(t.partnership_deed,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"partnership-deed-load-btn")}))})();(async()=>{t.hasOwnProperty("partnership_registration_certificate")&&t.partnership_registration_certificate.length>0&&await asyncEach(t.partnership_registration_certificate,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"partnership-registration-certificate-load-btn")}))})();(async()=>{t.hasOwnProperty("llp_registration_certificate")&&t.llp_registration_certificate.length>0&&await asyncEach(t.llp_registration_certificate,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"llp-registration-certificate-load-btn")}))})();(async()=>{t.hasOwnProperty("transaction_person")&&t.transaction_person.length>0&&await asyncEach(t.transaction_person,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"transaction-person-load-btn")}))})();(async()=>{t.hasOwnProperty("memorandum_of_association")&&t.memorandum_of_association.length>0&&await asyncEach(t.memorandum_of_association,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"memorandum-of-association-load-btn")}))})();(async()=>{t.hasOwnProperty("article_of_association")&&t.article_of_association.length>0&&await asyncEach(t.article_of_association,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"articles-of-association-load-btn")}))})();(async()=>{t.hasOwnProperty("trust_foundation_established_licence")&&t.trust_foundation_established_licence.length>0&&await asyncEach(t.trust_foundation_established_licence,(async(e,t)=>{await getUploadedBusinessMultimedia(e,"trust-establishment-license-load-btn")}))})()})).catch((e=>{sessionStorage.removeItem("business_upload_for"),"no updated data found"==e.msg&&removeLoader()}))}else removeLoader();else if("3"==t||3==t){businessGet({device_id:crossplat.device.uuid,id:sessionStorage.getItem("business_id")}).then((e=>{validateBusinessStepThree(e)?($(this).attr("data-present-step","4"),$(this).siblings(".bussines-back-btn").attr("data-present-step","4"),$(".business-create-stepper").removeClass("is-active"),$('.business-create-stepper[data-stepper="4"]').addClass("is-active"),$('.business-creation-parts-container[data-step="3"]').addClass("hide"),$('.business-creation-parts-container[data-step="4"]').removeClass("hide"),removeLoader()):removeLoader()})).catch((e=>{removeLoader()}))}else if("4"==t||4==t){var f;if($("#filled-in-box-business-cloud-folder-customer").is(":disabled"))$(this).attr("data-present-step","5"),$(this).siblings(".bussines-back-btn").attr("data-present-step","5"),$(".business-create-stepper").removeClass("is-active"),$('.business-create-stepper[data-stepper="5"]').addClass("is-active"),$('.business-creation-parts-container[data-step="4"]').addClass("hide"),$('.business-creation-parts-container[data-step="5"]').removeClass("hide"),removeLoader();else f=!!$("#filled-in-box-business-cloud-folder-customer").is(":checked"),businessUpdate({device_id:crossplat.device.uuid,id:sessionStorage.getItem("business_id"),data:{customer_cloud_folder:f}}).then((e=>{$(this).attr("data-present-step","5"),$(this).siblings(".bussines-back-btn").attr("data-present-step","5"),$(".business-create-stepper").removeClass("is-active"),$('.business-create-stepper[data-stepper="5"]').addClass("is-active"),$('.business-creation-parts-container[data-step="4"]').addClass("hide"),$('.business-creation-parts-container[data-step="5"]').removeClass("hide"),removeLoader()})).catch((e=>{$(this).attr("data-present-step","5"),$(this).siblings(".bussines-back-btn").attr("data-present-step","5"),$(".business-create-stepper").removeClass("is-active"),$('.business-create-stepper[data-stepper="5"]').addClass("is-active"),$('.business-creation-parts-container[data-step="4"]').addClass("hide"),$('.business-creation-parts-container[data-step="5"]').removeClass("hide"),removeLoader()}))}else if("5"==t||5==t){businessGet({device_id:crossplat.device.uuid,id:sessionStorage.getItem("business_id")}).then((e=>{validateBusinessStepFour(e)?checkBusinessActiveStorage((function(){$(this).attr("data-present-step","6"),$(this).siblings(".bussines-back-btn").attr("data-present-step","6"),$(this).addClass("hide"),$(".register-bussines-btn").removeClass("hide"),$(".business-create-stepper").removeClass("is-active"),$('.business-create-stepper[data-stepper="6"]').addClass("is-active"),$('.business-creation-parts-container[data-step="5"]').addClass("hide"),$('.business-creation-parts-container[data-step="6"]').removeClass("hide"),removeLoader()})):removeLoader()})).catch((e=>{removeLoader()}))}})),$(document).on("click",".bussines-back-btn",(function(){addLoader();var e=$(this).attr("data-present-step");if("6"==e||6==e)$(this).attr("data-present-step","5"),$(this).siblings(".bussines-forward-btn").attr("data-present-step","5"),$(".business-create-stepper").removeClass("is-active"),$('.business-create-stepper[data-stepper="5"]').addClass("is-active"),$('.business-creation-parts-container[data-step="6"]').addClass("hide"),$('.business-creation-parts-container[data-step="5"]').removeClass("hide"),$(this).siblings(".bussines-forward-btn").removeClass("hide"),$(".register-bussines-btn").addClass("hide"),removeLoader();else if("5"==e||5==e)$(this).attr("data-present-step","4"),$(this).siblings(".bussines-forward-btn").attr("data-present-step","4"),$(".business-create-stepper").removeClass("is-active"),$('.business-create-stepper[data-stepper="4"]').addClass("is-active"),$('.business-creation-parts-container[data-step="5"]').addClass("hide"),$('.business-creation-parts-container[data-step="4"]').removeClass("hide"),$(this).siblings(".bussines-forward-btn").removeClass("hide"),$(".register-bussines-btn").addClass("hide"),removeLoader();else if("4"==e||4==e){$(this).attr("data-present-step","3"),$(this).siblings(".bussines-forward-btn").attr("data-present-step","3"),$(".business-create-stepper").removeClass("is-active"),$('.business-create-stepper[data-stepper="3"]').addClass("is-active"),$('.business-creation-parts-container[data-step="4"]').addClass("hide"),$('.business-creation-parts-container[data-step="3"]').removeClass("hide"),$(".register-bussines-btn").addClass("hide"),$(this).siblings(".bussines-forward-btn").removeClass("hide");var t=$(".selected-value-business-type").attr("data-value");"sole_proprietorship"==t?($(".business-add-identity-proof-container").removeClass("hide"),$(".business-add-pancard-container").removeClass("hide"),$(".business-add-shop-established-license-container").removeClass("hide"),$(".business-add-gst-container").removeClass("hide"),removeLoader()):"partnership"==t?($(".business-add-identity-proof-container").removeClass("hide"),$(".business-add-pancard-container").removeClass("hide"),$(".business-add-gst-container").removeClass("hide"),$(".business-add-partnership-deed-container").removeClass("hide"),$(".business-add-partnership-registration-certificate-container").removeClass("hide"),removeLoader()):"limited_liability_partnership"==t?($(".business-add-identity-proof-container").removeClass("hide"),$(".business-add-pancard-container").removeClass("hide"),$(".business-add-gst-container").removeClass("hide"),$(".business-add-llp-registration-certificate-container").removeClass("hide"),$(".business-add-transaction-person-container").removeClass("hide"),removeLoader()):"private_limited_company"==t?($(".business-add-identity-proof-container").removeClass("hide"),$(".business-add-pancard-container").removeClass("hide"),$(".business-add-gst-container").removeClass("hide"),$(".business-add-transaction-person-container").removeClass("hide"),$(".business-add-memorandum-of-association-container").removeClass("hide"),$(".business-add-articles-of-association-container").removeClass("hide"),removeLoader()):"public_limited_company"==t||"government_department"==t?($(".business-add-identity-proof-container").removeClass("hide"),$(".business-add-pancard-container").removeClass("hide"),$(".business-add-gst-container").removeClass("hide"),$(".business-add-memorandum-of-association-container").removeClass("hide"),removeLoader()):"trusts_foundations"==t?($(".business-add-identity-proof-container").removeClass("hide"),$(".business-add-pancard-container").removeClass("hide"),$(".business-add-gst-container").removeClass("hide"),$(".business-add-transaction-person-container").removeClass("hide"),$(".business-add-trust-establishment-license-container").removeClass("hide"),removeLoader()):"co_operative_society_associations"==t&&($(".business-add-identity-proof-container").removeClass("hide"),$(".business-add-pancard-container").removeClass("hide"),$(".business-add-email-container").removeClass("hide"),$(".business-add-address-container").removeClass("hide"),$(".business-add-identity-proof-container").removeClass("hide"),$(".business-add-pancard-container").removeClass("hide"),$(".business-add-gst-container").removeClass("hide"),$(".business-add-llp-registration-certificate-container").removeClass("hide"),$(".business-add-transaction-person-container").removeClass("hide"),removeLoader())}else"3"==e||3==e?($(this).attr("data-present-step","2"),$(this).siblings(".bussines-forward-btn").attr("data-present-step","2"),$(".business-create-stepper").removeClass("is-active"),$('.business-create-stepper[data-stepper="2"]').addClass("is-active"),$('.business-creation-parts-container[data-step="3"]').addClass("hide"),$('.business-creation-parts-container[data-step="2"]').removeClass("hide"),removeLoader()):"2"!=e&&2!=e||($(this).attr("data-present-step","1"),$(this).siblings(".bussines-forward-btn").attr("data-present-step","1"),$(".business-create-stepper").removeClass("is-active"),$('.business-create-stepper[data-stepper="1"]').addClass("is-active"),$('.business-creation-parts-container[data-step="2"]').addClass("hide"),$('.business-creation-parts-container[data-step="1"]').removeClass("hide"),$(this).addClass("hide"),removeLoader())})),$(document).on("click",".view-business",(function(){addLoader(),sessionStorage.removeItem("business_status");var e=$(this).parents(".business-wrapper").attr("data-status"),t=$(this).parents(".business-wrapper").attr("data-socket-status"),i=$(this).parents(".business-wrapper").attr("data-business-id"),a=$(this).parents(".business-wrapper").find(".business-name span").text();if("self-verified"==e||"inactive_pending"==e){var o={device_id:crossplat.device.uuid,selected:!0,id:i,type:"business"};fetch.apiCall((function(e,o,s){"success"===o?(sessionStorage.setItem("business_id",i),sessionStorage.setItem("business_name",a),sessionStorage.setItem("business_profile_socket_status",t),location.hash="business/management"):(sessionStorage.setItem("business_id",i),sessionStorage.setItem("business_name",a),window.sessionStorage.setItem("business_storage_token",JSON.stringify(e.responseJSON.Data)),location.hash="business/storage")}),api.check_token,"POST","JSON",o)}else if("pending"==e)sessionStorage.setItem("business_id",i),location.hash="business/add";else if("inactive"==e){employeeList({device_id:crossplat.device.uuid,business_id:i,list_by:"super_admin_active_tab"}).then((e=>{null!=e.find((e=>e.account_id==sessionStorage.getItem("account_id")))?(sessionStorage.setItem("business_status","inactive"),sessionStorage.setItem("business_id",i),sessionStorage.setItem("business_name",a),sessionStorage.setItem("business_profile_socket_status",t),location.hash="business/management"):(removeLoader(),Materialize.toast("Business is inactive.",3e3,"round error-alert"))})).catch((e=>{removeLoader()}))}})),$(document).on("click","#btn-business-device-change-cancel-no",(function(){var e;$("#alert-business-device-change-confirm-cancel").remove(),e=digibiz.business_owner_business_list.length>0?"business_owner/business/list":"jeevi/app/hub","business_edit"==$("body").attr("app")?location.hash="business/profile/management":(sessionStorage.removeItem("business_id"),location.hash=e)})),$(document).on("click","#btn-business-device-change-confirm-yes",(function(){addLoader();var e=$("#alert-business-device-change-confirm-cancel").attr("data-business-id");$("#alert-business-device-change-confirm-cancel").remove(),businessDeviceChange({device_id:crossplat.device.uuid,business_id:e}).then((t=>{sessionStorage.getItem("business_id")?($("#alert-business-device-change-confirm-cancel").remove(),businessAddEditReload()):(sessionStorage.setItem("business_id",e),$("#alert-business-device-change-confirm-cancel").remove(),businessAddEditReload())})).catch((e=>{removeLoader()}))})),$(document).on("click","#btn-business-changed-device-ok",(function(){addLoader(),$("#alert-business-changed-device-confirm").remove(),$(".filemanger_container_toggle").removeClass("active"),$(".alert-box-modal").remove(),"business_edit"==$("body").attr("app")?location.hash="business/management":location.hash="business_owner/business/list"})),$(document).on("click",".business_profile_management",(function(){location.hash="business/profile/management"})),$(document).on("click",".business_profile",(function(){addLoader();var e=sessionStorage.getItem("business_profile_socket_status"),t=sessionStorage.getItem("business_id");if("true"==e){var i={device_id:crossplat.device.uuid,selected:!0,id:sessionStorage.getItem("business_id"),type:"business"};fetch.apiCall((function(e,t,i){"success"===t?(reqParam={device_id:crossplat.device.uuid,id:sessionStorage.getItem("business_id"),data:{socket_enable_status:"false"}},businessUpdate(reqParam).then((e=>{removeLoader(),location.hash="business/edit"})).catch((e=>{"no updated data found"==e.msg&&(removeLoader(),location.hash="business/edit")}))):(window.sessionStorage.setItem("business_storage_token",JSON.stringify(e.responseJSON.Data)),location.hash="business/storage")}),api.check_token,"POST","JSON",i)}else{Materialize.toast("Access Denied! You or other administrator is creating this business at other place.",3e3,"round error-alert"),showAlert({alert_id:"alert-business-device-change-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Business Alert",alert_body:"Access Denied! You or other administrator is creating this business at other place. Would to like to cancel there and continue here?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-business-device-change-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-business-device-change-cancel-no"}]}]},(function(){removeLoader(),$("#alert-business-device-change-confirm-cancel").attr("data-business-id",t)}))}})),$(document).on("click",".business_profile_display_control",(function(){addLoader(),location.hash="business_display_control"})),$(document).on("click",".employee-management",(function(){addLoader(),location.hash="employee/management/hub"})),$(document).on("click",".super-admin-management",(function(){(addLoader(),"super_admin"==sessionStorage.getItem("business_role"))?location.hash="super_admin/management/hub":showAlert({alert_id:"access-denied-business-settings-module-alert",alert_platform:crossplat.device.platform,alert_title:"Access Denied",alert_body:"Only super-admins can access the module.",alert_btn:[{name:"OK",attr:[{name:"id",value:"access-denied-business-settings-module-alert-ok"}]}]},(function(){removeLoader()}))})),$(document).on("click","#access-denied-business-settings-module-alert-ok",(function(){$("#access-denied-business-settings-module-alert").remove()})),$(document).on("click",".customer-management",(function(){addLoader(),location.hash="customer/management/hub"})),$(document).on("click",".employee-configurations",(function(){addLoader(),location.hash="employee/configurations"})),$(document).on("click",".employee-types",(function(){addLoader(),digibiz.employee_types_list=[],location.hash="employee/types"})),$(document).on("click",".employee-category",(function(){addLoader(),location.hash="employee/category"})),$(document).on("click",".employee-designation",(function(){addLoader(),location.hash="employee/designation"})),$(document).on("click",".employee-creation",(function(){addLoader(),location.hash="employee_creation/list"})),$(document).on("click",".employee-active-tab",(function(){sessionStorage.setItem("selected-employee-tab","employee_active"),$(".tab-content").removeClass("active"),$(`.tab-content[id="${sessionStorage.getItem("selected-employee-tab")}"`).addClass("active"),$(".tab").removeClass("active"),$(`.tab[data-id="${sessionStorage.getItem("selected-employee-tab")}"]`).addClass("active"),activeEmployeeListPage()})),$(document).on("click",".employee-pending-tab",(function(){sessionStorage.setItem("selected-employee-tab","employee_pending"),digibiz.pending_employee_creation_employee_list=[],$(".tab-content").removeClass("active"),$(`.tab-content[id="${sessionStorage.getItem("selected-employee-tab")}"`).addClass("active"),$(".tab").removeClass("active"),$(`.tab[data-id="${sessionStorage.getItem("selected-employee-tab")}"]`).addClass("active"),pendingEmployeeListPage()})),$(document).on("click",".employee-alumini-tab",(function(){sessionStorage.setItem("selected-employee-tab","employee_alumini"),$(".tab-content").removeClass("active"),$(`.tab-content[id="${sessionStorage.getItem("selected-employee-tab")}"`).addClass("active"),$(".tab").removeClass("active"),$(`.tab[data-id="${sessionStorage.getItem("selected-employee-tab")}"]`).addClass("active"),aluminiEmployeeListPage()})),$(document).on("click","#employee_creation_add_button",(function(){(addLoader(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform)?employeeTypeList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id")}).then((e=>{employeeCategoryList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id")}).then((e=>{employeeDesignationList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id")}).then((e=>{location.hash="employee/create"})).catch((e=>{removeLoader(),Materialize.toast("Please add Employee Designation Data",3e3,"round success-alert")}))})).catch((e=>{removeLoader(),Materialize.toast("Please add Employee Category Data",3e3,"round success-alert")}))})).catch((e=>{removeLoader(),Materialize.toast("Please add Employee Types Data",3e3,"round success-alert")})):showAction({action_id:"employee_creation_by_selection_modal",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"By Notification",attr:[{name:"id",value:"employee_by_notification"}]},{name:"By QR-code",attr:[{name:"id",value:"employee_by_qr_code"}]}]},(function(){removeLoader(),$(".action-sheet-container").removeClass("hide").addClass("slide-top")}))})),$(document).on("click","#employee_by_notification",(function(){addLoader(),$("#employee_creation_by_selection_modal").remove(),employeeTypeList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id")}).then((e=>{employeeCategoryList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id")}).then((e=>{employeeDesignationList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id")}).then((e=>{location.hash="employee/create"})).catch((e=>{removeLoader(),Materialize.toast("Please add Employee Designation Data",3e3,"round success-alert")}))})).catch((e=>{removeLoader(),Materialize.toast("Please add Employee Category Data",3e3,"round success-alert")}))})).catch((e=>{removeLoader(),Materialize.toast("Please add Employee Types Data",3e3,"round success-alert")}))})),$(document).on("click","#employee_by_qr_code",(function(){addLoader(),$("#employee_creation_by_selection_modal").remove(),location.hash="#employee/scan_qr"})),$(document).on("keydown","#jeevi_member_field",(function(){$("#add-employee-mobile-number").val("")})),$(document).on("keydown","#add-employee-mobile-number",(function(){$("#jeevi_member_field").val("")})),$(document).on("click",".employee-forward-btn",(function(){addLoader();var e=$(this).attr("data-present-step");if("1"==e||1==e)if(validateAddNewEmployee()){var t;if($("#jeevi_member_field").val().length>0){var i=$("#jeevi_member_field").val();t="unique_name"}else if($("#add-employee-mobile-number").val().length>0){var a=$("#add-employee-mobile-number").intlTelInput("getNumber").replace(/\s/g,"");t="mobile_number"}if(sessionStorage.getItem("employee_id")&&null!==sessionStorage.getItem("employee_id")&&void 0!==sessionStorage.getItem("employee_id"))employeeUpdate({device_id:crossplat.device.uuid,id:sessionStorage.getItem("employee_id"),data:{mobile_number:a}}).then((e=>{removeLoader(),sessionStorage.setItem("employee_id",e.dj_unique_employee_id),$(".employee-back-btn").attr("data-present-step","2"),$(this).attr("data-present-step","2"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="2"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="1"]').addClass("hide"),$('.employee-creation-parts-container[data-step="2"]').removeClass("hide")})).catch((e=>{removeLoader(),Materialize.toast("Error in uploading the employee",3e3,"round success-alert")}));else employeeAdd({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),unique_name:i,type:t,mobile_number:a}).then((e=>{removeLoader(),sessionStorage.setItem("employee_id",e.dj_unique_employee_id),$(".employee-back-btn").attr("data-present-step","2"),$(this).attr("data-present-step","2"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="2"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="1"]').addClass("hide"),$('.employee-creation-parts-container[data-step="2"]').removeClass("hide")})).catch((e=>{removeLoader(),"Already Present"==e.msg?Materialize.toast("This employee is already present",3e3,"round success-alert"):"Not in DJ platform"==e.msg?Materialize.toast("Not in DJ platform",3e3,"round success-alert"):Materialize.toast("Error in adding the employee",3e3,"round success-alert")}))}else removeLoader(),Materialize.toast("Error in validating employee",3e3,"round success-alert");else if("2"==e||2==e)if(validateEmployeeStepTwo()){var o=$("#employee_email").text().trim(),s=$("#employee_alternate_email").text().trim(),r=$("#employee_company_employee_id").text().trim(),n=$("#employee_display_name").text().trim();if($("#add-employee-display-phone-number").val().trim().length>0)var d=$("#add-employee-display-phone-number").intlTelInput("getNumber").replace(/\s/g,"");else;var c=$("#employee_date_of_joining").val().trim(),l=$("#employee_date_of_birth").val().trim(),p=$("#employee_wedding_anniversary").val().trim(),m=$(".selected-value-employee-type").attr("data-id"),u=$(".selected-value-employee-category").attr("data-id"),g=$(".selected-value-employee-designation").attr("data-id");employeeUpdate({device_id:crossplat.device.uuid,id:sessionStorage.getItem("employee_id"),data:{type:m,category:u,designation:g,email:o,alternate_email:s,date_of_joining:c,date_of_birth:l,wedding_anniversary:p,company_employee_id:r,display_name:firstLetterUpperCase(n),display_phone_number:d}}).then((e=>{removeLoader(),$(".employee-back-btn").attr("data-present-step","3"),$(".employee-forward-btn").attr("data-present-step","3"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="3"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="2"]').addClass("hide"),$('.employee-creation-parts-container[data-step="3"]').removeClass("hide"),$(".employee-back-btn").removeClass("hide")})).catch((e=>{"no updated data found"==e.msg&&(removeLoader(),$(".employee-back-btn").attr("data-present-step","3"),$(".employee-forward-btn").attr("data-present-step","3"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="3"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="2"]').addClass("hide"),$('.employee-creation-parts-container[data-step="3"]').removeClass("hide"),$(".employee-back-btn").removeClass("hide"))}))}else removeLoader();else if("3"==e||3==e)if($(".employee-department-assignment-box").length>0){o=$("#employee_email").text().trim(),s=$("#employee_alternate_email").text().trim(),r=$("#employee_company_employee_id").text().trim(),n=$("#employee_display_name").text().trim();if($("#add-employee-display-phone-number").val().trim().length>0)d=$("#add-employee-display-phone-number").intlTelInput("getNumber").replace(/\s/g,"");else;c=$("#employee_date_of_joining").val().trim(),m=$(".selected-value-employee-type").attr("data-id"),u=$(".selected-value-employee-category").attr("data-id"),g=$(".selected-value-employee-designation").attr("data-id");employeeUpdate({device_id:crossplat.device.uuid,id:sessionStorage.getItem("employee_id"),data:{type:m,category:u,designation:g,email:o,alternate_email:s,date_of_joining:c,company_employee_id:r,display_name:firstLetterUpperCase(n),display_phone_number:d,status:"active"}}).then((e=>{$(".employee-back-btn").attr("data-present-step","4"),$(".employee-forward-btn").attr("data-present-step","4"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="4"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="3"]').addClass("hide"),$('.employee-creation-parts-container[data-step="4"]').removeClass("hide"),$(".employee-forward-btn").addClass("hide"),$(".employee-back-btn").removeClass("hide"),removeLoader()})).catch((e=>{"no updated data found"==e.msg?($(".employee-back-btn").attr("data-present-step","4"),$(".employee-forward-btn").attr("data-present-step","4"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="4"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="3"]').addClass("hide"),$('.employee-creation-parts-container[data-step="4"]').removeClass("hide"),$(".employee-forward-btn").addClass("hide"),$(".employee-back-btn").removeClass("hide"),removeLoader()):removeLoader()}))}else removeLoader(),Materialize.toast("Please assign department to the employee",3e3,"round success-alert")})),$(document).on("click",".employee-back-btn",(function(){addLoader();var e=$(this).attr("data-present-step");"4"==e||4==e?($(".employee-forward-btn").attr("data-present-step","3"),$(this).attr("data-present-step","3"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="3"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="4"]').addClass("hide"),$('.employee-creation-parts-container[data-step="3"]').removeClass("hide"),$(".employee-forward-btn").removeClass("hide"),removeLoader()):"3"==e||3==e?($(".employee-forward-btn").attr("data-present-step","2"),$(this).attr("data-present-step","2"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="2"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="3"]').addClass("hide"),$('.employee-creation-parts-container[data-step="2"]').removeClass("hide"),$(".employee-forward-btn").removeClass("hide"),$(".employee-back-btn").addClass("hide"),removeLoader()):"2"!=e&&2!=e||($(".employee-forward-btn").attr("data-present-step","1"),$(this).attr("data-present-step","1"),$(".employee-create-stepper").removeClass("is-active"),$('.employee-create-stepper[data-stepper="1"]').addClass("is-active"),$('.employee-creation-parts-container[data-step="2"]').addClass("hide"),$('.employee-creation-parts-container[data-step="1"]').removeClass("hide"),$(".employee-back-btn").addClass("hide"),removeLoader())})),$(document).on("click",".cancel-employee-btn",(function(){addLoader(),appScroll.scrollBar("#main-container").destroy(),sessionStorage.getItem("employee_id")?"employee"==sessionStorage.getItem("digibiz_role")?(sessionStorage.removeItem("edit_from"),location.hash="employee/profile"):(reqParam={device_id:crossplat.device.uuid,id:sessionStorage.getItem("employee_id"),data:{socket_enable_status:"true",update_for:"socket_enable_status"}},employeeUpdate(reqParam).then((e=>{sessionStorage.removeItem("employee_id"),sessionStorage.removeItem("employee_name"),location.hash="employee_creation/list"})).catch((e=>{"no updated data found"==e.msg&&(sessionStorage.removeItem("employee_id"),sessionStorage.removeItem("employee_name"),location.hash="employee_creation/list")}))):location.hash="employee_creation/list"})),$(document).on("click",".notify-employee-btn",(function(){var e;if(addLoader(),$("#jeevi_member_field").val().trim().length>0){var t=$("#jeevi_member_field").val().trim();e="unique_name"}else if($("#add-employee-mobile-number").val().trim().length>0){var i=$("#add-employee-mobile-number").intlTelInput("getNumber").replace(/\s/g,"");e="mobile_number"}null==e||null==e||""==e?(removeLoader(),Materialize.toast("Please enter data",3e3,"round success-alert")):notificationAdd({device_id:crossplat.device.uuid,data_type:e,add_type:"add",type:"employee",business_id:sessionStorage.getItem("business_id"),unique_name:t,mobile_number:i}).then((e=>{Materialize.toast("Successfully sent notification",3e3,"round success-alert"),location.hash="employee_creation/list"})).catch((e=>{Materialize.toast(e.msg,3e3,"round success-alert"),removeLoader()}))})),$(document).on("click","#resent-notification",(function(){addLoader(),notificationAdd({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"employee",add_type:"resend",contact_user_id:sessionStorage.getItem("contact_user_id")}).then((e=>{Materialize.toast("Successfully sent notification",3e3,"round success-alert"),location.hash="employee_creation/list"})).catch((e=>{Materialize.toast(e.msg,3e3,"round success-alert"),removeLoader()}))})),$(document).on("click",".employee-group-creation",(function(){addLoader(),location.hash="employee_group_creation/list"})),$(document).on("click",".view-employee-group",(function(){addLoader();var e=$(this).parents(".employee-group-wrapper").attr("data-group-id"),t=$(this).parents(".employee-group-wrapper").attr("data-type"),i=$(this).parents(".employee-group-wrapper").attr("data-socket_enable_status");if("custom"==t){var a=$(this).parents(".employee-group-wrapper").attr("data-group-from");sessionStorage.setItem("group_from",a)}"true"==i?(employeeGroupUpdate({device_id:crossplat.device.uuid,id:e,data:{socket_enable_status:"false",update_for:"socket_enable_status"}}).then((e=>{console.log("response",e)})).catch((e=>{console.log("err",e)})),sessionStorage.setItem("group_type",t),sessionStorage.removeItem("group_id"),sessionStorage.setItem("group_id",e),location.hash="employee/group/create"):(Materialize.toast("Access Denied! You or other administrator is updating this group at other place.",3e3,"round error-alert"),showAlert({alert_id:"alert-group-device-change-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Access Denied! You or other administrator is updating this group at other place. Would to like to cancel there and continue here?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-group-device-change-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-group-device-change-cancel-no"}]}]},(function(){removeLoader(),$("#alert-group-device-change-confirm-cancel").attr("data-group-id",e),$("#alert-group-device-change-confirm-cancel").attr("data-group-type",t)})))})),$(document).on("click","#btn-group-device-change-cancel-no",(function(){$("#alert-group-device-change-confirm-cancel").remove()})),$(document).on("click","#btn-group-device-change-confirm-yes",(function(){addLoader();var e=$("#alert-group-device-change-confirm-cancel").attr("data-group-id"),t=$("#alert-group-device-change-confirm-cancel").attr("data-group-type");groupDeviceChange({device_id:crossplat.device.uuid,group_id:e,group_type:t,business_id:sessionStorage.getItem("business_id")}).then((i=>{sessionStorage.setItem("group_type",t),sessionStorage.removeItem("group_id"),sessionStorage.setItem("group_id",e),$("#alert-group-device-change-confirm-cancel").remove(),"customer_groups_identifiers_list"==$("body").attr("app")?location.hash="customer/group_details":"communication_groups"==$("body").attr("app")?location.hash="communication/group_details":"collaborator_groups_list"==$("body").attr("app")?location.hash="collaborator/group_details":"team_group_creation_list"==$("body").attr("app")?location.hash="teams/group/create":"customer_groups_list"==$("body").attr("app")?location.hash="customer/group_details":location.hash="employee/group/create"})).catch((e=>{removeLoader()}))})),$(document).on("click","#btn-group-changed-device-ok",(function(){console.log("comming group change"),addLoader(),$("#alert-group-changed-device-confirm").remove(),sessionStorage.removeItem("group_id"),sessionStorage.removeItem("group_type"),sessionStorage.removeItem("group_from"),"employee_group_create"==$("body").attr("app")?location.hash="employee_group_creation/list":"customer_groups_details"==$("body").attr("app")?location.hash="customer/groups/identifiers/list":"communication_group_details"==$("body").attr("app")?location.hash="communication/groups":"collaborator_group_details"==$("body").attr("app")&&(location.hash="collaborator/groups/list")})),$(document).on("click","#delete_custom_employee_group_member",(function(){addLoader();var e=$(this).attr("data-member-id");showAlert({alert_id:"alert-delete-custom-employee-list-group-employee-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Delete Member",alert_body:"Are you sure you want to delete the member?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-delete-custom-employee-list-group-employee-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-delete-custom-employee-list-group-employee-cancel-no"}]}]},(function(){removeLoader(),$("#alert-delete-custom-employee-list-group-employee-confirm-cancel").attr("data-member-id",e)}))})),$(document).on("click","#btn-employee-changed-device-ok",(function(){console.log("comming"),addLoader(),$("#alert-employee-changed-device-confirm").remove(),sessionStorage.removeItem("employee_id"),location.hash="employee_creation/list"})),$(document).on("click","#btn-delete-custom-employee-list-group-employee-cancel-no",(function(){$("#alert-delete-custom-employee-list-group-employee-confirm-cancel").remove()})),$(document).on("click","#btn-delete-custom-employee-list-group-employee-confirm-yes",(function(){addLoader();var e=$("#alert-delete-custom-employee-list-group-employee-confirm-cancel").attr("data-member-id");$("#alert-delete-custom-employee-list-group-employee-confirm-cancel").remove();var t={device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id"),id:e};checkGroupMemberDelete(t).then((i=>{groupMemberDelete(t).then((t=>{$(`.custom-employee-group-member-wrapper[data-member-id="${e}"]`).remove(),removeLoader(),Materialize.toast("Successfully removed employee",3e3,"round success-alert")})).catch((e=>{removeLoader(),Materialize.toast("Error in member removing",3e3,"round success-alert")}))})).catch((t=>{if("Minimum 2 members are required"==t.msg)showAlert({alert_id:"alert-group-member-delete-error-members-yes-no",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Minimum 2 members should be present in the group. Group will get deleted if the selected member is removed. Are you sure you want to remove the member?",alert_btn:[{name:"Delete Group",attr:[{name:"id",value:"btn-alert-group-member-delete-error-members-delete-group-confirm"}]},{name:"Cancel",attr:[{name:"id",value:"btn-alert-group-member-delete-error-members-cancel-confirm"}]}]},(function(){$("#alert-group-member-delete-error-members-yes-no").attr("data-member-id",e),removeLoader()}));else if("Minimum 1 moderator is required"==t.msg){showAlert({alert_id:"alert-group-member-delete-error-moderator-ok",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Minimum 1 moderator is required. Please add moderator to delete the selected member.",alert_btn:[{name:"Ok",attr:[{name:"id",value:"btn-alert-group-member-delete-error-moderator-ok"}]}]},(function(){removeLoader()}))}else removeLoader()}))})),$(document).on("click","#delete_custom_department_list_group_department",(function(){addLoader();var e=$(this).attr("data-department-id");showAlert({alert_id:"alert-delete-custom-department-list-group-department-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Delete Department",alert_body:"Are you sure you want to delete the department?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-delete-custom-department-list-group-department-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-delete-custom-department-list-group-department-cancel-no"}]}]},(function(){removeLoader(),$("#alert-delete-custom-department-list-group-department-confirm-cancel").attr("data-department-id",e)}))})),$(document).on("click","#btn-delete-custom-department-list-group-department-cancel-no",(function(){$("#alert-delete-custom-department-list-group-department-confirm-cancel").remove()})),$(document).on("click","#btn-delete-custom-department-list-group-department-confirm-yes",(function(){addLoader();var e=$("#alert-delete-custom-department-list-group-department-confirm-cancel").attr("data-department-id");$("#alert-delete-custom-department-list-group-department-confirm-cancel").remove(),employeeGroupDepartmentDelete({device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id"),department_id:e}).then((t=>{$(`.custom-employee-group-member-wrapper[data-department-id="${e}"]`).remove(),removeLoader(),Materialize.toast("Successfully removed department",3e3,"round success-alert")})).catch((e=>{removeLoader(),Materialize.toast("Error in department removing",3e3,"round success-alert")}))})),$(document).on("click","#add-custom-employee-group-btn",(function(){addLoader(),sessionStorage.setItem("group_type","custom"),location.hash="employee/group/create"})),$(document).on("click","#add_employee_group_employee_btn",(function(){(addLoader(),sessionStorage.getItem("group_id"))?showAction({action_id:"employee_group_creation_add_members_type",action_platform:crossplat.device.platform,action_title:"Add by",action_btn:[{name:"Employee List",attr:[{name:"id",value:"employee_group_creation_add_members_by_employee_list"}]},{name:"Standard Groups",attr:[{name:"id",value:"employee_group_creation_add_members_by_standard_group"}]}]},(function(){$("#employee_group_creation_add_members_type").addClass("hide"),"employee_list"==sessionStorage.getItem("group_from")?$("#employee_group_creation_add_members_by_employee_list").trigger("click"):"department_list"==sessionStorage.getItem("group_from")?$("#employee_group_creation_add_members_by_department_list").trigger("click"):"standard_group"==sessionStorage.getItem("group_from")?$("#employee_group_creation_add_members_by_standard_group").trigger("click"):$("#employee_group_creation_add_members_type").removeClass("hide"),removeLoader()})):showAction({action_id:"employee_group_creation_add_members_type",action_platform:crossplat.device.platform,action_title:"Add by",action_btn:[{name:"Employee List",attr:[{name:"id",value:"employee_group_creation_add_members_by_employee_list"}]},{name:"Standard Groups",attr:[{name:"id",value:"employee_group_creation_add_members_by_standard_group"}]}]},(function(){$("#employee_group_creation_add_members_type").addClass("hide"),"employee_list"==sessionStorage.getItem("group_from")?$("#employee_group_creation_add_members_by_employee_list").trigger("click"):"department_list"==sessionStorage.getItem("group_from")?$("#employee_group_creation_add_members_by_department_list").trigger("click"):"standard_group"==sessionStorage.getItem("group_from")?$("#employee_group_creation_add_members_by_standard_group").trigger("click"):$("#employee_group_creation_add_members_type").removeClass("hide"),removeLoader()}))})),$(document).on("click",".filemanager-file-wrapper",(function(){$(this).siblings(".file-select").find("input").trigger("click")})),$(document).on("click","#employee_group_creation_add_members_by_employee_list",(function(){addLoader(),sessionStorage.setItem("group_from","employee_list"),$("#employee_group_creation_add_members_type").remove(),employeeList({device_id:crossplat.device.uuid,list_by:"list_only_active",business_id:sessionStorage.getItem("business_id"),count:20,offset:0}).then((e=>{let t=[];if($.each(e,(function(e,i){t.push(i)})),digibiz.employee_group_employee_members=e,sessionStorage.getItem("group_id")){crossplat.device.uuid,sessionStorage.getItem("group_id");var i={EmployeeList:t.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture){var t=`${api.get_employee_thumbnail}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&type=display_picture`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);return e}))};fetch.getHtml((function(e,i){showModal({modal_id:"modal-employee-selection",modal_header:"Employee List",modal_platform:crossplat.device.platform,modal_body:i,modal_action_buttons:[{name:"Add",id:"add-selected-employees-group"}]},(function(){$(".employee-selection-member-list").prepend('<div class="search">\n                                    <div class="expand-search-wrap search-wrapper" id="employee-list-selection-search-btn">\n                                        <span class="searchbtn waves-effect cursor-pointer"><i class="material-icons">search</i></span>\n                                        <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                                        <span class="searchclosebtn"><i class="material-icons employee-list-selection-close-btn hide">close</i></span>\n                                    </div>\n                                </div>'),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),$(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content")):($(".custom-modal-popup").show().addClass("modal-slide-top"),$(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content")),listenForEmployeeSelectionListScrollEvent($(".modal-popup-content")),removeLoader(),setTimeout((function(){var e=$("#employee-list-selection-search-btn").find(".expand-search-input");e&&($(document).on("input",e,(function(){timestamp=(new Date).getTime(),e.attr("socketid",timestamp)})),$(document).on("keyup",e,(function(){if(socketid=e.attr("socketid"),keyword=e.val(),socketid&&keyword){if(document.getElementsByClassName("searchclosebtn")[0].style.display="flex",currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:socketid,app:"digibiz",keyword:keyword},"employee_group_create"===currentroute)"custom"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&(digibiz.searched_employee_list=[],$("#modal-employee-selection").length>0&&"employee_list"==sessionStorage.getItem("group_from")&&(data.index="getEmployeeContactListAllEmployees",data.business_id=sessionStorage.getItem("business_id"),data.count=10,data.offset=0));addLoader(),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300)}else if(removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),e.attr("socketid",""),"employee_group_create"===currentroute)"custom"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&$("#modal-employee-selection").length>0&&processSearchedEmployeeGroupEmployeeSelectionList(t,(function(){}))})),$(document).on("click",".searchclosebtn",(function(){"custom"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&$("#modal-employee-selection").length>0&&processSearchedEmployeeGroupEmployeeSelectionList(t,(function(){}))})))}),0)}))}),"page/common/employee_list_selection","#employee-selection-list-template",i)}else{$.each($("input[name='selectedmembers[]']"),(function(e,t){}));i={EmployeeList:t.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture){var t=`${api.get_employee_thumbnail}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&type=display_picture`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);return e}))};fetch.getHtml((function(e,i){showModal({modal_id:"modal-employee-selection",modal_header:"Employee List",modal_platform:crossplat.device.platform,modal_body:i,modal_action_buttons:[{name:"Add",id:"add-selected-employees-group"}]},(function(){$(".employee-selection-member-list").prepend('<div class="search">\n                                    <div class="expand-search-wrap search-wrapper" id="employee-list-selection-search-btn">\n                                        <span class="searchbtn waves-effect cursor-pointer"><i class="material-icons">search</i></span>\n                                        <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                                        <span class="searchclosebtn"><i class="material-icons employee-list-selection-close-btn hide">close</i></span>\n                                    </div>\n                                </div>'),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),$(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content")):($(".custom-modal-popup").show().addClass("modal-slide-top"),$(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content")),listenForEmployeeSelectionListScrollEvent($(".modal-popup-content")),removeLoader(),setTimeout((function(){var e=$("#employee-list-selection-search-btn").find(".expand-search-input");e&&($(document).on("input",e,(function(){timestamp=(new Date).getTime(),e.attr("socketid",timestamp)})),$(document).on("keyup",e,(function(){if(socketid=e.attr("socketid"),keyword=e.val(),socketid&&keyword){if(document.getElementsByClassName("searchclosebtn")[0].style.display="flex",currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:socketid,app:"digibiz",keyword:keyword},"employee_group_create"===currentroute)digibiz.searched_employee_list=[],"custom"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&$("#modal-employee-selection").length>0&&"employee_list"==sessionStorage.getItem("group_from")&&(data.index="getEmployeeContactListAllEmployees",data.business_id=sessionStorage.getItem("business_id"));addLoader(),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300)}else if(removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),e.attr("socketid",""),"employee_group_create"===currentroute)"custom"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&$("#modal-employee-selection").length>0&&processSearchedEmployeeGroupEmployeeSelectionList(t,(function(){}))})),$(document).on("click",".searchclosebtn",(function(){"custom"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&$("#modal-employee-selection").length>0&&processSearchedEmployeeGroupEmployeeSelectionList(t,(function(){}))})))}),0)}))}),"page/common/employee_list_selection","#employee-selection-list-template",i)}})).catch((e=>{removeLoader(),sessionStorage.removeItem("group_from"),Materialize.toast("No Employees Found",3e3,"round success-alert")}))})),$(document).on("click","#employee_group_creation_add_members_by_standard_group",(function(){addLoader(),sessionStorage.setItem("group_from","standard_group"),$("#employee_group_creation_add_members_type").remove(),groupsList({device_id:crossplat.device.uuid,type:"employee",list_by:"draft_active_standard_employee_groups",business_id:sessionStorage.getItem("business_id"),count:20,offset:0}).then((e=>{let t=[];if($.each(e,(function(e,i){t.push(i)})),digibiz.employee_group_standard_group_members=e,sessionStorage.getItem("group_id")){getGroupMembers({device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id"),count:20,offset:0}).then((e=>{e.membersList;var i={standardGroupList:t.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image)if(e.group_image.hasOwnProperty("asset_id")&&e.group_image.asset_id){var t=`${api.get_group_image}?device_id=${crossplat.device.uuid}&asset_id=${e.group_image.asset_id}&business_id=${e.business_id}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};fetch.getHtml((function(e,i){showModal({modal_id:"modal-standard-employee-group-selection",modal_header:"Standard Employee Groups",modal_platform:crossplat.device.platform,modal_body:i,modal_action_buttons:[{name:"Add",id:"add-selected-standard-employee-group"}]},(function(){$(".standard-employee-selection-list").prepend('<div class="search">\n                                            <div class="expand-search-wrap search-wrapper" id="standard-employee-group-selection-search-btn">\n                                                <span class="searchbtn waves-effect cursor-pointer"><i class="material-icons">search</i></span>\n                                                <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                                                <span class="searchclosebtn"><i class="material-icons standard-employee-group-selection-close-btn hide">close</i></span>\n                                            </div>\n                                        </div>'),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),$(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content")):($(".custom-modal-popup").show().addClass("modal-slide-top"),$(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content")),removeLoader(),setTimeout((function(){var e=$("#standard-employee-group-selection-search-btn").find(".expand-search-input");e&&($(document).on("input",e,(function(){timestamp=(new Date).getTime(),e.attr("socketid",timestamp)})),$(document).on("keyup",e,(function(){if(socketid=e.attr("socketid"),keyword=e.val(),socketid&&keyword){if(document.getElementsByClassName("searchclosebtn")[0].style.display="flex",currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:socketid,app:"digibiz",keyword:keyword},"employee_group_create"===currentroute)"custom"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&$("#modal-standard-employee-group-selection").length>0&&"standard_group"==sessionStorage.getItem("group_from")&&(data.index="getEmployeeGroupStandardGroupSelectionList",data.business_id=sessionStorage.getItem("business_id"));addLoader(),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300)}else if(removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),e.attr("socketid",""),"employee_group_create"===currentroute)"custom"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&$("#modal-standard-employee-group-selection").length>0&&processSearchedEmployeeGroupStandardGroupSelectionList(t,(function(){}))})),$(document).on("click",".searchclosebtn",(function(){"custom"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&$("#modal-standard-employee-group-selection").length>0&&processSearchedEmployeeGroupStandardGroupSelectionList(t,(function(){}))})))}),0)}))}),"page/common/standard_employee_group_selection","#standard-employee-selection-list-template",i)})).catch((e=>{}))}else{$.each($("input[name='selectedmembers[]']"),(function(e,t){}));var i={standardGroupList:t.map((e=>{if(e.hasOwnProperty("display_picture")&&e.display_picture){var t=`${api.get_employee_thumbnail}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&type=display_picture`;e.display_picture.avtarUrl=t}else e.imageLetter=e.name.charAt(0);return e}))};fetch.getHtml((function(e,i){showModal({modal_id:"modal-standard-employee-group-selection",modal_header:"Standard Employee Groups",modal_platform:crossplat.device.platform,modal_body:i,modal_action_buttons:[{name:"Add",id:"add-selected-standard-employee-group"}]},(function(){$(".standard-employee-selection-list").prepend('<div class="search">\n                                    <div class="expand-search-wrap search-wrapper" id="standard-employee-group-selection-search-btn">\n                                        <span class="searchbtn waves-effect cursor-pointer"><i class="material-icons">search</i></span>\n                                        <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                                        <span class="searchclosebtn"><i class="material-icons standard-employee-group-selection-close-btn hide">close</i></span>\n                                    </div>\n                                </div>'),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),$(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content")):($(".custom-modal-popup").show().addClass("modal-slide-top"),$(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content")),removeLoader(),setTimeout((function(){listenForEmployeeStandardGroupListScrollEvent($(".modal-popup-content"));var e=$("#standard-employee-group-selection-search-btn").find(".expand-search-input");e&&($(document).on("input",e,(function(){timestamp=(new Date).getTime(),e.attr("socketid",timestamp)})),$(document).on("keyup",e,(function(){if(socketid=e.attr("socketid"),keyword=e.val(),socketid&&keyword){if(document.getElementsByClassName("searchclosebtn")[0].style.display="flex",currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:socketid,app:"digibiz",keyword:keyword},"employee_group_create"===currentroute)"custom"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&$("#modal-standard-employee-group-selection").length>0&&"standard_group"==sessionStorage.getItem("group_from")&&(data.index="getEmployeeGroupStandardGroupSelectionList",data.business_id=sessionStorage.getItem("business_id"));addLoader(),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300)}else if(removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),e.attr("socketid",""),"employee_group_create"===currentroute)"custom"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&$("#modal-standard-employee-group-selection").length>0&&processSearchedEmployeeGroupStandardGroupSelectionList(t,(function(){}))})),$(document).on("click",".searchclosebtn",(function(){"custom"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&$("#modal-standard-employee-group-selection").length>0&&processSearchedEmployeeGroupStandardGroupSelectionList(t,(function(){}))})))}),0)}))}),"page/common/standard_employee_group_selection","#standard-employee-selection-list-template",i)}})).catch((e=>{removeLoader(),sessionStorage.removeItem("group_from"),Materialize.toast("No Groups Found",3e3,"round success-alert")}))})),$(document).on("click","#add-selected-standard-employee-group",(function(){(addLoader(),$(".standard-employee-group-select-checkbox-click-wrapper.selected-row").length>0)?sessionStorage.getItem("group_id")?showAlert({alert_id:"alert-employee-group-member-add-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Already added or existing members\n                    won't be added again.Only new members will be added",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-employee-standard-group-member-add-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-employee-group-member-add-confirm-no"}]}]},(function(){removeLoader()})):($.each($(".standard-employee-group-select-checkbox-click-wrapper.selected-row"),(function(e,t){var i=$(t).find(".standard-employee-group-select").attr("data-id"),a=$(t).find(".standard-group-name").text(),o=$(t).find(".standard-group-name").text().charAt(0);if(null!=i){var s={id:i,name:a,imageLetter:o,type:"groups",seleted:!0};-1==digibiz.selectedMembers.findIndex((e=>e.id==i))&&digibiz.selectedMembers.push(s);var r=`<div class="tooltipped employee-group-member-wrapper" data-id="${i}"><div class="file-select">\n                <input type="checkbox" name="selectedmembers[]" class="contactlists filled-in" value="${i}" id="selected-${i}" checked=""><i class="material-icons">done</i><div class="profile-text group-profile-text text-small-size">\n                    <span>${o}</span> \n                 </div></div><div class="filemanager-file-wrapper"><span class="truncate" for="selected-${i}">${a}</span></div>\n            </div>`;0==$(`.employee-group-member-wrapper[data-id="${i}"]`).length&&$("#employee-group-members-list").append(r),e+1==$(".standard-employee-group-select-checkbox-click-wrapper.selected-row").length&&$("#modal-standard-employee-group-selection").remove()}else e+1==$(".standard-employee-group-select-checkbox-click-wrapper.selected-row").length&&$("#modal-standard-employee-group-selection").remove(),removeLoader()})),removeLoader()):(removeLoader(),Materialize.toast("Please select atleast 1 group.",3e3,"round error-alert"))})),$(document).on("click","#btn-employee-standard-group-member-add-confirm-yes",(function(){addLoader(),$("#alert-employee-group-member-add-confirm-cancel").remove();let e=[];$.each($(".standard-employee-group-select-checkbox-click-wrapper.selected-row"),(function(){e.push($(this).find(".standard-employee-group-select").attr("data-id"))}));var t=uniqueArray(e);groupMemberAdd({device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id"),members:t}).then((e=>{$("#modal-standard-employee-group-selection").remove(),Materialize.toast("Groups Added Successfully",3e3,"round success-alert"),employeeGroupCreationPage()})).catch((e=>{removeLoader(),Materialize.toast("Error in group members adding",3e3,"round success-alert")}))})),$(document).on("click","#custom_employee_group_department_list_confirm",(function(){(addLoader(),sessionStorage.getItem("group_id"))?$(".department-selected:checked").length>0?($.each($(".department-selected:checked"),(function(e,t){var i=$(t).parents(".sub-department-box").attr("data-id");digibiz.employee_group_department_members.push({id:i})})),employeeGroupDepartmentUpdate({device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id"),department_data:digibiz.employee_group_department_members}).then((e=>{digibiz.employee_group_department_members=[],removeLoader(),$("#custom-employee-group-department-list-modal").remove()})).catch((e=>{removeLoader(),Materialize.toast("Error in group departments adding",3e3,"round success-alert")}))):(removeLoader(),Materialize.toast("Please select atleast 1 department.",3e3,"round success-alert")):$(".department-selected:checked").length>0?$.each($(".department-selected:checked"),(function(e,t){if($("#employee-group-members-list").find(`.employee-group-member-wrapper[data-department-id="${$(t).parents(".sub-department-box").attr("data-id")}"]`).length>0)$("#custom-employee-group-department-list-modal").remove(),removeLoader();else{var i=$(t).parents(".sub-department-box").attr("data-id"),a=$(t).siblings("#added_sub_department").text(),o=$(t).siblings("#added_sub_department").text().charAt(0);if(null!=i){digibiz.employee_group_department_members.push({id:i});var s=`<div class="tooltipped employee-group-member-wrapper" data-department-id="${i}"">\n                <div class="file-select">\n                <input type="checkbox" name="selectedmembers[]" class="contactlists filled-in" value="${i}" id="selected-${i}" checked="">\n                    <i class="material-icons">done</i>\n                    <div class="profile-text group-profile-text text-small-size">\n                        <span>${o}</span> \n                    </div>\n                </div>\n                <div class="filemanager-file-wrapper">\n                    <span class="truncate" for="selected-${i}">${a}</span>\n                </div>\n            </div>`;$("#employee-group-members-list").append(s),$("#custom-employee-group-department-list-modal").remove(),removeLoader()}else removeLoader()}})):(Materialize.toast("Please select 1 department",3e3,"round success-alert"),removeLoader())})),$(document).on("click","#add-selected-employees-group",(function(){(addLoader(),$("#modal-employee-selection").find(".employee-select-btn-wrapper.selected-row").length>0)?sessionStorage.getItem("group_id")?showAlert({alert_id:"alert-employee-group-member-add-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Already added or existing members\n                    won't be added again.Only new members will be added",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-employee-group-member-add-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-employee-group-member-add-confirm-no"}]}]},(function(){removeLoader()})):("employee_list"==sessionStorage.getItem("group_from")?$(".search-member-button").removeClass("hide"):$(".search-member-button").addClass("hide"),$.each($(".employee-select-btn-wrapper.selected-row"),(function(e,t){var i=$(t).find(".employee-select-btn").attr("data-dj-unique-employee-id"),a=$(t).find(".contact-name-wrapper").text(),o=$(t).find(".employee-information").text(),s=$(t).find(".contact-name-wrapper").text().charAt(0);if(null!=i){var r={id:i,name:a,disignationName:o,imageLetter:s,dj_unique_employee_id:i,selected:!0,type:"employee_list"};if(-1==digibiz.selectedMembers.findIndex((e=>e.id==i))){digibiz.selectedMembers.push(r);var n=`<div class="tooltipped employee-group-member-wrapper" data-dj-unique-employee-id="${i}"><div class="file-select">\n                <input type="checkbox" name="selectedmembers[]" class="contactlists filled-in" value="${i}" id="selected-${i}" checked=""><i class="material-icons">done</i><div class="profile-text group-profile-text text-small-size">\n                    <span>${s}</span> \n                 </div></div><div class="filemanager-file-wrapper"><span class="truncate" for="selected-${i}">${a}</span>\n                 <span class="">${o}</span></div>\n            </div>`;$("#employee-group-members-list").append(n),setTimeout((()=>{appScroll.scrollBar("#employee-group-members-list")}),500)}$("#modal-employee-selection").remove()}else removeLoader()})),removeLoader()):(removeLoader(),Materialize.toast("Please select atleast 1 employee.",3e3,"round error-alert"))})),$(document).on("click","#btn-employee-group-member-add-confirm-yes",(function(){addLoader(),$("#alert-employee-group-member-add-confirm-cancel").remove();let e=[];$.each($(".employee-select-btn:checked"),(function(){e.push($(this).attr("data-dj-unique-employee-id"))}));var t=uniqueArray(e);groupMemberAdd({device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id"),members:t}).then((e=>{Materialize.toast("Employees Added Successfully",3e3,"round success-alert"),employeeGroupCreationPage(),$("#modal-employee-selection").remove()})).catch((e=>{removeLoader(),Materialize.toast("Error in group members adding",3e3,"round success-alert")}))})),$(document).on("click","#btn-employee-group-member-add-confirm-no",(function(){$("#alert-employee-group-member-add-confirm-cancel").remove()})),$(document).on("click","#employee_group_cancel_button",(function(){addLoader(),sessionStorage.getItem("group_id")?(reqParam={device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id"),data:{socket_enable_status:"true",update_for:"socket_enable_status"}},employeeGroupUpdate(reqParam).then((e=>{sessionStorage.removeItem("group_id"),sessionStorage.removeItem("group_from"),sessionStorage.removeItem("group_type"),digibiz.standard_employees_groups_list_page=[],digibiz.custom_employees_groups_list_page=[],digibiz.selectedMembers=[],location.hash="employee_group_creation/list",appScroll.scrollBar("#main-container").destroy()})).catch((e=>{console.log("err",e)}))):(sessionStorage.removeItem("group_id"),sessionStorage.removeItem("group_from"),sessionStorage.removeItem("group_type"),digibiz.standard_employees_groups_list_page=[],digibiz.custom_employees_groups_list_page=[],digibiz.selectedMembers=[],location.hash="employee_group_creation/list",appScroll.scrollBar("#main-container").destroy())})),$(document).on("click",".standard-employee-groups-list-tab",(function(e){e.stopImmediatePropagation(),isDoubleClicked($(this))||(addLoader(),sessionStorage.setItem("selected-employee-group-list-type-tab","standard"),$(".tab-content").removeClass("active"),$(`.tab-content[id="${sessionStorage.getItem("selected-employee-group-list-type-tab")}"`).addClass("active"),$(".tab").removeClass("active"),$(`.tab[data-id="${sessionStorage.getItem("selected-employee-group-list-type-tab")}"]`).addClass("active"),standardEmployeesGroupsListPage())})),$(document).on("click",".custom-employee-groups-list-tab",(function(e){e.stopImmediatePropagation(),isDoubleClicked($(this))||(addLoader(),sessionStorage.setItem("selected-employee-group-list-type-tab","custom"),$(".tab-content").removeClass("active"),$(`.tab-content[id="${sessionStorage.getItem("selected-employee-group-list-type-tab")}"`).addClass("active"),$(".tab").removeClass("active"),$(`.tab[data-id="${sessionStorage.getItem("selected-employee-group-list-type-tab")}"]`).addClass("active"),customEmployeesGroupsListPage())})),$(document).on("click","#employee_group_add_button",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this)))if($(this).prop("disabled",!0),addLoader(),validateGroupData())if(sessionStorage.getItem("group_id")){if("standard"==sessionStorage.getItem("group_type"))employeeGroupUpdate({device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id"),data:{name:firstLetterUpperCase($("#employeeGroupName").val()),description:firstLetterUpperCase($("#employee_group_desc").val()),visibility:$(".selected-value-group-visbility").attr("data-value")}}).then((e=>{$(this).prop("disabled",!1),sessionStorage.removeItem("group_id"),sessionStorage.removeItem("group_type"),location.hash="employee_group_creation/list"})).catch((e=>{$(this).prop("disabled",!1),"no updated data found"==e.msg?(sessionStorage.removeItem("group_id"),sessionStorage.removeItem("group_type"),location.hash="employee_group_creation/list"):removeLoader()}));else if("custom"==sessionStorage.getItem("group_type")){employeeGroupUpdate({device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id"),data:{name:firstLetterUpperCase($("#employeeGroupName").val()),description:firstLetterUpperCase($("#employee_group_desc").val()),visibility:$(".selected-value-group-visbility").attr("data-value")}}).then((e=>{$(this).prop("disabled",!1),digibiz.employee_group_employee_members=[],sessionStorage.removeItem("group_from"),sessionStorage.removeItem("group_id"),sessionStorage.removeItem("group_type"),location.hash="employee_group_creation/list"})).catch((e=>{$(this).prop("disabled",!1),"no updated data found"==e.msg?(digibiz.employee_group_employee_members=[],sessionStorage.removeItem("group_from"),sessionStorage.removeItem("group_id"),sessionStorage.removeItem("group_type"),location.hash="employee_group_creation/list",removeLoader()):removeLoader()}))}}else if("employee_list"==sessionStorage.getItem("group_from")){let e=[];$.each($("input[name='selectedmembers[]']:checked"),(function(){e.push($(this).val())}));var t=uniqueArray(e);console.log("contactlist",t),saveGroupPictureFirstTime((function(e,i){if(e)$(this).prop("disabled",!1),removeLoader(),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert");else{groupAdd({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),group_for:"employee",custom_group_from:sessionStorage.getItem("group_from"),group_type:sessionStorage.getItem("group_type"),visibility:$(".selected-value-group-visbility").attr("data-value"),name:firstLetterUpperCase($("#employeeGroupName").val()),description:firstLetterUpperCase($("#employee_group_desc").val()),thumbnail_content:i,size:digibiz.groupPictureblob.size}).then((e=>{groupMemberAdd({device_id:crossplat.device.uuid,group_id:e.id,members:t}).then((e=>{$(this).prop("disabled",!1),digibiz.employee_group_employee_members=[],digibiz.groupPictureblob={},digibiz.selectedMembers=[],sessionStorage.removeItem("group_from"),sessionStorage.removeItem("group_id"),sessionStorage.removeItem("group_type")})).catch((e=>{$(this).prop("disabled",!1),removeLoader(),Materialize.toast("Error in group members adding",3e3,"round success-alert")})),location.hash="employee_group_creation/list"})).catch((e=>{$(this).prop("disabled",!1),removeLoader(),Materialize.toast("Error in group creation",3e3,"round success-alert")}))}}))}else if("department_list"==sessionStorage.getItem("group_from"))saveGroupPictureFirstTime((function(e,t){if(e)$(this).prop("disabled",!1),removeLoader(),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert");else{groupAdd({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),group_for:"employee",custom_group_from:sessionStorage.getItem("group_from"),group_type:sessionStorage.getItem("group_type"),visibility:$(".selected-value-group-visbility").attr("data-value"),name:firstLetterUpperCase($("#employeeGroupName").val()),description:firstLetterUpperCase($("#employee_group_desc").val()),thumbnail_content:t,size:digibiz.groupPictureblob.size,department_data:digibiz.employee_group_department_members}).then((e=>{$(this).prop("disabled",!1),digibiz.employee_group_department_members=[],digibiz.groupPictureblob={},sessionStorage.removeItem("group_from"),sessionStorage.removeItem("group_id"),sessionStorage.removeItem("group_type"),digibiz.selectedMembers=[]})).catch((e=>{$(this).prop("disabled",!1),removeLoader(),Materialize.toast("Error in group creation",3e3,"round success-alert")})),location.hash="employee_group_creation/list"}}));else{let e=[];$.each($("input[name='selectedmembers[]']:checked"),(function(){e.push($(this).val())}));t=uniqueArray(e);saveGroupPictureFirstTime((function(e,i){if(e)removeLoader(),$(this).prop("disabled",!1),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert");else{groupAdd({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),group_for:"employee",custom_group_from:sessionStorage.getItem("group_from"),group_type:sessionStorage.getItem("group_type"),visibility:$(".selected-value-group-visbility").attr("data-value"),name:firstLetterUpperCase($("#employeeGroupName").val()),description:firstLetterUpperCase($("#employee_group_desc").val()),thumbnail_content:i,size:digibiz.groupPictureblob.size}).then((e=>{groupMemberAdd({device_id:crossplat.device.uuid,group_id:e.id,members:t}).then((e=>{$(this).prop("disabled",!1),digibiz.employee_group_employee_members=[],digibiz.groupPictureblob={},sessionStorage.removeItem("group_from"),sessionStorage.removeItem("group_id"),sessionStorage.removeItem("group_type"),digibiz.selectedMembers=[]})).catch((e=>{$(this).prop("disabled",!1),removeLoader(),Materialize.toast("Error in group members adding",3e3,"round success-alert")})),location.hash="employee_group_creation/list"})).catch((e=>{$(this).prop("disabled",!1),removeLoader(),Materialize.toast("Error in group creation",3e3,"round success-alert")}))}}))}else $(this).prop("disabled",!1),removeLoader()})),$(document).on("click","#delete_employee_group",(function(){addLoader(),employeeGroupDelete({device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id")}).then((e=>{sessionStorage.removeItem("group_from"),sessionStorage.removeItem("group_id"),sessionStorage.removeItem("group_type"),location.hash="employee_group_creation/list"})).catch((e=>{removeLoader(),Materialize.toast("Error in deleting the group.",3e3,"round error-alert")}))})),$(document).on("click","#delete_customer_group",(function(){addLoader(),employeeGroupDelete({device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id")}).then((e=>{sessionStorage.removeItem("group_from"),sessionStorage.removeItem("group_id"),sessionStorage.removeItem("group_type"),location.hash="customer/groups/identifiers/list"})).catch((e=>{removeLoader(),Materialize.toast("Error in deleting the group.",3e3,"round error-alert")}))})),$(document).on("click",".employee_edit",(function(){addLoader();var e=$(".action-sheet-container").attr("employee_id");"true"==$(".action-sheet-container").attr("employee_socket_status")?employeeUpdate({device_id:crossplat.device.uuid,id:e,data:{socket_enable_status:"false",update_for:"socket_enable_status"}}).then((t=>{"super_admin"==t.employee_role?departmentGet({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"type",type:"super_admin"}).then((i=>{removeLoader(),sessionStorage.setItem("department_id",i.id),sessionStorage.setItem("employee_id",e),sessionStorage.setItem("employee_name",`${t.name.first} ${t.name.last}`),$("#employee_alert_actions").remove(),location.hash="employee/create"})).catch((e=>{removeLoader()})):(removeLoader(),sessionStorage.setItem("employee_id",e),sessionStorage.setItem("employee_name",`${t.name.first} ${t.name.last}`),$("#employee_alert_actions").remove(),location.hash="employee/create")})).catch((t=>{"no updated data found"==t.msg&&(removeLoader(),sessionStorage.setItem("employee_id",e),$("#employee_alert_actions").remove(),location.hash="employee/create")})):($("#employee_alert_actions").remove(),Materialize.toast("Access Denied! You or other administrator is creating this employee at other place.",3e3,"round error-alert"),showAlert({alert_id:"alert-employee-device-change-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Access Denied! You or other administrator is creating this employee at other place. Would to like to cancel there and continue here?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-employee-device-change-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-employee-device-change-cancel-no"}]}]},(function(){removeLoader(),$("#alert-employee-device-change-confirm-cancel").attr("data-employee-id",e)})))})),$(document).on("click","#btn-employee-device-change-cancel-no",(function(){$("#alert-employee-device-change-confirm-cancel").remove()})),$(document).on("click","#btn-employee-device-change-confirm-yes",(function(){addLoader();var e=$("#alert-employee-device-change-confirm-cancel").attr("data-employee-id");employeeDeviceChange({device_id:crossplat.device.uuid,employee_id:e,business_id:sessionStorage.getItem("business_id")}).then((t=>{sessionStorage.setItem("employee_id",e),$("#alert-employee-device-change-confirm-cancel").remove(),location.hash="employee/create"})).catch((e=>{removeLoader()}))})),$(document).on("click","#btn-employee-changed-device-ok",(function(){console.log("comming"),addLoader(),$("#alert-employee-changed-device-confirm").remove(),sessionStorage.removeItem("employee_id"),location.hash="employee_creation/list"})),$(document).on("click",".employee_delete",(function(){addLoader();var e=$(".action-sheet-container").attr("employee_id");$("#employee_alert_actions").remove(),fetch.getHtml((function(t,i){showAlert({alert_id:"alert-employee-delete-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:i,alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-employee-delete-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-employee-delete-cancel-no"}]}]},(function(){removeLoader(),$("#alert-employee-delete-confirm-cancel").attr("data-employee-id",e)}))}),"layouts/alert_templates/delete_employee","#delete-employee-template",null)})),$(document).on("click","#btn-employee-delete-cancel-no",(function(){$("#alert-employee-delete-confirm-cancel").remove()})),$(document).on("click","#btn-employee-delete-confirm-yes",(function(){addLoader();var e=$("#alert-employee-delete-confirm-cancel").attr("data-employee-id"),t=$(".delete-employee-folder-delete-yes-radio-button").is(":checked");$("#alert-employee-delete-confirm-cancel").remove(),employeeDelete({device_id:crossplat.device.uuid,id:e,folder_delete:t}).then((e=>{removeLoader(),Materialize.toast("Successfully deleted the employee.",3e3,"round error-alert")})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))})),$(document).on("click",".customer_delete",(function(){addLoader();var e=$(".action-sheet-container").attr("customer_id");$("#customer_alert_actions").remove(),fetch.getHtml((function(t,i){showAlert({alert_id:"alert-customer-delete-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:i,alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-customer-delete-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-customer-delete-cancel-no"}]}]},(function(){removeLoader(),$("#alert-customer-delete-confirm-cancel").attr("data-customer-id",e)}))}),"layouts/alert_templates/delete_customer","#delete-customer-template",null)})),$(document).on("click","#btn-customer-delete-cancel-no",(function(){$("#alert-customer-delete-confirm-cancel").remove()})),$(document).on("click","#btn-customer-delete-confirm-yes",(function(){addLoader();var e=$("#alert-customer-delete-confirm-cancel").attr("data-customer-id"),t=$(".delete-customer-folder-delete-yes-radio-button").is(":checked");$("#alert-customer-delete-confirm-cancel").remove(),customerDelete({device_id:crossplat.device.uuid,id:e,folder_delete:t,status:"deleted"}).then((e=>{removeLoader(),Materialize.toast("Successfully deleted the customer.",3e3,"round error-alert")})).catch((e=>{removeLoader(),Materialize.toast("Error in deleting the customer.",3e3,"round error-alert")}))})),$(document).on("keydown","#employee_first_name, #add-employee-mobile-number, #employee_middle_name, #employee_last_name",(function(){removeError($(this))})),$(document).on("click","#show-action-employee-data",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){var t=$(this).parents(".employee-wrapper").attr("data-employee-id"),i=$(this).parents(".employee-wrapper").attr("data-status"),a=$(this).parents(".employee-wrapper").attr("data-socket-status"),o=$(this).parents(".employee-wrapper").find(".employee-data-type").length;if("active"==i||"unassigned"==i)if(0==o)showAction({action_id:"employee_alert_actions",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"Edit",attr:[{name:"class",value:"employee_edit"}]},{name:"Inactivate",attr:[{name:"class",value:"employee_inactivate"}]},{name:"Delete",attr:[{name:"class",value:"employee_delete"}]}]},(function(){$(".action-sheet-container").removeClass("hide").addClass("slide-top"),$(".action-sheet-container").attr("employee_id",t),$(".action-sheet-container").attr("employee_socket_status",a)}));else showAction({action_id:"employee_alert_actions",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"Edit",attr:[{name:"class",value:"employee_edit"}]},{name:"Inactivate",attr:[{name:"class",value:"employee_inactivate"}]}]},(function(){$(".action-sheet-container").removeClass("hide").addClass("slide-top"),$(".action-sheet-container").attr("employee_id",t),$(".action-sheet-container").attr("employee_socket_status",a)}));else if("accepted"==i){showAction({action_id:"employee_alert_actions",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"Complete Profile",attr:[{name:"class",value:"employee_edit"}]}]},(function(){$(".action-sheet-container").removeClass("hide").addClass("slide-top"),$(".action-sheet-container").attr("employee_id",t),$(".action-sheet-container").attr("employee_socket_status",a)}))}else if("inactive"==i){if(0==o)showAction({action_id:"employee_alert_actions",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"Edit",attr:[{name:"class",value:"employee_edit"}]},{name:"Activate",attr:[{name:"class",value:"employee_activate"}]},{name:"Delete",attr:[{name:"class",value:"employee_delete"}]}]},(function(){$(".action-sheet-container").removeClass("hide").addClass("slide-top"),$(".action-sheet-container").attr("employee_id",t),$(".action-sheet-container").attr("employee_socket_status",a)}));else showAction({action_id:"employee_alert_actions",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"Edit",attr:[{name:"class",value:"employee_edit"}]},{name:"Activate",attr:[{name:"class",value:"employee_activate"}]}]},(function(){$(".action-sheet-container").removeClass("hide").addClass("slide-top"),$(".action-sheet-container").attr("employee_id",t),$(".action-sheet-container").attr("employee_socket_status",a)}))}else if("exited"==i){showAction({action_id:"employee_alert_actions",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"Delete",attr:[{name:"class",value:"employee_delete"}]}]},(function(){$(".action-sheet-container").removeClass("hide").addClass("slide-top"),$(".action-sheet-container").attr("employee_id",t),$(".action-sheet-container").attr("employee_socket_status",a)}))}}})),$(document).on("click",".employee_inactivate",(function(){addLoader();var e=$("#employee_alert_actions").attr("employee_id");$("#employee_alert_actions").remove(),employeeUpdate({device_id:crossplat.device.uuid,id:e,data:{status:"inactive",update_for:"socket_enable_status"}}).then((e=>{removeLoader(),sockets.employeeUpdate(e.Data),Materialize.toast("Successfully inactivated.",3e3,"round success-alert")})).catch((e=>{removeLoader(),Materialize.toast("Error in inactivating.",3e3,"round error-alert")}))})),$(document).on("click",".employee_activate",(function(){addLoader();var e=$("#employee_alert_actions").attr("employee_id");$("#employee_alert_actions").remove(),employeeUpdate({device_id:crossplat.device.uuid,id:e,data:{status:"active",update_for:"socket_enable_status"}}).then((e=>{removeLoader(),sockets.employeeUpdate(e.Data),Materialize.toast("Successfully activated.",3e3,"round success-alert")})).catch((e=>{removeLoader(),Materialize.toast("Error in activating.",3e3,"round error-alert")}))})),$(document).on("click",".customer_inactivate",(function(){addLoader();var e=$("#customer_alert_actions").attr("customer_id");$("#customer_alert_actions").remove(),customerUpdate({device_id:crossplat.device.uuid,id:e,data:{status:"inactive",update_for:"socket_enable_status"}}).then((e=>{removeLoader(),Materialize.toast("Successfully inactivated.",3e3,"round success-alert")})).catch((e=>{removeLoader(),Materialize.toast("Error in inactivating.",3e3,"round error-alert")}))})),$(document).on("click",".customer_activate",(function(){addLoader();var e=$("#customer_alert_actions").attr("customer_id");$("#customer_alert_actions").remove(),customerUpdate({device_id:crossplat.device.uuid,id:e,data:{status:"active",update_for:"socket_enable_status"}}).then((e=>{removeLoader(),Materialize.toast("Successfully activated.",3e3,"round success-alert")})).catch((e=>{removeLoader(),Materialize.toast("Error in activating.",3e3,"round error-alert")}))})),$(document).on("click",".associate_customer_inactivate",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){addLoader();var t=$("#associate_customer_alert_actions").attr("associate_customer_id");$("#associate_customer_alert_actions").remove(),associateCustomerUpdate({device_id:crossplat.device.uuid,id:t,data:{status:"inactive",update_for:"socket_enable_status"}}).then((e=>{removeLoader(),Materialize.toast("Successfully inactivated.",3e3,"round success-alert")})).catch((e=>{removeLoader(),Materialize.toast("Error in inactivating.",3e3,"round error-alert")}))}})),$(document).on("click",".associate_customer_activate",(function(){addLoader();var e=$("#associate_customer_alert_actions").attr("associate_customer_id");$("#associate_customer_alert_actions").remove(),associateCustomerUpdate({device_id:crossplat.device.uuid,id:e,data:{status:"active",update_for:"socket_enable_status"}}).then((e=>{removeLoader(),Materialize.toast("Successfully activated.",3e3,"round success-alert")})).catch((e=>{removeLoader(),Materialize.toast("Error in activating.",3e3,"round error-alert")}))})),$(document).on("click","#add-department",(function(e){e.stopImmediatePropagation(),isDoubleClicked($(this))||(addLoader(),fetch.getHtml((function(e,t){e||showAlert({alert_id:"modal-department-add-cancel",alert_platform:crossplat.device.platform,alert_title:"Add Department",alert_body:t,alert_btn:[{name:"Cancel",attr:[{name:"id",value:"alert-add-department-cancel"}]},{name:"Save",attr:[{name:"id",value:"alert-add-department-confirm"}]}]},(function(){removeLoader()}))}),"layouts/popup/new_department","#new-department-template",null))})),$(document).on("click","#alert-add-department-cancel",(function(e){e.stopImmediatePropagation(),isDoubleClicked($(this))||$("#modal-department-add-cancel").remove()})),$(document).on("click","#alert-add-department-confirm",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){addLoader();var t=$("#new_department_name");if(validateEmployeeData(t))departmentAdd({device_id:crossplat.device.uuid,name:firstLetterUpperCase($(t).text().trim()),business_id:sessionStorage.getItem("business_id")}).then((e=>{removeLoader(),$("#modal-department-add-cancel").remove()})).catch((e=>{removeLoader(),Materialize.toast(`${e.msg}`,3e3,"round success-alert")}));else removeLoader()}})),$(document).on("click","#show-action-department",(function(){var e=$(this).parents(".department-wrapper").attr("data-id");showAction({action_id:"department_action_sheet",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"Edit",attr:[{name:"class",value:"edit_department"}]},{name:"Delete",attr:[{name:"class",value:"delete_department"}]}]},(function(){$(".action-sheet-container").removeClass("hide").addClass("slide-top"),$(".action-sheet-container").attr("department-id",e)}))})),$(document).on("click",".edit_department",(function(){addLoader();var e=$("#department_action_sheet").attr("department-id");$("#department_action_sheet").remove(),departmentGet({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"id",id:e}).then((e=>{var t={department:e.name};fetch.getHtml((function(t,i){t||(removeLoader(),showAlert({alert_id:"modal-edit-department-add-cancel",alert_platform:crossplat.device.platform,alert_title:"Edit Department",alert_body:i,alert_btn:[{name:"Cancel",attr:[{name:"id",value:"alert-edit-department-cancel"}]},{name:"Save",attr:[{name:"id",value:"alert-edit-department-add"}]}]},(function(){$("#modal-edit-department-add-cancel").attr("data-department-id",e.id)})))}),"layouts/popup/edit_department","#edit-department-template",t)})).catch((e=>{removeLoader(),Materialize.toast("Error in getting department.",3e3,"round success-alert")}))})),$(document).on("click","#alert-edit-department-cancel",(function(){$("#modal-edit-department-add-cancel").remove()})),$(document).on("click","#alert-edit-department-add",(function(){addLoader();var e=$("#modal-edit-department-add-cancel").attr("data-department-id"),t=$("#edit_department_name");validateEmployeeData(t)?($("#modal-edit-department-add-cancel").remove(),departmentUpdate({device_id:crossplat.device.uuid,id:e,name:firstLetterUpperCase($(t).text().trim())}).then((e=>{removeLoader()})).catch((e=>{removeLoader(),"no updated data found"==e.msg?Materialize.toast("Successfully updated.",3e3,"round success-alert"):Materialize.toast("Error in updating department.",3e3,"round success-alert")}))):removeLoader()})),$(document).on("click",".delete_department",(function(){addLoader();var e=$("#department_action_sheet").attr("department-id");departmentDelete({device_id:crossplat.device.uuid,id:e}).then((e=>{$("#department_action_sheet").remove(),Materialize.toast("Successfully deleted.",3e3,"round success-alert"),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(`${e.msg}`,3e3,"round error-alert")}))})),$(document).on("click","#save-department",(function(){addLoader();var e=$(this).parents(".create-department-name-container").find("#department_name");validateEmployeeData(e)?departmentAdd({device_id:crossplat.device.uuid,name:firstLetterUpperCase($(e).text().trim()),business_id:sessionStorage.getItem("business_id")}).then((e=>{removeLoader(),$(".department-btn-wrapper").removeClass("hide"),sessionStorage.setItem("department_id",e.id),$("#add_department_level").attr("data-parent-id",e.id),$(".create-sub-departments-main-container").attr("data-parent-id",e.id),$(this).parent().addClass("hide"),$("#edit-department").parent().removeClass("hide")})).catch((e=>{removeLoader(),Materialize.toast("Error in adding department",3e3,"round success-alert")})):removeLoader()})),$(document).on("click","#edit-department",(function(){addLoader();var e=$(this).parents(".create-department-name-container").find("#department_name"),t=sessionStorage.getItem("department_id");validateEmployeeData(e)?departmentUpdate({device_id:crossplat.device.uuid,id:t,name:firstLetterUpperCase($(e).text().trim())}).then((e=>{removeLoader(),Materialize.toast("Successfully updated",3e3,"round success-alert")})).catch((e=>{removeLoader(),Materialize.toast("Error in updating department",3e3,"round success-alert")})):removeLoader()})),$(document).on("click","#add_department_level",(function(){var e=sessionStorage.getItem("department_id");fetch.getHtml((function(t,i){t||showAlert({alert_id:"modal-new-department-add-cancel",alert_platform:crossplat.device.platform,alert_title:"Name",alert_body:i,alert_btn:[{name:"Cancel",attr:[{name:"id",value:"alert-new-department-cancel"}]},{name:"Add",attr:[{name:"id",value:"alert-new-department-add"}]}]},(function(){$("#modal-new-department-add-cancel").attr("data-parent-id",e)}))}),"layouts/popup/new_department","#new-department-template",null)})),$(document).on("click","#alert-new-department-cancel",(function(){$("#modal-new-department-add-cancel").remove()})),$(document).on("click","#alert-new-department-add",(function(){addLoader();var e=$("#new_department_name"),t=$("#modal-new-department-add-cancel").attr("data-parent-id");validateEmployeeData(e)?($("#modal-new-department-add-cancel").remove(),""!=t||null!=t||null!=t?departmentAdd({device_id:crossplat.device.uuid,parent_id:t,name:firstLetterUpperCase($(e).text().trim()),business_id:sessionStorage.getItem("business_id")}).then((e=>{removeLoader()})).catch((e=>{removeLoader(),Materialize.toast("Error in adding department",3e3,"round success-alert")})):removeLoader()):removeLoader()})),$(document).on("click","#employee_department_assignment_btn",(function(){addLoader(),digibiz.department_list_selection=[],departmentList({device_id:crossplat.device.uuid,list_by:"department",business_id:sessionStorage.getItem("business_id")}).then((e=>{var t=[];$.each($(".employee-department-assignment-box"),(function(e,i){t.push({id:$(i).attr("data-id"),name:$(i).find(".employee-department-assignment-name").text()})})),digibiz.alreadySelectedDepartment=t,showModal({modal_id:"assign-employee-department-modal",modal_header:"Assign Employee Department",modal_platform:crossplat.device.platform,modal_body:'<div id="department-list-main-container">\n                                            <span class="searchbtn waves-effect"><i class="material-icons">search</i></span>\n                                             <div class="expand-search-wrap" id="department-list-search-btn">\n                                             <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                                             <span class="searchclosebtn"><i class="material-icons department-list-close-btn hide">close</i></span>\n                                        </div>\n                                        <div id="department-list-selection-wrapper"></div>\n                                        </div>',modal_action_buttons:[{name:"Confirm",id:"confirm_employee_department_assignment"}]},(function(){removeLoader(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),$(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content")):($(".custom-modal-popup").show().addClass("modal-slide-top"),$(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content")),processDepartmentListSelection(e,(function(){setTimeout((function(){let e=document.querySelector(".expand-search-input");e&&(e.addEventListener("input",(function(){timestamp=(new Date).getTime(),e.setAttribute("socketid",timestamp)})),e.addEventListener("keyup",(function(t){if(socketid=e.getAttribute("socketid"),keyword=e.value,socketid&&keyword){if(document.getElementsByClassName("searchclosebtn")[0].style.display="flex",currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:socketid,app:"digibiz",keyword:keyword},"employee_create"===currentroute)$("#assign-employee-department-modal").length>0&&(data.index="getEmployeeCreatDepartmentSelection",data.business_id=sessionStorage.getItem("business_id"));addLoader(),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300)}else if(removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),e.removeAttribute("socketid"),"employee_create"===currentroute)$("#assign-employee-department-modal").length>0&&processDepartmentListSelection(digibiz.department_list_selection,(function(){}))})))}),100)}))}))})).catch((e=>{removeLoader()}))})),$(document).on("change",".selected-department",(function(){addLoader();var e=$(this),t=$(this).attr("data-id");if($("#assign-employee-department-modal").length>0||$("#department-wise-employees-list-modal").length>0){var i=digibiz.department_list_selection.findIndex((e=>e.id==t));-1!=i&&($(e).is(":checked")?digibiz.department_list_selection[i].selected=!0:digibiz.department_list_selection[i].selected=!1),removeLoader()}else removeLoader()})),$(document).on("change",".communication-group-employee-select-btn",(function(){addLoader();var e=$(this),t=$(this).attr("data-dj-unique-employee-id");if($("#modal-communication-group-activate-employee-group-employee-list-selection").length>0){var i=$(this).parents("#modal-communication-group-activate-employee-group-employee-list-selection").attr("data-group-type");if("employee_list"==i)-1!=(o=digibiz.communicationActivateEmployeeGroupEmployeeList.findIndex((e=>e.member.dj_unique_employee_id==t)))&&($(e).is(":checked")?digibiz.communicationActivateEmployeeGroupEmployeeList[o].selected=!0:digibiz.communicationActivateEmployeeGroupEmployeeList[o].selected=!1);else if("standard_group"==i){var a=$(e).parents(".accordion-content").attr("data-group-id");if($(e).is(":checked"))null==digibiz.employeeSelectedContactList.find((e=>e.id==t&&e.group_id==a))&&digibiz.employeeSelectedContactList.push({id:t,group_id:a,selected:!0});else digibiz.employeeSelectedContactList=digibiz.employeeSelectedContactList.filter((e=>e.id!=t))}else{-1!=(o=digibiz.communicationActivateEmployeeGroupEmployeeList.findIndex((e=>e.dj_unique_employee_id==t)))&&($(e).is(":checked")?digibiz.communicationActivateEmployeeGroupEmployeeList[o].selected=!0:digibiz.communicationActivateEmployeeGroupEmployeeList[o].selected=!1)}removeLoader()}else if($("#modal-communication-group-employees-selection").length>0){var o;-1!=(o=digibiz.communicationGroupEmployeeSelectionList.findIndex((e=>e.dj_unique_employee_id==t)))&&($(e).is(":checked")?digibiz.communicationGroupEmployeeSelectionList[o].selected=!0:digibiz.communicationGroupEmployeeSelectionList[o].selected=!1),removeLoader()}else removeLoader()})),$(document).on("change",".communication-group-create-employee-group-selected",(function(){addLoader();var e=$(this),t=$(this).parents(".group-selection-wrapper").attr("data-group-id");if($("#modal-communication-group-employee-group-selection").length>0){var i=digibiz.communicationCreateEmployeeGroupsList.findIndex((e=>e.id==t));-1!=i&&($(e).is(":checked")?digibiz.communicationCreateEmployeeGroupsList[i].selected=!0:digibiz.communicationCreateEmployeeGroupsList[i].selected=!1),removeLoader()}else removeLoader()})),$(document).on("change",".communication-group-moderator-select-btn",(function(){addLoader();var e=$(this),t=$(this).attr("data-id");if($("#modal-communication-group-moderator-selection").length>0){var i=digibiz.communicationGroupActivate.findIndex((e=>e.member.id==t));-1!=i&&($(e).is(":checked")?digibiz.communicationGroupActivate[i].selected=!0:digibiz.communicationGroupActivate[i].selected=!1),removeLoader()}else removeLoader()})),$(document).on("change",".communication-group-create-collaborator-group-selected",(function(){addLoader();var e=$(this),t=$(this).parents(".group-selection-wrapper").attr("data-group-id");if($("#modal-communication-group-collaborator-group-selection").length>0){var i=digibiz.communicationCreateCollaboratorGroupsList.findIndex((e=>e.id==t));-1!=i&&($(e).is(":checked")?digibiz.communicationCreateCollaboratorGroupsList[i].selected=!0:digibiz.communicationCreateCollaboratorGroupsList[i].selected=!1),removeLoader()}else removeLoader()})),$(document).on("change",".communication-group-create-customer-group-selected",(function(){addLoader();var e=$(this),t=$(this).parents(".group-selection-wrapper").attr("data-group-id");if($("#modal-communication-group-customer-group-selection").length>0){var i=digibiz.communicationCreateCustomersGroupsList.findIndex((e=>e.id==t));-1!=i&&($(e).is(":checked")?digibiz.communicationCreateCustomersGroupsList[i].selected=!0:digibiz.communicationCreateCustomersGroupsList[i].selected=!1),removeLoader()}else removeLoader()})),$(document).on("click",".colloborator-add-search-business-btn",(function(e){e.stopImmediatePropagation(),addLoader();var t=$(this),i=$(this).parent(".collaborator-contact-wrapper").attr("data-id");let a=$(t).find("input:checkbox");$(e.target).is("input:checkbox")||a.prop("checked",!a.prop("checked")).parents(".colloborator-add-search-business-btn").toggleClass("selected-row"),$(t).hasClass("selected-row")?digibiz.collboratorContactAdd.hasOwnProperty("selected")&&1==digibiz.collboratorContactAdd.selected?($(e.target).is("input:checkbox")||a.prop("checked",!a.prop("checked")).parents(".colloborator-add-search-business-btn").toggleClass("selected-row"),Materialize.toast("Can select only one business.",3e3,"round error-alert")):digibiz.collboratorContactAdd={selected:!0,business_id:i}:digibiz.collboratorContactAdd.hasOwnProperty("selected")&&1==digibiz.collboratorContactAdd.selected&&digibiz.collboratorContactAdd.business_id==i&&(digibiz.collboratorContactAdd={}),removeLoader()})),$(document).on("click","#confirm_employee_department_assignment",(function(){addLoader();var e=[],t=sessionStorage.getItem("employee_id"),i=$(".department-list-data-wrapper");($.each(i,(function(t,i){$(i).hasClass("selected-row")&&e.push({id:$(i).attr("data-id"),name:firstLetterUpperCase($(i).find(".department-name").find("span").text())})})),e.length>0)?employeeDepartmentAssignmentAdd({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),dj_unique_employee_id:t,department_assignment:e}).then((e=>{removeLoader(),digibiz.alreadySelectedDepartment=[],$("#assign-employee-department-modal").remove(),$(".employee-department-assignment-list-main-container").find(".employee-department-assignment-box").remove(),e.length>0&&$.each(e,(function(e,t){var i=`<div class="employee-department-assignment-box" data-id="${t.department_id}" data-record-id="${t.id}">\n                        <div class="employee-department-assignment-wrapper">\n                        <div class="employee-department-assignment-name-container">                      \n                            <div class="employee-department-assignment-name-wrapper">                      \n                                <div class="employee-department-assignment-name">${t.department_name}</div>                      \n                            </div>                      \n                        </div>                   \n                        <div class="btn-wrap">              \n                            <div class="more-menu-wrapper" id="employee_department_assignment_remove"><i class="material-icons">delete</i></div>\n                        </div>  \n                        </div>              \n                    </div>`;$(".employee-department-assignment-list-main-container").append(i)}))})).catch((e=>{removeLoader(),$("#assign-employee-department-modal").remove()})):(removeLoader(),Materialize.toast("Please select atleast 1 department.",3e3,"rounded error-alert"))})),$(document).on("click","#employee_department_assignment_remove",(function(){addLoader();var e=$(this).parents(".employee-department-assignment-box").attr("data-id");employeeDepartmentAssignmentDelete({device_id:crossplat.device.uuid,id:sessionStorage.getItem("employee_id"),department_id:e}).then((t=>{$(`.employee-department-assignment-box[data-id="${e}"]`).remove(),Materialize.toast("Successfully deleted.",3e3,"rounded error-alert"),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(`${e.msg}`,3e3,"rounded error-alert")}))})),$(document).on("click","#added_sub_department",(function(){if("department_create"==$("body").attr("app")){addLoader();var e=$(this).parents(".sub-department-box").attr("data-id");showAction({action_id:"sub_department_actions_sheet",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"Edit",attr:[{name:"class",value:"edit_sub_dept"}]},{name:"Add-Sub-Department",attr:[{name:"class",value:"add_sub_dept"}]}]},(function(){removeLoader(),$(".action-sheet-container").removeClass("hide").addClass("slide-top"),$(".action-sheet-container").attr("action_dept_id",e)}))}})),$(document).on("click",".add_sub_dept",(function(){var e=$(".action-sheet-container").attr("action_dept_id");$("#sub_department_actions_sheet").remove(),fetch.getHtml((function(t,i){t||showAlert({alert_id:"modal-new-department-add-cancel",alert_platform:crossplat.device.platform,alert_title:"Name",alert_body:i,alert_btn:[{name:"Cancel",attr:[{name:"id",value:"alert-new-department-cancel"}]},{name:"Add",attr:[{name:"id",value:"alert-new-department-add"}]}]},(function(){$("#modal-new-department-add-cancel").attr("data-parent-id",e)}))}),"layouts/popup/new_department","#new-department-template",null)})),$(document).on("click",".edit_sub_dept",(function(){var e=$(".action-sheet-container").attr("action_dept_id");$("#sub_department_actions_sheet").remove(),departmentGet({device_id:crossplat.device.uuid,id:e}).then((e=>{var t={name:e.name};fetch.getHtml((function(t,i){t||showAlert({alert_id:"modal-edit-department-add-cancel",alert_platform:crossplat.device.platform,alert_title:"Name",alert_body:i,alert_btn:[{name:"Cancel",attr:[{name:"id",value:"alert-edit-department-cancel"}]},{name:"Save",attr:[{name:"id",value:"alert-edit-department-add"}]}]},(function(){$("#modal-edit-department-add-cancel").attr("data-parent-id",e.parent_id),$("#modal-edit-department-add-cancel").attr("data-id",e.id)}))}),"layouts/popup/new_department","#new-department-template",t)})).catch((e=>{removeLoader(),Materialize.toast("Error in getting department",3e3,"round success-alert")}))})),$(document).on("click","#alert-edit-department-cancel",(function(){$("#modal-edit-department-add-cancel").remove()})),$(document).on("click","#alert-edit-department-add",(function(){addLoader();var e=$("#modal-edit-department-add-cancel").attr("data-id"),t=($("#modal-edit-department-add-cancel").attr("data-parent-id"),$("#new_department_name"));validateEmployeeData(t)?departmentUpdate({device_id:crossplat.device.uuid,id:e,name:firstLetterUpperCase($(t).text().trim())}).then((e=>{removeLoader(),$("#modal-edit-department-add-cancel").remove()})).catch((e=>{removeLoader(),Materialize.toast("Error in getting department",3e3,"round success-alert")})):removeLoader()})),$(document).on("click",".action-sheet-cancel-btn",(function(){window.pauseInterval=null,$(".action-sheet-container").remove()})),$(document).on("click",".filemanger_container_toggle",(function(){$(".filemanger_container_toggle").addClass("active")})),$(document).on("click",".group-creation",(function(){addLoader(),location.hash="group_create"})),$(document).on("click",".department-management",(function(){addLoader(),location.hash="department_management"})),$(document).on("click","#add-employee-type",(function(){addLoader(),fetch.getHtml((function(e,t){e||showAlert({alert_id:"modal-employee-type-add-cancel",alert_platform:crossplat.device.platform,alert_title:"Add Employee Type",alert_body:t,alert_btn:[{name:"Cancel",attr:[{name:"id",value:"alert-add-employee-type-cancel"}]},{name:"Save",attr:[{name:"id",value:"alert-add-employee-type-confirm"}]}]},(function(){removeLoader()}))}),"layouts/popup/add_new_employee_type","#add-new-employee-type-template",null)})),$(document).on("click","#alert-add-employee-type-cancel",(function(){$("#modal-employee-type-add-cancel").remove()})),$(document).on("click","#alert-add-employee-type-confirm",(function(){addLoader(),$(this).prop("disabled",!1);var e=$("#employee_type");validateEmployeeData(e)?employeeTypeAdd({device_id:crossplat.device.uuid,type:firstLetterUpperCase($(e).text().trim()),business_id:sessionStorage.getItem("business_id")}).then((e=>{Materialize.toast("Successfully Saved.",3e3,"round success-alert"),$("#modal-employee-type-add-cancel").remove(),removeLoader(),$(this).prop("disabled",!1)})).catch((e=>{removeLoader(),$(this).prop("disabled",!1),Materialize.toast("Error in adding department",3e3,"round success-alert")})):removeLoader()})),$(document).on("click","#add-employee-category",(function(){addLoader(),fetch.getHtml((function(e,t){e||showAlert({alert_id:"modal-employee-category-add-cancel",alert_platform:crossplat.device.platform,alert_title:"Add Employee Category",alert_body:t,alert_btn:[{name:"Cancel",attr:[{name:"id",value:"alert-add-employee-category-cancel"}]},{name:"Save",attr:[{name:"id",value:"alert-add-employee-category-confirm"}]}]},(function(){removeLoader()}))}),"layouts/popup/add_new_employee_category","#add-new-employee-category-template",null)})),$(document).on("click","#alert-add-employee-category-cancel",(function(){$("#modal-employee-category-add-cancel").remove()})),$(document).on("click","#alert-add-employee-category-confirm",(function(){addLoader(),$(this).prop("disabled",!1);var e=$("#employee_category");validateEmployeeData(e)?employeeCategoryAdd({device_id:crossplat.device.uuid,category:firstLetterUpperCase($(e).text().trim()),business_id:sessionStorage.getItem("business_id")}).then((e=>{Materialize.toast("Successfully Saved.",3e3,"round success-alert"),$("#modal-employee-category-add-cancel").remove(),removeLoader(),$(this).prop("disabled",!1)})).catch((e=>{removeLoader(),$(this).prop("disabled",!1),Materialize.toast("Error in adding employee category",3e3,"round success-alert")})):removeLoader()})),$(document).on("click","#add-employee-designation",(function(){addLoader(),fetch.getHtml((function(e,t){e||showAlert({alert_id:"modal-employee-designation-add-cancel",alert_platform:crossplat.device.platform,alert_title:"Add Employee Designation",alert_body:t,alert_btn:[{name:"Cancel",attr:[{name:"id",value:"alert-add-employee-designation-cancel"}]},{name:"Save",attr:[{name:"id",value:"alert-add-employee-designation-confirm"}]}]},(function(){removeLoader()}))}),"layouts/popup/add_new_employee_designation","#add-new-employee-designation-template",null)})),$(document).on("click","#alert-add-employee-designation-cancel",(function(){$("#modal-employee-designation-add-cancel").remove()})),$(document).on("click","#alert-add-employee-designation-confirm",(function(){addLoader(),$(this).prop("disabled",!1);var e=$("#employee_designation");validateEmployeeData(e)?employeeDesignationAdd({device_id:crossplat.device.uuid,designation:firstLetterUpperCase($(e).text().trim()),business_id:sessionStorage.getItem("business_id")}).then((e=>{Materialize.toast("Successfully Saved.",3e3,"round success-alert"),$("#modal-employee-designation-add-cancel").remove(),removeLoader(),$(this).prop("disabled",!1)})).catch((e=>{removeLoader(),$(this).prop("disabled",!1),Materialize.toast("Error in adding employee designation",3e3,"round success-alert")})):removeLoader()})),$(document).on("click","#save-employee-type",(function(){addLoader(),$(this).prop("disabled",!1);var e=$(this).parents(".employee-types-create-container").find("#employee_type");validateEmployeeData(e)?employeeTypeAdd({device_id:crossplat.device.uuid,type:firstLetterUpperCase($(e).text().trim()),business_id:sessionStorage.getItem("business_id")}).then((e=>{Materialize.toast("Successfully Saved.",3e3,"round success-alert"),$("#modal-employee-type-add-cancel").remove(),removeLoader(),$(this).prop("disabled",!1)})).catch((e=>{removeLoader(),$(this).prop("disabled",!1),Materialize.toast("Error",3e3,"round success-alert")})):removeLoader()})),$(document).on("click","#save-employee-category",(function(){addLoader(),$(this).prop("disabled",!1);var e=$(this).parents(".employee-category-create-container").find("#employee_category");validateEmployeeData(e)?employeeCategoryAdd({device_id:crossplat.device.uuid,category:firstLetterUpperCase($(e).text().trim()),business_id:sessionStorage.getItem("business_id")}).then((e=>{Materialize.toast("Successfully Saved.",3e3,"round success-alert"),removeLoader(),$(this).prop("disabled",!1)})).catch((e=>{removeLoader(),$(this).prop("disabled",!1),Materialize.toast("Error in adding employee category",3e3,"round success-alert")})):removeLoader()})),$(document).on("click","#save-employee-designation",(function(){addLoader(),$(this).prop("disabled",!1);var e=$(this).parents(".employee-designation-create-container").find("#employee_designation");validateEmployeeData(e)?employeeDesignationAdd({device_id:crossplat.device.uuid,designation:firstLetterUpperCase($(e).text().trim()),business_id:sessionStorage.getItem("business_id")}).then((e=>{Materialize.toast("Successfully Saved.",3e3,"round success-alert"),removeLoader(),$(this).prop("disabled",!1)})).catch((e=>{removeLoader(),$(this).prop("disabled",!1),Materialize.toast("Error in adding employee designation",3e3,"round success-alert")})):removeLoader()})),$(document).on("click",".show-action-employee-type-data",(function(){var e=$(this).parent(".employee-type-wrapper").attr("data-employee-type-id");showAction({action_id:"employee_type_action_sheet",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"Edit",attr:[{name:"class",value:"edit_employee_type"}]}]},(function(){$(".action-sheet-container").removeClass("hide").addClass("slide-top"),$(".action-sheet-container").attr("employee-type-id",e)}))})),$(document).on("click",".edit_employee_type",(function(){addLoader();var e=$(".action-sheet-container").attr("employee-type-id");$(".action-sheet-container").remove(),employeeTypeGet({device_id:crossplat.device.uuid,id:e}).then((e=>{var t={type:e.type};fetch.getHtml((function(t,i){t||(removeLoader(),showAlert({alert_id:"modal-edit-employee-type-add-cancel",alert_platform:crossplat.device.platform,alert_title:"Employee Type",alert_body:i,alert_btn:[{name:"Cancel",attr:[{name:"id",value:"alert-edit-employee-type-cancel"}]},{name:"Save",attr:[{name:"id",value:"alert-edit-employee-type-add"}]}]},(function(){$("#modal-edit-employee-type-add-cancel").attr("data-employee-type-id",e.id)})))}),"layouts/popup/edit_employee_type","#edit-employee-type-template",t)})).catch((e=>{removeLoader(),Materialize.toast("Error in getting employee type",3e3,"round success-alert")}))})),$(document).on("click","#alert-edit-employee-type-cancel",(function(){$("#modal-edit-employee-type-add-cancel").remove()})),$(document).on("click","#alert-edit-employee-type-add",(function(){addLoader();var e=$("#modal-edit-employee-type-add-cancel").attr("data-employee-type-id"),t=$("#edited_employee_type");validateEmployeeData(t)?($("#modal-edit-employee-type-add-cancel").remove(),employeeTypeUpdate({device_id:crossplat.device.uuid,id:e,type:firstLetterUpperCase($(t).text().trim())}).then((e=>{removeLoader()})).catch((e=>{removeLoader(),"no updated data found"==e.msg?Materialize.toast("Successfully updated.",3e3,"round success-alert"):Materialize.toast("Error in updating employee type",3e3,"round success-alert")}))):removeLoader()})),$(document).on("click",".delete_employee_type",(function(){addLoader();var e=$(".action-sheet-container").attr("employee-type-id");$(".action-sheet-container").remove(),showAlert({alert_id:"alert-delete-employee-type-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Delete Employee Type",alert_body:"Are you sure you want to delete the employee type?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-delete-employee-type-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-delete-employee-type-cancel-no"}]}]},(function(){$("#alert-delete-employee-type-confirm-cancel").attr("data-employee-type-id",e)}))})),$(document).on("click","#btn-delete-employee-type-cancel-no",(function(){$("#alert-delete-employee-type-confirm-cancel").remove()})),$(document).on("click","#btn-delete-employee-type-confirm-yes",(function(){$(this).prop("disabled",!0),addLoader();var e=$("#alert-delete-employee-type-confirm-cancel").attr("data-employee-type-id");$("#alert-delete-employee-type-confirm-cancel").remove(),employeeTypeDelete({device_id:crossplat.device.uuid,id:e}).then((e=>{removeLoader(),$(this).prop("disabled",!1)})).catch((e=>{removeLoader(),$(this).prop("disabled",!1),Materialize.toast("Error in deleting employee type",3e3,"round success-alert")}))})),$(document).on("click",".show-action-employee-category-data",(function(){var e=$(this).parent(".employee-category-wrapper").attr("data-employee-category-id");showAction({action_id:"employee_category_action_sheet",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"Edit",attr:[{name:"class",value:"edit_employee_category"}]}]},(function(){$(".action-sheet-container").removeClass("hide").addClass("slide-top"),$(".action-sheet-container").attr("employee-category-id",e)}))})),$(document).on("click",".edit_employee_category",(function(){addLoader();var e=$(".action-sheet-container").attr("employee-category-id");$(".action-sheet-container").remove(),employeeCategoryGet({device_id:crossplat.device.uuid,id:e}).then((e=>{var t={category:e.category};fetch.getHtml((function(t,i){t||(removeLoader(),showAlert({alert_id:"modal-edit-employee-category-add-cancel",alert_platform:crossplat.device.platform,alert_title:"Employee Category",alert_body:i,alert_btn:[{name:"Cancel",attr:[{name:"id",value:"alert-edit-employee-category-cancel"}]},{name:"Save",attr:[{name:"id",value:"alert-edit-employee-category-add"}]}]},(function(){$("#modal-edit-employee-category-add-cancel").attr("data-employee-category-id",e.id)})))}),"layouts/popup/edit_employee_category","#edit-employee-category-template",t)})).catch((e=>{removeLoader(),Materialize.toast("Error in getting employee category",3e3,"round success-alert")}))})),$(document).on("click","#alert-edit-employee-category-cancel",(function(){$("#modal-edit-employee-category-add-cancel").remove()})),$(document).on("click","#alert-edit-employee-category-add",(function(){addLoader();var e=$("#modal-edit-employee-category-add-cancel").attr("data-employee-category-id"),t=$("#edited_employee_category");validateEmployeeData(t)?($("#modal-edit-employee-category-add-cancel").remove(),employeeCategoryUpdate({device_id:crossplat.device.uuid,id:e,category:firstLetterUpperCase($(t).text().trim())}).then((e=>{removeLoader()})).catch((e=>{removeLoader(),"no updated data found"==e.msg?Materialize.toast("Successfully updated.",3e3,"round success-alert"):Materialize.toast("Error in updating employee category",3e3,"round success-alert")}))):removeLoader()})),$(document).on("click",".delete_employee_category",(function(){addLoader();var e=$(".action-sheet-container").attr("employee-category-id");$(".action-sheet-container").remove(),showAlert({alert_id:"alert-delete-employee-category-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Delete Employee Category",alert_body:"Are you sure you want to delete the employee category?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-delete-employee-category-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-delete-employee-category-cancel-no"}]}]},(function(){$("#alert-delete-employee-category-confirm-cancel").attr("data-employee-category-id",e)}))})),$(document).on("click","#btn-delete-employee-category-cancel-no",(function(){$("#alert-delete-employee-category-confirm-cancel").remove()})),$(document).on("click","#btn-delete-employee-category-confirm-yes",(function(){$(this).prop("disabled",!0),addLoader();var e=$("#alert-delete-employee-category-confirm-cancel").attr("data-employee-category-id");$("#alert-delete-employee-category-confirm-cancel").remove(),employeeCategoryDelete({device_id:crossplat.device.uuid,id:e}).then((e=>{removeLoader(),$(this).prop("disabled",!1)})).catch((e=>{removeLoader(),$(this).prop("disabled",!1),Materialize.toast("Error in deleting employee category",3e3,"round success-alert")}))})),$(document).on("click",".show-action-employee-designation-data",(function(){var e=$(this).parent(".employee-designation-wrapper").attr("data-employee-designation-id");showAction({action_id:"employee_designation_action_sheet",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"Edit",attr:[{name:"class",value:"edit_employee_designation"}]}]},(function(){$(".action-sheet-container").removeClass("hide").addClass("slide-top"),$(".action-sheet-container").attr("employee-designation-id",e)}))})),$(document).on("click",".edit_employee_designation",(function(){addLoader();var e=$(".action-sheet-container").attr("employee-designation-id");$(".action-sheet-container").remove(),employeeDesignationGet({device_id:crossplat.device.uuid,id:e}).then((e=>{var t={designation:e.designation};fetch.getHtml((function(t,i){t||(removeLoader(),showAlert({alert_id:"modal-edit-employee-designation-add-cancel",alert_platform:crossplat.device.platform,alert_title:"Employee Designation",alert_body:i,alert_btn:[{name:"Cancel",attr:[{name:"id",value:"alert-edit-employee-designation-cancel"}]},{name:"Save",attr:[{name:"id",value:"alert-edit-employee-designation-add"}]}]},(function(){$("#modal-edit-employee-designation-add-cancel").attr("data-employee-designation-id",e.id)})))}),"layouts/popup/edit_employee_designation","#edit-employee-designation-template",t)})).catch((e=>{removeLoader(),Materialize.toast("Error in getting employee designation",3e3,"round success-alert")}))})),$(document).on("click","#alert-edit-employee-designation-cancel",(function(){$("#modal-edit-employee-designation-add-cancel").remove()})),$(document).on("click","#alert-edit-employee-designation-add",(function(){addLoader();var e=$("#modal-edit-employee-designation-add-cancel").attr("data-employee-designation-id"),t=$("#edited_employee_designation");validateEmployeeData(t)?($("#modal-edit-employee-designation-add-cancel").remove(),employeeDesignationUpdate({device_id:crossplat.device.uuid,id:e,designation:firstLetterUpperCase($(t).text().trim())}).then((e=>{removeLoader(),$(`.employee-designation-wrapper[data-employee-designation-id="${e.id}"]`).find(".employee_designation_name").text(e.designation)})).catch((e=>{removeLoader(),"no updated data found"==e.msg?Materialize.toast("Successfully updated.",3e3,"round success-alert"):Materialize.toast("Error in updating employee designation",3e3,"round success-alert")}))):removeLoader()})),$(document).on("click",".delete_employee_designation",(function(){addLoader();var e=$(".action-sheet-container").attr("employee-designation-id");$(".action-sheet-container").remove(),showAlert({alert_id:"alert-delete-employee-designation-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Delete Employee Designation",alert_body:"Are you sure you want to delete the employee designation?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-delete-employee-designation-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-delete-employee-designation-cancel-no"}]}]},(function(){$("#alert-delete-employee-designation-confirm-cancel").attr("data-employee-designation-id",e)}))})),$(document).on("click","#btn-delete-employee-designation-cancel-no",(function(){$("#alert-delete-employee-designation-confirm-cancel").remove()})),$(document).on("click","#btn-delete-employee-designation-confirm-yes",(function(){$(this).prop("disabled",!0),addLoader();var e=$("#alert-delete-employee-designation-confirm-cancel").attr("data-employee-designation-id");$("#alert-delete-employee-designation-confirm-cancel").remove(),employeeDesignationDelete({device_id:crossplat.device.uuid,id:e}).then((t=>{removeLoader(),$(this).prop("disabled",!1),$(`.employee-designation-wrapper[data-employee-designation-id="${e}"]`).remove()})).catch((e=>{removeLoader(),$(this).prop("disabled",!1),Materialize.toast("Error in deleting employee designation",3e3,"round success-alert")}))})),$(document).on("click",".business-tags",(function(){addLoader(),location.hash="business/tags"})),$(document).on("click",".business-types",(function(){addLoader(),location.hash="business/types"})),$(document).on("click",".business-create",(function(){addLoader(),location.hash="business/create"})),$(document).on("click",".add-business-tags-btn",(function(){addLoader(),fetch.getHtml((function(e,t){e||(removeLoader(),showAlert({alert_id:"alert-business-tag-add-cancel",alert_platform:crossplat.device.platform,alert_title:"Business Tag",alert_body:t,alert_btn:[{name:"Cancel",attr:[{name:"id",value:"alert-business-tag-cancel"}]},{name:"Save",attr:[{name:"id",value:"alert-business-tag-add"}]}]},(function(){})))}),"layouts/business_popup/business_tags","#business-tag-template",null)})),$(document).on("click","#alert-business-tag-cancel",(function(){$("#alert-business-tag-add-cancel").remove()})),$(document).on("click","#alert-business-tag-add",(function(){$(this).prop("disabled",!0),addLoader();var e=$("#business_tag").text();validateBusinessTagName(e)?businessTagAdd({device_id:crossplat.device.uuid,name:e}).then((e=>{var t=`<div class="business-tags-content-box" data-id="${e.id}" data-parent-id="${e.parent_id}">\n                    <div class="business-tags-box-name-symbol-content-box">\n                        <i class="material-icons business-tag-arrow-right" id="business_tag_arrow_button">keyboard_arrow_right</i>                                \n                        <div id="added_business_tag_department" type="text" contenteditable="false" class="validate" autocomplete="off" disabled>${e.name}</div>\n                    </div>\n                    <div class="sub_business_tag_container_box" data-id="${e.id}"></div>\n                    </div>`;$(".business_tags_list_content_box").append(t),$(this).prop("disabled",!1),removeLoader(),$("#alert-business-tag-add-cancel").remove()})).catch((e=>{$(this).prop("disabled",!1),removeLoader(),Materialize.toast("Error in adding the business tag ",3e3,"round success-alert")})):(removeLoader(),$(this).prop("disabled",!1))})),$(document).on("click","#added_business_tag_department",(function(){addLoader();var e=$(this).parents(".business-tags-content-box").attr("data-id");showAction({action_id:"business_tag_action_sheet",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"Edit",attr:[{name:"class",value:"edit_business_tag"}]},{name:"Delete",attr:[{name:"class",value:"delete_business_tag"}]}]},(function(){removeLoader(),$(".action-sheet-container").removeClass("hide").addClass("slide-top"),$(".action-sheet-container").attr("business_tag_id",e)}))})),$(document).on("click",".edit_business_tag",(function(){addLoader();var e=$(".action-sheet-container").attr("business_tag_id");$(".action-sheet-container").remove(),businessTagGet({device_id:crossplat.device.uuid,id:e}).then((e=>{var t={name:e.name};fetch.getHtml((function(t,i){t||showAlert({alert_id:"alert-edit-business-tag-add-cancel",alert_platform:crossplat.device.platform,alert_title:"Edit Business Tag",alert_body:i,alert_btn:[{name:"Cancel",attr:[{name:"id",value:"alert-edit-business-tag-cancel"}]},{name:"Save",attr:[{name:"id",value:"alert-edit-business-tag-add"}]}]},(function(){$("#alert-edit-business-tag-add-cancel").attr("data-id",e.id)}))}),"layouts/business_popup/business_tags","#business-tag-template",t)})).catch((e=>{removeLoader(),Materialize.toast("Error in getting the business tag ",3e3,"round success-alert")}))})),$(document).on("click","#alert-edit-business-tag-cancel",(function(){$("#alert-edit-business-tag-add-cancel").remove()})),$(document).on("click","#alert-edit-business-tag-add",(function(){$(this).prop("disabled",!0),addLoader();var e=$("#alert-edit-business-tag-add-cancel").attr("data-id"),t=$("#business_tag").text();validateBusinessTagName(t)?businessTagUpdate({device_id:crossplat.device.uuid,id:e,name:t}).then((e=>{$(`.business-tags-content-box[data-id="${e.id}"]`).find("#added_business_tag_department").text(e.name),$(this).prop("disabled",!1),removeLoader(),$("#alert-edit-business-tag-add-cancel").remove()})).catch((e=>{$(this).prop("disabled",!1),removeLoader(),Materialize.toast("Error in updating the business tag ",3e3,"round success-alert")})):(removeLoader(),$(this).prop("disabled",!1))})),$(document).on("click",".delete_business_tag",(function(){addLoader();var e=$(".action-sheet-container").attr("business_tag_id");$(".action-sheet-container").remove(),showAlert({alert_id:"alert-delete-business-tag-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Delete Business tag",alert_body:"Are you sure you want to delete the business tag?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-delete-business-tag-confirm"}]},{name:"No",attr:[{name:"id",value:"btn-delete-business-tag-cancel"}]}]},(function(){$("#alert-delete-business-tag-confirm-cancel").attr("data-business-tag-id",e)}))})),$(document).on("click","#btn-delete-business-tag-confirm",(function(){$(this).prop("disabled",!0),addLoader();var e=$("#alert-delete-business-tag-confirm-cancel").attr("data-business-tag-id");businessTagDelete({device_id:crossplat.device.uuid,id:e}).then((t=>{$(this).prop("disabled",!1),removeLoader(),$("#alert-delete-business-tag-confirm-cancel").remove(),$(`.business-tags-content-box[data-id="${e}"]`).remove()})).catch((e=>{removeLoader(),$(this).prop("disabled",!1),Materialize.toast("Error in deleting the business tag ",3e3,"round success-alert")}))})),$(document).on("click","#btn-delete-business-tag-confirm",(function(){$("#alert-delete-business-tag-confirm-cancel").remove()})),$(document).on("click",".add-business-types-btn",(function(){addLoader(),fetch.getHtml((function(e,t){e||(removeLoader(),showAlert({alert_id:"alert-business-type-add-cancel",alert_platform:crossplat.device.platform,alert_title:"Business Type",alert_body:t,alert_btn:[{name:"Cancel",attr:[{name:"id",value:"alert-business-type-cancel"}]},{name:"Save",attr:[{name:"id",value:"alert-business-type-add"}]}]},(function(){})))}),"layouts/business_popup/business_types","#business-type-template",null)})),$(document).on("click","#alert-business-type-cancel",(function(){$("#alert-business-type-add-cancel").remove()})),$(document).on("click","#alert-business-type-add",(function(){$(this).prop("disabled",!0),addLoader();var e=$("#business_type").text();validateBusinessTypeName(e)?businessTypeAdd({device_id:crossplat.device.uuid,type:e}).then((e=>{var t=`<div class="business-type-content-box" data-id="${e.id}">\n                    <div class="business-type-wrapper">\n                    <div class="business-type-name-container">                      \n                        <div class="business-type-name-wrapper">                      \n                            <div class="business-type-name">${e.type}</div>                      \n                        </div>                      \n                    </div>                   \n                    <div class="btn-wrap">              \n                        <div class="more-menu-wrapper" id="show_action_business_types"><i class="material-icons">more_vert</i></div>\n                    </div>  \n                    </div>              \n                    </div>`;$(".business_types_list_content_box").append(t),$(this).prop("disabled",!1),removeLoader(),$("#alert-business-type-add-cancel").remove()})).catch((e=>{$(this).prop("disabled",!1),removeLoader(),Materialize.toast("Error in adding the business type",3e3,"round success-alert")})):(removeLoader(),$(this).prop("disabled",!1))})),$(document).on("click","#show_action_business_types",(function(){var e=$(this).parents(".business-type-content-box").attr("data-id");showAction({action_id:"business_type_actions",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"Edit",attr:[{name:"class",value:"business_type_edit"}]},{name:"Delete",attr:[{name:"class",value:"business_type_delete"}]}]},(function(){$(".action-sheet-container").removeClass("hide").addClass("slide-top"),$(".action-sheet-container").attr("business_type_id",e)}))})),$(document).on("click",".business_type_edit",(function(){addLoader();var e=$(".action-sheet-container").attr("business_type_id");$(".action-sheet-container").remove(),businessTypeGet({device_id:crossplat.device.uuid,id:e}).then((e=>{var t={type:e.type};fetch.getHtml((function(t,i){t||showAlert({alert_id:"alert-edit-business-type-add-cancel",alert_platform:crossplat.device.platform,alert_title:"Edit Business Type",alert_body:i,alert_btn:[{name:"Cancel",attr:[{name:"id",value:"alert-edit-business-type-cancel"}]},{name:"Save",attr:[{name:"id",value:"alert-edit-business-type-add"}]}]},(function(){removeLoader(),$("#alert-edit-business-type-add-cancel").attr("data-id",e.id)}))}),"layouts/business_popup/business_types","#business-type-template",t)})).catch((e=>{removeLoader(),Materialize.toast("Error in getting the business type",3e3,"round success-alert")}))})),$(document).on("click","#alert-edit-business-type-cancel",(function(){$("#alert-edit-business-type-add-cancel").remove()})),$(document).on("click","#alert-edit-business-type-add",(function(){$(this).prop("disabled",!0),addLoader();var e=$("#alert-edit-business-type-add-cancel").attr("data-id"),t=$("#business_type").text();validateBusinessTypeName(t)?businessTypeUpdate({device_id:crossplat.device.uuid,id:e,type:t}).then((e=>{$(`.business-type-content-box[data-id="${e.id}"]`).find(".business-type-name").text(e.type),$(this).prop("disabled",!1),removeLoader(),$("#alert-edit-business-type-add-cancel").remove()})).catch((e=>{$(this).prop("disabled",!1),removeLoader(),Materialize.toast("Error in updating the business type",3e3,"round success-alert")})):(removeLoader(),$(this).prop("disabled",!1))})),$(document).on("click",".business_type_delete",(function(){addLoader();var e=$(".action-sheet-container").attr("business_type_id");$(".action-sheet-container").remove(),showAlert({alert_id:"alert-delete-business-type-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Delete Business type",alert_body:"Are you sure you want to delete the business type?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-delete-business-type-confirm"}]},{name:"No",attr:[{name:"id",value:"btn-delete-business-type-cancel"}]}]},(function(){$("#alert-delete-business-type-confirm-cancel").attr("data-business-type-id",e)}))})),$(document).on("click","#btn-delete-business-type-confirm",(function(){$(this).prop("disabled",!0),addLoader();var e=$("#alert-delete-business-type-confirm-cancel").attr("data-business-type-id");businessTypeDelete({device_id:crossplat.device.uuid,id:e}).then((t=>{$(this).prop("disabled",!1),removeLoader(),$("#alert-delete-business-type-confirm-cancel").remove(),$(`.business-type-content-box[data-id="${e}"]`).remove()})).catch((e=>{removeLoader(),$(this).prop("disabled",!1),Materialize.toast("Error in deleting the business type",3e3,"round success-alert")}))})),$(document).on("click","#btn-delete-business-type-confirm",(function(){$("#alert-delete-business-type-confirm-cancel").remove()})),$(document).on("click","#alert-business-type-choose-cancel",(function(){$("#alert-business-type-choose-save-cancel").remove()})),$(document).on("click","#alert-business-type-choose-save",(function(){addLoader();var e=$("#business-type-choose-select-dropdown").val(),t=$("#business-type-choose-select-dropdown").find(`option[value="${e}"]`).attr("data-id");sessionStorage.setItem("business_type",e),sessionStorage.setItem("business_type_id",t),$("#alert-business-type-choose-save-cancel").remove(),location.hash="business/add"})),$(document).on("click",".business-add-address-btn",(function(){if($(".business-address-content-box").length<config.businessAddressMax){$(".business-add-address-list-container").append('\n    <div class="business-address-content-box">\n        <div class="business-add-address-wrapper">\n            <div class="business-add-address-type-container">\n    <span class="custom-dropdown-heading">Select Address Type</span>\n    <div id="business-add-address-type-select-dropdown" class="wrapper-dropdown" tabindex="1">        \n            <span class="disabled selected-dropdown selected-value-business-address" name="business_address" data-value="">--Select Type--</span>\n        <ul class="custom-dropdown">             \n            <li class="business_address" data-value="registered-address">Registered Address</li>\n            <li class="business_address" data-value="business-address">Business Address</li>\n            <li class="business_address" data-value="branch-address">Branch Address</li>\n        </ul>\n    </div>\n    </div>\n    <div class="business-add-address-text-container">\n                <label for="address_text_box">Address</label>                                \n                <div id="address_text_box" type="text" contenteditable="true" class="validate address_text_box" autocomplete="off"></div>\n            </div>\n        </div>\n        <a class="waves-effect waves-light cancel-businesss-address-btn cursor-pointer"><i class="material-icons">remove</i></a>\n    </div>')}else Materialize.toast(`Maximum of ${config.businessAddressMax} addressess can be added`,3e3,"round success-alert")})),$(document).on("click","#transaction-picture-mutimedia-add, #signature-picture-mutimedia-add",(function(){var e;"transaction_picture"==$(this).parents(".add-picture-main-wrapper").attr("data-for")?e="transaction":"signature_picture"==$(this).parents(".add-picture-main-wrapper").attr("data-for")&&(e="signature"),addLoader(),showAction({action_id:"business-declaration-transaction-signature-type-action-sheet",action_platform:crossplat.device.platform,action_title:"Select Type",action_btn:[{name:"Credentials",attr:[{name:"id",value:"business-declaration-transaction-signature-credentials-upload-type-btn"}]},{name:"Device",attr:[{name:"id",value:"business-declaration-transaction-signature-device-upload-type-btn"}]},{name:"Cloud",attr:[{name:"class",value:"digibiz-filemanager"}]},{name:"Camera",attr:[{name:"id",value:"business-declaration-transaction-signature-camera-upload-type-btn"}]}]},(function(){$("#business-declaration-transaction-signature-type-action-sheet").attr("declaration_for",e),removeLoader()}))})),$(document).on("click","#business-declaration-transaction-signature-device-upload-type-btn",(function(){addLoader();var e=$("#business-declaration-transaction-signature-type-action-sheet").attr("declaration_for");$("#business_declaration_device_upload").val(""),$("#business_declaration_device_upload").trigger("click"),$("#business-declaration-transaction-signature-type-action-sheet").remove(),showModal({modal_platform:crossplat.device.platform,modal_id:"transaction-signature-picture-modal",modal_header:"",modal_body:' <div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"crop-button",name:"crop",attr:[{name:"data-id",value:e}]}]},(function(){removeLoader(),$(".modal-popup-content").length>0&&("browser"==crossplat.device.platform||crossplat.device.platform),$(".custom-modal-popup").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#transaction-signature-picture-modal").attr("data-id",e)}))})),$(document).on("change","#business_declaration_device_upload",(function(){var e=this.files;if(e.length>0){var t=e[0].name.split(".").pop();if(config.identityPictureFileFormat.includes(t.toLowerCase()))if(e[0].size>config.maxSizeAllowMultiMediaFiles)Materialize.toast("File size exceeding.Max allowed is 20MB",3e3,"round success-alert"),$("#business_declaration_device_upload").val("");else{if(e[0])var i=e[0];var a=new FileReader;a.onload=function(e){var t=$("#image_cropper")[0];t.src=e.target.result,$("#transaction-signature-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(t,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}})},a.readAsDataURL(i)}else Materialize.toast("Invalid file type",3e3,"round success-alert"),$("#business_declaration_device_upload").val("")}})),$(document).on("click","#crop-button",(function(){digibiz.cropper.getCroppedCanvas().toBlob((e=>{var t=new FileReader;t.onloadend=function(e){"transaction"==$("#transaction-signature-picture-modal").attr("data-id")?savebusinessMultimedia(t.result,"transaction",(function(e,i){e?(removeLoader(),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert")):($("#transaction_picture").attr("src",t.result),$("#transaction-picture-mutimedia-add").remove(),$("#transaction-picture-delete").remove(),$('.add-picture-main-wrapper[data-for="transaction_picture"]').find(".mask").addClass("hide"),$("#transaction-signature-picture-modal").remove(),$("#camera-modal").remove(),removeLoader(),businessUpdate({device_id:crossplat.device.uuid,id:sessionStorage.getItem("business_id"),data:{declaration_transaction_pictures:{thumbnail:i.Data.file}}}).then((e=>{console.log("businessUpdate",e),Materialize.toast("Successfully uploaded File",4e3,"round success-alert"),removeLoader()})).catch((e=>{"no updated data found"==e.msg&&removeLoader()})))})):"signature"==$("#transaction-signature-picture-modal").attr("data-id")&&savebusinessMultimedia(t.result,"signature",(function(e,i){e?(removeLoader(),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert")):($("#signature_picture").attr("src",t.result),$("#signature-picture-mutimedia-add").remove(),$("#signature-picture-delete").remove(),$('.add-picture-main-wrapper[data-for="signature_picture"]').find(".mask").addClass("hide"),$("#transaction-signature-picture-modal").remove(),$("#camera-modal").remove(),removeLoader(),businessUpdate({device_id:crossplat.device.uuid,id:sessionStorage.getItem("business_id"),data:{declaration_signature_pictures:{thumbnail:i.Data.file}}}).then((e=>{Materialize.toast("Successfully uploaded File",4e3,"round success-alert"),removeLoader()})).catch((e=>{"no updated data found"==e.msg&&removeLoader()})))})),digibiz.cropper.destroy()},t.readAsDataURL(e)}))})),$(document).on("click","#modal-close-btn",(function(){var e=$(this);$(e).parents(".custom-modal-popup").removeClass("modal-slide-top").addClass("modal-slide-bottom"),setTimeout((function(){sessionStorage.removeItem("role_assignment"),sessionStorage.removeItem("edit_role"),sessionStorage.removeItem("edit_from"),digibiz.role_assignment={},"business-inactive-active-settings"==$(e).parents(".custom-modal-popup").attr("id")&&"business_management"==$("body").attr("app")&&(sessionStorage.removeItem("business_status"),sessionStorage.removeItem("business_id"),sessionStorage.removeItem("business_name"),sessionStorage.removeItem("business_role"),sessionStorage.removeItem("business_profile_socket_status"),location.hash="business_owner/business/list"),$('.custom-modal-popup[id="declaration-select-transaction"]').length>0&&(digibiz.transactional_picture={}),$('.custom-modal-popup[id="declaration-select-signature"]').length>0&&(digibiz.signature_picture={}),$('.custom-modal-popup[id="identity-video-modal"]').length>0&&(digibiz.fileObject={}),$('.custom-modal-popup[id="business-display-picture-modal"]').length>0&&$(".business-display-picture-wrapper").find(".mask").removeClass("hide"),($('.custom-modal-popup[id="custom-employee-group-department-list-modal"]').length>0||$('.custom-modal-popup[id="modal-employee-selection"]').length>0||$('.custom-modal-popup[id="modal-standard-employee-group-selection"]').length>0)&&($("#employee-group-members-list").find(".custom-employee-group-member-wrapper").length>0||$("#employee-group-members-list").find(".employee-group-member-wrapper").length>0||sessionStorage.removeItem("group_from")),($('.custom-modal-popup[id="modal-customer-group-contact-list-selection"]').length>0||$('.custom-modal-popup[id="modal-customer-group-groups-list-selection"]').length>0)&&($("#customer-group-members-list").find(".custom-customer-group-member-wrapper").length>0||$("#customer-group-members-list").find(".customer-group-member-wrapper").length>0||sessionStorage.removeItem("group_from")),$("#account-inactive-active-settings").length>0&&"inactive"==sessionStorage.getItem("account_status")&&(sessionStorage.clear(),setTimeout((function(){deviceHelper.navigateToAccounts("core")}),1e3)),$("#jeevi-account-inactive-active-settings").length>0&&"inactive"==sessionStorage.getItem("account_status")&&"inactive"==sessionStorage.getItem("jeevi_status")&&(sessionStorage.clear(),setTimeout((function(){deviceHelper.navigateToAccounts("core")}),1e3)),$("#choose-customer-identifier-modal").length>0&&sessionStorage.removeItem("identifier_id"),"camera-video-modal"==$(e).parents(".custom-modal-popup").attr("id")&&$("#upload-preview-close-btn").trigger("click"),digibiz.alreadySelected=[],digibiz.communicationActivateEmployeeGroupEmployeeList=[],digibiz.communicationActivateEmployeeGroupsList=[],digibiz.communicationActivateCustomersGroupsList=[],digibiz.communicationActivateCustomerGroupCustomersList=[],$(e).parents(".custom-modal-popup").remove()}),100)})),$(document).on("click","#transaction-picture-delete",(function(e){addLoader();var t=$(this).attr("data-asset_id"),i=$(this).attr("data-image_id");if(e.stopPropagation(),t)showAlert({alert_id:"alert-delete-transaction-pic-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Delete Transaction picture",alert_body:"Do you want to delete the transaction picture?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-delete-transaction-pic-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-delete-transaction-pic-confirm-no"}]}]},(function(){removeLoader(),$("#alert-delete-transaction-pic-confirm-cancel").attr("delete-asset-id",t)}));else if(i){showAlert({alert_id:"alert-delete-transaction-pic-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Delete Transaction picture",alert_body:"Do you want to delete the transaction picture?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-delete-transaction-pic-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-delete-transaction-pic-confirm-no"}]}]},(function(){removeLoader(),$("#alert-delete-transaction-pic-confirm-cancel").attr("delete-image-id",i)}))}else $("#business_declaration_device_upload").val(""),$("#transaction_picture").attr("src",""),$("#transaction-picture-delete").replaceWith('<i class="material-icons" id="transaction-picture-mutimedia-add">add</i>'),$("#transaction-picture-mutimedia-add").parent().addClass("transaction-picture-multimedia-load-btn"),$(".transaction_pic_preview").remove(),$('.add-picture-main-wrapper[data-for="transaction_picture"]').find(".declaration-multimedia-save-btn-container").addClass("hide"),digibiz.isDeclarationTransactionPictureSelected=!1,removeLoader()})),$(document).on("click","#btn-delete-transaction-pic-confirm-no",(function(){$("#alert-delete-transaction-pic-confirm-cancel").remove()})),$(document).on("click","#btn-delete-transaction-pic-confirm-yes",(function(){var e=$("#alert-delete-transaction-pic-confirm-cancel").attr("delete-asset-id"),t=$("#alert-delete-transaction-pic-confirm-cancel").attr("delete-image-id");$("#alert-delete-transaction-pic-confirm-cancel").remove();var i=sessionStorage.getItem("business_id"),a={device_id:crossplat.device.uuid,asset_id:e,image_id:t,business_id:i,type:"transaction"};addLoader(),businessDeleteAsset(a).then((e=>{removeLoader(),$("#business_declaration_device_upload").val(""),$("#transaction_picture").attr("src",""),$("#transaction-picture-delete").replaceWith('<i class="material-icons" id="transaction-picture-mutimedia-add">add</i>'),$("#transaction-picture-mutimedia-add").parent().addClass("transaction-picture-multimedia-load-btn"),$(".transaction_pic_preview").remove(),digibiz.isDeclarationTransactionPictureSelected=!1})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))})),$(document).on("click","#signature-picture-delete",(function(e){addLoader();var t=$(this).attr("data-asset_id"),i=$(this).attr("data-image_id");if(e.stopPropagation(),t)showAlert({alert_id:"alert-delete-signature-pic-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Delete Signature picture",alert_body:"Do you want to delete the signature picture?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-delete-signature-pic-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-delete-signature-pic-confirm-no"}]}]},(function(){removeLoader(),$("#alert-delete-signature-pic-confirm-cancel").attr("delete-asset-id",t)}));else if(i){showAlert({alert_id:"alert-delete-signature-pic-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Delete Signature picture",alert_body:"Do you want to delete the signature picture?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-delete-signature-pic-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-delete-signature-pic-confirm-no"}]}]},(function(){removeLoader(),$("#alert-delete-signature-pic-confirm-cancel").attr("delete-image-id",i)}))}else $("#business_declaration_device_upload").val(""),$("#signature_picture").attr("src",""),$("#signature-picture-delete").replaceWith('<i class="material-icons" id="signature-picture-mutimedia-add">add</i>'),$("#signature-picture-mutimedia-add").parent().addClass("signature-picture-multimedia-load-btn"),$(".signature_pic_preview").remove(),$('.add-picture-main-wrapper[data-for="signature_picture"]').find(".declaration-multimedia-save-btn-container").addClass("hide"),digibiz.isDeclarationSignaturePictureSelected=!1,removeLoader()})),$(document).on("click","#btn-delete-signature-pic-confirm-no",(function(){$("#alert-delete-signature-pic-confirm-cancel").remove()})),$(document).on("click","#btn-delete-signature-pic-confirm-yes",(function(){var e=$("#alert-delete-signature-pic-confirm-cancel").attr("delete-asset-id"),t=$("#alert-delete-signature-pic-confirm-cancel").attr("delete-image-id");$("#alert-delete-signature-pic-confirm-cancel").remove();var i=sessionStorage.getItem("business_id"),a={device_id:crossplat.device.uuid,asset_id:e,image_id:t,business_id:i,type:"signature"};addLoader(),businessDeleteAsset(a).then((e=>{removeLoader(),$("#business_declaration_device_upload").val(""),$("#signature_picture").attr("src",""),$("#signature-picture-delete").replaceWith('<i class="material-icons" id="signature-picture-mutimedia-add">add</i>'),$("#signature-picture-mutimedia-add").parent().addClass("signature-picture-multimedia-load-btn"),$(".signature_pic_preview").remove(),digibiz.isDeclarationSignaturePictureSelected=!1})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))})),$(document).on("click","#business-declaration-transaction-signature-camera-upload-type-btn",(function(){addLoader(),$("#business_declaration_device_upload").val("");var e=$("#business-declaration-transaction-signature-type-action-sheet").attr("declaration_for");if(sessionStorage.setItem("camera_for",e),$("#business-declaration-transaction-signature-type-action-sheet").remove(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform)fetch.getHtml((function(e,t){showModal({modal_id:"camera-modal",modal_header:"Camera",modal_platform:crossplat.device.platform,modal_body:t},(function(){$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),$("#modal-close-btn").addClass("hide");navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){window.camerastream=e,$('.upload-preview-wrapper[data-for="camera_modal"]').hasClass("hide")&&$('.upload-preview-wrapper[data-for="camera_modal"]').removeClass("hide").addClass("slide-top"),$('.upload-preview-wrapper[data-for="camera_modal"]').find(".upload-preview-header span").text("Capture Photo"),$('.upload-preview-wrapper[data-for="camera_modal"]').find(".upload-preview-container").removeClass("hide"),$('.upload-preview-wrapper[data-for="camera_modal"]').find(".upload-preview-container-file-caption").addClass("hide"),$('.upload-preview-wrapper[data-for="camera_modal"]').find(".upload-preview-footer").addClass("hide"),$('.upload-preview-wrapper[data-for="camera_modal"]').find("#upload-permission-btn").addClass("hide"),$('.upload-preview-wrapper[data-for="camera_modal"]').find("#upload-preview-container-text-box").text(""),$('.upload-preview-wrapper[data-for="camera_modal"]').find("#upload-file-preview").html('<video id="capture-video" class="preview-file" autoplay></video><button id="camera-capture" class="btn-floating btn-large waves-effect waves-light blue cursor-pointer"><i class="material-icons">photo_camera</i></button>');var t=document.querySelector("#capture-video");t.srcObject=e,t.play()})),removeLoader()}))}),"page/common/camera","#camera-template",null);else{navigator.device.capture.captureImage((function(t){var i,a,o;for(addLoader(),i=0,o=t.length;i<o;i+=1){a=t[i].localURL,window.cameraMediaFile=a,window.camerastream&&window.camerastream.getTracks()[0].stop(),showModal({modal_platform:crossplat.device.platform,modal_id:"transaction-signature-picture-modal",modal_header:"",modal_body:' <div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"crop-button",name:"crop",attr:[{name:"data-id",value:e}]}]},(function(){$(".custom-modal-popup").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#transaction-signature-picture-modal").attr("data-id",e)})),setTimeout((function(){var e=["png","jpeg","jpg","PNG","JPEG","JPG"];window.resolveLocalFileSystemURL(window.cameraMediaFile,(function(t){t.file((function(t){var i=new FileReader;i.onloadend=function(i){var a=new FileReader;a.onloadend=function(t){var a=new Blob([t.target.result],{type:"image/jpeg"}),o=a.type.split("/")[1];if(e.includes(o.toLowerCase())){$(".image_container").remove();URL.createObjectURL(a);var s=document.getElementById("image_cropper");s.src=i.target.result,s.onload=function(e){$(".group_image_delete").hide()},$("#transaction-signature-picture-modal, #business-display-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(s,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}}),removeLoader()}},a.readAsArrayBuffer(t)},i.readAsDataURL(t)}))}),(function(e){}))}),500)}}),(function(e){navigator.notification.alert("Error code: "+e.code,null,"Capture Error")}),{quality:.5})}})),$(document).on("click","#camera-capture",(function(){var e;console.log("camera cpature"),addLoader(),sessionStorage.removeItem("capturebase64"),$("#camera-modal").addClass("hide"),$('.upload-preview-wrapper[data-for="camera_modal"]').addClass("hide");var t=document.createElement("canvas"),i=document.querySelector("#capture-video");t.setAttribute("width",i.videoWidth),t.setAttribute("height",i.videoHeight),t.getContext("2d").drawImage(i,0,0,i.videoWidth,i.videoHeight),window.captureCanvas=t;var a=t.toDataURL();sessionStorage.setItem("capturebase64",a),t.toBlob((function(t){if(sessionStorage.getItem("business_id")||"digibiz_credentials"==$("body").attr("app")){$('.upload-preview-wrapper[data-for="camera_modal"]').find("#upload-footer-send-btn").attr("data-uploadtype","camera"),$('.upload-preview-wrapper[data-for="camera_modal"]').find("#upload-file-preview").empty(),$('.upload-preview-wrapper[data-for="camera_modal"]').find(".upload-preview-container-file-caption").removeClass("hide");var i=new Image;i.src=URL.createObjectURL(t),i.classList.add("preview-file");var a=$('.upload-preview-wrapper[data-for="camera_modal"]').find("#upload-file-preview");$(a).append(i),$('.upload-preview-wrapper[data-for="camera_modal"]').find("#upload-preview-close-btn").attr("identifier",i.src),e=i.src,window.camerastream&&window.camerastream.getTracks()[0].stop()}}),"image/png"),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?window.captureCanvas.toBlob((function(t){var i=new FileReader;i.onloadend=function(i){digibiz.cameraUploadingFiles.push({files:t,identifier:e}),cameraCaptureClick("camera")},i.readAsDataURL(t)})):(console.log("mobile 1"),window.resolveLocalFileSystemURL(window.cameraMediaFile,(function(t){t.file((function(t){var i=new FileReader;i.onloadend=function(i){var a=new FileReader;a.onloadend=function(t){var i=new Blob([t.target.result],{type:"image/jpeg"});digibiz.cameraUploadingFiles.push({files:i,identifier:e}),cameraCaptureClick("camera")},a.readAsArrayBuffer(t)},i.readAsDataURL(t)}))}),(function(e){})))})),$(document).on("click","#upload-footer-send-btn",(function(){console.log("mobile 2");var e=$(this).attr("data-uploadtype"),t=JSON.parse(sessionStorage.getItem("profile_details"));t.individual.name.first,t.individual.name.last;if(e&&"videocamera"==e)if(digibiz.declarationVideo={},"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform){var i=new Blob(videoCapturedChunks,{type:"video/webm"});console.log("blob",i);var a=new FileReader;a.onloadend=function(e){callApi(e,i),$("#camera-video-modal").remove()},a.readAsDataURL(i)}else window.resolveLocalFileSystemURL(window.videoMediaFile,(function(e){e.file((function(e){var t=new FileReader;t.onloadend=function(t){var i=new FileReader;i.onloadend=function(i){var a=new Blob([i.target.result],{type:e.type});callApi(t,a)},i.readAsArrayBuffer(e)},t.readAsDataURL(e)}))}),(function(e){}));else if(e&&"camera"==e)if("digibiz_credentials"==$("body").attr("app")){var o=$("#camera-modal").attr("camera-for");$("#camera-modal").remove(),showModal({modal_platform:crossplat.device.platform,modal_id:"business-credential-picture-modal",modal_header:"Crop Image",modal_body:' <div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"business-credential-picture-crop-button",name:"crop",attr:[{name:"data-id",value:""}]}]},(function(){removeLoader(),$(".modal-popup-content").length>0&&("browser"==crossplat.device.platform||crossplat.device.platform),$(".custom-modal-popup").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#business-credential-picture-modal").attr("picture-type",o)})),setTimeout((function(){var e=["png","jpeg","jpg","PNG","JPEG","JPG"];"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?window.captureCanvas.toBlob((function(t){var i=new FileReader;i.onloadend=function(t){var a=dataURLToBlob(i.result,{type:"image/jpg"}).type.split("/")[1];if(e.includes(a.toLowerCase())){$(".image_container").remove();var o=document.getElementById("image_cropper");console.log("image",o),o.src=t.target.result,o.onload=function(e){$(".group_image_delete").hide()},$("#business-credential-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(o,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}}),removeLoader()}},i.readAsDataURL(t)})):window.resolveLocalFileSystemURL(window.cameraMediaFile,(function(t){t.file((function(t){var i=new FileReader;i.onloadend=function(i){var a=new FileReader;a.onloadend=function(t){var a=new Blob([t.target.result],{type:"image/jpeg"}),o=a.type.split("/")[1];if(e.includes(o.toLowerCase())){$(".image_container").remove();URL.createObjectURL(a);var s=document.getElementById("image_cropper");s.src=i.target.result,s.onload=function(e){$(".group_image_delete").hide()},$("#business-credential-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(s,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}}),removeLoader()}},a.readAsArrayBuffer(t)},i.readAsDataURL(t)}))}),(function(e){}))}),500)}else if("customer_groups_details"==$("body").attr("app")||"employee_group_create"==$("body").attr("app")||"communication_group_details"==$("body").attr("app")||"collaborator_group_details"==$("body").attr("app")){$(".upload-preview-wrapper").addClass("hide"),$("#camera-modal").remove(),showModal({modal_platform:crossplat.device.platform,modal_id:"group-image-modal",modal_header:"",modal_body:'<div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"group-image-crop-button",name:"crop",attr:[{name:"data-id",value:""}]}]},(function(){removeLoader(),$(".modal-popup-content").length>0&&("browser"==crossplat.device.platform||crossplat.device.platform),$(".custom-modal-popup").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#group-image-modal").attr("picture-type","group_image")})),setTimeout((function(){var e=["png","jpeg","jpg","PNG","JPEG","JPG"];"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?window.captureCanvas.toBlob((function(t){var i=new FileReader;i.onloadend=function(t){var a=dataURLToBlob(i.result,{type:"image/jpg"}).type.split("/")[1];if(e.includes(a.toLowerCase())){$(".image_container").remove();var o=document.getElementById("image_cropper");o.src=t.target.result,o.onload=function(e){$(".group-image-delete").hide()},$("#group-image-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(o,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}}),removeLoader()}},i.readAsDataURL(t)})):window.resolveLocalFileSystemURL(window.cameraMediaFile,(function(t){t.file((function(t){var i=new FileReader;i.onloadend=function(i){var a=new FileReader;a.onloadend=function(t){var a=new Blob([t.target.result],{type:"image/jpeg"}),o=a.type.split("/")[1];if(e.includes(o.toLowerCase())){$(".image_container").remove();URL.createObjectURL(a);var s=document.getElementById("image_cropper");s.src=i.target.result,s.onload=function(e){$(".group-image-delete").hide()},$("#group-image-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(s,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}}),removeLoader()}},a.readAsArrayBuffer(t)},i.readAsDataURL(t)}))}),(function(e){}))}),500)}else if(sessionStorage.getItem("customer_id")){if($("#edit-associate-customer-modal").length>0)$("#edit-associate-customer-modal").find(".upload-preview-wrapper").addClass("hide"),$("#camera-modal").remove(),showModal({modal_platform:crossplat.device.platform,modal_id:"associate-customer-identity-picture-modal",modal_header:"",modal_body:'<div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"associate-customer-identity-crop-button",name:"crop",attr:[{name:"data-id",value:""}]}]},(function(){removeLoader(),$(".modal-popup-content").length>0&&("browser"!=crossplat.device.platform&&"desktop"!=crossplat.device.platform||appScroll.scrollBar(".modal-popup-content")),$("#associate-customer-identity-picture-modal").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#associate-customer-identity-picture-modal").attr("picture-type","associate_customer_identity_picture")})),setTimeout((function(){var e=["png","jpeg","jpg","PNG","JPEG","JPG"];"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?window.captureCanvas.toBlob((function(t){var i=new FileReader;i.onloadend=function(t){var a=dataURLToBlob(i.result,{type:"image/jpg"}).type.split("/")[1];if(e.includes(a.toLowerCase())){$(".image_container").remove();var o=document.getElementById("image_cropper");o.src=t.target.result,o.onload=function(e){$(".group_image_delete").hide()},$("#associate-customer-identity-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(o,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}}),removeLoader()}},i.readAsDataURL(t)})):window.resolveLocalFileSystemURL(window.cameraMediaFile,(function(t){t.file((function(t){var i=new FileReader;i.onloadend=function(i){var a=new FileReader;a.onloadend=function(t){var a=new Blob([t.target.result],{type:"image/jpeg"}),o=a.type.split("/")[1];if(e.includes(o.toLowerCase())){$(".image_container").remove();URL.createObjectURL(a);var s=document.getElementById("image_cropper");s.src=i.target.result,s.onload=function(e){$(".group_image_delete").hide()},$("#associate-customer-identity-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(s,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}}),removeLoader()}},a.readAsArrayBuffer(t)},i.readAsDataURL(t)}))}),(function(e){}))}),500);else $(".upload-preview-wrapper").addClass("hide"),$("#camera-modal").remove(),showModal({modal_platform:crossplat.device.platform,modal_id:"customer-identity-picture-modal",modal_header:"",modal_body:' <div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"customer-identity-crop-button",name:"crop",attr:[{name:"data-id",value:""}]}]},(function(){removeLoader(),$(".modal-popup-content").length>0&&("browser"==crossplat.device.platform||crossplat.device.platform),$(".custom-modal-popup").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#customer-identity-picture-modal").attr("picture-type","customer_identity_picture")})),setTimeout((function(){var e=["png","jpeg","jpg","PNG","JPEG","JPG"];"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?window.captureCanvas.toBlob((function(t){var i=new FileReader;i.onloadend=function(t){var a=dataURLToBlob(i.result,{type:"image/jpg"}).type.split("/")[1];if(e.includes(a.toLowerCase())){$(".image_container").remove();var o=document.getElementById("image_cropper");o.src=t.target.result,o.onload=function(e){$(".group_image_delete").hide()},$("#customer-identity-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(o,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}}),removeLoader()}},i.readAsDataURL(t)})):window.resolveLocalFileSystemURL(window.cameraMediaFile,(function(t){t.file((function(t){var i=new FileReader;i.onloadend=function(i){var a=new FileReader;a.onloadend=function(t){var a=new Blob([t.target.result],{type:"image/jpeg"}),o=a.type.split("/")[1];if(e.includes(o.toLowerCase())){$(".image_container").remove();URL.createObjectURL(a);var s=document.getElementById("image_cropper");s.src=i.target.result,s.onload=function(e){$(".group_image_delete").hide()},$("#customer-identity-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(s,{viewMode:0,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}}),removeLoader()}},a.readAsArrayBuffer(t)},i.readAsDataURL(t)}))}),(function(e){}))}),500)}else if(sessionStorage.getItem("employee_id")){$(".upload-preview-wrapper").addClass("hide"),$("#camera-modal").remove(),showModal({modal_platform:crossplat.device.platform,modal_id:"employee-identity-picture-modal",modal_header:"",modal_body:' <div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"employee-identity-crop-button",name:"crop",attr:[{name:"data-id",value:""}]}]},(function(){removeLoader(),$(".modal-popup-content").length>0&&("browser"!=crossplat.device.platform&&"desktop"!=crossplat.device.platform||appScroll.scrollBar(".modal-popup-content")),$("#employee-identity-picture-modal").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#employee-identity-picture-modal").attr("picture-type","employee_identity_picture")})),setTimeout((function(){var e=["png","jpeg","jpg","PNG","JPEG","JPG"];"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?window.captureCanvas.toBlob((function(t){var i=new FileReader;i.onloadend=function(t){var a=dataURLToBlob(i.result,{type:"image/jpg"}).type.split("/")[1];if(e.includes(a.toLowerCase())){$(".image_container").remove();var o=document.getElementById("image_cropper");o.src=t.target.result,o.onload=function(e){$(".group_image_delete").hide()},$("#employee-identity-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(o,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}}),removeLoader()}},i.readAsDataURL(t)})):window.resolveLocalFileSystemURL(window.cameraMediaFile,(function(t){t.file((function(t){var i=new FileReader;i.onloadend=function(i){var a=new FileReader;a.onloadend=function(t){var a=new Blob([t.target.result],{type:"image/jpeg"}),o=a.type.split("/")[1];if(e.includes(o.toLowerCase())){$(".image_container").remove();URL.createObjectURL(a);var s=document.getElementById("image_cropper");s.src=i.target.result,s.onload=function(e){$(".group_image_delete").hide()},$("#employee-identity-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(s,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}}),removeLoader()}},a.readAsArrayBuffer(t)},i.readAsDataURL(t)}))}),(function(e){}))}),500)}else if(sessionStorage.getItem("business_id")){var s=sessionStorage.getItem("camera_for");if($("#camera-modal").remove(),$(`.upload-preview-wrapper[data-for="${s}"]`).addClass("hide"),"business_display_picture"==s)showModal({modal_platform:crossplat.device.platform,modal_id:"business-display-picture-modal",modal_header:"",modal_body:' <div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"business-display-crop-button",name:"crop",attr:[{name:"data-id",value:""}]}]},(function(){removeLoader(),$(".modal-popup-content").length>0&&("browser"==crossplat.device.platform||crossplat.device.platform),$(".custom-modal-popup").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#business-display-picture-modal").attr("picture-type","business_display_picture")}));else showModal({modal_platform:crossplat.device.platform,modal_id:"transaction-signature-picture-modal",modal_header:"",modal_body:' <div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"crop-button",name:"crop",attr:[{name:"data-id",value:s}]}]},(function(){removeLoader(),$(".modal-popup-content").length>0&&("browser"==crossplat.device.platform||crossplat.device.platform),$(".custom-modal-popup").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#transaction-signature-picture-modal").attr("data-id",s)}));setTimeout((function(){var e=["png","jpeg","jpg","PNG","JPEG","JPG"];"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?window.captureCanvas.toBlob((function(t){var i=new FileReader;i.onloadend=function(t){var a=dataURLToBlob(i.result,{type:"image/jpg"}).type.split("/")[1];if(e.includes(a.toLowerCase())){$(".image_container").remove();var o=document.getElementById("image_cropper");o.src=t.target.result,o.onload=function(e){$(".group_image_delete").hide()},$("#transaction-signature-picture-modal, #business-display-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(o,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}}),removeLoader()}},i.readAsDataURL(t)})):window.resolveLocalFileSystemURL(window.cameraMediaFile,(function(t){t.file((function(t){var i=new FileReader;i.onloadend=function(i){var a=new FileReader;a.onloadend=function(t){var a=new Blob([t.target.result],{type:"image/jpeg"}),o=a.type.split("/")[1];if(e.includes(o.toLowerCase())){$(".image_container").remove();URL.createObjectURL(a);var s=document.getElementById("image_cropper");s.src=i.target.result,s.onload=function(e){$(".group_image_delete").hide()},$("#transaction-signature-picture-modal, #business-display-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(s,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}}),removeLoader()}},a.readAsArrayBuffer(t)},i.readAsDataURL(t)}))}),(function(e){}))}),500)}})),$(document).on("click","#upload-preview-close-btn",(function(){sessionStorage.getItem("camera_for");$("#camera-modal").remove(),$("#camera-video-modal").remove(),$('.upload-preview-wrapper[data-for="camera_modal"]').addClass("slide-bottom");var e=$(this).attr("identifier");digibiz.cameraUploadingFiles=digibiz.cameraUploadingFiles.filter((t=>t.identifier!=e)),setTimeout((function(){$('.upload-preview-wrapper[data-for="video"]').addClass("hide"),$('.upload-preview-wrapper[data-for="video"]').removeClass("slide-bottom"),$('.upload-preview-wrapper[data-for="camera_modal"]').addClass("hide"),$('.upload-preview-wrapper[data-for="camera_modal"]').removeClass("slide-bottom"),sessionStorage.removeItem("camera_for")}),200),Object.keys(sessionStorage).forEach((function(e){e.includes("ObjectURL_")&&(URL.revokeObjectURL(sessionStorage.getItem(e)),sessionStorage.removeItem(e))})),window.camerastream&&window.camerastream.getTracks()[0].stop(),window.recorder&&"inactive"!=recorder.state?(recorder.stop(),clearInterval(interval),clearInterval(indicator_interval),window.videocamerastream&&(window.videocamerastream.getTracks()[0].stop(),window.videocamerastream.getTracks()[1].stop())):window.recorder&&"inactive"==recorder.state&&window.videocamerastream&&(window.videocamerastream.getTracks()[0].stop(),window.videocamerastream.getTracks()[1].stop()),sessionStorage.removeItem("camera-for"),$('.add-picture-main-wrapper[data-for="video"]').find(".mask").removeClass("hide"),$('.add-picture-main-wrapper[data-for="video"]').find(".upload-preview-footer").addClass("hide"),$("video.preview-file")[0].pause()})),$(document).on("click","#business-declaration-transaction-signature-credentials-upload-type-btn",(function(){addLoader();var e=$("#business-declaration-transaction-signature-type-action-sheet").attr("declaration_for");if($("#business-declaration-transaction-signature-type-action-sheet").remove(),"transaction"==e)listTransactionSignaturePicture({device_id:crossplat.device.uuid,list_by:"account_active_transaction_pictures",account_id:sessionStorage.getItem("account_id")}).then((e=>{console.log("response",e);var t=[];if(e.length>0&&$.each(e,(function(e,i){i.image_url=`${api.get_transaction_signature_picture}?id=${i.id}&device_id=${crossplat.device.uuid}&image_id=${i.picture_details.thumbnail}`,t[e]=i})),console.log("transaction_data",t),t.length>0){var i={transaction_pictures:t};fetch.getHtml((function(e,t){showModal({modal_platform:crossplat.device.platform,modal_id:"declaration-select-transaction",modal_header:"Select Transaction Picture",modal_body:t,modal_action_buttons:[{name:"Confirm",attr:[{name:"id",value:"btn-confirm-add-transaction-picture"}]}]},(function(){removeLoader(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top")}))}),"page/business/select_transaction_signature","#select-transaction-signature-list-template",i)}else{showAlert({alert_id:"alert-no-transaction-signature-pictures-available",alert_platform:crossplat.device.platform,alert_title:"Not Available",alert_body:"<div>There is no presence of transactional picture in your credentials...Please upload the picture in the credentials to add it here</div>",alert_btn:[{name:"OK",attr:[{name:"id",value:"btn-no-transaction-signature-pictures-available-ok"}]}]},(function(){}))}})).catch((e=>{console.log("err",e),Materialize.toast("No credential found.",3e3,"rounded error-alert"),removeLoader()}));else if("signature"==e){listTransactionSignaturePicture({device_id:crossplat.device.uuid,list_by:"account_active_signature_pictures",account_id:sessionStorage.getItem("account_id")}).then((e=>{var t=[];if(e.length>0&&$.each(e,(function(e,i){i.image_url=`${api.get_transaction_signature_picture}?id=${i.id}&device_id=${crossplat.device.uuid}&image_id=${i.picture_details.thumbnail}`,t[e]=i})),console.log("signature_data",t),t.length>0){var i={signature_pictures:t};fetch.getHtml((function(e,t){showModal({modal_platform:crossplat.device.platform,modal_id:"declaration-select-signature",modal_header:"Select Signature Picture",modal_body:t,modal_action_buttons:[{name:"Confirm",attr:[{name:"id",value:"btn-confirm-add-signature-picture"}]}]},(function(){removeLoader(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top")}))}),"page/business/select_transaction_signature","#select-transaction-signature-list-template",i)}else{showAlert({alert_id:"alert-no-transaction-signature-pictures-available",alert_platform:crossplat.device.platform,alert_title:"Not Available",alert_body:"<div>There is no presence of signature pictures in your credentials...Please upload the picture in the credentials to add it here</div>",alert_btn:[{name:"OK",attr:[{name:"id",value:"btn-no-transaction-signature-pictures-available-ok"}]}]},(function(){}))}})).catch((e=>{removeLoader(),Materialize.toast("No credential found.",3e3,"rounded error-alert")}))}})),$(document).on("click","#btn-no-transaction-signature-pictures-available-ok",(function(){removeLoader(),$("#alert-no-transaction-signature-pictures-available").remove()})),$(document).on("click",".transaction_signature_select",(function(e){var t=$(this);let i=$(this).find("input:checkbox"),a=$(this).find(".picture_wrapper").attr("data-type"),o=$(this).find(".picture_wrapper").attr("data-id"),s=$(this).find(".picture_wrapper").attr("data-record-id");digibiz[`${a}`]={image_id:o,image_url:`${api.get_transaction_signature_picture}?id=${s}&device_id=${crossplat.device.uuid}&image_id=${o}`,upload_from:"digibiz",record_id:s},console.log("digibiz[`${list_type}`]",digibiz[`${a}`]);var r=$(t).parents(".transactional-signature-pictures-content-box").find(".transaction_signature_select.selected-row");console.log("getSelectedItem",r),r.length>0&&$.each(r,(function(e,t){console.log("gbhjdcvbgn",t),$(t).removeClass("selected-row"),$(t).find("input:checkbox").prop("checked",!1)}));var n=!1;"transactional_picture"==a&&(n=1!=digibiz.transactional_picture.hasOwnProperty("image_id"));"signature_picture"==a&&(n=1!=digibiz.signature_picture.hasOwnProperty("image_id"));n||$(e.target).is("input:checkbox")||i.prop("checked",!i.prop("checked")).parents(".transaction_signature_select").toggleClass("selected-row")})),$(document).on("click","#btn-confirm-add-transaction-picture",(function(){(addLoader(),validateTransactionPictures())?($("#declaration-select-transaction").remove(),digibiz.transactional_picture.hasOwnProperty("image_id")&&digibiz.transactional_picture.image_id&&base64GetDigibiz({device_id:crossplat.device.uuid,id:digibiz.transactional_picture.record_id,image_id:digibiz.transactional_picture.image_id}).then((e=>{showModal({modal_platform:crossplat.device.platform,modal_id:"transaction-signature-picture-modal",modal_header:"",modal_body:' <div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"crop-button",name:"crop",attr:[{name:"data-id",value:"transaction"}]}]},(function(){removeLoader(),$(".modal-popup-content").length>0&&("browser"==crossplat.device.platform||crossplat.device.platform),$(".custom-modal-popup").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#transaction-signature-picture-modal").attr("data-id","transaction"),$("#declaration-select-transaction").remove();var t=$("#image_cropper")[0];t.src=e,$("#transaction-signature-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(t,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}})}))})).catch((e=>{removeLoader()}))):(Materialize.toast("Please select 1 picture",3e3,"round error-alert"),removeLoader())})),$(document).on("click","#btn-confirm-add-signature-picture",(function(){(addLoader(),validateSignaturePictures())?($("#declaration-select-signature").remove(),digibiz.signature_picture.hasOwnProperty("image_id")&&digibiz.signature_picture.image_id&&base64GetDigibiz({device_id:crossplat.device.uuid,id:digibiz.signature_picture.record_id,image_id:digibiz.signature_picture.image_id}).then((e=>{showModal({modal_platform:crossplat.device.platform,modal_id:"transaction-signature-picture-modal",modal_header:"",modal_body:' <div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"crop-button",name:"crop",attr:[{name:"data-id",value:"signature"}]}]},(function(){removeLoader(),$(".modal-popup-content").length>0&&("browser"==crossplat.device.platform||crossplat.device.platform),$(".custom-modal-popup").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#transaction-signature-picture-modal").attr("data-id","signature"),$("#declaration-select-signature").remove();var t=$("#image_cropper")[0];t.src=e,$("#transaction-signature-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(t,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}})}))})).catch((e=>{removeLoader()}))):(Materialize.toast("Please select 1 picture",3e3,"round error-alert"),removeLoader())})),$(document).on("click",".declaration-transaction-multimedia-save-btn",(function(){if(addLoader(),digibiz.isDeclarationTransactionPictureSelected)if(digibiz.transactional_picture.hasOwnProperty("image_id")&&digibiz.transactional_picture.image_id){businessUpdate({device_id:crossplat.device.uuid,id:sessionStorage.getItem("business_id"),data:{declaration_transaction_pictures:digibiz.transactional_picture}}).then((e=>{$(this).parent().addClass("hide"),digibiz.transactional_picture={},removeLoader()})).catch((e=>{removeLoader()}))}else{var e=$("#transaction_picture").attr("src");e?storeIdentityPic(e,"transaction").then((e=>{businessUpdate({device_id:crossplat.device.uuid,id:sessionStorage.getItem("business_id"),data:{declaration_transaction_pictures:{asset_id:e.Data.asset_id,storage_id:e.Data.filename}}}).then((e=>{$(this).parent().addClass("hide"),removeLoader()})).catch((e=>{removeLoader()}))})):(removeLoader(),Materialize.toast("Failed to upload transaction-picture",3e3,"round success-alert"))}else removeLoader(),Materialize.toast("Please add transaction picture",3e3,"round success-alert")})),$(document).on("click",".declaration-signature-multimedia-save-btn",(function(){if(digibiz.isDeclarationSignaturePictureSelected)if(digibiz.signature_picture.hasOwnProperty("image_id")&&digibiz.signature_picture.image_id){businessUpdate({device_id:crossplat.device.uuid,id:sessionStorage.getItem("business_id"),data:{declaration_signature_pictures:digibiz.signature_picture}}).then((e=>{$(this).parent().addClass("hide"),digibiz.signature_picture={},removeLoader()})).catch((e=>{removeLoader()}))}else{addLoader();var e=$("#signature_picture").attr("src");e?savebusinessMultimedia(e,"signature").then((e=>{businessUpdate({device_id:crossplat.device.uuid,id:sessionStorage.getItem("business_id"),data:{declaration_signature_pictures:{asset_id:e.Data.asset_id,storage_id:e.Data.filename}}}).then((e=>{$(this).parent().addClass("hide"),removeLoader()})).catch((e=>{removeLoader()}))})).catch((e=>{removeLoader()})):(removeLoader(),Materialize.toast("Failed to upload signature-picture",3e3,"round success-alert"))}else removeLoader(),Materialize.toast("Please add Signature picture",3e3,"round success-alert")})),$(document).on("click",".transaction_pic_preview",(function(e){var t=$(this).attr("data-asset_id"),i=$(this).attr("data-image_id");if(addLoader(),t)getIdentityPicInfo(t).then((e=>{getViewMultimediaUrl({device_id:crossplat.device.uuid,location:e.location,parent:e.parent,owner:e.owner,real_name:e.file_attributes.name.real}).then((t=>{viewFile(e.file_attributes.name.relative,t.Data,(function(){}))})).catch((e=>{removeLoader(),e.hasOwnProperty("message")&&e.message.hasOwnProperty("error_description")?Materialize.toast(`${e.message.error_description} ! Please try again later`,3e3,"round error-alert"):e.hasOwnProperty("error")&&e.error.hasOwnProperty("msg")?Materialize.toast(`${e.error.msg} ! Please try again later`,3e3,"round error-alert"):Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert")})),resolve()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"rounderror-alert")}));else if(i){showFileViewer({viewer_id:"file-preview-popup",viewer_file_id:null,viewer_mime_type:"image",asset_content:'<img src= "'+$(this).parent(".mask").siblings("img").attr("src")+'">'},(function(){removeLoader()}))}else removeLoader()})),$(document).on("click",".signature_pic_preview",(function(e){var t=$(this).attr("data-asset_id"),i=$(this).attr("data-image_id");if(addLoader(),t)getIdentityPicInfo(t).then((e=>{getViewMultimediaUrl({device_id:crossplat.device.uuid,location:e.location,parent:e.parent,owner:e.owner,real_name:e.file_attributes.name.real}).then((t=>{viewFile(e.file_attributes.name.relative,t.Data,(function(){}))})).catch((e=>{removeLoader(),e.hasOwnProperty("message")&&e.message.hasOwnProperty("error_description")?Materialize.toast(`${e.message.error_description} ! Please try again later`,3e3,"round error-alert"):e.hasOwnProperty("error")&&e.error.hasOwnProperty("msg")?Materialize.toast(`${e.error.msg} ! Please try again later`,3e3,"round error-alert"):Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert")})),resolve()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"rounderror-alert")}));else if(i){showFileViewer({viewer_id:"file-preview-popup",viewer_file_id:null,viewer_mime_type:"image",asset_content:'<img src= "'+$(this).parent(".mask").siblings("img").attr("src")+'">'},(function(){removeLoader()}))}else removeLoader()})),$(document).on("click",".trigger-videocam",(function(){digibiz.fileObject={},$('.add-picture-main-wrapper[data-for="video"]').find(".mask").addClass("hide"),$("#business-display-video-from-action-sheet").remove(),$("#employee-display-video-from-action-sheet").remove(),$("#customer-display-video-from-action-sheet").remove(),$("#associate-customer-display-video-from-action-sheet").remove(),fetch.getHtml((function(e,t){showModal({modal_id:"camera-video-modal",modal_header:"Capture Video",modal_platform:crossplat.device.platform,modal_body:t},(function(){if("browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"):$(".custom-modal-popup").show().addClass("modal-slide-top"),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform){const e={video:!0,audio:!0};navigator.mediaDevices.getUserMedia(e).then((function(e){window.videocamerastream=e,window.recorder=new MediaRecorder(e,{mimeType:"video/webm;codecs=vp8,opus"}),window.videoCapturedChunks=[],$('.upload-preview-wrapper[data-for="video"]').find(".upload-preview-header").addClass("hide"),$('.upload-preview-wrapper[data-for="video"]').hasClass("hide")&&($('.upload-preview-wrapper[data-for="video"]').removeClass("hide").addClass("slide-top"),$('.upload-preview-wrapper[data-for="video"]').find(".upload-preview-header").addClass("hide")),$('.upload-preview-wrapper[data-for="video"]').find(".upload-preview-header span").text("Capture Video"),$('.upload-preview-wrapper[data-for="video"]').find(".upload-preview-container").removeClass("hide"),$('.upload-preview-wrapper[data-for="video"]').find(".file-manager-footer").addClass("hide"),$('.upload-preview-wrapper[data-for="video"]').find("#upload-file-preview").html('<video id="capture-video" class="preview-file" autoplay></video><div class="record-timer"><span id="indicator"></span> <span id="timer">00:00:00</span></div><button id="video-camera-capture" class="btn-floating btn-large waves-effect waves-light blue cursor-pointer"><i class="material-icons">videocam</i></button>');var t=document.querySelector("#capture-video");t.srcObject=e,t.play()}))}else{navigator.device.capture.captureVideo((function(e){$('.upload-preview-wrapper[data-for="video"]').find(".upload-preview-header").addClass("hide"),$('.upload-preview-wrapper[data-for="video"]').find("#upload-footer-send-btn").removeClass("disabled"),$('.upload-preview-wrapper[data-for="video"]').find(".upload-preview-footer").removeClass("hide"),$('.upload-preview-wrapper[data-for="video"]').find("#file-manager-container").addClass("hide"),$('.upload-preview-wrapper[data-for="video"]').find(".upload-preview-container").removeClass("hide"),$('.upload-preview-wrapper[data-for="video"]').find(".file-manager-footer").addClass("hide"),$('.upload-preview-wrapper[data-for="video"]').hasClass("hide")&&($('.upload-preview-wrapper[data-for="video"]').removeClass("hide").addClass("slide-top"),$('.upload-preview-wrapper[data-for="video"]').find(".upload-preview-header").addClass("hide")),$('.upload-preview-wrapper[data-for="video"]').find(".upload-preview-header span").text("Capture Video"),$('.upload-preview-wrapper[data-for="video"]').find("#upload-file-preview").empty(),$('.upload-preview-wrapper[data-for="video"]').find("#upload-footer-send-btn").attr("data-uploadtype","videocamera");var t=e[0],i=t.name;VideoEditor.transcodeVideo((function(e){localpath=e,path=e,window.videoMediaFile=`file://${localpath}`;var t=document.createElement("video");t.src=path,t.controls=!0,t.classList.add("preview-file");var i=$('.upload-preview-wrapper[data-for="video"]').find("#upload-file-preview");$(i).append(t)}),(function(e){}),{fileUri:t.fullPath,outputFileName:i,outputFileType:VideoEditorOptions.OutputFileType.MPEG4,optimizeForNetworkUse:VideoEditorOptions.OptimizeForNetworkUse.YES,saveToLibrary:!1,maintainAspectRatio:!0,width:640,height:640,videoBitrate:1e6,progress:function(e){}})}),(function(e){navigator.notification.alert("Error code: "+e.code,null,"Capture Error")}),{limit:1,duration:60,quality:0})}removeLoader()}))}),"page/common/camera_video","#camera-video-template",null)})),$(document).on("click","#video-camera-capture",(function(){var e;function t(e){return e<10?"0"+e:e}$("#video-camera-capture").replaceWith('<button id="stop-video-camera-capture" class="btn-floating btn-large waves-effect waves-light red cursor-pointer"><i class="material-icons">stop</i></button>'),window.indicator_interval=setInterval((function(){"rgb(255, 0, 0)"!=$(".record-timer").find("#indicator").css("background-color")?$(".record-timer").find("#indicator").css("background-color","rgb(255, 0, 0)"):$(".record-timer").find("#indicator").css("background-color","transparent")}),600),e=60,window.interval=setInterval((function(){var i;0==e&&($("#stop-video-camera-capture").trigger("click"),Materialize.toast("Video can't be more than 60 seconds",3e3,"rounded error-alert")),e--,i=`${t(0)}:${t(0)}:${t(e)}`,$(".record-timer").find("#timer").text(i)}),1e3),recorder.start()})),$(document).on("click","#stop-video-camera-capture",(function(){addLoader(),recorder.stop(),clearInterval(interval),clearInterval(indicator_interval),recorder.onstop=function(){$('.upload-preview-wrapper[data-for="video"]').find("#upload-footer-send-btn").attr("data-uploadtype","videocamera");var e=new Blob(videoCapturedChunks,{type:"video/webm"}),t=(document.querySelector("#upload-file-preview"),document.createElement("video"));t.controls=!0,t.classList.add("preview-file"),t.src=URL.createObjectURL(e),$('.upload-preview-wrapper[data-for="video"]').find("#upload-file-preview").empty();var i=$('.upload-preview-wrapper[data-for="video"]').find("#upload-file-preview");$(i).append(t),$('.upload-preview-wrapper[data-for="video"]').find("#upload-footer-send-btn").removeClass("disabled"),$('.upload-preview-wrapper[data-for="video"]').find(".upload-preview-footer").removeClass("hide"),removeLoader(),window.videocamerastream&&(window.videocamerastream.getTracks()[0].stop(),window.videocamerastream.getTracks()[1].stop())},recorder.ondataavailable=function(e){videoCapturedChunks.push(e.data)}})),$(document).on("click","#business-add-declaration",(function(){fetch.getHtml((function(e,t){showModal({modal_id:"business-declaration-modal",modal_header:"Business Declarations",modal_platform:crossplat.device.platform,modal_body:t,modal_action_buttons:[{name:"Confirm",id:"confirm_business_declaration"}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):($(".custom-modal-popup").show().addClass("modal-slide-top"),$(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"))}))}),"page/business/business_declaration","#declaration-settings-template",null)})),$(document).on("click","#confirm_business_declaration",(function(){sessionStorage.setItem("declaration_status","confirm"),$("#business-declaration-modal").remove()})),$(document).on("click","#modal-close-btn",(function(){$("#business-declaration-modal").remove()})),$(document).on("click",".register-bussines-btn",(function(){(addLoader(),digibiz.storages.length<=0)?(removeLoader(),Materialize.toast("Please choose the business storage",3e3,"round success-alert")):($(this).prop("disabled",!0),businessUpdate({device_id:crossplat.device.uuid,id:sessionStorage.getItem("business_id"),data:{status:"self-verified",socket_enable_status:"true"}}).then((e=>{$(this).attr("disabled",!1),location.hash="business_owner/business/list"})).catch((e=>{$(this).attr("disabled",!1),removeLoader(),Materialize.toast("Error in registering business",3e3,"round success-alert")})))})),$(document).on("click",".multimedia-upload",(function(){if(addLoader(),$(".selected-multimedia-files").length>0)removeLoader(),Materialize.toast("Please save the last file uploaded.",3e3,"round error-alert");else{$(".selected-multimedia-files").remove(),digibiz.cloud_multimedia_selected_files=[],digibiz.device_multimedia_selected_files=[],digibiz.cloud_uploading_files=[],digibiz.cloud_multimedia_selected_files=[],digibiz.camera_multimedia_selected_files=[],digibiz.device_multimedia_uploaded_files=[],digibiz.cloud_multimedia_uploaded_files=[],digibiz.camera_multimedia_uploaded_files=[],$(".multimedia-upload").removeClass("active"),$(this).addClass("active");var e=$(this).attr("data-id");if(sessionStorage.setItem("multimedia_upload_data_id",e),validateBeforeAttachement())showAction({action_id:"action-multimedia-upload-attachments-options",action_platform:crossplat.device.platform,action_title:"Attachment Types",action_btn:[{name:"Device Upload",attr:[{name:"class",value:"action-multimedia-upload-attachment-device-upload-btn"}]},{name:"Cloud Upload",attr:[{name:"class",value:"digibiz-filemanager"}]}]},(function(){removeError($("#upload-preview-container-text-box")),removeLoader()}));else removeLoader()}})),$(document).on("click",".action-multimedia-upload-attachment-device-upload-btn",(function(){$("#business_add_device_upload").val(""),$("#business_add_device_upload").trigger("click"),$("#action-multimedia-upload-attachments-options").remove()})),$(document).on("change","#business_add_device_upload",(function(){var e=this.files;if(e[0]){var t=e[0].name.split(".").pop(),i=e[0].type.split("/")[0];e[0].type.split("/")[1];if(config.attachmentFileFormat.includes(t.toLowerCase()))if(e[0].size>config.maxSizeAllowMultiMediaFiles){r='<div class="alert-exceeded-size-attachment-container">This file is exceeding max size allowed..Try uploading file less than 20MB </div>';showAlert({alert_id:"alert-exceeded-size-attachment",alert_platform:crossplat.device.platform,alert_title:"Invalid Attachment",alert_body:r,alert_btn:[{name:"Ok",attr:[{name:"id",value:"btn-exceeded-size-attachment-ok"}]}]},(function(){}))}else{var a,o=e[0].name,s=new FileReader;s.onloadend=async function(r){a=s.result,digibiz.device_multimedia_selected_files.push(e[0]),digibiz.objectURLS[1]=URL.createObjectURL(e[0]),$(".upload-preview-common-layout#upload-preview-wrapper").find("#upload-footer-send-btn-common").attr("data-uploadtype","device"),"text"==i&&(i="application");var n=await viewFile(i,t,digibiz.objectURLS[1]);$(".upload-footer-attatched-file").removeClass("active"),$(".upload-preview-common-layout#upload-preview-wrapper").hasClass("hide")&&($(".upload-preview-common-layout#upload-preview-wrapper").removeClass("hide").addClass("slide-top"),$('div[data-filemanager="filemanager"]').addClass("hide")),digibiz.uploadingFiles.push({file:e[0],fileURI:digibiz.objectURLS[1]}),$(".upload-preview-common-layout#upload-preview-wrapper").removeClass("hide"),$(".upload-preview-common-layout #upload-file-preview").html(n),$("#upload-footer-send-btn-common").attr("data-id",sessionStorage.getItem("multimedia_upload_data_id")),$("#upload-footer-send-btn-common").attr("data-name",o),$("#upload-preview-container-text-box").text(""),$("#upload-footer-send-btn-common").removeAttr("data-download"),"image"==i||"video"==i||"audio"==i?$(".pdf-view").addClass("hide"):$(".pdf-view").removeClass("hide"),"Android"!=crossplat.device.platform&&"iOS"!=crossplat.device.platform||$(".header-band").addClass("hide");var d=`<div class="grid selected-multimedia-files" data-type="file" data-upload-type="device">\n                                <img class="hide" src="${a}"/>\n                                <div class="thumbnail-wrapper">\n                                   <a class="">\n                                      <div class="thumbnail"></div>\n                                   </a>                     \n                                </div>\n                                <div class="file-details ellipsify">\n                                   <div class="file-name">\n                                      <a class="thumb-title">${o}</a>\n                                   </div>  \n                                   <div class="file-size">\n                                   <div class="thumb-meta">\n                                      <span class="thumb-info">${e[0].size}</span>\n                                   </div>\n                                </div>                    \n                                </div>\n                                <div class="file-selected-remove-btn">\n                                <i class="material-icons">cancel</i>\n                            </div>\n                             </div>`,c=sessionStorage.getItem("multimedia_upload_data_id");"identity-proof-load-btn"==c?$(".multimedia-upload.active").parents(".business-add-identity-proof-wrapper").find(`.multimedia-append-container[data-id="${c}"]`).append(d):("pancard-load-btn"==c||"shop-established-license-load-btn"==c||"gst-license-load-btn"==c||"partnership-deed-load-btn"==c||"partnership-registration-certificate-load-btn"==c||"llp-registration-certificate-load-btn"==c||"transaction-person-load-btn"==c||"memorandum-of-association-load-btn"==c||"articles-of-association-load-btn"==c||"trust-establishment-license-load-btn"==c)&&$(`.multimedia-append-container[data-id="${c}"]`).append(d)},s.readAsDataURL(e[0])}else{var r='<div class="alert-invalid-attachment-container">This files is an invalid file type..try uploading other file</div>';showAlert({alert_id:"alert-invalid-attachment",alert_platform:crossplat.device.platform,alert_title:"Invalid Attachment",alert_body:r,alert_btn:[{name:"Ok",attr:[{name:"id",value:"btn-invalid-attachment-ok"}]}]},(function(){}))}}})),$(document).on("click","#btn-invalid-attachment-ok",(function(){$("#alert-invalid-attachment").remove()})),$(document).on("click","#btn-exceeded-size-attachment-ok",(function(){$("#alert-exceeded-size-attachment").remove()})),$(document).on("click",".file-selected-remove-btn",(function(){if($(this).siblings(".file-details").attr("data-asset-id"))$(this).siblings(".multimedia-append-container").attr("data-id");else $(this).parents(".selected-multimedia-files").remove()})),$(document).on("click",".close-btn-cloud",(function(){addLoader(),setTimeout((function(){$(".filemanger_container_toggle").removeClass("active"),removeLoader()}),300)})),$(document).on("dblclick",".filemanager-folder-doubletap",(function(e){addLoader();let t=$(this).attr("data-parent"),i=$(this).attr("data-relative");sessionStorage.removeItem("filemanager_current_folder"),sessionStorage.setItem("filemanager_current_folder",t),filemanagerNavigateToLocation(t,"personal_workspace",(function(){removeLoader(),setFilemanagerBreadcrumb({relative_name:i.trim(),real_name:t}),$(".arrow-back-btn").removeClass("hide"),$(".close-btn-cloud").addClass("hide")}))})),$(document).on("click",".arrow-back-btn",(function(){addLoader(),$(".expand-search-input").removeAttr("socketid"),$(".expand-search-input").val("");var e=JSON.parse(sessionStorage.getItem("filemanager_breadcrumb_path")),t=sessionStorage.getItem("filemanager_current_folder");e&&e.length>0?(e=e.filter((e=>e.real_name!=t)),sessionStorage.setItem("filemanager_breadcrumb_path",JSON.stringify(e)),e.length>0?(t=e[e.length-1].real_name,sessionStorage.setItem("filemanager_current_folder",t)):(sessionStorage.setItem("filemanager_current_folder",""),filemanagerNavigateToLocation(sessionStorage.getItem("filemanager_current_folder"),"personal_workspace",(function(){removeLoader()})))):($(".cloud-storage-heading").removeClass("hide").siblings(".arrow-back-btn").addClass("hide"),sessionStorage.setItem("filemanager_current_folder",""),showCloudSelcetionList((function(){removeLoader(),$(".filemanger_container_toggle").addClass("active"),$(".file-manager-footer").removeClass("hide"),$(".filemanager").find(".expand-search-input").addClass("filemanager-search")})))})),$(document).on("dblclick",".individual-filemanager-folder-doubletap",(function(e){addLoader(),digibiz.uploadingFiles=[];let t=$(this).attr("data-parent"),i=$(this).attr("data-relative");sessionStorage.removeItem("filemanager_current_folder"),sessionStorage.setItem("filemanager_current_folder",t),filemanagerNavigateToLocation(t,"personal_workspace",(function(){removeLoader(),setFilemanagerBreadcrumb({relative_name:i.trim(),real_name:t}),$(".cloud-storage-heading").addClass("hide").siblings(".arrow-back-btn").removeClass("hide")}))})),$(document).on("dblclick",".digibiz-filemanager-folder-doubletap",(function(e){addLoader(),digibiz.uploadingFiles=[];let t=$(this).attr("data-parent"),i=$(this).attr("data-relative");sessionStorage.removeItem("filemanager_current_folder"),sessionStorage.setItem("filemanager_current_folder",t),digibizFilemanagerNavigateToLocation(t,"personal_workspace",(function(){removeLoader(),setFilemanagerBreadcrumb({relative_name:i.trim(),real_name:t}),$(".cloud-storage-heading").addClass("hide").siblings(".arrow-back-btn").removeClass("hide")}))})),$(document).on("click","input[name='individualFilemanagerFileSelection[]']",(function(e){if(e.stopPropagation(),"digibiz_credentials"==$("body").attr("app"))if($(document).find('input[name="individualFilemanagerFileSelection[]"]:checked').length<=1)if($(document).find('input[name="individualFilemanagerFileSelection[]"]:checked').length>0){$(".filemanger_container_toggle").find(".grid-view-container").addClass("edit-mode"),getAssetDetailsCloud(i=$(this).attr("data-asset_id")).then((e=>{if(0==e.is_trashed&&(supported_types=config.identityPictureFileFormat,null!=e.file_attributes.extension))if(supported_types.includes(e.file_attributes.extension.toLowerCase())){$(document).find(".file-info").addClass("disabled");let t=0;if($(this).prop("checked")){let a=$(this);$.each($('input[name="individualFilemanagerFileSelection[]"]:checked'),(function(o,s){t=e.file_attributes.size.filesize,$('input[name="individualFilemanagerFileSelection[]"]:checked').length==o+1&&(t/Math.pow(1024,2)>20?($(a).prop("checked",!1),0==$('input[name="individualFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select maximum 20 MB at a time",4e3,"round error-alert"),0==$('input[name="individualFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled")):"file"==e.type?data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative,file_type:e.file_attributes.extension,asset_id:i}:data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative})}))}else t>0&&(t-=parseInt($(this).attr("data-file_size")));$('input[name="individualFilemanagerFileSelection[]"]:checked').length>5&&($(this).prop("checked",!1),0==$('input[name="individualFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select only 1 file",4e3,"round error-alert"))}else $(this).prop("checked",!1),Materialize.toast("Unsupported File "+e.file_attributes.name.relative,3e3,"rounded error-alert")}))}else{var t=$(this).attr("data-relative");$(document).find(".file-info").removeClass("disabled"),$(".filemanger_container_toggle").find(".grid-view-container").removeClass("edit-mode")}else $(this).prop("checked",!1),Materialize.toast("You can select only 1 file",3e3,"rounded error-alert");else if("employee_group_create"==$("body").attr("app")||"communication_group_details"==$("body").attr("app")||"collaborator_group_create"==$("body").attr("app")||"collaborator_group_details"==$("body").attr("app"))if($(document).find('input[name="individualFilemanagerFileSelection[]"]:checked').length<=1)if($(document).find('input[name="individualFilemanagerFileSelection[]"]:checked').length>0){$(".filemanger_container_toggle").find(".grid-view-container").addClass("edit-mode"),getAssetDetailsCloud(i=$(this).attr("data-asset_id")).then((e=>{if(0==e.is_trashed&&(supported_types=config.identityPictureFileFormat,null!=e.file_attributes.extension))if(supported_types.includes(e.file_attributes.extension.toLowerCase())){$(document).find(".file-info").addClass("disabled");let t=0;if($(this).prop("checked")){let a=$(this);$.each($('input[name="individualFilemanagerFileSelection[]"]:checked'),(function(o,s){t=e.file_attributes.size.filesize,$('input[name="individualFilemanagerFileSelection[]"]:checked').length==o+1&&(t/Math.pow(1024,2)>20?($(a).prop("checked",!1),0==$('input[name="individualFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select maximum 20 MB at a time",4e3,"round error-alert"),0==$('input[name="individualFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled")):"file"==e.type?data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative,file_type:e.file_attributes.extension,asset_id:i}:data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative})}))}else t>0&&(t-=parseInt($(this).attr("data-file_size")));$('input[name="individualFilemanagerFileSelection[]"]:checked').length>5&&($(this).prop("checked",!1),0==$('input[name="individualFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select only 1 file",4e3,"round error-alert"))}else $(this).prop("checked",!1),Materialize.toast("Unsupported File "+e.file_attributes.name.relative,3e3,"rounded error-alert")}))}else{t=$(this).attr("data-relative");$(document).find(".file-info").removeClass("disabled"),$(".filemanger_container_toggle").find(".grid-view-container").removeClass("edit-mode")}else $(this).prop("checked",!1),Materialize.toast("You can select only 1 file",3e3,"rounded error-alert");else if("customer_groups_details"==$("body").attr("app"))if($(document).find('input[name="individualFilemanagerFileSelection[]"]:checked').length<=1)if($(document).find('input[name="individualFilemanagerFileSelection[]"]:checked').length>0){$(".filemanger_container_toggle").find(".grid-view-container").addClass("edit-mode"),getAssetDetailsCloud(i=$(this).attr("data-asset_id")).then((e=>{if(0==e.is_trashed&&(supported_types=config.identityPictureFileFormat,null!=e.file_attributes.extension))if(supported_types.includes(e.file_attributes.extension.toLowerCase())){$(document).find(".file-info").addClass("disabled");let t=0;if($(this).prop("checked")){let a=$(this);$.each($('input[name="individualFilemanagerFileSelection[]"]:checked'),(function(o,s){t=e.file_attributes.size.filesize,$('input[name="individualFilemanagerFileSelection[]"]:checked').length==o+1&&(t/Math.pow(1024,2)>20?($(a).prop("checked",!1),0==$('input[name="individualFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select maximum 20 MB at a time",4e3,"round error-alert"),0==$('input[name="individualFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled")):"file"==e.type?data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative,file_type:e.file_attributes.extension,asset_id:i}:data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative})}))}else t>0&&(t-=parseInt($(this).attr("data-file_size")));$('input[name="individualFilemanagerFileSelection[]"]:checked').length>5&&($(this).prop("checked",!1),0==$('input[name="individualFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select only 1 file",4e3,"round error-alert"))}else $(this).prop("checked",!1),Materialize.toast("Unsupported File "+e.file_attributes.name.relative,3e3,"rounded error-alert")}))}else{t=$(this).attr("data-relative");$(document).find(".file-info").removeClass("disabled"),$(".filemanger_container_toggle").find(".grid-view-container").removeClass("edit-mode")}else $(this).prop("checked",!1),Materialize.toast("You can select only 1 file",3e3,"rounded error-alert");else if(sessionStorage.getItem("customer_id"))if($("#edit-associate-customer-modal").length>0)if("associate_customer_identity_video"==sessionStorage.getItem("associate_customer_upload_for"))if($(document).find('input[name="individualFilemanagerFileSelection[]"]:checked').length<=1)if($(document).find('input[name="individualFilemanagerFileSelection[]"]:checked').length>0){$(".filemanger_container_toggle").find(".grid-view-container").addClass("edit-mode"),getAssetDetailsCloud(i=$(this).attr("data-asset_id")).then((e=>{if(0==e.is_trashed&&(supported_types=config.multimediaVideoFormat,null!=e.file_attributes.extension))if(supported_types.includes(e.file_attributes.extension.toLowerCase())){$(document).find(".file-info").addClass("disabled");let t=0;if($(this).prop("checked")){let a=$(this);$.each($('input[name="individualFilemanagerFileSelection[]"]:checked'),(function(o,s){t=e.file_attributes.size.filesize,$('input[name="individualFilemanagerFileSelection[]"]:checked').length==o+1&&(t/Math.pow(1024,2)>20?($(a).prop("checked",!1),0==$('input[name="individualFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select maximum 20 MB at a time",4e3,"round error-alert"),0==$('input[name="individualFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled")):"file"==e.type?data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative,file_type:e.file_attributes.extension,asset_id:i}:data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative})}))}else t>0&&(t-=parseInt($(this).attr("data-file_size")));$('input[name="individualFilemanagerFileSelection[]"]:checked').length>5&&($(this).prop("checked",!1),0==$('input[name="individualFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select only 1 file",4e3,"round error-alert"))}else $(this).prop("checked",!1),Materialize.toast("Unsupported File "+e.file_attributes.name.relative,3e3,"rounded error-alert")}))}else{t=$(this).attr("data-relative");$(document).find(".file-info").removeClass("disabled"),$(".filemanger_container_toggle").find(".grid-view-container").removeClass("edit-mode")}else $(this).prop("checked",!1),Materialize.toast("You can select only 1 file",3e3,"rounded error-alert");else if($(document).find('input[name="individualFilemanagerFileSelection[]"]:checked').length<=1)if($(document).find('input[name="individualFilemanagerFileSelection[]"]:checked').length>0){$(".filemanger_container_toggle").find(".grid-view-container").addClass("edit-mode"),getAssetDetailsCloud(i=$(this).attr("data-asset_id")).then((e=>{if(0==e.is_trashed&&(supported_types=config.identityPictureFileFormat,null!=e.file_attributes.extension))if(supported_types.includes(e.file_attributes.extension.toLowerCase())){$(document).find(".file-info").addClass("disabled");let t=0;if($(this).prop("checked")){let a=$(this);$.each($('input[name="individualFilemanagerFileSelection[]"]:checked'),(function(o,s){t=e.file_attributes.size.filesize,$('input[name="individualFilemanagerFileSelection[]"]:checked').length==o+1&&(t/Math.pow(1024,2)>20?($(a).prop("checked",!1),0==$('input[name="individualFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select maximum 20 MB at a time",4e3,"round error-alert"),0==$('input[name="individualFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled")):"file"==e.type?data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative,file_type:e.file_attributes.extension,asset_id:i}:data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative})}))}else t>0&&(t-=parseInt($(this).attr("data-file_size")));$('input[name="individualFilemanagerFileSelection[]"]:checked').length>5&&($(this).prop("checked",!1),0==$('input[name="individualFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select only 1 file",4e3,"round error-alert"))}else $(this).prop("checked",!1),Materialize.toast("Unsupported File "+e.file_attributes.name.relative,3e3,"rounded error-alert")}))}else{t=$(this).attr("data-relative");$(document).find(".file-info").removeClass("disabled"),$(".filemanger_container_toggle").find(".grid-view-container").removeClass("edit-mode")}else $(this).prop("checked",!1),Materialize.toast("You can select only 1 file",3e3,"rounded error-alert");else if("customer_identity_video"==sessionStorage.getItem("customer_upload_for"))if($(document).find('input[name="individualFilemanagerFileSelection[]"]:checked').length<=1)if($(document).find('input[name="individualFilemanagerFileSelection[]"]:checked').length>0){$(".filemanger_container_toggle").find(".grid-view-container").addClass("edit-mode"),getAssetDetailsCloud(i=$(this).attr("data-asset_id")).then((e=>{if(0==e.is_trashed&&(supported_types=config.multimediaVideoFormat,null!=e.file_attributes.extension))if(supported_types.includes(e.file_attributes.extension.toLowerCase())){$(document).find(".file-info").addClass("disabled");let t=0;if($(this).prop("checked")){let a=$(this);$.each($('input[name="individualFilemanagerFileSelection[]"]:checked'),(function(o,s){t=e.file_attributes.size.filesize,$('input[name="individualFilemanagerFileSelection[]"]:checked').length==o+1&&(t/Math.pow(1024,2)>20?($(a).prop("checked",!1),0==$('input[name="individualFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select maximum 20 MB at a time",4e3,"round error-alert"),0==$('input[name="individualFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled")):"file"==e.type?data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative,file_type:e.file_attributes.extension,asset_id:i}:data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative})}))}else t>0&&(t-=parseInt($(this).attr("data-file_size")));$('input[name="individualFilemanagerFileSelection[]"]:checked').length>5&&($(this).prop("checked",!1),0==$('input[name="individualFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select only 1 file",4e3,"round error-alert"))}else $(this).prop("checked",!1),Materialize.toast("Unsupported File "+e.file_attributes.name.relative,3e3,"rounded error-alert")}))}else{t=$(this).attr("data-relative");$(document).find(".file-info").removeClass("disabled"),$(".filemanger_container_toggle").find(".grid-view-container").removeClass("edit-mode")}else $(this).prop("checked",!1),Materialize.toast("You can select only 1 file",3e3,"rounded error-alert");else if($(document).find('input[name="individualFilemanagerFileSelection[]"]:checked').length<=1)if($(document).find('input[name="individualFilemanagerFileSelection[]"]:checked').length>0){$(".filemanger_container_toggle").find(".grid-view-container").addClass("edit-mode"),getAssetDetailsCloud(i=$(this).attr("data-asset_id")).then((e=>{if(0==e.is_trashed&&(supported_types=config.identityPictureFileFormat,null!=e.file_attributes.extension))if(supported_types.includes(e.file_attributes.extension.toLowerCase())){$(document).find(".file-info").addClass("disabled");let t=0;if($(this).prop("checked")){let a=$(this);$.each($('input[name="individualFilemanagerFileSelection[]"]:checked'),(function(o,s){t=e.file_attributes.size.filesize,$('input[name="individualFilemanagerFileSelection[]"]:checked').length==o+1&&(t/Math.pow(1024,2)>20?($(a).prop("checked",!1),0==$('input[name="individualFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select maximum 20 MB at a time",4e3,"round error-alert"),0==$('input[name="individualFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled")):"file"==e.type?data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative,file_type:e.file_attributes.extension,asset_id:i}:data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative})}))}else t>0&&(t-=parseInt($(this).attr("data-file_size")));$('input[name="individualFilemanagerFileSelection[]"]:checked').length>5&&($(this).prop("checked",!1),0==$('input[name="individualFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select only 1 file",4e3,"round error-alert"))}else $(this).prop("checked",!1),Materialize.toast("Unsupported File "+e.file_attributes.name.relative,3e3,"rounded error-alert")}))}else{t=$(this).attr("data-relative");$(document).find(".file-info").removeClass("disabled"),$(".filemanger_container_toggle").find(".grid-view-container").removeClass("edit-mode")}else $(this).prop("checked",!1),Materialize.toast("You can select only 1 file",3e3,"rounded error-alert");else if(sessionStorage.getItem("employee_id"))if("employee_identity_video"==sessionStorage.getItem("employee_upload_for"))if($(document).find('input[name="individualFilemanagerFileSelection[]"]:checked').length<=1)if($(document).find('input[name="individualFilemanagerFileSelection[]"]:checked').length>0){$(".filemanger_container_toggle").find(".grid-view-container").addClass("edit-mode"),getAssetDetailsCloud(i=$(this).attr("data-asset_id")).then((e=>{if(0==e.is_trashed&&(supported_types=config.multimediaVideoFormat,null!=e.file_attributes.extension))if(supported_types.includes(e.file_attributes.extension.toLowerCase())){$(document).find(".file-info").addClass("disabled");let t=0;if($(this).prop("checked")){let a=$(this);$.each($('input[name="individualFilemanagerFileSelection[]"]:checked'),(function(o,s){t=e.file_attributes.size.filesize,$('input[name="individualFilemanagerFileSelection[]"]:checked').length==o+1&&(t/Math.pow(1024,2)>20?($(a).prop("checked",!1),0==$('input[name="individualFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select maximum 20 MB at a time",4e3,"round error-alert"),0==$('input[name="individualFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled")):"file"==e.type?data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative,file_type:e.file_attributes.extension,asset_id:i}:data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative})}))}else t>0&&(t-=parseInt($(this).attr("data-file_size")));$('input[name="individualFilemanagerFileSelection[]"]:checked').length>5&&($(this).prop("checked",!1),0==$('input[name="individualFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select only 1 file",4e3,"round error-alert"))}else $(this).prop("checked",!1),Materialize.toast("Unsupported File "+e.file_attributes.name.relative,3e3,"rounded error-alert")}))}else{t=$(this).attr("data-relative");$(document).find(".file-info").removeClass("disabled"),$(".filemanger_container_toggle").find(".grid-view-container").removeClass("edit-mode")}else $(this).prop("checked",!1),Materialize.toast("You can select only 1 file",3e3,"rounded error-alert");else if($(document).find('input[name="individualFilemanagerFileSelection[]"]:checked').length<=1)if($(document).find('input[name="individualFilemanagerFileSelection[]"]:checked').length>0){$(".filemanger_container_toggle").find(".grid-view-container").addClass("edit-mode"),getAssetDetailsCloud(i=$(this).attr("data-asset_id")).then((e=>{if(0==e.is_trashed&&(supported_types=config.identityPictureFileFormat,null!=e.file_attributes.extension))if(supported_types.includes(e.file_attributes.extension.toLowerCase())){$(document).find(".file-info").addClass("disabled");let t=0;if($(this).prop("checked")){let a=$(this);$.each($('input[name="individualFilemanagerFileSelection[]"]:checked'),(function(o,s){t=e.file_attributes.size.filesize,$('input[name="individualFilemanagerFileSelection[]"]:checked').length==o+1&&(t/Math.pow(1024,2)>20?($(a).prop("checked",!1),0==$('input[name="individualFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select maximum 20 MB at a time",4e3,"round error-alert"),0==$('input[name="individualFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled")):"file"==e.type?data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative,file_type:e.file_attributes.extension,asset_id:i}:data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative})}))}else t>0&&(t-=parseInt($(this).attr("data-file_size")));$('input[name="individualFilemanagerFileSelection[]"]:checked').length>5&&($(this).prop("checked",!1),0==$('input[name="individualFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select only 1 file",4e3,"round error-alert"))}else $(this).prop("checked",!1),Materialize.toast("Unsupported File "+e.file_attributes.name.relative,3e3,"rounded error-alert")}))}else{t=$(this).attr("data-relative");$(document).find(".file-info").removeClass("disabled"),$(".filemanger_container_toggle").find(".grid-view-container").removeClass("edit-mode")}else $(this).prop("checked",!1),Materialize.toast("You can select only 1 file",3e3,"rounded error-alert");else if(sessionStorage.getItem("business_id"))if(sessionStorage.getItem("cloud_upload_for"))if($(document).find('input[name="individualFilemanagerFileSelection[]"]:checked').length<=1)if($(document).find('input[name="individualFilemanagerFileSelection[]"]:checked').length>0){$(".filemanger_container_toggle").find(".grid-view-container").addClass("edit-mode"),getAssetDetailsCloud(i=$(this).attr("data-asset_id")).then((e=>{if(0==e.is_trashed&&(supported_types=config.identityPictureFileFormat,null!=e.file_attributes.extension))if(supported_types.includes(e.file_attributes.extension.toLowerCase())){$(document).find(".file-info").addClass("disabled");let t=0;if($(this).prop("checked")){let a=$(this);$.each($('input[name="individualFilemanagerFileSelection[]"]:checked'),(function(o,s){t=e.file_attributes.size.filesize,$('input[name="individualFilemanagerFileSelection[]"]:checked').length==o+1&&(t/Math.pow(1024,2)>20?($(a).prop("checked",!1),0==$('input[name="individualFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select maximum 20 MB at a time",4e3,"round error-alert"),0==$('input[name="individualFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled")):"file"==e.type?data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative,file_type:e.file_attributes.extension,asset_id:i}:data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative})}))}else t>0&&(t-=parseInt($(this).attr("data-file_size")));$('input[name="individualFilemanagerFileSelection[]"]:checked').length>5&&($(this).prop("checked",!1),0==$('input[name="individualFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select only 1 file",4e3,"round error-alert"))}else $(this).prop("checked",!1),Materialize.toast("Unsupported File "+e.file_attributes.name.relative,3e3,"rounded error-alert")}))}else{t=$(this).attr("data-relative");$(document).find(".file-info").removeClass("disabled"),$(".filemanger_container_toggle").find(".grid-view-container").removeClass("edit-mode")}else $(this).prop("checked",!1),Materialize.toast("You can select only 1 file",3e3,"rounded error-alert");else if("business_display_picture"==sessionStorage.getItem("business_upload_for"))if($(document).find('input[name="individualFilemanagerFileSelection[]"]:checked').length<=1)if($(document).find('input[name="individualFilemanagerFileSelection[]"]:checked').length>0){$(".filemanger_container_toggle").find(".grid-view-container").addClass("edit-mode"),getAssetDetailsCloud(i=$(this).attr("data-asset_id")).then((e=>{if(0==e.is_trashed&&(supported_types=config.identityPictureFileFormat,null!=e.file_attributes.extension))if(supported_types.includes(e.file_attributes.extension.toLowerCase())){$(document).find(".file-info").addClass("disabled");let t=0;if($(this).prop("checked")){let a=$(this);$.each($('input[name="individualFilemanagerFileSelection[]"]:checked'),(function(o,s){t=e.file_attributes.size.filesize,$('input[name="individualFilemanagerFileSelection[]"]:checked').length==o+1&&(t/Math.pow(1024,2)>20?($(a).prop("checked",!1),0==$('input[name="individualFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select maximum 20 MB at a time",4e3,"round error-alert"),0==$('input[name="individualFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled")):"file"==e.type?data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative,file_type:e.file_attributes.extension,asset_id:i}:data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative})}))}else t>0&&(t-=parseInt($(this).attr("data-file_size")));$('input[name="individualFilemanagerFileSelection[]"]:checked').length>5&&($(this).prop("checked",!1),0==$('input[name="individualFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select only 1 file",4e3,"round error-alert"))}else $(this).prop("checked",!1),Materialize.toast("Unsupported File "+e.file_attributes.name.relative,3e3,"rounded error-alert")}))}else{t=$(this).attr("data-relative");$(document).find(".file-info").removeClass("disabled"),$(".filemanger_container_toggle").find(".grid-view-container").removeClass("edit-mode")}else $(this).prop("checked",!1),Materialize.toast("You can select only 1 file",3e3,"rounded error-alert");else if("business_identity_video"==sessionStorage.getItem("business_upload_for"))if($(document).find('input[name="individualFilemanagerFileSelection[]"]:checked').length<=1)if($(document).find('input[name="individualFilemanagerFileSelection[]"]:checked').length>0){$(".filemanger_container_toggle").find(".grid-view-container").addClass("edit-mode"),getAssetDetailsCloud(i=$(this).attr("data-asset_id")).then((e=>{if(0==e.is_trashed&&(supported_types=config.multimediaVideoFormat,console.log("supported_types",supported_types),null!=e.file_attributes.extension))if(supported_types.includes(e.file_attributes.extension.toLowerCase())){console.log("file is supported"),$(document).find(".file-info").addClass("disabled");let t=0;if($(this).prop("checked")){let a=$(this);$.each($('input[name="individualFilemanagerFileSelection[]"]:checked'),(function(o,s){t=e.file_attributes.size.filesize,$('input[name="individualFilemanagerFileSelection[]"]:checked').length==o+1&&(t/Math.pow(1024,2)>20?($(a).prop("checked",!1),0==$('input[name="individualFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select maximum 20 MB at a time",4e3,"round error-alert"),0==$('input[name="individualFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled")):"file"==e.type?data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative,file_type:e.file_attributes.extension,asset_id:i}:data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative})}))}else t>0&&(t-=parseInt($(this).attr("data-file_size")));$('input[name="individualFilemanagerFileSelection[]"]:checked').length>5&&($(this).prop("checked",!1),0==$('input[name="individualFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select only 1 file",4e3,"round error-alert"))}else console.log("not supported file"),$(this).prop("checked",!1),Materialize.toast("Unsupported File "+e.file_attributes.name.relative,3e3,"rounded error-alert")}))}else{t=$(this).attr("data-relative");$(document).find(".file-info").removeClass("disabled"),$(".filemanger_container_toggle").find(".grid-view-container").removeClass("edit-mode")}else $(this).prop("checked",!1),Materialize.toast("You can select only 1 file",3e3,"rounded error-alert");else{sessionStorage.getItem("multimedia_upload_data_id");if($(this).is(":checked"),$(document).find('input[name="individualFilemanagerFileSelection[]"]:checked').length<=1)if($(document).find('input[name="individualFilemanagerFileSelection[]"]:checked').length>0){var i;$(".filemanger_container_toggle").find(".grid-view-container").addClass("edit-mode"),getAssetDetailsCloud(i=$(this).attr("data-asset_id")).then((e=>{if(0==e.is_trashed&&(supported_types=config.attachmentFileFormat,null!=e.file_attributes.extension))if(supported_types.includes(e.file_attributes.extension.toLowerCase())){$(document).find(".file-info").addClass("disabled");let t=0;if($(this).prop("checked")){let a=$(this);$.each($('input[name="individualFilemanagerFileSelection[]"]:checked'),(function(o,s){t=e.file_attributes.size.filesize,$('input[name="individualFilemanagerFileSelection[]"]:checked').length==o+1&&(t/Math.pow(1024,2)>20?($(a).prop("checked",!1),0==$('input[name="individualFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select maximum 20 MB at a time",4e3,"round error-alert"),digibiz.cloud_uploading_files.filter((e=>e!=$(this).attr("data-asset_id"))),0==$('input[name="individualFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled")):("file"==e.type?data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative,file_type:e.file_attributes.extension,asset_id:i}:data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative},sessionStorage.getItem("share_owner_id")||digibiz.cloud_uploading_files.push(data)))}))}else digibiz.cloud_uploading_files=digibiz.cloud_uploading_files.filter((t=>t.real_name!==e.file_attributes.name.real)),t>0&&(t-=parseInt($(this).attr("data-file_size")));$('input[name="individualFilemanagerFileSelection[]"]:checked').length>5&&($(this).prop("checked",!1),0==$('input[name="individualFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select only 1 file at a time",4e3,"round error-alert"))}else $(this).prop("checked",!1),Materialize.toast("Unsupported File "+e.file_attributes.name.relative,3e3,"rounded error-alert")}))}else{t=$(this).attr("data-relative");digibiz.cloud_uploading_files=digibiz.cloud_uploading_files.filter((e=>e.relative_name!==t)),$(document).find(".file-info").removeClass("disabled"),$(".filemanger_container_toggle").find(".grid-view-container").removeClass("edit-mode")}else $(this).prop("checked",!1),Materialize.toast("You can not select more than 1 file",3e3,"rounded error-alert")}})),$(document).on("click","input[name='digibizFilemanagerFileSelection[]']",(function(e){if(e.stopPropagation(),"digibiz_credentials"==$("body").attr("app"))if($(document).find('input[name="digibizFilemanagerFileSelection[]"]:checked').length<=1)if($(document).find('input[name="digibizFilemanagerFileSelection[]"]:checked').length>0){$(".filemanger_container_toggle").find(".grid-view-container").addClass("edit-mode"),getDigibizAssetDetails(i=$(this).attr("data-asset_id")).then((e=>{if(0==e.is_trashed&&(supported_types=config.identityPictureFileFormat,null!=e.file_attributes.extension))if(supported_types.includes(e.file_attributes.extension.toLowerCase())){$(document).find(".file-info").addClass("disabled");let t=0;if($(this).prop("checked")){let a=$(this);$.each($('input[name="digibizFilemanagerFileSelection[]"]:checked'),(function(o,s){t=e.file_attributes.size.filesize,$('input[name="digibizFilemanagerFileSelection[]"]:checked').length==o+1&&(t/Math.pow(1024,2)>20?($(a).prop("checked",!1),0==$('input[name="digibizFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select maximum 20 MB at a time",4e3,"round error-alert"),0==$('input[name="digibizFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled")):"file"==e.type?data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative,file_type:e.file_attributes.extension,asset_id:i}:data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative})}))}else t>0&&(t-=parseInt($(this).attr("data-file_size")));$('input[name="digibizFilemanagerFileSelection[]"]:checked').length>5&&($(this).prop("checked",!1),0==$('input[name="digibizFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select only 1 file",4e3,"round error-alert"))}else $(this).prop("checked",!1),Materialize.toast("Unsupported File "+e.file_attributes.name.relative,3e3,"rounded error-alert")}))}else{var t=$(this).attr("data-relative");$(document).find(".file-info").removeClass("disabled"),$(".filemanger_container_toggle").find(".grid-view-container").removeClass("edit-mode")}else $(this).prop("checked",!1),Materialize.toast("You can select only 1 file",3e3,"rounded error-alert");else if("employee_group_create"==$("body").attr("app")||"communication_group_details"==$("body").attr("app")||"collaborator_group_create"==$("body").attr("app")||"collaborator_group_details"==$("body").attr("app"))if($(document).find('input[name="digibizFilemanagerFileSelection[]"]:checked').length<=1)if($(document).find('input[name="digibizFilemanagerFileSelection[]"]:checked').length>0){$(".filemanger_container_toggle").find(".grid-view-container").addClass("edit-mode"),getDigibizAssetDetails(i=$(this).attr("data-asset_id")).then((e=>{if(0==e.is_trashed&&(supported_types=config.identityPictureFileFormat,null!=e.file_attributes.extension))if(supported_types.includes(e.file_attributes.extension.toLowerCase())){$(document).find(".file-info").addClass("disabled");let t=0;if($(this).prop("checked")){let a=$(this);$.each($('input[name="digibizFilemanagerFileSelection[]"]:checked'),(function(o,s){t=e.file_attributes.size.filesize,$('input[name="digibizFilemanagerFileSelection[]"]:checked').length==o+1&&(t/Math.pow(1024,2)>20?($(a).prop("checked",!1),0==$('input[name="digibizFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select maximum 20 MB at a time",4e3,"round error-alert"),0==$('input[name="digibizFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled")):"file"==e.type?data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative,file_type:e.file_attributes.extension,asset_id:i}:data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative})}))}else t>0&&(t-=parseInt($(this).attr("data-file_size")));$('input[name="digibizFilemanagerFileSelection[]"]:checked').length>5&&($(this).prop("checked",!1),0==$('input[name="digibizFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select only 1 file",4e3,"round error-alert"))}else $(this).prop("checked",!1),Materialize.toast("Unsupported File "+e.file_attributes.name.relative,3e3,"rounded error-alert")}))}else{t=$(this).attr("data-relative");$(document).find(".file-info").removeClass("disabled"),$(".filemanger_container_toggle").find(".grid-view-container").removeClass("edit-mode")}else $(this).prop("checked",!1),Materialize.toast("You can select only 1 file",3e3,"rounded error-alert");else if("customer_groups_details"==$("body").attr("app"))if($(document).find('input[name="digibizFilemanagerFileSelection[]"]:checked').length<=1)if($(document).find('input[name="digibizFilemanagerFileSelection[]"]:checked').length>0){$(".filemanger_container_toggle").find(".grid-view-container").addClass("edit-mode"),getDigibizAssetDetails(i=$(this).attr("data-asset_id")).then((e=>{if(0==e.is_trashed&&(supported_types=config.identityPictureFileFormat,null!=e.file_attributes.extension))if(supported_types.includes(e.file_attributes.extension.toLowerCase())){$(document).find(".file-info").addClass("disabled");let t=0;if($(this).prop("checked")){let a=$(this);$.each($('input[name="digibizFilemanagerFileSelection[]"]:checked'),(function(o,s){t=e.file_attributes.size.filesize,$('input[name="digibizFilemanagerFileSelection[]"]:checked').length==o+1&&(t/Math.pow(1024,2)>20?($(a).prop("checked",!1),0==$('input[name="digibizFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select maximum 20 MB at a time",4e3,"round error-alert"),0==$('input[name="digibizFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled")):"file"==e.type?data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative,file_type:e.file_attributes.extension,asset_id:i}:data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative})}))}else t>0&&(t-=parseInt($(this).attr("data-file_size")));$('input[name="digibizFilemanagerFileSelection[]"]:checked').length>5&&($(this).prop("checked",!1),0==$('input[name="digibizFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select only 1 file",4e3,"round error-alert"))}else $(this).prop("checked",!1),Materialize.toast("Unsupported File "+e.file_attributes.name.relative,3e3,"rounded error-alert")}))}else{t=$(this).attr("data-relative");$(document).find(".file-info").removeClass("disabled"),$(".filemanger_container_toggle").find(".grid-view-container").removeClass("edit-mode")}else $(this).prop("checked",!1),Materialize.toast("You can select only 1 file",3e3,"rounded error-alert");else if(sessionStorage.getItem("customer_id"))if($("#edit-associate-customer-modal").length>0)if("associate_customer_identity_video"==sessionStorage.getItem("associate_customer_upload_for"))if($(document).find('input[name="digibizFilemanagerFileSelection[]"]:checked').length<=1)if($(document).find('input[name="digibizFilemanagerFileSelection[]"]:checked').length>0){$(".filemanger_container_toggle").find(".grid-view-container").addClass("edit-mode"),getDigibizAssetDetails(i=$(this).attr("data-asset_id")).then((e=>{if(0==e.is_trashed&&(supported_types=config.multimediaVideoFormat,null!=e.file_attributes.extension))if(supported_types.includes(e.file_attributes.extension.toLowerCase())){$(document).find(".file-info").addClass("disabled");let t=0;if($(this).prop("checked")){let a=$(this);$.each($('input[name="digibizFilemanagerFileSelection[]"]:checked'),(function(o,s){t=e.file_attributes.size.filesize,$('input[name="digibizFilemanagerFileSelection[]"]:checked').length==o+1&&(t/Math.pow(1024,2)>20?($(a).prop("checked",!1),0==$('input[name="digibizFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select maximum 20 MB at a time",4e3,"round error-alert"),0==$('input[name="digibizFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled")):"file"==e.type?data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative,file_type:e.file_attributes.extension,asset_id:i}:data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative})}))}else t>0&&(t-=parseInt($(this).attr("data-file_size")));$('input[name="digibizFilemanagerFileSelection[]"]:checked').length>5&&($(this).prop("checked",!1),0==$('input[name="digibizFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select only 1 file",4e3,"round error-alert"))}else $(this).prop("checked",!1),Materialize.toast("Unsupported File "+e.file_attributes.name.relative,3e3,"rounded error-alert")}))}else{t=$(this).attr("data-relative");$(document).find(".file-info").removeClass("disabled"),$(".filemanger_container_toggle").find(".grid-view-container").removeClass("edit-mode")}else $(this).prop("checked",!1),Materialize.toast("You can select only 1 file",3e3,"rounded error-alert");else if($(document).find('input[name="digibizFilemanagerFileSelection[]"]:checked').length<=1)if($(document).find('input[name="digibizFilemanagerFileSelection[]"]:checked').length>0){$(".filemanger_container_toggle").find(".grid-view-container").addClass("edit-mode"),getDigibizAssetDetails(i=$(this).attr("data-asset_id")).then((e=>{if(0==e.is_trashed&&(supported_types=config.identityPictureFileFormat,null!=e.file_attributes.extension))if(supported_types.includes(e.file_attributes.extension.toLowerCase())){$(document).find(".file-info").addClass("disabled");let t=0;if($(this).prop("checked")){let a=$(this);$.each($('input[name="digibizFilemanagerFileSelection[]"]:checked'),(function(o,s){t=e.file_attributes.size.filesize,$('input[name="digibizFilemanagerFileSelection[]"]:checked').length==o+1&&(t/Math.pow(1024,2)>20?($(a).prop("checked",!1),0==$('input[name="digibizFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select maximum 20 MB at a time",4e3,"round error-alert"),0==$('input[name="digibizFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled")):"file"==e.type?data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative,file_type:e.file_attributes.extension,asset_id:i}:data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative})}))}else t>0&&(t-=parseInt($(this).attr("data-file_size")));$('input[name="digibizFilemanagerFileSelection[]"]:checked').length>5&&($(this).prop("checked",!1),0==$('input[name="digibizFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select only 1 file",4e3,"round error-alert"))}else $(this).prop("checked",!1),Materialize.toast("Unsupported File "+e.file_attributes.name.relative,3e3,"rounded error-alert")}))}else{t=$(this).attr("data-relative");$(document).find(".file-info").removeClass("disabled"),$(".filemanger_container_toggle").find(".grid-view-container").removeClass("edit-mode")}else $(this).prop("checked",!1),Materialize.toast("You can select only 1 file",3e3,"rounded error-alert");else if("customer_identity_video"==sessionStorage.getItem("customer_upload_for"))if($(document).find('input[name="digibizFilemanagerFileSelection[]"]:checked').length<=1)if($(document).find('input[name="digibizFilemanagerFileSelection[]"]:checked').length>0){$(".filemanger_container_toggle").find(".grid-view-container").addClass("edit-mode"),getDigibizAssetDetails(i=$(this).attr("data-asset_id")).then((e=>{if(0==e.is_trashed&&(supported_types=config.multimediaVideoFormat,null!=e.file_attributes.extension))if(supported_types.includes(e.file_attributes.extension.toLowerCase())){$(document).find(".file-info").addClass("disabled");let t=0;if($(this).prop("checked")){let a=$(this);$.each($('input[name="digibizFilemanagerFileSelection[]"]:checked'),(function(o,s){t=e.file_attributes.size.filesize,$('input[name="digibizFilemanagerFileSelection[]"]:checked').length==o+1&&(t/Math.pow(1024,2)>20?($(a).prop("checked",!1),0==$('input[name="digibizFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select maximum 20 MB at a time",4e3,"round error-alert"),0==$('input[name="digibizFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled")):"file"==e.type?data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative,file_type:e.file_attributes.extension,asset_id:i}:data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative})}))}else t>0&&(t-=parseInt($(this).attr("data-file_size")));$('input[name="digibizFilemanagerFileSelection[]"]:checked').length>5&&($(this).prop("checked",!1),0==$('input[name="digibizFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select only 1 file",4e3,"round error-alert"))}else $(this).prop("checked",!1),Materialize.toast("Unsupported File "+e.file_attributes.name.relative,3e3,"rounded error-alert")}))}else{t=$(this).attr("data-relative");$(document).find(".file-info").removeClass("disabled"),$(".filemanger_container_toggle").find(".grid-view-container").removeClass("edit-mode")}else $(this).prop("checked",!1),Materialize.toast("You can select only 1 file",3e3,"rounded error-alert");else if($(document).find('input[name="digibizFilemanagerFileSelection[]"]:checked').length<=1)if($(document).find('input[name="digibizFilemanagerFileSelection[]"]:checked').length>0){$(".filemanger_container_toggle").find(".grid-view-container").addClass("edit-mode"),getDigibizAssetDetails(i=$(this).attr("data-asset_id")).then((e=>{if(0==e.is_trashed&&(supported_types=config.identityPictureFileFormat,null!=e.file_attributes.extension))if(supported_types.includes(e.file_attributes.extension.toLowerCase())){$(document).find(".file-info").addClass("disabled");let t=0;if($(this).prop("checked")){let a=$(this);$.each($('input[name="digibizFilemanagerFileSelection[]"]:checked'),(function(o,s){t=e.file_attributes.size.filesize,$('input[name="digibizFilemanagerFileSelection[]"]:checked').length==o+1&&(t/Math.pow(1024,2)>20?($(a).prop("checked",!1),0==$('input[name="digibizFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select maximum 20 MB at a time",4e3,"round error-alert"),0==$('input[name="digibizFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled")):"file"==e.type?data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative,file_type:e.file_attributes.extension,asset_id:i}:data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative})}))}else t>0&&(t-=parseInt($(this).attr("data-file_size")));$('input[name="digibizFilemanagerFileSelection[]"]:checked').length>5&&($(this).prop("checked",!1),0==$('input[name="digibizFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select only 1 file",4e3,"round error-alert"))}else $(this).prop("checked",!1),Materialize.toast("Unsupported File "+e.file_attributes.name.relative,3e3,"rounded error-alert")}))}else{t=$(this).attr("data-relative");$(document).find(".file-info").removeClass("disabled"),$(".filemanger_container_toggle").find(".grid-view-container").removeClass("edit-mode")}else $(this).prop("checked",!1),Materialize.toast("You can select only 1 file",3e3,"rounded error-alert");else if(sessionStorage.getItem("employee_id"))if("employee_identity_video"==sessionStorage.getItem("employee_upload_for"))if($(document).find('input[name="digibizFilemanagerFileSelection[]"]:checked').length<=1)if($(document).find('input[name="digibizFilemanagerFileSelection[]"]:checked').length>0){$(".filemanger_container_toggle").find(".grid-view-container").addClass("edit-mode"),getDigibizAssetDetails(i=$(this).attr("data-asset_id")).then((e=>{if(0==e.is_trashed&&(supported_types=config.multimediaVideoFormat,null!=e.file_attributes.extension))if(supported_types.includes(e.file_attributes.extension.toLowerCase())){$(document).find(".file-info").addClass("disabled");let t=0;if($(this).prop("checked")){let a=$(this);$.each($('input[name="digibizFilemanagerFileSelection[]"]:checked'),(function(o,s){t=e.file_attributes.size.filesize,$('input[name="digibizFilemanagerFileSelection[]"]:checked').length==o+1&&(t/Math.pow(1024,2)>20?($(a).prop("checked",!1),0==$('input[name="digibizFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select maximum 20 MB at a time",4e3,"round error-alert"),0==$('input[name="digibizFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled")):"file"==e.type?data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative,file_type:e.file_attributes.extension,asset_id:i}:data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative})}))}else t>0&&(t-=parseInt($(this).attr("data-file_size")));$('input[name="digibizFilemanagerFileSelection[]"]:checked').length>5&&($(this).prop("checked",!1),0==$('input[name="digibizFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select only 1 file",4e3,"round error-alert"))}else $(this).prop("checked",!1),Materialize.toast("Unsupported File "+e.file_attributes.name.relative,3e3,"rounded error-alert")}))}else{t=$(this).attr("data-relative");$(document).find(".file-info").removeClass("disabled"),$(".filemanger_container_toggle").find(".grid-view-container").removeClass("edit-mode")}else $(this).prop("checked",!1),Materialize.toast("You can select only 1 file",3e3,"rounded error-alert");else if($(document).find('input[name="digibizFilemanagerFileSelection[]"]:checked').length<=1)if($(document).find('input[name="digibizFilemanagerFileSelection[]"]:checked').length>0){$(".filemanger_container_toggle").find(".grid-view-container").addClass("edit-mode"),getDigibizAssetDetails(i=$(this).attr("data-asset_id")).then((e=>{if(0==e.is_trashed&&(supported_types=config.identityPictureFileFormat,null!=e.file_attributes.extension))if(supported_types.includes(e.file_attributes.extension.toLowerCase())){$(document).find(".file-info").addClass("disabled");let t=0;if($(this).prop("checked")){let a=$(this);$.each($('input[name="digibizFilemanagerFileSelection[]"]:checked'),(function(o,s){t=e.file_attributes.size.filesize,$('input[name="digibizFilemanagerFileSelection[]"]:checked').length==o+1&&(t/Math.pow(1024,2)>20?($(a).prop("checked",!1),0==$('input[name="digibizFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select maximum 20 MB at a time",4e3,"round error-alert"),0==$('input[name="digibizFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled")):"file"==e.type?data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative,file_type:e.file_attributes.extension,asset_id:i}:data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative})}))}else t>0&&(t-=parseInt($(this).attr("data-file_size")));$('input[name="digibizFilemanagerFileSelection[]"]:checked').length>5&&($(this).prop("checked",!1),0==$('input[name="digibizFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select only 1 file",4e3,"round error-alert"))}else $(this).prop("checked",!1),Materialize.toast("Unsupported File "+e.file_attributes.name.relative,3e3,"rounded error-alert")}))}else{t=$(this).attr("data-relative");$(document).find(".file-info").removeClass("disabled"),$(".filemanger_container_toggle").find(".grid-view-container").removeClass("edit-mode")}else $(this).prop("checked",!1),Materialize.toast("You can select only 1 file",3e3,"rounded error-alert");else if(sessionStorage.getItem("business_id"))if(sessionStorage.getItem("cloud_upload_for"))if($(document).find('input[name="digibizFilemanagerFileSelection[]"]:checked').length<=1)if($(document).find('input[name="digibizFilemanagerFileSelection[]"]:checked').length>0){$(".filemanger_container_toggle").find(".grid-view-container").addClass("edit-mode"),getDigibizAssetDetails(i=$(this).attr("data-asset_id")).then((e=>{if(0==e.is_trashed&&(supported_types=config.identityPictureFileFormat,null!=e.file_attributes.extension))if(supported_types.includes(e.file_attributes.extension.toLowerCase())){$(document).find(".file-info").addClass("disabled");let t=0;if($(this).prop("checked")){let a=$(this);$.each($('input[name="digibizFilemanagerFileSelection[]"]:checked'),(function(o,s){t=e.file_attributes.size.filesize,$('input[name="digibizFilemanagerFileSelection[]"]:checked').length==o+1&&(t/Math.pow(1024,2)>20?($(a).prop("checked",!1),0==$('input[name="digibizFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select maximum 20 MB at a time",4e3,"round error-alert"),0==$('input[name="digibizFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled")):"file"==e.type?data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative,file_type:e.file_attributes.extension,asset_id:i}:data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative})}))}else t>0&&(t-=parseInt($(this).attr("data-file_size")));$('input[name="digibizFilemanagerFileSelection[]"]:checked').length>5&&($(this).prop("checked",!1),0==$('input[name="digibizFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select only 1 file",4e3,"round error-alert"))}else $(this).prop("checked",!1),Materialize.toast("Unsupported File "+e.file_attributes.name.relative,3e3,"rounded error-alert")}))}else{t=$(this).attr("data-relative");$(document).find(".file-info").removeClass("disabled"),$(".filemanger_container_toggle").find(".grid-view-container").removeClass("edit-mode")}else $(this).prop("checked",!1),Materialize.toast("You can select only 1 file",3e3,"rounded error-alert");else if("business_display_picture"==sessionStorage.getItem("business_upload_for"))if($(document).find('input[name="digibizFilemanagerFileSelection[]"]:checked').length<=1)if($(document).find('input[name="digibizFilemanagerFileSelection[]"]:checked').length>0){$(".filemanger_container_toggle").find(".grid-view-container").addClass("edit-mode"),getDigibizAssetDetails(i=$(this).attr("data-asset_id")).then((e=>{if(0==e.is_trashed&&(supported_types=config.identityPictureFileFormat,null!=e.file_attributes.extension))if(supported_types.includes(e.file_attributes.extension.toLowerCase())){$(document).find(".file-info").addClass("disabled");let t=0;if($(this).prop("checked")){let a=$(this);$.each($('input[name="digibizFilemanagerFileSelection[]"]:checked'),(function(o,s){t=e.file_attributes.size.filesize,$('input[name="digibizFilemanagerFileSelection[]"]:checked').length==o+1&&(t/Math.pow(1024,2)>20?($(a).prop("checked",!1),0==$('input[name="digibizFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select maximum 20 MB at a time",4e3,"round error-alert"),0==$('input[name="digibizFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled")):"file"==e.type?data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative,file_type:e.file_attributes.extension,asset_id:i}:data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative})}))}else t>0&&(t-=parseInt($(this).attr("data-file_size")));$('input[name="digibizFilemanagerFileSelection[]"]:checked').length>5&&($(this).prop("checked",!1),0==$('input[name="digibizFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select only 1 file",4e3,"round error-alert"))}else $(this).prop("checked",!1),Materialize.toast("Unsupported File "+e.file_attributes.name.relative,3e3,"rounded error-alert")}))}else{t=$(this).attr("data-relative");$(document).find(".file-info").removeClass("disabled"),$(".filemanger_container_toggle").find(".grid-view-container").removeClass("edit-mode")}else $(this).prop("checked",!1),Materialize.toast("You can select only 1 file",3e3,"rounded error-alert");else if("business_identity_video"==sessionStorage.getItem("business_upload_for"))if($(document).find('input[name="digibizFilemanagerFileSelection[]"]:checked').length<=1)if($(document).find('input[name="digibizFilemanagerFileSelection[]"]:checked').length>0){$(".filemanger_container_toggle").find(".grid-view-container").addClass("edit-mode"),getDigibizAssetDetails(i=$(this).attr("data-asset_id")).then((e=>{if(0==e.is_trashed&&(supported_types=config.multimediaVideoFormat,console.log("supported_types",supported_types),null!=e.file_attributes.extension))if(supported_types.includes(e.file_attributes.extension.toLowerCase())){console.log("file is supported"),$(document).find(".file-info").addClass("disabled");let t=0;if($(this).prop("checked")){let a=$(this);$.each($('input[name="digibizFilemanagerFileSelection[]"]:checked'),(function(o,s){t=e.file_attributes.size.filesize,$('input[name="digibizFilemanagerFileSelection[]"]:checked').length==o+1&&(t/Math.pow(1024,2)>20?($(a).prop("checked",!1),0==$('input[name="digibizFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select maximum 20 MB at a time",4e3,"round error-alert"),0==$('input[name="digibizFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled")):"file"==e.type?data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative,file_type:e.file_attributes.extension,asset_id:i}:data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative})}))}else t>0&&(t-=parseInt($(this).attr("data-file_size")));$('input[name="digibizFilemanagerFileSelection[]"]:checked').length>5&&($(this).prop("checked",!1),0==$('input[name="digibizFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select only 1 file",4e3,"round error-alert"))}else console.log("not supported file"),$(this).prop("checked",!1),Materialize.toast("Unsupported File "+e.file_attributes.name.relative,3e3,"rounded error-alert")}))}else{t=$(this).attr("data-relative");$(document).find(".file-info").removeClass("disabled"),$(".filemanger_container_toggle").find(".grid-view-container").removeClass("edit-mode")}else $(this).prop("checked",!1),Materialize.toast("You can select only 1 file",3e3,"rounded error-alert");else{sessionStorage.getItem("multimedia_upload_data_id");if($(this).is(":checked"),$(document).find('input[name="digibizFilemanagerFileSelection[]"]:checked').length<=1)if($(document).find('input[name="digibizFilemanagerFileSelection[]"]:checked').length>0){var i;$(".filemanger_container_toggle").find(".grid-view-container").addClass("edit-mode"),getDigibizAssetDetails(i=$(this).attr("data-asset_id")).then((e=>{if(0==e.is_trashed&&(supported_types=config.attachmentFileFormat,null!=e.file_attributes.extension))if(supported_types.includes(e.file_attributes.extension.toLowerCase())){$(document).find(".file-info").addClass("disabled");let t=0;if($(this).prop("checked")){let a=$(this);$.each($('input[name="digibizFilemanagerFileSelection[]"]:checked'),(function(o,s){t=e.file_attributes.size.filesize,$('input[name="digibizFilemanagerFileSelection[]"]:checked').length==o+1&&(t/Math.pow(1024,2)>20?($(a).prop("checked",!1),0==$('input[name="digibizFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select maximum 20 MB at a time",4e3,"round error-alert"),digibiz.cloud_uploading_files.filter((e=>e!=$(this).attr("data-asset_id"))),0==$('input[name="digibizFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled")):("file"==e.type?data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative,file_type:e.file_attributes.extension,asset_id:i}:data={real_name:e.file_attributes.name.real,type:e.type,relative_name:e.file_attributes.name.relative},sessionStorage.getItem("share_owner_id")||digibiz.cloud_uploading_files.push(data)))}))}else digibiz.cloud_uploading_files=digibiz.cloud_uploading_files.filter((t=>t.real_name!==e.file_attributes.name.real)),t>0&&(t-=parseInt($(this).attr("data-file_size")));$('input[name="digibizFilemanagerFileSelection[]"]:checked').length>5&&($(this).prop("checked",!1),0==$('input[name="digibizFilemanagerFileSelection[]"]:checked').length&&$(document).find(".file-info").removeClass("disabled"),Materialize.toast("You can select only 1 file at a time",4e3,"round error-alert"))}else $(this).prop("checked",!1),Materialize.toast("Unsupported File "+e.file_attributes.name.relative,3e3,"rounded error-alert")}))}else{t=$(this).attr("data-relative");digibiz.cloud_uploading_files=digibiz.cloud_uploading_files.filter((e=>e.relative_name!==t)),$(document).find(".file-info").removeClass("disabled"),$(".filemanger_container_toggle").find(".grid-view-container").removeClass("edit-mode")}else $(this).prop("checked",!1),Materialize.toast("You can not select more than 1 file",3e3,"rounded error-alert")}})),$(document).on("click","#attach_file_btn",(function(e){if(e.stopPropagation(),$("#filemanger_container_toggle").hasClass("active")&&$("#filemanger_container_toggle").removeClass("active"),sessionStorage.getItem("individual_assets")){if("digibiz_credentials"==$("body").attr("app"))if($("input[name='individualFilemanagerFileSelection[]']:checked").length>0){var t=[];$.each($("input[name='individualFilemanagerFileSelection[]']:checked"),(function(e,i){t.push($(i).attr("data-asset_id")),$("#upload-footer-attached-files-list").append(`<div class="upload-footer-attatched-file" data-identifier="${$(i).attr("data-asset_id")}"><svg width="50px" height="50px" class="material-loader"><circle cx="25" cy="25" r="20" class="material-loader__circle" /></svg></div>`),e+1==$("input[name='individualFilemanagerFileSelection[]']:checked").length&&getIndividualAssetDetails(t[0]).then((e=>{0==e.is_trashed?individualStartFileSession(e,"view").then((async e=>{e&&($(".filemanger_container_toggle").removeClass("active"),window.sessionStorage.removeItem("breadcrumb_path"),setTimeout((function(){var t=document.getElementById("image_cropper");t.src=e.url,$("#business-credential-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(t,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}})}),300))})).catch((e=>{1==$("input[name='individualFilemanagerFileSelection[]']:checked").length&&$("#upload-preview-close-btn").click()})):($("#upload-file-preview").html("Selected asset is deleted"),$("#upload-footer-attached-files-list").find(`div[data-identifier="${t[0]}"]`).html('<span class="mask"><i class="material-icons remove-attached-uploading-file">close</i></span>'))})).catch((e=>{}))}))}else Materialize.toast("Please select atlest one file",4e3,"round error-alert"),$(".filemanger_container_toggle").addClass("active");else if("customer_groups_details"==$("body").attr("app")||"employee_group_create"==$("body").attr("app")||"communication_group_details"==$("body").attr("app")||"collaborator_group_details"==$("body").attr("app")||"collaborator_group_create"==$("body").attr("app"))if($("input[name='individualFilemanagerFileSelection[]']:checked").length>0){t=[];$.each($("input[name='individualFilemanagerFileSelection[]']:checked"),(function(e,i){t.push($(i).attr("data-asset_id")),$("#upload-footer-attached-files-list").append(`<div class="upload-footer-attatched-file" data-identifier="${$(i).attr("data-asset_id")}"><svg width="50px" height="50px" class="material-loader"><circle cx="25" cy="25" r="20" class="material-loader__circle" /></svg></div>`),e+1==$("input[name='individualFilemanagerFileSelection[]']:checked").length&&getIndividualAssetDetails(t[0]).then((e=>{0==e.is_trashed?individualStartFileSession(e,"view").then((async e=>{e&&($(".filemanger_container_toggle").removeClass("active"),window.sessionStorage.removeItem("breadcrumb_path"),showModal({modal_platform:crossplat.device.platform,modal_id:"group-image-modal",modal_header:"",modal_body:'<div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"group-image-crop-button",name:"crop",attr:[{name:"data-id",value:""}]}]},(function(){removeLoader(),$("#group-image-modal").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#group-image-modal").attr("picture-type","group_image")})),setTimeout((function(){var t=document.getElementById("image_cropper");t.src=e.url,$("#group-image-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(t,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}})}),300))})).catch((e=>{1==$("input[name='individualFilemanagerFileSelection[]']:checked").length&&$("#upload-preview-close-btn").click()})):($("#upload-file-preview").html("Selected asset is deleted"),$("#upload-footer-attached-files-list").find(`div[data-identifier="${t[0]}"]`).html('<span class="mask"><i class="material-icons remove-attached-uploading-file">close</i></span>'))})).catch((e=>{}))}))}else Materialize.toast("Please select atlest one file",4e3,"round error-alert"),$(".filemanger_container_toggle").addClass("active");else if(sessionStorage.getItem("customer_id"))if($("#edit-associate-customer-modal").length>0)if("associate_customer_identity_video"==sessionStorage.getItem("associate_customer_upload_for"))if($("input[name='individualFilemanagerFileSelection[]']:checked").length>0){t=[];$.each($("input[name='individualFilemanagerFileSelection[]']:checked"),(function(e,i){t.push($(i).attr("data-asset_id")),$("#upload-footer-attached-files-list").append(`<div class="upload-footer-attatched-file" data-identifier="${$(i).attr("data-asset_id")}"><svg width="50px" height="50px" class="material-loader"><circle cx="25" cy="25" r="20" class="material-loader__circle" /></svg></div>`),e+1==$("input[name='individualFilemanagerFileSelection[]']:checked").length&&getIndividualAssetDetails(t[0]).then((e=>{0==e.is_trashed?individualStartFileSession(e,"view").then((async e=>{e&&($(".filemanger_container_toggle").removeClass("active"),window.sessionStorage.removeItem("breadcrumb_path"),getBlobFromURL(e.url).then((t=>{console.log("blob",t);var i=new FileReader;i.onloadend=function(){generateThubnail(this.result,"base64").then((i=>{digibiz.fileObject={};var a={identifier:(new Date).getTime(),fileURI:URL.createObjectURL(t),file_type:e.file_type,file_content_base64:this.result,thubnail:i};digibiz.fileObject=a,console.log("digibiz.fileObject",digibiz.fileObject),fetch.getHtml((function(t,i){showModal({modal_platform:crossplat.device.platform,modal_id:"identity-video-modal",modal_header:"",modal_body:i,modal_action_buttons:[{id:"identity-video-confirm",name:"Confirm",attr:[{name:"data-id",value:"associate-customer"}]}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top");var t=showVideoPreviewHtml(e.file_type,digibiz.fileObject.fileURI);console.log("previewContent",t),$(".image-list-container").append(`<div class="image-container preview-clicked-multimedia active">\n                                                                    <div class="image-wrapper" data-identifier="${digibiz.fileObject.identifier}">${t}</div></div>`)})),removeLoader()}),"page/common/identity_video","#identity-video-template",null)}))},i.readAsDataURL(t)})))})).catch((e=>{1==$("input[name='individualFilemanagerFileSelection[]']:checked").length&&$("#upload-preview-close-btn").click()})):($("#upload-file-preview").html("Selected asset is deleted"),$("#upload-footer-attached-files-list").find(`div[data-identifier="${t[0]}"]`).html('<span class="mask"><i class="material-icons remove-attached-uploading-file">close</i></span>'))})).catch((e=>{}))}))}else Materialize.toast("Please select atlest one file",4e3,"round error-alert"),$(".filemanger_container_toggle").addClass("active");else if($("input[name='individualFilemanagerFileSelection[]']:checked").length>0){t=[];$.each($("input[name='individualFilemanagerFileSelection[]']:checked"),(function(e,i){t.push($(i).attr("data-asset_id")),$("#upload-footer-attached-files-list").append(`<div class="upload-footer-attatched-file" data-identifier="${$(i).attr("data-asset_id")}"><svg width="50px" height="50px" class="material-loader"><circle cx="25" cy="25" r="20" class="material-loader__circle" /></svg></div>`),e+1==$("input[name='individualFilemanagerFileSelection[]']:checked").length&&getIndividualAssetDetails(t[0]).then((e=>{0==e.is_trashed?individualStartFileSession(e,"view").then((async e=>{e&&($(".filemanger_container_toggle").removeClass("active"),window.sessionStorage.removeItem("breadcrumb_path"),showModal({modal_platform:crossplat.device.platform,modal_id:"associate-customer-identity-picture-modal",modal_header:"",modal_body:'<div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"associate-customer-identity-crop-button",name:"crop",attr:[{name:"data-id",value:""}]}]},(function(){removeLoader(),$("#associate-customer-identity-picture-modal").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#associate-customer-identity-picture-modal").attr("picture-type","associate_customer_identity_picture")})),setTimeout((function(){var t=document.getElementById("image_cropper");t.src=e.url,$("#associate-customer-identity-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(t,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}})}),300))})).catch((e=>{1==$("input[name='individualFilemanagerFileSelection[]']:checked").length&&$("#upload-preview-close-btn").click()})):($("#upload-file-preview").html("Selected asset is deleted"),$("#upload-footer-attached-files-list").find(`div[data-identifier="${t[0]}"]`).html('<span class="mask"><i class="material-icons remove-attached-uploading-file">close</i></span>'))})).catch((e=>{}))}))}else Materialize.toast("Please select atlest one file",4e3,"round error-alert"),$(".filemanger_container_toggle").addClass("active");else if("customer_identity_video"==sessionStorage.getItem("customer_upload_for"))if($("input[name='individualFilemanagerFileSelection[]']:checked").length>0){t=[];$.each($("input[name='individualFilemanagerFileSelection[]']:checked"),(function(e,i){t.push($(i).attr("data-asset_id")),$("#upload-footer-attached-files-list").append(`<div class="upload-footer-attatched-file" data-identifier="${$(i).attr("data-asset_id")}"><svg width="50px" height="50px" class="material-loader"><circle cx="25" cy="25" r="20" class="material-loader__circle" /></svg></div>`),e+1==$("input[name='individualFilemanagerFileSelection[]']:checked").length&&getIndividualAssetDetails(t[0]).then((e=>{0==e.is_trashed?individualStartFileSession(e,"view").then((async e=>{e&&($(".filemanger_container_toggle").removeClass("active"),window.sessionStorage.removeItem("breadcrumb_path"),getBlobFromURL(e.url).then((t=>{console.log("blob",t);var i=new FileReader;i.onloadend=function(){generateThubnail(this.result,"base64").then((i=>{digibiz.fileObject={};var a={identifier:(new Date).getTime(),fileURI:URL.createObjectURL(t),file_type:e.file_type,file_content_base64:this.result,thubnail:i};digibiz.fileObject=a,console.log("digibiz.fileObject",digibiz.fileObject),fetch.getHtml((function(t,i){showModal({modal_platform:crossplat.device.platform,modal_id:"identity-video-modal",modal_header:"",modal_body:i,modal_action_buttons:[{id:"identity-video-confirm",name:"Confirm",attr:[{name:"data-id",value:"customer"}]}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top");var t=showVideoPreviewHtml(e.file_type,digibiz.fileObject.fileURI);console.log("previewContent",t),$(".image-list-container").append(`<div class="image-container preview-clicked-multimedia active">\n                                                                    <div class="image-wrapper" data-identifier="${digibiz.fileObject.identifier}">${t}</div></div>`)})),removeLoader()}),"page/common/identity_video","#identity-video-template",null)}))},i.readAsDataURL(t)})))})).catch((e=>{1==$("input[name='individualFilemanagerFileSelection[]']:checked").length&&$("#upload-preview-close-btn").click()})):($("#upload-file-preview").html("Selected asset is deleted"),$("#upload-footer-attached-files-list").find(`div[data-identifier="${t[0]}"]`).html('<span class="mask"><i class="material-icons remove-attached-uploading-file">close</i></span>'))})).catch((e=>{}))}))}else Materialize.toast("Please select atlest one file",4e3,"round error-alert"),$(".filemanger_container_toggle").addClass("active");else if($("input[name='individualFilemanagerFileSelection[]']:checked").length>0){t=[];$.each($("input[name='individualFilemanagerFileSelection[]']:checked"),(function(e,i){t.push($(i).attr("data-asset_id")),$("#upload-footer-attached-files-list").append(`<div class="upload-footer-attatched-file" data-identifier="${$(i).attr("data-asset_id")}"><svg width="50px" height="50px" class="material-loader"><circle cx="25" cy="25" r="20" class="material-loader__circle" /></svg></div>`),e+1==$("input[name='individualFilemanagerFileSelection[]']:checked").length&&getIndividualAssetDetails(t[0]).then((e=>{0==e.is_trashed?individualStartFileSession(e,"view").then((async e=>{e&&($(".filemanger_container_toggle").removeClass("active"),window.sessionStorage.removeItem("breadcrumb_path"),showModal({modal_platform:crossplat.device.platform,modal_id:"customer-identity-picture-modal",modal_header:"",modal_body:' <div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"customer-identity-crop-button",name:"crop",attr:[{name:"data-id",value:""}]}]},(function(){removeLoader(),$("#customer-identity-picture-modal").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#customer-identity-picture-modal").attr("picture-type","customer_identity_picture")})),setTimeout((function(){var t=document.getElementById("image_cropper");t.src=e.url,$("#customer-identity-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(t,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}})}),300))})).catch((e=>{1==$("input[name='individualFilemanagerFileSelection[]']:checked").length&&$("#upload-preview-close-btn").click()})):($("#upload-file-preview").html("Selected asset is deleted"),$("#upload-footer-attached-files-list").find(`div[data-identifier="${t[0]}"]`).html('<span class="mask"><i class="material-icons remove-attached-uploading-file">close</i></span>'))})).catch((e=>{}))}))}else Materialize.toast("Please select atlest one file",4e3,"round error-alert"),$(".filemanger_container_toggle").addClass("active");else if(sessionStorage.getItem("employee_id"))if("employee_identity_video"==sessionStorage.getItem("employee_upload_for"))if($("input[name='individualFilemanagerFileSelection[]']:checked").length>0){t=[];$.each($("input[name='individualFilemanagerFileSelection[]']:checked"),(function(e,i){t.push($(i).attr("data-asset_id")),$("#upload-footer-attached-files-list").append(`<div class="upload-footer-attatched-file" data-identifier="${$(i).attr("data-asset_id")}"><svg width="50px" height="50px" class="material-loader"><circle cx="25" cy="25" r="20" class="material-loader__circle" /></svg></div>`),e+1==$("input[name='individualFilemanagerFileSelection[]']:checked").length&&getIndividualAssetDetails(t[0]).then((e=>{0==e.is_trashed?individualStartFileSession(e,"view").then((async e=>{e&&($(".filemanger_container_toggle").removeClass("active"),window.sessionStorage.removeItem("breadcrumb_path"),getBlobFromURL(e.url).then((t=>{console.log("blob",t);var i=new FileReader;i.onloadend=function(){generateThubnail(this.result,"base64").then((i=>{digibiz.fileObject={};var a={identifier:(new Date).getTime(),fileURI:URL.createObjectURL(t),file_type:e.file_type,file_content_base64:this.result,thubnail:i};digibiz.fileObject=a,console.log("digibiz.fileObject",digibiz.fileObject),fetch.getHtml((function(t,i){showModal({modal_platform:crossplat.device.platform,modal_id:"identity-video-modal",modal_header:"",modal_body:i,modal_action_buttons:[{id:"identity-video-confirm",name:"Confirm",attr:[{name:"data-id",value:"employee"}]}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top");var t=showVideoPreviewHtml(e.file_type,digibiz.fileObject.fileURI);console.log("previewContent",t),$(".image-list-container").append(`<div class="image-container preview-clicked-multimedia active">\n                                                                <div class="image-wrapper" data-identifier="${digibiz.fileObject.identifier}">${t}</div></div>`)})),removeLoader()}),"page/common/identity_video","#identity-video-template",null)}))},i.readAsDataURL(t)})))})).catch((e=>{1==$("input[name='individualFilemanagerFileSelection[]']:checked").length&&$("#upload-preview-close-btn").click()})):($("#upload-file-preview").html("Selected asset is deleted"),$("#upload-footer-attached-files-list").find(`div[data-identifier="${t[0]}"]`).html('<span class="mask"><i class="material-icons remove-attached-uploading-file">close</i></span>'))})).catch((e=>{}))}))}else Materialize.toast("Please select atlest one file",4e3,"round error-alert"),$(".filemanger_container_toggle").addClass("active");else if($("input[name='individualFilemanagerFileSelection[]']:checked").length>0){t=[];$.each($("input[name='individualFilemanagerFileSelection[]']:checked"),(function(e,i){t.push($(i).attr("data-asset_id")),$("#upload-footer-attached-files-list").append(`<div class="upload-footer-attatched-file" data-identifier="${$(i).attr("data-asset_id")}"><svg width="50px" height="50px" class="material-loader"><circle cx="25" cy="25" r="20" class="material-loader__circle" /></svg></div>`),e+1==$("input[name='individualFilemanagerFileSelection[]']:checked").length&&getIndividualAssetDetails(t[0]).then((e=>{0==e.is_trashed?individualStartFileSession(e,"view").then((async e=>{e&&($(".filemanger_container_toggle").removeClass("active"),window.sessionStorage.removeItem("breadcrumb_path"),showModal({modal_platform:crossplat.device.platform,modal_id:"employee-identity-picture-modal",modal_header:"",modal_body:' <div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"employee-identity-crop-button",name:"crop",attr:[{name:"data-id",value:""}]}]},(function(){removeLoader(),$("#employee-identity-picture-modal").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#employee-identity-picture-modal").attr("picture-type","employee_identity_picture")})),setTimeout((function(){var t=document.getElementById("image_cropper");t.src=e.url,$("#employee-identity-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(t,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}})}),300))})).catch((e=>{1==$("input[name='individualFilemanagerFileSelection[]']:checked").length&&$("#upload-preview-close-btn").click()})):($("#upload-file-preview").html("Selected asset is deleted"),$("#upload-footer-attached-files-list").find(`div[data-identifier="${t[0]}"]`).html('<span class="mask"><i class="material-icons remove-attached-uploading-file">close</i></span>'))})).catch((e=>{}))}))}else Materialize.toast("Please select atlest one file",4e3,"round error-alert"),$(".filemanger_container_toggle").addClass("active");else if(sessionStorage.getItem("business_id"))if(sessionStorage.getItem("cloud_upload_for")){var i=sessionStorage.getItem("cloud_upload_for");if($("input[name='individualFilemanagerFileSelection[]']:checked").length>0){t=[];$.each($("input[name='individualFilemanagerFileSelection[]']:checked"),(function(e,a){t.push($(a).attr("data-asset_id")),$("#upload-footer-attached-files-list").append(`<div class="upload-footer-attatched-file" data-identifier="${$(a).attr("data-asset_id")}"><svg width="50px" height="50px" class="material-loader"><circle cx="25" cy="25" r="20" class="material-loader__circle" /></svg></div>`),e+1==$("input[name='individualFilemanagerFileSelection[]']:checked").length&&getIndividualAssetDetails(t[0]).then((e=>{0==e.is_trashed?individualStartFileSession(e,"view").then((async e=>{e&&($(".filemanger_container_toggle").removeClass("active"),window.sessionStorage.removeItem("breadcrumb_path"),showModal({modal_platform:crossplat.device.platform,modal_id:"transaction-signature-picture-modal",modal_header:"",modal_body:' <div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"crop-button",name:"crop",attr:[{name:"data-id",value:i}]}]},(function(){removeLoader(),$("#transaction-signature-picture-modal").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#transaction-signature-picture-modal").attr("data-id",i)})),setTimeout((function(){var t=document.getElementById("image_cropper");t.src=e.url,$("#transaction-signature-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(t,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}})}),300))})).catch((e=>{1==$("input[name='individualFilemanagerFileSelection[]']:checked").length&&$("#upload-preview-close-btn").click()})):($("#upload-file-preview").html("Selected asset is deleted"),$("#upload-footer-attached-files-list").find(`div[data-identifier="${t[0]}"]`).html('<span class="mask"><i class="material-icons remove-attached-uploading-file">close</i></span>'))})).catch((e=>{}))}))}else Materialize.toast("Please select atlest one file",4e3,"round error-alert"),$(".filemanger_container_toggle").addClass("active")}else if("business_display_picture"==sessionStorage.getItem("business_upload_for"))if($("input[name='individualFilemanagerFileSelection[]']:checked").length>0){t=[];$.each($("input[name='individualFilemanagerFileSelection[]']:checked"),(function(e,i){t.push($(i).attr("data-asset_id")),$("#upload-footer-attached-files-list").append(`<div class="upload-footer-attatched-file" data-identifier="${$(i).attr("data-asset_id")}"><svg width="50px" height="50px" class="material-loader"><circle cx="25" cy="25" r="20" class="material-loader__circle" /></svg></div>`),e+1==$("input[name='individualFilemanagerFileSelection[]']:checked").length&&getIndividualAssetDetails(t[0]).then((e=>{0==e.is_trashed?individualStartFileSession(e,"view").then((async e=>{e&&($(".filemanger_container_toggle").removeClass("active"),window.sessionStorage.removeItem("breadcrumb_path"),showModal({modal_platform:crossplat.device.platform,modal_id:"business-display-picture-modal",modal_header:"",modal_body:' <div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"business-display-crop-button",name:"crop",attr:[{name:"data-id",value:""}]}]},(function(){removeLoader(),$("#business-display-picture-modal").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#business-display-picture-modal").attr("picture-type","business_display_picture")})),setTimeout((function(){var t=document.getElementById("image_cropper");t.src=e.url,$("#business-display-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(t,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}})}),300))})).catch((e=>{1==$("input[name='individualFilemanagerFileSelection[]']:checked").length&&$("#upload-preview-close-btn").click()})):($("#upload-file-preview").html("Selected asset is deleted"),$("#upload-footer-attached-files-list").find(`div[data-identifier="${t[0]}"]`).html('<span class="mask"><i class="material-icons remove-attached-uploading-file">close</i></span>'))})).catch((e=>{}))}))}else Materialize.toast("Please select atlest one file",4e3,"round error-alert"),$(".filemanger_container_toggle").addClass("active");else if("business_identity_video"==sessionStorage.getItem("business_upload_for"))if($("input[name='individualFilemanagerFileSelection[]']:checked").length>0){t=[];$.each($("input[name='individualFilemanagerFileSelection[]']:checked"),(function(e,i){t.push($(i).attr("data-asset_id")),$("#upload-footer-attached-files-list").append(`<div class="upload-footer-attatched-file" data-identifier="${$(i).attr("data-asset_id")}"><svg width="50px" height="50px" class="material-loader"><circle cx="25" cy="25" r="20" class="material-loader__circle" /></svg></div>`),e+1==$("input[name='individualFilemanagerFileSelection[]']:checked").length&&getIndividualAssetDetails(t[0]).then((e=>{0==e.is_trashed?individualStartFileSession(e,"view").then((async e=>{e&&(console.log("sessionData",e),$(".filemanger_container_toggle").removeClass("active"),window.sessionStorage.removeItem("breadcrumb_path"),getBlobFromURL(e.url).then((t=>{console.log("blob",t);var i=new FileReader;i.onloadend=function(){generateThubnail(this.result,"base64").then((i=>{digibiz.fileObject={};var a={identifier:(new Date).getTime(),fileURI:URL.createObjectURL(t),file_type:e.file_type,file_content_base64:this.result,thubnail:i};digibiz.fileObject=a,console.log("digibiz.fileObject",digibiz.fileObject),fetch.getHtml((function(t,i){showModal({modal_platform:crossplat.device.platform,modal_id:"identity-video-modal",modal_header:"",modal_body:i,modal_action_buttons:[{id:"identity-video-confirm",name:"Confirm",attr:[{name:"data-id",value:"business"}]}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top");var t=showVideoPreviewHtml(e.file_type,digibiz.fileObject.fileURI);console.log("previewContent",t),$(".image-list-container").append(`<div class="image-container preview-clicked-multimedia active">\n                                                                <div class="image-wrapper" data-identifier="${digibiz.fileObject.identifier}">${t}</div></div>`)})),removeLoader()}),"page/common/identity_video","#identity-video-template",null)}))},i.readAsDataURL(t)})))})).catch((e=>{1==$("input[name='individualFilemanagerFileSelection[]']:checked").length&&$("#upload-preview-close-btn").click()})):($("#upload-file-preview").html("Selected asset is deleted"),$("#upload-footer-attached-files-list").find(`div[data-identifier="${t[0]}"]`).html('<span class="mask"><i class="material-icons remove-attached-uploading-file">close</i></span>'))})).catch((e=>{console.log(e)}))}))}else Materialize.toast("Please select one file",4e3,"round error-alert"),$(".filemanger_container_toggle").addClass("active");else if($("input[name='individualFilemanagerFileSelection[]']:checked").length>0){t=[];$.each($("input[name='individualFilemanagerFileSelection[]']:checked"),(function(e,i){t.push($(i).attr("data-asset_id")),digibiz.cloud_multimedia_selected_files.push($(i).attr("data-asset_id")),$("#upload-footer-attached-files-list").append(`<div class="upload-footer-attatched-file" data-identifier="${$(i).attr("data-asset_id")}"><svg width="50px" height="50px" class="material-loader"><circle cx="25" cy="25" r="20" class="material-loader__circle" /></svg></div>`),e+1==$("input[name='individualFilemanagerFileSelection[]']:checked").length&&getIndividualAssetDetails(t[0]).then((e=>{0==e.is_trashed?individualStartFileSession(e,"view").then((async i=>{if(i){$(".upload-preview-common-layout#upload-preview-wrapper").find("#upload-footer-send-btn-common").attr("data-uploadtype","cloud"),"text"==i.file_type&&(i.file_type="application");var a=await viewFile(i.file_type,i.extension,i.url);getBlobFromURL(i.url).then((o=>{digibiz.objectURLS[t[0]]=URL.createObjectURL(o);var s=new FileReader;s.onloadend=function(){$(".upload-footer-attatched-file").removeClass("active"),["image","video"].includes(i.file_type)?($("#upload-footer-attached-files-list").find(`div[data-identifier="${t[0]}"]`).html(a),$("#upload-footer-attached-files-list").find(`div[data-identifier="${t[0]}"]`).addClass("active")):($("#upload-footer-attached-files-list").find(`div[data-identifier="${t[0]}"]`).addClass(`active file-type-${i.file_type} icomoon-`),$("#upload-footer-attached-files-list").find(`div[data-identifier="${t[0]}"]`).html("")),$("#upload-footer-attached-files-list").find(`div[data-identifier="${t[0]}"]`).attr("data-fileType",i.file_type),$("#upload-footer-attached-files-list").find(`div[data-identifier="${t[0]}"]`).attr("data-fileExtension",i.extension),$(".upload-preview-common-layout#upload-preview-wrapper").hasClass("hide")&&($(".upload-preview-common-layout#upload-preview-wrapper").removeClass("hide").addClass("slide-top"),$('div[data-filemanager="filemanager"]').addClass("hide")),digibiz.uploadingFiles.push({identifier:t[0],file:e,fileURI:digibiz.objectURLS[t[0]]})},s.readAsDataURL(o)})),$(".upload-preview-common-layout#upload-preview-wrapper").removeClass("hide"),$(".upload-preview-common-layout #upload-file-preview").html(a),$("#upload-footer-send-btn-common").attr("data-id",sessionStorage.getItem("multimedia_upload_data_id")),$("#upload-footer-send-btn-common").attr("data-name",e.file_attributes.name.relative),$("#upload-preview-container-text-box").text(""),$("#upload-footer-send-btn-common").removeAttr("data-download"),"image"==i.file_type||"video"==i.file_type||i.file_type,$(".pdf-view").addClass("hide"),"Android"!=crossplat.device.platform&&"iOS"!=crossplat.device.platform||$(".header-band").addClass("hide");var o=`<div class="grid selected-multimedia-files" data-type="file" data-upload-type="cloud">\n                                                <img class="hide" src="${i.url}"/>\n                                                        <div class="thumbnail-wrapper">\n                                                           <a class="">\n                                                              <div class="thumbnail"></div>\n                                                           </a>                     \n                                                        </div>\n                                                        <div class="file-details ellipsify">\n                                                           <div class="file-name">\n                                                              <a class="thumb-title">${e.file_attributes.name.relative}</a>\n                                                           </div>  \n                                                           <div class="file-size">\n                                                           <div class="thumb-meta">\n                                                              <span class="thumb-info">${e.file_attributes.size.filesize}</span>\n                                                           </div>\n                                                        </div>                    \n                                                        </div>\n                                                        <div class="file-selected-remove-btn">\n                                                        <i class="material-icons">cancel</i>\n                                                    </div>\n                                                     </div>`,s=sessionStorage.getItem("multimedia_upload_data_id");"identity-proof-load-btn"==s?$(".multimedia-upload.active").parents(".business-add-identity-proof-wrapper").find(`.multimedia-append-container[data-id="${s}"]`).append(o):("pancard-load-btn"==s||"shop-established-license-load-btn"==s||"gst-license-load-btn"==s||"partnership-deed-load-btn"==s||"partnership-registration-certificate-load-btn"==s||"llp-registration-certificate-load-btn"==s||"transaction-person-load-btn"==s||"memorandum-of-association-load-btn"==s||"articles-of-association-load-btn"==s||"trust-establishment-license-load-btn"==s)&&$(`.multimedia-append-container[data-id="${s}"]`).append(o)}})).catch((e=>{1==$("input[name='individualFilemanagerFileSelection[]']:checked").length&&$("#upload-preview-close-btn").click()})):($("#upload-file-preview").html("Selected asset is deleted"),$("#upload-footer-attached-files-list").find(`div[data-identifier="${t[0]}"]`).html('<span class="mask"><i class="material-icons remove-attached-uploading-file">close</i></span>'))})).catch((e=>{}))}))}else Materialize.toast("Please select atlest one file",4e3,"round error-alert"),$(".filemanger_container_toggle").addClass("active")}else if(sessionStorage.getItem("digibiz_assets"))if("digibiz_credentials"==$("body").attr("app"))if($("input[name='digibizFilemanagerFileSelection[]']:checked").length>0){t=[];$.each($("input[name='digibizFilemanagerFileSelection[]']:checked"),(function(e,i){t.push($(i).attr("data-asset_id")),$("#upload-footer-attached-files-list").append(`<div class="upload-footer-attatched-file" data-identifier="${$(i).attr("data-asset_id")}"><svg width="50px" height="50px" class="material-loader"><circle cx="25" cy="25" r="20" class="material-loader__circle" /></svg></div>`),e+1==$("input[name='digibizFilemanagerFileSelection[]']:checked").length&&getDigibizAssetDetails(t[0]).then((e=>{0==e.is_trashed?startFileSession(e,"view").then((async e=>{e&&($(".filemanger_container_toggle").removeClass("active"),window.sessionStorage.removeItem("breadcrumb_path"),setTimeout((function(){var t=document.getElementById("image_cropper");t.src=e.url,$("#business-credential-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(t,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}})}),300))})).catch((e=>{1==$("input[name='digibizFilemanagerFileSelection[]']:checked").length&&$("#upload-preview-close-btn").click()})):($("#upload-file-preview").html("Selected asset is deleted"),$("#upload-footer-attached-files-list").find(`div[data-identifier="${t[0]}"]`).html('<span class="mask"><i class="material-icons remove-attached-uploading-file">close</i></span>'))})).catch((e=>{}))}))}else Materialize.toast("Please select atlest one file",4e3,"round error-alert"),$(".filemanger_container_toggle").addClass("active");else if("customer_groups_details"==$("body").attr("app")||"employee_group_create"==$("body").attr("app")||"communication_group_details"==$("body").attr("app")||"collaborator_group_details"==$("body").attr("app")||"collaborator_group_create"==$("body").attr("app"))if($("input[name='digibizFilemanagerFileSelection[]']:checked").length>0){t=[];$.each($("input[name='digibizFilemanagerFileSelection[]']:checked"),(function(e,i){t.push($(i).attr("data-asset_id")),$("#upload-footer-attached-files-list").append(`<div class="upload-footer-attatched-file" data-identifier="${$(i).attr("data-asset_id")}"><svg width="50px" height="50px" class="material-loader"><circle cx="25" cy="25" r="20" class="material-loader__circle" /></svg></div>`),e+1==$("input[name='digibizFilemanagerFileSelection[]']:checked").length&&getDigibizAssetDetails(t[0]).then((e=>{0==e.is_trashed?startFileSession(e,"view").then((async e=>{e&&($(".filemanger_container_toggle").removeClass("active"),window.sessionStorage.removeItem("breadcrumb_path"),showModal({modal_platform:crossplat.device.platform,modal_id:"group-image-modal",modal_header:"",modal_body:'<div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"group-image-crop-button",name:"crop",attr:[{name:"data-id",value:""}]}]},(function(){removeLoader(),$("#group-image-modal").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#group-image-modal").attr("picture-type","group_image"),setTimeout((function(){var t=document.getElementById("image_cropper");t.src=e.url,$("#group-image-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(t,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}})}),300)})))})).catch((e=>{1==$("input[name='digibizFilemanagerFileSelection[]']:checked").length&&$("#upload-preview-close-btn").click()})):($("#upload-file-preview").html("Selected asset is deleted"),$("#upload-footer-attached-files-list").find(`div[data-identifier="${t[0]}"]`).html('<span class="mask"><i class="material-icons remove-attached-uploading-file">close</i></span>'))})).catch((e=>{}))}))}else Materialize.toast("Please select atlest one file",4e3,"round error-alert"),$(".filemanger_container_toggle").addClass("active");else if(sessionStorage.getItem("customer_id"))if($("#edit-associate-customer-modal").length>0)if("associate_customer_identity_video"==sessionStorage.getItem("associate_customer_upload_for"))if($("input[name='digibizFilemanagerFileSelection[]']:checked").length>0){t=[];$.each($("input[name='digibizFilemanagerFileSelection[]']:checked"),(function(e,i){t.push($(i).attr("data-asset_id")),$("#upload-footer-attached-files-list").append(`<div class="upload-footer-attatched-file" data-identifier="${$(i).attr("data-asset_id")}"><svg width="50px" height="50px" class="material-loader"><circle cx="25" cy="25" r="20" class="material-loader__circle" /></svg></div>`),e+1==$("input[name='digibizFilemanagerFileSelection[]']:checked").length&&getDigibizAssetDetails(t[0]).then((e=>{0==e.is_trashed?startFileSession(e,"view").then((async e=>{e&&($(".filemanger_container_toggle").removeClass("active"),window.sessionStorage.removeItem("breadcrumb_path"),getBlobFromURL(e.url).then((t=>{console.log("blob",t);var i=new FileReader;i.onloadend=function(){generateThubnail(this.result,"base64").then((i=>{digibiz.fileObject={};var a={identifier:(new Date).getTime(),fileURI:URL.createObjectURL(t),file_type:e.file_type,file_content_base64:this.result,thubnail:i};digibiz.fileObject=a,console.log("digibiz.fileObject",digibiz.fileObject),fetch.getHtml((function(t,i){showModal({modal_platform:crossplat.device.platform,modal_id:"identity-video-modal",modal_header:"",modal_body:i,modal_action_buttons:[{id:"identity-video-confirm",name:"Confirm",attr:[{name:"data-id",value:"associate-customer"}]}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top");var t=showVideoPreviewHtml(e.file_type,digibiz.fileObject.fileURI);console.log("previewContent",t),$(".image-list-container").append(`<div class="image-container preview-clicked-multimedia active">\n                                                                    <div class="image-wrapper" data-identifier="${digibiz.fileObject.identifier}">${t}</div></div>`)})),removeLoader()}),"page/common/identity_video","#identity-video-template",null)}))},i.readAsDataURL(t)})))})).catch((e=>{1==$("input[name='digibizFilemanagerFileSelection[]']:checked").length&&$("#upload-preview-close-btn").click()})):($("#upload-file-preview").html("Selected asset is deleted"),$("#upload-footer-attached-files-list").find(`div[data-identifier="${t[0]}"]`).html('<span class="mask"><i class="material-icons remove-attached-uploading-file">close</i></span>'))})).catch((e=>{}))}))}else Materialize.toast("Please select atlest one file",4e3,"round error-alert"),$(".filemanger_container_toggle").addClass("active");else if($("input[name='digibizFilemanagerFileSelection[]']:checked").length>0){t=[];$.each($("input[name='digibizFilemanagerFileSelection[]']:checked"),(function(e,i){t.push($(i).attr("data-asset_id")),$("#upload-footer-attached-files-list").append(`<div class="upload-footer-attatched-file" data-identifier="${$(i).attr("data-asset_id")}"><svg width="50px" height="50px" class="material-loader"><circle cx="25" cy="25" r="20" class="material-loader__circle" /></svg></div>`),e+1==$("input[name='digibizFilemanagerFileSelection[]']:checked").length&&getDigibizAssetDetails(t[0]).then((e=>{0==e.is_trashed?startFileSession(e,"view").then((async e=>{e&&($(".filemanger_container_toggle").removeClass("active"),window.sessionStorage.removeItem("breadcrumb_path"),showModal({modal_platform:crossplat.device.platform,modal_id:"associate-customer-identity-picture-modal",modal_header:"",modal_body:'<div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"associate-customer-identity-crop-button",name:"crop",attr:[{name:"data-id",value:""}]}]},(function(){removeLoader(),$("#associate-customer-identity-picture-modal").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#associate-customer-identity-picture-modal").attr("picture-type","associate_customer_identity_picture"),setTimeout((function(){var t=document.getElementById("image_cropper");t.src=e.url,$("#associate-customer-identity-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(t,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}})}),300)})))})).catch((e=>{1==$("input[name='digibizFilemanagerFileSelection[]']:checked").length&&$("#upload-preview-close-btn").click()})):($("#upload-file-preview").html("Selected asset is deleted"),$("#upload-footer-attached-files-list").find(`div[data-identifier="${t[0]}"]`).html('<span class="mask"><i class="material-icons remove-attached-uploading-file">close</i></span>'))})).catch((e=>{}))}))}else Materialize.toast("Please select atlest one file",4e3,"round error-alert"),$(".filemanger_container_toggle").addClass("active");else if("customer_identity_video"==sessionStorage.getItem("customer_upload_for"))if($("input[name='digibizFilemanagerFileSelection[]']:checked").length>0){t=[];$.each($("input[name='digibizFilemanagerFileSelection[]']:checked"),(function(e,i){t.push($(i).attr("data-asset_id")),$("#upload-footer-attached-files-list").append(`<div class="upload-footer-attatched-file" data-identifier="${$(i).attr("data-asset_id")}"><svg width="50px" height="50px" class="material-loader"><circle cx="25" cy="25" r="20" class="material-loader__circle" /></svg></div>`),e+1==$("input[name='digibizFilemanagerFileSelection[]']:checked").length&&getDigibizAssetDetails(t[0]).then((e=>{0==e.is_trashed?startFileSession(e,"view").then((async e=>{e&&($(".filemanger_container_toggle").removeClass("active"),window.sessionStorage.removeItem("breadcrumb_path"),getBlobFromURL(e.url).then((t=>{console.log("blob",t);var i=new FileReader;i.onloadend=function(){generateThubnail(this.result,"base64").then((i=>{digibiz.fileObject={};var a={identifier:(new Date).getTime(),fileURI:URL.createObjectURL(t),file_type:e.file_type,file_content_base64:this.result,thubnail:i};digibiz.fileObject=a,console.log("digibiz.fileObject",digibiz.fileObject),fetch.getHtml((function(t,i){showModal({modal_platform:crossplat.device.platform,modal_id:"identity-video-modal",modal_header:"",modal_body:i,modal_action_buttons:[{id:"identity-video-confirm",name:"Confirm",attr:[{name:"data-id",value:"customer"}]}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top");var t=showVideoPreviewHtml(e.file_type,digibiz.fileObject.fileURI);console.log("previewContent",t),$(".image-list-container").append(`<div class="image-container preview-clicked-multimedia active">\n                                                                    <div class="image-wrapper" data-identifier="${digibiz.fileObject.identifier}">${t}</div></div>`)})),removeLoader()}),"page/common/identity_video","#identity-video-template",null)}))},i.readAsDataURL(t)})))})).catch((e=>{1==$("input[name='digibizFilemanagerFileSelection[]']:checked").length&&$("#upload-preview-close-btn").click()})):($("#upload-file-preview").html("Selected asset is deleted"),$("#upload-footer-attached-files-list").find(`div[data-identifier="${t[0]}"]`).html('<span class="mask"><i class="material-icons remove-attached-uploading-file">close</i></span>'))})).catch((e=>{}))}))}else Materialize.toast("Please select atlest one file",4e3,"round error-alert"),$(".filemanger_container_toggle").addClass("active");else if($("input[name='digibizFilemanagerFileSelection[]']:checked").length>0){t=[];$.each($("input[name='digibizFilemanagerFileSelection[]']:checked"),(function(e,i){t.push($(i).attr("data-asset_id")),$("#upload-footer-attached-files-list").append(`<div class="upload-footer-attatched-file" data-identifier="${$(i).attr("data-asset_id")}"><svg width="50px" height="50px" class="material-loader"><circle cx="25" cy="25" r="20" class="material-loader__circle" /></svg></div>`),e+1==$("input[name='digibizFilemanagerFileSelection[]']:checked").length&&getDigibizAssetDetails(t[0]).then((e=>{0==e.is_trashed?startFileSession(e,"view").then((async e=>{e&&($(".filemanger_container_toggle").removeClass("active"),window.sessionStorage.removeItem("breadcrumb_path"),showModal({modal_platform:crossplat.device.platform,modal_id:"customer-identity-picture-modal",modal_header:"",modal_body:' <div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"customer-identity-crop-button",name:"crop",attr:[{name:"data-id",value:""}]}]},(function(){removeLoader(),$("#customer-identity-picture-modal").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#customer-identity-picture-modal").attr("picture-type","customer_identity_picture"),setTimeout((function(){var t=document.getElementById("image_cropper");t.src=e.url,$("#customer-identity-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(t,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}})}),300)})))})).catch((e=>{1==$("input[name='digibizFilemanagerFileSelection[]']:checked").length&&$("#upload-preview-close-btn").click()})):($("#upload-file-preview").html("Selected asset is deleted"),$("#upload-footer-attached-files-list").find(`div[data-identifier="${t[0]}"]`).html('<span class="mask"><i class="material-icons remove-attached-uploading-file">close</i></span>'))})).catch((e=>{}))}))}else Materialize.toast("Please select atlest one file",4e3,"round error-alert"),$(".filemanger_container_toggle").addClass("active");else if(sessionStorage.getItem("employee_id"))if("employee_identity_video"==sessionStorage.getItem("employee_upload_for"))if($("input[name='digibizFilemanagerFileSelection[]']:checked").length>0){t=[];$.each($("input[name='digibizFilemanagerFileSelection[]']:checked"),(function(e,i){t.push($(i).attr("data-asset_id")),$("#upload-footer-attached-files-list").append(`<div class="upload-footer-attatched-file" data-identifier="${$(i).attr("data-asset_id")}"><svg width="50px" height="50px" class="material-loader"><circle cx="25" cy="25" r="20" class="material-loader__circle" /></svg></div>`),e+1==$("input[name='digibizFilemanagerFileSelection[]']:checked").length&&getDigibizAssetDetails(t[0]).then((e=>{0==e.is_trashed?startFileSession(e,"view").then((async e=>{e&&($(".filemanger_container_toggle").removeClass("active"),window.sessionStorage.removeItem("breadcrumb_path"),getBlobFromURL(e.url).then((t=>{console.log("blob",t);var i=new FileReader;i.onloadend=function(){generateThubnail(this.result,"base64").then((i=>{digibiz.fileObject={};var a={identifier:(new Date).getTime(),fileURI:URL.createObjectURL(t),file_type:e.file_type,file_content_base64:this.result,thubnail:i};digibiz.fileObject=a,console.log("digibiz.fileObject",digibiz.fileObject),fetch.getHtml((function(t,i){showModal({modal_platform:crossplat.device.platform,modal_id:"identity-video-modal",modal_header:"",modal_body:i,modal_action_buttons:[{id:"identity-video-confirm",name:"Confirm",attr:[{name:"data-id",value:"employee"}]}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top");var t=showVideoPreviewHtml(e.file_type,digibiz.fileObject.fileURI);console.log("previewContent",t),$(".image-list-container").append(`<div class="image-container preview-clicked-multimedia active">\n                                                                <div class="image-wrapper" data-identifier="${digibiz.fileObject.identifier}">${t}</div></div>`)})),removeLoader()}),"page/common/identity_video","#identity-video-template",null)}))},i.readAsDataURL(t)})))})).catch((e=>{1==$("input[name='digibizFilemanagerFileSelection[]']:checked").length&&$("#upload-preview-close-btn").click()})):($("#upload-file-preview").html("Selected asset is deleted"),$("#upload-footer-attached-files-list").find(`div[data-identifier="${t[0]}"]`).html('<span class="mask"><i class="material-icons remove-attached-uploading-file">close</i></span>'))})).catch((e=>{}))}))}else Materialize.toast("Please select atlest one file",4e3,"round error-alert"),$(".filemanger_container_toggle").addClass("active");else if($("input[name='digibizFilemanagerFileSelection[]']:checked").length>0){t=[];$.each($("input[name='digibizFilemanagerFileSelection[]']:checked"),(function(e,i){t.push($(i).attr("data-asset_id")),$("#upload-footer-attached-files-list").append(`<div class="upload-footer-attatched-file" data-identifier="${$(i).attr("data-asset_id")}"><svg width="50px" height="50px" class="material-loader"><circle cx="25" cy="25" r="20" class="material-loader__circle" /></svg></div>`),e+1==$("input[name='digibizFilemanagerFileSelection[]']:checked").length&&getDigibizAssetDetails(t[0]).then((e=>{0==e.is_trashed?startFileSession(e,"view").then((async e=>{e&&($(".filemanger_container_toggle").removeClass("active"),window.sessionStorage.removeItem("breadcrumb_path"),showModal({modal_platform:crossplat.device.platform,modal_id:"employee-identity-picture-modal",modal_header:"",modal_body:' <div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"employee-identity-crop-button",name:"crop",attr:[{name:"data-id",value:""}]}]},(function(){removeLoader(),$("#employee-identity-picture-modal").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#employee-identity-picture-modal").attr("picture-type","employee_identity_picture"),setTimeout((function(){var t=document.getElementById("image_cropper");t.src=e.url,$("#employee-identity-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(t,{viewMode:0,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}})}),300)})))})).catch((e=>{1==$("input[name='digibizFilemanagerFileSelection[]']:checked").length&&$("#upload-preview-close-btn").click()})):($("#upload-file-preview").html("Selected asset is deleted"),$("#upload-footer-attached-files-list").find(`div[data-identifier="${t[0]}"]`).html('<span class="mask"><i class="material-icons remove-attached-uploading-file">close</i></span>'))})).catch((e=>{}))}))}else Materialize.toast("Please select atlest one file",4e3,"round error-alert"),$(".filemanger_container_toggle").addClass("active");else if(sessionStorage.getItem("business_id"))if(sessionStorage.getItem("cloud_upload_for")){i=sessionStorage.getItem("cloud_upload_for");if($("input[name='digibizFilemanagerFileSelection[]']:checked").length>0){t=[];$.each($("input[name='digibizFilemanagerFileSelection[]']:checked"),(function(e,a){t.push($(a).attr("data-asset_id")),$("#upload-footer-attached-files-list").append(`<div class="upload-footer-attatched-file" data-identifier="${$(a).attr("data-asset_id")}"><svg width="50px" height="50px" class="material-loader"><circle cx="25" cy="25" r="20" class="material-loader__circle" /></svg></div>`),e+1==$("input[name='digibizFilemanagerFileSelection[]']:checked").length&&getDigibizAssetDetails(t[0]).then((e=>{0==e.is_trashed?startFileSession(e,"view").then((async e=>{e&&($(".filemanger_container_toggle").removeClass("active"),window.sessionStorage.removeItem("breadcrumb_path"),showModal({modal_platform:crossplat.device.platform,modal_id:"transaction-signature-picture-modal",modal_header:"",modal_body:' <div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"crop-button",name:"crop",attr:[{name:"data-id",value:i}]}]},(function(){removeLoader(),$("#transaction-signature-picture-modal").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#transaction-signature-picture-modal").attr("data-id",i),setTimeout((function(){var t=document.getElementById("image_cropper");t.src=e.url,$("#transaction-signature-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(t,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}})}),300)})))})).catch((e=>{1==$("input[name='digibizFilemanagerFileSelection[]']:checked").length&&$("#upload-preview-close-btn").click()})):($("#upload-file-preview").html("Selected asset is deleted"),$("#upload-footer-attached-files-list").find(`div[data-identifier="${t[0]}"]`).html('<span class="mask"><i class="material-icons remove-attached-uploading-file">close</i></span>'))})).catch((e=>{}))}))}else Materialize.toast("Please select atlest one file",4e3,"round error-alert"),$(".filemanger_container_toggle").addClass("active")}else if("business_display_picture"==sessionStorage.getItem("business_upload_for"))if($("input[name='digibizFilemanagerFileSelection[]']:checked").length>0){t=[];$.each($("input[name='digibizFilemanagerFileSelection[]']:checked"),(function(e,i){t.push($(i).attr("data-asset_id")),$("#upload-footer-attached-files-list").append(`<div class="upload-footer-attatched-file" data-identifier="${$(i).attr("data-asset_id")}"><svg width="50px" height="50px" class="material-loader"><circle cx="25" cy="25" r="20" class="material-loader__circle" /></svg></div>`),e+1==$("input[name='digibizFilemanagerFileSelection[]']:checked").length&&getDigibizAssetDetails(t[0]).then((e=>{0==e.is_trashed?startFileSession(e,"view").then((async e=>{e&&($(".filemanger_container_toggle").removeClass("active"),window.sessionStorage.removeItem("breadcrumb_path"),showModal({modal_platform:crossplat.device.platform,modal_id:"business-display-picture-modal",modal_header:"",modal_body:' <div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"business-display-crop-button",name:"crop",attr:[{name:"data-id",value:""}]}]},(function(){removeLoader(),$("#business-display-picture-modal").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#business-display-picture-modal").attr("picture-type","business_display_picture"),setTimeout((function(){var t=document.getElementById("image_cropper");t.src=e.url,$("#business-display-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(t,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}})}),300)})))})).catch((e=>{1==$("input[name='digibizFilemanagerFileSelection[]']:checked").length&&$("#upload-preview-close-btn").click()})):($("#upload-file-preview").html("Selected asset is deleted"),$("#upload-footer-attached-files-list").find(`div[data-identifier="${t[0]}"]`).html('<span class="mask"><i class="material-icons remove-attached-uploading-file">close</i></span>'))})).catch((e=>{}))}))}else Materialize.toast("Please select atlest one file",4e3,"round error-alert"),$(".filemanger_container_toggle").addClass("active");else if("business_identity_video"==sessionStorage.getItem("business_upload_for"))if($("input[name='digibizFilemanagerFileSelection[]']:checked").length>0){t=[];$.each($("input[name='digibizFilemanagerFileSelection[]']:checked"),(function(e,i){t.push($(i).attr("data-asset_id")),$("#upload-footer-attached-files-list").append(`<div class="upload-footer-attatched-file" data-identifier="${$(i).attr("data-asset_id")}"><svg width="50px" height="50px" class="material-loader"><circle cx="25" cy="25" r="20" class="material-loader__circle" /></svg></div>`),e+1==$("input[name='digibizFilemanagerFileSelection[]']:checked").length&&getDigibizAssetDetails(t[0]).then((e=>{0==e.is_trashed?startFileSession(e,"view").then((async e=>{e&&($(".filemanger_container_toggle").removeClass("active"),window.sessionStorage.removeItem("breadcrumb_path"),getBlobFromURL(e.url).then((t=>{console.log("blob",t);var i=new FileReader;i.onloadend=function(){generateThubnail(this.result,"base64").then((i=>{digibiz.fileObject={};var a={identifier:(new Date).getTime(),fileURI:URL.createObjectURL(t),file_type:e.file_type,file_content_base64:this.result,thubnail:i};digibiz.fileObject=a,console.log("digibiz.fileObject",digibiz.fileObject),fetch.getHtml((function(t,i){showModal({modal_platform:crossplat.device.platform,modal_id:"identity-video-modal",modal_header:"",modal_body:i,modal_action_buttons:[{id:"identity-video-confirm",name:"Confirm",attr:[{name:"data-id",value:"business"}]}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top");var t=showVideoPreviewHtml(e.file_type,digibiz.fileObject.fileURI);console.log("previewContent",t),$(".image-list-container").append(`<div class="image-container preview-clicked-multimedia active">\n                                                                <div class="image-wrapper" data-identifier="${digibiz.fileObject.identifier}">${t}</div></div>`)})),removeLoader()}),"page/common/identity_video","#identity-video-template",null)}))},i.readAsDataURL(t)})))})).catch((e=>{1==$("input[name='digibizFilemanagerFileSelection[]']:checked").length&&$("#upload-preview-close-btn").click()})):($("#upload-file-preview").html("Selected asset is deleted"),$("#upload-footer-attached-files-list").find(`div[data-identifier="${t[0]}"]`).html('<span class="mask"><i class="material-icons remove-attached-uploading-file">close</i></span>'))})).catch((e=>{}))}))}else Materialize.toast("Please select atlest one file",4e3,"round error-alert"),$(".filemanger_container_toggle").addClass("active");else if($("input[name='digibizFilemanagerFileSelection[]']:checked").length>0){t=[];$.each($("input[name='digibizFilemanagerFileSelection[]']:checked"),(function(e,i){t.push($(i).attr("data-asset_id")),digibiz.cloud_multimedia_selected_files.push($(i).attr("data-asset_id")),$("#upload-footer-attached-files-list").append(`<div class="upload-footer-attatched-file" data-identifier="${$(i).attr("data-asset_id")}"><svg width="50px" height="50px" class="material-loader"><circle cx="25" cy="25" r="20" class="material-loader__circle" /></svg></div>`),e+1==$("input[name='digibizFilemanagerFileSelection[]']:checked").length&&getDigibizAssetDetails(t[0]).then((e=>{0==e.is_trashed?startFileSession(e,"view").then((async i=>{if(i){$(".upload-preview-common-layout#upload-preview-wrapper").find("#upload-footer-send-btn-common").attr("data-uploadtype","cloud"),"text"==i.file_type&&(i.file_type="application");var a=await viewFile(i.file_type,i.extension,i.url);getBlobFromURL(i.url).then((o=>{digibiz.objectURLS[t[0]]=URL.createObjectURL(o);var s=new FileReader;s.onloadend=function(){$(".upload-footer-attatched-file").removeClass("active"),["image","video"].includes(i.file_type)?($("#upload-footer-attached-files-list").find(`div[data-identifier="${t[0]}"]`).html(a),$("#upload-footer-attached-files-list").find(`div[data-identifier="${t[0]}"]`).addClass("active")):($("#upload-footer-attached-files-list").find(`div[data-identifier="${t[0]}"]`).addClass(`active file-type-${i.file_type} icomoon-`),$("#upload-footer-attached-files-list").find(`div[data-identifier="${t[0]}"]`).html("")),$("#upload-footer-attached-files-list").find(`div[data-identifier="${t[0]}"]`).attr("data-fileType",i.file_type),$("#upload-footer-attached-files-list").find(`div[data-identifier="${t[0]}"]`).attr("data-fileExtension",i.extension),$(".upload-preview-common-layout#upload-preview-wrapper").hasClass("hide")&&($(".upload-preview-common-layout#upload-preview-wrapper").removeClass("hide").addClass("slide-top"),$('div[data-filemanager="filemanager"]').addClass("hide")),digibiz.uploadingFiles.push({identifier:t[0],file:e,fileURI:digibiz.objectURLS[t[0]]})},s.readAsDataURL(o)})),$(".upload-preview-common-layout#upload-preview-wrapper").removeClass("hide"),$(".upload-preview-common-layout #upload-file-preview").html(a),$("#upload-footer-send-btn-common").attr("data-id",sessionStorage.getItem("multimedia_upload_data_id")),$("#upload-footer-send-btn-common").attr("data-name",e.file_attributes.name.relative),$("#upload-preview-container-text-box").text(""),$("#upload-footer-send-btn-common").removeAttr("data-download"),"image"==i.file_type||"video"==i.file_type||i.file_type,$(".pdf-view").addClass("hide"),"Android"!=crossplat.device.platform&&"iOS"!=crossplat.device.platform||$(".header-band").addClass("hide");var o=`<div class="grid selected-multimedia-files" data-type="file" data-upload-type="cloud">\n                                                <img class="hide" src="${i.url}"/>\n                                                        <div class="thumbnail-wrapper">\n                                                           <a class="">\n                                                              <div class="thumbnail"></div>\n                                                           </a>                     \n                                                        </div>\n                                                        <div class="file-details ellipsify">\n                                                           <div class="file-name">\n                                                              <a class="thumb-title">${e.file_attributes.name.relative}</a>\n                                                           </div>  \n                                                           <div class="file-size">\n                                                           <div class="thumb-meta">\n                                                              <span class="thumb-info">${e.file_attributes.size.filesize}</span>\n                                                           </div>\n                                                        </div>                    \n                                                        </div>\n                                                        <div class="file-selected-remove-btn">\n                                                        <i class="material-icons">cancel</i>\n                                                    </div>\n                                                     </div>`,s=sessionStorage.getItem("multimedia_upload_data_id");"identity-proof-load-btn"==s?$(".multimedia-upload.active").parents(".business-add-identity-proof-wrapper").find(`.multimedia-append-container[data-id="${s}"]`).append(o):("pancard-load-btn"==s||"shop-established-license-load-btn"==s||"gst-license-load-btn"==s||"partnership-deed-load-btn"==s||"partnership-registration-certificate-load-btn"==s||"llp-registration-certificate-load-btn"==s||"transaction-person-load-btn"==s||"memorandum-of-association-load-btn"==s||"articles-of-association-load-btn"==s||"trust-establishment-license-load-btn"==s)&&$(`.multimedia-append-container[data-id="${s}"]`).append(o)}})).catch((e=>{1==$("input[name='digibizFilemanagerFileSelection[]']:checked").length&&$("#upload-preview-close-btn").click()})):($("#upload-file-preview").html("Selected asset is deleted"),$("#upload-footer-attached-files-list").find(`div[data-identifier="${t[0]}"]`).html('<span class="mask"><i class="material-icons remove-attached-uploading-file">close</i></span>'))})).catch((e=>{}))}))}else Materialize.toast("Please select atlest one file",4e3,"round error-alert"),$(".filemanger_container_toggle").addClass("active")})),$(document).on("click",".action-multimedia-upload-attachment-camera-btn",(function(){})),$(document).on("click","#show_action_business",(function(){var e=$(this).parents(".business-content-box").attr("data-id");showAction({action_id:"business_actions",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"Edit",attr:[{name:"class",value:"business_edit"}]},{name:"Delete",attr:[{name:"class",value:"business_delete"}]}]},(function(){$(".action-sheet-container").removeClass("hide").addClass("slide-top"),$(".action-sheet-container").attr("business_id",e)}))})),$(document).on("click",".business_edit",(function(){addLoader();var e=$(".action-sheet-container").attr("business_id");sessionStorage.setItem("business_id",e),location.hash="business/edit"})),$(document).on("click",".land-page",(function(){addLoader(),location.hash="land/page"})),$(document).on("click",".profile_manager",(function(){addLoader(),location.hash="profile/manager"})),$(document).on("click",".cancel-bussines-btn",(function(){if(addLoader(),sessionStorage.getItem("business_id"))if("employee"==sessionStorage.getItem("digibiz_role"))sessionStorage.removeItem("business_id"),location.hash="employee/business/list";else if("customer"==sessionStorage.getItem("digibiz_role"))sessionStorage.removeItem("business_id"),location.hash="customer/business/list";else{var e;e=digibiz.business_owner_business_list.length>0?"business_owner/business/list":"jeevi/app/hub",businessUpdate(t={device_id:crossplat.device.uuid,id:sessionStorage.getItem("business_id"),data:{socket_enable_status:"true"}}).then((t=>{"business_edit"==$("body").attr("app")?location.hash="business/profile/management":(sessionStorage.removeItem("business_id"),location.hash=e)})).catch((t=>{"no updated data found"==t.msg&&("business_edit"==$("body").attr("app")?location.hash="business/profile/management":(sessionStorage.removeItem("business_id"),location.hash=e))}))}else if(digibiz.business_owner_business_list.length>0)location.hash="business_owner/business/list";else{var t={device_id:crossplat.device.uuid,id:sessionStorage.getItem("account_id"),role:"administrator",status:"pending"};updateDigibizAccount(t).then((e=>{"profile-btn"==sessionStorage.getItem("get_role_btn")?location.hash="digibiz/profile":(location.hash="jeevi/app/hub",console.log("fwefwef"))})).catch((e=>{}))}})),$(document).on("click",".add-identity-proof-btn",(function(){addLoader();$(this);$(".business-add-identity-proof-wrapper").length>=config.businessIdProofNumber?(Materialize.toast("Can add only 3 ID proofs",4e3,"round error-alert"),removeLoader()):(fetch.appendHtml((function(e){}),"layouts/popup/add_identity_proof","#add-identity-proof-template",".business-identity-proof-content-box",null),$(".add-identity-proof-btn").remove(),removeLoader())})),$(document).on("click","#upload-footer-send-btn-common",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){addLoader();var t=$(this);$(t).attr("disabled",!0);var i=$(this).attr("data-id"),a=$(this).attr("data-name"),o=$(this).attr("data-download"),s=$("#upload-preview-container-text-box").text().trim();if(validateBeforeSave(i)){if("identity-proof-load-btn"==i)null==(r=$(`.multimedia-append-container[data-id="${i}"]`).find(".selected-multimedia-files").find("img").attr("src"))||null==r||""==r?(removeLoader(),$(t).attr("disabled",!1),Materialize.toast("Please add atlest one file",4e3,"round error-alert")):savebusinessMultimedia(r,i,(function(e,i){e?($(t).attr("disabled",!1),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert")):businessUpdate({device_id:crossplat.device.uuid,id:sessionStorage.getItem("business_id"),data:{id_proofs:{id_proof_type:$(".business-add-identity-proof-type-sub-container").find(".selected-value-business-identity-proof-type").attr("data-value"),id_proof_multimedia:{name:a,size:i.msg.Data.filedata.filesize,thumbnail:i.Data.file,download:o,caption:s}}}}).then((e=>{digibiz.device_multimedia_uploaded_files=[],digibiz.device_multimedia_selected_files=[],digibiz.uploadingFiles=[],$(".business-identity-proof-content-box").empty(),e.hasOwnProperty("id_proofs")&&e.id_proofs.length>0&&$.each(e.id_proofs,(function(e,t){var i={id_proof:t};fetch.appendHtml((function(e){}),"layouts/popup/added_identity_proof","#added-identity-proof-template",".business-identity-proof-content-box",i),$(`.file-details[data-image-id="${t.id_proof_multimedia.thumbnail}"]`).parents(".business-add-identity-proof-wrapper").find("#business-add-identity-proof-type-select-dropdown").find(`option[value="${t.id_proof_type}"]`).prop("selected","selected")})),Materialize.toast("Successfully uploaded File",4e3,"round error-alert"),$(".upload-preview-common-layout").addClass("hide"),removeLoader(),$(t).attr("disabled",!1)})).catch((e=>{"no updated data found"==e.msg&&(removeLoader(),$(t).attr("disabled",!1))}))}));else if("pancard-load-btn"==i){null==(r=$(`.multimedia-append-container[data-id="${i}"]`).find(".selected-multimedia-files").find("img").attr("src"))||null==r||""==r?(removeLoader(),$(t).attr("disabled",!1),Materialize.toast("Please add atlest one file",4e3,"round error-alert")):savebusinessMultimedia(r,i,(function(e,r){e?($(t).attr("disabled",!1),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert")):businessUpdate({device_id:crossplat.device.uuid,id:sessionStorage.getItem("business_id"),data:{pan_card_details:{pan_card_number:$("#business_pancard").text(),pan_card_multimedia:{name:a,size:r.msg.Data.filedata.filesize,thumbnail:r.Data.file,download:o,caption:s}}}}).then((e=>{digibiz.device_multimedia_uploaded_files=[],digibiz.device_multimedia_selected_files=[],digibiz.uploadingFiles=[];(async()=>{void 0!==e.pan_card_details&&e.pan_card_details.pan_card_multimedia.length>0&&($(`.multimedia-append-container[data-id="${i}"]`).find(".grid").remove(),await asyncEach(e.pan_card_details.pan_card_multimedia,(async(e,t)=>{await getUploadedBusinessMultimedia(e,i)})))})(),$(".upload-preview-common-layout").addClass("hide"),Materialize.toast("Successfully uploaded File",4e3,"round error-alert"),removeLoader(),$(t).attr("disabled",!1)})).catch((e=>{"no updated data found"==e.msg&&(removeLoader(),$(t).attr("disabled",!1))}))}))}else if("shop-established-license-load-btn"==i){null==(r=$(`.multimedia-append-container[data-id="${i}"]`).find(".selected-multimedia-files").find("img").attr("src"))||null==r||""==r?(removeLoader(),$(t).attr("disabled",!1),Materialize.toast("Please add atlest one file",4e3,"round error-alert")):savebusinessMultimedia(r,i,(function(e,r){e?($(t).attr("disabled",!1),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert")):businessUpdate({device_id:crossplat.device.uuid,id:sessionStorage.getItem("business_id"),data:{shop_established_license:{name:a,size:r.msg.Data.filedata.filesize,thumbnail:r.Data.file,download:o,caption:s}}}).then((e=>{digibiz.device_multimedia_uploaded_files=[],digibiz.device_multimedia_selected_files=[],digibiz.uploadingFiles=[];(async()=>{e.hasOwnProperty("shop_established_license")&&e.shop_established_license.length>0&&($(`.multimedia-append-container[data-id="${i}"]`).find(".grid").remove(),await asyncEach(e.shop_established_license,(async(e,t)=>{await getUploadedBusinessMultimedia(e,i)})))})(),$(".upload-preview-common-layout").addClass("hide"),Materialize.toast("Successfully uploaded File",4e3,"round error-alert"),removeLoader(),$(t).attr("disabled",!1)})).catch((e=>{"no updated data found"==e.msg&&(removeLoader(),$(t).attr("disabled",!1))}))}))}else if("gst-license-load-btn"==i){null==(r=$(`.multimedia-append-container[data-id="${i}"]`).find(".selected-multimedia-files").find("img").attr("src"))||null==r||""==r?(removeLoader(),$(t).attr("disabled",!1),Materialize.toast("Please add atlest one file",4e3,"round error-alert")):savebusinessMultimedia(r,i,(function(e,r){e?($(t).attr("disabled",!1),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert")):businessUpdate({device_id:crossplat.device.uuid,id:sessionStorage.getItem("business_id"),data:{gst_details:{gst_number:$("#business_gst_license").text(),gst_multimedia:{name:a,size:r.msg.Data.filedata.filesize,thumbnail:r.Data.file,download:o,caption:s}}}}).then((e=>{digibiz.device_multimedia_uploaded_files=[],digibiz.device_multimedia_selected_files=[],digibiz.uploadingFiles=[];(async()=>{void 0!==e.gst_details&&e.gst_details.gst_multimedia.length>0&&($(`.multimedia-append-container[data-id="${i}"]`).find(".grid").remove(),await asyncEach(e.gst_details.gst_multimedia,(async(e,t)=>{await getUploadedBusinessMultimedia(e,i)})))})(),$(".upload-preview-common-layout").addClass("hide"),Materialize.toast("Successfully uploaded File",4e3,"round error-alert"),removeLoader(),$(t).attr("disabled",!1)})).catch((e=>{"no updated data found"==e.msg&&(removeLoader(),$(t).attr("disabled",!1))}))}))}else if("partnership-deed-load-btn"==i){null==(r=$(`.multimedia-append-container[data-id="${i}"]`).find(".selected-multimedia-files").find("img").attr("src"))||null==r||""==r?(removeLoader(),$(t).attr("disabled",!1),Materialize.toast("Please add atlest one file",4e3,"round error-alert")):savebusinessMultimedia(r,i,(function(e,r){e?($(t).attr("disabled",!1),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert")):businessUpdate({device_id:crossplat.device.uuid,id:sessionStorage.getItem("business_id"),data:{partnership_deed:{name:a,size:r.msg.Data.filedata.filesize,thumbnail:r.Data.file,download:o,caption:s}}}).then((e=>{digibiz.device_multimedia_uploaded_files=[],digibiz.device_multimedia_selected_files=[],digibiz.uploadingFiles=[];(async()=>{e.hasOwnProperty("partnership_deed")&&e.partnership_deed.length>0&&($(`.multimedia-append-container[data-id="${i}"]`).find(".grid").remove(),await asyncEach(e.partnership_deed,(async(e,t)=>{await getUploadedBusinessMultimedia(e,i)})))})(),$(".upload-preview-common-layout").addClass("hide"),Materialize.toast("Successfully uploaded File",4e3,"round error-alert"),removeLoader(),$(t).attr("disabled",!1)})).catch((e=>{"no updated data found"==e.msg&&(removeLoader(),$(t).attr("disabled",!1))}))}))}else if("partnership-registration-certificate-load-btn"==i){null==(r=$(`.multimedia-append-container[data-id="${i}"]`).find(".selected-multimedia-files").find("img").attr("src"))||null==r||""==r?(removeLoader(),$(t).attr("disabled",!1),Materialize.toast("Please add atlest one file",4e3,"round error-alert")):savebusinessMultimedia(r,i,(function(e,r){e?($(t).attr("disabled",!1),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert")):businessUpdate({device_id:crossplat.device.uuid,id:sessionStorage.getItem("business_id"),data:{partnership_registration_certificate:{name:a,size:r.msg.Data.filedata.filesize,thumbnail:r.Data.file,download:o,caption:s}}}).then((e=>{digibiz.device_multimedia_uploaded_files=[],digibiz.device_multimedia_selected_files=[],digibiz.uploadingFiles=[];(async()=>{e.hasOwnProperty("partnership_registration_certificate")&&e.partnership_registration_certificate.length>0&&($(`.multimedia-append-container[data-id="${i}"]`).find(".grid").remove(),await asyncEach(e.partnership_registration_certificate,(async(e,t)=>{await getUploadedBusinessMultimedia(e,i)})))})(),$(".upload-preview-common-layout").addClass("hide"),Materialize.toast("Successfully uploaded File",4e3,"round error-alert"),removeLoader(),$(t).attr("disabled",!1)})).catch((e=>{"no updated data found"==e.msg&&(removeLoader(),$(t).attr("disabled",!1))}))}))}else if("llp-registration-certificate-load-btn"==i){null==(r=$(`.multimedia-append-container[data-id="${i}"]`).find(".selected-multimedia-files").find("img").attr("src"))||null==r||""==r?(removeLoader(),$(t).attr("disabled",!1),Materialize.toast("Please add atlest one file",4e3,"round error-alert")):savebusinessMultimedia(r,i,(function(e,r){e?($(t).attr("disabled",!1),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert")):businessUpdate({device_id:crossplat.device.uuid,id:sessionStorage.getItem("business_id"),data:{llp_registration_certificate:{name:a,size:r.msg.Data.filedata.filesize,thumbnail:r.Data.file,download:o,caption:s}}}).then((e=>{digibiz.device_multimedia_uploaded_files=[],digibiz.device_multimedia_selected_files=[],digibiz.uploadingFiles=[];(async()=>{e.hasOwnProperty("llp_registration_certificate")&&e.llp_registration_certificate.length>0&&($(`.multimedia-append-container[data-id="${i}"]`).find(".grid").remove(),await asyncEach(e.llp_registration_certificate,(async(e,t)=>{await getUploadedBusinessMultimedia(e,i)})))})(),$(".upload-preview-common-layout").addClass("hide"),Materialize.toast("Successfully uploaded File",4e3,"round error-alert"),removeLoader(),$(t).attr("disabled",!1)})).catch((e=>{"no updated data found"==e.msg&&(removeLoader(),$(t).attr("disabled",!1))}))}))}else if("transaction-person-load-btn"==i){null==(r=$(`.multimedia-append-container[data-id="${i}"]`).find(".selected-multimedia-files").find("img").attr("src"))||null==r||""==r?(removeLoader(),$(t).attr("disabled",!1),Materialize.toast("Please add atlest one file",4e3,"round error-alert")):savebusinessMultimedia(r,i,(function(e,r){e?($(t).attr("disabled",!1),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert")):businessUpdate({device_id:crossplat.device.uuid,id:sessionStorage.getItem("business_id"),data:{transaction_person:{name:a,size:r.msg.Data.filedata.filesize,thumbnail:r.Data.file,download:o,caption:s}}}).then((e=>{digibiz.device_multimedia_uploaded_files=[],digibiz.device_multimedia_selected_files=[],digibiz.uploadingFiles=[];(async()=>{e.hasOwnProperty("transaction_person")&&e.transaction_person.length>0&&($(`.multimedia-append-container[data-id="${i}"]`).find(".grid").remove(),await asyncEach(e.transaction_person,(async(e,t)=>{await getUploadedBusinessMultimedia(e,i)})))})(),$(".upload-preview-common-layout").addClass("hide"),Materialize.toast("Successfully uploaded File",4e3,"round error-alert"),removeLoader(),$(t).attr("disabled",!1)})).catch((e=>{"no updated data found"==e.msg&&(removeLoader(),$(t).attr("disabled",!1))}))}))}else if("memorandum-of-association-load-btn"==i){null==(r=$(`.multimedia-append-container[data-id="${i}"]`).find(".selected-multimedia-files").find("img").attr("src"))||null==r||""==r?(removeLoader(),$(t).attr("disabled",!1),Materialize.toast("Please add atlest one file",4e3,"round error-alert")):savebusinessMultimedia(r,i,(function(e,r){e?($(t).attr("disabled",!1),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert")):businessUpdate({device_id:crossplat.device.uuid,id:sessionStorage.getItem("business_id"),data:{memorandum_of_association:{name:a,size:r.msg.Data.filedata.filesize,thumbnail:r.Data.file,download:o,caption:s}}}).then((e=>{digibiz.device_multimedia_uploaded_files=[],digibiz.device_multimedia_selected_files=[],digibiz.uploadingFiles=[];(async()=>{e.hasOwnProperty("memorandum_of_association")&&e.memorandum_of_association.length>0&&($(`.multimedia-append-container[data-id="${i}"]`).find(".grid").remove(),await asyncEach(e.memorandum_of_association,(async(e,t)=>{await getUploadedBusinessMultimedia(e,i)})))})(),$(".upload-preview-common-layout").addClass("hide"),Materialize.toast("Successfully uploaded File",4e3,"round error-alert"),removeLoader(),$(t).attr("disabled",!1)})).catch((e=>{"no updated data found"==e.msg&&(removeLoader(),$(t).attr("disabled",!1))}))}))}else if("articles-of-association-load-btn"==i){null==(r=$(`.multimedia-append-container[data-id="${i}"]`).find(".selected-multimedia-files").find("img").attr("src"))||null==r||""==r?(removeLoader(),$(t).attr("disabled",!1),Materialize.toast("Please add atlest one file",4e3,"round error-alert")):savebusinessMultimedia(r,i,(function(e,r){e?($(t).attr("disabled",!1),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert")):businessUpdate({device_id:crossplat.device.uuid,id:sessionStorage.getItem("business_id"),data:{article_of_association:{name:a,size:r.msg.Data.filedata.filesize,thumbnail:r.Data.file,download:o,caption:s}}}).then((e=>{digibiz.device_multimedia_uploaded_files=[],digibiz.device_multimedia_selected_files=[],digibiz.uploadingFiles=[];(async()=>{e.hasOwnProperty("article_of_association")&&e.article_of_association.length>0&&($(`.multimedia-append-container[data-id="${i}"]`).find(".grid").remove(),await asyncEach(e.article_of_association,(async(e,t)=>{await getUploadedBusinessMultimedia(e,i)})))})(),$(".upload-preview-common-layout").addClass("hide"),Materialize.toast("Successfully uploaded File",4e3,"round error-alert"),removeLoader(),$(t).attr("disabled",!1)})).catch((e=>{"no updated data found"==e.msg&&(removeLoader(),$(t).attr("disabled",!1))}))}))}else if("trust-establishment-license-load-btn"==i){var r;null==(r=$(`.multimedia-append-container[data-id="${i}"]`).find(".selected-multimedia-files").find("img").attr("src"))||null==r||""==r?(removeLoader(),$(t).attr("disabled",!1),Materialize.toast("Please add atlest one file",4e3,"round error-alert")):savebusinessMultimedia(r,i,(function(e,r){e?($(t).attr("disabled",!1),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert")):businessUpdate({device_id:crossplat.device.uuid,id:sessionStorage.getItem("business_id"),data:{trust_foundation_established_licence:{name:a,size:r.msg.Data.filedata.filesize,thumbnail:r.Data.file,download:o,caption:s}}}).then((e=>{digibiz.device_multimedia_uploaded_files=[],digibiz.device_multimedia_selected_files=[],digibiz.uploadingFiles=[];(async()=>{e.hasOwnProperty("trust_foundation_established_licence")&&e.trust_foundation_established_licence.length>0&&($(`.multimedia-append-container[data-id="${i}"]`).find(".grid").remove(),await asyncEach(e.trust_foundation_established_licence,(async(e,t)=>{await getUploadedBusinessMultimedia(e,i)})))})(),$(".upload-preview-common-layout").addClass("hide"),Materialize.toast("Successfully uploaded File",4e3,"round error-alert"),removeLoader(),$(t).attr("disabled",!1)})).catch((e=>{"no updated data found"==e.msg&&(removeLoader(),$(t).attr("disabled",!1))}))}))}}else removeLoader(),$(t).attr("disabled",!1)}})),$(document).on("click",".uploaded-multimedia-files",(function(){addLoader();var e=$(this).find(".file-details").attr("data-image-id");showFileViewer({viewer_id:"file-preview-popup",viewer_file_id:null,viewer_mime_type:"image",asset_content:'<img src= "'+`${api.get_business_multimedia}?business_id=${sessionStorage.getItem("business_id")}&device_id=${crossplat.device.uuid}&image_id=${e}`+'">'},(function(){removeLoader()}))})),$(document).on("keydown","#business_name, #business_display_name, #business_contact_name, #business_contact_number, #business_email, #address_text_box, #identity_proof_text_box, #business_pancard, #business_gst_license, #transaction_password_field",(function(){removeError($(this))})),$(document).on("change","#business-type-choose-select-dropdown, #business-add-address-type-select-dropdown, #business-add-identity-proof-type-select-dropdown",(function(){removeError($(this))})),$(document).on("click",".cancel-businesss-address-btn",(function(){$(this).parent(".business-address-content-box").remove()})),$(document).on("click","#employee-identity-picture-load-btn",(function(){digibiz.isEmployeeIdentityPictureSelected=!1,$(".multimedia_wrapper").find(".error_note").remove(),addLoader(),showAction({action_id:"employee-identity-picture-type-action-sheet",action_platform:crossplat.device.platform,action_title:"Select Type",action_btn:[{name:"Device",attr:[{name:"id",value:"employee-identity-picture-device-upload-type-btn"}]},{name:"Cloud",attr:[{name:"class",value:"digibiz-filemanager"}]},{name:"Camera",attr:[{name:"id",value:"employee-identity-picture-camera-upload-type-btn"}]}]},(function(){removeLoader()}))})),$(document).on("click","#employee-identity-picture-device-upload-type-btn",(function(){addLoader(),$("#employee-identity-picture-upload").val(""),$("#employee-identity-picture-upload").trigger("click"),$("#employee-identity-picture-type-action-sheet").remove(),showModal({modal_platform:crossplat.device.platform,modal_id:"employee-identity-picture-modal",modal_header:"",modal_body:' <div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"employee-identity-crop-button",name:"crop",attr:[{name:"data-id",value:""}]}]},(function(){removeLoader(),$(".modal-popup-content").length>0&&("browser"==crossplat.device.platform||crossplat.device.platform),$(".custom-modal-popup").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#employee-identity-picture-modal").attr("picture-type","employee_identity_picture")}))})),$(document).on("change","#employee-identity-picture-upload",(function(){var e=this.files;if(e.length>0){var t=e[0].name.split(".").pop();if(config.identityPictureFileFormat.includes(t.toLowerCase()))if(e[0].size>config.maxSizeAllowIdentityPicture)$("#employee-identity-picture-upload").parent().after('<span class="error_note">File size exceeding.Max allowed is 20MB</span>'),$("#employee-identity-picture-upload").val(""),$("#employee-identity-picture-upload").attr("src","");else{if(e[0])var i=e[0];var a=new FileReader;a.onload=function(e){var t=$("#image_cropper")[0];t.src=e.target.result,$("#employee-identity-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(t,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}})},a.readAsDataURL(i)}else $("#employee-identity-picture-upload").parent().after('<span class="error_note">Invalid file type</span>'),$("#employee-identity-picture-upload").val(""),$("#employee-identity-picture-upload").attr("src","")}})),$(document).on("click","#employee-identity-crop-button",(function(){addLoader(),digibiz.cropper.getCroppedCanvas().toBlob((e=>{var t=new FileReader;t.onloadend=function(i){saveEmployeeIdentityPicture(t.result,e,(function(e,i){e?(removeLoader(),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert")):($("#employee_identity_picture").attr("src",t.result),$(".employee-identity-picture-multimedia-load-btn").remove(),$("#employee-identity-picture-delete").remove(),$(".employee-add-identity-picture-container").find(".mask").removeClass("hide"),$("#employee_identity_picture").siblings(".mask").append(`<a class="info employee-identity-picture-multimedia-load-btn cursor_pointer"><i class="material-icons" id="employee-identity-picture-load-btn" data-thumbnail-id="${i}">photo_camera</i></a>`),$("#employee_identity_picture").siblings(".mask").append(`<a class="info employee-identity-picture-delete-btn cursor_pointer"><i class="material-icons" id="employee-identity-picture-delete" data-thumbnail-id="${i}">delete</i></a>`),$("#modal-close-btn").trigger("click"),$("#camera-modal").remove(),removeLoader(),digibiz.cropper.destroy())}))},t.readAsDataURL(e)}))})),$(document).on("click","#employee-identity-picture-delete",(function(e){var t=$(this).attr("data-thumbnail-id");e.stopPropagation(),showAlert({alert_id:"alert-delete-employee-identity-pic-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Delete Identity picture",alert_body:"Do you want to delete the employee identity picture?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-delete-employee-identity-pic-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-delete-employee-identity-pic-confirm-no"}]}]},(function(){$("#alert-delete-employee-identity-pic-confirm-cancel").attr("delete-thumbnail-id",t)}))})),$(document).on("click","#btn-delete-employee-identity-pic-confirm-no",(function(){$("#alert-delete-employee-identity-pic-confirm-cancel").remove()})),$(document).on("click","#btn-delete-employee-identity-pic-confirm-yes",(function(){var e=$("#alert-delete-employee-identity-pic-confirm-cancel").attr("delete-thumbnail-id");$("#alert-delete-employee-identity-pic-confirm-cancel").remove();var t=sessionStorage.getItem("employee_id"),i={device_id:crossplat.device.uuid,identity_picture_id:e,employee_id:t};addLoader(),employeeDeleteIdentityPicture(i).then((e=>{removeLoader(),$("#employee-identity-picture-upload").val(""),$("#employee_identity_picture").attr("src",""),$("#employee-identity-picture-delete").remove(),$("#employee-identity-picture-load-btn").attr("data-thumbnail-id","")})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))})),$(document).on("click","#employee-identity-picture-camera-upload-type-btn",(function(){if(addLoader(),$("#employee-identity-picture-upload").val(""),$("#employee-identity-picture-type-action-sheet").remove(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform)fetch.getHtml((function(e,t){showModal({modal_id:"camera-modal",modal_header:"Camera",modal_platform:crossplat.device.platform,modal_body:t},(function(){$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),$("#modal-close-btn").addClass("hide");navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){window.camerastream=e,$('.upload-preview-wrapper[data-for="camera_modal"]').hasClass("hide")&&$('.upload-preview-wrapper[data-for="camera_modal"]').removeClass("hide").addClass("slide-top"),$('.upload-preview-wrapper[data-for="camera_modal"]').find(".upload-preview-header span").text("Capture Photo"),$('.upload-preview-wrapper[data-for="camera_modal"]').find(".upload-preview-container").removeClass("hide"),$('.upload-preview-wrapper[data-for="camera_modal"]').find(".upload-preview-container-file-caption").addClass("hide"),$('.upload-preview-wrapper[data-for="camera_modal"]').find(".upload-preview-footer").addClass("hide"),$('.upload-preview-wrapper[data-for="camera_modal"]').find("#upload-permission-btn").addClass("hide"),$('.upload-preview-wrapper[data-for="camera_modal"]').find("#upload-preview-container-text-box").text(""),$('.upload-preview-wrapper[data-for="camera_modal"]').find("#upload-file-preview").html('<video id="capture-video" class="preview-file" autoplay></video><button id="camera-capture" class="btn-floating btn-large waves-effect waves-light blue cursor-pointer"><i class="material-icons">photo_camera</i></button>');var t=document.querySelector("#capture-video");t.srcObject=e,t.play()}))}))}),"page/common/camera","#camera-template",null);else{navigator.device.capture.captureImage((function(e){var t,i,a;for(addLoader(),t=0,a=e.length;t<a;t+=1){i=e[t].localURL,window.cameraMediaFile=i,window.camerastream&&window.camerastream.getTracks()[0].stop(),showModal({modal_platform:crossplat.device.platform,modal_id:"employee-identity-picture-modal",modal_header:"",modal_body:' <div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"employee-identity-crop-button",name:"crop",attr:[{name:"data-id",value:""}]}]},(function(){$("#employee-identity-picture-modal").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#employee-identity-picture-modal").attr("picture-type","employee_identity_picture")})),setTimeout((function(){var e=["png","jpeg","jpg","PNG","JPEG","JPG"];window.resolveLocalFileSystemURL(window.cameraMediaFile,(function(t){t.file((function(t){var i=new FileReader;i.onloadend=function(i){var a=new FileReader;a.onloadend=function(t){var a=new Blob([t.target.result],{type:"image/jpeg"}),o=a.type.split("/")[1];if(e.includes(o.toLowerCase())){$(".image_container").remove();URL.createObjectURL(a);var s=document.getElementById("image_cropper");s.src=i.target.result,s.onload=function(e){$(".group_image_delete").hide(),window.camerastream&&window.camerastream.getTracks()[0].stop()},$("#employee-identity-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(s,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}}),removeLoader()}},a.readAsArrayBuffer(t)},i.readAsDataURL(t)}))}),(function(e){}))}),500)}}),(function(e){navigator.notification.alert("Error code: "+e.code,null,"Capture Error"),removeLoader()}),{quality:.5}),removeLoader()}})),$(document).on("click",".employee_identity_pic_preview",(function(){var e=$(this).attr("data-thumbnail-id");addLoader();var t={getAvatarUrl:`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${e}`};fetch.getHtml((function(e,t){showModal({modal_platform:crossplat.device.platform,modal_id:"identity-picture-preview-modal",modal_header:"",modal_body:t},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),removeLoader()}))}),"page/common/identity_picture_preview","#identity-picture-preview-template",t)})),$(document).on("click","#business-display-picture-mutimedia-add",(function(){sessionStorage.removeItem("business_upload_for"),$(".multimedia_wrapper").find(".error_note").remove(),addLoader(),showAction({action_id:"business-display-picture-type-action-sheet",action_platform:crossplat.device.platform,action_title:"Select Type",action_btn:[{name:"Device",attr:[{name:"id",value:"business-display-picture-device-upload-type-btn"}]},{name:"Cloud",attr:[{name:"class",value:"digibiz-filemanager"}]},{name:"Camera",attr:[{name:"id",value:"business-display-picture-camera-upload-type-btn"}]}]},(function(){removeLoader()}))})),$(document).on("click","#business-display-picture-device-upload-type-btn",(function(){addLoader(),$("#business-display-upload").val(""),$("#business-display-upload").trigger("click"),$("#business-display-picture-type-action-sheet").remove(),showModal({modal_platform:crossplat.device.platform,modal_id:"business-display-picture-modal",modal_header:"",modal_body:' <div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"business-display-crop-button",name:"crop",attr:[{name:"data-id",value:""}]}]},(function(){removeLoader(),$(".modal-popup-content").length>0&&("browser"==crossplat.device.platform||crossplat.device.platform),$(".custom-modal-popup").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#business-display-picture-modal").attr("picture-type","business_display_picture")}))})),$(document).on("change","#business-display-upload",(function(){var e=this.files,t=$("#business_display_picture").attr("src");if(e.length>0){var i=e[0].name.split(".").pop();if(config.identityPictureFileFormat.includes(i.toLowerCase()))if(e[0].size>config.maxSizeAllowIdentityPicture)$("#business_display_picture").parent().after('<span class="error_note">File size exceeding.Max allowed is 20MB</span>'),$("#business-display-upload").val(""),$("#business_display_picture").attr("src",t);else{if(e[0])var a=e[0];var o=new FileReader;o.onload=function(e){var t=$("#image_cropper")[0];t.src=e.target.result,$("#business-display-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(t,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}})},o.readAsDataURL(a)}else $("#business_display_picture").parent().after('<span class="error_note">Invalid file type</span>'),$("#business-display-upload").val(""),$("#business_display_picture").attr("src",t)}})),$(document).on("click","#business-display-crop-button",(function(){addLoader(),digibiz.cropper.getCroppedCanvas().toBlob((e=>{var t=new FileReader;t.onloadend=function(e){savebusinessDisplayPicture(t.result,(function(e,i){e?(removeLoader(),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert")):(console.log("businessDisplayPicture",i),$("#business_display_picture").attr("src",t.result),$(".business-display-picture-multimedia-load-btn").remove(),$("#business-display-picture-delete").remove(),$(".business-display-picture-wrapper").find(".mask").removeClass("hide"),$("#business_display_picture").siblings(".mask").append(`<a class="business_display_pic_preview" data-asset_id="${i.thumbnail}"><i class="material-icons">pageview</i></a>`),$("#business_display_picture").siblings(".mask").append(`<a class="info business-display-picture-multimedia-load-btn cursor_pointer"><i class="material-icons" id="business-display-picture-mutimedia-add" data-thumbnail-id="${i.thumbnail}">photo_camera</i></a>`),$("#business_display_picture").siblings(".mask").append(`<a class="info business-display-picture-delete-btn cursor_pointer remove-pic"><i class="material-icons" id="business-display-picture-delete" data-thumbnail-id="${i.thumbnail}">cancel</i></a>`),$("#business-display-picture-modal").remove(),removeLoader(),digibiz.cropper.destroy())}))},t.readAsDataURL(e)}))})),$(document).on("click","#business-display-picture-delete",(function(e){var t=$(this).attr("data-thumbnail-id");e.stopPropagation(),showAlert({alert_id:"alert-delete-business-display-pic-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Delete Display picture",alert_body:"Do you want to delete the business display picture?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-delete-business-display-pic-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-delete-business-display-pic-confirm-no"}]}]},(function(){$("#alert-delete-business-display-pic-confirm-cancel").attr("delete-thumbnail-id",t)}))})),$(document).on("click","#btn-delete-business-display-pic-confirm-no",(function(){$("#alert-delete-business-display-pic-confirm-cancel").remove()})),$(document).on("click","#btn-delete-business-display-pic-confirm-yes",(function(){var e=$("#alert-delete-business-display-pic-confirm-cancel").attr("delete-thumbnail-id");$("#alert-delete-business-display-pic-confirm-cancel").remove();var t=sessionStorage.getItem("business_id"),i={device_id:crossplat.device.uuid,display_picture_id:e,business_id:t};addLoader(),businessDeleteDisplayPicture(i).then((e=>{removeLoader(),$("#business-display-upload").val(""),$("#business_display_picture").attr("src",""),$("#business-display-picture-delete").remove(),$(".business_display_pic_preview").remove(),$("#business-display-picture-mutimedia-add").attr("data-thumbnail-id","")})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))})),$(document).on("click","#business-display-video-delete",(function(e){var t=$(this).attr("data-thumbnail-id");e.stopPropagation(),showAlert({alert_id:"alert-delete-business-display-video-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Delete Display Video",alert_body:"Do you want to delete the business display Video?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-delete-business-display-video-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-delete-business-display-video-confirm-no"}]}]},(function(){$("#alert-delete-business-display-video-confirm-cancel").attr("delete-thumbnail-id",t)}))})),$(document).on("click","#btn-delete-business-display-video-confirm-no",(function(){$("#alert-delete-business-display-video-confirm-cancel").remove()})),$(document).on("click","#btn-delete-business-display-video-confirm-yes",(function(){var e=$("#alert-delete-business-display-video-confirm-cancel").attr("delete-thumbnail-id");$("#alert-delete-business-display-video-confirm-cancel").remove();var t=sessionStorage.getItem("business_id"),i={device_id:crossplat.device.uuid,display_video_thumbnail_id:e,business_id:t};addLoader(),businessDeleteDisplayVideo(i).then((e=>{removeLoader(),$("#business-display-video-upload").val(""),$("#business_display_video").attr("src",""),$("#business-display-video-delete").remove(),$(".business_display_video_preview").remove(),$("#business-display-video-mutimedia-add").attr("data-thumbnail-id","")})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))})),$(document).on("click","#business-display-picture-camera-upload-type-btn",(function(){if(addLoader(),$("#business-display-upload").val(""),$("#business-display-picture-type-action-sheet").remove(),sessionStorage.setItem("camera_for","business_display_picture"),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform)fetch.getHtml((function(e,t){showModal({modal_id:"camera-modal",modal_header:"Camera",modal_platform:crossplat.device.platform,modal_body:t},(function(){$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),$("#modal-close-btn").addClass("hide");navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){window.camerastream=e,$('.upload-preview-wrapper[data-for="camera_modal"]').hasClass("hide")&&$('.upload-preview-wrapper[data-for="camera_modal"]').removeClass("hide").addClass("slide-top"),$('.upload-preview-wrapper[data-for="camera_modal"]').find(".upload-preview-header span").text("Capture Photo"),$('.upload-preview-wrapper[data-for="camera_modal"]').find(".upload-preview-container").removeClass("hide"),$('.upload-preview-wrapper[data-for="camera_modal"]').find(".upload-preview-container-file-caption").addClass("hide"),$('.upload-preview-wrapper[data-for="camera_modal"]').find(".upload-preview-footer").addClass("hide"),$('.upload-preview-wrapper[data-for="camera_modal"]').find("#upload-permission-btn").addClass("hide"),$('.upload-preview-wrapper[data-for="camera_modal"]').find("#upload-preview-container-text-box").text(""),$('.upload-preview-wrapper[data-for="camera_modal"]').find("#upload-file-preview").html('<video id="capture-video" class="preview-file" autoplay></video><button id="camera-capture" class="btn-floating btn-large waves-effect waves-light blue cursor-pointer"><i class="material-icons">photo_camera</i></button>');var t=document.querySelector("#capture-video");t.srcObject=e,t.play()})),removeLoader()}))}),"page/common/camera","#camera-template",null);else{navigator.device.capture.captureImage((function(e){var t,i,a;for(addLoader(),t=0,a=e.length;t<a;t+=1){i=e[t].localURL,window.cameraMediaFile=i,window.camerastream&&window.camerastream.getTracks()[0].stop(),showModal({modal_platform:crossplat.device.platform,modal_id:"business-display-picture-modal",modal_header:"",modal_body:' <div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"business-display-crop-button",name:"crop",attr:[{name:"data-id",value:""}]}]},(function(){$(".custom-modal-popup").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#business-display-picture-modal").attr("picture-type","business_display_picture")})),setTimeout((function(){var e=["png","jpeg","jpg","PNG","JPEG","JPG"];window.resolveLocalFileSystemURL(window.cameraMediaFile,(function(t){t.file((function(t){var i=new FileReader;i.onloadend=function(i){var a=new FileReader;a.onloadend=function(t){var a=new Blob([t.target.result],{type:"image/jpeg"}),o=a.type.split("/")[1];if(e.includes(o.toLowerCase())){$(".image_container").remove();URL.createObjectURL(a);var s=document.getElementById("image_cropper");s.src=i.target.result,s.onload=function(e){$(".group_image_delete").hide()},$("#transaction-signature-picture-modal, #business-display-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(s,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}}),removeLoader()}else removeLoader()},a.readAsArrayBuffer(t)},i.readAsDataURL(t)}))}),(function(e){}))}),500)}}),(function(e){navigator.notification.alert("Error code: "+e.code,null,"Capture Error"),removeLoader()}),{quality:.5}),removeLoader()}})),$(document).on("click",".business_display_pic_preview",(function(){var e=sessionStorage.getItem("business_id"),t=$(this).attr("data-asset_id"),i={getAvatarUrl:`${api.get_business_multimedia}?business_id=${e}&device_id=${crossplat.device.uuid}&image_id=${t}`};fetch.getHtml((function(e,t){showModal({modal_platform:crossplat.device.platform,modal_id:"business-display-picture-preview-modal",modal_header:"",modal_body:t},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),removeLoader()}))}),"page/common/identity_picture_preview","#identity-picture-preview-template",i)})),$(document).on("click",".view-employee-business",(function(){addLoader();var e=$(this).parents(".employee-business-wrapper").attr("data-business-id"),t=$(this).parents(".employee-business-wrapper").attr("data-status");if("active"==t||"unassigned"==t)businessGet({device_id:crossplat.device.uuid,id:e}).then((t=>{if("self-verified"==t.status.status||"inactive_pending"==t.status.status){var i={device_id:crossplat.device.uuid,selected:!0,id:e,type:"business"};fetch.apiCall((function(i,a,o){"success"===a?employeeGet({device_id:crossplat.device.uuid,get_by:"account_id",business_id:e,account_id:sessionStorage.getItem("account_id")}).then((i=>{sessionStorage.setItem("business_id",e),sessionStorage.setItem("business_name",t.name),sessionStorage.setItem("employee_id",i.dj_unique_employee_id),location.hash="employee/business/apps/hub"})).catch((e=>{removeLoader()})):showAlert({alert_id:"alert-no-business-active-storage-available",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"<div>Reauthenticate business Storage. Please contact business owners to reauthenticate the storage.</div>",alert_btn:[{name:"OK",attr:[{name:"id",value:"btn-no-business-active-storage-available-ok"}]}]},(function(){removeLoader()}))}),api.check_token,"POST","JSON",i)}else removeLoader(),Materialize.toast("Business is inactive.",3e3,"round error-alert")})).catch((e=>{removeLoader()}));else if("accepted"==t){employeeGet({device_id:crossplat.device.uuid,get_by:"account_id",business_id:e,account_id:sessionStorage.getItem("account_id")}).then((t=>{"active"==t.status.status?businessGet({device_id:crossplat.device.uuid,id:e}).then((i=>{if("self-verified"==i.status.status||"inactive_pending"==i.status.status){var a={device_id:crossplat.device.uuid,selected:!0,id:e,type:"business"};fetch.apiCall((function(a,o,s){"success"===o?(sessionStorage.setItem("business_id",e),sessionStorage.setItem("business_name",i.name),sessionStorage.setItem("employee_id",t.dj_unique_employee_id),location.hash="employee/business/apps/hub"):showAlert({alert_id:"alert-no-business-active-storage-available",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"<div>Reauthenticate business Storage. Please contact business owners to reauthenticate the storage.</div>",alert_btn:[{name:"OK",attr:[{name:"id",value:"btn-no-business-active-storage-available-ok"}]}]},(function(){removeLoader()}))}),api.check_token,"POST","JSON",a)}else removeLoader(),Materialize.toast("Business is inactive.",3e3,"round error-alert")})).catch((e=>{removeLoader()})):showAlert({alert_id:"alert-employee-customer-not-active-box",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"<div>Please wait until administrator activates your employee account.</div>",alert_btn:[{name:"OK",attr:[{name:"id",value:"btn-employee-customer-not-active-ok"}]}]},(function(){removeLoader()}))})).catch((e=>{console.log("err",e),showAlert({alert_id:"alert-employee-customer-not-active-box",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"<div>Please wait until administrator activates your employee account.</div>",alert_btn:[{name:"OK",attr:[{name:"id",value:"btn-employee-customer-not-active-ok"}]}]},(function(){removeLoader()}))}))}else{showAlert({alert_id:"alert-employee-customer-not-active-box",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"<div>You are inactive. Please contact your business administrators.</div>",alert_btn:[{name:"OK",attr:[{name:"id",value:"btn-employee-customer-not-active-ok"}]}]},(function(){removeLoader()}))}})),$(document).on("click","#btn-employee-customer-not-active-ok",(function(){$("#alert-employee-customer-not-active-box").remove()})),$(document).on("click","#btn-business-not-active-ok",(function(){$("#alert-business-not-active-box").remove()})),$(document).on("click","#btn-no-business-active-storage-available-ok",(function(){$("#alert-no-business-active-storage-available").remove()})),$(document).on("click",".employee-icon-navigate-app",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){var t,i=$(this).attr("data-app");if("bizcontacts"==i||"bizgroups"==i)employeeGet({device_id:crossplat.device.uuid,get_by:"id",id:sessionStorage.getItem("employee_id")}).then((e=>{addLoader(),navigateLogsAdd({device_id:crossplat.device.uuid,platform:crossplat.device.platform,app:i,role:"employee",employee_role:e.employee_role,account_id:sessionStorage.getItem("account_id"),business_id:sessionStorage.getItem("business_id"),member_id:sessionStorage.getItem("employee_id")}).then((e=>{setTimeout((function(){deviceHelper.navigateApp(i)}),500)})).catch((e=>{removeLoader()}))})).catch((e=>{removeLoader()}));else t="digibiz_assets"==i?"bizassets":i,getAppPermission({device_id:crossplat.device.uuid,get_by:"check_app",business_id:sessionStorage.getItem("business_id"),app:t}).then((e=>{if("active"==e.status.status)"bizmeet"==i||"bizcall"==i?removeLoader():employeeGet({device_id:crossplat.device.uuid,get_by:"id",id:sessionStorage.getItem("employee_id")}).then((e=>{addLoader(),navigateLogsAdd({device_id:crossplat.device.uuid,platform:crossplat.device.platform,app:i,role:"employee",employee_role:e.employee_role,account_id:sessionStorage.getItem("account_id"),business_id:sessionStorage.getItem("business_id"),member_id:sessionStorage.getItem("employee_id")}).then((e=>{setTimeout((function(){deviceHelper.navigateApp(i)}),500)})).catch((e=>{removeLoader()}))})).catch((e=>{removeLoader()}));else if("inactive"==e.status.status){showAlert({alert_id:"app-permission-not-present-alert",alert_platform:crossplat.device.platform,alert_title:"Access Denied",alert_body:"This app is inactive. Please contact business administrator.",alert_btn:[{name:"OK",attr:[{name:"id",value:"access-denied-app-permission-not-present"}]}]},(function(){removeLoader()}))}else{showAlert({alert_id:"app-permission-not-present-alert",alert_platform:crossplat.device.platform,alert_title:"Access Denied",alert_body:"This app is not activated by the business. Please contact business administrator.",alert_btn:[{name:"OK",attr:[{name:"id",value:"access-denied-app-permission-not-present"}]}]},(function(){removeLoader()}))}})).catch((e=>{showAlert({alert_id:"app-permission-not-present-alert",alert_platform:crossplat.device.platform,alert_title:"Access Denied",alert_body:"This app is not activated by the business. Please contact business administrator.",alert_btn:[{name:"OK",attr:[{name:"id",value:"access-denied-app-permission-not-present"}]}]},(function(){removeLoader()}))}))}})),$(document).on("click",".employee-contact-list",(function(){addLoader(),location.hash="employee/contact/list"})),$(document).on("click",".all-employee-list-tab",(function(){addLoader(),sessionStorage.setItem("selected-employee-contact-list-type-tab","all_employees"),$(".tab-content").removeClass("active"),$(`.tab-content[id="${sessionStorage.getItem("selected-employee-contact-list-type-tab")}"`).addClass("active"),$(".tab").removeClass("active"),$(`.tab[data-id="${sessionStorage.getItem("selected-employee-contact-list-type-tab")}"]`).addClass("active"),$(".voiceit_private_page_search_container").removeClass("hide"),allEmployessListPage()})),$(document).on("click",".department-wise-list-tab",(function(){addLoader(),sessionStorage.setItem("selected-employee-contact-list-type-tab","department_wise"),$(".tab-content").removeClass("active"),$(`.tab-content[id="${sessionStorage.getItem("selected-employee-contact-list-type-tab")}"`).addClass("active"),$(".tab").removeClass("active"),$(`.tab[data-id="${sessionStorage.getItem("selected-employee-contact-list-type-tab")}"]`).addClass("active"),$(".voiceit_private_page_search_container").addClass("hide"),departmentWiseEmployessListPage()})),$(document).on("click","#department-list-selection-data",(function(){addLoader(),digibiz.department_list_selection=[],digibiz.alreadySelectedDepartment=[],digibiz.department_wise_employees_list=[],departmentList({device_id:crossplat.device.uuid,list_by:"department",business_id:sessionStorage.getItem("business_id")}).then((e=>{showModal({modal_id:"department-wise-employees-list-modal",modal_header:"Select Department",modal_platform:crossplat.device.platform,modal_body:'<div id="department-list-main-container">\n                                            <span class="searchbtn waves-effect cursor-pointer"><i class="material-icons">search</i></span>\n                                             <div class="expand-search-wrap" id="department-list-search-btn">\n                                             <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                                             <span class="searchclosebtn"><i class="material-icons department-list-close-btn hide">close</i></span>\n                                        </div>\n                                        <div id="department-list-selection-wrapper"></div>\n                                        </div>',modal_action_buttons:[{name:"Confirm",id:"department-wise-employee-list-confirm"}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),$(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content")):$(".custom-modal-popup").show().addClass("modal-slide-top"),processDepartmentListSelection(e,(function(){removeLoader();var e=$("#department-wise-employees-list-modal").find(".expand-search-input");e&&($(document).on("input",e,(function(){timestamp=(new Date).getTime(),e.attr("socketid",timestamp)})),$(document).on("keyup",e,(function(){if(socketid=e.attr("socketid"),keyword=e.val(),socketid&&keyword){if(document.getElementsByClassName("searchclosebtn")[0].style.display="flex",currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:socketid,app:"digibiz",keyword:keyword},"employee_contact_list"===currentroute)"department_wise"==sessionStorage.getItem("selected-employee-contact-list-type-tab")&&$("#department-wise-employees-list-modal").length>0&&(data.index="getEmployeeCreatDepartmentSelection",data.business_id=sessionStorage.getItem("business_id"));addLoader(),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300)}else if(removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),e.attr("socketid",""),"employee_contact_list"===currentroute)"department_wise"==sessionStorage.getItem("selected-employee-contact-list-type-tab")&&$("#department-wise-employees-list-modal").length>0&&processDepartmentListSelection(digibiz.department_list_selection,(function(){}))})))}))}))})).catch((e=>{removeLoader()}))})),$(document).on("click",".department-selected",(function(){$("#department-wise-employees-list-modal").find(".department-selected:checked").length>1&&($(".department-selected").prop("checked",!1),$(this).prop("checked",!0))})),$(document).on("click","#department-wise-employee-list-confirm",(function(){if(addLoader(),$("#department-wise-employees-list-modal").find(".department-list-data-wrapper.selected-row").length>0&&$("#department-wise-employees-list-modal").find(".department-list-data-wrapper.selected-row").length<2){var e=$("#department-wise-employees-list-modal").find(".department-list-data-wrapper.selected-row").attr("data-id");employeeList({device_id:crossplat.device.uuid,list_by:"department",business_id:sessionStorage.getItem("business_id"),department_id:e}).then((e=>{processDepartmentWiseEmployeeList(e,(function(){$("#department-wise-employees-list-modal").remove(),removeLoader()}))})).catch((e=>{if("No data found"==e.msg){processDepartmentWiseEmployeeList([],(function(){$("#department-wise-employees-list-modal").remove(),removeLoader()}))}else removeLoader()}))}else removeLoader(),Materialize.toast("Please select only 1 department.",3e3,"round success-alert")})),$(document).on("click",".customer-identifiers",(function(){addLoader(),location.hash="customers/identifiers/list"})),$(document).on("click",".customer-identifiers-tab",(function(){addLoader(),sessionStorage.setItem("selected-tab","identifiers"),$(".tab-content").removeClass("active"),$(`.tab-content[id="${sessionStorage.getItem("selected-tab")}"`).addClass("active"),$(".tab").removeClass("active"),$(`.tab[data-id="${sessionStorage.getItem("selected-tab")}"]`).addClass("active"),digibiz.customer_identifiers=[],customerIdentifierListPage()})),$(document).on("click",".associate-customer-identifiers-tab",(function(){addLoader(),sessionStorage.setItem("selected-customer-identifier-tab","associate_customer"),$(".tab-content").removeClass("active"),$(`.tab-content[id="${sessionStorage.getItem("selected-customer-identifier-tab")}"`).addClass("active"),$(".tab").removeClass("active"),$(`.tab[data-id="${sessionStorage.getItem("selected-customer-identifier-tab")}"]`).addClass("active"),digibiz.associate_customer_identifiers=[],associateCustomerIdentifierListPage()})),$(document).on("click",".customer-label-tab",(function(){addLoader(),sessionStorage.setItem("selected-tab","labels"),$(".tab-content").removeClass("active"),$(`.tab-content[id="${sessionStorage.getItem("selected-tab")}"`).addClass("active"),$(".tab").removeClass("active"),$(`.tab[data-id="${sessionStorage.getItem("selected-tab")}"]`).addClass("active"),digibiz.associate_customer_identifiers=[],associateCustomerIdentifierListPage()})),$(document).on("click","#customer_identifier_add_button",(function(){addLoader(),fetch.getHtml((function(e,t){e||showAlert({alert_id:"modal-customer-identifier-add-cancel",alert_platform:crossplat.device.platform,alert_title:"Identifier Name",alert_body:t,alert_btn:[{name:"Cancel",attr:[{name:"id",value:"alert-new-customer-identifier-cancel"}]},{name:"Add",attr:[{name:"id",value:"alert-new-customer-identifier-add"}]}]},(function(){removeLoader()}))}),"layouts/popup/customer_identifier","#customer-identifier-template",null)})),$(document).on("click","#alert-new-customer-identifier-cancel, #alert-edit-customer-identifier-cancel",(function(){$("#modal-customer-identifier-add-cancel").remove()})),$(document).on("click","#alert-new-customer-identifier-add",(function(){addLoader();var e=$("#customer_identifier_name").text();validateIdentifierData("customer_identifier")?($("#modal-customer-identifier-add-cancel").remove(),customerIdentifierAdd({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"customer",identifier:firstLetterUpperCase(e)}).then((e=>{$(".no_data").length>0&&$(".no_data").remove(),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(`${e.msg}`,3e3,"round success-alert")}))):removeLoader()})),$(document).on("click","#show-action-customer-identifier-data",(function(){var e=$(this).parents(".customer-identifier-wrapper").attr("data-id");addLoader(),showAction({action_id:"customer-identifier-actions",action_platform:crossplat.device.platform,action_title:"Actions",action_btn:[{name:"Edit",attr:[{name:"id",value:"customer_identifier_edit"}]},{name:"Delete",attr:[{name:"id",value:"customer_identifier_delete"}]}]},(function(){$("#customer-identifier-actions").attr("data-id",e),removeLoader()}))})),$(document).on("click","#customer_identifier_edit",(function(){addLoader();var e=$("#customer-identifier-actions").attr("data-id");$("#customer-identifier-actions").remove(),customerIdentifierGet({device_id:crossplat.device.uuid,id:e}).then((t=>{var i={identifier:t.identifier};fetch.getHtml((function(t,i){t||showAlert({alert_id:"modal-customer-identifier-add-cancel",alert_platform:crossplat.device.platform,alert_title:"Identifier Name",alert_body:i,alert_btn:[{name:"Cancel",attr:[{name:"id",value:"alert-edit-customer-identifier-cancel"}]},{name:"Add",attr:[{name:"id",value:"alert-edit-customer-identifier-add"}]}]},(function(){$("#modal-customer-identifier-add-cancel").attr("data-id",e),removeLoader()}))}),"layouts/popup/customer_identifier","#customer-identifier-template",i)})).catch((e=>{removeLoader()}))})),$(document).on("click","#alert-edit-customer-identifier-add",(function(){addLoader();var e=$("#customer_identifier_name").text(),t=$("#modal-customer-identifier-add-cancel").attr("data-id");validateIdentifierData("customer_identifier")?($("#modal-customer-identifier-add-cancel").remove(),customerIdentifierUpdate({device_id:crossplat.device.uuid,id:t,data:{identifier:firstLetterUpperCase(e)}}).then((e=>{removeLoader()})).catch((e=>{removeLoader()}))):removeLoader()})),$(document).on("click","#customer_identifier_delete",(function(){addLoader();var e=$("#customer-identifier-actions").attr("data-id");$("#customer-identifier-actions").remove(),fetch.getHtml((function(t,i){showAlert({alert_id:"alert-delete-customer-identifier-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Delete Customer Identifier",alert_body:i,alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-delete-customer-identifier-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-delete-customer-identifier-cancel-no"}]}]},(function(){removeLoader(),$("#alert-delete-customer-identifier-confirm-cancel").attr("data-id",e)}))}),"layouts/alert_templates/delete_identier","#delete-identifier-template",null)})),$(document).on("click","#btn-delete-customer-identifier-cancel-no",(function(){$("#alert-delete-customer-identifier-confirm-cancel").remove()})),$(document).on("click","#btn-delete-customer-identifier-confirm-yes",(function(){addLoader();var e=$("#alert-delete-customer-identifier-confirm-cancel").attr("data-id"),t=$(".delete-identifier-folder-delete-yes-radio-button").is(":checked");$("#alert-delete-customer-identifier-confirm-cancel").remove(),customerIdentifierDelete({device_id:crossplat.device.uuid,id:e,folder_delete:t}).then((t=>{$(`.customer-identifier-wrapper[data-id="${e}"]`).remove(),Materialize.toast("Successfully Deleted",3e3,"round success-alert"),0==$(".customer-identifier-wrapper").length&&$(".customer-identifiers-list-contentbox").append('<div class="no_data">No data found</div>'),removeLoader()})).catch((e=>{removeLoader()}))})),$(document).on("click","#associate_customer_identifier_add_button",(function(){addLoader(),$(".associate-customer-identifier-wrapper").length<config.AssociateCustomerMax?fetch.getHtml((function(e,t){e||showAlert({alert_id:"modal-associate-customer-identifier-add-cancel",alert_platform:crossplat.device.platform,alert_title:"Identifier Name",alert_body:t,alert_btn:[{name:"Cancel",attr:[{name:"id",value:"alert-new-associate-customer-identifier-cancel"}]},{name:"Add",attr:[{name:"id",value:"alert-new-associate-customer-identifier-add"}]}]},(function(){removeLoader()}))}),"layouts/popup/associate_customer_identifier","#associate-customer-identifier-template",null):(removeLoader(),Materialize.toast("Maximum Exceeded",3e3,"round success-alert"))})),$(document).on("click","#alert-new-associate-customer-identifier-cancel, #alert-edit-associate-customer-identifier-cancel",(function(){$("#modal-associate-customer-identifier-add-cancel").remove()})),$(document).on("click","#alert-new-associate-customer-identifier-add",(function(){addLoader();var e=$("#associate_customer_identifier_name").text();validateIdentifierData("associate_customer_identifier")?($("#modal-associate-customer-identifier-add-cancel").remove(),customerIdentifierAdd({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"associate_customer",identifier:firstLetterUpperCase(e)}).then((e=>{$(".no_data").length>0&&$(".no_data").remove();var t=`<div class="associate-customer-identifier-wrapper" data-id="${e.id}" data-status="${e.status.status}">                    \n                <div class="profile-pic-info-wrapper">                            \n                  <div class="associate-customer-identifier-data-wrapper ellipsify">\n                    <div class="associate-customer-identifier-name" value="${e.identifier}"><span class="truncate">${e.identifier}</span></div>\n                  </div>              \n                </div>  \n                <div class="btn-wrap">              \n                 <div class="more-menu-wrapper show-action-associate-customer-identifier-data" id="show-action-associate-customer-identifier-data"><i class="material-icons">more_vert</i></div>\n                </div>\n              </div>`;$(".associate-customer-identifiers-list-contentbox").prepend(t),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(`${e.msg}`,3e3,"round success-alert")}))):removeLoader()})),$(document).on("click","#show-action-associate-customer-identifier-data",(function(){var e=$(this).parents(".associate-customer-identifier-wrapper").attr("data-id");addLoader(),showAction({action_id:"associate-customer-identifier-actions",action_platform:crossplat.device.platform,action_title:"Actions",action_btn:[{name:"Edit",attr:[{name:"id",value:"associate_customer_identifier_edit"}]},{name:"Delete",attr:[{name:"id",value:"associate_customer_identifier_delete"}]}]},(function(){$("#associate-customer-identifier-actions").attr("data-id",e),removeLoader()}))})),$(document).on("click","#associate_customer_identifier_edit",(function(){addLoader();var e=$("#associate-customer-identifier-actions").attr("data-id");$("#associate-customer-identifier-actions").remove(),customerIdentifierGet({device_id:crossplat.device.uuid,id:e}).then((t=>{var i={identifier:t.identifier};fetch.getHtml((function(t,i){t||showAlert({alert_id:"modal-associate-customer-identifier-add-cancel",alert_platform:crossplat.device.platform,alert_title:"Identifier Name",alert_body:i,alert_btn:[{name:"Cancel",attr:[{name:"id",value:"alert-edit-associate-customer-identifier-cancel"}]},{name:"Add",attr:[{name:"id",value:"alert-edit-associate-customer-identifier-add"}]}]},(function(){$("#modal-associate-customer-identifier-add-cancel").attr("data-id",e),removeLoader()}))}),"layouts/popup/associate_customer_identifier","#associate-customer-identifier-template",i)})).catch((e=>{removeLoader()}))})),$(document).on("click","#alert-edit-associate-customer-identifier-add",(function(){addLoader();var e=$("#associate_customer_identifier_name").text(),t=$("#modal-associate-customer-identifier-add-cancel").attr("data-id");validateIdentifierData("associate_customer_identifier")?($("#modal-associate-customer-identifier-add-cancel").remove(),customerIdentifierUpdate({device_id:crossplat.device.uuid,id:t,data:{identifier:firstLetterUpperCase(e)}}).then((e=>{removeLoader()})).catch((e=>{removeLoader()}))):removeLoader()})),$(document).on("click","#associate_customer_identifier_delete",(function(){addLoader();var e=$("#associate-customer-identifier-actions").attr("data-id");$("#associate-customer-identifier-actions").remove(),showAlert({alert_id:"alert-delete-associate-customer-identifier-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Delete Associate Customer Identifier",alert_body:"Are you sure you want to delete the associate customer identifier?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-delete-associate-customer-identifier-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-delete-associate-customer-identifier-cancel-no"}]}]},(function(){removeLoader(),$("#alert-delete-associate-customer-identifier-confirm-cancel").attr("data-id",e)}))})),$(document).on("click","#btn-delete-associate-customer-identifier-cancel-no",(function(){$("#alert-delete-associate-customer-identifier-confirm-cancel").remove()})),$(document).on("click","#btn-delete-associate-customer-identifier-confirm-yes",(function(){addLoader();var e=$("#alert-delete-associate-customer-identifier-confirm-cancel").attr("data-id");$("#alert-delete-associate-customer-identifier-confirm-cancel").remove(),customerIdentifierDelete({device_id:crossplat.device.uuid,id:e}).then((t=>{$(`.associate-customer-identifier-wrapper[data-id="${e}"]`).remove(),Materialize.toast("Successfully Deleted",3e3,"round success-alert"),0==$(".associate-customer-identifier-wrapper").length&&$(".associate-customer-identifiers-list-contentbox").append('<div class="no_data">No data found</div>'),removeLoader()})).catch((e=>{removeLoader()}))})),$(document).on("click","#primary_customer_label_add_button",(function(){addLoader(),fetch.getHtml((function(e,t){e||showAlert({alert_id:"modal-primary-customer-label-add-cancel",alert_platform:crossplat.device.platform,alert_title:"Label Name",alert_body:t,alert_btn:[{name:"Cancel",attr:[{name:"id",value:"alert-new-primary-customer-label-cancel"}]},{name:"Add",attr:[{name:"id",value:"alert-new-primary-customer-label-add"}]}]},(function(){removeLoader()}))}),"layouts/popup/primary_customer_label","#primary-customer-label-template",null)})),$(document).on("click","#alert-new-primary-customer-label-cancel",(function(){$("#modal-primary-customer-label-add-cancel").remove()})),$(document).on("click","#alert-new-primary-customer-label-add",(function(){addLoader();var e=$("#primary_customer_label_name").text();validateIdentifierData("primary_customer_label")?($("#modal-primary-customer-label-add-cancel").remove(),customerIdentifierAdd({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"primary_customer",identifier:firstLetterUpperCase(e)}).then((e=>{$(".no_data").length>0&&$(".no_data").remove(),removeLoader()})).catch((e=>{removeLoader()}))):removeLoader()})),$(document).on("click","#show-action-primary-customer-label-data",(function(){var e=$(this).parents(".customer-identifier-wrapper").attr("data-id");addLoader(),showAction({action_id:"primary-customer-label-actions",action_platform:crossplat.device.platform,action_title:"Actions",action_btn:[{name:"Edit",attr:[{name:"id",value:"primary_customer_label_edit"}]}]},(function(){$("#primary-customer-label-actions").attr("data-id",e),removeLoader()}))})),$(document).on("click","#primary_customer_label_edit",(function(){addLoader();var e=$("#primary-customer-label-actions").attr("data-id");$("#primary-customer-label-actions").remove(),customerIdentifierGet({device_id:crossplat.device.uuid,id:e}).then((t=>{var i={identifier:t.identifier};fetch.getHtml((function(t,i){t||showAlert({alert_id:"modal-primary-customer-label-add-cancel",alert_platform:crossplat.device.platform,alert_title:"Label Name",alert_body:i,alert_btn:[{name:"Cancel",attr:[{name:"id",value:"alert-edit-primary-customer-label-cancel"}]},{name:"Add",attr:[{name:"id",value:"alert-edit-primary-customer-label-add"}]}]},(function(){$("#modal-primary-customer-label-add-cancel").attr("data-id",e),removeLoader()}))}),"layouts/popup/primary_customer_label","#primary-customer-label-template",i)})).catch((e=>{removeLoader()}))})),$(document).on("click","#alert-edit-primary-customer-label-cancel",(function(){$("#modal-primary-customer-label-add-cancel").remove()})),$(document).on("click","#alert-edit-primary-customer-label-add",(function(){addLoader();var e=$("#primary_customer_label_name").text(),t=$("#modal-primary-customer-label-add-cancel").attr("data-id");validateIdentifierData("primary_customer_label")?($("#modal-primary-customer-label-add-cancel").remove(),customerIdentifierUpdate({device_id:crossplat.device.uuid,id:t,data:{identifier:firstLetterUpperCase(e)}}).then((e=>{removeLoader()})).catch((e=>{removeLoader()}))):removeLoader()})),$(document).on("keydown","#customer_identifier_name, #associate_customer_identifier_name",(function(){removeError($(this))})),$(document).on("change","#select-identifier-visibility-type",(function(){removeError($(this))})),$(document).on("click",".customer-creation",(function(){addLoader(),location.hash="identifiers_list_customer_creation"})),$(document).on("click",".customer-pending-tab",(function(){addLoader(),sessionStorage.setItem("selected-tab","customer_pending"),$(".tab-content").removeClass("active"),$(`.tab-content[id="${sessionStorage.getItem("selected-tab")}"`).addClass("active"),$(".tab").removeClass("active"),$(`.tab[data-id="${sessionStorage.getItem("selected-tab")}"]`).addClass("active"),pendingCustomerCreationListPage()})),$(document).on("click",".customer-active-tab",(function(){addLoader(),sessionStorage.setItem("selected-tab","customer_active"),$(".tab-content").removeClass("active"),$(`.tab-content[id="${sessionStorage.getItem("selected-tab")}"`).addClass("active"),$(".tab").removeClass("active"),$(`.tab[data-id="${sessionStorage.getItem("selected-tab")}"]`).addClass("active"),activeCustomerCreationListPage()})),$(document).on("click",".customer-alumini-tab",(function(){addLoader(),sessionStorage.setItem("selected-tab","customer_alumini"),$(".tab-content").removeClass("active"),$(`.tab-content[id="${sessionStorage.getItem("selected-tab")}"`).addClass("active"),$(".tab").removeClass("active"),$(`.tab[data-id="${sessionStorage.getItem("selected-tab")}"]`).addClass("active"),aluminiCustomerListPage()})),$(document).on("click",".create-customer-identifier-wrapper",(function(){addLoader();var e=$(this).attr("data-id");sessionStorage.setItem("identifier_id",e),location.hash="customer_creation"})),$(document).on("click","#add-customer-btn",(function(){(addLoader(),null==sessionStorage.getItem("identifier_id")||null==sessionStorage.getItem("identifier_id")||""==sessionStorage.getItem("identifier_id"))?(removeLoader(),Materialize.toast("Please select a identifier",3e3,"round error-alert")):($("#choose-customer-identifier-modal").remove(),removeLoader(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?location.hash="customer/create":showAction({action_id:"customer_creation_by_selection_modal",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"By Notification",attr:[{name:"id",value:"customer_by_notification"}]},{name:"By QR-code",attr:[{name:"id",value:"customer_by_qr_code"}]}]},(function(){removeLoader(),$(".action-sheet-container").removeClass("hide").addClass("slide-top")})))})),$(document).on("click","#btn-cancel-identifier-add-customer-creation",(function(){$("#alert-no-identifiers-found-add-cancel-popup").remove()})),$(document).on("click","#btn-ok-identifier-add-customer-creation",(function(){$("#alert-no-identifiers-found-add-cancel-popup").remove(),$(".customer-identifiers-tab").click()})),$(document).on("click","#customer_by_notification",(function(){addLoader(),$("#customer_creation_by_selection_modal").remove(),location.hash="customer/create"})),$(document).on("click","#customer_by_qr_code",(function(){addLoader(),$("#customer_creation_by_selection_modal").remove(),location.hash="#customer/scan_qr"})),$(document).on("click",".cancel-customer-btn",(function(e){e.stopImmediatePropagation(),isDoubleClicked($(this))||(addLoader(),"collaborator/customer/create"==location.href.split("#").pop()?location.hash="customer/collaborators":sessionStorage.getItem("customer_id")?"customer"==sessionStorage.getItem("digibiz_role")?(sessionStorage.removeItem("edit_from"),location.hash="customer/profile"):(reqParam={device_id:crossplat.device.uuid,id:sessionStorage.getItem("customer_id"),data:{socket_enable_status:"true",update_for:"socket_enable_status"}},customerUpdate(reqParam).then((e=>{sessionStorage.removeItem("customer_id"),sessionStorage.removeItem("customer_name"),location.hash="customer_creation",appScroll.scrollBar("#main-container").destory()})).catch((e=>{"no updated data found"==e.msg&&(sessionStorage.removeItem("customer_id"),location.hash="customer_creation")}))):location.hash="customer_creation")})),$(document).on("click",".notify-customer-btn",(function(e){if(addLoader(),e.stopImmediatePropagation(),!isDoubleClicked($(this)))if($("#add-customer-mobile-number").val().length>0){var t=$("#add-customer-mobile-number").intlTelInput("getNumber").replace(/\s/g,""),i={device_id:crossplat.device.uuid,data:{jeevi:["name","id","profile_display","user_name"]}};$("#add-customer-mobile-number").intlTelInput("isValidNumber")?(i.type="mobile_number",i.value=t,getRolesForContactNumberCustomer(i,(function(){}))):(removeLoader(),Materialize.toast("Please enter valid number",3e3,"round error-alert"))}else removeLoader(),Materialize.toast("Please enter data",3e3,"round success-alert")})),$(document).on("click",".pending-customer-wrapper",(function(){addLoader();var e=$(this).attr("data-uuid"),t=$(this).attr("data-type"),i=$(this).attr("data-collaborator_business_id");sessionStorage.setItem("contact_uuid",e),sessionStorage.setItem("customer_notification_type",t),sessionStorage.setItem("collaborator_business_id",i),location.hash="customer/notification/details"})),$(document).on("click","#resent-customer-notification",(function(){addLoader(),notificationAdd({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"customer",add_type:"resend",identifier_id:sessionStorage.getItem("identifier_id"),contact_user_id:sessionStorage.getItem("contact_user_id")}).then((e=>{Materialize.toast("Successfully sent notification",3e3,"round success-alert");var t=sessionStorage.getItem("selected-customer-tab");"customer_active"==t?location.hash="customer_creation/active/list":"customer_pending"==t&&(location.hash="customer_creation/pending/list")})).catch((e=>{Materialize.toast(e.msg,3e3,"round success-alert"),removeLoader()}))})),$(document).on("click","#delete-customer-notification",(function(){addLoader();var e=$(this).parents(".customer-notification-details-wrapper").attr("data-notification-id"),t=$(this).parents(".customer-notification-details-wrapper").attr("data-notification-type");notificationDelete({device_id:crossplat.device.uuid,notification_id:e,notification_type:t}).then((e=>{removeLoader(),$(this).parents(".customer-notification-details-wrapper").remove(),0==$(".customer-notification-details-wrapper").length&&$(".customer-notification-details-list-contentbox").append('<div class="no_data">No data found</div>'),Materialize.toast("Successfully deleted the notification.",3e3,"round success-alert")})).catch((e=>{removeLoader(),Materialize.toast("Error in deleting the notification.",3e3,"round success-alert")}))})),$(document).on("click","#show-action-active-customer-data",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){addLoader();var t=$(this).parents(".active-customer-wrapper").attr("data-customer-id"),i=$(this).parents(".active-customer-wrapper").attr("data-status"),a=$(this).parents(".active-customer-wrapper").attr("data-socket-status");if("active"==i)showAction({action_id:"customer_alert_actions",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"Edit",attr:[{name:"class",value:"customer_edit"}]},{name:"Inactivate",attr:[{name:"class",value:"customer_inactivate"}]},{name:"Delete",attr:[{name:"class",value:"customer_delete"}]}]},(function(){removeLoader(),$(".action-sheet-container").removeClass("hide").addClass("slide-top"),$(".action-sheet-container").attr("customer_id",t),$(".action-sheet-container").attr("customer_socket_status",a)}));else if("accepted"==i){showAction({action_id:"customer_alert_actions",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"Complete Profile",attr:[{name:"class",value:"customer_edit"}]}]},(function(){removeLoader(),$(".action-sheet-container").removeClass("hide").addClass("slide-top"),$(".action-sheet-container").attr("customer_id",t),$(".action-sheet-container").attr("customer_socket_status",a)}))}else if("inactive"==i){showAction({action_id:"customer_alert_actions",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"Edit",attr:[{name:"class",value:"customer_edit"}]},{name:"Activate",attr:[{name:"class",value:"customer_activate"}]},{name:"Delete",attr:[{name:"class",value:"customer_delete"}]}]},(function(){removeLoader(),$(".action-sheet-container").removeClass("hide").addClass("slide-top"),$(".action-sheet-container").attr("customer_id",t),$(".action-sheet-container").attr("customer_socket_status",a)}))}else if("exited"==i){showAction({action_id:"customer_alert_actions",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"Delete",attr:[{name:"class",value:"customer_delete"}]}]},(function(){removeLoader(),$(".action-sheet-container").removeClass("hide").addClass("slide-top"),$(".action-sheet-container").attr("customer_id",t),$(".action-sheet-container").attr("customer_socket_status",a)}))}}})),$(document).on("click",".customer_edit",(function(){addLoader();var e=$(".action-sheet-container").attr("customer_id");"true"==$(".action-sheet-container").attr("customer_socket_status")?(reqParam={device_id:crossplat.device.uuid,id:e,data:{socket_enable_status:"false",update_for:"socket_enable_status"}},customerUpdate(reqParam).then((t=>{sessionStorage.setItem("customer_id",e),sessionStorage.setItem("customer_name",`${t.name.first} ${t.name.first}`),$("#customer_alert_actions").remove(),location.hash="customer/create"})).catch((t=>{"no updated data found"==t.msg&&(sessionStorage.setItem("customer_id",e),$("#customer_alert_actions").remove(),location.hash="customer/create")}))):($("#customer_alert_actions").remove(),Materialize.toast("Access Denied! You or other administrator is creating this customer at other place.",3e3,"round error-alert"),showAlert({alert_id:"alert-customer-device-change-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Access Denied! You or other administrator is creating this customer at other place. Would to like to cancel there and continue here?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-customer-device-change-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-customer-device-change-cancel-no"}]}]},(function(){removeLoader(),$("#alert-customer-device-change-confirm-cancel").attr("data-customer-id",e)})))})),$(document).on("click","#btn-customer-device-change-cancel-no",(function(){$("#alert-customer-device-change-confirm-cancel").remove()})),$(document).on("click","#btn-customer-device-change-confirm-yes",(function(){addLoader();var e=$("#alert-customer-device-change-confirm-cancel").attr("data-customer-id");customerDeviceChange({device_id:crossplat.device.uuid,customer_id:e}).then((t=>{sessionStorage.setItem("customer_id",e),$("#alert-customer-device-change-confirm-cancel").remove(),location.hash="customer/create"})).catch((e=>{removeLoader()}))})),$(document).on("click","#btn-customer-changed-device-ok",(function(){addLoader(),$("#alert-customer-changed-device-confirm").remove(),sessionStorage.removeItem("customer_id"),location.hash="customer_creation/active/list"})),$(document).on("click",".customer-forward-btn",(function(){console.log("efewgrg",location.href.split("#").pop()),addLoader();var e=$(this).attr("data-present-step");if(console.log("getPresentStep",e),"2"==e||2==e)if("collaborator/customer/create"==location.href.split("#").pop()){console.log("4455");var t=$("#customer_email").text().trim(),i=$("#customer_alternate_email").text().trim(),a=$("#customer_label_name").text().trim(),o=$("#customer_date_of_birth").val().trim(),s=$("#customer_wedding_anniversary").val().trim(),r=$("#customer_display_name").text().trim();if($("#add-customer-display-phone-number").val().length>0)var n=$("#add-customer-display-phone-number").intlTelInput("getNumber").replace(/\s/g,"");else;var d=$('.customer-creation-parts-container[data-step="2"]').find(".selected-value-customer-identifier").attr("data-id");collaboratorCustomerBusinessUpdate({device_id:crossplat.device.uuid,id:sessionStorage.getItem("collaborator_business_customers_id"),data:{identifier_id:d,email:t,alternate_email:i,label:firstLetterUpperCase(a),display_name:firstLetterUpperCase(r),display_phone_number:n,status:"active",date_of_birth:o,wedding_anniversary:s}}).then((e=>{removeLoader(),$(".customer-back-btn").attr("data-present-step","2"),$(".customer-forward-btn").attr("data-present-step","2"),$(".customer-create-stepper").removeClass("is-active"),$('.customer-create-stepper[data-stepper="4"]').addClass("is-active"),$('.customer-creation-parts-container[data-step="2"]').addClass("hide"),$('.customer-creation-parts-container[data-step="3"]').addClass("hide"),$('.customer-creation-parts-container[data-step="4"]').removeClass("hide"),$(".customer-back-btn").removeClass("hide")})).catch((e=>{"no updated data found"==e.msg&&(removeLoader(),$(".customer-back-btn").attr("data-present-step","3"),$(".customer-forward-btn").attr("data-present-step","3"),$(".customer-create-stepper").removeClass("is-active"),$('.customer-create-stepper[data-stepper="3"]').addClass("is-active"),$('.customer-creation-parts-container[data-step="2"]').addClass("hide"),$('.customer-creation-parts-container[data-step="3"]').removeClass("hide"),$(".customer-back-btn").removeClass("hide"))}))}else{t=$("#customer_email").text().trim(),i=$("#customer_alternate_email").text().trim(),a=$("#customer_label_name").text().trim(),o=$("#customer_date_of_birth").val().trim(),s=$("#customer_wedding_anniversary").val().trim(),r=$("#customer_display_name").text().trim();if($("#add-customer-display-phone-number").val().length>0)n=$("#add-customer-display-phone-number").intlTelInput("getNumber").replace(/\s/g,"");else;d=$('.customer-creation-parts-container[data-step="2"]').find(".selected-value-customer-identifier").attr("data-id");customerUpdate({device_id:crossplat.device.uuid,id:sessionStorage.getItem("customer_id"),data:{identifier_id:d,email:t,alternate_email:i,label:firstLetterUpperCase(a),display_name:firstLetterUpperCase(r),display_phone_number:n,status:"active",date_of_birth:o,wedding_anniversary:s}}).then((e=>{removeLoader(),$(".customer-back-btn").attr("data-present-step","3"),$(".customer-forward-btn").attr("data-present-step","3"),$(".customer-create-stepper").removeClass("is-active"),$('.customer-create-stepper[data-stepper="3"]').addClass("is-active"),$('.customer-creation-parts-container[data-step="2"]').addClass("hide"),$('.customer-creation-parts-container[data-step="3"]').removeClass("hide"),$(".customer-back-btn").removeClass("hide")})).catch((e=>{"no updated data found"==e.msg&&(removeLoader(),$(".customer-back-btn").attr("data-present-step","3"),$(".customer-forward-btn").attr("data-present-step","3"),$(".customer-create-stepper").removeClass("is-active"),$('.customer-create-stepper[data-stepper="3"]').addClass("is-active"),$('.customer-creation-parts-container[data-step="2"]').addClass("hide"),$('.customer-creation-parts-container[data-step="3"]').removeClass("hide"),$(".customer-back-btn").removeClass("hide"))}))}"3"!=e&&3!=e||($(".customer-back-btn").attr("data-present-step","4"),$(".customer-forward-btn").attr("data-present-step","4"),$(".customer-create-stepper").removeClass("is-active"),$('.customer-create-stepper[data-stepper="4"]').addClass("is-active"),$('.customer-creation-parts-container[data-step="3"]').addClass("hide"),$('.customer-creation-parts-container[data-step="4"]').removeClass("hide"),$(".customer-forward-btn").addClass("hide"),$(".customer-back-btn").removeClass("hide"),removeLoader())})),$(document).on("click",".customer-back-btn",(function(){addLoader();var e=$(this).attr("data-present-step");"3"!=e&&3!=e||($(".customer-forward-btn").attr("data-present-step","2"),$(this).attr("data-present-step","2"),$(".customer-create-stepper").removeClass("is-active"),$('.customer-create-stepper[data-stepper="2"]').addClass("is-active"),$('.customer-creation-parts-container[data-step="3"]').addClass("hide"),$('.customer-creation-parts-container[data-step="2"]').removeClass("hide"),$(".customer-forward-btn").removeClass("hide"),$(".customer-back-btn").addClass("hide"),removeLoader()),"4"!=e&&4!=e||($(".customer-forward-btn").attr("data-present-step","3"),$(".customer-back-btn").attr("data-present-step","3"),$(".customer-create-stepper").removeClass("is-active"),$('.customer-create-stepper[data-stepper="3"]').addClass("is-active"),$('.customer-creation-parts-container[data-step="4"]').addClass("hide"),$('.customer-creation-parts-container[data-step="3"]').removeClass("hide"),$(".customer-forward-btn").removeClass("hide"),removeLoader())})),$(document).on("click","#customer-identity-picture-load-btn",(function(){digibiz.isCustomerIdentityPictureSelected=!1,$(".multimedia_wrapper").find(".error_note").remove(),addLoader(),showAction({action_id:"customer-identity-picture-type-action-sheet",action_platform:crossplat.device.platform,action_title:"Select Type",action_btn:[{name:"Device",attr:[{name:"id",value:"customer-identity-picture-device-upload-type-btn"}]},{name:"Cloud",attr:[{name:"class",value:"digibiz-filemanager"}]},{name:"Camera",attr:[{name:"id",value:"customer-identity-picture-camera-upload-type-btn"}]}]},(function(){removeLoader()}))})),$(document).on("click","#customer-identity-picture-device-upload-type-btn",(function(){addLoader(),$("#customer-identity-picture-upload").val(""),$("#customer-identity-picture-upload").trigger("click"),$("#customer-identity-picture-type-action-sheet").remove(),showModal({modal_platform:crossplat.device.platform,modal_id:"customer-identity-picture-modal",modal_header:"",modal_body:' <div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"customer-identity-crop-button",name:"crop",attr:[{name:"data-id",value:""}]}]},(function(){removeLoader(),$(".modal-popup-content").length>0&&("browser"==crossplat.device.platform||crossplat.device.platform),$(".custom-modal-popup").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#customer-identity-picture-modal").attr("picture-type","customer_identity_picture")}))})),$(document).on("change","#customer-identity-picture-upload",(function(){var e=this.files;if(e.length>0){var t=e[0].name.split(".").pop();if(config.identityPictureFileFormat.includes(t.toLowerCase()))if(e[0].size>config.maxSizeAllowIdentityPicture)$("#customer-identity-picture-upload").parent().after('<span class="error_note">File size exceeding.Max allowed is 20MB</span>'),$("#customer-identity-picture-upload").val(""),$("#customer-identity-picture-upload").attr("src","");else{if(e[0])var i=e[0];var a=new FileReader;a.onload=function(e){var t=$("#image_cropper")[0];t.src=e.target.result,$("#customer-identity-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(t,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}})},a.readAsDataURL(i)}else $("#customer-identity-picture-upload").parent().after('<span class="error_note">Invalid file type</span>'),$("#customer-identity-picture-upload").val(""),$("#customer-identity-picture-upload").attr("src","")}})),$(document).on("click","#customer-identity-crop-button",(function(){addLoader(),digibiz.cropper.getCroppedCanvas().toBlob((e=>{var t=new FileReader;t.onloadend=function(i){saveCustomerIdentityPicture(t.result,e,(function(e,i){e?(removeLoader(),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert")):($("#customer_identity_picture").attr("src",t.result),$(".customer-identity-picture-multimedia-load-btn").remove(),$("#customer-identity-picture-delete").remove(),$(".customer-add-identity-picture-container").find(".mask").removeClass("hide"),$("#customer_identity_picture").siblings(".mask").append(`<a class="info customer-identity-picture-multimedia-load-btn cursor_pointer"><i class="material-icons" id="customer-identity-picture-load-btn" data-thumbnail-id="${i}">photo_camera</i></a>`),$("#customer_identity_picture").siblings(".mask").append(`<a class="info customer-identity-picture-delete-btn cursor_pointer"><i class="material-icons" id="customer-identity-picture-delete" data-thumbnail-id="${i}">delete</i></a>`),$("#customer-identity-picture-modal").remove(),removeLoader(),digibiz.cropper.destroy())}))},t.readAsDataURL(e)}))})),$(document).on("click","#customer-identity-picture-delete",(function(e){var t=$(this).attr("data-thumbnail-id");e.stopPropagation(),showAlert({alert_id:"alert-delete-customer-identity-pic-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Delete Identity picture",alert_body:"Do you want to delete the customer identity picture?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-delete-customer-identity-pic-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-delete-customer-identity-pic-confirm-no"}]}]},(function(){$("#alert-delete-customer-identity-pic-confirm-cancel").attr("delete-thumbnail-id",t)}))})),$(document).on("click","#btn-delete-customer-identity-pic-confirm-no",(function(){$("#alert-delete-customer-identity-pic-confirm-cancel").remove()})),$(document).on("click","#btn-delete-customer-identity-pic-confirm-yes",(function(){var e=$("#alert-delete-customer-identity-pic-confirm-cancel").attr("delete-thumbnail-id");$("#alert-delete-customer-identity-pic-confirm-cancel").remove();var t=sessionStorage.getItem("customer_id"),i={device_id:crossplat.device.uuid,identity_picture_id:e,customer_id:t};addLoader(),customerDeleteIdentityPicture(i).then((e=>{removeLoader(),$("#customer-identity-picture-upload").val(""),$("#customer_identity_picture").attr("src",""),$("#customer-identity-picture-delete").remove(),$("#customer-identity-picture-load-btn").attr("data-thumbnail-id","")})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))})),$(document).on("click","#customer-identity-picture-cloud-upload-type-btn",(function(){addLoader(),$("#customer-identity-picture-upload").val(""),$("#customer-identity-picture-type-action-sheet").remove(),$(".grid-view-container").removeClass("edit-mode"),$('input[name="fileselection[]"]').prop("checked",!1),$(".expand-search-input").removeAttr("socketid"),$(".expand-search-input").val(""),getFilemanagerAssets(null,"personal_workspace").then((e=>{digibiz.cloudAssets=e.Data.assets,showFilemanagerAssetsFilesList(digibiz.cloudAssets,(function(){removeLoader(),$(".filemanger_container_toggle").trigger("click"),$(".file-manager-footer").removeClass("hide"),$(".filemanager").find(".expand-search-input").addClass("filemanager-search")}))})).catch((e=>{Materialize.toast("No assets found",3e3,"rounded error-alert"),showFilemanagerAssetsFilesList(null,(function(){removeLoader()}))}))})),$(document).on("click","#customer-identity-picture-camera-upload-type-btn",(function(){if(addLoader(),$("#customer-identity-picture-upload").val(""),$("#customer-identity-picture-type-action-sheet").remove(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform)fetch.getHtml((function(e,t){showModal({modal_id:"camera-modal",modal_header:"Camera",modal_platform:crossplat.device.platform,modal_body:t},(function(){$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),$("#modal-close-btn").addClass("hide");navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){window.camerastream=e,$('.upload-preview-wrapper[data-for="camera_modal"]').hasClass("hide")&&$('.upload-preview-wrapper[data-for="camera_modal"]').removeClass("hide").addClass("slide-top"),$('.upload-preview-wrapper[data-for="camera_modal"]').find(".upload-preview-header span").text("Capture Photo"),$('.upload-preview-wrapper[data-for="camera_modal"]').find(".upload-preview-container").removeClass("hide"),$('.upload-preview-wrapper[data-for="camera_modal"]').find(".upload-preview-container-file-caption").addClass("hide"),$('.upload-preview-wrapper[data-for="camera_modal"]').find(".upload-preview-footer").addClass("hide"),$('.upload-preview-wrapper[data-for="camera_modal"]').find("#upload-permission-btn").addClass("hide"),$('.upload-preview-wrapper[data-for="camera_modal"]').find("#upload-preview-container-text-box").text(""),$('.upload-preview-wrapper[data-for="camera_modal"]').find("#upload-file-preview").html('<video id="capture-video" class="preview-file" autoplay></video><button id="camera-capture" class="btn-floating btn-large waves-effect waves-light blue cursor-pointer"><i class="material-icons">photo_camera</i></button>');var t=document.querySelector("#capture-video");t.srcObject=e,t.play()})),removeLoader()}))}),"page/common/camera","#camera-template",null);else{navigator.device.capture.captureImage((function(e){var t,i,a;for(addLoader(),t=0,a=e.length;t<a;t+=1){i=e[t].localURL,window.cameraMediaFile=i,window.camerastream&&window.camerastream.getTracks()[0].stop(),showModal({modal_platform:crossplat.device.platform,modal_id:"customer-identity-picture-modal",modal_header:"",modal_body:' <div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"customer-identity-crop-button",name:"crop",attr:[{name:"data-id",value:""}]}]},(function(){$(".custom-modal-popup").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#customer-identity-picture-modal").attr("picture-type","customer_identity_picture")})),setTimeout((function(){var e=["png","jpeg","jpg","PNG","JPEG","JPG"];window.resolveLocalFileSystemURL(window.cameraMediaFile,(function(t){t.file((function(t){var i=new FileReader;i.onloadend=function(i){var a=new FileReader;a.onloadend=function(t){var a=new Blob([t.target.result],{type:"image/jpeg"}),o=a.type.split("/")[1];if(e.includes(o.toLowerCase())){$(".image_container").remove();URL.createObjectURL(a);var s=document.getElementById("image_cropper");s.src=i.target.result,s.onload=function(e){$(".group_image_delete").hide(),window.camerastream&&window.camerastream.getTracks()[0].stop()},$("#customer-identity-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(s,{viewMode:0,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}}),removeLoader()}},a.readAsArrayBuffer(t)},i.readAsDataURL(t)}))}),(function(e){}))}),500)}}),(function(e){navigator.notification.alert("Error code: "+e.code,null,"Capture Error"),removeLoader()}),{quality:.5}),removeLoader()}})),$(document).on("click",".customer_identity_pic_preview",(function(){var e=$(this).attr("data-thumbnail-id");addLoader();var t={getAvatarUrl:`${api.get_customer_identity_picture}?id=${sessionStorage.getItem("customer_id")}&device_id=${crossplat.device.uuid}&image_id=${e}`};fetch.getHtml((function(e,t){showModal({modal_platform:crossplat.device.platform,modal_id:"identity-picture-preview-modal",modal_header:"",modal_body:t},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),removeLoader()}))}),"page/common/identity_picture_preview","#identity-picture-preview-template",t)})),$(document).on("click","#customer_associate_customer_assignment_btn",(function(){(addLoader(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform)?fetch.getHtml((function(e,t){showModal({modal_platform:crossplat.device.platform,modal_id:"add-associate-customer",modal_header:"Add Associate Customer",modal_body:t,modal_action_buttons:[{name:"Confirm",attr:[{name:"id",value:"notify-associate-customer-btn"}]}]},(function(){removeLoader(),mobileFlaginit(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top")}))}),"page/customer/associate_customer_notify_modal","#add-associate-customer-notify-template",null):showAction({action_id:"associate_customer_creation_by_selection_modal",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"By Notification",attr:[{name:"id",value:"associate_customer_by_notification"}]},{name:"By QR-code",attr:[{name:"id",value:"associate_customer_by_qr_code"}]}]},(function(){removeLoader(),$(".action-sheet-container").removeClass("hide").addClass("slide-top")}))})),$(document).on("click","#associate_customer_by_notification",(function(){addLoader(),fetch.getHtml((function(e,t){showModal({modal_platform:crossplat.device.platform,modal_id:"add-associate-customer",modal_header:"Add Associate Customer",modal_body:t,modal_action_buttons:[{name:"Notify",attr:[{name:"id",value:"notify-associate-customer-btn"}]}]},(function(){$("#associate_customer_creation_by_selection_modal").remove(),removeLoader(),mobileFlaginit(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top")}))}),"page/customer/associate_customer_notify_modal","#add-associate-customer-notify-template",null)})),$(document).on("click","#associate_customer_by_qr_code",(function(){addLoader(),$("#associate_customer_creation_by_selection_modal").remove(),location.hash="#associate_customer/scan_qr"})),$(document).on("click","#notify-associate-customer-btn",(function(e){if(addLoader(),e.stopImmediatePropagation(),!isDoubleClicked($(this)))if($("#add-associate-customer-mobile-number").val().length>0){var t=$("#add-associate-customer-mobile-number").intlTelInput("getNumber").replace(/\s/g,""),i={device_id:crossplat.device.uuid,data:{jeevi:["name","id","profile_display","user_name"]}};$("#add-associate-customer-mobile-number").intlTelInput("isValidNumber")?(i.type="mobile_number",i.value=t,getRolesForContactNumberAssociateCustomer(i,(function(){}))):(removeLoader(),Materialize.toast("Please enter valid number",3e3,"round success-alert"))}else removeLoader(),Materialize.toast("Please enter data",3e3,"round success-alert")})),$(document).on("click",".pending-associate-customer-wrapper",(function(){addLoader(),digibiz.associate_customer_notification_details_list=[];var e=$(this).attr("data-account-id"),t=$(this).attr("data-contact-uuid");notificationList({device_id:crossplat.device.uuid,list_by:"pending_associate_customer_logs",business_id:sessionStorage.getItem("business_id"),customer_id:sessionStorage.getItem("customer_id"),contact_user_id:e}).then((e=>{var i=e;showModal({modal_platform:crossplat.device.platform,modal_id:"associate-customers-pending-notification-details-modal",modal_header:"Notification Details",modal_body:'<div id="associate-customer-notification-details-container">\n        <span class="searchbtn waves-effect cursor-pointer" id="associate-customer-notification-details-list-search-btn"><i class="material-icons">search</i></span>\n        <div class="expand-search-wrap" id="associate_customer_notification_details_list_expand_search_wrap">\n            <input class="expand-search-input" id="associate_customer_notification_details_list_expand_search_input" type="search" placeholder="Search" autocomplete="off"/>\n            <span class="searchclosebtn" id="associate_customer_notification_details_list_searchclosebtn"><i class="material-icons associate-customer-notification-details-list-close-btn hide">close</i></span>\n        </div>\n        <div id="associate-customer-notification-details-list"></div>\n    </div>'},(function(){$("#associate-customers-pending-notification-details-modal").attr("contact-uuid",t),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),$(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content")):$(".custom-modal-popup").show().addClass("modal-slide-top"),processPendingAssociateCustomerNotificationDetailsList(i,(function(){removeLoader()}))}))})).catch((e=>{removeLoader()}))})),$(document).on("click","#delete-associate-customer-notification",(function(){addLoader();var e=$(this).parents(".associate-customer-notification-details-wrapper").attr("data-notification-id");notificationDelete({device_id:crossplat.device.uuid,notification_id:e}).then((t=>{removeLoader(),$(this).parents(".associate-customer-notification-details-list-contentbox").remove(),0==$(".associate-customer-notification-details-wrapper").length&&$(".associate-customer-notification-details-list").append('<div class="no_data">No data found</div>'),$(`.pending-associate-customer-wrapper[data-notification-id="${e}"]`).length>0&&$(`.pending-associate-customer-wrapper[data-notification-id="${e}"]`).remove(),Materialize.toast("Successfully deleted the notification.",3e3,"round success-alert")})).catch((e=>{removeLoader(),Materialize.toast("Error in deleting the notification.",3e3,"round success-alert")}))})),$(document).on("click","#show_action_customer_associate-customer_assignment",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){var t=$(this).parents(".customer-associate-customer-assignment-box").attr("data-id"),i=$(this).parents(".customer-associate-customer-assignment-box").attr("data-status");if("active"==i)showAction({action_id:"associate_customer_alert_actions",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"Edit",attr:[{name:"class",value:"associate_customer_edit"}]},{name:"Inactivate",attr:[{name:"class",value:"associate_customer_inactivate"}]},{name:"Delete",attr:[{name:"class",value:"associate_customer_delete"}]},{name:"Show Access",attr:[{name:"class",value:"associate_customer_show_access_list"}]}]},(function(){$(".action-sheet-container").removeClass("hide").addClass("slide-top"),$(".action-sheet-container").attr("associate_customer_id",t)}));else if("accepted"==i){showAction({action_id:"associate_customer_alert_actions",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"Complete Profile",attr:[{name:"class",value:"associate_customer_edit"}]}]},(function(){$(".action-sheet-container").removeClass("hide").addClass("slide-top"),$(".action-sheet-container").attr("associate_customer_id",t)}))}else if("inactive"==i){showAction({action_id:"associate_customer_alert_actions",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"Edit",attr:[{name:"class",value:"associate_customer_edit"}]},{name:"Activate",attr:[{name:"class",value:"associate_customer_activate"}]},{name:"Delete",attr:[{name:"class",value:"associate_customer_delete"}]},{name:"Show Access",attr:[{name:"class",value:"associate_customer_show_access_list"}]}]},(function(){$(".action-sheet-container").removeClass("hide").addClass("slide-top"),$(".action-sheet-container").attr("associate_customer_id",t)}))}else if("exited"==i){showAction({action_id:"associate_customer_alert_actions",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"Delete",attr:[{name:"class",value:"associate_customer_delete"}]}]},(function(){$(".action-sheet-container").removeClass("hide").addClass("slide-top"),$(".action-sheet-container").attr("associate_customer_id",t)}))}}})),$(document).on("click",".associate_customer_edit",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){addLoader();var t=$("#associate_customer_alert_actions").attr("associate_customer_id");$("#associate_customer_alert_actions").remove(),customerIdentifierList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"associate_customer_only"}).then((e=>{associateCustomerGet({device_id:crossplat.device.uuid,get_by:"id",id:t}).then((i=>{if(i.hasOwnProperty("identity_picture")&&i.identity_picture&&i.identity_picture.hasOwnProperty("thumbnail")&&i.identity_picture.thumbnail){var a=`${api.get_associate_customer_identity_picture}?id=${i.id}&device_id=${crossplat.device.uuid}&image_id=${i.identity_picture.thumbnail}`;i.identity_picture.avtarUrl=a}if(i.hasOwnProperty("identity_video")&&i.identity_video&&i.identity_video.hasOwnProperty("thumbnail")&&i.identity_video.thumbnail){a=`${api.get_associate_customer_identity_picture}?id=${i.id}&device_id=${crossplat.device.uuid}&image_id=${i.identity_video.thumbnail}`;i.identity_video.avtarUrl=a}var o={associateCustomerData:i,associateCustomerIdentifierList:e};fetch.getHtml((function(a,o){showModal({modal_platform:crossplat.device.platform,modal_id:"edit-associate-customer-modal",modal_header:"Edit Associate Customer",modal_body:o,modal_action_buttons:[{name:"Save",attr:[{name:"id",value:"save-associate-customer-btn"}]}]},(function(){if(removeLoader(),mobileFlaginit(),calenderInit("#associate_customer_date_of_birth"),calenderInit("#associate_customer_wedding_anniversary"),i.hasOwnProperty("identifier_id")&&i.identifier_id){var a=e.find((e=>e.id==i.identifier_id));$("#associate-customer-identifier-choose-select-dropdown").val(a.identifier)}$("#edit-associate-customer-modal").attr("data-associate-customer-id",t),$("#edit-associate-customer-modal").attr("data-associate-customer-name",`${i.name.first} ${i.name.last}`),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top")}))}),"page/customer/edit_associate_customer","#edit-associate-customer-template",o)})).catch((i=>{var a={associateCustomerIdentifierList:e};fetch.getHtml((function(e,i){showModal({modal_platform:crossplat.device.platform,modal_id:"edit-associate-customer-modal",modal_header:"Edit Associate Customer",modal_body:i,modal_action_buttons:[{name:"Save",attr:[{name:"id",value:"save-associate-customer-btn"}]}]},(function(){removeLoader(),mobileFlaginit(),calenderInit("#associate_customer_date_of_birth"),calenderInit("#associate_customer_wedding_anniversary"),$("#edit-associate-customer-modal").attr("data-associate-customer-id",t),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top")}))}),"page/customer/edit_associate_customer","#edit-associate-customer-template",a)}))})).catch((e=>{removeLoader(),Materialize.toast("No associate customer identifiers found.",3e3,"round error-alert")}))}})),$(document).on("click","#save-associate-customer-btn",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){addLoader();var t=$("#edit-associate-customer-modal").attr("data-associate-customer-id");if(validateAssociateCustomer()){var i=$("#associate_customer_email").text().trim(),a=$("#associate_customer_alternate_email").text().trim(),o=$("#associate_customer_display_name").text().trim(),s=$("#associate_customer_date_of_birth").val().trim(),r=$("#associate_customer_wedding_anniversary").val().trim();if($("#add-associate-customer-display-phone-number").val().length>0)var n=$("#add-associate-customer-display-phone-number").intlTelInput("getNumber").replace(/\s/g,"");else;$(".selected-value-associate-customer-identifier").attr("data-value");var d=$(".selected-value-associate-customer-identifier").attr("data-id");associateCustomerUpdate({device_id:crossplat.device.uuid,id:t,data:{identifier_id:d,email:i,alternate_email:a,display_name:firstLetterUpperCase(o),display_phone_number:n,status:"active",date_of_birth:s,wedding_anniversary:r}}).then((e=>{removeLoader(),$("#edit-associate-customer-modal").remove(),$(`.customer-associate-customer-assignment-box[data-id="${e.id}"]`).attr("data-status","active"),$(`.customer-associate-customer-assignment-box[data-id="${e.id}"]`).find(".customer-associate-customer-status").text("Status: active")})).catch((e=>{"no updated data found"==e.msg&&(removeLoader(),$("#edit-associate-customer-modal").remove())}))}else removeLoader()}})),$(document).on("click",".associate_customer_delete",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){addLoader();var t=$(this).parents("#associate_customer_alert_actions").attr("associate_customer_id");$("#associate_customer_alert_actions").remove(),fetch.getHtml((function(e,i){showAlert({alert_id:"alert-delete-associate-customer-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Delete Associate Customer",alert_body:i,alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-delete-associate-customer-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-delete-associate-customer-cancel-no"}]}]},(function(){removeLoader(),$("#alert-delete-associate-customer-confirm-cancel").attr("data-associate-customer-id",t)}))}),"layouts/alert_templates/delete_associate_customer","#delete-associate-customer-template",null)}})),$(document).on("click","#btn-delete-associate-customer-cancel-no",(function(){$("#alert-delete-associate-customer-confirm-cancel").remove()})),$(document).on("click","#btn-delete-associate-customer-confirm-yes",(function(){addLoader();var e=$("#alert-delete-associate-customer-confirm-cancel").attr("data-associate-customer-id"),t=$(".delete-associate-customer-folder-delete-yes-radio-button").is(":checked");$("#alert-delete-associate-customer-confirm-cancel").remove(),associateCustomerDelete({device_id:crossplat.device.uuid,id:e,folder_delete:t,status:"deleted"}).then((t=>{Materialize.toast("Successfully deleted",3e3,"round error-alert"),$(`.customer-associate-customer-assignment-box[data-id="${e}"]`).remove(),removeLoader()})).catch((e=>{removeLoader()}))})),$(document).on("click","#associate-customer-identity-picture-load-btn",(function(){digibiz.isAssociateCustomerIdentityPictureSelected=!1,addLoader(),showAction({action_id:"associate-customer-identity-picture-type-action-sheet",action_platform:crossplat.device.platform,action_title:"Select Type",action_btn:[{name:"Device",attr:[{name:"id",value:"associate-customer-identity-picture-device-upload-type-btn"}]},{name:"Cloud",attr:[{name:"class",value:"digibiz-filemanager"}]},{name:"Camera",attr:[{name:"id",value:"associate-customer-identity-picture-camera-upload-type-btn"}]}]},(function(){$(".associate-customer-add-identity-picture-container").find(".error_note").remove(),removeLoader()}))})),$(document).on("click","#associate-customer-identity-picture-device-upload-type-btn",(function(){addLoader(),$("#associate-customer-identity-picture-upload").val(""),$("#associate-customer-identity-picture-upload").trigger("click"),$("#associate-customer-identity-picture-type-action-sheet").remove(),showModal({modal_platform:crossplat.device.platform,modal_id:"associate-customer-identity-picture-modal",modal_header:"",modal_body:'<div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"associate-customer-identity-crop-button",name:"crop",attr:[{name:"data-id",value:""}]}]},(function(){removeLoader(),$(".modal-popup-content").length,$("#associate-customer-identity-picture-modal").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#associate-customer-identity-picture-modal").attr("picture-type","associate_customer_identity_picture")}))})),$(document).on("change","#associate-customer-identity-picture-upload",(function(){var e=this.files;if(e.length>0){var t=e[0].name.split(".").pop();if(config.identityPictureFileFormat.includes(t.toLowerCase()))if(e[0].size>config.maxSizeAllowIdentityPicture)0==$(".associate-customer-add-identity-picture-container").find(".error_note").length&&$("#associate-customer-identity-picture-upload").parent().after('<span class="error_note">File size exceeding.Max allowed is 20MB</span>'),$("#associate-customer-identity-picture-upload").val("");else{if(e[0])var i=e[0];var a=new FileReader;a.onload=function(e){var t=$("#image_cropper")[0];t.src=e.target.result,$("#associate-customer-identity-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(t,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}})},a.readAsDataURL(i)}else 0==$(".associate-customer-add-identity-picture-container").find(".error_note").length&&$("#associate-customer-identity-picture-upload").parent().after('<span class="error_note">Invalid file type</span>'),$("#associate-customer-identity-picture-upload").val("")}})),$(document).on("click","#associate-customer-identity-crop-button",(function(){addLoader();$("#edit-associate-customer-modal").attr("data-associate-customer-id");digibiz.cropper.getCroppedCanvas().toBlob((e=>{var t=new FileReader;t.onloadend=function(i){saveAssociateCustomerIdentityPicture(t.result,e,(function(e,i){e?(removeLoader(),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert")):($("#associate_customer_identity_picture").attr("src",t.result),$(".associate-customer-identity-picture-multimedia-load-btn").remove(),$("#associate_customer-identity-picture-delete").parent(".cursor_pointer").remove(),$(".associate-customer-add-identity-picture-container").find(".mask").removeClass("hide"),$("#associate_customer_identity_picture").siblings(".mask").append(`<a class="info associate-customer-identity-picture-multimedia-load-btn cursor_pointer"><i class="material-icons" id="associate-customer-identity-picture-load-btn" data-thumbnail-id="${i}">photo_camera</i></a>`),$("#associate_customer_identity_picture").siblings(".mask").append(`<a class="info associate-customer-identity-picture-delete-btn cursor_pointer"><i class="material-icons" id="associate_customer-identity-picture-delete" data-thumbnail-id="${i}">delete</i></a>`),$("#associate-customer-identity-picture-modal").remove(),removeLoader(),digibiz.cropper.destroy())}))},t.readAsDataURL(e)}))})),$(document).on("click","#associate_customer-identity-picture-delete",(function(e){var t=$(this).attr("data-thumbnail-id");e.stopPropagation(),showAlert({alert_id:"alert-delete-associate-customer-identity-pic-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Delete Identity picture",alert_body:"Do you want to delete the associate customer identity picture?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-delete-associate-customer-identity-pic-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-delete-associate-customer-identity-pic-confirm-no"}]}]},(function(){$("#alert-delete-associate-customer-identity-pic-confirm-cancel").attr("delete-thumbnail-id",t)}))})),$(document).on("click","#btn-delete-associate-customer-identity-pic-confirm-no",(function(){$("#alert-delete-associate-customer-identity-pic-confirm-cancel").remove()})),$(document).on("click","#btn-delete-associate-customer-identity-pic-confirm-yes",(function(){var e=$("#alert-delete-associate-customer-identity-pic-confirm-cancel").attr("delete-thumbnail-id");$("#alert-delete-associate-customer-identity-pic-confirm-cancel").remove();var t=$("#edit-associate-customer-modal").attr("data-associate-customer-id"),i={device_id:crossplat.device.uuid,identity_picture_id:e,associate_customer_id:t};addLoader(),associateCustomerDeleteIdentityPicture(i).then((e=>{removeLoader(),$("#associate-customer-identity-picture-upload").val(""),$("#associate_customer_identity_picture").attr("src",""),$("#associate_customer-identity-picture-delete").remove(),$("#associate-customer-identity-picture-load-btn").attr("data-thumbnail-id","")})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))})),$(document).on("click","#associate-customer-identity-picture-cloud-upload-type-btn",(function(){addLoader(),$("#associate-customer-identity-picture-upload").val(""),$("#associate-customer-identity-picture-type-action-sheet").remove(),$(".grid-view-container").removeClass("edit-mode"),$('input[name="fileselection[]"]').prop("checked",!1),$(".expand-search-input").removeAttr("socketid"),$(".expand-search-input").val(""),getFilemanagerAssets(null,"personal_workspace").then((e=>{digibiz.cloudAssets=e.Data.assets,showFilemanagerAssetsFilesList(digibiz.cloudAssets,(function(){removeLoader(),$(".filemanger_container_toggle").trigger("click"),$(".file-manager-footer").removeClass("hide"),$(".filemanager").find(".expand-search-input").addClass("filemanager-search")}))})).catch((e=>{Materialize.toast("No assets found",3e3,"rounded error-alert"),showFilemanagerAssetsFilesList(null,(function(){removeLoader()}))}))})),$(document).on("click","#associate-customer-identity-picture-camera-upload-type-btn",(function(){if(addLoader(),$("#associate-customer-identity-picture-upload").val(""),$("#associate-customer-identity-picture-type-action-sheet").remove(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform)fetch.getHtml((function(e,t){showModal({modal_id:"camera-modal",modal_header:"Camera",modal_platform:crossplat.device.platform,modal_body:t},(function(){$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),$("#camera-modal").find("#modal-close-btn").addClass("hide");navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){window.camerastream=e,$('.upload-preview-wrapper[data-for="camera_modal"]').hasClass("hide")&&$('.upload-preview-wrapper[data-for="camera_modal"]').removeClass("hide").addClass("slide-top"),$('.upload-preview-wrapper[data-for="camera_modal"]').find(".upload-preview-header span").text("Capture Photo"),$('.upload-preview-wrapper[data-for="camera_modal"]').find(".upload-preview-container").removeClass("hide"),$('.upload-preview-wrapper[data-for="camera_modal"]').find(".upload-preview-container-file-caption").addClass("hide"),$('.upload-preview-wrapper[data-for="camera_modal"]').find(".upload-preview-footer").addClass("hide"),$('.upload-preview-wrapper[data-for="camera_modal"]').find("#upload-permission-btn").addClass("hide"),$('.upload-preview-wrapper[data-for="camera_modal"]').find("#upload-preview-container-text-box").text(""),$('.upload-preview-wrapper[data-for="camera_modal"]').find("#upload-file-preview").html('<video id="capture-video" class="preview-file" autoplay></video><button id="camera-capture" class="btn-floating btn-large waves-effect waves-light blue cursor-pointer"><i class="material-icons">photo_camera</i></button>');var t=document.querySelector("#capture-video");t.srcObject=e,t.play()})),removeLoader()}))}),"page/common/camera","#camera-template",null);else{navigator.device.capture.captureImage((function(e){var t,i,a;for(addLoader(),t=0,a=e.length;t<a;t+=1){i=e[t].localURL,window.cameraMediaFile=i,window.camerastream&&window.camerastream.getTracks()[0].stop(),showModal({modal_platform:crossplat.device.platform,modal_id:"associate-customer-identity-picture-modal",modal_header:"",modal_body:'<div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"associate-customer-identity-crop-button",name:"crop",attr:[{name:"data-id",value:""}]}]},(function(){$("#associate-customer-identity-picture-modal").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#associate-customer-identity-picture-modal").attr("picture-type","associate_customer_identity_picture")})),setTimeout((function(){var e=["png","jpeg","jpg","PNG","JPEG","JPG"];window.resolveLocalFileSystemURL(window.cameraMediaFile,(function(t){t.file((function(t){var i=new FileReader;i.onloadend=function(i){var a=new FileReader;a.onloadend=function(t){var a=new Blob([t.target.result],{type:"image/jpeg"}),o=a.type.split("/")[1];if(e.includes(o.toLowerCase())){$(".image_container").remove();URL.createObjectURL(a);var s=document.getElementById("image_cropper");s.src=i.target.result,s.onload=function(e){$(".group_image_delete").hide(),window.camerastream&&window.camerastream.getTracks()[0].stop()},$("#associate-customer-identity-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(s,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}}),removeLoader()}},a.readAsArrayBuffer(t)},i.readAsDataURL(t)}))}),(function(e){}))}),500)}}),(function(e){navigator.notification.alert("Error code: "+e.code,null,"Capture Error"),removeLoader()}),{quality:.5}),removeLoader()}})),$(document).on("click",".associate_customer_identity_pic_preview",(function(){var e=$(this).attr("data-thumbnail-id"),t=$(this).parents("#edit-associate-customer-modal").attr("data-associate-customer-id");addLoader();var i={getAvatarUrl:`${api.get_associate_customer_identity_picture}?id=${t}&device_id=${crossplat.device.uuid}&image_id=${e}`};fetch.getHtml((function(e,t){showModal({modal_platform:crossplat.device.platform,modal_id:"identity-picture-preview-modal",modal_header:"",modal_body:t},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),removeLoader()}))}),"page/common/identity_picture_preview","#identity-picture-preview-template",i)})),$(document).on("click",".customer-groups",(function(){addLoader(),location.hash="customer/groups/identifiers/list"})),$(document).on("click",".customer-contact-list",(function(){addLoader(),location.hash="customer/contacts/identifiers/list"})),$(document).on("click",".customer-contacts-identifier-wrapper",(function(){addLoader();var e=$(this).attr("data-id");sessionStorage.setItem("identifier_id",e),location.hash="customer/contacts_items/list"})),$(document).on("click",".custom-customer-group-identifier-tab",(function(){addLoader(),sessionStorage.setItem("selected-customer-group-type-tab","custom"),$(".tab-content").removeClass("active"),$(`.tab-content[id="${sessionStorage.getItem("selected-customer-group-type-tab")}"`).addClass("active"),$(".tab").removeClass("active"),$(`.tab[data-id="${sessionStorage.getItem("selected-customer-group-type-tab")}"]`).addClass("active"),digibiz.custom_groups_list=[],customCustomerGroupsListPage()})),$(document).on("click",".standard-customer-group-identifier-tab",(function(){addLoader(),sessionStorage.setItem("selected-customer-group-type-tab","standard"),$(".tab-content").removeClass("active"),$(`.tab-content[id="${sessionStorage.getItem("selected-customer-group-type-tab")}"`).addClass("active"),$(".tab").removeClass("active"),$(`.tab[data-id="${sessionStorage.getItem("selected-customer-group-type-tab")}"]`).addClass("active"),standardCustomerGroupsIdentifierListPage()})),$(document).on("click",".customer-groups-identifier-wrapper",(function(){addLoader();var e=$(this).attr("data-id");sessionStorage.setItem("identifier_id",e),location.hash="customer/groups/list"})),$(document).on("click",".view-customer-group",(function(){addLoader();var e=$(this).parents(".customer-group-wrapper").attr("data-id"),t=$(this).parents(".customer-group-wrapper").attr("data-type"),i=$(this).parents(".customer-group-wrapper").attr("data-socket_enable_status");if("custom"==t){var a=$(this).parents(".customer-group-wrapper").attr("data-group-from");sessionStorage.setItem("group_from",a)}"true"==i?employeeGroupUpdate({device_id:crossplat.device.uuid,id:e,data:{socket_enable_status:"false",update_for:"socket_enable_status"}}).then((i=>{sessionStorage.removeItem("group_id"),sessionStorage.setItem("group_type",t),sessionStorage.setItem("group_id",e),location.hash="customer/group_details"})).catch((e=>{console.log("err",e)})):(Materialize.toast("Access Denied! You or other administrator is updating this group at other place.",3e3,"round error-alert"),showAlert({alert_id:"alert-group-device-change-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Access Denied! You or other administrator is updating this group at other place. Would to like to cancel there and continue here?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-group-device-change-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-group-device-change-cancel-no"}]}]},(function(){removeLoader(),$("#alert-group-device-change-confirm-cancel").attr("data-group-id",e),$("#alert-group-device-change-confirm-cancel").attr("data-group-type",t)})))})),$(document).on("click",".customer-contacts-item-wrapper",(function(){addLoader();var e=$(this).attr("data-id");sessionStorage.setItem("item_id",e),location.hash="customer/contact/list"})),$(document).on("click","#customer_group_cancel_button",(function(){addLoader(),sessionStorage.getItem("group_id")?(reqParam={device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id"),data:{socket_enable_status:"true",update_for:"socket_enable_status"}},employeeGroupUpdate(reqParam).then((e=>{sessionStorage.removeItem("group_id"),sessionStorage.removeItem("group_from"),sessionStorage.removeItem("group_type"),sessionStorage.getItem("identifier_id")?location.hash="customer/groups/list":location.hash="customer/groups/identifiers/list"})).catch((e=>{console.log("err",e)}))):(sessionStorage.removeItem("group_id"),sessionStorage.removeItem("group_from"),sessionStorage.removeItem("group_type"),sessionStorage.getItem("identifier_id")?location.hash="customer/groups/list":location.hash="customer/groups/identifiers/list"),appScroll.scrollBar("#main-container").destroy()})),$(document).on("click","#customer_group_add_button",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){addLoader();var t=$("#customerGroupName").val(),i=$("#customer_group_desc").val(),a=$(".selected-value-group-visbility").attr("data-value");if(validateCustomerGroup())if(sessionStorage.getItem("group_id"))employeeGroupUpdate({device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id"),data:{name:firstLetterUpperCase(t),description:firstLetterUpperCase(i),visibility:a}}).then((e=>{sessionStorage.removeItem("group_from"),sessionStorage.removeItem("group_id"),sessionStorage.getItem("identifier_id")?location.hash="customer/groups/list":location.hash="customer/groups/identifiers/list"})).catch((e=>{"no updated data found"==e.msg?(sessionStorage.removeItem("group_from"),sessionStorage.removeItem("group_id"),sessionStorage.getItem("identifier_id")?location.hash="customer/groups/list":location.hash="customer/groups/identifiers/list"):removeLoader()}));else if("contact_list"==sessionStorage.getItem("group_from")){let e=[];$.each($("input[name='selectedmembers[]']:checked"),(function(){e.push({id:$(this).val(),type:$(this).attr("data-type")})}));var o=removeDuplicates(e,"id");saveGroupPictureFirstTime((function(e,s){if(e)removeLoader(),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert");else{groupAdd({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),group_for:"customer",custom_group_from:sessionStorage.getItem("group_from"),group_type:"custom",visibility:a,name:firstLetterUpperCase(t),description:firstLetterUpperCase(i),thumbnail_content:s,size:digibiz.groupPictureblob.size}).then((e=>{groupMemberAdd({device_id:crossplat.device.uuid,group_id:e.id,members:o}).then((e=>{digibiz.groupPictureblob={},sessionStorage.removeItem("group_from"),sessionStorage.removeItem("group_id"),sessionStorage.removeItem("group_type")})).catch((e=>{removeLoader(),Materialize.toast("Error in group members adding",3e3,"round success-alert")})),location.hash="customer/groups/identifiers/list"})).catch((e=>{removeLoader(),Materialize.toast("Error in group creation",3e3,"round success-alert")}))}}))}else{let e=[];$.each($("input[name='selectedmembers[]']:checked"),(function(){e.push($(this).val())}));o=uniqueArray(e);saveGroupPictureFirstTime((function(e,s){if(e)removeLoader(),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert");else{groupAdd({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),group_for:"customer",custom_group_from:sessionStorage.getItem("group_from"),group_type:sessionStorage.getItem("group_type"),visibility:a,name:firstLetterUpperCase(t),description:firstLetterUpperCase(i),thumbnail_content:s,size:digibiz.groupPictureblob.size,customer_data:o}).then((e=>{digibiz.groupPictureblob={},sessionStorage.removeItem("group_from"),sessionStorage.removeItem("group_id"),sessionStorage.removeItem("group_type")})).catch((e=>{removeLoader(),Materialize.toast("Error in group creation",3e3,"round success-alert")})),location.hash="customer/groups/identifiers/list"}}))}else removeLoader()}})),$(document).on("click","#customer_custom_group_add_button",(function(){addLoader(),sessionStorage.setItem("group_type","custom"),location.hash="customer/group_details"})),$(document).on("click","#add_customer_group_customer_btn",(function(){(digibiz.customerSelectedContactList=[],void 0===sessionStorage.getItem("group_id")||null===sessionStorage.getItem("group_id")||""==sessionStorage.getItem("group_id"))?showAction({action_id:"customer_group_creation_add_members_type",action_platform:crossplat.device.platform,action_title:"Add by",action_btn:[{name:"Contact List",attr:[{name:"id",value:"customer_group_creation_add_members_by_contact_list"}]},{name:"Group List",attr:[{name:"id",value:"customer_group_creation_add_members_by_group_list"}]}]},(function(){"contact_list"==sessionStorage.getItem("group_from")?($("#customer_group_creation_add_members_type").addClass("hide"),$("#customer_group_creation_add_members_by_contact_list").trigger("click"),removeLoader()):"group_list"==sessionStorage.getItem("group_from")?($("#customer_group_creation_add_members_type").addClass("hide"),$("#customer_group_creation_add_members_by_group_list").trigger("click"),removeLoader()):removeLoader()})):showAction({action_id:"customer_group_creation_add_members_type",action_platform:crossplat.device.platform,action_title:"Add by",action_btn:[{name:"Contact List",attr:[{name:"id",value:"customer_group_creation_add_members_by_contact_list"}]},{name:"Group List",attr:[{name:"id",value:"customer_group_creation_add_members_by_group_list"}]}]},(function(){$("#customer_group_creation_add_members_type").addClass("hide"),"contact_list"==sessionStorage.getItem("group_from")?$("#customer_group_creation_add_members_by_contact_list").trigger("click"):"group_list"==sessionStorage.getItem("group_from")&&$("#customer_group_creation_add_members_by_group_list").trigger("click"),removeLoader()}))})),$(document).on("click","#customer_group_creation_add_members_by_contact_list",(function(){addLoader(),sessionStorage.setItem("group_from","contact_list"),$("#customer_group_creation_add_members_type").remove(),getCustomerGroupContactList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),count:20,offset:0}).then((e=>{removeLoader(),showModal({modal_platform:crossplat.device.platform,modal_id:"modal-customer-group-contact-list-selection",modal_header:"Contact List",modal_body:'<div id="customer-group-contacts-items-list-main-container">\n                                    <div class="search">                                                                            \n                                        <div class="expand-search-wrap search-wrapper" id="customer-group-contacts-items-list-search-btn">\n                                            <span class="searchbtn waves-effect cursor-pointer"><i class="material-icons">search</i></span>\n                                            <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                                            <span class="searchclosebtn"><i class="material-icons customer-group-contacts-items-list-close-btn hide">close</i></span>\n                                        </div>\n                                    </div>\n                                    <div id="customer-group-contacts-items-list-wrapper"></div>\n                                </div>',modal_action_buttons:[{name:"Add",id:"add-selected-customers-group"}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),processCustomerGroupContactsList(e,(function(){setTimeout((function(){listenForCustomerGroupContactsListScrollEvent($(".modal-popup-content"));var t=$("#modal-customer-group-contact-list-selection").find(".expand-search-input");t&&($(document).on("input",t,(function(){timestamp=(new Date).getTime(),t.attr("socketid",timestamp)})),$(document).on("keyup",t,(function(){if(socketid=t.attr("socketid"),keyword=t.val(),socketid&&keyword){if(document.getElementsByClassName("searchclosebtn")[0].style.display="flex",currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:socketid,app:"digibiz",keyword:keyword},"customer_groups_details"===currentroute)"custom"==sessionStorage.getItem("selected-customer-group-type-tab")&&$("#modal-customer-group-contact-list-selection").length>0&&(data.index="getCustomerGroupContactListMemberSelection",data.business_id=sessionStorage.getItem("business_id"));addLoader(),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300)}else if(removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),t.attr("socketid",""),"customer_groups_details"===currentroute)"custom"==sessionStorage.getItem("selected-customer-group-type-tab")&&$("#modal-customer-group-contact-list-selection").length>0&&processCustomerGroupContactsList(e,(function(){}))})),$(document).on("click",".searchclosebtn",(function(){"custom"==sessionStorage.getItem("selected-customer-group-type-tab")&&$("#modal-customer-group-contact-list-selection").length>0&&processCustomerGroupContactsList(e,(function(){}))})))}),0)}))}))})).catch((e=>{removeLoader()}))})),$(document).on("click","#add-selected-customers-group",(function(){(addLoader(),$(".customer-group-contact-select-btn-checkbox-click-wrapper.selected-row").length>0)?sessionStorage.getItem("group_id")?showAlert({alert_id:"alert-customer-group-member-add-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Already added or existing members\n                    won't be added again.Only new members will be added",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-customer-group-member-add-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-customer-group-member-add-confirm-no"}]}]},(function(){removeLoader()})):($(".search-member-button").removeClass("hide"),$.each($(".customer-group-contact-select-btn-checkbox-click-wrapper.selected-row"),(function(e,t){var i=$(t).find(".customer-group-contact-select-btn").attr("data-id"),a=$(t).find(".customer-contact-name span").text(),o=$(t).find(".customer-contact-name span").text().charAt(0),s=$(t).find(".customer-group-contact-select-btn").attr("data-type"),r=$(t).find(".customer-group-contact-select-btn").attr("data-role-id"),n=$(t).find(".customer-group-contact-select-btn").attr("data-role-type"),d=$(t).find(".customer-group-contact-select-btn").attr("data-role-business-id"),c=$(t).find(".customer-contact-role-business-name span").text(),l=$(t).parent(".accordion-content").parents(".accordion-content").siblings(".accordion-title").find(".customer-contacts-identifier-name").text(),p=$(t).find(".customer-group-contact-select-btn").attr("data-label");if("associate_customer"==s){var m=$(t).find(".customer-group-contact-select-btn").attr("data-parent-customer-id"),u=$(t).find(".associate-customer-info span").text();if(null!=i){var g={id:i,name:a,imageLetter:o,customer_type:s,role_id:r,role_type:n,role_business_id:d,role_business_name:c,main_identifier:l,parent_customer_id:m,associate_customter_info:u,type:"associate_customer",selected:!0,label:p};if(-1==digibiz.selectedMembers.findIndex((e=>e.id==i)))if(digibiz.selectedMembers.push(g),"employee"==n){var _=`<div class="tooltipped customer-group-member-wrapper" data-id="${i}" data-parent-customer-id="${m}">\n                                                    <div class="file-select">\n                                                        <input type="checkbox" name="selectedmembers[]" class="contactlists filled-in" value="${i}" data-type="${s}" id="selected-${i}" checked="" data-role-id="${r}" data-role-type="${n}" data-role-business-id="${d}" data-label="${p}">\n                                                        <i class="material-icons">done</i>\n                                                        <div class="profile-text group-profile-text text-small-size">\n                                                            <span>${o}</span> \n                                                        </div>\n                                                    </div>\n                                                    <div class="filemanager-file-wrapper">\n                                                        <div>\n                                                            <span class="truncate selected-member-name" for="selected-${i}">${a}</span>\n                                                            <span class="truncate selected-member-role-business-name wrapper-secondary-heading" for="selected-${i}">${c}</span>\n                                                            <span class="truncate selected-member-info wrapper-secondary-heading" for="selected-${i}">${u}-${l}</span>\n                                                        </div>\n                                                    </div>\n                                                </div>`;$("#customer-group-members-list").append(_),$("#modal-customer-group-contact-list-selection").remove()}else{_=`<div class="tooltipped customer-group-member-wrapper" data-id="${i}" data-parent-customer-id="${m}">\n                                                    <div class="file-select">\n                                                        <input type="checkbox" name="selectedmembers[]" class="contactlists filled-in" value="${i}" data-type="${s}" id="selected-${i}" checked="" data-role-id="${r}" data-role-type="${n}" data-role-business-id="${d}" data-label="${p}">\n                                                        <i class="material-icons">done</i>\n                                                        <div class="profile-text group-profile-text text-small-size">\n                                                            <span>${o}</span> \n                                                        </div>\n                                                    </div>\n                                                    <div class="filemanager-file-wrapper">\n                                                        <div>\n                                                            <span class="truncate selected-member-name" for="selected-${i}">${a}</span>\n                                                            <span class="truncate selected-member-info wrapper-secondary-heading">${u}-${l}</span>\n                                                        </div>\n                                                    </div>\n                                                </div>`;$("#customer-group-members-list").append(_)}$("#modal-customer-group-contact-list-selection").remove()}else removeLoader()}else if(null!=i){g={id:i,name:a,imageLetter:o,customer_type:s,role_id:r,role_type:n,role_business_id:d,role_business_name:c,main_identifier:l,label:p,type:"customer",selected:!0};if(-1==digibiz.selectedMembers.findIndex((e=>e.id==i))){if(digibiz.selectedMembers.push(g),"employee"==n){_=`<div class="tooltipped customer-group-member-wrapper" data-id="${i}">\n                                                    <div class="file-select">\n                                                        <input type="checkbox" name="selectedmembers[]" class="contactlists filled-in" value="${i}" data-type="${s}" id="selected-${i}" checked="" data-role-id="${r}" data-role-type="${n}" data-role-business-id="${d}" data-label="${p}">\n                                                        <i class="material-icons">done</i>\n                                                        <div class="profile-text group-profile-text text-small-size">\n                                                            <span>${o}</span> \n                                                        </div>\n                                                    </div>\n                                                    <div class="filemanager-file-wrapper">\n                                                        <div>\n                                                        <span class="truncate selected-member-name" for="selected-${i}">${a}</span>\n                                                        <span class="truncate selected-member-role-business-name wrapper-secondary-heading" for="selected-${i}">${c}</span>\n                                                        <span class="truncate selected-member-info wrapper-secondary-heading" for="selected-${i}">${l}-${p}</span>\n                                                        </div>\n                                                    </div>\n                                                </div>`;$("#customer-group-members-list").append(_),$("#modal-customer-group-contact-list-selection").remove()}else{_=`<div class="tooltipped customer-group-member-wrapper" data-id="${i}">\n                                                    <div class="file-select">\n                                                        <input type="checkbox" name="selectedmembers[]" class="contactlists filled-in" value="${i}" data-type="${s}" id="selected-${i}" checked="" data-role-id="${r}" data-role-type="${n}" data-role-business-id="${d}" data-label="${p}">\n                                                        <i class="material-icons">done</i>\n                                                        <div class="profile-text group-profile-text text-small-size">\n                                                            <span>${o}</span> \n                                                        </div>\n                                                    </div>\n                                                    <div class="filemanager-file-wrapper">\n                                                        <div>\n                                                        <span class="truncate selected-member-name" for="selected-${i}">${a}</span>\n                                                        <span class="truncate selected-member-info wrapper-secondary-heading" for="selected-${i}">${l}-${p}</span>\n                                                        </div>\n                                                    </div>\n                                                </div>`;$("#customer-group-members-list").append(_)}$("#modal-customer-group-contact-list-selection").remove()}}else removeLoader()})),removeLoader()):(removeLoader(),Materialize.toast("Please select alteast 1 contact",3e3,"round error-alert"))})),$(document).on("click","#btn-customer-group-member-add-confirm-yes",(function(){addLoader();let e=[];$.each($(".customer-group-contact-select-btn-checkbox-click-wrapper.selected-row"),(function(t,i){e.push({id:$(i).find(".customer-group-contact-select-btn").attr("data-id"),type:$(i).find(".customer-group-contact-select-btn").attr("data-type")})}));var t=removeDuplicates(e,"id");groupMemberAdd({device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id"),members:t}).then((e=>{removeLoader(),Materialize.toast("Members Added Successfully",3e3,"round success-alert"),$("#alert-customer-group-member-add-confirm-cancel").remove(),getCustomerGroupsDetailPage(),$("#modal-customer-group-contact-list-selection").remove()})).catch((e=>{removeLoader(),Materialize.toast("Error in group members adding",3e3,"round success-alert")}))})),$(document).on("click","#btn-customer-group-member-add-confirm-no",(function(){$("#alert-customer-group-member-add-confirm-cancel").remove()})),$(document).on("click","#delete_custom_customer_group_member",(function(){addLoader();var e=$(this).attr("data-member-id");showAlert({alert_id:"alert-delete-custom-customer-group-member-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Delete Member",alert_body:"Are you sure you want to delete the member?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-delete-custom-customer-group-member-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-delete-custom-customer-group-member-cancel-no"}]}]},(function(){removeLoader(),$("#alert-delete-custom-customer-group-member-confirm-cancel").attr("data-member-id",e)}))})),$(document).on("click","#btn-delete-custom-customer-group-member-cancel-no",(function(){$("#alert-delete-custom-customer-group-member-confirm-cancel").remove()})),$(document).on("click","#btn-delete-custom-customer-group-member-confirm-yes",(function(){addLoader();var e=$("#alert-delete-custom-customer-group-member-confirm-cancel").attr("data-member-id");$("#alert-delete-custom-customer-group-member-confirm-cancel").remove();var t={device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id"),id:e};checkGroupMemberDelete(t).then((i=>{groupMemberDelete(t).then((t=>{$(`.custom-customer-group-member-wrapper[data-member-id="${e}"]`).remove(),removeLoader(),Materialize.toast("Successfully removed member",3e3,"round success-alert")})).catch((e=>{removeLoader(),Materialize.toast("Error in member removing",3e3,"round success-alert")}))})).catch((t=>{if("Minimum 2 members are required"==t.msg)showAlert({alert_id:"alert-group-member-delete-error-members-yes-no",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Minimum 2 members should be present in the group. Group will get deleted if the selected member is removed. Are you sure you want to remove the member?",alert_btn:[{name:"Delete Group",attr:[{name:"id",value:"btn-alert-group-member-delete-error-members-delete-group-confirm"}]},{name:"Cancel",attr:[{name:"id",value:"btn-alert-group-member-delete-error-members-cancel-confirm"}]}]},(function(){$("#alert-group-member-delete-error-members-yes-no").attr("data-member-id",e),removeLoader()}));else if("Minimum 1 moderator is required"==t.msg){showAlert({alert_id:"alert-group-member-delete-error-moderator-ok",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Minimum 1 moderator is required. Please add moderator to delete the selected member.",alert_btn:[{name:"Ok",attr:[{name:"id",value:"btn-alert-group-member-delete-error-moderator-ok"}]}]},(function(){removeLoader()}))}else removeLoader()}))})),$(document).on("click","#customer_group_creation_add_members_by_group_list",(function(){addLoader(),digibiz.customerGroupCustomGroupsList=[],sessionStorage.setItem("group_from","group_list"),$("#customer_group_creation_add_members_type").remove(),groupsList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"customer",list_by:"draft_active_standard_customer_groups",count:20,offset:0}).then((e=>{showModal({modal_platform:crossplat.device.platform,modal_id:"modal-customer-group-groups-list-selection",modal_header:"Groups List",modal_body:'<div id="customer-group-custom-groups-list-main-container">\n                                        <div class="search">\n                                            <div class="expand-search-wrap search-wrapper" id="customer-group-custom-groups-list-search-btn">\n                                                <span class="searchbtn waves-effect cursor-pointer"><i class="material-icons">search</i></span>\n                                                <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                                                <span class="searchclosebtn"><i class="material-icons customer-group-custom-groups-list-close-btn hide">close</i></span>\n                                            </div>                                        \n                                        </div>\n                                    <div id="customer-group-custom-groups-list-wrapper"></div>\n                                    </div>',modal_action_buttons:[{name:"Add",id:"add-selected-customers-group-custom-groups"}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),processCustomerGroupCustomGroupList(e,(function(){removeLoader(),setTimeout((function(){listenForCustomerGroupCustomGroupListScrollEvent($(".modal-popup-content"));var t=$("#modal-customer-group-groups-list-selection").find(".expand-search-input");t&&($(document).on("input",t,(function(){timestamp=(new Date).getTime(),t.attr("socketid",timestamp)})),$(document).on("keyup",t,(function(){if(socketid=t.attr("socketid"),keyword=t.val(),socketid&&keyword){if(document.getElementsByClassName("searchclosebtn")[0].style.display="flex",currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:socketid,app:"digibiz",keyword:keyword},"customer_groups_details"===currentroute)"custom"==sessionStorage.getItem("selected-customer-group-type-tab")&&$("#modal-customer-group-groups-list-selection").length>0&&(data.index="getCustomerGroupGroupListMemberSelection",data.business_id=sessionStorage.getItem("business_id"));addLoader(),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300)}else if(removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),t.attr("socketid",""),"customer_groups_details"===currentroute)"custom"==sessionStorage.getItem("selected-customer-group-type-tab")&&$("#modal-customer-group-groups-list-selection").length>0&&processCustomerGroupCustomGroupList(e,(function(){}))})),$(document).on("click",".searchclosebtn",(function(){"custom"==sessionStorage.getItem("selected-customer-group-type-tab")&&$("#modal-customer-group-groups-list-selection").length>0&&processCustomerGroupCustomGroupList(e,(function(){}))})))}),0)}))}))})).catch((e=>{removeLoader()}))})),$(document).on("click","#add-selected-customers-group-custom-groups",(function(){(addLoader(),$(".customer-group-custom-group-select-btn-checkbox-click-wrapper.selected-row").length>0)?sessionStorage.getItem("group_id")?showAlert({alert_id:"alert-customer-group-member-add-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Already added or existing members\n                    won't be added again.Only new members will be added",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-customer-standard-group-member-add-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-customer-group-member-add-confirm-no"}]}]},(function(){removeLoader()})):($(".search-member-button").addClass("hide"),$.each($(".customer-group-custom-group-select-btn-checkbox-click-wrapper.selected-row"),(function(e,t){var i=$(t).find(".customer-group-custom-group-select-btn").attr("data-id"),a=$(t).find(".customer-custom-group-name span").text(),o=$(t).find(".customer-custom-group-name span").text().charAt(0);if(null!=i){var s=`<div class="tooltipped customer-group-member-wrapper" data-id="${i}"><div class="file-select">\n                    <input type="checkbox" name="selectedmembers[]" class="contactlists filled-in" value="${i}" id="selected-${i}" checked=""><i class="material-icons">done</i><div class="profile-text group-profile-text text-small-size">\n                        <span>${o}</span> \n                     </div></div><div class="filemanager-file-wrapper"><span class="truncate" for="selected-${i}">${a}</span></div>\n                </div>`;console.log("leee",$(`.customer-group-member-wrapper[data-id="${i}"]`).length),0==$(`.customer-group-member-wrapper[data-id="${i}"]`).length&&$("#customer-group-members-list").append(s),$("#modal-customer-group-groups-list-selection").remove()}else removeLoader()})),removeLoader()):(removeLoader(),Materialize.toast("Please select atleast 1 group.",3e3,"round error-alert"))})),$(document).on("click","#btn-customer-standard-group-member-add-confirm-yes",(function(){addLoader();let e=[];$.each($(".customer-group-custom-group-select-btn-checkbox-click-wrapper.selected-row"),(function(t,i){e.push({id:$(i).find(".customer-group-custom-group-select-btn").attr("data-id")})}));var t=removeDuplicates(e,"id");customerGroupMemberGroupUpdate({device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id"),customer_data:t}).then((e=>{Materialize.toast("Members Added Successfully",3e3,"round success-alert"),getCustomerGroupsDetailPage(),$("#modal-customer-group-groups-list-selection").remove()})).catch((e=>{removeLoader(),Materialize.toast("Error in group members adding",3e3,"round success-alert")}))})),$(document).on("click","#delete_custom_customer_group_member_group",(function(){addLoader();var e=$(this).attr("data-group-id");showAlert({alert_id:"alert-delete-custom-customer-group-member-group-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Delete Member Group",alert_body:"Are you sure you want to delete the member group?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-delete-custom-customer-group-member-group-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-delete-custom-customer-group-member-group-cancel-no"}]}]},(function(){removeLoader(),$("#alert-delete-custom-customer-group-member-group-confirm-cancel").attr("data-member-id",e)}))})),$(document).on("click","#btn-delete-custom-customer-group-member-group-cancel-no",(function(){$("#alert-delete-custom-customer-group-member-group-confirm-cancel").remove()})),$(document).on("click","#btn-delete-custom-customer-group-member-group-confirm-yes",(function(){addLoader();var e=$("#alert-delete-custom-customer-group-member-group-confirm-cancel").attr("data-member-id");$("#alert-delete-custom-customer-group-member-group-confirm-cancel").remove();var t={device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id"),group_id:e};checkGroupMemberDelete({device_id:crossplat.device.uuid,id:e,group_id:sessionStorage.getItem("group_id")}).then((i=>{customerGroupMemberGroupDelete(t).then((t=>{$(`.custom-customer-group-member-wrapper[data-group-id="${e}"]`).remove(),removeLoader(),Materialize.toast("Successfully removed member group",3e3,"round success-alert")})).catch((e=>{removeLoader(),Materialize.toast("Error in member group removing",3e3,"round success-alert")}))})).catch((t=>{if("Minimum 2 members are required"==t.msg)showAlert({alert_id:"alert-group-member-delete-error-members-yes-no",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Minimum 2 members should be present in the group. Group will get deleted if the selected member is removed. Are you sure you want to remove the member?",alert_btn:[{name:"Delete Group",attr:[{name:"id",value:"btn-alert-group-member-delete-error-members-delete-group-confirm"}]},{name:"Cancel",attr:[{name:"id",value:"btn-alert-group-member-delete-error-members-cancel-confirm"}]}]},(function(){$("#alert-group-member-delete-error-members-yes-no").attr("data-member-id",e),removeLoader()}));else if("Minimum 1 moderator is required"==t.msg){showAlert({alert_id:"alert-group-member-delete-error-moderator-ok",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Minimum 1 moderator is required. Please add moderator to delete the selected member.",alert_btn:[{name:"Ok",attr:[{name:"id",value:"btn-alert-group-member-delete-error-moderator-ok"}]}]},(function(){removeLoader()}))}else removeLoader()}))})),$(document).on("click","#group-image-load-btn",(function(){digibiz.isGroupPictureSelected=!1,addLoader(),showAction({action_id:"group-image-type-action-sheet",action_platform:crossplat.device.platform,action_title:"Select Type",action_btn:[{name:"Device",attr:[{name:"id",value:"group-image-device-upload-type-btn"}]},{name:"Cloud",attr:[{name:"class",value:"digibiz-filemanager"}]},{name:"Camera",attr:[{name:"id",value:"group-image-camera-upload-type-btn"}]}]},(function(){removeLoader()}))})),$(document).on("click","#group-image-device-upload-type-btn",(function(){addLoader(),$("#group-image-upload").val(""),$("#group-image-upload").trigger("click"),$("#group-image-type-action-sheet").remove(),showModal({modal_platform:crossplat.device.platform,modal_id:"group-image-modal",modal_header:"",modal_body:'<div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"group-image-crop-button",name:"crop",attr:[{name:"data-id",value:""}]}]},(function(){removeLoader(),$(".modal-popup-content").length>0&&("browser"==crossplat.device.platform||crossplat.device.platform),$(".custom-modal-popup").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#group-image-modal").attr("picture-type","group_image")}))})),$(document).on("change","#group-image-upload",(function(){var e=this.files;if(e.length>0){var t=e[0].name.split(".").pop();if(config.identityPictureFileFormat.includes(t.toLowerCase()))if(e[0].size>config.maxSizeAllowIdentityPicture)$("#group-image-upload").parent().after('<span class="error_note">File size exceeding.Max allowed is 20MB</span>'),$("#group-image-upload").val(""),$("#group_image").attr("src","");else{if(e[0])var i=e[0];var a=new FileReader;a.onload=function(e){var t=$("#image_cropper")[0];t.src=e.target.result,$("#group-image-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(t,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}})},a.readAsDataURL(i)}else $("#group-image-upload").parent().after('<span class="error_note">Invalid file type</span>'),$("#group-image-upload").val(""),$("#group_image").attr("src","")}})),$(document).on("click","#group-image-crop-button",(function(){digibiz.cropper.getCroppedCanvas().toBlob((e=>{var t=new FileReader;t.onloadend=function(i){"group_image"==$("#group-image-modal").attr("picture-type")&&(sessionStorage.getItem("group_id")?saveGroupPictureSecondTime(t.result,e,(function(e,i){e?(removeLoader(),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert")):($("#group_image").attr("src",t.result),$("#group-image-load-btn").remove(),$("#group-image-delete").remove(),$(".group-info-wrapper").find(".mask").removeClass("hide"),$("#group_image").siblings(".mask").append(`<a class="info group-image-multimedia-load-btn cursor_pointer"><i class="material-icons" id="group-image-load-btn" data-thumbnail-id="${i}">photo_camera</i></a>`),$("#group_image").siblings(".mask").append(`<a class="info cursor_pointer"><i class="material-icons" id="group-image-delete" data-image-id="${i}">delete</i></a>`),$("#group-image-modal").remove(),$("#camera-modal").remove(),removeLoader(),digibiz.isGroupPictureSelected=!0,digibiz.groupPictureblob={},digibiz.cropper.destroy())})):($("#group_image").attr("src",t.result),$("#group-image-load-btn").replaceWith('<i class="material-icons" id="group-image-delete">delete</i>'),$("#group-image-delete").parent().removeClass("group-image-multimedia-load-btn"),$("#group-image-modal").remove(),$("#camera-modal").remove(),digibiz.isGroupPictureSelected=!0,digibiz.groupPictureblob=e,digibiz.cropper.destroy()))},t.readAsDataURL(e)}))})),$(document).on("click","#group-image-delete",(function(e){var t=$(this).attr("data-image-id");(e.stopPropagation(),t)?showAlert({alert_id:"alert-delete-group-image-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Delete Group Image",alert_body:"Do you want to delete the group image?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-delete-group-image-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-delete-group-image-confirm-no"}]}]},(function(){$("#alert-delete-group-image-confirm-cancel").attr("delete-image-id",t)})):($("#group-image-upload").val(""),$("#group_image").attr("src",""),$("#group-image-delete").replaceWith('<i class="material-icons" id="group-image-load-btn">add</i>'),$("#group-image-load-btn").parent().addClass("group-image-multimedia-load-btn"),$(".group_image_preview").remove(),digibiz.isGroupPictureSelected=!1)})),$(document).on("click","#btn-delete-group-image-confirm-no",(function(){$("#alert-delete-group-image-confirm-cancel").remove()})),$(document).on("click","#btn-delete-group-image-confirm-yes",(function(){var e=$("#alert-delete-group-image-confirm-cancel").attr("delete-image-id");$("#alert-delete-group-image-confirm-cancel").remove();var t=sessionStorage.getItem("group_id"),i={device_id:crossplat.device.uuid,group_image_id:e,group_id:t};addLoader(),groupImageDelete(i).then((e=>{removeLoader(),$("#group-image-upload").val(""),$("#group_image").attr("src",""),$("#group-image-delete").remove(),$("#group-image-load-btn").attr("data-thumbnail-id",""),digibiz.isGroupPictureSelected=!1,digibiz.groupPictureblob={}})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))})),$(document).on("click","#group-image-camera-upload-type-btn",(function(){if(addLoader(),$("#group-image-upload").val(""),$("#group-image-type-action-sheet").remove(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform)fetch.getHtml((function(e,t){showModal({modal_id:"camera-modal",modal_header:"Camera",modal_platform:crossplat.device.platform,modal_body:t},(function(){$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),$("#modal-close-btn").addClass("hide");navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){window.camerastream=e,$('.upload-preview-wrapper[data-for="camera_modal"]').hasClass("hide")&&$('.upload-preview-wrapper[data-for="camera_modal"]').removeClass("hide").addClass("slide-top"),$('.upload-preview-wrapper[data-for="camera_modal"]').find(".upload-preview-header span").text("Capture Photo"),$('.upload-preview-wrapper[data-for="camera_modal"]').find(".upload-preview-container").removeClass("hide"),$('.upload-preview-wrapper[data-for="camera_modal"]').find(".upload-preview-container-file-caption").addClass("hide"),$('.upload-preview-wrapper[data-for="camera_modal"]').find(".upload-preview-footer").addClass("hide"),$('.upload-preview-wrapper[data-for="camera_modal"]').find("#upload-permission-btn").addClass("hide"),$('.upload-preview-wrapper[data-for="camera_modal"]').find("#upload-preview-container-text-box").text(""),$('.upload-preview-wrapper[data-for="camera_modal"]').find("#upload-file-preview").html('<video id="capture-video" class="preview-file" autoplay></video><button id="camera-capture" class="btn-floating btn-large waves-effect waves-light blue cursor-pointer"><i class="material-icons">photo_camera</i></button>');var t=document.querySelector("#capture-video");t.srcObject=e,t.play()})),removeLoader()}))}),"page/common/camera","#camera-template",null);else{navigator.device.capture.captureImage((function(e){var t,i,a;for(addLoader(),t=0,a=e.length;t<a;t+=1){i=e[t].localURL,window.cameraMediaFile=i,window.camerastream&&window.camerastream.getTracks()[0].stop(),showModal({modal_platform:crossplat.device.platform,modal_id:"group-image-modal",modal_header:"",modal_body:'<div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"group-image-crop-button",name:"crop",attr:[{name:"data-id",value:""}]}]},(function(){$(".custom-modal-popup").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#group-image-modal").attr("picture-type","group_image")})),setTimeout((function(){var e=["png","jpeg","jpg","PNG","JPEG","JPG"];window.resolveLocalFileSystemURL(window.cameraMediaFile,(function(t){t.file((function(t){var i=new FileReader;i.onloadend=function(i){var a=new FileReader;a.onloadend=function(t){var a=new Blob([t.target.result],{type:"image/jpeg"}),o=a.type.split("/")[1];if(e.includes(o.toLowerCase())){$(".image_container").remove();URL.createObjectURL(a);var s=document.getElementById("image_cropper");s.src=i.target.result,s.onload=function(e){$(".group-image-delete").hide()},$("#group-image-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(s,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}}),removeLoader()}},a.readAsArrayBuffer(t)},i.readAsDataURL(t)}))}),(function(e){}))}),500)}}),(function(e){navigator.notification.alert("Error code: "+e.code,null,"Capture Error"),removeLoader()}),{quality:.5}),removeLoader()}})),$(document).on("click",".group_image_preview",(function(){var e=$(this).attr("data-image-id");addLoader(),getIdentityPicInfo(e).then((e=>{getViewMultimediaUrl({device_id:crossplat.device.uuid,location:e.location,parent:e.parent,owner:e.owner,real_name:e.file_attributes.name.real}).then((t=>{viewFile(e.file_attributes.name.relative,t.Data,(function(){}))})).catch((e=>{removeLoader(),e.hasOwnProperty("message")&&e.message.hasOwnProperty("error_description")?Materialize.toast(`${e.message.error_description} ! Please try again later`,3e3,"round error-alert"):e.hasOwnProperty("error")&&e.error.hasOwnProperty("msg")?Materialize.toast(`${e.error.msg} ! Please try again later`,3e3,"round error-alert"):Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert")})),resolve()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"rounderror-alert")}))})),$(document).on("click",".collaborator-management",(function(){addLoader(),location.hash="collaborator/hub"})),$(document).on("click",".collaborator-contact-list",(function(){addLoader(),sessionStorage.removeItem("selected-collaborator-tab"),location.hash="collaborator/contact/list"})),$(document).on("click",".business_notifications",(function(){addLoader(),location.hash="business/notifications"})),$(document).on("click","#collaborator-add-btn",(function(){(addLoader(),"Android"==crossplat.device.platform||"iOS"==crossplat.device.platform)?showAction({action_id:"add-collaborator-type-action-sheet",action_platform:crossplat.device.platform,action_title:"Add by",action_btn:[{name:"Business Unique Name",attr:[{name:"id",value:"add_collaborator_by_business_unique_name"}]},{name:"Business Name",attr:[{name:"id",value:"add_collaborator_by_business_name"}]},{name:"QR Scan",attr:[{name:"id",value:"add_collaborator_by_qr_scan"}]}]},(function(){removeLoader()})):showAction({action_id:"add-collaborator-type-action-sheet",action_platform:crossplat.device.platform,action_title:"Add by",action_btn:[{name:"Business Unique Name",attr:[{name:"id",value:"add_collaborator_by_business_unique_name"}]},{name:"Business Name",attr:[{name:"id",value:"add_collaborator_by_business_name"}]}]},(function(){removeLoader()}))})),$(document).on("click","#add_collaborator_by_business_unique_name",(function(){addLoader(),showAlert({alert_id:"alert-add-collaborator-business-unique-name",alert_platform:crossplat.device.platform,alert_title:"Business unique name",alert_body:'<input class="business-unique-name validation" type="text" id="business_unique_name_field" placeholder="Enter business unique name"/>',alert_btn:[{name:"Cancel",attr:[{name:"id",value:"notify-collaboration-business-unique-name-cancel-btn"}]},{name:"Notify",attr:[{name:"id",value:"notify-collaboration-business-unique-name-confirm-btn"}]}]},(function(){removeLoader(),$("#add-collaborator-type-action-sheet").remove()}))})),$(document).on("click","#notify-collaboration-business-unique-name-cancel-btn",(function(){$("#alert-add-collaborator-business-unique-name").remove(),removeLoader()})),$(document).on("click","#notify-collaboration-business-unique-name-confirm-btn",(function(){(addLoader(),""==$("#business_unique_name_field").val())?(showError($("#business_unique_name_field"),"This field is required"),removeLoader()):businessNotificationAdd({device_id:crossplat.device.uuid,type:"collaborator_contact_list",requestor_business_id:sessionStorage.getItem("business_id"),add_type:"add",data_type:"business_unique_name",business_unique_name:$("#business_unique_name_field").val()}).then((e=>{removeLoader(),Materialize.toast("Successfully sent notification",3e3,"round success-alert"),$("#alert-add-collaborator-business-unique-name").remove()})).catch((e=>{removeLoader(),Materialize.toast(`${e.msg}`,3e3,"round error-alert")}))})),$(document).on("click","#add_collaborator_by_business_name",(function(){addLoader(),$("#add-collaborator-type-action-sheet").remove(),location.hash="collaborator/add"})),$(document).on("click","#notify-collaborator-contact",(function(){(addLoader(),digibiz.collboratorContactAdd.hasOwnProperty("selected"))?businessNotificationAdd({device_id:crossplat.device.uuid,type:"collaborator_contact_list",requestor_business_id:sessionStorage.getItem("business_id"),add_type:"add",data_type:"business_name",business_id:digibiz.collboratorContactAdd.business_id}).then((e=>{removeLoader(),Materialize.toast("Successfully sent notification",3e3,"round success-alert"),location.hash="collaborator/contact/list"})).catch((e=>{removeLoader(),Materialize.toast(`${e.msg}`,3e3,"round error-alert")})):(Materialize.toast("Please select 1 Business.",3e3,"round error-alert"),removeLoader())})),$(document).on("click","#add_collaborator_by_qr_scan",(function(){addLoader(),$("#add-collaborator-type-action-sheet").remove(),location.hash="#collaborator/scan_qr"})),$(document).on("click",".collaborator-pending-tab",(function(){addLoader(),sessionStorage.setItem("selected-collaborator-tab","pending_collaborator"),$(".tab-content").removeClass("active"),$(`.tab-content[id="${sessionStorage.getItem("selected-collaborator-tab")}"`).addClass("active"),$(".tab").removeClass("active"),$(`.tab[data-id="${sessionStorage.getItem("selected-collaborator-tab")}"]`).addClass("active"),digibiz.pending_collaborator_contact_list=[],pendingCollaboratorContactListPage()})),$(document).on("click",".collaborator-active-tab",(function(){addLoader(),sessionStorage.setItem("selected-collaborator-tab","active_collaborator"),$(".tab-content").removeClass("active"),$(`.tab-content[id="${sessionStorage.getItem("selected-collaborator-tab")}"`).addClass("active"),$(".tab").removeClass("active"),$(`.tab[data-id="${sessionStorage.getItem("selected-collaborator-tab")}"]`).addClass("active"),digibiz.collaborator_contact_list=[],activeCollaboratorContactListPage()})),$(document).on("click",".collaborator-alumini-tab",(function(){addLoader(),sessionStorage.setItem("selected-collaborator-tab","alumini_collaborator"),$(".tab-content").removeClass("active"),$(`.tab-content[id="${sessionStorage.getItem("selected-collaborator-tab")}"`).addClass("active"),$(".tab").removeClass("active"),$(`.tab[data-id="${sessionStorage.getItem("selected-collaborator-tab")}"]`).addClass("active"),digibiz.alumini_collaborator_contact_list=[],aluminiCollaboratorContactListPage()})),$(document).on("click",".pending-collaborator-data-wrapper",(function(){addLoader();var e=$(this).parents(".pending-collaborator-contact-wrapper").attr("data-business-id");sessionStorage.setItem("collaborator_business_id",e),location.hash="collaborator/contact_list/notification/details"})),$(document).on("click","#delete-collaborator-contact-list-notification",(function(){addLoader();var e=$(this).parents(".collaborator-contact-list-notification-details-wrapper").attr("data-notification-id");businessNotificationDelete({device_id:crossplat.device.uuid,notification_id:e}).then((t=>{$(`.collaborator-contact-list-notification-details-wrapper[data-notification-id="${e}"]`).remove(),$(".collaborator-contact-list-notification-details-wrapper").length>0||(location.hash="collaborator/contact/list"),Materialize.toast("Successfully deleted",3e3,"round error-alert"),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast("Error in deleting the notification",3e3,"round error-alert")}))})),$(document).on("click","#business-notification-accept-btn",(function(){addLoader();var e=$(this).parents(".accept_reject_wrap").attr("data-notification-id"),t=$(this).parents(".accept_reject_wrap").attr("data-receiver-business-id"),i=$(this).parents(".accept_reject_wrap").attr("data-owner-business-id"),a=$(this).parents(".accept_reject_wrap").attr("data-customer_identifier_id"),o=$(this).parents(".accept_reject_wrap").attr("data-type");if(sessionStorage.removeItem("receiver_business_id"),sessionStorage.setItem("receiver_business_id",t),"collaborator_contact_list"==o)businessNotificationChangeStatus({device_id:crossplat.device.uuid,notification_id:e,business_id:t,action:"accepted"}).then((t=>{"collaborator_contact_list"==t.type&&"accepted"==t.contact.status.status&&collaboratorAdd({device_id:crossplat.device.uuid,acceptor_business_id:t.contact.business_id,requestor_business_id:t.owner.business_id,notification_id:e}).then((e=>{Materialize.toast("Successfully Accepted",3e3,"round error-alert"),$(this).parents(".business-notification-list-wrapper").remove(),removeLoader()})).catch((e=>{removeLoader()}))})).catch((e=>{removeLoader()}));else if("collaborator_group"==o){var s=$(this).parents(".accept_reject_wrap").attr("data-group-id");employeeList({device_id:crossplat.device.uuid,list_by:"list_only_active",business_id:t,count:20,offset:0}).then((i=>{digibiz.employee_list=i;var a={EmployeeList:i.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);else e.imageLetter=e.name.first.charAt(0);return e})),from:"direct"};fetch.getHtml((function(i,a){showModal({modal_id:"modal-collaborator-group-employees-selection",modal_header:"Employee List",modal_platform:crossplat.device.platform,modal_body:a,modal_action_buttons:[{name:"Add",id:"add-collaborator-group-selected-employees"}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),$(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content")):$(".custom-modal-popup").show().addClass("modal-slide-top"),listenForEmployeeList($(".modal-popup-content")),$("#modal-collaborator-group-employees-selection").attr("data-group-id",s),$("#modal-collaborator-group-employees-selection").attr("data-notification-id",e),$("#modal-collaborator-group-employees-selection").attr("data-receiver-business-id",t),removeLoader()}))}),"page/collaborator/employee_selection_list","#employee-selection-list-template",a)})).catch((e=>{removeLoader(),Materialize.toast("Cannot accept the business if there is no employees in your business.",3e3,"round success-alert")}))}else if("collaborator_customer_contact_list"==o){s=$(this).parents(".accept_reject_wrap").attr("data-group-id");employeeList({device_id:crossplat.device.uuid,list_by:"list_only_active",business_id:t,count:20,offset:0}).then((o=>{var r={EmployeeList:o.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.name.first.charAt(0)}else e.imageLetter=e.name.first.charAt(0);else e.imageLetter=e.name.first.charAt(0);return e})),from:"direct"};fetch.getHtml((function(o,r){showModal({modal_id:"modal-collaborator-group-employees-selection",modal_header:"Employee List",modal_platform:crossplat.device.platform,modal_body:r,modal_action_buttons:[{name:"Add",id:"add-collaborator-customer-selected-employees"}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),$(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content")):$(".custom-modal-popup").show().addClass("modal-slide-top"),listenForEmployeeList($(".modal-popup-content")),$("#modal-collaborator-group-employees-selection").attr("data-group-id",s),$("#modal-collaborator-group-employees-selection").attr("data-notification-id",e),$("#modal-collaborator-group-employees-selection").attr("data-receiver-business-id",t),$("#modal-collaborator-group-employees-selection").attr("data-sender-business-id",i),$("#modal-collaborator-group-employees-selection").attr("data-customer-identifier-id",a),removeLoader()}))}),"page/collaborator/employee_selection_list","#employee-selection-list-template",r)})).catch((e=>{removeLoader(),Materialize.toast("Cannot accept the business if there is no employees in your business.",3e3,"round success-alert")}))}})),$(document).on("click","#business-notification-reject-btn",(function(){addLoader();var e=$(this).parents(".accept_reject_wrap").attr("data-notification-id"),t=$(this).parents(".accept_reject_wrap").attr("data-receiver-business-id"),i=$(this).parents(".accept_reject_wrap").attr("data-sender-business-id");businessNotificationChangeStatus({device_id:crossplat.device.uuid,notification_id:e,business_id:t,collaborator_business_id:i,action:"rejected"}).then((e=>{Materialize.toast("Successfully Rejected",3e3,"round error-alert"),$(this).parents(".business-notification-list-wrapper").remove(),removeLoader()})).catch((e=>{removeLoader()}))})),$(document).on("click","#resent-collaborator-contact-notification",(function(){addLoader(),businessNotificationAdd({device_id:crossplat.device.uuid,type:"collaborator_contact_list",add_type:"resend",receiver_business_id:sessionStorage.getItem("collaborator_business_id"),requestor_business_id:sessionStorage.getItem("business_id")}).then((e=>{Materialize.toast("Successfully sent notification",3e3,"round success-alert"),location.hash="collaborator/contact/list"})).catch((e=>{Materialize.toast(`${e.msg}`,3e3,"round error-alert"),removeLoader()}))})),$(document).on("click","#add-collaborator-group-selected-employees",(function(){addLoader();var e=$("#modal-collaborator-group-employees-selection").attr("data-group-id"),t=$("#modal-collaborator-group-employees-selection").attr("data-notification-id"),i=$("#modal-collaborator-group-employees-selection").attr("data-receiver-business-id");let a=[];$.each($(".collaborator-group-employee-select-btn:checked"),(function(e,t){a.push({id:$(t).attr("data-dj-unique-employee-id"),business_id:sessionStorage.getItem("business_id")})}));var o=removeDuplicates(a,"id");a.length>0?groupMemberAdd({device_id:crossplat.device.uuid,group_id:e,members:o}).then((e=>{businessNotificationChangeStatus({device_id:crossplat.device.uuid,notification_id:t,business_id:i,action:"accepted"}).then((e=>{Materialize.toast("Successfully Accepted Notification.",3e3,"round error-alert"),$("#modal-collaborator-group-employees-selection").remove(),$(`.accept_reject_wrap[data-notification-id="${t}"]`).parents(".business-notification-list-wrapper").remove(),removeLoader()})).catch((e=>{Materialize.toast("Error in accepting the business.",3e3,"round success-alert"),removeLoader()}))})).catch((e=>{removeLoader(),Materialize.toast("Error in members adding",3e3,"round success-alert")})):(removeLoader(),Materialize.toast("Please add employees.",3e3,"round success-alert"))})),$(document).on("click",".collaborator-groups",(function(){addLoader(),location.hash="collaborator/groups/list"})),$(document).on("click","#create-collaborator-group",(function(){addLoader(),location.hash="collaborator/group/create"})),$(document).on("click","#collaborator_group_cancel_button",(function(){addLoader(),sessionStorage.getItem("group_id")?(reqParam={device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id"),data:{socket_enable_status:"true",update_for:"socket_enable_status"}},employeeGroupUpdate(reqParam).then((e=>{sessionStorage.removeItem("group_id"),location.hash="collaborator/groups/list",appScroll.scrollBar("#main-container").destroy()})).catch((e=>{console.log("err",e)}))):(sessionStorage.removeItem("group_id"),location.hash="collaborator/groups/list")})),$(document).on("click","#add_group_owner_business_employees",(function(){addLoader(),employeeList({device_id:crossplat.device.uuid,list_by:"list_only_active",business_id:sessionStorage.getItem("business_id"),count:20,offset:0}).then((e=>{let t=[];$.each(e,(function(e,i){t.push(i)})),digibiz.collaborator_group_owner_employee_members=e,digibiz.employee_list=e,$.each($("input[name='selectedmembers[]']"),(function(e,t){}));var i={EmployeeList:t.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture){var t=`${api.get_employee_thumbnail}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&type=display_picture`;e.identity_picture.avtarUrl=t,e.hasOwnProperty("display_name")&&e.display_name?e.imageLetter=e.display_name.charAt(0):e.imageLetter=e.name.first.charAt(0)}else e.hasOwnProperty("display_name")&&e.display_name?e.imageLetter=e.display_name.charAt(0):e.imageLetter=e.name.first.charAt(0);return e}))};fetch.getHtml((function(e,i){showModal({modal_id:"modal-collaborator-group-owner-business-employee-selection",modal_header:"Employee List",modal_platform:crossplat.device.platform,modal_body:i,modal_action_buttons:[{name:"Add",id:"add-collaborator-group-owner-business-selected-employees-group"}]},(function(){$(".employee-selection-member-list").prepend('<div class="search">\n                                <div class="expand-search-wrap search-wrapper" id="employee-list-selection-search-btn">\n                                    <span class="searchbtn waves-effect cursor-pointer"><i class="material-icons">search</i></span>\n                                    <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                                    <span class="searchclosebtn"><i class="material-icons employee-list-selection-close-btn hide">close</i></span>\n                                </div>\n                            </div>'),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),removeLoader(),setTimeout((function(){listenForEmployeeList($(".modal-popup-content"));var e=$("#employee-list-selection-search-btn").find(".expand-search-input");e&&($(document).on("input",e,(function(){timestamp=(new Date).getTime(),e.attr("socketid",timestamp)})),$(document).on("keyup",e,(function(){if(socketid=e.attr("socketid"),keyword=e.val(),socketid&&keyword){if(document.getElementsByClassName("searchclosebtn")[0].style.display="flex",currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:socketid,app:"digibiz",keyword:keyword},"collaborator_group_create"===currentroute)$("#modal-collaborator-group-owner-business-employee-selection").length>0&&(data.index="getEmployeeContactListAllEmployees",data.business_id=sessionStorage.getItem("business_id"));addLoader(),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300)}else if(removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),e.attr("socketid",""),"collaborator_group_create"===currentroute)$("#modal-collaborator-group-owner-business-employee-selection").length>0&&processSearchedEmployeeGroupEmployeeSelectionList(t,(function(){}))})),$(document).on("click",".searchclosebtn",(function(){"custom"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&$("#modal-employee-selection").length>0&&processSearchedEmployeeGroupEmployeeSelectionList(t,(function(){}))})))}),0)}))}),"page/common/employee_list_selection","#employee-selection-list-template",i)})).catch((e=>{removeLoader(),Materialize.toast("No Employees Found",3e3,"round success-alert")}))})),$(document).on("change",'input[name="selectedmembers[]"]',(function(){if(console.log("ccommm",$(this).val()),"collaborator_group_create"==$("body").attr("app")){if($(this).hasClass("collaborator-group-owner-business-employee-member")){var e=$(this).val();-1!=(t=digibiz.collaborator_group_owner_employee_members.findIndex((t=>t.dj_unique_employee_id==e)))&&($(this).is(":checked")?digibiz.collaborator_group_owner_employee_members[t].selected=!0:digibiz.collaborator_group_owner_employee_members[t].selected=!1),-1!=(a=digibiz.selectedMembers.findIndex((t=>t.id==e)))&&($(this).is(":checked"),digibiz.selectedMembers[a].selected=!1),$(`.collaborator-group-employee-moderator-member[value="${e}"]:checked`).length>0&&$(`.collaborator-group-employee-moderator-member[value="${e}"]`).prop("checked",!1)}else if($(this).hasClass("contactlists")){e=$(this).attr("data-dj-unique-employee-id");console.log("dj_unique_employee_id",e),-1!=(a=digibiz.selectedMembers.findIndex((t=>t.id==e)))&&($(this).is(":checked"),digibiz.selectedMembers[a].selected=!1)}}else if("employee_list"==sessionStorage.getItem("group_from")){var t;e=$(this).val();-1!=(t=digibiz.employee_group_employee_members.findIndex((t=>t.dj_unique_employee_id==e)))&&($(this).is(":checked")?digibiz.employee_group_employee_members[t].selected=!0:digibiz.employee_group_employee_members[t].selected=!1),-1!=(a=digibiz.selectedMembers.findIndex((t=>t.id==e)))&&($(this).is(":checked"),digibiz.selectedMembers[a].selected=!1)}else if("department_list"==sessionStorage.getItem("group_from")){var i=$(this).val();$(this).is(":checked")?digibiz.employee_group_department_members.push({id:i}):digibiz.employee_group_department_members=digibiz.employee_group_department_members.filter((e=>e.id!=i)),-1!=(a=digibiz.selectedMembers.findIndex((e=>e.id==i)))&&(digibiz.selectedMembers[a].selected=!1)}else if("contact_list"==sessionStorage.getItem("group_from")){var a,o=$(this).val();console.log("id",o),-1!=(a=digibiz.selectedMembers.findIndex((e=>e.id==o)))&&($(this).is(":checked"),digibiz.selectedMembers[a].selected=!1)}})),$(document).on("click","#add-collaborator-group-owner-business-selected-employees-group",(function(){if(addLoader(),sessionStorage.getItem("group_id")){let t=[];$.each($(".employee-select-btn:checked"),(function(e,i){t.push({id:$(i).attr("data-dj-unique-employee-id"),business_id:sessionStorage.getItem("business_id")})}));var e=uniqueArray(t);groupMemberAdd({device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id"),members:e}).then((e=>{removeLoader(),$("#modal-collaborator-group-owner-business-employee-selection").remove(),Materialize.toast("Successfully added members.",3e3,"round success-alert")})).catch((e=>{removeLoader(),Materialize.toast("Error in group members adding",3e3,"round success-alert")}))}else $(".employee-select-btn:checked").length>0?($.each($(".employee-select-btn:checked"),(function(e,t){var i=$(t).attr("data-dj-unique-employee-id"),a=$(t).parents(".employee-selection-list-container").find(".contact-name-wrapper").text(),o=$(t).parents(".employee-selection-list-container").find(".employee-information").text(),s=$(t).parents(".employee-selection-list-container").find(".contact-name-wrapper").text().charAt(0);if(null!=i){var r=`<div class="tooltipped collaborator-group-employee-member-wrapper member-listing-wrapper" data-dj-unique-employee-id="${i}"><div class="file-select">\n                <input type="checkbox" name="selectedmembers[]" class="contactlists filled-in collaborator-group-owner-business-employee-member" value="${i}" id="selected-${i}" checked=""><i class="material-icons">done</i><div class="profile-text group-profile-text text-small-size">\n                    <span>${s}</span> \n                 </div></div><div class="filemanager-file-wrapper"><span class="truncate" for="selected-${i}">${a}</span>\n                 <span class="truncate">${o}</span></div>\n            </div>`;if($("#modal-collaborator-group-owner-business-employee-selection").remove(),-1==digibiz.selectedMembers.findIndex((e=>e.id==$(t).attr("data-dj-unique-employee-id")))){$("#collaborator-group-owner-business-employees-list").append(r);var n={id:i,name:a,imageLetter:s,dj_unique_employee_id:i,selected:!0,type:"employee_list"};digibiz.selectedMembers.push(n)}setTimeout((()=>{appScroll.scrollBar("#collaborator-group-owner-business-employees-list")}),500)}else removeLoader()})),removeLoader()):(removeLoader(),Materialize.toast("Please select atleast 1 employee.",3e3,"round success-alert"))})),$(document).on("click","#add_collaborator_group_business_btn",(function(){addLoader(),collaboratorList({device_id:crossplat.device.uuid,list_by:"my_collaborators",business_id:sessionStorage.getItem("business_id"),count:20,offset:0}).then((e=>{let t=[];$.each(e,(function(e,i){t.push(i)})),digibiz.collaborator_contact_list=e,$.each($("input[name='selectedcollaboratorcontact[]']"),(function(e,i){t=t.filter((function(e){return e.id!=$(i).val()}))})),$.each($(".collaborator-group-business-member-wrapper"),(function(e,i){t=t.filter((function(e){return e.business_id!=$(i).attr("data-business-id")}))}));var i={collaboratorContactList:digibiz.collaborator_contact_list.map((e=>{if(e.hasOwnProperty("business_display_picture")&&e.business_display_picture)if(e.business_display_picture.hasOwnProperty("thumbnail")&&e.business_display_picture.thumbnail){var t=`${api.get_business_multimedia}?business_id=${e.business_id}&device_id=${crossplat.device.uuid}&image_id=${e.business_display_picture.thumbnail}`;e.business_display_picture.avtarUrl=t,e.imageLetter=e.business_name.charAt(0)}else e.imageLetter=e.business_name.charAt(0);else e.imageLetter=e.business_name.charAt(0);return e}))};fetch.getHtml((function(e,i){showModal({modal_id:"modal-collaborator-group-contact-list-selection",modal_header:"Collaborator Contact List",modal_platform:crossplat.device.platform,modal_body:i,modal_action_buttons:[{name:"Add",id:"add-collaborator-group-contact-list-selected"}]},(function(){$(".collaborator-contact-selection-list-main-container").prepend('<div class="search"><div class="expand-search-wrap search-wrapper" id="collaborator-contact-selection-list-search-btn">\n                             <span class="searchbtn waves-effect cursor-pointer"><i class="material-icons">search</i></span>\n                             <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                             <span class="searchclosebtn"><i class="material-icons collaborator-contact-selection-list-close-btn hide">close</i></span>\n                         </div></div>'),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),removeLoader(),setTimeout((function(){listenForCollaboratorGroupContactListScrollEvent($(".modal-popup-content"));var e=$("#collaborator-contact-selection-list-search-btn").find(".expand-search-input");e&&($(document).on("input",e,(function(){timestamp=(new Date).getTime(),e.attr("socketid",timestamp)})),$(document).on("keyup",e,(function(){if(socketid=e.attr("socketid"),keyword=e.val(),socketid&&keyword){if(document.getElementsByClassName("searchclosebtn")[0].style.display="flex",currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:socketid,app:"digibiz",keyword:keyword},"collaborator_group_create"===currentroute)$("#modal-collaborator-group-contact-list-selection").length>0&&(data.index="getActiveCollaboratorListPage",data.business_id=sessionStorage.getItem("business_id"));addLoader(),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300)}else if(removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),e.attr("socketid",""),"collaborator_group_create"===currentroute)$("#modal-collaborator-group-contact-list-selection").length>0&&processActiveCollaboratorContactList(t,(function(){}))})),$(document).on("click",".searchclosebtn",(function(){$("#modal-collaborator-group-contact-list-selection").length>0&&processActiveCollaboratorContactList(t,(function(){}))})))}),0)}))}),"page/collaborator/contact_list_selection","#collaborator-contact-selection-list-template",i)})).catch((e=>{removeLoader(),Materialize.toast("No Contacts Found",3e3,"round success-alert")}))})),$(document).on("change",".contact-select-btn",(function(){var e=$(this).attr("data-id");if("collaborator_group_create"==$("body").attr("app")){var t=digibiz.collaborator_contact_list.findIndex((t=>t.id==e));-1!=t&&($(this).is(":checked")?digibiz.collaborator_contact_list[t].selected=!0:digibiz.collaborator_contact_list[t].selected=!1)}})),$(document).on("click","#add-collaborator-group-contact-list-selected",(function(){(addLoader(),sessionStorage.getItem("group_id"))?$(".contact-select-btn:checked").length>0?showAlert({alert_id:"alert-collaborator-group-contact-list-selected-add-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Already added or existing members\n                    won't be added again.Only new members will be added",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-collaborator-group-contact-list-selected-add-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-collaborator-group-contact-list-selected-add-confirm-no"}]}]},(function(){removeLoader()})):(removeLoader(),Materialize.toast("Please select atleast 1 business.",3e3,"round success-alert")):$(".contact-select-btn:checked").length>0?($.each($(".contact-select-btn:checked"),(function(e,t){var i=$(t).attr("data-id"),a=$(t).attr("data-business-id"),o=$(t).parents(".collaborator-contact-selection-list-container").find(".contact-name-wrapper").text(),s=$(t).parents(".collaborator-contact-selection-list-container").find(".contact-name-wrapper").text().charAt(0);$(t).parents(".collaborator-contact-selection-list-container").find("img").attr("src");if(null!=i){var r=`<div class="tooltipped collaborator-group-member-wrapper member-listing-wrapper" data-contact-id="${i}" data-business-id="${a}"><div class="file-select">\n                <input type="checkbox" name="selectedcollaboratorcontact[]" class="contactlists filled-in collaborator-group-business-member" value="${i}" data-business-id="${a}" id="selected-${i}" checked=""><i class="material-icons">done</i><div class="profile-text group-profile-text text-small-size">\n                    <span>${s}</span> \n                 </div></div><div class="filemanager-file-wrapper"><span class="truncate" for="selected-${i}">${o}</span></div>\n            </div>`;0==$(`.collaborator-group-member-wrapper[data-business-id="${a}"]`).length&&$("#collaborator-group-members-list").append(r),$("#modal-collaborator-group-contact-list-selection").remove(),setTimeout((()=>{appScroll.scrollBar("#collaborator-group-members-list")}),500)}else removeLoader()})),removeLoader()):(removeLoader(),Materialize.toast("Please select atleast 1 business.",3e3,"round success-alert"))})),$(document).on("click","#btn-collaborator-group-contact-list-selected-add-confirm-no",(function(){$("#alert-collaborator-group-contact-list-selected-add-confirm-cancel").remove()})),$(document).on("click","#btn-collaborator-group-contact-list-selected-add-confirm-yes",(function(){addLoader();let e=[];$.each($(".contact-select-btn:checked"),(function(t,i){e.push({id:$(i).attr("data-business-id")})}));var t=uniqueArray(e);groupMemberAdd({device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id"),type:"business",members:t}).then((t=>{groupMemberList({device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id")}).then((t=>{var i=[];$.each(e,(function(e,a){$.each(t,(function(e,t){"business"==t.type&&t.member.business_id==a.id&&i.push({id:t.member.business_id,group_member_id:t.id})}))})),setTimeout((function(){businessNotificationAdd({device_id:crossplat.device.uuid,type:"collaborator_group",group_id:sessionStorage.getItem("group_id"),requestor_business_id:sessionStorage.getItem("business_id"),receiver_business_ids:i}).then((e=>{removeLoader(),$("#alert-collaborator-group-contact-list-selected-add-confirm-cancel").remove(),$("#modal-collaborator-group-contact-list-selection").remove(),Materialize.toast("Successfully added members.",3e3,"round success-alert"),getCollaboratorGroupDetailsPage()})).catch((e=>{removeLoader(),Materialize.toast(`${e.msg}`,3e3,"round success-alert")}))}),500)})).catch((e=>{removeLoader(),Materialize.toast(`${e.msg}`,3e3,"round success-alert")}))})).catch((e=>{removeLoader(),Materialize.toast("Error in group members adding",3e3,"round success-alert")}))})),$(document).on("change",'input[name="selectedcollaboratorcontact[]"]',(function(){if("collaborator_group_create"==$("body").attr("app")){var e=$(this).val(),t=digibiz.collaborator_contact_list.findIndex((t=>t.id==e));-1!=t&&($(this).is(":checked")?digibiz.collaborator_contact_list[t].selected=!0:digibiz.collaborator_contact_list[t].selected=!1)}})),$(document).on("click","#collaborator_group_add_button",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this)))if(addLoader(),validateCollaboratorGroup()){var t=$("#collaboratorGroupName").val().trim(),i=$("#collaborator_group_desc").val().trim(),a=$(".selected-value-group-active-when").attr("data-value");if(sessionStorage.getItem("group_id")){employeeGroupUpdate({device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id"),data:{name:firstLetterUpperCase(t),description:firstLetterUpperCase(i),group_active_by:a}}).then((e=>{sessionStorage.removeItem("group_id"),location.hash="collaborator/groups/list"})).catch((e=>{"no updated data found"==e.msg?(sessionStorage.removeItem("group_id"),location.hash="collaborator/groups/list"):removeLoader()}))}else{let e=[],n=[],d=[];$.each($("input.collaborator-group-owner-business-employee-member:checked"),(function(t,i){e.push({id:$(i).attr("value"),type:"employee"})})),$.each($("input.collaborator-group-business-member:checked"),(function(e,t){n.push({id:$(t).attr("data-business-id")})})),$.each($("input.collaborator-group-employee-moderator-member:checked"),(function(e,t){d.push({id:$(t).attr("value"),type:"employee",business_id:sessionStorage.getItem("business_id"),status:"active"})}));var o=removeDuplicates(e,"id"),s=removeDuplicates(n,"id"),r=removeDuplicates(d,"id");saveGroupPictureFirstTime((function(e,n){if(e)removeLoader(),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert");else{groupAdd({device_id:crossplat.device.uuid,name:firstLetterUpperCase(t),description:firstLetterUpperCase(i),thumbnail_content:n,size:digibiz.groupPictureblob.size,group_for:"collaborator",business_id:sessionStorage.getItem("business_id"),group_active_by:a,members:o,businesses:s,moderator_data:r}).then((e=>{groupModeratorAdd({device_id:crossplat.device.uuid,id:e.id,moderator_data:r}).then((t=>{groupMemberList({device_id:crossplat.device.uuid,group_id:e.id}).then((t=>{var i=[];$.each(t,(function(e,t){"business"==t.type&&t.member.business_id!=sessionStorage.getItem("business_id")&&i.push({id:t.member.business_id,group_member_id:t.id})})),setTimeout((function(){businessNotificationAdd({device_id:crossplat.device.uuid,type:"collaborator_group",group_id:e.id,requestor_business_id:sessionStorage.getItem("business_id"),receiver_business_ids:i}).then((e=>{removeLoader(),digibiz.groupPictureblob={},Materialize.toast("Group created successfully.",3e3,"round success-alert")})).catch((e=>{removeLoader(),Materialize.toast(`${e.msg}`,3e3,"round success-alert")}))}),500)})).catch((e=>{removeLoader(),Materialize.toast(`${e.msg}`,3e3,"round success-alert")})),location.hash="collaborator/groups/list"})).catch((e=>{removeLoader(),Materialize.toast(`${e.msg}`,3e3,"round success-alert")}))})).catch((e=>{removeLoader(),Materialize.toast(`${e.msg}`,3e3,"round success-alert")}))}}))}}else removeLoader()})),$(document).on("click",".role-assignmant-management",(function(){addLoader(),location.hash="role_management/employee_list"})),$(document).on("click",".role_management_employee_data",(function(){addLoader();var e=$(this).parents(".role_management_employee_wrapper").attr("data-employee-id");sessionStorage.setItem("employee_id",e),location.hash="role_management/employee/apps_access_list"})),$(document).on("click","#employee_role_assignment_btn, #customer_role_assignment_btn",(function(){addLoader(),fetch.getHtml((function(e,t){showModal({modal_id:"employee-role-assignment-modal",modal_header:"Role Assignment",modal_platform:crossplat.device.platform,modal_body:t,modal_action_buttons:[{name:"Back",id:"employee_role_assignment_back_btn",class:"hide"},{name:"Next",id:"employee_role_assignment_next_btn",class:"hide"},{name:"Save",id:"employee_role_assignment_save_btn",class:"hide"},{name:"Confirm",id:"employee_role_assignment_confirm_btn",class:"hide"}]},(function(){removeLoader(),sessionStorage.getItem("customer_id")&&$("#role-assignment-app-choose-select-dropdown").find('option[value="digibiz"]').addClass("hide"),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top")}))}),"page/role_management/role_assignment_modal","#role-assignment-template",null)})),$(document).on("change","#role-assignment-app-choose-select-dropdown",(function(){("digibiz"==$(this).val()||"bizchat"==$(this).val()||"bizvoiceit"==$(this).val())&&($("#employee_role_assignment_confirm_btn").addClass("hide"),$("#employee_role_assignment_next_btn").removeClass("hide"))})),$(document).on("click","#role-assignment-app-choose-select-dropdown .custom-dropdown li",(function(){if($(".selected-value-role-assignment-app").attr("data-value").length>0){var e=$(".selected-value-role-assignment-app").attr("data-value");("digibiz"==e||"bizchat"==e||"bizvoiceit"==e)&&($("#employee_role_assignment_confirm_btn").addClass("hide"),$("#employee_role_assignment_next_btn").removeClass("hide"))}})),$(document).on("click","#employee_role_assignment_confirm_btn",(function(){addLoader();var e=$(".selected-value-role-assignment-app").attr("data-value");if("bizchat"==e)sessionStorage.getItem("employee_id")?t={device_id:crossplat.device.uuid,type:"employee",member_id:sessionStorage.getItem("employee_id"),business_id:sessionStorage.getItem("business_id"),app_name:e,access_data:{app_access:"true"}}:sessionStorage.getItem("customer_id")&&(t={device_id:crossplat.device.uuid,type:"customer",member_id:sessionStorage.getItem("customer_id"),business_id:sessionStorage.getItem("business_id"),app_name:e,access_data:{app_access:"true"}}),roleManagementAdd(t).then((e=>{$("#employee-role-assignment-modal").remove(),Materialize.toast("Successfully added",3e3,"round success-alert"),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}));else if("bizvoiceit"==e){if(null!=(s=$(".role-assignment-select-app.active").attr("data-step"))||null!=s||""!=s){if("2"==s)if(digibiz.role_assignment={app_access:"true",create_respond_access:$('input[name="create_respond_app_access"]:checked').attr("data-id")},(i=JSON.parse(sessionStorage.getItem("role_assignment"))).create_respond_access=$('input[name="create_respond_app_access"]:checked').attr("data-id"),sessionStorage.setItem("role_assignment",JSON.stringify(i)),sessionStorage.getItem("edit_role")){roleManagementUpdate(t={device_id:crossplat.device.uuid,id:sessionStorage.getItem("edit_role"),data:{access_data:JSON.parse(sessionStorage.getItem("role_assignment"))}}).then((e=>{digibiz.role_assignment={},sessionStorage.removeItem("role_assignment"),sessionStorage.removeItem("edit_role"),$("#employee-role-assignment-modal").remove(),Materialize.toast("Successfully updated",3e3,"round success-alert"),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))}else{var t={};sessionStorage.getItem("employee_id")?t={device_id:crossplat.device.uuid,type:"employee",member_id:sessionStorage.getItem("employee_id"),business_id:sessionStorage.getItem("business_id"),app_name:e,access_data:JSON.parse(sessionStorage.getItem("role_assignment"))}:sessionStorage.getItem("customer_id")&&(t={device_id:crossplat.device.uuid,type:"customer",member_id:sessionStorage.getItem("customer_id"),business_id:sessionStorage.getItem("business_id"),app_name:e,access_data:JSON.parse(sessionStorage.getItem("role_assignment"))}),roleManagementAdd(t).then((e=>{digibiz.role_assignment={},sessionStorage.removeItem("role_assignment"),$("#employee-role-assignment-modal").remove(),Materialize.toast("Successfully added",3e3,"round success-alert"),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))}else if("5"==s){var i;if("common"==(i=JSON.parse(sessionStorage.getItem("role_assignment"))).share_type_mode){var a=[],o=$('.role-assignment-app-share-type-group-access-contentbox[data-type="common"]').find("input.bizvoiceit-share-type-group-app-access:checked");if($(o).length>0&&$.each($(o),(function(e,t){a.push($(t).attr("data-id"))})),$.each(i.sub_app_access_data,(function(e,t){t.share_types=a})),sessionStorage.setItem("role_assignment",JSON.stringify(i)),sessionStorage.getItem("edit_role")){roleManagementUpdate(t={device_id:crossplat.device.uuid,id:sessionStorage.getItem("edit_role"),data:{access_data:JSON.parse(sessionStorage.getItem("role_assignment"))}}).then((e=>{digibiz.role_assignment={},sessionStorage.removeItem("role_assignment"),sessionStorage.removeItem("edit_role"),$("#employee-role-assignment-modal").remove(),Materialize.toast("Successfully updated",3e3,"round success-alert"),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))}else{t={};sessionStorage.getItem("employee_id")?t={device_id:crossplat.device.uuid,type:"employee",member_id:sessionStorage.getItem("employee_id"),business_id:sessionStorage.getItem("business_id"),app_name:e,access_data:JSON.parse(sessionStorage.getItem("role_assignment"))}:sessionStorage.getItem("customer_id")&&(t={device_id:crossplat.device.uuid,type:"customer",member_id:sessionStorage.getItem("customer_id"),business_id:sessionStorage.getItem("business_id"),app_name:e,access_data:JSON.parse(sessionStorage.getItem("role_assignment"))}),roleManagementAdd(t).then((e=>{digibiz.role_assignment={},sessionStorage.removeItem("role_assignment"),$("#employee-role-assignment-modal").remove(),Materialize.toast("Successfully added",3e3,"round success-alert"),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))}}else if("custom"==i.share_type_mode)if($.each(i.sub_app_access_data,(function(e,t){var i=[],a=$('.role-assignment-app-share-type-group-access-contentbox[data-type="custom"]').find(`.role-assignment-app-share-type-group-access-wrapper[data-app="${t.sub_app}"]`).find("input.bizvoiceit-share-type-group-app-access:checked");$(a).length>0&&($.each($(a),(function(e,t){i.push($(t).attr("data-id"))})),t.share_types=i)})),sessionStorage.setItem("role_assignment",JSON.stringify(i)),sessionStorage.getItem("edit_role")){roleManagementUpdate(t={device_id:crossplat.device.uuid,id:sessionStorage.getItem("edit_role"),data:{access_data:JSON.parse(sessionStorage.getItem("role_assignment"))}}).then((e=>{digibiz.role_assignment={},sessionStorage.removeItem("role_assignment"),sessionStorage.removeItem("edit_role"),$("#employee-role-assignment-modal").remove(),Materialize.toast("Successfully updated",3e3,"round success-alert"),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))}else{t={};sessionStorage.getItem("employee_id")?t={device_id:crossplat.device.uuid,type:"employee",member_id:sessionStorage.getItem("employee_id"),business_id:sessionStorage.getItem("business_id"),app_name:e,access_data:JSON.parse(sessionStorage.getItem("role_assignment"))}:sessionStorage.getItem("customer_id")&&(t={device_id:crossplat.device.uuid,type:"customer",member_id:sessionStorage.getItem("customer_id"),business_id:sessionStorage.getItem("business_id"),app_name:e,access_data:JSON.parse(sessionStorage.getItem("role_assignment"))}),roleManagementAdd(t).then((e=>{digibiz.role_assignment={},sessionStorage.removeItem("role_assignment"),$("#employee-role-assignment-modal").remove(),Materialize.toast("Successfully added",3e3,"round success-alert"),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))}}}else removeLoader(),Materialize.toast("Error in getting step",3e3,"round error-alert")}else if("digibiz"==e){var s;if(null!=(s=$(".role-assignment-select-app.active").attr("data-step"))||null!=s||""!=s){if("6"==s){var r=$('input[name="digibiz_module_admin_access"]:checked').attr("data-id");t={device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:r,employee_id:$("#employee-role-assignment-modal").attr("data-employee-id")};"true"==sessionStorage.getItem("delete_module_admin")&&(t.delete_module_admin="true"),businessOwnerAdd(t).then((e=>{digibiz.alreadyModuleAdmin=e,sessionStorage.removeItem("delete_module_admin"),$("#employee-role-assignment-modal").remove(),Materialize.toast("Successfully added",3e3,"round success-alert"),removeLoader()})).catch((e=>{(removeLoader(),"Cannot add! This employee is present as module_admin."==e.msg)?showAlert({alert_id:"alert-digibiz-module-admin-role-present-yes-no",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"This employee is present as module admin. Module admin access of this employee will removed if this employee is made digibiz admin. Are you sure you want to make him as digibiz-admin?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-alert-lert-digibiz-module-admin-role-present-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-lert-digibiz-module-admin-role-present-confirm-no"}]}]},(function(){removeLoader()})):Materialize.toast(e.msg,3e3,"round error-alert")}))}if("7"==s){var n=[],d=[];if($(".digibiz-module-access:checked").length<=3){var c=$(".digibiz-module-access");if($.each(c,(function(e,t){$(t).is(":checked")&&(null==digibiz.alreadyModuleAdmin.find((e=>e.module==$(t).attr("data-id")))&&n.push({name:$(t).attr("data-id")}))})),$.each(digibiz.alreadyModuleAdmin,(function(e,t){0==$(`.digibiz-module-access[data-id="${t.module}"]`).is(":checked")&&d.push(t)})),n.length>0||d.length>0){if(n.length>0){r=$('input[name="digibiz_module_admin_access"]:checked').attr("data-id"),t={device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:r,modules:n,employee_id:$("#employee-role-assignment-modal").attr("data-employee-id"),performer_id:sessionStorage.getItem("user_id"),performer_type:"individual"};"true"==sessionStorage.getItem("delete_module_admin")&&(t.delete_module_admin="true"),businessOwnerAdd(t).then((e=>{digibiz.alreadyModuleAdmin=[],sessionStorage.removeItem("delete_module_admin"),$("#employee-role-assignment-modal").remove(),Materialize.toast("Successfully added",3e3,"round success-alert"),removeLoader()})).catch((e=>{(removeLoader(),"Cannot add! This employee is present as module_admin."==e.msg)?showAlert({alert_id:"alert-digibiz-module-admin-role-present-yes-no",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"This employee is present as module admin. Module admin access of this employee will removed if this employee is made digibiz admin. Are you sure you want to make him as digibiz-admin?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-alert-lert-digibiz-module-admin-role-present-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-lert-digibiz-module-admin-role-present-confirm-no"}]}]},(function(){removeLoader()})):Materialize.toast(e.msg,3e3,"round error-alert")}))}d.length>0&&$.each(d,(function(e,t){businessOwnerDelete({device_id:crossplat.device.uuid,id:t.id}).then((e=>{digibiz.alreadyModuleAdmin=[],sessionStorage.removeItem("delete_module_admin"),$("#employee-role-assignment-modal").remove(),Materialize.toast("Successfully added",3e3,"round success-alert"),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))}))}else Materialize.toast("No data changed to save.",3e3,"round error-alert"),removeLoader()}else Materialize.toast("Can select only 3 modules.",3e3,"round error-alert"),removeLoader()}else removeLoader()}}})),$(document).on("click","#btn-lert-digibiz-module-admin-role-present-confirm-no",(function(){$("#alert-digibiz-module-admin-role-present-yes-no").remove(),sessionStorage.removeItem("add_business_owner_data")})),$(document).on("click","#btn-alert-lert-digibiz-module-admin-role-present-confirm-yes",(function(){var e=$("#alert-digibiz-module-admin-role-present-yes-no").attr("data-employee-id");$("#alert-digibiz-module-admin-role-present-yes-no").remove(),sessionStorage.setItem("delete_module_admin","true");var t={device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"digibiz_admin",employee_id:e};"true"==sessionStorage.getItem("delete_module_admin")&&(t.delete_module_admin="true"),businessOwnerAdd(t).then((e=>{digibiz.alreadyModuleAdmin=e,sessionStorage.removeItem("delete_module_admin"),$("#employee-role-assignment-modal").remove(),$("#modal-digibiz-admin-add-employee-selection").remove(),Materialize.toast("Successfully added",3e3,"round success-alert"),removeLoader()})).catch((e=>{(removeLoader(),"Cannot add! This employee is present as module_admin."==e.msg)?showAlert({alert_id:"alert-digibiz-module-admin-role-present-yes-no",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"This employee is present as module admin. Module admin access of this employee will removed if this employee is made digibiz admin. Are you sure you want to make him as digibiz-admin?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-alert-lert-digibiz-module-admin-role-present-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-lert-digibiz-module-admin-role-present-confirm-no"}]}]},(function(){removeLoader()})):Materialize.toast(e.msg,3e3,"round error-alert")}))})),$(document).on("click","#employee_role_assignment_next_btn",(function(){addLoader();var e=$(".selected-value-role-assignment-app").attr("data-value");if("bizvoiceit"==e)if("1"==$(".role-assignment-select-app.active").attr("data-step"))digibiz.role_assignment={app_access:"true"},sessionStorage.setItem("role_assignment",JSON.stringify(digibiz.role_assignment)),$('.role-assignment-select-app[data-step="1"]').removeClass("active"),$('.role-assignment-select-app[data-step="1"]').addClass("hide"),$('.role-assignment-select-app[data-step="2"]').addClass("active"),$('.role-assignment-select-app[data-step="2"]').removeClass("hide"),$("#employee_role_assignment_next_btn").addClass("hide"),removeLoader();else if("2"==$(".role-assignment-select-app.active").attr("data-step")){digibiz.role_assignment={app_access:"true",create_respond_access:$('input[name="create_respond_app_access"]:checked').attr("data-id")},(s=JSON.parse(sessionStorage.getItem("role_assignment"))).create_respond_access=$('input[name="create_respond_app_access"]:checked').attr("data-id"),sessionStorage.setItem("role_assignment",JSON.stringify(s)),$('.role-assignment-select-app[data-step="2"]').removeClass("active"),$('.role-assignment-select-app[data-step="2"]').addClass("hide"),$('.role-assignment-select-app[data-step="3"]').addClass("active"),$('.role-assignment-select-app[data-step="3"]').removeClass("hide"),removeLoader()}else if("3"==$(".role-assignment-select-app.active").attr("data-step")){var t=[],i=$(".bizvoiceit-sub-app-access");if($.each(i,(function(e,i){$(i).is(":checked")&&t.push({sub_app:$(i).attr("data-id")})})),t.length>0)digibiz.role_assignment={app_access:"true",create_respond_access:$('input[name="create_respond_app_access"]:checked').attr("data-id"),sub_app_access_data:t},(s=JSON.parse(sessionStorage.getItem("role_assignment"))).sub_app_access_data=t,sessionStorage.setItem("role_assignment",JSON.stringify(s)),$('.role-assignment-select-app[data-step="3"]').removeClass("active"),$('.role-assignment-select-app[data-step="3"]').addClass("hide"),$('.role-assignment-select-app[data-step="4"]').addClass("active"),$('.role-assignment-select-app[data-step="4"]').removeClass("hide"),$("#employee_role_assignment_back_btn").removeClass("hide"),removeLoader();else removeLoader(),Materialize.toast("Please select sub-apps",3e3,"round error-alert")}else if("4"==$(".role-assignment-select-app.active").attr("data-step"))if($('input:radio[name="share_type_mode_access"]:checked').length>0){if((s=JSON.parse(sessionStorage.getItem("role_assignment"))).share_type_mode=$('input:radio[name="share_type_mode_access"]:checked').attr("data-id"),sessionStorage.setItem("role_assignment",JSON.stringify(s)),$('.role-assignment-select-app[data-step="4"]').removeClass("active"),$('.role-assignment-select-app[data-step="4"]').addClass("hide"),"common"==$('input:radio[name="share_type_mode_access"]:checked').attr("data-id")&&($(".bizvoiceit-share-type-group-app-access").prop("checked",!1),$('.role-assignment-app-share-type-group-access-contentbox[data-type="custom"]').addClass("hide"),$('.role-assignment-app-share-type-group-access-contentbox[data-type="common"]').removeClass("hide"),$('.role-assignment-select-app[data-step="5"]').addClass("active"),$('.role-assignment-select-app[data-step="5"]').removeClass("hide"),$("#employee_role_assignment_next_btn").addClass("hide"),$("#employee_role_assignment_confirm_btn").removeClass("hide")),"custom"==$('input:radio[name="share_type_mode_access"]:checked').attr("data-id")){$(".bizvoiceit-share-type-group-app-access").prop("checked",!1),$(".role-assignment-app-share-type-group-access-wrapper").addClass("hide"),$('.role-assignment-app-share-type-group-access-contentbox[data-type="common"]').addClass("hide"),$('.role-assignment-app-share-type-group-access-contentbox[data-type="custom"]').removeClass("hide");var a=JSON.parse(sessionStorage.getItem("role_assignment"));a.sub_app_access_data.length>0&&$.each(a.sub_app_access_data,(function(e,t){$(`.role-assignment-app-share-type-group-access-wrapper[data-app="${t.sub_app}"]`).removeClass("hide")})),$('.role-assignment-select-app[data-step="5"]').addClass("active"),$('.role-assignment-select-app[data-step="5"]').removeClass("hide"),$("#employee_role_assignment_next_btn").addClass("hide"),$("#employee_role_assignment_confirm_btn").removeClass("hide")}removeLoader()}else removeLoader(),Materialize.toast("Please select one option",3e3,"round error-alert");if("digibiz"==e)if("1"==$(".role-assignment-select-app.active").attr("data-step"))digibiz.role_assignment={app_access:"true"},sessionStorage.setItem("role_assignment",JSON.stringify(digibiz.role_assignment)),$('.role-assignment-select-app[data-step="1"]').removeClass("active"),$('.role-assignment-select-app[data-step="1"]').addClass("hide"),$('.role-assignment-select-app[data-step="6"]').addClass("active"),$('.role-assignment-select-app[data-step="6"]').removeClass("hide"),$("#employee_role_assignment_next_btn").addClass("hide"),removeLoader();else if("6"==$(".role-assignment-select-app.active").attr("data-step")){businessOwnerList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"employee_module_access_list",employee_id:$("#employee-role-assignment-modal").attr("data-employee-id")}).then((e=>{digibiz.alreadyModuleAdmin=e,e.length>0&&$.each(e,(function(e,t){$(`.digibiz-module-access[data-id="${t.module}"]`).prop("checked",!0)})),digibiz.role_assignment={app_access:"true",admin_type:$('input[name="digibiz_module_admin_access"]:checked').attr("data-id")};var t=JSON.parse(sessionStorage.getItem("role_assignment"));t.admin_type=$('input[name="digibiz_module_admin_access"]:checked').attr("data-id"),sessionStorage.setItem("role_assignment",JSON.stringify(t)),$('.role-assignment-select-app[data-step="6"]').removeClass("active"),$('.role-assignment-select-app[data-step="6"]').addClass("hide"),$('.role-assignment-select-app[data-step="7"]').addClass("active"),$('.role-assignment-select-app[data-step="7"]').removeClass("hide"),$("#employee_role_assignment_next_btn").addClass("hide"),$("#employee_role_assignment_back_btn").addClass("hide"),$("#employee_role_assignment_confirm_btn").removeClass("hide"),removeLoader()})).catch((e=>{removeLoader()}))}if("bizchat"==e)if("1"==$(".role-assignment-select-app.active").attr("data-step"))bizchatCustomerIdentifierApiCall().then((()=>{sessionStorage.getItem("employee_id")?(digibiz.role_assignment={app_access:"true"},sessionStorage.setItem("role_assignment",JSON.stringify(digibiz.role_assignment)),$('.role-assignment-select-app[data-step="1"]').removeClass("active"),$('.role-assignment-select-app[data-step="1"]').addClass("hide"),$('.role-assignment-select-app[data-step="8"]').addClass("active"),$('.role-assignment-select-app[data-step="8"]').removeClass("hide"),$("#employee-role-assignment-modal").find(".modal-toolbar-container").text("Role Assignment - Bizchat - Select Contacts type"),removeLoader()):bizchatEmployeeDepartmentApiCall().then((()=>{digibiz.role_assignment={app_access:"true"},sessionStorage.setItem("role_assignment",JSON.stringify(digibiz.role_assignment)),$('.role-assignment-select-app[data-step="1"]').removeClass("active"),$('.role-assignment-select-app[data-step="1"]').addClass("hide"),$('.role-assignment-select-app[data-step="8"]').addClass("active"),$('.role-assignment-select-app[data-step="8"]').removeClass("hide"),$("#employee-role-assignment-modal").find(".modal-toolbar-container").text("Role Assignment - Bizchat - Select Contacts type"),removeLoader()})).catch((e=>{removeLoader()}))})).catch((e=>{digibiz.role_assignment={app_access:"true"},sessionStorage.setItem("role_assignment",JSON.stringify(digibiz.role_assignment)),$('.role-assignment-select-app[data-step="1"]').removeClass("active"),$('.role-assignment-select-app[data-step="1"]').addClass("hide"),$('.role-assignment-select-app[data-step="8"]').addClass("active"),$('.role-assignment-select-app[data-step="8"]').removeClass("hide"),$("#employee-role-assignment-modal").find(".modal-toolbar-container").text("Role Assignment - Bizchat - Select Contacts type"),removeLoader()}));else if("8"==$(".role-assignment-select-app.active").attr("data-step")){var o=[];i=$(".bizchat-contacts-access");if($.each(i,(function(e,t){$(t).is(":checked")&&o.push({contact_type:$(t).attr("data-id")})})),o.length>0)digibiz.role_assignment={app_access:"true",contacts_type_access:o},(s=JSON.parse(sessionStorage.getItem("role_assignment"))).contacts_type_access=o,sessionStorage.setItem("role_assignment",JSON.stringify(s)),$('.role-assignment-select-app[data-step="8"]').removeClass("active"),$('.role-assignment-select-app[data-step="8"]').addClass("hide"),$('input.bizchat-contacts-access[data-id="employee_contacts"]').is(":checked")?($('.role-assignment-select-app[data-step="9"]').addClass("active"),$('.role-assignment-select-app[data-step="9"]').removeClass("hide")):$('input.bizchat-contacts-access[data-id="customer_contacts"]').is(":checked")?($('.role-assignment-select-app[data-step="10"]').addClass("active"),$('.role-assignment-select-app[data-step="10"]').removeClass("hide")):($('.role-assignment-select-app[data-step="12"]').addClass("active"),$('.role-assignment-select-app[data-step="12"]').removeClass("hide")),$("#employee_role_assignment_back_btn").removeClass("hide"),removeLoader();else removeLoader(),Materialize.toast("Please select atleast 1 contact type",3e3,"round error-alert")}else if("9"==$(".role-assignment-select-app.active").attr("data-step")){var s;if($('input[name="bizchat_employee_contacts_acces"]:checked').length>0)(s=JSON.parse(sessionStorage.getItem("role_assignment"))).employee_contact_type_access=$('input[name="bizchat_employee_contacts_acces"]:checked').attr("data-id"),sessionStorage.setItem("role_assignment",JSON.stringify(s));else removeLoader(),Materialize.toast("Please select 1 option",3e3,"round error-alert")}})),$(document).on("click","#employee_role_assignment_back_btn",(function(){addLoader(),"bizvoiceit"==$(".selected-value-role-assignment-app").attr("data-value")&&("4"==$(".role-assignment-select-app.active").attr("data-step")?($('.role-assignment-select-app[data-step="4"]').removeClass("active"),$('.role-assignment-select-app[data-step="4"]').addClass("hide"),$('.role-assignment-select-app[data-step="3"]').addClass("active"),$('.role-assignment-select-app[data-step="3"]').removeClass("hide"),$("#employee_role_assignment_back_btn").addClass("hide"),removeLoader()):"5"==$(".role-assignment-select-app.active").attr("data-step")&&($('.role-assignment-select-app[data-step="5"]').removeClass("active"),$('.role-assignment-select-app[data-step="5"]').addClass("hide"),$('.role-assignment-select-app[data-step="4"]').addClass("active"),$('.role-assignment-select-app[data-step="4"]').removeClass("hide"),$("#employee_role_assignment_confirm_btn").addClass("hide"),$("#employee_role_assignment_next_btn").removeClass("hide"),removeLoader()))})),$(document).on("change",'input:radio[name="create_respond_app_access"]',(function(){if($(this).is(":checked")){addLoader();var e=$(this).attr("data-id");"create"==e&&($("#employee_role_assignment_confirm_btn").addClass("hide"),$("#employee_role_assignment_next_btn").removeClass("hide"),removeLoader()),"respond"==e&&($("#employee_role_assignment_confirm_btn").removeClass("hide"),$("#employee_role_assignment_next_btn").addClass("hide"),removeLoader()),"create-respond"==e&&($("#employee_role_assignment_confirm_btn").addClass("hide"),$("#employee_role_assignment_next_btn").removeClass("hide"),removeLoader())}})),$(document).on("click","#show-action-role-management-employee-app-access-data",(function(){addLoader();var e=$(this).parents(".role_management_employee_apps_access_wrapper").attr("data-app"),t=$(this).parents(".role_management_employee_apps_access_wrapper").attr("data-id");"bizchat"==e&&showAction({action_id:"role-management-employee-app-access-actions",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"Delete",attr:[{name:"id",value:"delete_role_management_app_access"}]}]},(function(){removeLoader(),$(".action-sheet-container").removeClass("hide").addClass("slide-top"),$(".action-sheet-container").attr("data-role-id",t)}));"bizvoiceit"==e&&showAction({action_id:"role-management-employee-app-access-actions",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"Edit",attr:[{name:"id",value:"edit_role_management_app_access"}]},{name:"Delete",attr:[{name:"id",value:"delete_role_management_app_access"}]}]},(function(){removeLoader(),$(".action-sheet-container").removeClass("hide").addClass("slide-top"),$(".action-sheet-container").attr("data-role-id",t)}));"digibiz"==e&&showAction({action_id:"role-management-employee-app-access-actions",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"Delete",attr:[{name:"id",value:"delete_role_management_app_access"}]}]},(function(){removeLoader(),$(".action-sheet-container").removeClass("hide").addClass("slide-top"),$(".action-sheet-container").attr("data-role-id",t)}))})),$(document).on("click","#delete_role_management_app_access",(function(){addLoader();var e=$("#role-management-employee-app-access-actions").attr("data-role-id");$("#role-management-employee-app-access-actions").remove(),showAlert({alert_id:"alert-delete-role-management-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Delete Role",alert_body:"Are you sure you want to delete this role?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-delete-role-management-confirm"}]},{name:"No",attr:[{name:"id",value:"btn-delete-role-management-cancel"}]}]},(function(){removeLoader(),$("#alert-delete-role-management-confirm-cancel").attr("data-role-id",e)}))})),$(document).on("click","#btn-delete-role-management-cancel",(function(){addLoader(),$("#alert-delete-role-management-confirm-cancel").remove(),removeLoader()})),$(document).on("click","#btn-delete-role-management-confirm",(function(){addLoader();var e=$("#alert-delete-role-management-confirm-cancel").attr("data-role-id");roleManagementDelete({device_id:crossplat.device.uuid,id:e}).then((e=>{removeLoader(),$("#alert-delete-role-management-confirm-cancel").remove(),Materialize.toast("Successfully Deleted",3e3,"round success-alert")})).catch((e=>{removeLoader(),Materialize.toast("Error in deleting role",3e3,"round error-alert")}))})),$(document).on("click","#edit_role_management_app_access",(function(){addLoader();var e=$("#role-management-employee-app-access-actions").attr("data-role-id");$("#role-management-employee-app-access-actions").remove(),roleManagementGet({device_id:crossplat.device.uuid,get_by:"role_id",id:e}).then((t=>{var i={roleData:t};fetch.getHtml((function(i,a){showModal({modal_id:"employee-role-assignment-modal",modal_header:"Role Assignment",modal_platform:crossplat.device.platform,modal_body:a,modal_action_buttons:[{name:"Back",id:"employee_role_assignment_back_btn",class:"hide"},{name:"Next",id:"employee_role_assignment_next_btn",class:"hide"},{name:"Save",id:"employee_role_assignment_save_btn",class:"hide"},{name:"Confirm",id:"employee_role_assignment_confirm_btn",class:"hide"}]},(function(){if(sessionStorage.setItem("edit_role",e),removeLoader(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),$('.role-assignment-select-app[data-step="1"]').removeClass("active").addClass("hide"),$('.role-assignment-select-app[data-step="2"]').addClass("active").removeClass("hide"),sessionStorage.setItem("role_assignment",JSON.stringify(t.access_data)),"bizvoiceit"==t.app_name){if($('input:radio[name="create_respond_app_access"]:checked').length>0){var i=$('input:radio[name="create_respond_app_access"]:checked').attr("data-id");"create"==i&&($("#employee_role_assignment_confirm_btn").addClass("hide"),$("#employee_role_assignment_next_btn").removeClass("hide"),removeLoader()),"respond"==i&&($("#employee_role_assignment_confirm_btn").removeClass("hide"),$("#employee_role_assignment_next_btn").addClass("hide"),removeLoader()),"create-respond"==i&&($("#employee_role_assignment_confirm_btn").addClass("hide"),$("#employee_role_assignment_next_btn").removeClass("hide"),removeLoader())}if(t.access_data.sub_app_access_data.length>0&&$.each(t.access_data.sub_app_access_data,(function(e,t){$(`input:checkbox.bizvoiceit-sub-app-access[data-id="${t.sub_app}"]`).prop("checked",!0)})),"common"==t.access_data.share_type_mode){var a;(a=t.access_data.sub_app_access_data[0].share_types).length>0&&$.each(a,(function(e,t){$('.role-assignment-app-share-type-group-access-contentbox[data-type="common"]').find(`.input:checkbox.bizvoiceit-share-type-group-app-access[data-id="${t}"]`).prop("checked",!0)}))}"custom"==t.access_data.share_type_mode&&$.each(t.access_data.sub_app_access_data,(function(e,t){t.share_types.length>0&&$.each(t.share_types,(function(e,i){$('.role-assignment-app-share-type-group-access-contentbox[data-type="custom"]').find(`.role-assignment-app-share-type-group-access-wrapper[data-app="${t.sub_app}"]`).find(`.input:checkbox.bizvoiceit-share-type-group-app-access[data-id="${i}"]`).prop("checked",!0)}))}))}}))}),"page/role_management/role_assignment_modal","#role-assignment-template",i)})).catch((e=>{removeLoader(),Materialize.toast("Error in getting the role.",3e3,"round error-alert")}))})),$(document).on("change",'input:radio[name="digibiz_module_admin_access"]',(function(){if($(this).is(":checked")){addLoader();var e=$(this).attr("data-id");"module_admin"==e&&($("#employee_role_assignment_confirm_btn").addClass("hide"),$("#employee_role_assignment_next_btn").removeClass("hide"),removeLoader()),"digibiz_admin"==e&&($("#employee_role_assignment_confirm_btn").removeClass("hide"),$("#employee_role_assignment_next_btn").addClass("hide"),removeLoader())}})),$(document).on("click",".digibiz-business-logs",(function(){addLoader(),sessionStorage.setItem("log_type","business"),location.hash="digibiz/logs"})),$(document).on("click",".employee-activity-logs",(function(){addLoader(),sessionStorage.setItem("log_type","employee"),location.hash="digibiz/logs"})),$(document).on("click",".customer-activity-logs",(function(){addLoader(),sessionStorage.setItem("log_type","customer_logs"),location.hash="digibiz/logs"})),$(document).on("click",".digibiz-notification-role-logs",(function(){addLoader(),sessionStorage.setItem("log_type","notification_role_page"),location.hash="digibiz/logs"})),$(document).on("click",".digibiz-business-notification-logs",(function(){addLoader(),sessionStorage.setItem("log_type","business_notification_page"),location.hash="digibiz/logs"})),$(document).on("click",".digibiz-business-owner-role-logs",(function(){addLoader(),$("body").click(),sessionStorage.setItem("log_type","business_owner_business_list_page"),location.hash="digibiz/logs"})),$(document).on("click",".digibiz-business-app-hub-logs",(function(){addLoader(),$("body").click(),sessionStorage.setItem("log_type","business_app_hub_page"),location.hash="digibiz/logs"})),$(document).on("click",".jeevi-hub-logs",(function(){addLoader(),$("body").click(),sessionStorage.setItem("log_type","jeevi_hub_page"),location.hash="digibiz/logs"})),$(document).on("click",".digibiz-hub-logs",(function(){addLoader(),$("body").click(),sessionStorage.setItem("log_type","digibiz_hub_page"),location.hash="digibiz/logs"})),$(document).on("click",".digibiz-roles-logs",(function(){addLoader(),$("body").click(),sessionStorage.setItem("log_type","digibiz_roles_logs"),location.hash="digibiz/logs"})),$(document).on("click",".digibiz-login-logs",(function(){addLoader(),$("body").click(),sessionStorage.setItem("log_type","digibiz_login_logs"),location.hash="digibiz/logs"})),$(document).on("click",".digibiz-business-logs",(function(){addLoader(),$("body").click(),sessionStorage.setItem("log_type","digibiz_business_logs"),location.hash="digibiz/logs"})),$(document).on("click","#app-permission-logs-btn",(function(e){addLoader(),$("body").click(),sessionStorage.setItem("log_type","app_permission_logs"),location.hash="digibiz/logs"})),$(document).on("click",".communication-activity-logs",(function(){addLoader(),sessionStorage.setItem("log_type","communication_group_logs"),location.hash="digibiz/logs"})),$(document).on("click",".business-notification-activity-logs",(function(){addLoader(),sessionStorage.setItem("log_type","business_notification_activity_logs"),location.hash="digibiz/logs"})),$(document).on("click",".collaborator-activity-logs",(function(){addLoader(),sessionStorage.setItem("log_type","collaborator_group_logs"),location.hash="digibiz/logs"})),$(document).on("click",".member-collaborator-activity-logs",(function(){addLoader(),sessionStorage.setItem("log_type","member_collaborator_group_logs"),location.hash="digibiz/logs"})),$(document).on("click",".communication-management",(function(){addLoader(),location.hash="communication/groups"})),$(document).on("click","#communication-group-add-btn",(function(){if(addLoader(),"communication"==sessionStorage.getItem("selected-communication-group-type-tab"))showAction({action_id:"communication-group-create-add-from-actions",action_platform:crossplat.device.platform,action_title:"Actions",action_btn:[{name:"Contact List",attr:[{name:"id",value:"communication_group_from_contact_list_btn"}]},{name:"Group List",attr:[{name:"id",value:"communication_group_from_group_list_btn"}]}]},(function(){removeLoader()}));else if("employee"==sessionStorage.getItem("selected-communication-group-type-tab")){showAction({action_id:"communication-group-activate-add-from-actions",action_platform:crossplat.device.platform,action_title:"Activate From",action_btn:[{name:"Employee Group",attr:[{name:"id",value:"communication_activate_from_employee_group_list_btn"}]},{name:"Customer Group",attr:[{name:"id",value:"communication_activate_from_customer_group_list_btn"}]}]},(function(){$("#communication-group-activate-add-from-actions").addClass("hide"),$("#communication_activate_from_employee_group_list_btn").trigger("click"),removeLoader()}))}else if("customer"==sessionStorage.getItem("selected-communication-group-type-tab")){showAction({action_id:"communication-group-activate-add-from-actions",action_platform:crossplat.device.platform,action_title:"Activate From",action_btn:[{name:"Employee Group",attr:[{name:"id",value:"communication_activate_from_employee_group_list_btn"}]},{name:"Customer Group",attr:[{name:"id",value:"communication_activate_from_customer_group_list_btn"}]}]},(function(){$("#communication-group-activate-add-from-actions").addClass("hide"),$("#communication_activate_from_customer_group_list_btn").trigger("click"),removeLoader()}))}})),$(document).on("click","#communication_activate_from_employee_group_list_btn",(function(){addLoader(),groupsList({device_id:crossplat.device.uuid,type:"employee",list_by:"business",business_id:sessionStorage.getItem("business_id")}).then((e=>{showModal({modal_platform:crossplat.device.platform,modal_id:"modal-communication-group-activate-employee-group-list-selection",modal_header:"Employee Groups",modal_body:'<div id="communication-group-activate-employee-group-list-main-container">\n                                        <span class="searchbtn waves-effect cursor-pointer"><i class="material-icons">search</i></span>\n                                         <div class="expand-search-wrap" id="communication-group-activate-employee-group-list-search-btn">\n                                         <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                                         <span class="searchclosebtn"><i class="material-icons communication-group-activate-employee-group-list-close-btn hide">close</i></span>\n                                    </div>\n                                    <div id="communication-group-activate-employee-group-list-wrapper"></div>\n                                    </div>',modal_action_buttons:[{name:"Add Moderator",id:"communication-group-activate-employee-group-next-btn"}]},(function(){$("#communication-group-activate-add-from-actions").remove(),removeLoader(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),processCommunicationGroupActivateEmployeeGroupsList(e,(function(){setTimeout((function(){}),0)}))}))})).catch((e=>{removeLoader()}))})),$(document).on("click","#communication-group-activate-employee-group-next-btn",(function(){if(addLoader(),$('input[name="communication-activate-employee-group"]:checked').length>0){var e=$('input[name="communication-activate-employee-group"]:checked').parents(".group-selection-wrapper").attr("data-group-id");groupGet({device_id:crossplat.device.uuid,id:e}).then((t=>{t.hasOwnProperty("moderator")&&t.moderator&&(digibiz.alreadySelected=t.moderator),groupMemberList({device_id:crossplat.device.uuid,group_id:e}).then((i=>{showModal({modal_platform:crossplat.device.platform,modal_id:"modal-communication-group-activate-employee-group-employee-list-selection",modal_header:"Employee Group Members",modal_body:'<div id="communication-group-activate-employee-group-employee-list-main-container">\n                                             <div class="search">                                         \n                                                <div class="expand-search-wrap search-wrapper" id="communication-group-activate-employee-group-employee-list-search-btn">\n                                                    <span class="searchbtn waves-effect cursor-pointer"><i class="material-icons">search</i></span>\n                                                    <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                                                    <span class="searchclosebtn"><i class="material-icons communication-group-activate-employee-group-employee-list-close-btn hide">close</i></span>\n                                                </div>\n                                            </div>\n                                        <div id="communication-group-activate-employee-group-employee-list-wrapper"></div>\n                                        </div>',modal_action_buttons:[{name:"Save",id:"communication-group-activate-employee-group-employee-select-save-btn"}]},(function(){$("#modal-communication-group-activate-employee-group-list-selection").remove(),$("#modal-communication-group-activate-employee-group-employee-list-selection").attr("data-group-id",e),removeLoader(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),processCommunicationGroupActivateEmployeeGroupEmployeeList(i,t,(function(){setTimeout((function(){}),0)}))}))})).catch((e=>{removeLoader()}))})).catch((e=>{removeLoader()}))}else removeLoader(),Materialize.toast("Please select atleast 1 group.",3e3,"round error-alert")})),$(document).on("click","#communication-group-activate-employee-group-employee-select-save-btn",(function(){addLoader();var e=$("#modal-communication-group-activate-employee-group-employee-list-selection").attr("data-group-id");showAlert({alert_id:"alert-employee-group-moderator-add-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Already added or existing moderator\n                won't be added again.Only new moderator will be added",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-employee-group-moderator-add-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-employee-group-moderator-add-confirm-no"}]}]},(function(){removeLoader(),$("#alert-employee-group-moderator-add-confirm-cancel").attr("data-group-id",e)}))})),$(document).on("click","#btn-employee-group-moderator-add-confirm-no",(function(){$("#alert-employee-group-moderator-add-confirm-cancel").remove()})),$(document).on("click","#btn-employee-group-moderator-add-confirm-yes",(function(){var e=$("#alert-employee-group-moderator-add-confirm-cancel").attr("data-group-id"),t=[],i=[],a=$(".communication-group-employee-select-btn");if($("#alert-employee-group-moderator-add-confirm-cancel").remove(),$.each(a,(function(e,i){$(i).parents(".communication-group-employee-select-btn-checkbox-click-wrapper").hasClass("selected-row")&&t.push({id:$(i).attr("data-dj-unique-employee-id"),type:"employee",user_id:$(i).attr("data-dj-unique-employee-id"),group_id:$(i).parents(".accordion-content").attr("data-group-id")})})),$.each(digibiz.alreadySelected,(function(e,a){if(a.hasOwnProperty("group_id")&&a.group_id){0==$(`.accordion-content[data-group-id="${a.group_id}"]`).find(`.communication-group-employee-select-btn[data-dj-unique-employee-id="${a.id}"]`).parents(".communication-group-employee-select-btn-checkbox-click-wrapper").hasClass("selected-row")&&i.push(a);var o=t.findIndex((e=>e.id==a.id&&e.group_id==a.group_id));o>-1&&t.splice(o,1)}else{0==$(`.communication-group-employee-select-btn[data-dj-unique-employee-id="${a.id}"]`).parents(".communication-group-employee-select-btn-checkbox-click-wrapper").hasClass("selected-row")&&i.push(a),t=t.filter((function(e){return e.id!=a.id}))}})),t.length>0||i.length>0){if(t.length>0)groupModeratorAdd({device_id:crossplat.device.uuid,id:e,moderator_data:t}).then((t=>{i.length>0?$.each(i,(function(t,i){var a={device_id:crossplat.device.uuid,id:e,moderator_id:i.id};i.hasOwnProperty("group_id")&&i.group_id&&(a.moderator_group_id=i.group_id),groupModeratorDelete(a).then((e=>{digibiz.alreadySelected=[],digibiz.communicationActivateEmployeeGroupEmployeeList=[],$("#modal-communication-group-activate-employee-group-employee-list-selection").remove(),Materialize.toast("Successfully updated.",3e3,"round error-alert"),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))})):(digibiz.alreadySelected=[],digibiz.communicationActivateEmployeeGroupEmployeeList=[],$("#modal-communication-group-activate-employee-group-employee-list-selection").remove(),Materialize.toast("Successfully updated.",3e3,"round error-alert"),removeLoader())})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}));0==t.length&&i.length>0&&$.each(i,(function(t,i){var a={device_id:crossplat.device.uuid,id:e,moderator_id:i.id};i.hasOwnProperty("group_id")&&i.group_id&&(a.moderator_group_id=i.group_id),groupModeratorDelete(a).then((e=>{digibiz.alreadySelected=[],digibiz.communicationActivateEmployeeGroupEmployeeList=[],$("#modal-communication-group-activate-employee-group-employee-list-selection").remove(),Materialize.toast("Successfully updated.",3e3,"round error-alert"),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))}))}else Materialize.toast("No data changed to save.",3e3,"round error-alert"),removeLoader()})),$(document).on("click","#communication_activate_from_customer_group_list_btn",(function(){addLoader(),groupsList({device_id:crossplat.device.uuid,type:"customer",list_by:"business",business_id:sessionStorage.getItem("business_id")}).then((e=>{showModal({modal_platform:crossplat.device.platform,modal_id:"modal-communication-group-activate-customer-group-list-selection",modal_header:"Customer groups",modal_body:'<div id="communication-group-activate-customer-group-list-main-container">\n                                        <span class="searchbtn waves-effect cursor-pointer"><i class="material-icons">search</i></span>\n                                         <div class="expand-search-wrap" id="communication-group-activate-customer-group-list-search-btn">\n                                         <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                                         <span class="searchclosebtn"><i class="material-icons communication-group-activate-customer-group-list-close-btn hide">close</i></span>\n                                    </div>\n                                    <div id="communication-group-activate-customer-group-list-wrapper"></div>\n                                    </div>',modal_action_buttons:[{name:"Add Moderator",id:"communication-group-activate-customer-group-next-btn"}]},(function(){$("#communication-group-activate-add-from-actions").remove(),removeLoader(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),processCommunicationGroupActivateCustomerGroupsList(e,(function(){setTimeout((function(){}),0)}))}))})).catch((e=>{removeLoader()}))})),$(document).on("click","#communication-group-activate-customer-group-next-btn",(function(){if(addLoader(),$('input[name="communication-activate-customer-group"]:checked').length>0){var e=$('input[name="communication-activate-customer-group"]:checked').parents(".group-selection-wrapper").attr("data-group-id");groupGet({device_id:crossplat.device.uuid,id:e}).then((t=>{t.hasOwnProperty("moderator")&&t.moderator&&(digibiz.alreadySelected=t.moderator),groupMemberList({device_id:crossplat.device.uuid,group_id:e}).then((t=>{showModal({modal_platform:crossplat.device.platform,modal_id:"modal-communication-group-activate-customer-group-customers-list-selection",modal_header:"Customer Group Members",modal_body:'<div id="communication-group-activate-customer-group-customers-list-main-container">\n                                            <span class="searchbtn waves-effect cursor-pointer"><i class="material-icons">search</i></span>\n                                             <div class="expand-search-wrap" id="communication-group-activate-customer-group-customers-list-search-btn">\n                                             <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                                             <span class="searchclosebtn"><i class="material-icons communication-group-activate-customer-group-customers-list-close-btn hide">close</i></span>\n                                        </div>\n                                        <div id="communication-group-activate-customer-group-customers-list-wrapper"></div>\n                                        </div>',modal_action_buttons:[{name:"Save",id:"communication-group-activate-customer-group-customers-select-save-btn"}]},(function(){$("#modal-communication-group-activate-customer-group-list-selection").remove(),$("#modal-communication-group-activate-customer-group-customers-list-selection").attr("data-group-id",e),removeLoader(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),processCommunicationGroupActivateCustomerGroupCustomersList(t,(function(){setTimeout((function(){}),0)}))}))})).catch((e=>{removeLoader()}))})).catch((e=>{removeLoader()}))}else removeLoader(),Materialize.toast("Please select atleast 1 group.",3e3,"round error-alert")})),$(document).on("click","#communication-group-activate-customer-group-customers-select-save-btn",(function(){addLoader();var e=$("#modal-communication-group-activate-customer-group-customers-list-selection").attr("data-group-id"),t=[],i=[];if($(".communication-group-activate-customer-select-btn").length>0){var a=$(".communication-group-activate-customer-select-btn");$.each(a,(function(i,a){$(a).is(":checked")&&t.push({id:$(a).attr("data-customer-id"),type:$(a).parents(".customer-selection-list-container").find(".contact-profile-container").attr("data-customer-type"),group_id:e})})),$.each(digibiz.alreadySelected,(function(e,t){0==$(`.communication-group-activate-customer-select-btn[data-customer-id="${t.id}"]`).is(":checked")&&i.push(t)})),groupModeratorAdd({device_id:crossplat.device.uuid,id:e,moderator_data:t}).then((e=>{digibiz.alreadySelected=[],digibiz.communicationActivateCustomerGroupCustomersList=[],$("#modal-communication-group-activate-customer-group-customers-list-selection").remove(),Materialize.toast("Successfully in adding moderator.",3e3,"round error-alert"),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")})),i.length>0&&$.each(i,(function(t,i){groupModeratorDelete({device_id:crossplat.device.uuid,id:e,moderator_id:i.id}).then((e=>{})).catch((e=>{}))}))}else removeLoader(),Materialize.toast("Please select atleast 1 member.",3e3,"round error-alert")})),$(document).on("click","#communication_group_from_contact_list_btn",(function(){addLoader(),sessionStorage.setItem("group_type","create"),sessionStorage.setItem("group_from","contact_list"),$("#communication-group-create-add-from-actions").remove(),location.hash="communication/group_details"})),$(document).on("click","#communication_group_from_group_list_btn",(function(){addLoader(),sessionStorage.setItem("group_type","create"),sessionStorage.setItem("group_from","group_list"),$("#communication-group-create-add-from-actions").remove(),location.hash="communication/group_details"})),$(document).on("click","#add_communication_group_employee_members",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){addLoader();var t=sessionStorage.getItem("group_from");if("contact_list"==t){addLoader(),digibiz.communicationGroupEmployeeSelectionList=[],digibiz.alreadySelected=[];var i=[];$(".communication-group-employee-member-wrapper").length>0&&$.each($(".communication-group-employee-member-wrapper"),(function(e,t){i.push({id:$(t).attr("data-dj-unique-employee-id"),type:"new_member"}),digibiz.alreadySelected.push({id:$(t).attr("data-dj-unique-employee-id"),type:"new_member"})})),$("#communication-group-employee-members-list").find(".communication-group-member-wrapper").length>0&&$.each($("#communication-group-employee-members-list .communication-group-member-wrapper"),(function(e,t){i.push({id:$(t).attr("data-employee-id"),type:"old_member"}),digibiz.alreadySelected.push({id:$(t).attr("data-employee-id"),type:"old_member"})})),employeeList({device_id:crossplat.device.uuid,list_by:"list_only_active",business_id:sessionStorage.getItem("business_id"),count:20,offset:0}).then((e=>{showModal({modal_id:"modal-communication-group-employees-selection",modal_header:"Employee List",modal_platform:crossplat.device.platform,modal_body:'<div id="communication-group-employees-selection-list-main-container">\n                            <span class="searchbtn waves-effect cursor-pointer"><i class="material-icons">search</i></span>\n                             <div class="expand-search-wrap" id="communication-group-create-employee-group-list-search-btn">\n                             <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                             <span class="searchclosebtn"><i class="material-icons hide">close</i></span>\n                        </div>\n                        <div id="communication-group-employees-selection-list-wrapper"></div>\n                        </div>',modal_action_buttons:[{name:"Add",id:"add-communication-group-selected-employees"}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),removeLoader(),processCommunicationGroupCreateEmployeeSelectionList(e,(function(){setTimeout((function(){listenForCommunicationGroupCreateEmployeeSelectionListScrollEvent($(".modal-popup-content"));var t=$("#modal-communication-group-employees-selection").find(".expand-search-input");t&&($(document).on("input",t,(function(){timestamp=(new Date).getTime(),t.attr("socketid",timestamp)})),$(document).on("keyup",t,(function(){if(socketid=t.attr("socketid"),keyword=t.val(),socketid&&keyword){if(document.getElementsByClassName("searchclosebtn")[0].style.display="flex",currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:socketid,app:"digibiz",keyword:keyword},"communication_group_details"===currentroute)$("#modal-communication-group-employees-selection").length>0&&(data.index="getCommunicationGroupEmployeeMembersSelection",data.business_id=sessionStorage.getItem("business_id"));addLoader(),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300)}else if(removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),t.attr("socketid",""),"communication_group_details"===currentroute)$("#modal-communication-group-employees-selection").length>0&&processCommunicationGroupCreateEmployeeSelectionList(e,(function(){}))})),$(document).on("click",".searchclosebtn",(function(){$("#modal-communication-group-employees-selection").length>0&&processCommunicationGroupCreateEmployeeSelectionList(e,(function(){}))})))}),0)}))}))})).catch((e=>{removeLoader(),Materialize.toast("No Employees Found",3e3,"round success-alert")}))}else if("group_list"==t){addLoader(),digibiz.communicationCreateEmployeeGroupsList=[],groupsList({device_id:crossplat.device.uuid,type:"employee",list_by:"active_employee_groups",business_id:sessionStorage.getItem("business_id"),count:20,offset:0}).then((e=>{showModal({modal_id:"modal-communication-group-employee-group-selection",modal_header:"Employee Group List",modal_platform:crossplat.device.platform,modal_body:'<div id="communication-group-create-employee-group-list-main-container">\n                        <div class="search">\n                            <div class="expand-search-wrap search-wrapper" id="communication-group-create-employee-group-list-search-btn">\n                                <span class="searchbtn waves-effect cursor-pointer"><i class="material-icons">search</i></span>\n                                <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                                <span class="searchclosebtn"><i class="material-icons communication-group-create-employee-group-list-close-btn hide">close</i></span>\n                            </div>\n                        </div>\n                        <div id="communication-group-create-employee-group-list-wrapper"></div>\n                        </div>',modal_action_buttons:[{name:"Add",id:"add-communication-group-selected-employee-group"}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),processCommunicationGroupCreateEmployeeGroupsList(e,(function(){setTimeout((function(){appScroll.scrollBar(".modal-popup-content"),listenForCommunicationGroupCreateEmployeeGroupsListScrollEvent($(".modal-popup-content"));var t=$("#modal-communication-group-employee-group-selection").find(".expand-search-input");t&&($(document).on("input",t,(function(){timestamp=(new Date).getTime(),t.attr("socketid",timestamp)})),$(document).on("keyup",t,(function(){if(socketid=t.attr("socketid"),keyword=t.val(),socketid&&keyword){if(document.getElementsByClassName("searchclosebtn")[0].style.display="flex",currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:socketid,app:"digibiz",keyword:keyword},"communication_group_details"===currentroute)$("#modal-communication-group-employee-group-selection").length>0&&(data.index="getCommunicationGroupEmployeeGroupSelection",data.business_id=sessionStorage.getItem("business_id"));addLoader(),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300)}else if(removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),t.attr("socketid",""),"communication_group_details"===currentroute)$("#modal-communication-group-employee-group-selection").length>0&&processCommunicationGroupCreateEmployeeGroupsList(e,(function(){}))})),$(document).on("click",".searchclosebtn",(function(){$("#modal-communication-group-employee-group-selection").length>0&&processCommunicationGroupCreateEmployeeGroupsList(e,(function(){}))})))}),0)})),removeLoader()}))})).catch((e=>{removeLoader(),Materialize.toast("No Employee Groups Found.",3e3,"round success-alert")}))}}})),$(document).on("click","#add_communication_group_customer_members",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){addLoader(),digibiz.communicationSelectedContactList=[],digibiz.communicationGroupsCustomerContactsList=[],digibiz.communicationCreateCustomersGroupsList=[];var t=sessionStorage.getItem("group_from");if("contact_list"==t)customerIdentifierList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),count:15,offset:0,list_by:"customer"}).then((e=>{removeLoader(),showModal({modal_platform:crossplat.device.platform,modal_id:"modal-communication-group-customer-contact-list-selection",modal_header:"Contact List",modal_body:'<div id="communication-group-contacts-items-list-main-container">\n                                            <span class="searchbtn waves-effect cursor-pointer"><i class="material-icons">search</i></span>\n                                             <div class="expand-search-wrap" id="communication-group-contacts-items-list-search-btn">\n                                             <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                                             <span class="searchclosebtn"><i class="material-icons communication-group-contacts-items-list-close-btn hide">close</i></span>\n                                        </div>\n                                        <div id="communication-group-contacts-items-list-wrapper"></div>\n                                        </div>',modal_action_buttons:[{name:"Add",id:"add-communication-group-selected-customers"}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),processCommunicationGroupContactListCustomerList(e,(function(){setTimeout((function(){listenForCommunicationGroupContactListCustomerListScrollEvent($(".modal-popup-content"));var t=$("#modal-communication-group-customer-contact-list-selection").find(".expand-search-input");t&&($(document).on("input",t,(function(){timestamp=(new Date).getTime(),t.attr("socketid",timestamp)})),$(document).on("keyup",t,(function(){if(socketid=t.attr("socketid"),keyword=t.val(),socketid&&keyword){if(document.getElementsByClassName("searchclosebtn")[0].style.display="flex",currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:socketid,app:"digibiz",keyword:keyword},"communication_group_details"===currentroute)$("#modal-communication-group-customer-contact-list-selection").length>0&&(data.index="getCustomerIdentifiersTab",data.business_id=sessionStorage.getItem("business_id"));addLoader(),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300)}else if(removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),t.attr("socketid",""),"communication_group_details"===currentroute)$("#modal-communication-group-customer-contact-list-selection").length>0&&processCommunicationGroupContactListCustomerList(e,(function(){}))})),$(document).on("click",".searchclosebtn",(function(){$("#modal-communication-group-customer-contact-list-selection").length>0&&processCommunicationGroupContactListCustomerList(e,(function(){}))})))}),0)}))}))})).catch((e=>{removeLoader()}));else if("group_list"==t){addLoader(),groupsList({device_id:crossplat.device.uuid,type:"customer",list_by:"draft_active_customer_groups",business_id:sessionStorage.getItem("business_id"),count:20,offset:0}).then((e=>{showModal({modal_id:"modal-communication-group-customer-group-selection",modal_header:"Customer Group List",modal_platform:crossplat.device.platform,modal_body:'<div id="communication-group-create-customer-group-list-main-container">\n                        <div class="search">\n                            <div class="expand-search-wrap search-wrapper" id="communication-group-create-customer-group-list-search-btn">\n                                <span class="searchbtn waves-effect cursor-pointer"><i class="material-icons">search</i></span>\n                                <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                                <span class="searchclosebtn"><i class="material-icons communication-group-create-customer-group-list-close-btn hide">close</i></span>\n                            </div>\n                        </div>\n                        <div id="communication-group-create-customer-group-list-wrapper"></div>\n                        </div>',modal_action_buttons:[{name:"Add",id:"add-communication-group-selected-customer-group"}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),processCommunicationGroupCreateCustomerGroupsList(e,(function(){setTimeout((function(){listenForCommunicationGroupCreateCustomerGroupsListScrollEvent($(".modal-popup-content"));var t=$("#modal-communication-group-customer-group-selection").find(".expand-search-input");t&&($(document).on("input",t,(function(){timestamp=(new Date).getTime(),t.attr("socketid",timestamp)})),$(document).on("keyup",t,(function(){if(socketid=t.attr("socketid"),keyword=t.val(),socketid&&keyword){if(document.getElementsByClassName("searchclosebtn")[0].style.display="flex",currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:socketid,app:"digibiz",keyword:keyword},"communication_group_details"===currentroute)$("#modal-communication-group-customer-group-selection").length>0&&(data.index="getCommunicationGroupCustomerGroupSelection",data.business_id=sessionStorage.getItem("business_id"));addLoader(),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300)}else if(removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),t.attr("socketid",""),"communication_group_details"===currentroute)$("#modal-communication-group-customer-group-selection").length>0&&processCommunicationGroupCreateCustomerGroupsList(e,(function(){}))})),$(document).on("click",".searchclosebtn",(function(){$("#modal-communication-group-customer-group-selection").length>0&&processCommunicationGroupCreateCustomerGroupsList(e,(function(){}))})))}),0)})),removeLoader()}))})).catch((e=>{removeLoader(),Materialize.toast("No customer groups found.",3e3,"round success-alert")}))}}})),$(document).on("click","#add_communication_group_collaborator_members",(function(e){(e.stopImmediatePropagation(),isDoubleClicked($(this)))||(addLoader(),"group_list"==sessionStorage.getItem("group_from")?collaboratorGroupsList({device_id:crossplat.device.uuid,list_by:"all_my_active_collaborator_groups",business_id:sessionStorage.getItem("business_id"),count:20,offset:0}).then((e=>{showModal({modal_id:"modal-communication-group-collaborator-group-selection",modal_header:"Collaborator Group List",modal_platform:crossplat.device.platform,modal_body:'<div id="communication-group-create-collaborator-group-list-main-container">\n                        <div class="search">\n                            <div class="expand-search-wrap search-wrapper" id="communication-group-create-collaborator-group-list-search-btn">\n                                <span class="searchbtn waves-effect"><i class="material-icons">search</i></span>\n                                <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                                <span class="searchclosebtn"><i class="material-icons communication-group-create-collaborator-group-list-close-btn hide">close</i></span>\n                            </div>\n                        </div>\n                        <div id="communication-group-create-collaborator-group-list-wrapper"></div>\n                        </div>',modal_action_buttons:[{name:"Add",id:"add-communication-group-selected-collaborator-group"}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),processCommunicationGroupCreateCollaboratorGroupsList(e,(function(){setTimeout((function(){listenForCommunicationGroupCreateCollaboratorGroupsListScrollEvent($(".modal-popup-content"));var t=$("#modal-communication-group-collaborator-group-selection").find(".expand-search-input");t&&($(document).on("input",t,(function(){timestamp=(new Date).getTime(),t.attr("socketid",timestamp)})),$(document).on("keyup",t,(function(){if(socketid=t.attr("socketid"),keyword=t.val(),socketid&&keyword){if(document.getElementsByClassName("searchclosebtn")[0].style.display="flex",currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:socketid,app:"digibiz",keyword:keyword},"communication_group_details"===currentroute)$("#modal-communication-group-collaborator-group-selection").length>0&&(data.index="getCommunicationGroupCollaboratorGroupSelection",data.business_id=sessionStorage.getItem("business_id"));addLoader(),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300)}else if(removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),t.attr("socketid",""),"communication_group_details"===currentroute)$("#modal-communication-group-collaborator-group-selection").length>0&&processCommunicationGroupCreateCollaboratorGroupsList(e,(function(){}))})),$(document).on("click",".searchclosebtn",(function(){$("#modal-communication-group-collaborator-group-selection").length>0&&processCommunicationGroupCreateCollaboratorGroupsList(e,(function(){}))})))}),0)})),removeLoader()}))})).catch((e=>{removeLoader(),Materialize.toast("No Collaborator Groups Found.",3e3,"round success-alert")})):removeLoader())})),$(document).on("click","#add-communication-group-selected-employees",(function(){if(addLoader(),$(".communication-group-employee-select-btn:checked").length>0){if(sessionStorage.getItem("group_id"))showAlert({alert_id:"alert-communication-group-selected-employees-add-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Already added or existing members\n                    won't be added again.Only new members will be added",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-communication-group-selected-employees-add-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-communication-group-selected-employees-add-confirm-no"}]}]},(function(){removeLoader()}));else $.each($(".communication-group-employee-select-btn:checked"),(function(e,t){var i=$(t).attr("data-dj-unique-employee-id"),a=$(t).parents(".employee-selection-list-container").find(".contact-name-wrapper").text(),o=$(t).parents(".employee-selection-list-container").find(".group-designation-name ").text(),s=$(t).parents(".employee-selection-list-container").find(".contact-name-wrapper").text().charAt(0);if(null!=i)if(-1==digibiz.selectedMembers.findIndex((e=>e.id==$(t).attr("data-dj-unique-employee-id")))){var r=`<div class="tooltipped communication-group-employee-member-wrapper member-listing-wrapper" data-dj-unique-employee-id="${i}"><div class="file-select">\n            <input type="checkbox" name="selectedmembers[]" class="contactlists communication-group-employee-member-checkbox filled-in" value="${i}" id="selected-${i}" checked=""><i class="material-icons">done</i><div class="profile-text group-profile-text text-small-size">\n                <span>${s}</span> \n             </div></div><div class="filemanager-file-wrapper"><span class="truncate" for="selected-${i}">${a}</span>\n             <span class="truncate">${o}</span></div>\n        </div>`;$("#communication-group-employee-members-list").append(r),$("#modal-communication-group-employees-selection").remove();var n={id:i,name:a,designation_name:o,imageLetter:s,dj_unique_employee_id:i,selected:!0,type:"employee_list"};digibiz.selectedMembers.push(n)}else $("#modal-communication-group-employees-selection").remove();else removeLoader()})),removeLoader();appScroll.scrollBar("#communication-group-employee-members-list")}else removeLoader(),Materialize.toast("Please select alteast 1 contact",3e3,"round error-alert")})),$(document).on("click","#btn-communication-group-selected-employees-add-confirm-no",(function(){$("#alert-communication-group-selected-employees-add-confirm-cancel").remove()})),$(document).on("click","#btn-communication-group-selected-employees-add-confirm-yes",(function(){addLoader();let e=[];$.each($(".communication-group-employee-select-btn:checked"),(function(t,i){e.push({id:$(i).attr("data-dj-unique-employee-id"),type:"employee"}),-1==digibiz.selectedMembers.findIndex((e=>e.id==$(i).attr("data-dj-unique-employee-id")))&&digibiz.selectedMembers.push(e)}));var t=removeDuplicates(e,"id");groupMemberAdd({device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id"),members:t}).then((e=>{Materialize.toast("Members Added Successfully",3e3,"round success-alert"),getCommunicationGroupDetailPage(),$("#modal-communication-group-employees-selection").remove(),$("#alert-communication-group-selected-employees-add-confirm-cancel").remove()})).catch((e=>{removeLoader(),Materialize.toast("Error in group members adding",3e3,"round success-alert")}))})),$(document).on("click","#add-communication-group-selected-customers",(function(){if(addLoader(),$(".communication-group-customer-contact-select-btn-checkbox-click-wrapper.selected-row").length>0){if(sessionStorage.getItem("group_id"))showAlert({alert_id:"alert-communication-group-selected-customers-add-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Already added or existing members\n                    won't be added again.Only new members will be added",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-communication-group-selected-customers-add-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-communication-group-selected-customers-add-confirm-no"}]}]},(function(){removeLoader()}));else $.each($(".communication-group-customer-contact-select-btn-checkbox-click-wrapper.selected-row"),(function(e,t){var i=$(t).find(".communication-group-customer-contact-select-btn").attr("data-id"),a=$(t).find(".communication-groups-identifier-based-contact-data-wrapper").find(".customer-contact-name span").text(),o=$(t).find(".communication-groups-identifier-based-contact-data-wrapper").find(".customer-contact-name span").text().charAt(0),s=$(t).find(".communication-group-customer-contact-select-btn").attr("data-type"),r=$(t).find(".communication-group-customer-contact-select-btn").attr("data-role-id"),n=$(t).find(".communication-group-customer-contact-select-btn").attr("data-role-type"),d=$(t).find(".communication-group-customer-contact-select-btn").attr("data-role-business-id"),c=$(t).find(".customer-role-business-name span").text(),l=$(t).find(".communication-group-customer-contact-select-btn").attr("data-more-info");if(console.log("getMoreInfo",l),console.log("getCustomerType",s),"associate_customer"==s){var p=$(t).attr("data-parent-customer-id"),m=$(t).parents('.accordion-contenttt[data-content-type="contact_item"]').siblings('.accordion-titleee[data-type="contact_item"]').attr("data-associate-customer-identifier-id"),u=$(t).parents('.accordion-contenttt[data-content-type="identifier"]').attr("id"),g=$(t).find(".associate-customer-info span").text();if(console.log("getAssociateCustomerInfo",g),null!=i){var _={id:i,name:a,imageLetter:o,customer_type:s,role_id:r,role_type:n,role_business_id:d,role_business_name:c,parent_customer_id:p,parent_customer_identifier_id:u,identifier_id:m,associate_customter_info:g,more_info:l,type:"associate_customer",selected:!0};if(console.log("members",_),-1==(e=digibiz.selectedMembers.findIndex((e=>e.id==i)))){if(digibiz.selectedMembers.push(_),"employee"==n){var f=`<div class="tooltipped communication-group-customer-member-wrapper member-listing-wrapper" data-id="${i}" data-identifier-id="${m}" data-parent-customer-identifier-id="${u}" data-parent-customer-id="${p}">\n                                                    <div class="file-select">\n                                                        <input type="checkbox" name="selectedmembers[]" class="contactlists communication-group-customer-member-checkbox filled-in" value="${i}" data-type="${s}" data-parent-customer-id="${p}" id="selected-${i}" checked="" data-role-id="${r}" data-role-type="${n}" data-role-business-id="${d}">\n                                                        <i class="material-icons">done</i>\n                                                        <div class="profile-text group-profile-text text-small-size">\n                                                            <span>${o}</span> \n                                                        </div>\n                                                    </div>\n                                                    <div class="filemanager-file-wrapper">\n                                                        <div>\n                                                            <span class="truncate" for="selected-${i}">${a}</span>\n                                                            <span class="truncate selected-member-role-business-name wrapper-secondary-heading" for="selected-${i}">${c}</span>\n                                                            <span class="truncate selected-member-info wrapper-secondary-heading" for="selected-${i}">${l}</span>\n                                                        </div>\n                                                    </div>\n                                                </div>`;$("#communication-group-customer-members-list").append(f),$(".communication-group-customer-contact-select-btn-checkbox-click-wrapper.selected-row").length==e+1&&$("#modal-communication-group-customer-contact-list-selection").remove()}else{f=`<div class="tooltipped communication-group-customer-member-wrapper member-listing-wrapper" data-id="${i}" data-identifier-id="${m}" data-parent-customer-identifier-id="${u}" data-parent-customer-id="${p}">\n                                                    <div class="file-select">\n                                                        <input type="checkbox" name="selectedmembers[]" class="contactlists communication-group-customer-member-checkbox filled-in" value="${i}" data-type="${s}" data-parent-customer-id="${p}" id="selected-${i}" checked="" data-role-id="${r}" data-role-type="${n}" data-role-business-id="${d}">\n                                                        <i class="material-icons">done</i>\n                                                        <div class="profile-text group-profile-text text-small-size">\n                                                            <span>${o}</span> \n                                                        </div>\n                                                    </div>\n                                                    <div class="filemanager-file-wrapper">\n                                                        <div>\n                                                            <span class="truncate" for="selected-${i}">${a}</span>\n                                                            <span class="truncate selected-member-info wrapper-secondary-heading" for="selected-${i}">${g}</span>\n                                                        </div>\n                                                    </div>\n                                                </div>`;$("#communication-group-customer-members-list").append(f)}$(".communication-group-customer-contact-select-btn-checkbox-click-wrapper.selected-row").length==e+1&&$("#modal-communication-group-customer-contact-list-selection").remove()}}else removeLoader()}else{m=$(t).parents('.accordion-contenttt[data-content-type="identifier"]').attr("id");if(null!=i){_={id:i,name:a,imageLetter:o,customer_type:s,role_id:r,role_type:n,role_business_id:d,role_business_name:c,more_info:l,type:"customer",selected:!0};if(console.log("members",_),-1==(e=digibiz.selectedMembers.findIndex((e=>e.id==i)))){if(digibiz.selectedMembers.push(_),"employee"==n){f=`<div class="tooltipped communication-group-customer-member-wrapper member-listing-wrapper" data-id="${i}" data-identifier-id="${m}">\n                                                    <div class="file-select">\n                                                        <input type="checkbox" name="selectedmembers[]" class="contactlists communication-group-customer-member-checkbox filled-in" value="${i}" data-type="${s}" id="selected-${i}" checked="" data-role-id="${r}" data-role-type="${n}" data-role-business-id="${d}">\n                                                        <i class="material-icons">done</i>\n                                                        <div class="profile-text group-profile-text text-small-size">\n                                                            <span>${o}</span> \n                                                        </div>                                                        \n                                                    </div>\n                                                    <div class="filemanager-file-wrapper">\n                                                        <div>\n                                                            <span class="truncate" for="selected-${i}">${a}</span>\n                                                            <span class="truncate selected-member-role-business-name wrapper-secondary-heading" for="selected-${i}">${c}</span>\n                                                            <span class="truncate selected-member-info wrapper-secondary-heading" for="selected-${i}">${l}</span>\n                                                        </div>\n                                                    </div>\n                                                </div>`;$("#communication-group-customer-members-list").append(f),$(".communication-group-customer-contact-select-btn-checkbox-click-wrapper.selected-row").length==e+1&&$("#modal-communication-group-customer-contact-list-selection").remove()}else{f=`<div class="tooltipped communication-group-customer-member-wrapper member-listing-wrapper" data-id="${i}" data-identifier-id="${m}">\n                                                    <div class="file-select">\n                                                        <input type="checkbox" name="selectedmembers[]" class="contactlists communication-group-customer-member-checkbox filled-in" value="${i}" data-type="${s}" id="selected-${i}" checked="" data-role-id="${r}" data-role-type="${n}" data-role-business-id="${d}">\n                                                        <i class="material-icons">done</i>\n                                                        <div class="profile-text group-profile-text text-small-size">\n                                                            <span>${o}</span> \n                                                        </div>                                                        \n                                                    </div>\n                                                    <div class="filemanager-file-wrapper">\n                                                        <div>\n                                                            <span class="truncate" for="selected-${i}">${a}</span>\n                                                            <span class="truncate selected-member-info wrapper-secondary-heading" for="selected-${i}">${l}</span>\n                                                        </div>\n                                                    </div>\n                                                </div>`;$("#communication-group-customer-members-list").append(f)}$(".communication-group-customer-contact-select-btn-checkbox-click-wrapper.selected-row").length==e+1&&$("#modal-communication-group-customer-contact-list-selection").remove()}}else removeLoader()}})),removeLoader();appScroll.scrollBar("#communication-group-customer-members-list")}else removeLoader(),Materialize.toast("Please select alteast 1 contact",3e3,"round error-alert")})),$(document).on("click","#btn-communication-group-selected-customers-add-confirm-no",(function(){$("#alert-communication-group-selected-customers-add-confirm-cancel").remove()})),$(document).on("click","#btn-communication-group-selected-customers-add-confirm-yes",(function(){addLoader();let e=[];$.each($(".communication-group-customer-contact-select-btn:checked"),(function(t,i){e.push({id:$(i).attr("data-id"),type:"customer",customer_type:$(i).attr("data-type")})}));var t=removeDuplicates(e,"id");groupMemberAdd({device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id"),members:t}).then((e=>{Materialize.toast("Members Added Successfully",3e3,"round success-alert"),getCommunicationGroupDetailPage(),$("#modal-communication-group-customer-contact-list-selection").remove(),$("#alert-communication-group-selected-customers-add-confirm-cancel").remove()})).catch((e=>{removeLoader(),Materialize.toast("Error in group members adding",3e3,"round success-alert")}))})),$(document).on("click","#add-communication-group-selected-employee-group",(function(){(addLoader(),$(".communication-group-create-employee-group-selected:checked").length>0)?sessionStorage.getItem("group_id")?showAlert({alert_id:"alert-communication-group-selected-employees-groups-add-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Already added or existing members\n                    won't be added again.Only new members will be added",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-communication-group-selected-employees-groups-add-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-communication-group-selected-employees-groups-add-confirm-no"}]}]},(function(){removeLoader()})):($.each($(".communication-group-create-employee-group-selected:checked"),(function(e,t){var i=$(t).parents(".group-selection-wrapper").attr("data-group-id"),a=$(t).parents(".group-selection-wrapper").find(".employee-group-name").text(),o=$(t).parents(".group-selection-wrapper").find(".employee-group-name").text().charAt(0);if("standard"==$(t).parents(".group-selection-wrapper").attr("data-standard-custom-type")){var s=$(t).parents(".group-selection-wrapper").attr("data-department-id");if(null!=i){var r=`<div class="tooltipped communication-group-employee-group-member-wrapper member-listing-wrapper" data-id="${i}" data-department-id="${s}"><div class="file-select">\n            <input type="checkbox" name="selectedmembers[]" class="contactlists communication-group-employee-group-member-checkbox filled-in" value="${i}" id="selected-${i}" checked=""><i class="material-icons">done</i><div class="profile-text group-profile-text text-small-size">\n                <span>${o}</span> \n             </div></div><div class="filemanager-file-wrapper"><span class="truncate" for="selected-${i}">${a}</span></div>\n        </div>`;$("#communication-group-employee-members-list").append(r),$("#modal-communication-group-employee-group-selection").remove()}else removeLoader()}else if(null!=i){r=`<div class="tooltipped communication-group-employee-group-member-wrapper member-listing-wrapper" data-id="${i}"><div class="file-select">\n            <input type="checkbox" name="selectedmembers[]" class="contactlists communication-group-employee-group-member-checkbox filled-in" value="${i}" id="selected-${i}" checked=""><i class="material-icons">done</i><div class="profile-text group-profile-text text-small-size">\n                <span>${o}</span> \n             </div></div><div class="filemanager-file-wrapper"><span class="truncate" for="selected-${i}">${a}</span></div>\n        </div>`;$("#communication-group-employee-members-list").append(r),$("#modal-communication-group-employee-group-selection").remove()}else removeLoader()})),removeLoader()):(removeLoader(),Materialize.toast("Please select alteast 1 group",3e3,"round error-alert"))})),$(document).on("click","#btn-communication-group-selected-employees-groups-add-confirm-no",(function(){$("#alert-communication-group-selected-employees-groups-add-confirm-cancel").remove()})),$(document).on("click","#btn-communication-group-selected-employees-groups-add-confirm-yes",(function(){addLoader();let e=[];$.each($(".communication-group-create-employee-group-selected:checked"),(function(t,i){e.push({id:$(i).parents(".group-selection-wrapper").attr("data-group-id"),type:"employee_group"})}));var t=removeDuplicates(e,"id");groupMemberAdd({device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id"),members:t}).then((e=>{$("#alert-communication-group-selected-employees-groups-add-confirm-cancel").remove(),Materialize.toast("Members Added Successfully",3e3,"round success-alert"),getCommunicationGroupDetailPage(),$("#modal-communication-group-employee-group-selection").remove()})).catch((e=>{removeLoader(),Materialize.toast("Error in group members adding",3e3,"round success-alert")}))})),$(document).on("click","#add-communication-group-selected-customer-group",(function(){(addLoader(),$(".communication-group-create-customer-group-selected:checked").length>0)?sessionStorage.getItem("group_id")?showAlert({alert_id:"alert-communication-group-selected-customers-groups-add-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Already added or existing members\n                    won't be added again.Only new members will be added",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-communication-group-selected-customers-groups-add-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-communication-group-selected-customers-groups-add-confirm-no"}]}]},(function(){removeLoader()})):($.each($(".communication-group-create-customer-group-selected:checked"),(function(e,t){var i=$(t).parents(".group-selection-wrapper").attr("data-group-id"),a=$(t).parents(".group-selection-wrapper").find(".customer-group-name").text(),o=$(t).parents(".group-selection-wrapper").find(".customer-group-name").text().charAt(0);if(null!=i){var s=`<div class="tooltipped communication-group-customer-group-member-wrapper member-listing-wrapper" data-id="${i}"><div class="file-select">\n            <input type="checkbox" name="selectedmembers[]" class="contactlists communication-group-customer-group-member-checkbox filled-in" value="${i}" id="selected-${i}" checked=""><i class="material-icons">done</i><div class="profile-text group-profile-text text-small-size">\n                <span>${o}</span> \n             </div></div><div class="filemanager-file-wrapper"><span class="truncate" for="selected-${i}">${a}</span></div>\n        </div>`;$("#communication-group-customer-members-list").append(s),$("#modal-communication-group-customer-group-selection").remove()}else removeLoader()})),removeLoader()):(removeLoader(),Materialize.toast("Please select alteast 1 group",3e3,"round error-alert"))})),$(document).on("click","#btn-communication-group-selected-customers-groups-add-confirm-no",(function(){$("#alert-communication-group-selected-customers-groups-add-confirm-cancel").remove()})),$(document).on("click","#btn-communication-group-selected-customers-groups-add-confirm-yes",(function(){addLoader();let e=[];$.each($(".communication-group-create-customer-group-selected:checked"),(function(t,i){e.push({id:$(i).parents(".group-selection-wrapper").attr("data-group-id"),type:"customer_group"})}));var t=removeDuplicates(e,"id");groupMemberAdd({device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id"),members:t}).then((e=>{Materialize.toast("Members Added Successfully",3e3,"round success-alert"),getCommunicationGroupDetailPage(),$("#modal-communication-group-customer-group-selection").remove(),$("#alert-communication-group-selected-customers-groups-add-confirm-cancel").remove()})).catch((e=>{removeLoader(),Materialize.toast("Error in group members adding",3e3,"round success-alert")}))})),$(document).on("click","#add-communication-group-selected-collaborator-group",(function(){(addLoader(),$(".communication-group-create-collaborator-group-selected:checked").length>0)?sessionStorage.getItem("group_id")?showAlert({alert_id:"alert-communication-group-selected-collaborator-groups-add-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Already added or existing members\n                    won't be added again.Only new members will be added",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-communication-group-selected-collaborator-groups-add-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-communication-group-selected-collaborator-groups-add-confirm-no"}]}]},(function(){removeLoader()})):($.each($(".communication-group-create-collaborator-group-selected:checked"),(function(e,t){var i=$(t).parents(".group-selection-wrapper").attr("data-group-id"),a=$(t).parents(".group-selection-wrapper").find(".collaborator-group-name").text(),o=$(t).parents(".group-selection-wrapper").find(".collaborator-group-name").text().charAt(0);if(null!=i){var s=`<div class="tooltipped communication-group-collaborator-group-member-wrapper member-listing-wrapper" data-id="${i}"><div class="file-select">\n                <input type="checkbox" name="selectedmembers[]" class="contactlists communication-group-collaborator-group-member-checkbox filled-in" value="${i}" id="selected-${i}" checked=""><i class="material-icons">done</i><div class="profile-text group-profile-text text-small-size">\n                    <span>${o}</span> \n                 </div></div><div class="filemanager-file-wrapper"><span class="truncate" for="selected-${i}">${a}</span></div>\n            </div>`;$("#communication-group-collaborator-members-list").append(s),$("#modal-communication-group-collaborator-group-selection").remove()}else removeLoader()})),removeLoader()):(removeLoader(),Materialize.toast("Please select alteast 1 group",3e3,"round error-alert"))})),$(document).on("click","#btn-communication-group-selected-collaborator-groups-add-confirm-no",(function(){$("#alert-communication-group-selected-collaborator-groups-add-confirm-cancel").remove()})),$(document).on("click","#btn-communication-group-selected-collaborator-groups-add-confirm-yes",(function(){addLoader();let e=[];$.each($(".communication-group-create-collaborator-group-selected:checked"),(function(t,i){e.push({id:$(i).parents(".group-selection-wrapper").attr("data-group-id"),type:"collaborator_group"})}));var t=removeDuplicates(e,"id");groupMemberAdd({device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id"),members:t}).then((e=>{Materialize.toast("Members Added Successfully",3e3,"round success-alert"),getCommunicationGroupDetailPage(),$("#modal-communication-group-collaborator-group-selection").remove(),$("#alert-communication-group-selected-collaborator-groups-add-confirm-cancel").remove()})).catch((e=>{removeLoader(),Materialize.toast("Error in group members adding",3e3,"round success-alert")}))})),$(document).on("click","#communication_group_save_button",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){addLoader();var t=$("#communicationGroupName").val().trim(),i=$("#communication_group_desc").val().trim(),a=$(".selected-value-group-visbility").attr("data-value");if(validateCommunicationGroupData())if(sessionStorage.getItem("group_id"))employeeGroupUpdate({device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id"),data:{name:firstLetterUpperCase(t),description:firstLetterUpperCase(i),visibility:a}}).then((e=>{digibiz.groupPictureblob={},sessionStorage.removeItem("group_type"),sessionStorage.removeItem("group_from"),sessionStorage.removeItem("group_id"),location.hash="communication/groups"})).catch((e=>{"no updated data found"==e.msg?(digibiz.groupPictureblob={},sessionStorage.removeItem("group_type"),sessionStorage.removeItem("group_from"),sessionStorage.removeItem("group_id"),location.hash="communication/groups"):removeLoader()}));else if("contact_list"==sessionStorage.getItem("group_from")){let e=[],s=[];$.each($("input.communication-group-employee-member-checkbox:checked"),(function(t,i){e.push({id:$(i).val(),type:"employee"})})),$.each($("input.communication-group-customer-member-checkbox:checked"),(function(t,i){e.push({id:$(i).val(),type:"customer",customer_type:$(i).attr("data-type")})})),$.each($("input.communication-group-moderator-member-not-saved:checked"),(function(e,t){s.push({id:$(t).attr("value"),type:$(t).attr("data-type"),status:"active"})}));var o=removeDuplicates(e,"id");saveGroupPictureFirstTime((function(e,r){if(e)removeLoader(),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert");else{groupAdd({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),visibility:a,group_for:"communication",group_from:sessionStorage.getItem("group_type"),group_type:sessionStorage.getItem("group_from"),name:firstLetterUpperCase(t),description:firstLetterUpperCase(i),thumbnail_content:r,size:digibiz.groupPictureblob.size,moderator_data:s}).then((e=>{sessionStorage.setItem("group_creation_running",!0),digibiz.selectedMembers=[],groupMemberAdd({device_id:crossplat.device.uuid,group_id:e.id,members:o}).then((e=>{digibiz.groupPictureblob={},sessionStorage.removeItem("group_type"),sessionStorage.removeItem("group_from"),sessionStorage.removeItem("group_id"),sessionStorage.removeItem("group_creation_running")})).catch((e=>{removeLoader(),Materialize.toast("Error in group members adding",3e3,"round success-alert")})),groupModeratorAdd({device_id:crossplat.device.uuid,id:e.id,type:"com_group_add",moderator_data:[]}).then((e=>{})).catch((e=>{removeLoader()})),location.hash="communication/groups"})).catch((e=>{removeLoader(),Materialize.toast("Error in group creation",3e3,"round success-alert")}))}}))}else{let e=[];$.each($("input.communication-group-employee-group-member-checkbox:checked"),(function(){e.push({id:$(this).val(),type:"employee_group"})})),$.each($("input.communication-group-collaborator-group-member-checkbox:checked"),(function(){e.push({id:$(this).val(),type:"collaborator_group"})})),$.each($("input.communication-group-customer-group-member-checkbox:checked"),(function(){e.push({id:$(this).val(),type:"customer_group"})}));o=removeDuplicates(e,"id");saveGroupPictureFirstTime((function(e,s){if(e)removeLoader(),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert");else{groupAdd({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),visibility:a,group_for:"communication",group_from:sessionStorage.getItem("group_type"),group_type:sessionStorage.getItem("group_from"),name:firstLetterUpperCase(t),description:firstLetterUpperCase(i),thumbnail_content:s,size:digibiz.groupPictureblob.size}).then((e=>{sessionStorage.setItem("group_creation_running",!0),groupMemberAdd({device_id:crossplat.device.uuid,group_id:e.id,members:o}).then((e=>{digibiz.groupPictureblob={},sessionStorage.removeItem("group_type"),sessionStorage.removeItem("group_from"),sessionStorage.removeItem("group_id"),sessionStorage.removeItem("group_creation_running")})).catch((e=>{removeLoader(),Materialize.toast("Error in group members adding",3e3,"round success-alert")})),groupModeratorAdd({device_id:crossplat.device.uuid,id:e.id,type:"com_group_add",moderator_data:[]}).then((e=>{})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")})),location.hash="communication/groups"})).catch((e=>{removeLoader(),Materialize.toast("Error in group creation",3e3,"round success-alert")}))}}))}else removeLoader()}})),$(document).on("click","#btn-communication-group-initial-add-moderator-cancel-no",(function(){addLoader(),sessionStorage.removeItem("group_type"),sessionStorage.removeItem("group_from"),sessionStorage.removeItem("group_id"),$("#alert-communication-group-initial-add-moderator-confirm-cancel").remove(),location.hash="communication/groups"})),$(document).on("click","#btn-communication-group-initial-add-moderator-confirm-yes",(function(){addLoader();var e=$("#alert-communication-group-initial-add-moderator-confirm-cancel").attr("data-group-id");$("#alert-communication-group-initial-add-moderator-confirm-cancel").remove(),getGroupMembers({device_id:crossplat.device.uuid,group_id:e}).then((t=>{var i=t.membersList;if("contact_list"==sessionStorage.getItem("group_from")){var a={dataList:i.map((e=>{if("employee"==e.member.type)if(e.hasOwnProperty("identity_picture")&&e.identity_picture){var t=`${api.get_employee_thumbnail}?id=${e.member.employee_id}&device_id=${crossplat.device.uuid}&type=display_picture`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else e.imageLetter=e.member_name.first.charAt(0);else if("customer"==e.member.type)if("customer"==e.member.customer_type)if(e.hasOwnProperty("identity_picture")&&e.identity_picture){t=`${api.get_employee_thumbnail}?id=${e.member.employee_id}&device_id=${crossplat.device.uuid}&type=display_picture`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else e.imageLetter=e.member_name.first.charAt(0);else if("associate_customer"==e.member.customer_type)if(e.hasOwnProperty("identity_picture")&&e.identity_picture){t=`${api.get_employee_thumbnail}?id=${e.member.employee_id}&device_id=${crossplat.device.uuid}&type=display_picture`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else e.imageLetter=e.member_name.first.charAt(0);return e})),page_for:"contact_list_moderator"};fetch.getHtml((function(t,i){showModal({modal_id:"modal-communication-group-moderator-selection",modal_header:"Members list",modal_platform:crossplat.device.platform,modal_body:i,modal_action_buttons:[{name:"Add",id:"add-communication-group-selected-moderator"}]},(function(){$("#modal-communication-group-moderator-selection").find("#modal-close-btn").remove(),$("#modal-communication-group-moderator-selection").attr("data-at","initial"),$("#modal-communication-group-moderator-selection").attr("data-group-id",e),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),removeLoader()}))}),"page/communication/moderator_selection_list","#moderator-selection-list-template",a)}else if("group_list"==sessionStorage.getItem("group_from")){a={dataList:i.map((e=>{if("employee_group"==e.member.type)if(e.hasOwnProperty("identity_picture")&&e.identity_picture){var t=`${api.get_employee_thumbnail}?id=${e.member.employee_id}&device_id=${crossplat.device.uuid}&type=display_picture`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.charAt(0)}else e.imageLetter=e.member_name.charAt(0);else if("customer_group"==e.member.type)if(e.hasOwnProperty("identity_picture")&&e.identity_picture){t=`${api.get_employee_thumbnail}?id=${e.member.employee_id}&device_id=${crossplat.device.uuid}&type=display_picture`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.charAt(0)}else e.imageLetter=e.member_name.charAt(0);return e})),page_for:"group_list_moderator"};fetch.getHtml((function(t,i){showModal({modal_id:"modal-communication-group-create-group-list-moderator-selection",modal_header:"Members list",modal_platform:crossplat.device.platform,modal_body:i,modal_action_buttons:[{name:"Add Moderator",id:"add-communication-group-create-group-list-selected-moderator"}]},(function(){$("#modal-communication-group-create-group-list-moderator-selection").attr("data-group-id",e),$("#modal-communication-group-create-group-list-moderator-selection").attr("data-at","initial"),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),removeLoader()}))}),"page/communication/moderator_selection_list","#moderator-selection-list-template",a)}})).catch((e=>{removeLoader(),Materialize.toast("No group Members Found",3e3,"round success-alert")}))})),$(document).on("click",".view-communication-group",(function(){addLoader();var e=$(this).parents(".communication-group-wrapper").attr("data-id");sessionStorage.removeItem("group_id"),sessionStorage.setItem("group_id",e);var t=$(this).parents(".communication-group-wrapper").attr("data-socket_enable_status");(digibiz.selectedMembers=[],"true"==t)?(employeeGroupUpdate({device_id:crossplat.device.uuid,id:e,data:{socket_enable_status:"false",update_for:"socket_enable_status"}}).then((e=>{console.log("response",e)})).catch((e=>{console.log("err",e)})),location.hash="communication/group_details"):(Materialize.toast("Access Denied! You or other administrator is updating this group at other place.",3e3,"round error-alert"),showAlert({alert_id:"alert-group-device-change-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Access Denied! You or other administrator is updating this group at other place. Would to like to cancel there and continue here?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-group-device-change-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-group-device-change-cancel-no"}]}]},(function(){removeLoader(),$("#alert-group-device-change-confirm-cancel").attr("data-group-id",e)})))})),$(document).on("click",".view-communication-employee-group",(function(){addLoader();var e=$(this).parents(".communication-employee-group-wrapper").attr("data-id");sessionStorage.removeItem("group_id"),sessionStorage.setItem("group_id",e),digibiz.selectedMembers=[],location.hash="communication/employee/group_details"})),$(document).on("click",".view-communication-customer-group",(function(){addLoader();var e=$(this).parents(".communication-customer-group-wrapper").attr("data-id");sessionStorage.removeItem("group_id"),sessionStorage.setItem("group_id",e),digibiz.selectedMembers=[],location.hash="communication/customer/group_details"})),$(document).on("click","#communication_employee_group_cancel_button",(function(){addLoader(),sessionStorage.removeItem("group_id"),digibiz.selectedMembers=[],location.hash="communication/groups"})),$(document).on("click","#communication_customer_group_cancel_button",(function(){addLoader(),sessionStorage.removeItem("group_id"),digibiz.selectedMembers=[],location.hash="communication/groups"})),$(document).on("click","#communication_group_cancel_button",(function(){addLoader(),sessionStorage.getItem("group_id")?(reqParam={device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id"),data:{socket_enable_status:"true",update_for:"socket_enable_status"}},employeeGroupUpdate(reqParam).then((e=>{sessionStorage.removeItem("group_type"),sessionStorage.removeItem("group_id"),sessionStorage.removeItem("group_from"),location.hash="communication/groups"})).catch((e=>{console.log("err",e)}))):(sessionStorage.removeItem("group_type"),sessionStorage.removeItem("group_id"),sessionStorage.removeItem("group_from"),location.hash="communication/groups"),appScroll.scrollBar("#main-container").destroy()})),$(document).on("click","#delete_communication_group",(function(){addLoader();var e=sessionStorage.getItem("group_id");showAlert({alert_id:"alert-delete-communication-group-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Delete Group",alert_body:"Are you sure you want to delete the group?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-delete-communication-group-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-delete-communication-group-cancel-no"}]}]},(function(){removeLoader(),$("#alert-delete-communication-group-confirm-cancel").attr("data-group-id",e)}))})),$(document).on("click","#btn-delete-communication-group-cancel-no",(function(){$("#alert-delete-communication-group-confirm-cancel").remove()})),$(document).on("click","#btn-delete-communication-group-confirm-yes",(function(){addLoader();var e=$("#alert-delete-communication-group-confirm-cancel").attr("data-group-id");$("#alert-delete-communication-group-confirm-cancel").remove(),employeeGroupDelete({device_id:crossplat.device.uuid,id:e}).then((e=>{Materialize.toast("Successfully deleted group.",3e3,"round success-alert"),sessionStorage.removeItem("group_from"),sessionStorage.removeItem("group_id"),sessionStorage.removeItem("group_type"),location.hash="communication/groups"})).catch((e=>{removeLoader(),Materialize.toast("Error in member removing",3e3,"round success-alert")}))})),$(document).on("change","#business-storage-type-choose-select-dropdown",(function(){if("Android"==crossplat.device.platform||"iOS"==crossplat.device.platform);else{var e,t=location.href.split("#").pop();t&&t.includes("business/add")?e="create":t&&t.includes("business/edit")&&(e="edit"),"GoogleDrive"==$(this).val()?window.open(`${api.digibiz_google_storage}?device_id=${crossplat.device.uuid}&platform=${crossplat.device.platform}&business_id=${sessionStorage.getItem("business_id")}&data_from=${e}`,"_self"):"DropBox"==$(this).val()?window.open(`${api.digibiz_dropbox_storage}?device_id=${crossplat.device.uuid}&platform=${crossplat.device.platform}&business_id=${sessionStorage.getItem("business_id")}&data_from=${e}`,"_self"):"OneDrive"==$(this).val()&&window.open(`${api.digibiz_onedrive_storage}?device_id=${crossplat.device.uuid}&platform=${crossplat.device.platform}&business_id=${sessionStorage.getItem("business_id")}&data_from=${e}`,"_self")}})),$(document).on("click",".view-customer-business",(function(){addLoader();var e=$(this),t=$(e).parents(".employee-business-wrapper").attr("data-business-id"),i=($(e).parents(".employee-business-wrapper").attr("data-business-id"),$(e).parents(".employee-business-wrapper").attr("data-status"));$(e).parents(".employee-business-wrapper").attr("data-role_id"),$(e).parents(".employee-business-wrapper").attr("data-role_type"),$(e).parents(".employee-business-wrapper").attr("data-role_status");if("active"==i)businessGet({device_id:crossplat.device.uuid,id:t}).then((i=>{if("self-verified"==i.status.status||"inactive_pending"==i.status.status){var a={device_id:crossplat.device.uuid,selected:!0,id:t,type:"business"};fetch.apiCall((function(a,o,s){if("success"===o){var r=$(e).parents(".employee-business-wrapper").attr("data-customer-type");if("customer"==r){var n=$(e).parents(".employee-business-wrapper").attr("data-customer-identifier-id"),d=$(e).parents(".employee-business-wrapper").attr("data-identifier-item-id"),c=$(e).parents(".employee-business-wrapper").attr("data-customer-id");sessionStorage.setItem("business_id",t),sessionStorage.setItem("business_name",i.name),sessionStorage.setItem("customer_type",r),sessionStorage.setItem("customer_identifier_id",n),sessionStorage.setItem("identifier_item_id",d),sessionStorage.setItem("customer_id",c),sessionStorage.setItem("customer_cloud_folder",i.customer_cloud_folder),location.hash="customer/business/apps/hub"}else if("associate_customer"==r){var l=$(e).parents(".employee-business-wrapper").attr("data-associate-identifier-id"),p=$(e).parents(".employee-business-wrapper").attr("data-parent-identifier-id"),m=(d=$(e).parents(".employee-business-wrapper").attr("data-identifier-item-id"),c=$(e).parents(".employee-business-wrapper").attr("data-customer-id"),$(e).parents(".employee-business-wrapper").attr("data-parent-customer-id"));sessionStorage.setItem("business_id",t),sessionStorage.setItem("business_name",i.name),sessionStorage.setItem("customer_type",r),sessionStorage.setItem("associate_customer_identifier_id",l),sessionStorage.setItem("parent_identifier_id",p),sessionStorage.setItem("identifier_item_id",d),sessionStorage.setItem("customer_id",c),sessionStorage.setItem("customer_cloud_folder",i.customer_cloud_folder),sessionStorage.setItem("parent_customer_id",m),location.hash="customer/business/apps/hub"}}else{showAlert({alert_id:"alert-no-business-active-storage-available",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"<div>Reauthenticate business Storage. Please contact business owners to reauthenticate the storage.</div>",alert_btn:[{name:"OK",attr:[{name:"id",value:"btn-no-business-active-storage-available-ok"}]}]},(function(){removeLoader()}))}}),api.check_token,"POST","JSON",a)}else removeLoader(),Materialize.toast("Business is inactive.",3e3,"round error-alert")})).catch((e=>{removeLoader()}));else if("accepted"==i){showAlert({alert_id:"alert-employee-customer-not-active-box",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"<div>Please wait until administrator activates your account.</div>",alert_btn:[{name:"OK",attr:[{name:"id",value:"btn-employee-customer-not-active-ok"}]}]},(function(){removeLoader()}))}else{showAlert({alert_id:"alert-employee-customer-not-active-box",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"<div>You are inactive. Please contact your business administrators.</div>",alert_btn:[{name:"OK",attr:[{name:"id",value:"btn-employee-customer-not-active-ok"}]}]},(function(){removeLoader()}))}})),$(document).on("click",".customer-icon-navigate-app",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){var t,i=$(this).attr("data-app");t="digibiz_assets"==i?"bizassets":i,getAppPermission({device_id:crossplat.device.uuid,get_by:"check_app",business_id:sessionStorage.getItem("business_id"),app:t}).then((e=>{if("active"==e.status.status)if("bizmeet"==i||"bizcall"==i)removeLoader();else{addLoader();navigateLogsAdd("customer"==sessionStorage.getItem("customer_type")?{device_id:crossplat.device.uuid,platform:crossplat.device.platform,app:i,role:"customer",account_id:sessionStorage.getItem("account_id"),business_id:sessionStorage.getItem("business_id"),customer_type:sessionStorage.getItem("customer_type"),member_id:sessionStorage.getItem("customer_id"),identifier_id:sessionStorage.getItem("customer_identifier_id"),identifier_item_id:sessionStorage.getItem("identifier_item_id")}:{device_id:crossplat.device.uuid,platform:crossplat.device.platform,app:i,role:"customer",account_id:sessionStorage.getItem("account_id"),business_id:sessionStorage.getItem("business_id"),customer_type:sessionStorage.getItem("customer_type"),member_id:sessionStorage.getItem("customer_id"),identifier_id:sessionStorage.getItem("associate_customer_identifier_id"),identifier_item_id:sessionStorage.getItem("identifier_item_id"),parent_identifier_id:sessionStorage.getItem("parent_identifier_id"),parent_customer_id:sessionStorage.getItem("parent_customer_id")}).then((e=>{setTimeout((function(){deviceHelper.navigateApp(i)}),500)})).catch((e=>{removeLoader()}))}else if("inactive"==e.status.status){showAlert({alert_id:"app-permission-not-present-alert",alert_platform:crossplat.device.platform,alert_title:"Access Denied",alert_body:"This app is inactive. Please contact business administrator.",alert_btn:[{name:"OK",attr:[{name:"id",value:"access-denied-app-permission-not-present"}]}]},(function(){removeLoader()}))}else{showAlert({alert_id:"app-permission-not-present-alert",alert_platform:crossplat.device.platform,alert_title:"Access Denied",alert_body:"This app is not activated by the business. Please contact business administrator.",alert_btn:[{name:"OK",attr:[{name:"id",value:"access-denied-app-permission-not-present"}]}]},(function(){removeLoader()}))}})).catch((e=>{showAlert({alert_id:"app-permission-not-present-alert",alert_platform:crossplat.device.platform,alert_title:"Access Denied",alert_body:"This app is not activated by the business. Please contact business administrator.",alert_btn:[{name:"OK",attr:[{name:"id",value:"access-denied-app-permission-not-present"}]}]},(function(){removeLoader()}))}))}})),$(document).on("click","#employee_contact_access_assignment_btn",(function(){addLoader(),showAction({action_id:"employee_contact_access_action_sheet",action_platform:crossplat.device.platform,action_title:"Access",action_btn:[{name:"Add Access",attr:[{name:"id",value:"employee_control_access_action"}]}]},(function(){removeLoader()}))})),$(document).on("click","#employee_control_access_action",(function(){addLoader(),showAction({action_id:"employee_control_access_for_action_sheet",action_platform:crossplat.device.platform,action_title:"Access For",action_btn:[{name:"Employee contact",attr:[{name:"id",value:"employee_control_access_for_employee_contact_action"}]},{name:"Customer contact",attr:[{name:"id",value:"employee_control_access_for_customer_contact_action"}]}]},(function(){$("#employee_contact_access_action_sheet").remove(),removeLoader()}))})),$(document).on("click","#employee_control_access_for_employee_contact_action",(function(){addLoader(),showAction({action_id:"employee_control_access_for_employee_contact_type_action_sheet",action_platform:crossplat.device.platform,action_title:"Access To",action_btn:[{name:"Employee List",attr:[{name:"id",value:"employee_control_access_for_employee_contact_employees_action"}]},{name:"Department Wise",attr:[{name:"id",value:"employee_control_access_for_employee_contact_department_wise_action"}]},{name:"Custom Group Wise",attr:[{name:"id",value:"employee_control_access_for_employee_contact_custom_group_action"}]}]},(function(){$("#employee_control_access_for_action_sheet").remove(),removeLoader()}))})),$(document).on("click","#employee_control_access_for_employee_contact_employees_action",(function(){addLoader(),digibiz.access_list=[],accessList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"employee",member_id:sessionStorage.getItem("employee_id"),access_for:"employee_contact",access_to:"employee_wise"}).then((e=>{digibiz.access_list=e,fetch.getHtml((function(t,i){showModal({modal_id:"employee-contact-add-access-for-employee-contact-employee-wise-selection-modal",modal_header:"Employee List",modal_platform:crossplat.device.platform,modal_body:i,modal_action_buttons:[{name:"Save",id:"employee-contact-add-access-for-employee-contact-employee-wise-save-btn"}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),$("#employee_control_access_for_employee_contact_type_action_sheet").remove(),e.length>0&&$.each(e,(function(e,t){$(`.employee-wise-employee-selected[data-type="${t.access_data.type}"]`).prop("checked",!0)})),removeLoader()}))}),"layouts/popup/employee_contact_access_employee_wise_list","#employee-contact-access-employee-wise-list-template",null)})).catch((e=>{removeLoader(),Materialize.toast("Error in fetching access list.",3e3,"round error-alert")}))})),$(document).on("click","#employee-contact-add-access-for-employee-contact-employee-wise-save-btn",(function(){addLoader();var e=[],t=[],i=$(".employee-contact-access-employee-wise-wrapper");($.each(i,(function(t,i){$(i).hasClass("selected-row")&&e.push({type:$(i).attr("data-type")})})),$.each(digibiz.access_list,(function(i,a){0==$(`.employee-contact-access-employee-wise-wrapper[data-type="${a.access_data.type}"]`).hasClass("selected-row")&&t.push(a),e=e.filter((e=>e.type!=a.access_data.type))})),e.length>0||t.length>0)?(contactAccessAdd({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"employee",member_id:sessionStorage.getItem("employee_id"),access_for:"employee_contact",access_to:"employee_wise",access_data:e}).then((e=>{digibiz.access_list=[],$("#employee-contact-add-access-for-employee-contact-employee-wise-selection-modal").remove(),Materialize.toast("Successfully in giving access.",3e3,"round error-alert"),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")})),t.length>0&&$.each(t,(function(e,t){revokeAccess({device_id:crossplat.device.uuid,id:t.id}).then((e=>{digibiz.access_list=[],$("#employee-contact-add-access-for-employee-contact-employee-wise-selection-modal").remove(),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))}))):(removeLoader(),Materialize.toast("No data changed to save.",3e3,"round error-alert"))})),$(document).on("click","#employee_control_access_for_employee_contact_all_employees_action",(function(){addLoader(),contactAccessAdd({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"employee",member_id:sessionStorage.getItem("employee_id"),access_for:"employee_contact",access_to:"all_employees"}).then((e=>{$("#employee_control_access_for_employee_contact_type_action_sheet").remove(),Materialize.toast("Successfully in giving access.",3e3,"round error-alert"),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))})),$(document).on("click","#employee_control_access_for_employee_contact_department_wise_action",(function(){addLoader(),digibiz.access_list=[],accessList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"employee",member_id:sessionStorage.getItem("employee_id"),access_for:"employee_contact",access_to:"department_wise"}).then((e=>{digibiz.access_list=e,departmentList({device_id:crossplat.device.uuid,list_by:"department",business_id:sessionStorage.getItem("business_id")}).then((t=>{var i={departmentList:t};fetch.getHtml((function(t,i){showModal({modal_id:"employee-contact-add-access-for-employee-contact-department-wise-selection-modal",modal_header:"Department List",modal_platform:crossplat.device.platform,modal_body:i,modal_action_buttons:[{name:"Save",id:"employee-contact-add-access-for-employee-contact-department-wise-save-btn"}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),$("#employee_control_access_for_employee_contact_type_action_sheet").remove(),e.length>0&&$.each(e,(function(e,t){$(`.selected-department[data-id="${t.access_data.id}"]`).prop("checked",!0)})),removeLoader()}))}),"layouts/popup/employee_contact_access_department_list","#employee-contact-access-department-list-template",i)})).catch((e=>{removeLoader(),Materialize.toast("Error in fetching department list.",3e3,"round error-alert")}))})).catch((e=>{removeLoader(),Materialize.toast("Error in fetching access list.",3e3,"round error-alert")}))})),$(document).on("click","#employee-contact-add-access-for-employee-contact-department-wise-save-btn",(function(){addLoader();var e=[],t=[],i=$(".employee-contact-access-department-list-data");($.each(i,(function(t,i){$(i).hasClass("selected-row")&&e.push({id:$(i).attr("data-id")})})),$.each(digibiz.access_list,(function(i,a){0==$(`.employee-contact-access-department-list-data[data-id="${a.access_data.id}"]`).hasClass("selected-row")&&t.push(a),e=e.filter((e=>e.id!=a.access_data.id))})),e.length>0||t.length>0)?(contactAccessAdd({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"employee",member_id:sessionStorage.getItem("employee_id"),access_for:"employee_contact",access_to:"department_wise",access_data:e}).then((e=>{digibiz.access_list=[],$("#employee-contact-add-access-for-employee-contact-department-wise-selection-modal").remove(),Materialize.toast("Successfully in giving access.",3e3,"round error-alert"),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")})),t.length>0&&$.each(t,(function(e,t){revokeAccess({device_id:crossplat.device.uuid,id:t.id}).then((e=>{digibiz.access_list=[],$("#employee-contact-add-access-for-employee-contact-department-wise-selection-modal").remove(),Materialize.toast("Successfully updated.",3e3,"round error-alert"),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))}))):(Materialize.toast("No data changed to save.",3e3,"round error-alert"),removeLoader())})),$(document).on("click","#employee_control_access_for_employee_contact_custom_group_action",(function(){addLoader(),digibiz.access_list=[],accessList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"employee",member_id:sessionStorage.getItem("employee_id"),access_for:"employee_contact",access_to:"custom_group_wise"}).then((e=>{digibiz.access_list=e,activeCustomGroupEmployeeList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id")}).then((t=>{var i={activeCustomGroupEmployeeList:t.map((e=>{if(e.hasOwnProperty("group_image")&&e.group_image)if(e.group_image.hasOwnProperty("asset_id")&&e.group_image.asset_id){var t=`${api.get_employee_group_thumbnail}?id=${e.id}&device_id=${crossplat.device.uuid}`;e.group_image.avtarUrl=t,e.imageLetter=e.name.charAt(0)}else e.imageLetter=e.name.charAt(0);else e.imageLetter=e.name.charAt(0);return e}))};fetch.getHtml((function(t,i){showModal({modal_id:"employee-contact-add-access-for-employee-contact-custom-group-wise-selection-modal",modal_header:"Custom Group List",modal_platform:crossplat.device.platform,modal_body:i,modal_action_buttons:[{name:"Save",id:"employee-contact-add-access-for-employee-contact-custom-group-wise-save-btn"}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),$("#employee_control_access_for_employee_contact_type_action_sheet").remove(),e.length>0&&$.each(e,(function(e,t){$(`.employee-custom-group-wrapper[data-group-id="${t.access_data.id}"]`).find(".custom-group-selected").prop("checked",!0)})),removeLoader()}))}),"layouts/popup/employee_contact_access_custom_group_list","#employee-contact-access-custom-group-list-template",i)})).catch((e=>{removeLoader(),Materialize.toast("No custom groups found.",3e3,"round error-alert")}))}))})),$(document).on("click","#employee-contact-add-access-for-employee-contact-custom-group-wise-save-btn",(function(){addLoader();var e=[],t=[],i=$(".employee-contact-access-custom-group-list-data");($.each(i,(function(t,i){$(i).hasClass("selected-row")&&e.push({id:$(i).attr("data-group-id")})})),$.each(digibiz.access_list,(function(i,a){0==$(`.employee-contact-access-custom-group-list-data[data-group-id="${a.access_data.id}"]`).find(".custom-group-selected").is(":checked")&&t.push(a),e=e.filter((e=>e.id!=a.access_data.id))})),e.length>0||t.length>0)?(contactAccessAdd({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"employee",member_id:sessionStorage.getItem("employee_id"),access_for:"employee_contact",access_to:"custom_group_wise",access_data:e}).then((e=>{digibiz.access_list=[],$("#employee-contact-add-access-for-employee-contact-custom-group-wise-selection-modal").remove(),Materialize.toast("Successfully in giving access.",3e3,"round error-alert"),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")})),t.length>0&&$.each(t,(function(e,t){revokeAccess({device_id:crossplat.device.uuid,id:t.id}).then((e=>{digibiz.access_list=[],$("#employee-contact-add-access-for-employee-contact-custom-group-wise-selection-modal").remove(),Materialize.toast("Successfully updated.",3e3,"round error-alert"),removeLoader()})).catch((e=>{}))}))):(removeLoader(),Materialize.toast("No data changed to save.",3e3,"round error-alert"))})),$(document).on("click","#employee_control_access_for_customer_contact_action",(function(){addLoader(),customerIdentifierList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"customer"}).then((e=>{var t={customer_contacts_identifiers_list_data:e};fetch.getHtml((function(e,t){showModal({modal_id:"employee-contact-add-access-for-customer-contact-identifier-selection-modal",modal_header:"Identifier Selection",modal_platform:crossplat.device.platform,modal_body:t,modal_action_buttons:[{name:"Next",id:"employee-contact-add-access-for-customer-contact-identifier-next-btn"}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),$("#employee_control_access_for_action_sheet").remove(),removeLoader()}))}),"layouts/popup/identifier_selection","#customer-identifier-selection-template",t)})).catch((e=>{removeLoader(),Materialize.toast("Error in fetching customer identifiers list.",3e3,"round error-alert")}))})),$(document).on("click","#employee-contact-add-access-for-customer-contact-identifier-next-btn",(function(){addLoader(),digibiz.access_list=[];var e=$(".selected-value-customer-identifier-for-role-assignment").attr("data-value"),t=$(".selected-value-customer-identifier-for-role-assignment").attr("data-id");accessList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"employee",member_id:sessionStorage.getItem("employee_id"),access_for:"customer_contact",access_to:t}).then((i=>{digibiz.access_list=i,listContactsList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"customer",list_by:"primary_customer_identifier",primary_customer_identifier_id:t}).then((a=>{var o={identifier_items_list_data:a};fetch.getHtml((function(a,o){showModal({modal_id:"employee-contact-add-access-for-customer-contact-identifier-item-selection-modal",modal_header:"Identifier Item Selection",modal_platform:crossplat.device.platform,modal_body:o,modal_action_buttons:[{name:"Save",id:"employee-contact-add-access-for-customer-contact-identifier-item-save-btn"}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),$("#employee-contact-add-access-for-customer-contact-identifier-selection-modal").remove(),$("#employee-contact-add-access-for-customer-contact-identifier-item-selection-modal").attr("data-parent-identifier_id",t),$("#employee-contact-add-access-for-customer-contact-identifier-item-selection-modal").attr("data-parent-identifier_name",e),i.length>0&&$.each(i,(function(e,t){$(`.customer-identifier-item-wrapper[data-id="${t.access_data.id}"]`).find(".customer-identifier-item-selected").prop("checked",!0)})),removeLoader()}))}),"layouts/popup/identifier_items_list","#identifier-items-list-data-template",o)})).catch((e=>{removeLoader(),Materialize.toast("Error in fetching customer identifiers items list.",3e3,"round error-alert")}))})).catch((e=>{removeLoader(),Materialize.toast("Error in fetching access list.",3e3,"round error-alert")}))})),$(document).on("click","#employee-contact-add-access-for-customer-contact-identifier-item-save-btn",(function(){addLoader();var e=$("#employee-contact-add-access-for-customer-contact-identifier-item-selection-modal").attr("data-parent-identifier_id"),t=[],i=[],a=$(".identifier-items-list-data");if($.each(a,(function(e,i){$(i).hasClass("selected-row")&&t.push({id:$(i).attr("data-id")})})),$.each(digibiz.access_list,(function(e,t){0==$(`.identifier-items-list-data[data-id="${t.access_data.id}"]`).hasClass("selected-row")&&i.push(t)})),t.length>0||i.length>0){if(t.length>0)contactAccessAdd({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"employee",member_id:sessionStorage.getItem("employee_id"),access_for:"customer_contact",access_to:e,access_data:t}).then((e=>{$("#employee-contact-add-access-for-customer-contact-identifier-item-selection-modal").remove(),Materialize.toast("Successfully in giving access.",3e3,"round error-alert"),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}));i.length>0&&$.each(i,(function(e,t){revokeAccess({device_id:crossplat.device.uuid,id:t.id}).then((e=>{$("#employee-contact-add-access-for-customer-contact-identifier-item-selection-modal").remove(),Materialize.toast("Successfully in giving access.",3e3,"round error-alert"),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))}))}else removeLoader(),Materialize.toast("No data found to save.",3e3,"round error-alert")})),$(document).on("click","#employee_group_access_assignment_btn",(function(){addLoader(),groupAccessList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"employee",member_id:sessionStorage.getItem("employee_id")}).then((e=>{showAlert({alert_id:"alert-revoke-group-access-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Revoke Group Access",alert_body:"Are you sure you want to revoke the group access?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-revoke-group-access-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-revoke-group-access-cancel-no"}]}]},(function(){$("#alert-revoke-group-access-confirm-cancel").attr("data-id",e.id),removeLoader()}))})).catch((e=>{showAlert({alert_id:"alert-give-group-access-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Group Access",alert_body:"Are you sure you want to provide the group access?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-give-group-access-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-give-group-access-cancel-no"}]}]},(function(){removeLoader()}))}))})),$(document).on("click","#btn-give-group-access-cancel-no",(function(){$("#alert-give-group-access-confirm-cancel").remove()})),$(document).on("click","#btn-revoke-group-access-cancel-no",(function(){$("#alert-revoke-group-access-confirm-cancel").remove()})),$(document).on("click","#btn-give-group-access-confirm-yes",(function(){addLoader(),groupAccessAdd({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"employee",member_id:sessionStorage.getItem("employee_id")}).then((e=>{$("#alert-give-group-access-confirm-cancel").remove(),Materialize.toast("Successfully in giving access.",3e3,"round error-alert"),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))})),$(document).on("click","#btn-revoke-group-access-confirm-yes",(function(){addLoader();var e=$("#alert-revoke-group-access-confirm-cancel").attr("data-id");groupRevokeAccess({device_id:crossplat.device.uuid,id:e}).then((e=>{$("#alert-revoke-group-access-confirm-cancel").remove(),Materialize.toast("Successfully in revoking access.",3e3,"round error-alert"),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))})),$(document).on("click","#employee_app_access_assignment_btn, #customer-app-access-add",(function(){var e;addLoader(),"employee_access_list"==$("body").attr("app")&&(e=$(this).parents(".employee-access-employee-wrapper").attr("data-id")),fetch.getHtml((function(t,i){showModal({modal_id:"employee-role-assignment-modal",modal_header:"App Access",modal_platform:crossplat.device.platform,modal_body:i,modal_action_buttons:[{name:"Back",id:"employee_role_assignment_back_btn",class:"hide"},{name:"Next",id:"employee_role_assignment_next_btn",class:"hide"},{name:"Save",id:"employee_role_assignment_save_btn",class:"hide"},{name:"Confirm",id:"employee_role_assignment_confirm_btn",class:"hide"}]},(function(){removeLoader(),"employee_access_list"==$("body").attr("app")&&$("#employee-role-assignment-modal").attr("data-employee-id",e),"customer_access_identifiers_item_page"==$("body").attr("app")&&$("#role-assignment-app-choose-select-dropdown").find('option[value="digibiz"]').addClass("hide"),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top")}))}),"page/role_management/role_assignment_modal","#role-assignment-template",null)})),$(document).on("click","#employee_access_list",(function(){addLoader(),contactAccessList({device_id:crossplat.device.uuid}).then((e=>{removeLoader()})).catch((e=>{removeLoader()}))})),$(document).on("click","#delete_records",(function(){addLoader(),deleteRecords({device_id:crossplat.device.uuid}).then((e=>{removeLoader()})).catch((e=>{removeLoader()}))})),$(document).on("click",".customer-access-module",(function(){addLoader(),location.hash="customer/access/identifiers"})),$(document).on("click",".collaborator-business-customer-list-module",(function(){addLoader(),location.hash="customer/collaborators"})),$(document).on("click",".customer-access-identifier-wrapper",(function(){addLoader();var e=$(this).attr("data-id");sessionStorage.setItem("identifier_id",e),location.hash="customer/access/identifier/items"})),$(document).on("click",".customer-access-identifier-item-wrapper",(function(){addLoader();var e=$(this).attr("data-id");sessionStorage.setItem("identifier_item_id",e),location.hash="customer/access/identifier/item/page"})),$(document).on("click","#customer-contact-access-add",(function(){addLoader(),showAction({action_id:"customer_contact_acess_action_sheet",action_platform:crossplat.device.platform,action_title:"Access To",action_btn:[{name:"Employee Contacts",attr:[{name:"id",value:"customer_contact_add_access_for_employee_contact_action"}]},{name:"Customer Contacts",attr:[{name:"id",value:"customer_contact_add_access_for_customer_contact_action"}]}]},(function(){removeLoader()}))})),$(document).on("click","#customer_contact_add_access_for_employee_contact_action",(function(){addLoader(),digibiz.customer_employee_contact_access_selection=[],digibiz.access_list=[],accessList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"customer",access_for:"employee_contact",access_to:sessionStorage.getItem("identifier_id"),access_item_id:sessionStorage.getItem("identifier_item_id")}).then((e=>{digibiz.access_list=e,identifierItemsEmployeesAccessList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),access_to:sessionStorage.getItem("identifier_id"),access_data_id:sessionStorage.getItem("identifier_item_id")}).then((e=>{showModal({modal_id:"customer-contact-add-access-for-employee-contact-selection-modal",modal_header:"Employee Selection",modal_platform:crossplat.device.platform,modal_action_buttons:[{name:"Save",id:"customer-contact-add-access-for-employee-contact-save-btn"}],modal_body:'<div id="customer-employee-add-access-list-container-modal">\n                <div id="customer-employee-contact-access-selection-content-box"></div></div>'},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),$("#customer_contact_acess_action_sheet").remove(),processCustomerEmployeeContactAccessSelection(e,(function(){removeLoader()}))}))})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))})).catch((e=>{removeLoader(),Materialize.toast("Error in fetching custom groups list.",3e3,"round error-alert")}))})),$(document).on("click","#customer-contact-add-access-for-employee-contact-save-btn",(function(){addLoader();var e=[],t=[],i=$(".customer-contact-access-employee-selected-checkbox-click-wrapper");($.each(i,(function(t,i){$(i).hasClass("selected-row")&&e.push({id:$(i).attr("data-id")})})),$.each(digibiz.access_list,(function(i,a){0==$(`.customer-contact-access-employee-wrapper[data-id="${a.access_data.id}"]`).hasClass("selected-row")&&t.push(a),e=e.filter((e=>e.id!=a.access_data.id))})),e.length>0||t.length>0)?(contactAccessAdd({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"customer",access_for:"employee_contact",access_to:sessionStorage.getItem("identifier_id"),access_item_id:sessionStorage.getItem("identifier_item_id"),access_data:e}).then((e=>{$("#customer-contact-add-access-for-employee-contact-selection-modal").remove(),Materialize.toast("Successfully in giving access.",3e3,"round error-alert"),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")})),t.length>0&&$.each(t,(function(e,t){revokeAccess({device_id:crossplat.device.uuid,id:t.id}).then((e=>{})).catch((e=>{}))}))):($(".customer-contact-access-employee-selected:checked").length>0?Materialize.toast("No data changed to save.",3e3,"round error-alert"):Materialize.toast("Please select atleast 1 employee",3e3,"round error-alert"),removeLoader())})),$(document).on("click","#customer_contact_add_access_for_customer_contact_action",(function(){addLoader(),customerIdentifierList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"customer"}).then((e=>{e=e.filter((e=>e.id==sessionStorage.getItem("identifier_id"))),console.log("response",e);var t={customer_contacts_identifiers_list_data:e};fetch.getHtml((function(e,t){showModal({modal_id:"customer-contact-add-access-for-customer-contact-identifier-selection-modal",modal_header:"Identifier Selection",modal_platform:crossplat.device.platform,modal_body:t,modal_action_buttons:[{name:"Next",id:"customer-contact-add-access-for-customer-contact-identifier-next-btn"}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),$("#customer_contact_acess_action_sheet").remove(),removeLoader()}))}),"layouts/popup/identifier_selection","#customer-identifier-selection-template",t)})).catch((e=>{removeLoader(),Materialize.toast("Error in fetching customer identifiers list.",3e3,"round error-alert")}))})),$(document).on("click","#customer-contact-add-access-for-customer-contact-identifier-next-btn",(function(){addLoader(),digibiz.customer_contact_add_access_customer_contact_item_selection=[],digibiz.access_list=[];$(".selected-value-customer-identifier-for-role-assignment").attr("data-value");var e=$(".selected-value-customer-identifier-for-role-assignment").attr("data-id");accessList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"customer",access_for:"customer_contact",access_to:sessionStorage.getItem("identifier_id"),access_item_id:sessionStorage.getItem("identifier_item_id")}).then((t=>{digibiz.access_list=t,listContactsList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"customer",list_by:"primary_customer_identifier",primary_customer_identifier_id:e}).then((t=>{showModal({modal_id:"customer-contact-add-access-for-customer-contact-item-selection-modal",modal_header:"Identifier Item Selection",modal_platform:crossplat.device.platform,modal_action_buttons:[{name:"Save",id:"customer-contact-add-access-for-customer-contact-item-save-btn"}],modal_body:'<div id="customer-contact-add-access-customer-contact-item-list-container-modal">\n                <div id="customer-contact-add-access-customer-contact-item-list-content-box"></div></div>'},(function(){$("#customer-contact-add-access-for-customer-contact-item-selection-modal").attr("data-identifier-id",e),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),$("#customer-contact-add-access-for-customer-contact-identifier-selection-modal").remove(),getCustomerContactAddAccessForCustomerContact(t,(function(){removeLoader()}))}))})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))})).catch((e=>{removeLoader(),Materialize.toast("Error in fetching identifier items list.",3e3,"round error-alert")}))})),$(document).on("click","#customer-contact-add-access-for-customer-contact-item-save-btn",(function(){addLoader();var e=$(this).parents("#customer-contact-add-access-for-customer-contact-item-selection-modal").attr("data-identifier-id"),t=[],i=[],a=$(".customer-identifier-item-selected");if($.each(a,(function(e,i){$(i).is(":checked")&&t.push({id:$(i).parents(".customer-identifier-item-wrapper").attr("data-id")})})),$.each(digibiz.access_list,(function(a,o){o.access_to==e&&o.access_item_id==sessionStorage.getItem("identifier_item_id")&&(0==$(`.customer-identifier-item-wrapper[data-id="${o.access_data.id}"]`).find(".customer-identifier-item-selected").is(":checked")&&i.push(o),t=t.filter((e=>e.id!=o.access_data.id)))})),t.length>0||i.length>0){if(t.length>0)contactAccessAdd({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"customer",access_for:"customer_contact",access_to:sessionStorage.getItem("identifier_id"),access_item_id:sessionStorage.getItem("identifier_item_id"),access_data:t}).then((e=>{$("#customer-contact-add-access-for-customer-contact-item-selection-modal").remove(),Materialize.toast("Successfully in giving access.",3e3,"round error-alert"),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}));i.length>0&&$.each(i,(function(e,t){revokeAccess({device_id:crossplat.device.uuid,id:t.id}).then((e=>{$("#customer-contact-add-access-for-customer-contact-item-selection-modal").remove(),Materialize.toast("Successfully updated",3e3,"round error-alert"),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))}))}else removeLoader(),Materialize.toast("No data changed to save.",3e3,"round error-alert")})),$(document).on("click","#customer-group-access-add",(function(){addLoader(),groupAccessList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"customer",access_to:sessionStorage.getItem("identifier_id"),access_item_id:sessionStorage.getItem("identifier_item_id")}).then((e=>{showAlert({alert_id:"alert-revoke-customer-group-access-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Revoke Group Access",alert_body:"Are you sure you want to revoke the group access?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-revoke-customer-group-access-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-revoke-customer-group-access-cancel-no"}]}]},(function(){$("#alert-revoke-customer-group-access-confirm-cancel").attr("data-id",e.id),removeLoader()}))})).catch((e=>{showAlert({alert_id:"alert-give-customer-group-access-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Group Access",alert_body:"Are you sure you want to provide the group access?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-give-customer-group-access-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-give-customer-group-access-cancel-no"}]}]},(function(){removeLoader()}))}))})),$(document).on("click","#btn-give-customer-group-access-cancel-no",(function(){$("#alert-give-customer-group-access-confirm-cancel").remove()})),$(document).on("click","#btn-revoke-customer-group-access-cancel-no",(function(){$("#alert-revoke-customer-group-access-confirm-cancel").remove()})),$(document).on("click","#btn-give-customer-group-access-confirm-yes",(function(){addLoader(),groupAccessAdd({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"customer",access_to:sessionStorage.getItem("identifier_id"),access_item_id:sessionStorage.getItem("identifier_item_id")}).then((e=>{$("#alert-give-customer-group-access-confirm-cancel").remove(),Materialize.toast("Successfully in giving access.",3e3,"round error-alert"),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))})),$(document).on("click","#btn-revoke-customer-group-access-confirm-yes",(function(){addLoader();var e=$("#alert-revoke-customer-group-access-confirm-cancel").attr("data-id");groupRevokeAccess({device_id:crossplat.device.uuid,id:e}).then((e=>{$("#alert-revoke-customer-group-access-confirm-cancel").remove(),Materialize.toast("Successfully in revoking access.",3e3,"round error-alert"),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))})),$(document).on("click",".add-storage-account",(function(){addLoader(),showAlert({alert_id:"add-storage",alert_platform:crossplat.device.platform,alert_title:"Add Storage",alert_body:'<div class="add-storage-list-wrapper">\n            <ul>\n                <li data-storage="DJ">DJ</li>\n                <li data-storage="GoogleDrive">Google Drive</li>\n                <li data-storage="DropBox">Drop box</li>\n                <li data-storage="OneDrive">One drive</li>\n            </ul>\n            </div>',alert_btn:[{name:"Cancel",attr:[{name:"id",value:"alert-cancel"}]}]},(function(){removeLoader(),digibiz.storages.forEach((e=>{$(".add-storage-list-wrapper").find(`li[data-storage="${e.name}"]`).addClass("disable")}))}))})),$(document).on("click",".add-storage-digibiz-account",(function(){addLoader(),showAlert({alert_id:"add-storage",alert_platform:crossplat.device.platform,alert_title:"Add Storage",alert_body:'<div class="add-storage-list-wrapper">\n            <ul>\n                <li data-storage="DJ">DJ</li>\n                <li data-storage="GoogleDrive">Google Drive</li>\n                <li data-storage="DropBox">Drop box</li>\n                <li data-storage="OneDrive">One drive</li>\n            </ul>\n            </div>',alert_btn:[{name:"Cancel",attr:[{name:"id",value:"alert-cancel"}]}]},(function(){removeLoader(),digibiz.digibiz_storages.forEach((e=>{$(".add-storage-list-wrapper").find(`li[data-storage="${e.name}"]`).addClass("disable")}))}))})),$(document).on("click","#alert-cancel",(function(){$('.custom-modal[id="add-storage"]').remove()})),$(document).on("click",".add-storage-list-wrapper ul li",(function(){$(this);var e=$(this).attr("data-storage");$('.custom-modal[id="add-storage"]').remove(),config.storages.map((e=>e.name)).includes(e)&&activateStorage(e,(function(e){}))})),$(document).on("click","#add_storage_digibiz_account_finish",(function(){addLoader();var e={device_id:crossplat.device.uuid,uuid:sessionStorage.getItem("uuid")};fetch.apiCall((function(e,t,i){if("success"==t)if(e.Data.hasOwnProperty("storage")&&e.Data.storage){var a={device_id:crossplat.device.uuid,selected:!0,id:sessionStorage.getItem("account_id"),type:"individual"};fetch.apiCall((function(e,t,i){"success"===t?(window.sessionStorage.setItem("storage_token",JSON.stringify(e.Data)),sessionStorage.removeItem("role"),"first"==sessionStorage.getItem("digibiz_storage_selection")?(location.hash="jeevi/app/hub",console.log("fwefwef")):location.hash="digibiz/profile"):400==e.status?(window.sessionStorage.setItem("storage_token",JSON.stringify(e.responseJSON.Data)),removeLoader(),Materialize.toast("Please select atleast 1 active storage.",3e3,"round error-alert")):(removeLoader(),console.log("!@#$!@#$ checkkkkkkk in middleware"))}),api.check_token,"POST","JSON",a)}else removeLoader(),Materialize.toast("Please select atleast 1 storage.",3e3,"round error-alert");else removeLoader(),Materialize.toast("Account not found.",3e3,"round error-alert")}),api.get_account,"POST","JSON",e)})),$(document).on("click","#employee_display_name, #employee_type, #edited_employee_type, #employee_category, #edited_employee_category, #employee_designation, #employeeGroupName, #employee_group_desc, #business_name, #business_display_name, #department_name, #new_department_name, #employee_company_employee_id, #employee_display_name, #add-employee-display-phone-number, #communicationGroupName, #customerGroupName, #customer_group_desc, #collaboratorGroupName, #collaborator_group_desc, #customer_label_name, #associate_customer_display_name, #associate_customer_email, #add-associate-customer-display-phone-number, #customer_email, #customer_display_name",(function(){removeError($(this)),console.log("texarea selected"),$(this).is("textarea")&&console.log("texarea selected 1")})),$(document).on("keydown","#employee_display_name, #employee_type, #edited_employee_type, #employee_category, #edited_employee_category, #employee_designation, #employeeGroupName, #employee_group_desc, #business_name, #business_display_name, #department_name, #new_department_name, #employee_company_employee_id, #employee_display_name, #add-employee-display-phone-number, #communicationGroupName, #customerGroupName, #customer_group_desc, #collaboratorGroupName, #collaborator_group_desc, #customer_label_name, #associate_customer_display_name, #associate_customer_email, #add-associate-customer-display-phone-number, #customer_email, #customer_display_name",(function(){removeError($(this))})),$(document).on("change","#select-visibility-type, #select-group-active-when, #employee-type-choose-select-dropdown, #employee-category-choose-select-dropdown, #employee-designation-choose-select-dropdown, #employee_date_of_joining, #business_date_of_commencement, #business_date_of_incorporation",(function(){removeError($(this))})),$(document).on("click","#digibiz_logout",(function(){showAlert({alert_id:"alert-digibiz-logout",alert_platform:crossplat.device.platform,alert_title:"Logout",alert_body:"Are you sure you want to go to logout of digibiz?",alert_btn:[{name:"NO",attr:[{name:"id",value:"alert-digibiz-logout-no"}]},{name:"YES",attr:[{name:"id",value:"alert-digibiz-logout-yes"}]}]},(function(){}))})),$(document).on("click","#alert-digibiz-logout-no",(function(){$("#alert-digibiz-logout").remove()})),$(document).on("click","#alert-digibiz-logout-yes",(function(){$("#alert-digibiz-logout").remove(),sessionStorage.clear(),setTimeout((function(){deviceHelper.navigateToAccounts("core")}),1e3)})),$(document).on("click","input.communication-group-activate-employee-select-btn, .communication-group-employee-select-btn",(function(){addLoader();var e=$(this);$("input.communication-group-activate-employee-select-btn:checked").length>3?($(e).prop("checked",!1),Materialize.toast("Maximum 3 moderators.",3e3,"round success-alert"),removeLoader()):removeLoader()})),$(document).on("change","input.communication-group-activate-customer-select-btn",(function(){addLoader();var e=$(this);if($(e).is(":checked")){if(digibiz.alreadySelected.filter((e=>"fixed"!=e.moderator_type)).length+$("input.communication-group-activate-customer-select-btn:checked").not(":disabled").length>3)$(e).prop("checked",!1),Materialize.toast("Maximum 3 moderators.",3e3,"round success-alert"),removeLoader();else{var t=$(e).attr("data-customer-id"),i=$(e).attr("data-customer-type");if($("#modal-communication-group-create-employee-group-employee-list-selection").length>0)-1!=(o=digibiz.communicationCreateEmployeeGroupEmployeeList.findIndex((e=>e.id==t&&e.type==i)))&&($(e).is(":checked")?digibiz.communicationCreateEmployeeGroupEmployeeList[o].selected=!0:digibiz.communicationCreateEmployeeGroupEmployeeList[o].selected=!1),removeLoader();else removeLoader()}}else{var a=$(e).attr("id");digibiz.alreadySelected=digibiz.alreadySelected.filter((e=>e.id!=a)),$(e).prop("checked",!1);var o;t=$(e).attr("data-customer-id"),i=$(e).attr("data-customer-type");if($("#modal-communication-group-create-employee-group-employee-list-selection").length>0)-1!=(o=digibiz.communicationCreateEmployeeGroupEmployeeList.findIndex((e=>e.id==t&&e.type==i)))&&($(e).is(":checked")?digibiz.communicationCreateEmployeeGroupEmployeeList[o].selected=!0:digibiz.communicationCreateEmployeeGroupEmployeeList[o].selected=!1),removeLoader();else removeLoader()}})),$(document).on("click","input.collaborator-group-moderator-select-btn",(function(){})),$(document).on("click","input.communication-group-moderator-select-btn",(function(){addLoader();var e=$(this);$("input.communication-group-moderator-select-btn:checked").length>3?($(e).prop("checked",!1),Materialize.toast("Maximum 3 moderators.",3e3,"round success-alert"),removeLoader()):removeLoader()})),$(document).on("change","input.communication-group-create-employee-moderator-select-btn",(function(){addLoader();var e=$(this);if($(e).is(":checked")){if(digibiz.alreadySelected.filter((e=>"fixed"!=e.moderator_type)).length+$("input.communication-group-create-employee-moderator-select-btn:checked").not(":disabled").length>3)$(e).prop("checked",!1),Materialize.toast("Maximum 3 moderators.",3e3,"round success-alert"),removeLoader();else{var t=$(this).attr("data-dj-unique-employee-id");if($("#modal-communication-group-create-employee-group-employee-list-selection").length>0)-1!=(a=digibiz.communicationCreateEmployeeGroupEmployeeList.findIndex((e=>e.dj_unique_employee_id==t)))&&($(e).is(":checked")?digibiz.communicationCreateEmployeeGroupEmployeeList[a].selected=!0:digibiz.communicationCreateEmployeeGroupEmployeeList[a].selected=!1),removeLoader();else removeLoader()}}else{var i=$(e).attr("id");digibiz.alreadySelected=digibiz.alreadySelected.filter((e=>e.id!=i)),$(e).prop("checked",!1);var a;t=$(this).attr("data-dj-unique-employee-id");if($("#modal-communication-group-create-employee-group-employee-list-selection").length>0)-1!=(a=digibiz.communicationCreateEmployeeGroupEmployeeList.findIndex((e=>e.dj_unique_employee_id==t)))&&($(e).is(":checked")?digibiz.communicationCreateEmployeeGroupEmployeeList[a].selected=!0:digibiz.communicationCreateEmployeeGroupEmployeeList[a].selected=!1),removeLoader();else removeLoader()}})),$(document).on("click",".collaborator-groups-list-wrapper",(function(){addLoader();var e=$(this).attr("data-group-id"),t=$(this).attr("data-socket_enable_status");(sessionStorage.removeItem("group_id"),sessionStorage.setItem("group_id",e),"true"==t)?(employeeGroupUpdate({device_id:crossplat.device.uuid,id:e,data:{socket_enable_status:"false",update_for:"socket_enable_status"}}).then((e=>{console.log("response",e)})).catch((e=>{console.log("err",e)})),sessionStorage.setItem("group_id",e),location.hash="collaborator/group_details"):(Materialize.toast("Access Denied! You or other administrator is updating this group at other place.",3e3,"round error-alert"),showAlert({alert_id:"alert-group-device-change-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Access Denied! You or other administrator is updating this group at other place. Would to like to cancel there and continue here?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-group-device-change-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-group-device-change-cancel-no"}]}]},(function(){removeLoader(),$("#alert-group-device-change-confirm-cancel").attr("data-group-id",e)})))})),$(document).on("click","#collaborator_group_add_moderator",(function(){addLoader(),groupGet({device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id")}).then((e=>{getCollaboratorBusinessEmployeeMembers({device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id"),business_id:sessionStorage.getItem("business_id"),count:20,offset:0}).then((t=>{digibiz.colloborator_group_moderator_list=[],digibiz.colloborator_group_moderator_list=t;var i={EmployeeList:t.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture){var t=`${api.get_employee_thumbnail}?id=${e.member.employee_id}&device_id=${crossplat.device.uuid}&type=display_picture`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else e.imageLetter=e.member_name.first.charAt(0);return e})),page_for:"moderator"};fetch.getHtml((function(t,i){showModal({modal_id:"modal-collaborator-group-moderator-selection",modal_header:"Business Employee List",modal_platform:crossplat.device.platform,modal_body:i,modal_action_buttons:[{name:"Save",id:"add-collaborator-group-selected-moderator"}]},(function(){$(".moderator-selection-list-main-box").prepend('<div class="search">\n                                        <div class="expand-search-wrap search-wrapper" id="moderator-selection-list-search-btn">\n                                            <span class="searchbtn waves-effect cursor-pointer"><i class="material-icons">search</i></span>\n                                            <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                                            <span class="searchclosebtn"><i class="material-icons moderator-selection-list-close-btn hide">close</i></span>\n                                        </div>\n                                    </div>'),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),$(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content")):$(".custom-modal-popup").show().addClass("modal-slide-top"),e.hasOwnProperty("moderator")&&e.moderator&&(digibiz.alreadySelected=e.moderator,$.each(e.moderator,(function(e,t){$(`.collaborator-group-moderator-select-btn[data-dj-unique-employee-id="${t.id}"]`).parents(".employee-select-btn-wrapper").addClass("selected-row"),$(`.collaborator-group-moderator-select-btn[data-dj-unique-employee-id="${t.id}"]`).prop("checked",!0)}))),removeLoader(),setTimeout((function(){listenForCollaboratorGroupModeratorsListScrollEvent($(".modal-popup-content"));var e=$("#moderator-selection-list-search-btn").find(".expand-search-input");e&&($(document).on("input",e,(function(){timestamp=(new Date).getTime(),e.attr("socketid",timestamp)})),$(document).on("keyup",e,(function(){if(socketid=e.attr("socketid"),keyword=e.val(),socketid&&keyword){if(document.getElementsByClassName("searchclosebtn")[0].style.display="flex",currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:socketid,app:"digibiz",keyword:keyword},"collaborator_group_create"===currentroute)$("#modal-collaborator-group-moderator-selection").length>0&&(data.index="getEmployeeContactListAllEmployees",data.business_id=sessionStorage.getItem("business_id"));addLoader(),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300)}else if(removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),e.attr("socketid",""),"collaborator_group_create"===currentroute)$("#modal-collaborator-group-moderator-selection").length>0&&processSearchedEmployeeGroupEmployeeSelectionList(finalSelectedEmployeeList,(function(){}))})),$(document).on("click",".searchclosebtn",(function(){"collaborator_group_create"==$("body").attr("app")&&$("#modal-collaborator-group-moderator-selection").length>0&&processSearchedEmployeeGroupEmployeeSelectionList(finalSelectedEmployeeList,(function(){}))})))}),0)}))}),"page/collaborator/moderator_selection_list","#moderator-selection-list-template",i)})).catch((e=>{removeLoader(),Materialize.toast("No Employees Found",3e3,"round success-alert")}))})).catch((e=>{removeLoader(),Materialize.toast("No group Found",3e3,"round success-alert")}))})),$(document).on("click","#add-collaborator-group-selected-moderator",(function(){if(addLoader(),sessionStorage.getItem("group_id")){var e=sessionStorage.getItem("group_id");showAlert({alert_id:"alert-collaborator-group-moderator-add-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Already added or existing moderator\n                won't be added again.Only new moderator will be added",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-collaborator-group-moderator-add-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-collaborator-group-moderator-add-confirm-no"}]}]},(function(){removeLoader(),$("#alert-collaborator-group-moderator-add-confirm-cancel").attr("data-group-id",e)}))}else $(".collaborator-group-moderator-select-btn:checked").length>0?($.each($(".collaborator-group-moderator-select-btn:checked"),(function(e,t){var i=$(t).attr("data-dj-unique-employee-id"),a=$(t).parents(".employee-selection-list-container").find(".contact-name-wrapper").text(),o=$(t).parents(".employee-selection-list-container").find(".contact-name-wrapper").text().charAt(0);if(null!=i){var s=`<div class="tooltipped collaborator-group-employee-moderator-member-wrapper member-listing-wrapper" data-dj-unique-employee-id="${i}"><div class="file-select">\n                <input type="checkbox" name="selectedmembers[]" class="contactlists filled-in collaborator-group-employee-moderator-member" value="${i}" id="selected-${i}" checked=""><i class="material-icons">done</i><div class="profile-text group-profile-text text-small-size">\n                    <span>${o}</span> \n                 </div></div><div class="filemanager-file-wrapper"><span class="truncate" for="selected-${i}">${a}</span></div>\n            </div>`;$("#collaborator-group-moderator-list").append(s),$("#modal-collaborator-group-moderator-selection").remove()}else removeLoader()})),removeLoader()):(removeLoader(),Materialize.toast("Please select atleast 1 employee.",3e3,"round success-alert"))})),$(document).on("click","#btn-collaborator-group-moderator-add-confirm-no",(function(){$("#alert-collaborator-group-moderator-add-confirm-cancel").remove()})),$(document).on("click","#btn-collaborator-group-moderator-add-confirm-yes",(function(){var e=sessionStorage.getItem("group_id");$("#alert-collaborator-group-moderator-add-confirm-cancel").remove();var t=[],i=[],a=$(".collaborator-group-moderator-select-btn");($.each(a,(function(e,i){$(i).is(":checked")&&t.push({id:$(i).attr("data-dj-unique-employee-id"),type:"employee",business_id:sessionStorage.getItem("group_id")})})),$.each(digibiz.alreadySelected,(function(e,a){0==$(`.collaborator-group-moderator-select-btn[data-dj-unique-employee-id="${a.id}"]`).is(":checked")&&i.push(a),t=t.filter((function(e){return e.id!=a.id}))})),t.length>0||i.length>0)?(groupModeratorAdd({device_id:crossplat.device.uuid,id:e,moderator_data:t}).then((e=>{digibiz.alreadySelected=[],digibiz.communicationActivateEmployeeGroupEmployeeList=[],$("#modal-collaborator-group-moderator-selection").remove(),Materialize.toast("Successfully in adding moderator.",3e3,"round error-alert"),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")})),i.length>0&&$.each(i,(function(t,i){groupModeratorDelete({device_id:crossplat.device.uuid,id:e,moderator_id:i.id}).then((e=>{digibiz.alreadySelected=[],digibiz.communicationActivateEmployeeGroupEmployeeList=[],$("#modal-collaborator-group-moderator-selection").remove(),Materialize.toast("Successfully updated.",3e3,"round error-alert"),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))}))):(Materialize.toast("No data changed to save.",3e3,"round error-alert"),removeLoader())})),$(document).on("click","#add-communication-group-create-group-list-selected-moderator",(function(){if(addLoader(),digibiz.communicationCreateEmployeeGroupEmployeeList=[],$('input[name="communication-group-create-group-list-moderator-select"]:checked').length>0){var e=$('input[name="communication-group-create-group-list-moderator-select"]:checked').parents(".employee-selection-list-container").find(".contact-profile-container").attr("data-id"),t=$('input[name="communication-group-create-group-list-moderator-select"]:checked').parents(".employee-selection-list-container").find(".contact-profile-container").attr("data-type");groupGet({device_id:crossplat.device.uuid,id:e}).then((i=>{groupMemberList({device_id:crossplat.device.uuid,group_id:e}).then((i=>{showModal({modal_platform:crossplat.device.platform,modal_id:"modal-communication-group-create-employee-group-employee-list-selection",modal_header:"Group Members",modal_body:'<div id="communication-group-create-employee-group-employee-list-main-container">\n                                            <span class="searchbtn waves-effect cursor-pointer"><i class="material-icons">search</i></span>\n                                             <div class="expand-search-wrap" id="communication-group-create-employee-group-employee-list-search-btn">\n                                             <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                                             <span class="searchclosebtn"><i class="material-icons communication-group-create-employee-group-employee-list-close-btn hide">close</i></span>\n                                        </div>\n                                        <div id="communication-group-create-employee-group-employee-list-wrapper"></div>\n                                        </div>',modal_action_buttons:[{name:"Save",id:"communication-group-create-employee-group-employee-select-save-btn"}]},(function(){$("#modal-communication-group-create-group-list-moderator-selection").remove(),$("#modal-communication-group-create-employee-group-employee-list-selection").attr("data-group-id",e),$("#modal-communication-group-create-employee-group-employee-list-selection").attr("data-group-type",t),removeLoader(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),"employee_group"==t?processCommunicationGroupCreateEmployeeGroupEmployeeList(i,(function(){setTimeout((function(){var e=$("#modal-communication-group-create-employee-group-employee-list-selection").find(".expand-search-input");e&&($(document).on("input",e,(function(){timestamp=(new Date).getTime(),e.attr("socketid",timestamp)})),$(document).on("keyup",e,(function(){if(socketid=e.attr("socketid"),keyword=e.val(),socketid&&keyword){if(document.getElementsByClassName("searchclosebtn")[0].style.display="flex",currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:socketid,app:"digibiz",keyword:keyword},"communication_group_details"===currentroute)$("#modal-communication-group-create-employee-group-employee-list-selection").length>0&&(data.index="getCommunicationGroupListModeratorListEmployee",data.group_id=$("#modal-communication-group-create-employee-group-employee-list-selection").attr("data-group-id"));addLoader(),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300)}else if(removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),e.attr("socketid",""),"communication_group_details"===currentroute)$("#modal-communication-group-create-employee-group-employee-list-selection").length>0&&processCommunicationGroupCreateEmployeeGroupEmployeeList(digibiz.communicationCreateEmployeeGroupEmployeeList,(function(){}))})),$(document).on("click",".searchclosebtn",(function(){$("#modal-communication-group-create-employee-group-employee-list-selection").length>0&&processCommunicationGroupCreateEmployeeGroupEmployeeList(digibiz.communicationCreateEmployeeGroupEmployeeList,(function(){}))})))}),0)})):"customer_group"==t&&processCommunicationGroupCreateCustomerGroupCustomerList(i,(function(){setTimeout((function(){var e=$("#modal-communication-group-create-employee-group-employee-list-selection").find(".expand-search-input");e&&($(document).on("input",e,(function(){timestamp=(new Date).getTime(),e.attr("socketid",timestamp)})),$(document).on("keyup",e,(function(){if(socketid=e.attr("socketid"),keyword=e.val(),socketid&&keyword){if(document.getElementsByClassName("searchclosebtn")[0].style.display="flex",currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:socketid,app:"digibiz",keyword:keyword},"communication_group_details"===currentroute)$("#modal-communication-group-create-employee-group-employee-list-selection").length>0&&(data.index="getCommunicationGroupListModeratorListCustomer",data.group_id=$("#modal-communication-group-create-employee-group-employee-list-selection").attr("data-group-id"));addLoader(),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300)}else if(removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),e.attr("socketid",""),"communication_group_details"===currentroute)$("#modal-communication-group-create-employee-group-employee-list-selection").length>0&&processCommunicationGroupCreateCustomerGroupCustomerList(digibiz.communicationCreateEmployeeGroupEmployeeList,(function(){}))})),$(document).on("click",".searchclosebtn",(function(){$("#modal-communication-group-create-employee-group-employee-list-selection").length>0&&processCommunicationGroupCreateCustomerGroupCustomerList(digibiz.communicationCreateEmployeeGroupEmployeeList,(function(){}))})))}),0)}))}))})).catch((e=>{removeLoader()}))})).catch((e=>{removeLoader()}))}else removeLoader(),Materialize.toast("Please select atleast 1 group.",3e3,"round error-alert")})),$(document).on("click","#communication-group-create-employee-group-employee-select-save-btn",(function(){addLoader(),mainGroupID=sessionStorage.getItem("group_id");var e=$("#modal-communication-group-create-employee-group-employee-list-selection").attr("data-group-id"),t=$("#modal-communication-group-create-employee-group-employee-list-selection").attr("data-group-type"),i=[],a=[];if("employee_group"==t){var o=$(".communication-group-create-employee-moderator-select-btn");if($.each(o,(function(t,a){$(a).is(":checked")&&i.push({id:$(a).attr("data-dj-unique-employee-id"),type:"employee",user_id:$(a).attr("data-dj-unique-employee-id"),group_id:e})})),$.each(digibiz.alreadySelected,(function(t,o){if(o.group_id==e){0==$(`.communication-group-create-employee-moderator-select-btn[data-dj-unique-employee-id="${o.id}"]`).is(":checked")&&a.push(o);var s=i.findIndex((e=>e.id==o.id&&e.group_id==o.group_id));s>-1&&i.splice(s,1)}})),i.length>0||a.length>0){if(i.length>0)groupModeratorAdd({device_id:crossplat.device.uuid,id:mainGroupID,moderator_data:i}).then((e=>{digibiz.alreadySelected=[],digibiz.communicationCreateEmployeeGroupEmployeeList=[],$("#modal-communication-group-create-employee-group-employee-list-selection").remove(),Materialize.toast("Successfully in adding moderator.",3e3,"round error-alert"),1==initialGroupModerator&&(sessionStorage.removeItem("group_type"),sessionStorage.removeItem("group_from"),sessionStorage.removeItem("group_id"),location.hash="communication/groups")})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}));a.length>0&&$.each(a,(function(e,t){var i={device_id:crossplat.device.uuid,id:mainGroupID,moderator_id:t.id};t.hasOwnProperty("group_id")&&t.group_id&&(i.moderator_group_id=t.group_id),groupModeratorDelete(i).then((e=>{digibiz.alreadySelected=[],digibiz.communicationCreateEmployeeGroupEmployeeList=[],$("#modal-communication-group-create-employee-group-employee-list-selection").remove(),Materialize.toast("Successfully in adding moderator.",3e3,"round error-alert")})).catch((e=>{}))}))}else removeLoader(),Materialize.toast("No changes to save.",3e3,"round error-alert")}else if("customer_group"==t){o=$(".communication-group-activate-customer-select-btn");if($.each(o,(function(t,a){$(a).is(":checked")&&i.push({id:$(a).attr("data-customer-id"),type:$(a).parents(".customer-selection-list-container").find(".contact-profile-container").attr("data-customer-type"),user_id:$(a).attr("data-customer-id"),group_id:e})})),$.each(digibiz.alreadySelected,(function(e,t){"customer_group"==$("#modal-communication-group-create-employee-group-employee-list-selection").attr("data-group-type")&&t.group_id==$("#modal-communication-group-create-employee-group-employee-list-selection").attr("data-group-id")&&(0==$(`.communication-group-activate-customer-select-btn[data-customer-id="${t.id}"]`).is(":checked")&&a.push(t))})),i.length>0||a.length>0){if(i.length>0)groupModeratorAdd({device_id:crossplat.device.uuid,id:mainGroupID,moderator_data:i}).then((e=>{digibiz.alreadySelected=[],digibiz.communicationCreateEmployeeGroupEmployeeList=[],$("#modal-communication-group-create-employee-group-employee-list-selection").remove(),Materialize.toast("Successfully in adding moderator.",3e3,"round error-alert"),1==initialGroupModerator&&(sessionStorage.removeItem("group_type"),sessionStorage.removeItem("group_from"),sessionStorage.removeItem("group_id"),location.hash="communication/groups")})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}));a.length>0&&$.each(a,(function(t,i){groupModeratorDelete({device_id:crossplat.device.uuid,id:e,moderator_id:i.id}).then((e=>{digibiz.alreadySelected=[],digibiz.communicationCreateEmployeeGroupEmployeeList=[],$("#modal-communication-group-create-employee-group-employee-list-selection").remove(),Materialize.toast("Successfully in adding moderator.",3e3,"round error-alert")})).catch((e=>{}))}))}else removeLoader(),Materialize.toast("No changes to save.",3e3,"round error-alert")}})),$(document).on("click",".communication-group-employee-tab",(function(){addLoader(),sessionStorage.setItem("selected-communication-group-type-tab","employee"),digibiz.communicationEmployeeGroupsList=[],$(".tab-content").removeClass("active"),$(`.tab-content[id="${sessionStorage.getItem("selected-communication-group-type-tab")}"`).addClass("active"),$(".tab").removeClass("active"),$(`.tab[data-id="${sessionStorage.getItem("selected-communication-group-type-tab")}"]`).addClass("active"),getCommunicationEmployeePage()})),$(document).on("click",".communication-group-customer-tab",(function(){addLoader(),sessionStorage.setItem("selected-communication-group-type-tab","customer"),digibiz.communicationCustomerGroupsList=[],$(".tab-content").removeClass("active"),$(`.tab-content[id="${sessionStorage.getItem("selected-communication-group-type-tab")}"`).addClass("active"),$(".tab").removeClass("active"),$(`.tab[data-id="${sessionStorage.getItem("selected-communication-group-type-tab")}"]`).addClass("active"),getCommunicationCustomerPage()})),$(document).on("click",".communication-group-communication-tab",(function(){addLoader(),sessionStorage.setItem("selected-communication-group-type-tab","communication"),digibiz.communicationGroupsList=[],$(".tab-content").removeClass("active"),$(`.tab-content[id="${sessionStorage.getItem("selected-communication-group-type-tab")}"`).addClass("active"),$(".tab").removeClass("active"),$(`.tab[data-id="${sessionStorage.getItem("selected-communication-group-type-tab")}"]`).addClass("active"),getCommunicationGroupsPage()})),$(document).on("click","#btn-digibiz-admin-access-revoked-ok",(function(){addLoader(),$("#alert-digibiz-admin-access-revoked").remove();var e=sessionStorage.getItem("user_id"),t=sessionStorage.getItem("uuid"),i=sessionStorage.getItem("socketID"),a=sessionStorage.getItem("account_id"),o=sessionStorage.getItem("accountDetails"),s=sessionStorage.getItem("storage_token"),r=sessionStorage.getItem("profile_details"),n=sessionStorage.getItem("digibiz_role"),d=sessionStorage.getItem("get_role_btn");sessionStorage.clear(),sessionStorage.setItem("user_id",e),sessionStorage.setItem("uuid",t),sessionStorage.setItem("socketID",i),sessionStorage.setItem("account_id",a),sessionStorage.setItem("accountDetails",o),sessionStorage.setItem("storage_token",s),sessionStorage.setItem("profile_details",r),sessionStorage.setItem("digibiz_role",n),sessionStorage.setItem("get_role_btn",d),location.hash="business_owner/business/list"})),$(document).on("click","#collaborator_group_business_member_actions",(function(){addLoader();var e=$(this).parents(".collaborator-group-business-member-wrapper").attr("data-business-id"),t=$(this).parents(".collaborator-group-business-member-wrapper").attr("data-id");"other_group_collaborator"==sessionStorage.getItem("selected-collaborator-tab")?e==sessionStorage.getItem("business_id")?showAction({action_id:"collaborator-group-business-member-action-sheet",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"Show Employees",attr:[{name:"id",value:"collaborator_group_business_member_show_employees_action"}]},{name:"Add Employees",attr:[{name:"id",value:"collaborator_group_business_member_add_employees_action"}]},{name:"Exit",attr:[{name:"id",value:"collaborator_group_business_member_exit_action"}]}]},(function(){removeLoader(),$(".action-sheet-container").removeClass("hide").addClass("slide-top"),$(".action-sheet-container").attr("business_id",e),$(".action-sheet-container").attr("member_id",t)})):showAction({action_id:"collaborator-group-business-member-action-sheet",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"Show Employees",attr:[{name:"id",value:"collaborator_group_business_member_show_employees_action"}]}]},(function(){removeLoader(),$(".action-sheet-container").removeClass("hide").addClass("slide-top"),$(".action-sheet-container").attr("business_id",e),$(".action-sheet-container").attr("member_id",t)})):e==sessionStorage.getItem("business_id")?showAction({action_id:"collaborator-group-business-member-action-sheet",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"Show Employees",attr:[{name:"id",value:"collaborator_group_business_member_show_employees_action"}]},{name:"Add Employees",attr:[{name:"id",value:"collaborator_group_business_member_add_employees_action"}]}]},(function(){removeLoader(),$(".action-sheet-container").removeClass("hide").addClass("slide-top"),$(".action-sheet-container").attr("business_id",e),$(".action-sheet-container").attr("member_id",t)})):showAction({action_id:"collaborator-group-business-member-action-sheet",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"Show Employees",attr:[{name:"id",value:"collaborator_group_business_member_show_employees_action"}]},{name:"Delete",attr:[{name:"id",value:"collaborator_group_business_member_delete_action"}]}]},(function(){removeLoader(),$(".action-sheet-container").removeClass("hide").addClass("slide-top"),$(".action-sheet-container").attr("business_id",e),$(".action-sheet-container").attr("member_id",t)}))})),$(document).on("click","#collaborator_group_business_member_show_employees_action",(function(){addLoader(),digibiz.show_employees_collaborator_group=[];var e=$("#collaborator-group-business-member-action-sheet").attr("business_id");getCollaboratorBusinessEmployeeMembers({device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id"),business_id:e}).then((t=>{showModal({modal_id:"modal-collaborator-group-business-members",modal_header:"Business Employee List",modal_platform:crossplat.device.platform,modal_body:'<div id="collaborator-group-show-employees-business-member-main-container">\n                    <span class="searchbtn waves-effect cursor-pointer"><i class="material-icons">search</i></span>\n                     <div class="expand-search-wrap" id="communication-group-activate-employee-group-employee-list-search-btn">\n                     <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                     <span class="searchclosebtn"><i class="material-icons hide">close</i></span>\n                </div>\n                <div id="collaborator-group-show-employees-business-member-list-wrapper"></div>\n                </div>'},(function(){$("#collaborator-group-business-member-action-sheet").remove(),$("#modal-collaborator-group-business-members").attr("data-business-id",e),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),$(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content")):$(".custom-modal-popup").show().addClass("modal-slide-top"),removeLoader(),showEmployeesCollaboratorGroupBusinessMembers(t,(function(){var t=$("#modal-collaborator-group-business-members").find(".expand-search-input");t&&($(document).on("input",t,(function(){timestamp=(new Date).getTime(),t.attr("socketid",timestamp)})),$(document).on("keyup",t,(function(){if(socketid=t.attr("socketid"),keyword=t.val(),socketid&&keyword){if(document.getElementsByClassName("searchclosebtn")[0].style.display="flex",currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:socketid,app:"digibiz",keyword:keyword},"collaborator_group_details"===currentroute)$("#modal-collaborator-group-business-members").length>0&&(data.index="getCollaboratorGroupBusinessMemberShowEmployeesSearch",data.group_id=sessionStorage.getItem("group_id"),data.business_id=e);addLoader(),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300)}else if(removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),t.attr("socketid",""),"collaborator_group_details"===currentroute)$("#modal-collaborator-group-business-members").length>0&&showEmployeesCollaboratorGroupBusinessMembers(digibiz.show_employees_collaborator_group,(function(){}))})),$(document).on("click",".searchclosebtn",(function(){$("#modal-collaborator-group-business-members").length>0&&showEmployeesCollaboratorGroupBusinessMembers(digibiz.show_employees_collaborator_group,(function(){}))})))}))}))})).catch((e=>{removeLoader(),Materialize.toast("No Employees Found",3e3,"round success-alert")}))})),$(document).on("click","#collaborator_group_business_member_delete_action",(function(){addLoader();var e=$("#collaborator-group-business-member-action-sheet").attr("business_id"),t=$("#collaborator-group-business-member-action-sheet").attr("member_id");checkGroupMemberDelete({device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id"),id:t,memberBusinessId:e}).then((e=>{groupMemberDelete({device_id:crossplat.device.uuid,id:t,group_id:sessionStorage.getItem("group_id"),status:"deleted"}).then((e=>{$("#collaborator-group-business-member-action-sheet").remove(),$(`.collaborator-group-business-member-wrapper[data-id="${t}"]`).find(".business-member-data-wrapper").find(".collaborator-group-business-member-status").text("Deleted"),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast("Error in deleting the member.",3e3,"round error-alert")}))})).catch((i=>{(removeLoader(),Materialize.toast(`${i.msg}`,3e3,"round success-alert"),"Minimum 1 business member is required"==i.msg)&&showAlert({alert_id:"alert-group-member-delete-error-members-yes-no",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Minimum 1 business should be present in the group. Group will get deleted if the selected business is removed. Are you sure you want to remove the business?",alert_btn:[{name:"Delete Group",attr:[{name:"id",value:"btn-alert-group-member-delete-error-business-delete-group-confirm"}]},{name:"Cancel",attr:[{name:"id",value:"btn-alert-group-member-delete-error-business-cancel-confirm"}]}]},(function(){$("#alert-group-member-delete-error-members-yes-no").attr("data-member-id",t),$("#alert-group-member-delete-error-members-yes-no").attr("data-business-id",e),removeLoader()}))}))})),$(document).on("click","#btn-alert-group-member-delete-error-business-delete-group-confirm",(function(){addLoader();$("#alert-group-member-delete-error-members-yes-no").attr("data-member-id"),$("#alert-group-member-delete-error-members-yes-no").attr("data-business-id");employeeGroupDelete({device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id")}).then((e=>{removeLoader(),$("#collaborator-group-business-member-action-sheet").remove(),sessionStorage.removeItem("group_id"),$("#alert-group-member-delete-error-members-yes-no").remove(),Materialize.toast("Successfully deleted.",3e3,"round success-alert"),location.hash="collaborator/groups/list"})).catch((e=>{removeLoader(),Materialize.toast("Error in deleting the group.",3e3,"round error-alert")}))})),$(document).on("click","#btn-alert-group-member-delete-error-business-cancel-confirm",(function(){removeLoader(),$("#collaborator-group-business-member-action-sheet").remove(),$("#alert-group-member-delete-error-members-yes-no").remove()})),$(document).on("click","#collaborator_group_business_member_exit_action",(function(){addLoader();var e=$("#collaborator-group-business-member-action-sheet").attr("business_id"),t=$("#collaborator-group-business-member-action-sheet").attr("member_id");groupMemberDelete({device_id:crossplat.device.uuid,id:t,group_id:sessionStorage.getItem("group_id"),member_business_id:e,status:"exited"}).then((e=>{removeLoader(),$("#collaborator-group-business-member-action-sheet").remove(),Materialize.toast("Exited succcessfully.",3e3,"round success-alert"),location.hash="collaborator/groups/list",$(`.collaborator-group-business-member-wrapper[data-id="${t}"]`).find(".business-member-data-wrapper").find(".collaborator-group-business-member-status").text("Exited")})).catch((e=>{removeLoader(),Materialize.toast("Error in deleting the member.",3e3,"round error-alert")}))})),$(document).on("click","#delete-collaborator-group-member-business-employee",(function(){addLoader();var e=$(this).parents(".employee-selection-list-container").find(".contact-profile-container").attr("data-member-id"),t=$(this).parents(".employee-selection-list-container").find(".contact-profile-container").attr("data-dj-unique-employee-id");showAlert({alert_id:"alert-delete-collaborator-group-member-business-employee-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Delete Member",alert_body:"Are you sure you want to delete the member?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-delete-collaborator-group-member-business-employee-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-delete-collaborator-group-member-business-employee-cancel-no"}]}]},(function(){removeLoader(),$("#alert-delete-collaborator-group-member-business-employee-confirm-cancel").attr("data-member-id",e),$("#alert-delete-collaborator-group-member-business-employee-confirm-cancel").attr("data-employee-id",t)}))})),$(document).on("click","#btn-delete-collaborator-group-member-business-employee-cancel-no",(function(){$("#alert-delete-collaborator-group-member-business-employee-confirm-cancel").remove()})),$(document).on("click","#btn-delete-collaborator-group-member-business-employee-confirm-yes",(function(){addLoader();var e=$("#alert-delete-collaborator-group-member-business-employee-confirm-cancel").attr("data-member-id"),t=$("#alert-delete-collaborator-group-member-business-employee-confirm-cancel").attr("data-employee-id"),i={device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id"),id:e,employee_id:t};$("#alert-delete-collaborator-group-member-business-employee-confirm-cancel").remove(),checkGroupMemberDelete(i).then((i=>{groupMemberDelete({device_id:crossplat.device.uuid,id:e,employee_id:t,group_id:sessionStorage.getItem("group_id")}).then((t=>{$(this).parents(".employee-selection-list-container").find(`.contact-profile-container[data-member-id ="${e}"]`).parent().remove(),$(`.contact-profile-container[data-member-id ="${e}"]`).parent(".employee-selection-list-container").remove(),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast("Error in deleting the employee.",3e3,"round success-alert")}))})).catch((e=>{removeLoader(),Materialize.toast(`${e.msg}`,3e3,"round success-alert")}))})),$(document).on("click","#collaborator_group_business_member_add_employees_action",(function(){addLoader();var e=$("#collaborator-group-business-member-action-sheet").attr("business_id");getCollaboratorBusinessEmployeeMembers({device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id"),business_id:e}).then((t=>{employeeList({device_id:crossplat.device.uuid,list_by:"list_only_active",business_id:e,count:20,offset:0}).then((e=>{let i=[];$.each(e,(function(e,t){i.push(t)})),$.each($("input[name='selectedmembers[]']"),(function(e,t){i=i.filter((function(e){return e.dj_unique_employee_id!=$(t).val()}))})),$.each(t,(function(e,t){i=i.filter((function(e){return e.dj_unique_employee_id!=t.member.employee_id}))})),digibiz.collaborator_group_owner_employee_members=i,digibiz.employee_list=e,showModal({modal_id:"modal-collaborator-group-owner-business-employee-selection",modal_header:"Employee List",modal_platform:crossplat.device.platform,modal_body:'<div id="collaborator-group-owner-business-employees-selection-main-container">\n                            <span class="searchbtn waves-effect cursor-pointer"><i class="material-icons">search</i></span>\n                             <div class="expand-search-wrap" id="communication-group-activate-employee-group-employee-list-search-btn">\n                             <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                             <span class="searchclosebtn"><i class="material-icons hide">close</i></span>\n                        </div>\n                        <div id="collaborator-group-owner-business-employees-selection-list-wrapper"></div>\n                        </div>',modal_action_buttons:[{name:"Add",id:"add-collaborator-group-owner-business-selected-employees-group"}]},(function(){$("#collaborator-group-business-member-action-sheet").remove(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),removeLoader(),collaboratorGroupOwnerBusinessEmployeeSelection(i,(function(){listenForEmployeeList($(".modal-popup-content"));var e=$("#modal-collaborator-group-owner-business-employee-selection").find(".expand-search-input");e&&($(document).on("input",e,(function(){timestamp=(new Date).getTime(),e.attr("socketid",timestamp)})),$(document).on("keyup",e,(function(){if(socketid=e.attr("socketid"),keyword=e.val(),socketid&&keyword){if(document.getElementsByClassName("searchclosebtn")[0].style.display="flex",currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:socketid,app:"digibiz",keyword:keyword},"collaborator_group_details"===currentroute){var t=[];$.each(i,(function(e,i){t.push(i.dj_unique_employee_id)})),$("#modal-collaborator-group-owner-business-employee-selection").length>0&&(data.index="getCollaboratorGroupOwnerBusinessEmployeesSelection",data.employee_data=t)}addLoader(),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300)}else if(removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),e.attr("socketid",""),"collaborator_group_details"===currentroute)$("#modal-collaborator-group-owner-business-employee-selection").length>0&&collaboratorGroupOwnerBusinessEmployeeSelection(i,(function(){}))})),$(document).on("click",".searchclosebtn",(function(){$("#modal-collaborator-group-owner-business-employee-selection").length>0&&collaboratorGroupOwnerBusinessEmployeeSelection(i,(function(){}))})))}))}))})).catch((e=>{removeLoader(),Materialize.toast("No Employees Found",3e3,"round success-alert")}))})).catch((e=>{removeLoader(),Materialize.toast("No Employees Found",3e3,"round success-alert")}))})),$(document).on("click","#btn-alert-group-member-delete-error-moderator-ok",(function(){$("#alert-group-member-delete-error-moderator-ok").remove()})),$(document).on("click","#btn-alert-group-member-delete-error-members-cancel-confirm",(function(){$("#alert-group-member-delete-error-members-yes-no").remove()})),$(document).on("click","#btn-alert-group-member-delete-error-members-delete-group-confirm",(function(){addLoader(),employeeGroupDelete({device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id")}).then((e=>{sessionStorage.removeItem("group_id"),sessionStorage.removeItem("group_type"),sessionStorage.removeItem("group_from"),$("#alert-group-member-delete-error-members-yes-no").remove(),Materialize.toast("Successfully deleted.",3e3,"round success-alert"),"employee_group_create"==$("body").attr("app")?location.hash="employee_group_creation/list":"customer_groups_details"==$("body").attr("app")?location.hash="customer/groups/identifiers/list":"communication_group_details"==$("body").attr("app")?location.hash="communication/groups":"collaborator_group_details"==$("body").attr("app")&&(location.hash="collaborator/groups/list")})).catch((e=>{removeLoader(),Materialize.toast("Error in deleting the group.",3e3,"round error-alert")}))})),$(document).on("click","#delete_communication_group_employee_member, #delete_communication_group_customer_member",(function(){addLoader();var e=$(this).attr("data-member-id");showAlert({alert_id:"alert-delete-communication-group-member-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Delete Member",alert_body:"Are you sure you want to delete the member?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-delete-communication-group-member-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-delete-communication-group-member-cancel-no"}]}]},(function(){removeLoader(),$("#alert-delete-communication-group-member-confirm-cancel").attr("data-member-id",e)}))})),$(document).on("click","#btn-delete-communication-group-member-cancel-no",(function(){$("#alert-delete-communication-group-member-confirm-cancel").remove()})),$(document).on("click","#btn-delete-communication-group-member-confirm-yes",(function(){addLoader();var e=$("#alert-delete-communication-group-member-confirm-cancel").attr("data-member-id");$("#alert-delete-communication-group-member-confirm-cancel").remove();var t={device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id"),id:e};checkGroupMemberDelete(t).then((i=>{groupMemberDelete(t).then((t=>{$(`.communication-group-member-wrapper[data-member-id="${e}"]`).remove(),$(`.communication-group-moderator-member-wrapper[data-id="${e}"]`).remove(),removeLoader(),Materialize.toast("Successfully removed employee",3e3,"round success-alert")})).catch((e=>{removeLoader(),Materialize.toast("Error in member removing",3e3,"round success-alert")}))})).catch((t=>{if("Minimum 2 employee members are required"==t.msg)showAlert({alert_id:"alert-group-member-delete-error-members-yes-no",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Minimum 2 employee members should be present in the group. Group will get deleted if the selected member is removed. Are you sure you want to remove the member?",alert_btn:[{name:"Delete Group",attr:[{name:"id",value:"btn-alert-group-member-delete-error-members-delete-group-confirm"}]},{name:"Cancel",attr:[{name:"id",value:"btn-alert-group-member-delete-error-members-cancel-confirm"}]}]},(function(){$("#alert-group-member-delete-error-members-yes-no").attr("data-member-id",e),removeLoader()}));else if("Minimum 2 customer members are required"==t.msg){showAlert({alert_id:"alert-group-member-delete-error-members-yes-no",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Minimum 2 customer members should be present in the group. Group will get deleted if the selected member is removed. Are you sure you want to remove the member?",alert_btn:[{name:"Delete Group",attr:[{name:"id",value:"btn-alert-group-member-delete-error-members-delete-group-confirm"}]},{name:"Cancel",attr:[{name:"id",value:"btn-alert-group-member-delete-error-members-cancel-confirm"}]}]},(function(){$("#alert-group-member-delete-error-members-yes-no").attr("data-member-id",e),removeLoader()}))}else if("Minimum 1 moderator is required"==t.msg){showAlert({alert_id:"alert-group-member-delete-error-moderator-ok",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Minimum 1 moderator is required. Please add moderator to delete the selected member.",alert_btn:[{name:"Ok",attr:[{name:"id",value:"btn-alert-group-member-delete-error-moderator-ok"}]}]},(function(){removeLoader()}))}else removeLoader()}))})),$(document).on("click","#delete_communication_group_employee_group_member, #delete_communication_group_customer_group_member, #delete_communication_group_collaborator_group_member",(function(){addLoader();var e=$(this).attr("data-group-id");showAlert({alert_id:"alert-delete-communication-group-member-group-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Delete Member",alert_body:"Are you sure you want to delete the member?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-delete-communication-group-member-group-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-delete-communication-group-member-group-cancel-no"}]}]},(function(){removeLoader(),$("#alert-delete-communication-group-member-group-confirm-cancel").attr("data-member-id",e)}))})),$(document).on("click","#btn-delete-communication-group-member-group-cancel-no",(function(){$("#alert-delete-communication-group-member-group-confirm-cancel").remove()})),$(document).on("click","#btn-delete-communication-group-member-group-confirm-yes",(function(){addLoader();var e=$("#alert-delete-communication-group-member-group-confirm-cancel").attr("data-member-id");$("#alert-delete-communication-group-member-group-confirm-cancel").remove();var t={device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id"),id:e};checkGroupMemberDelete(t).then((i=>{groupMemberDelete(t).then((t=>{$(`.communication-group-member-wrapper[data-member-id="${e}"]`).remove(),removeLoader(),Materialize.toast("Successfully removed employee",3e3,"round success-alert")})).catch((e=>{removeLoader(),Materialize.toast("Error in member removing",3e3,"round success-alert")}))})).catch((t=>{if("Minimum 1 employee/collaborator member is required"==t.msg)showAlert({alert_id:"alert-group-member-delete-error-members-yes-no",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Minimum 1 employee/collaborator members should be present in the group. Group will get deleted if the selected member is removed. Are you sure you want to remove the member?",alert_btn:[{name:"Delete Group",attr:[{name:"id",value:"btn-alert-group-member-delete-error-members-delete-group-confirm"}]},{name:"Cancel",attr:[{name:"id",value:"btn-alert-group-member-delete-error-members-cancel-confirm"}]}]},(function(){$("#alert-group-member-delete-error-members-yes-no").attr("data-member-id",e),removeLoader()}));else if("Minimum 1 customer member is required"==t.msg){showAlert({alert_id:"alert-group-member-delete-error-members-yes-no",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Minimum 1 customer members should be present in the group. Group will get deleted if the selected member is removed. Are you sure you want to remove the member?",alert_btn:[{name:"Delete Group",attr:[{name:"id",value:"btn-alert-group-member-delete-error-members-delete-group-confirm"}]},{name:"Cancel",attr:[{name:"id",value:"btn-alert-group-member-delete-error-members-cancel-confirm"}]}]},(function(){$("#alert-group-member-delete-error-members-yes-no").attr("data-member-id",e),removeLoader()}))}else if("Minimum 1 moderator is required"==t.msg){showAlert({alert_id:"alert-group-member-delete-error-moderator-ok",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Minimum 1 moderator is required. Please add moderator to delete the selected member.",alert_btn:[{name:"Ok",attr:[{name:"id",value:"btn-alert-group-member-delete-error-moderator-ok"}]}]},(function(){removeLoader()}))}else removeLoader()}))})),$(document).on("click",".digibiz-business-settings",(function(){(addLoader(),"super_admin"==sessionStorage.getItem("business_role"))?($("body").click(),location.hash="business/settings"):showAlert({alert_id:"access-denied-business-settings-module-alert",alert_platform:crossplat.device.platform,alert_title:"Access Denied",alert_body:"Only super-admins can access the module.",alert_btn:[{name:"OK",attr:[{name:"id",value:"access-denied-business-settings-module-alert-ok"}]}]},(function(){removeLoader()}))})),$(document).on("click",".module-admin-business-settings",(function(){addLoader(),$("body").click(),location.hash="module_admin/management"})),$(document).on("click",".module-admin-tab",(function(){addLoader(),sessionStorage.setItem("selected-business-settings-tab","module_admin"),$(".tab-content").removeClass("active"),$(`.tab-content[id="${sessionStorage.getItem("selected-business-settings-tab")}"`).addClass("active"),$(".tab").removeClass("active"),$(`.tab[data-id="${sessionStorage.getItem("selected-business-settings-tab")}"]`).addClass("active"),businessModuleAdminsTab()})),$(document).on("click",".digibiz-admin-tab",(function(){addLoader(),sessionStorage.setItem("selected-business-settings-tab","digibiz_admin"),$(".tab-content").removeClass("active"),$(`.tab-content[id="${sessionStorage.getItem("selected-business-settings-tab")}"`).addClass("active"),$(".tab").removeClass("active"),$(`.tab[data-id="${sessionStorage.getItem("selected-business-settings-tab")}"]`).addClass("active"),businessDigibizAdminsTab()})),$(document).on("click","#digibiz-admin-revoke-btn, #module-admin-revoke-btn",(function(){addLoader();sessionStorage.getItem("selected-business-settings-tab");var e=$(this).parents(".employee-wrapper").attr("data-id");$(this).parents(".employee-wrapper").attr("data-account-id")==sessionStorage.getItem("account_id")?(removeLoader(),Materialize.toast("Cannot revoke your owner access.",3e3,"round success-alert")):businessOwnerDelete({device_id:crossplat.device.uuid,id:e}).then((e=>{removeLoader(),Materialize.toast("Successfully revoked.",3e3,"round success-alert")})).catch((e=>{removeLoader(),Materialize.toast("Error",3e3,"round success-alert")}))})),$(document).on("click","#btn-alert-business-digibiz-admin-revoke-error-ok",(function(){$("#alert-business-digibiz-admin-revoke-error-ok").remove()})),$(document).on("click","#activate-employee-group-btn, #add_employee_group_moderator",(function(){var e,t;addLoader(),digibiz.employeeSelectedContactList=[],digibiz.communicationActivateEmployeeGroupEmployeeList=[],"employee_group_create"==$("body").attr("app")?(e=sessionStorage.getItem("group_id"),t=sessionStorage.getItem("group_from")):(e=$(this).parents(".employee-group-wrapper").attr("data-group-id"),t=$(this).parents(".employee-group-wrapper").attr("data-group-from")),groupGet({device_id:crossplat.device.uuid,id:e}).then((i=>{sessionStorage.removeItem("activate_group_id"),sessionStorage.setItem("activate_group_id",e),i.hasOwnProperty("moderator")&&i.moderator&&(digibiz.alreadySelected=i.moderator),getCompleteGroupMembers({device_id:crossplat.device.uuid,group_id:e,count:20,offset:0}).then((a=>{console.log("getCompleteGroupMembers",a),showModal({modal_platform:crossplat.device.platform,modal_id:"modal-communication-group-activate-employee-group-employee-list-selection",modal_header:"Group Members",modal_body:'<div id="communication-group-activate-employee-group-employee-list-main-container">\n                                            <div class="search">\n                                             <div class="expand-search-wrap search-wrapper" id="communication-group-activate-employee-group-employee-list-search-btn">\n                                                <span class="searchbtn waves-effect cursor-pointer"><i class="material-icons">search</i></span>\n                                                <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                                                <span class="searchclosebtn"><i class="material-icons communication-group-activate-employee-group-employee-list-close-btn hide">close</i></span>\n                                             </div>\n                                            </div>\n                                        <div id="communication-group-activate-employee-group-employee-list-wrapper"></div>\n                                        </div>',modal_action_buttons:[{name:"Save",id:"communication-group-activate-employee-group-employee-select-save-btn"}]},(function(){$("#modal-communication-group-activate-employee-group-employee-list-selection").attr("data-group-id",e),$("#modal-communication-group-activate-employee-group-employee-list-selection").attr("data-group-type",t),removeLoader(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),processCommunicationGroupActivateEmployeeGroupEmployeeList(a,i,(function(){listenForGroupMembersList($(".modal-popup-content")),setTimeout((function(){var e=$("#modal-communication-group-activate-employee-group-employee-list-selection").find(".expand-search-input");e&&($(document).on("input",e,(function(){timestamp=(new Date).getTime(),e.attr("socketid",timestamp)})),$(document).on("keyup",e,(function(){if(socketid=e.attr("socketid"),keyword=e.val(),socketid&&keyword){switch(document.getElementsByClassName("searchclosebtn")[0].style.display="flex",currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:socketid,app:"digibiz",keyword:keyword},currentroute){case"employee_group_creation_list":case"employee_group_create":"standard"==sessionStorage.getItem("selected-employee-group-list-type-tab")?$("#modal-communication-group-activate-employee-group-employee-list-selection").length>0&&(data.index="getEmployeeStandardGroupModeratorList",data.group_id=$("#modal-communication-group-activate-employee-group-employee-list-selection").attr("data-group-id")):"custom"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&$("#modal-communication-group-activate-employee-group-employee-list-selection").length>0&&("standard_group"==t?(data.index="getEmployeeCustomStandardGroupModeratorList",data.group_id=$("#modal-communication-group-activate-employee-group-employee-list-selection").attr("data-group-id")):(data.index="getDigibizGroupMembersListPage",data.group_id=$("#modal-communication-group-activate-employee-group-employee-list-selection").attr("data-group-id")))}addLoader(),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300)}else switch(removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),e.attr("socketid",""),currentroute){case"employee_group_creation_list":case"employee_group_create":"standard"==sessionStorage.getItem("selected-employee-group-list-type-tab")?$("#modal-communication-group-activate-employee-group-employee-list-selection").length>0&&processCommunicationGroupActivateEmployeeGroupEmployeeList(digibiz.communicationActivateEmployeeGroupEmployeeList,i,(function(){})):"custom"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&$("#modal-communication-group-activate-employee-group-employee-list-selection").length>0&&processCommunicationGroupActivateEmployeeGroupEmployeeList(digibiz.communicationActivateEmployeeGroupEmployeeList,i,(function(){}))}})),$(document).on("click",".searchclosebtn",(function(){"standard"==sessionStorage.getItem("selected-employee-group-list-type-tab")?$("#modal-communication-group-activate-employee-group-employee-list-selection").length>0&&processCommunicationGroupActivateEmployeeGroupEmployeeList(digibiz.communicationActivateEmployeeGroupEmployeeList,i,(function(){})):"custom"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&$("#modal-communication-group-activate-employee-group-employee-list-selection").length>0&&processCommunicationGroupActivateEmployeeGroupEmployeeList(digibiz.communicationActivateEmployeeGroupEmployeeList,i,(function(){}))})))}),0)}))}))})).catch((e=>{removeLoader()}))})).catch((e=>{removeLoader()}))})),$(document).on("click","#digibiz_business_logout",(function(){addLoader(),navigateLogsUpdate({device_id:crossplat.device.uuid,role:sessionStorage.getItem("digibiz_role"),business_id:sessionStorage.getItem("business_id"),data:{status:"inactive"}}).then((e=>{sessionStorage.removeItem("business_id"),sessionStorage.removeItem("employee_id"),location.hash="employee/business/list"})).catch((e=>{removeLoader(),Materialize.toast("Error in logging out.",3e3,"round error-alert")}))})),$(document).on("click","#prospect_app_hub_logout",(function(){addLoader(),sessionStorage.removeItem("digibiz_role"),sessionStorage.clear(),setTimeout((function(){deviceHelper.navigateToAccounts("core")}),1e3)})),$(document).on("click","#activate-communication-group-btn",(function(){var e;addLoader(),digibiz.communicationGroupActivate=[],e="communication_groups"==$("body").attr("app")?$(this).parents(".communication-group-wrapper").attr("data-id"):sessionStorage.getItem("group_id");var t={device_id:crossplat.device.uuid,id:e},i={device_id:crossplat.device.uuid,group_id:e};groupGet(t).then((t=>{t.hasOwnProperty("moderator")&&t.moderator&&(digibiz.alreadySelected=t.moderator),"contact_list"==t.group_type?getCompleteGroupMembers(i).then((i=>{showModal({modal_platform:crossplat.device.platform,modal_id:"modal-communication-group-moderator-selection",modal_header:"Group Members",modal_body:'<div id="communication-group-members-main-container">\n                                            <span class="searchbtn waves-effect cursor-pointer"><i class="material-icons">search</i></span>\n                                             <div class="expand-search-wrap" id="communication-group-members-search-btn">\n                                             <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                                             <span class="searchclosebtn"><i class="material-icons communication-group-members-close-btn hide">close</i></span>\n                                        </div>\n                                        <div id="communication-group-members-wrapper"></div>\n                                        </div>',modal_action_buttons:[{name:"Save",id:"communication-group-activate-save-btn"}]},(function(){$("#modal-communication-group-moderator-selection").attr("data-group-id",e),removeLoader(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),processCommunicationGroupActivate(i,t,(function(){setTimeout((function(){var e=$("#modal-communication-group-moderator-selection").find(".expand-search-input");e&&($(document).on("input",e,(function(){timestamp=(new Date).getTime(),e.attr("socketid",timestamp)})),$(document).on("keyup",e,(function(){if(socketid=e.attr("socketid"),keyword=e.val(),socketid&&keyword){if(document.getElementsByClassName("searchclosebtn")[0].style.display="flex",currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:socketid,app:"digibiz",keyword:keyword},"communication_groups"===currentroute)$("#modal-communication-group-moderator-selection").length>0&&(data.index="getCommunicationContactListModeratorList",data.group_id=$("#modal-communication-group-moderator-selection").attr("data-group-id"));addLoader(),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300)}else if(removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),e.attr("socketid",""),"communication_groups"===currentroute)$("#modal-communication-group-moderator-selection").length>0&&processCommunicationGroupActivate(i,t,(function(){}))})),$(document).on("click",".searchclosebtn",(function(){$("#modal-communication-group-moderator-selection").length>0&&processCommunicationGroupActivate(i,t,(function(){}))})))}),0)}))}))})).catch((e=>{removeLoader(),Materialize.toast("No group Members Found",3e3,"round success-alert")})):getGroupMembers(i).then((e=>{var t={dataList:e.membersList.filter((e=>"collaborator_group"!=e.member.type)).map((e=>{if("employee_group"==e.member.type)if(e.hasOwnProperty("identity_picture")&&e.identity_picture){var t=`${api.get_employee_thumbnail}?id=${e.member.employee_id}&device_id=${crossplat.device.uuid}&type=display_picture`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.charAt(0)}else e.imageLetter=e.member_name.charAt(0);else if("customer_group"==e.member.type)if(e.hasOwnProperty("identity_picture")&&e.identity_picture){t=`${api.get_employee_thumbnail}?id=${e.member.employee_id}&device_id=${crossplat.device.uuid}&type=display_picture`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.charAt(0)}else e.imageLetter=e.member_name.charAt(0);return e})),page_for:"group_list_moderator"};fetch.getHtml((function(e,t){showModal({modal_id:"modal-communication-group-create-group-list-moderator-selection",modal_header:"Members list",modal_platform:crossplat.device.platform,modal_body:t,modal_action_buttons:[{name:"Add Moderator",id:"add-communication-group-create-group-list-selected-moderator"}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),removeLoader()}))}),"page/communication/moderator_selection_list","#moderator-selection-list-template",t)})).catch((e=>{removeLoader(),Materialize.toast("No group Members Found",3e3,"round success-alert")}))}))})),$(document).on("click","#add_communication_group_moderator_members",(function(){if(addLoader(),digibiz.communicationCreateEmployeeGroupEmployeeList=[],digibiz.communicationGroupActivate=[],digibiz.alreadySelected=[],sessionStorage.getItem("group_id")){var e=sessionStorage.getItem("group_id"),t={device_id:crossplat.device.uuid,id:e},i={device_id:crossplat.device.uuid,group_id:e,count:20,offset:0};groupGet(t).then((t=>{t.hasOwnProperty("moderator")&&t.moderator&&(digibiz.alreadySelected=t.moderator),"contact_list"==t.group_type?getCompleteGroupMembers(i).then((i=>{showModal({modal_platform:crossplat.device.platform,modal_id:"modal-communication-group-moderator-selection",modal_header:"Group Members",modal_body:'<div id="communication-group-members-main-container">\n                                            <span class="searchbtn waves-effect cursor-pointer"><i class="material-icons">search</i></span>\n                                             <div class="expand-search-wrap" id="communication-group-members-search-btn">\n                                             <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                                             <span class="searchclosebtn"><i class="material-icons communication-group-members-close-btn hide">close</i></span>\n                                        </div>\n                                        <div id="communication-group-members-wrapper"></div>\n                                        </div>',modal_action_buttons:[{name:"Save",id:"communication-group-activate-save-btn"}]},(function(){$("#modal-communication-group-moderator-selection").attr("data-group-id",e),removeLoader(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),processCommunicationGroupActivate(i,t,(function(){setTimeout((function(){listenForCommunicationGroupActivateScrollEvent($(".modal-popup-content"));var e=$("#modal-communication-group-moderator-selection").find(".expand-search-input");e&&($(document).on("input",e,(function(){timestamp=(new Date).getTime(),e.attr("socketid",timestamp)})),$(document).on("keyup",e,(function(){if(socketid=e.attr("socketid"),keyword=e.val(),socketid&&keyword){switch(document.getElementsByClassName("searchclosebtn")[0].style.display="flex",currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:socketid,app:"digibiz",keyword:keyword},currentroute){case"communication_groups":case"communication_group_details":$("#modal-communication-group-moderator-selection").length>0&&(data.index="getCommunicationContactListModeratorList",data.group_id=$("#modal-communication-group-moderator-selection").attr("data-group-id"))}addLoader(),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300)}else switch(removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),e.attr("socketid",""),currentroute){case"communication_groups":case"communication_group_details":$("#modal-communication-group-moderator-selection").length>0&&(t.moderator=[],processCommunicationGroupActivate(digibiz.communicationGroupActivate,t,(function(){})))}})),$(document).on("click",".searchclosebtn",(function(){$("#modal-communication-group-moderator-selection").length>0&&(t.moderator=[],processCommunicationGroupActivate(digibiz.communicationGroupActivate,t,(function(){})))})))}),0)}))}))})).catch((e=>{removeLoader(),Materialize.toast("No group Members Found",3e3,"round success-alert")})):getGroupMembers(i).then((e=>{var t={dataList:e.membersList.filter((e=>"collaborator_group"!=e.member.type)).map((e=>{if("employee_group"==e.member.type)if(e.hasOwnProperty("identity_picture")&&e.identity_picture){var t=`${api.get_employee_thumbnail}?id=${e.member.employee_id}&device_id=${crossplat.device.uuid}&type=display_picture`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.charAt(0)}else e.imageLetter=e.member_name.charAt(0);else if("customer_group"==e.member.type)if(e.hasOwnProperty("identity_picture")&&e.identity_picture){t=`${api.get_employee_thumbnail}?id=${e.member.employee_id}&device_id=${crossplat.device.uuid}&type=display_picture`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.charAt(0)}else e.imageLetter=e.member_name.charAt(0);return e})),page_for:"group_list_moderator"};fetch.getHtml((function(e,t){showModal({modal_id:"modal-communication-group-create-group-list-moderator-selection",modal_header:"Members list",modal_platform:crossplat.device.platform,modal_body:t,modal_action_buttons:[{name:"Add Moderator",id:"add-communication-group-create-group-list-selected-moderator"}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),removeLoader()}))}),"page/communication/moderator_selection_list","#moderator-selection-list-template",t)})).catch((e=>{removeLoader(),Materialize.toast("No group Members Found",3e3,"round success-alert")}))}))}else if("contact_list"==sessionStorage.getItem("group_from")){var a=[];employeeMembersList((function(t,i){t?removeLoader():($.each(i,(function(e,t){a.push(t)})),customerMembersList((function(t,i){t?removeLoader():($.each(i,(function(e,t){a.push(t)})),associateCustomerMembersList((function(t,i){if(t)removeLoader();else if($.each(i,(function(e,t){a.push(t)})),a.length>0){console.log("check length",a);var o={group_type:sessionStorage.getItem("group_from")};showModal({modal_platform:crossplat.device.platform,modal_id:"modal-communication-group-moderator-selection",modal_header:"Group Members",modal_body:'<div id="communication-group-members-main-container">\n                                                        <span class="searchbtn waves-effect cursor-pointer hide"><i class="material-icons">search</i></span>\n                                                         <div class="expand-search-wrap" id="communication-group-members-search-btn">\n                                                         <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                                                         <span class="searchclosebtn"><i class="material-icons communication-group-members-close-btn hide">close</i></span>\n                                                    </div>\n                                                    <div id="communication-group-members-wrapper"></div>\n                                                    </div>',modal_action_buttons:[{name:"Save",id:"communication-group-activate-save-btn"}]},(function(){$("#modal-communication-group-moderator-selection").attr("data-group-id",e),removeLoader(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),processCommunicationGroupActivate(a,o,(function(){setTimeout((function(){var e=$("#modal-communication-group-moderator-selection").find(".expand-search-input");e&&($(document).on("input",e,(function(){timestamp=(new Date).getTime(),e.attr("socketid",timestamp)})),$(document).on("keyup",e,(function(){if(socketid=e.attr("socketid"),keyword=e.val(),socketid&&keyword){switch(document.getElementsByClassName("searchclosebtn")[0].style.display="flex",currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:socketid,app:"digibiz",keyword:keyword},currentroute){case"communication_groups":case"communication_group_details":$("#modal-communication-group-moderator-selection").length>0&&(data.index="getCommunicationContactListModeratorList",data.group_id=$("#modal-communication-group-moderator-selection").attr("data-group-id"))}addLoader(),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300)}else switch(removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),e.attr("socketid",""),currentroute){case"communication_groups":case"communication_group_details":$("#modal-communication-group-moderator-selection").length>0&&processCommunicationGroupActivate(a,o,(function(){}))}})),$(document).on("click",".searchclosebtn",(function(){$("#modal-communication-group-moderator-selection").length>0&&processCommunicationGroupActivate(a,o,(function(){}))})))}),0)}))}))}else removeLoader(),Materialize.toast("Please add group members.",3e3,"rounded error-alert")})))})))}))}})),$(document).on("click","#communication-group-activate-save-btn",(function(){addLoader();var e=$("#modal-communication-group-moderator-selection").attr("data-group-id");if(sessionStorage.getItem("group_id")||null!=e){var t=$("#modal-communication-group-moderator-selection").attr("data-group-id");showAlert({alert_id:"alert-communication-group-moderator-add-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Already added or existing moderator\n                won't be added again.Only new moderator will be added",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-communication-group-moderator-add-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-communication-group-moderator-add-confirm-no"}]}]},(function(){removeLoader(),$("#alert-communication-group-moderator-add-confirm-cancel").attr("data-group-id",t)}))}else $(".communication-group-moderator-select-btn:checked").length>0?($.each($(".communication-group-moderator-select-btn:checked"),(function(e,t){if("employee"==$(t).parents(".employee-selection-list-container").find(".contact-profile-container").attr("data-type")){var i=$(t).attr("data-id"),a=$(t).parents(".employee-selection-list-container").find(".contact-name-wrapper").text(),o=$(t).parents(".employee-selection-list-container").find(".designation-name").text(),s=$(t).parents(".employee-selection-list-container").find(".contact-name-wrapper").text().charAt(0);$(t).parents(".employee-selection-list-container").find("img").attr("src");if(null!=i){var r=`<div class="tooltipped communication-group-moderator-member-wrapper-not-saved member-listing-wrapper" data-id="${i}"><div class="file-select">\n                <input type="checkbox" name="selectedmembers[]" class="contactlists filled-in communication-group-moderator-member-not-saved" data-type="employee" value="${i}" id="selected-${i}" checked=""><i class="material-icons">done</i><div class="profile-text group-profile-text text-small-size">\n                    <span>${s}</span> \n                 </div></div><div class="filemanager-file-wrapper"><span class="truncate" for="selected-${i}">${a}</span>\n                 <span class="truncate">${o}</span></div>\n            </div>`;$("#communication-group-moderator-members-list").append(r),$("#modal-communication-group-moderator-selection").remove()}else removeLoader()}else if("customer"==$(t).parents(".employee-selection-list-container").find(".contact-profile-container").attr("data-type"))if("customer"==$(t).parents(".employee-selection-list-container").find(".contact-profile-container").attr("data-customer-type")){var n=$(t).attr("data-id"),d=$(t).parents(".employee-selection-list-container").find(".contact-profile-container").attr("data-customer-type"),c=$(t).parents(".employee-selection-list-container").find(".contact-profile-container").attr("data-more_info"),l=$(t).parents(".employee-selection-list-container").find(".contact-profile-container").attr("data-associate_customter_info"),p=$(t).parents(".employee-selection-list-container").find(".contact-profile-container").attr("data-role_business_name");console.log("get_role_business_name",p);var m=$(t).parents(".employee-selection-list-container").find(".contact-name-wrapper").text(),u=$(t).parents(".employee-selection-list-container").find(".contact-name-wrapper").text().charAt(0),g=$(t).parents(".employee-selection-list-container").find(".contact-profile-container").attr("data-identifier-id");$(t).parents(".employee-selection-list-container").find("img").attr("src");if(null!=n){r=`<div class="tooltipped communication-group-moderator-member-wrapper-not-saved member-listing-wrapper" data-id="${n}" data-identifier-id="${g}"><div class="file-select">\n                <input type="checkbox" name="selectedmembers[]" class="contactlists filled-in communication-group-moderator-member-not-saved" data-type="${d}" value="${n}" id="selected-${n}" checked=""><i class="material-icons">done</i><div class="profile-text group-profile-text text-small-size">\n                    <span>${u}</span> \n                 </div></div><div class="filemanager-file-wrapper"><span class="truncate" for="selected-${n}">${m}</span>|<span>${c}</span>|<span>${p}</span></div>\n            </div>`;$("#communication-group-moderator-members-list").append(r),$("#modal-communication-group-moderator-selection").remove()}else removeLoader()}else{n=$(t).attr("data-id"),d=$(t).parents(".employee-selection-list-container").find(".contact-profile-container").attr("data-customer-type"),m=$(t).parents(".employee-selection-list-container").find(".contact-name-wrapper").text(),u=$(t).parents(".employee-selection-list-container").find(".contact-name-wrapper").text().charAt(0),$(t).parents(".employee-selection-list-container").find("img").attr("src"),g=$(t).parents(".employee-selection-list-container").find(".contact-profile-container").attr("data-identifier-id");var _=$(t).parents(".employee-selection-list-container").find(".contact-profile-container").attr("data-parent-customer-id"),f=$(t).parents(".employee-selection-list-container").find(".contact-profile-container").attr("data-parent-customer-identifier-id");l=$(t).parents(".employee-selection-list-container").find(".contact-profile-container").attr("data-associate_customter_info"),p=$(t).parents(".employee-selection-list-container").find(".contact-profile-container").attr("data-role_business_name");if(console.log("get_role_business_namee",p),null!=n){r=`<div class="tooltipped communication-group-moderator-member-wrapper-not-saved member-listing-wrapper" data-id="${n}" data-identifier-id="${g}" data-parent-customer-id="${_}" data-parent-customer-identifier-id="${f}"><div class="file-select">\n                <input type="checkbox" name="selectedmembers[]" class="contactlists filled-in communication-group-moderator-member-not-saved" data-type="${d}" value="${n}" id="selected-${n}" checked=""><i class="material-icons">done</i><div class="profile-text group-profile-text text-small-size">\n                    <span>${u}</span> \n                 </div></div><div class="filemanager-file-wrapper"><span class="truncate" for="selected-${n}">${m}</span>|<span>${l}</span>|<span>${p}</span></div>\n            </div>`;$("#communication-group-moderator-members-list").append(r),$("#modal-communication-group-moderator-selection").remove()}else removeLoader()}})),removeLoader()):(removeLoader(),Materialize.toast("Please select atleast 1 employee.",3e3,"round success-alert"));appScroll.scrollBar("#communication-group-moderator-members-list")})),$(document).on("click","#btn-communication-group-moderator-add-confirm-no",(function(){$("#alert-communication-group-moderator-add-confirm-cancel").remove()})),$(document).on("click","#btn-communication-group-moderator-add-confirm-yes",(function(){$("#modal-communication-group-moderator-selection").attr("data-group-id");var e=[],t=[],i=$(".communication-group-moderator-select-btn");if($("#alert-communication-group-moderator-add-confirm-cancel").remove(),$.each(i,(function(t,i){var a,o;$(i).is(":checked")&&("customer"==$(i).parents(".employee-selection-list-container").find(".contact-profile-container").attr("data-type")?"customer"==$(i).parents(".employee-selection-list-container").find(".contact-profile-container").attr("data-customer-type")?(a="customer",o=$(i).parents(".employee-selection-list-container").find(".contact-profile-container").attr("data-account-id")):"associate_customer"==$(i).parents(".employee-selection-list-container").find(".contact-profile-container").attr("data-customer-type")&&(a="associate_customer",o=$(i).parents(".employee-selection-list-container").find(".contact-profile-container").attr("data-account-id")):"employee"==$(i).parents(".employee-selection-list-container").find(".contact-profile-container").attr("data-type")&&(a="employee",o=$(i).attr("data-id")),e.push({id:$(i).attr("data-id"),type:a,user_id:o}))})),$.each(digibiz.alreadySelected,(function(i,a){a.hasOwnProperty("group_id")&&a.group_id?(0==$(`.accordion-content[data-group-id="${a.group_id}"]`).find(`.communication-group-moderator-select-btn[data-id="${a.id}"]`).is(":checked")&&t.push(a),e=e.filter((function(e){return e.id!=a.id}))):(0==$(`.communication-group-moderator-select-btn[data-id="${a.id}"]`).is(":checked")&&t.push(a),e=e.filter((function(e){return e.id!=a.id})))})),e.length>0||t.length>0){if(e.length>0)groupModeratorAdd({device_id:crossplat.device.uuid,id:groupID,moderator_data:e}).then((e=>{digibiz.alreadySelected=[],digibiz.communicationGroupActivate=[],$("#modal-communication-group-moderator-selection").remove(),Materialize.toast("Successfully updated.",3e3,"round error-alert"),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}));t.length>0&&$.each(t,(function(e,t){groupModeratorDelete({device_id:crossplat.device.uuid,id:groupID,moderator_id:t.id}).then((e=>{digibiz.alreadySelected=[],digibiz.communicationGroupActivate=[],$("#modal-communication-group-moderator-selection").remove(),Materialize.toast("Successfully updated.",3e3,"round error-alert"),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))}))}else Materialize.toast("No data changed to save.",3e3,"round error-alert"),removeLoader()})),$(document).on("click","#add_group_moderator_employees",(function(){(addLoader(),sessionStorage.getItem("group_id"))||employeeList({device_id:crossplat.device.uuid,list_by:"list_only_active",business_id:sessionStorage.getItem("business_id"),count:20,offset:0}).then((e=>{var t=[];$.each($(".collaborator-group-owner-business-employee-member:checked"),(function(i,a){console.log("employee",a);var o=e.find((e=>e.dj_unique_employee_id==$(a).attr("value")));console.log("getEmployee",o),null!=o&&t.push(o)})),console.log("finalSelectedEmployeeList",t),$.each($(".collaborator-group-employee-moderator-member"),(function(e,i){t=t.filter((e=>e.dj_unique_employee_id!=$(i).attr("value")))}));var i={EmployeeList:t.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture){var t=`${api.get_employee_thumbnail}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&type=display_picture`;e.identity_picture.avtarUrl=t}else e.hasOwnProperty("display_name")&&e.display_name?e.imageLetter=e.display_name.charAt(0):e.imageLetter=e.name.first.charAt(0);return e})),page_for:"moderator_first_time"};console.log("EmployeeList",i),fetch.getHtml((function(e,i){showModal({modal_id:"modal-collaborator-group-moderator-selection",modal_header:"Moderator selection List",modal_platform:crossplat.device.platform,modal_body:i,modal_action_buttons:[{name:"Save",id:"add-collaborator-group-selected-moderator"}]},(function(){$(".moderator-selection-list-main-box").prepend('<div class="search">\n                                    <div class="expand-search-wrap search-wrapper" id="moderator-selection-list-search-btn">\n                                        <span class="searchbtn waves-effect cursor-pointer"><i class="material-icons">search</i></span>\n                                        <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                                        <span class="searchclosebtn"><i class="material-icons moderator-selection-list-close-btn hide">close</i></span>\n                                    </div>\n                                </div>\n                            '),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),removeLoader(),setTimeout((function(){var e=$("#moderator-selection-list-search-btn").find(".expand-search-input");e&&($(document).on("input",e,(function(){timestamp=(new Date).getTime(),e.attr("socketid",timestamp)})),$(document).on("keyup",e,(function(){if(socketid=e.attr("socketid"),keyword=e.val(),socketid&&keyword){if(document.getElementsByClassName("searchclosebtn")[0].style.display="flex",currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:socketid,app:"digibiz",keyword:keyword},"collaborator_group_create"===currentroute)$("#modal-collaborator-group-moderator-selection").length>0&&(data.index="getEmployeeContactListAllEmployees",data.business_id=sessionStorage.getItem("business_id"));addLoader(),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300)}else if(removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),e.attr("socketid",""),"collaborator_group_create"===currentroute)$("#modal-collaborator-group-moderator-selection").length>0&&processSearchedEmployeeGroupEmployeeSelectionList(t,(function(){}))})),$(document).on("click",".searchclosebtn",(function(){"collaborator_group_create"==$("body").attr("app")&&$("#modal-collaborator-group-moderator-selection").length>0&&processSearchedEmployeeGroupEmployeeSelectionList(t,(function(){}))})))}),0)}))}),"page/collaborator/moderator_selection_list","#moderator-selection-list-template",i)})).catch((e=>{removeLoader()}))})),$(document).on("click","#delete_collaborator_group",(function(){addLoader(),employeeGroupDelete({device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id")}).then((e=>{sessionStorage.removeItem("group_id"),Materialize.toast("Successfully deleted.",3e3,"round success-alert"),location.hash="collaborator/groups/list"})).catch((e=>{removeLoader(),Materialize.toast("Error in deleting the group.",3e3,"round error-alert")}))})),$(document).on("click",".reassign-customer-btn",(function(){addLoader();var e=$(".selected-value-customer-identifier").attr("data-id"),t=$(".selected-value-customer-identifier").attr("data-value");customerIdentifierList({device_id:crossplat.device.uuid,list_by:"customer",business_id:sessionStorage.getItem("business_id")}).then((i=>{var a={customerIdentifier:i,alreadySelectedIdentifierValue:t,alreadySelectedIdentifierId:e};fetch.getHtml((function(e,t){e||(removeLoader(),showModal({modal_platform:crossplat.device.platform,modal_id:"alert-customer-identifier-reassign-confirm-cancel",modal_header:"Customer Identifier Re-assign",modal_body:t,modal_action_buttons:[{name:"Cancel",attr:[{name:"id",value:"alert-cancel-customer-identifier-reassign"}]},{name:"Confirm",attr:[{name:"id",value:"alert-confirm-customer-identifier-reassign"}]}]},(function(){$("#modal-close-btn").remove(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"):$(".custom-modal-popup").show().addClass("modal-slide-top"),commonExecutables(),removeLoader()})))}),"layouts/popup/customer_identifier_reassign","#customer-identifier-reassign-choose-template",a)})).catch((e=>{removeLoader(),Materialize.toast("Error in getting the identifiers.",3e3,"round error-alert")}))})),$(document).on("click","#alert-cancel-customer-identifier-reassign",(function(){addLoader(),$("#alert-customer-identifier-reassign-confirm-cancel").remove(),removeLoader()})),$(document).on("click","#alert-confirm-customer-identifier-reassign",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){addLoader();var t=$(".selected-value-customer-identifier-reassign").attr("data-id");if("collaborator/customer/create"==location.href.split("#").pop())collaboratorCustomerReassign({device_id:crossplat.device.uuid,id:sessionStorage.getItem("collaborator_business_customers_id"),reassign_customer_identifier_id:t}).then((e=>{$("#customer-identifier-choose-select-dropdown").val(t),Materialize.toast(`${e}`,3e3,"round success-alert"),$("#alert-customer-identifier-reassign-confirm-cancel").remove(),location.hash="customer/collaborators",removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(`${e.msg}`,3e3,"round error-alert")}));else customerReassign({device_id:crossplat.device.uuid,id:sessionStorage.getItem("customer_id"),reassign_customer_identifier_id:t}).then((e=>{$("#customer-identifier-choose-select-dropdown").val(t),Materialize.toast(`${e}`,3e3,"round success-alert"),customerUpdate({device_id:crossplat.device.uuid,id:sessionStorage.getItem("customer_id"),data:{socket_enable_status:"true",update_for:"socket_enable_status"}}).then((e=>{$("#alert-customer-identifier-reassign-confirm-cancel").remove(),sessionStorage.removeItem("customer_id"),sessionStorage.removeItem("customer_name"),location.hash="customer_creation/active/list"})).catch((e=>{$("#alert-customer-identifier-reassign-confirm-cancel").remove(),"no updated data found"==e.msg&&(sessionStorage.removeItem("customer_id"),location.hash="customer_creation")})),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(`${e.msg}`,3e3,"round error-alert")}))}})),$(document).on("click",".module-admin-management-wrapper",(function(){addLoader(),sessionStorage.setItem("module_type",$(this).attr("data-type")),location.hash="module_admin/list"})),$(document).on("click",".active-super-admin-tab",(function(){addLoader(),sessionStorage.setItem("selected-super-admin-management-tab","active-super-admin"),$(".tab-content").removeClass("active"),$(`.tab-content[id="${sessionStorage.getItem("selected-super-admin-management-tab")}"`).addClass("active"),$(".tab").removeClass("active"),$(`.tab[data-id="${sessionStorage.getItem("selected-super-admin-management-tab")}"]`).addClass("active"),digibiz.active_super_admins_list=[],activeSuperAdminsTab()})),$(document).on("click",".pending-super-admin-tab",(function(){addLoader(),sessionStorage.setItem("selected-super-admin-management-tab","pending-super-admin"),$(".tab-content").removeClass("active"),$(`.tab-content[id="${sessionStorage.getItem("selected-super-admin-management-tab")}"`).addClass("active"),$(".tab").removeClass("active"),$(`.tab[data-id="${sessionStorage.getItem("selected-super-admin-management-tab")}"]`).addClass("active"),digibiz.pending_super_admins_list=[],pendingSuperAdminsTab()})),$(document).on("click","#super_admin_by_notification",(function(){addLoader(),fetch.getHtml((function(e,t){showModal({modal_platform:crossplat.device.platform,modal_id:"add-super-admin-modal",modal_header:"Add Super-Admin",modal_body:t,modal_action_buttons:[{name:"Notify",attr:[{name:"id",value:"notify-super-admin-btn"}]}]},(function(){removeLoader(),mobileFlaginit(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top")}))}),"page/business/super_admin_notify_modal","#add-super-admin-notify-template",null)})),$(document).on("click","#super_admin_by_qr_code",(function(){addLoader(),$("#super_admin_creation_by_selection_modal").remove(),location.hash="#super_admin/scan_qr"})),$(document).on("click","#notify-super-admin-btn",(function(){var e;if(addLoader(),$("#super_admin_unique_name_field").val().trim().length>0){var t=$("#super_admin_unique_name_field").val().trim();e="unique_name"}else if($("#add-super-admin-mobile-number").val().trim().length>0){var i=$("#add-super-admin-mobile-number").intlTelInput("getNumber").replace(/\s/g,"");e="mobile_number"}null==e||null==e||""==e?(removeLoader(),Materialize.toast("Please enter data",3e3,"round success-alert")):notificationAdd({device_id:crossplat.device.uuid,data_type:e,add_type:"add",type:"super_admin",business_id:sessionStorage.getItem("business_id"),unique_name:t,mobile_number:i}).then((e=>{Materialize.toast("Successfully sent notification",3e3,"round success-alert"),$("#add-super-admin-modal").remove(),removeLoader()})).catch((e=>{Materialize.toast(e.msg,3e3,"round success-alert"),removeLoader()}))})),$(document).on("click","#delete-super-admin-icon",(function(){addLoader();var e=$(this).parents(".employee-wrapper").attr("data-employee-id");showAction({action_id:"super_admin_delete_action_sheet",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"Revoke Super Admin",attr:[{name:"id",value:"revoke_super_admin"}]},{name:"Delete Employee",attr:[{name:"id",value:"delete_super_admin_employee"}]}]},(function(){$(".action-sheet-container").removeClass("hide").addClass("slide-top"),$(".action-sheet-container").attr("data-employee-id",e),removeLoader()}))})),$(document).on("click","#revoke_super_admin",(function(){addLoader();var e=$("#super_admin_delete_action_sheet").attr("data-employee-id");$("#super_admin_delete_action_sheet").remove(),businessSuperAdminRevoke({device_id:crossplat.device.uuid,type:"revoke_super_admin",super_admin_employee_id:e}).then((t=>{$(`.employee-wrapper[data-employee-id="${e}"]`).remove(),Materialize.toast("Successfully revoked.",3e3,"round error-alert"),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(`${e.msg}`,3e3,"round error-alert")}))})),$(document).on("click","#delete_super_admin_employee",(function(){addLoader();var e=$("#super_admin_delete_action_sheet").attr("data-employee-id");$("#super_admin_delete_action_sheet").remove(),businessSuperAdminRevoke({device_id:crossplat.device.uuid,type:"delete_employee",super_admin_employee_id:e}).then((t=>{$(`.employee-wrapper[data-employee-id="${e}"]`).remove(),Materialize.toast("Successfully deleted.",3e3,"round error-alert"),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(`${e.msg}`,3e3,"round error-alert")}))})),$(document).on("click",".digibiz-filemanager",(function(e){if(sessionStorage.removeItem("business_upload_for"),sessionStorage.removeItem("employee_upload_for"),sessionStorage.removeItem("customer_upload_for"),sessionStorage.removeItem("associate_customer_upload_for"),sessionStorage.removeItem("individual_assets"),digibiz.cloudAssets=[],"business_edit"==$("body").attr("app")||"business_add"==$("body").attr("app")){var t=$(".bussines-forward-btn").attr("data-present-step");if(2==t||"2"==t)$("#business-display-video-from-action-sheet").length>0?($("#business-display-video-from-action-sheet").remove(),sessionStorage.setItem("business_upload_for","business_identity_video")):($("#business-display-picture-type-action-sheet").remove(),sessionStorage.setItem("business_upload_for","business_display_picture"));else if(3==t||"3"==t)$("#action-multimedia-upload-attachments-options").remove();else if(5==t||"5"==t){var i=$("#business-declaration-transaction-signature-type-action-sheet").attr("declaration_for");sessionStorage.setItem("cloud_upload_for",i),$("#business-declaration-transaction-signature-type-action-sheet").remove()}}if("employee_create"!=$("body").attr("app")&&"employee_edit"!=$("body").attr("app")||($("#employee-identity-picture-type-action-sheet").length>0?$("#employee-identity-picture-type-action-sheet").remove():($("#employee-display-video-from-action-sheet").remove(),sessionStorage.setItem("employee_upload_for","employee_identity_video"))),"customer_create"!=$("body").attr("app")&&"customer_edit"!=$("body").attr("app")||($("#customer-identity-picture-type-action-sheet").length>0?$("#customer-identity-picture-type-action-sheet").remove():$("#associate-customer-identity-picture-type-action-sheet").length>0?$("#associate-customer-identity-picture-type-action-sheet").remove():$("#customer-display-video-from-action-sheet").length>0?($("#customer-display-video-from-action-sheet").remove(),sessionStorage.setItem("customer_upload_for","customer_identity_video")):$("#associate-customer-display-video-from-action-sheet").length>0&&($("#associate-customer-display-video-from-action-sheet").remove(),sessionStorage.setItem("associate_customer_upload_for","associate_customer_identity_video"))),"customer_groups_details"!=$("body").attr("app")&&"employee_group_create"!=$("body").attr("app")&&"communication_group_details"!=$("body").attr("app")&&"collaborator_group_details"!=$("body").attr("app")&&"collaborator_group_create"!=$("body").attr("app")||$("#group-image-type-action-sheet").remove(),"digibiz_credentials"==$("body").attr("app")){var a=$("#action-credentials-pictures-upload-attachments-options").attr("upload-for");"transaction_picture"==a?$("#transaction_pictures_main_container").addClass("active"):"signature_picture"==a&&$("#signature_pictures_main_container").addClass("active"),$("#action-credentials-pictures-upload-attachments-options").remove(),showModal({modal_platform:crossplat.device.platform,modal_id:"business-credential-picture-modal",modal_header:"Crop Image",modal_body:' <div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"business-credential-picture-crop-button",name:"crop",attr:[{name:"data-id",value:""}]}]},(function(){removeLoader(),$(".modal-popup-content").length>0&&("browser"==crossplat.device.platform||crossplat.device.platform),$(".custom-modal-popup").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#business-credential-picture-modal").attr("picture-type",a)}))}showCloudSelcetionList((function(){$(".filemanger_container_toggle").addClass("active"),$(".file-manager-footer").removeClass("hide"),$(".filemanager").find(".expand-search-input").addClass("filemanager-search")}))})),$(document).on("click",".individual-assets",(function(e){e.stopImmediatePropagation(),sessionStorage.removeItem("individual_assets"),sessionStorage.setItem("individual_assets",!0),getIndividualAssets({device_id:crossplat.device.uuid,owner:{type:"individual",id:window.sessionStorage.getItem("user_id")},location:"personal_workspace",parent:null,first_request:"true",offset:0,count:20}).then((e=>{digibiz.cloudAssets=e.Data.assets,showIndividualFilemanagerAssetsFilesList(digibiz.cloudAssets,(function(){$(".cloud-storage-heading").addClass("hide").siblings(".arrow-back-btn").removeClass("hide"),$(".file-manager-footer").removeClass("hide"),$(".filemanager").find(".expand-search-input").addClass("filemanager-search")}))})).catch((e=>{"No assets found"==JSON.parse(e.responseText).message&&showIndividualFilemanagerAssetsFilesList(null,(function(){}))}))})),$(document).on("click",".cloud-close-btn",(function(e){sessionStorage.removeItem("individual_assets"),sessionStorage.removeItem("digibiz_assets"),$(".filemanager").find(".expand-search-input").removeClass("filemanager-search"),$(".filemanger_container_toggle").removeClass("active")})),$(document).on("change",'input[name="individualFilemanagerFileSelection[]"]',(function(){let e=$('input[name="individualFilemanagerFileSelection[]"]').filter(":checked").length;if(e>1)$(this).prop("checked",!1),Materialize.toast("You can select only 1 file",4e3,"round error-alert");else if($(document).find(".number_of_files_selected .numbers_selected").text(e),$(this).is(":checked")){$(".filemanger_container_toggle").find(".grid-view-container").addClass("edit-mode");var t=$(this).attr("data-asset_id"),i=digibiz.assets.findIndex((e=>e.id==t));-1!=i&&(digibiz.assets[i].checked=!0),$(this).parents(".filemanager-row").addClass("highlight")}else $(this).parents(".filemanager-row").removeClass("highlight")})),$(document).on("change",'input[name="digibizFilemanagerFileSelection[]"]',(function(){let e=$('input[name="digibizFilemanagerFileSelection[]"]').filter(":checked").length;if(e>1)$(this).prop("checked",!1),Materialize.toast("You can select only 1 file",4e3,"round error-alert");else if($(document).find(".number_of_files_selected .numbers_selected").text(e),$(this).is(":checked")){$(".filemanger_container_toggle").find(".grid-view-container").addClass("edit-mode");var t=$(this).attr("data-asset_id"),i=digibiz.assets.findIndex((e=>e.id==t));-1!=i&&(digibiz.assets[i].checked=!0),$(this).parents(".filemanager-row").addClass("highlight")}else $(this).parents(".filemanager-row").removeClass("highlight")})),$(document).on("click",".digibiz-assets",(function(e){sessionStorage.removeItem("digibiz_assets"),sessionStorage.setItem("digibiz_assets",!0),getAssets().then((e=>{digibiz.cloudAssets=e.Data.assets,showDigibizFilemanagerAssetsFilesList(digibiz.cloudAssets,(function(){$(".cloud-storage-heading").addClass("hide").siblings(".arrow-back-btn").removeClass("hide"),$(".file-manager-footer").removeClass("hide"),$(".filemanager").find(".expand-search-input").addClass("filemanager-search")}))})).catch((e=>{"No assets found"==JSON.parse(e.responseText).message&&showDigibizFilemanagerAssetsFilesList(null,(function(){$(".cloud-storage-heading").addClass("hide").siblings(".arrow-back-btn").removeClass("hide"),$(".file-manager-footer").removeClass("hide"),$(".filemanager").find(".expand-search-input").addClass("filemanager-search")}))}))})),$(document).on("click","#delete-collaborator-contact-icon",(function(){addLoader();var e=$(this).parents(".collaborator-contact-wrapper").attr("data-id");showAlert({alert_id:"alert-delete-collaborator-contact-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Delete collaborator contact",alert_body:"Are you sure you want to delete the collaborator contact?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-delete-collaborator-contact-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-delete-collaborator-contact-cancel-no"}]}]},(function(){removeLoader(),$("#alert-delete-collaborator-contact-confirm-cancel").attr("data-id",e)}))})),$(document).on("click","#btn-delete-collaborator-contact-cancel-no",(function(){$("#alert-delete-collaborator-contact-confirm-cancel").remove()})),$(document).on("click","#btn-delete-collaborator-contact-confirm-yes",(function(){addLoader();var e=$("#alert-delete-collaborator-contact-confirm-cancel").attr("data-id");$("#alert-delete-collaborator-contact-confirm-cancel").remove(),collaboratorDelete({device_id:crossplat.device.uuid,id:e}).then((t=>{$(`.collaborator-contact-wrapper[data-id="${e}"]`).remove(),removeLoader(),Materialize.toast("Successfully removed contact.",3e3,"round success-alert")})).catch((e=>{removeLoader(),Materialize.toast("Error in deleting",3e3,"round success-alert")}))})),$(document).on("click",".setdefault-account-btn",(function(){console.log("setdefault-account-btn");var e=$(this),t=$(this).attr("data-storage");$("#confirm-modal-storage").remove(),config.storages.map((e=>e.name)).includes(t)&&activateStorage(t,(function(t){t&&($(".setdefault-account-btn").removeClass("hide"),$(e).addClass("hide"))}))})),$(document).on("click",".show-active-account",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){var t=$(this).parents(".cloud-storage-account").attr("data-storage"),i=config.storages.find((e=>e.name==t));if("business_edit"==$("body").attr("app")||"business_add"==$("body").attr("app")||"business_storage"==$("body").attr("app")){var a=digibiz.storages.find((e=>e.name==t));if(i)showAlert({alert_id:"account",alert_platform:crossplat.device.platform,alert_body:`<div class="storage-active-account">\n                <div class="profile-picture-wrapper"><img src="${a.account.picture}"/></div>\n                <div class="profile-details-wrapper"><div class="profile-name">${a.account.name}</div><div class="profile-email">${a.account.email}</div></div>\n                </div>`,alert_btn:[{name:"Logout",attr:[{name:"id",value:"logout-storage-account"},{name:"data-storage",value:t}]},{name:"ok",attr:[{name:"id",value:"show-active-account-ok"}]}]},(function(){}))}else{a=digibiz.digibiz_storages.find((e=>e.name==t));if(i)showAlert({alert_id:"account",alert_platform:crossplat.device.platform,alert_body:`<div class="storage-active-account">\n                <div class="profile-picture-wrapper"><img src="${a.account.picture}"/></div>\n                <div class="profile-details-wrapper"><div class="profile-name">${a.account.name}</div><div class="profile-email">${a.account.email}</div></div>\n                \n                </div>`,alert_btn:[{name:"Logout",attr:[{name:"id",value:"logout-storage-account"},{name:"data-storage",value:t}]},{name:"ok",attr:[{name:"id",value:"show-active-account-ok"}]}]},(function(){}))}}})),$(document).on("click","#show-active-account-ok",(function(e){e.stopImmediatePropagation(),isDoubleClicked($(this))||$(".custom-modal").remove()})),$(document).on("click","#logout-storage-account",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){$(this);var t=$(this).attr("data-storage");$(".custom-modal").remove(),showAlert({alert_id:"logout-account",alert_platform:crossplat.device.platform,alert_title:`Logout of ${t.toLowerCase()} account`,alert_body:"Are you sure you want to Logout?",alert_btn:[{name:"Cancel",attr:[{name:"id",value:"logout-cancel"}]},{name:"Logout",attr:[{name:"id",value:"logout-storage-account-confirm"}]}]},(function(){$("#logout-storage-account-confirm").attr("data-storage",t),config.storages.forEach((e=>{$(".add-storage-list-wrapper").find(`li[data-storage="${e.name}"]`).addClass("disable")}))}))}})),$(document).on("click","#logout-cancel",(function(e){e.stopImmediatePropagation(),isDoubleClicked($(this))||$("#logout-account").remove()})),$(document).on("click","#logout-storage-account-confirm",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){$(this);var t=$(this).attr("data-storage");if($(".custom-modal").remove(),"business_add"==$("body").attr("app")||"business_edit"==$("body").attr("app")||"business_storage"==$("body").attr("app")){var i={device_id:crossplat.device.uuid,drive:t,id:sessionStorage.getItem("business_id"),type:"business"};fetch.apiCall((function(e,i,a){if("success"===i)"DropBox"==t&&("browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?window.open("https://www.dropbox.com/logout","_blank"):cordova.plugins.browsertab.openUrl("https://www.dropbox.com/logout",{scheme:"djbusiness://"})),digibiz.storages=digibiz.storages.filter((e=>e.name!=t)),$(".cloud-storage-wrapper").find(`div[data-storage="${t}"]`).remove(),config.storages.length<4&&0==$(".add-storage-account").length&&$(".cloud-storage-wrapper").append('<div class="cloud-storage-account add-storage-account">\n                            <i class="material-icons">add</i>\n                        </div>'),Materialize.toast(e.message,3e3,"success-alert");else{var o=JSON.parse(e.responseText);Materialize.toast(o.Data,3e3,"error-alert")}}),api.revoke_storage,"POST","JSON",i)}else{i={device_id:crossplat.device.uuid,drive:t,id:sessionStorage.getItem("account_id"),type:"individual"};fetch.apiCall((function(e,i,a){if("success"===i)"DropBox"==t&&("browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?window.open("https://www.dropbox.com/logout","_blank"):cordova.plugins.browsertab.openUrl("https://www.dropbox.com/logout",{scheme:"djbusiness://"})),digibiz.digibiz_storages=digibiz.digibiz_storages.filter((e=>e.name!=t)),$(".cloud-storage-wrapper").find(`div[data-storage="${t}"]`).remove(),config.storages.length<4&&0==$(".add-storage-account").length&&$(".cloud-storage-wrapper").append('<div class="cloud-storage-account add-storage-account">\n                            <i class="material-icons">add</i>\n                        </div>'),Materialize.toast(e.message,3e3,"success-alert");else{var o=JSON.parse(e.responseText);Materialize.toast(o.Data,3e3,"error-alert")}}),api.revoke_storage,"POST","JSON",i)}}})),$(document).on("click",".employee-access-module",(function(){addLoader(),location.hash="employee/access/list"})),$(document).on("click","#employee_access_show_btn",(function(){addLoader(),digibiz.show_employee_access_list=[],showAccessEmployeeList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"employee",member_id:sessionStorage.getItem("employee_id")}).then((e=>{showModal({modal_platform:crossplat.device.platform,modal_id:"employee-access-show-modal",modal_header:"Access List",modal_body:'<div id="employee-access-list-container-modal">\n        <span class="searchbtn waves-effect cursor-pointer hide" id="associate-customer-notification-details-list-search-btn"><i class="material-icons">search</i></span>\n        <div class="expand-search-wrap hide" id="associate_customer_notification_details_list_expand_search_wrap">\n            <input class="expand-search-input" id="associate_customer_notification_details_list_expand_search_input" type="search" placeholder="Search" autocomplete="off"/>\n            <span class="searchclosebtn" id="associate_customer_notification_details_list_searchclosebtn"><i class="material-icons associate-customer-notification-details-list-close-btn hide">close</i></span>\n        </div>\n        <div id="employee-show-access-list-content-box"></div>\n    </div>',modal_action_buttons:[{id:"employee-access-remove-confirm-btn",name:"CONFIRM",attr:[{name:"data-id",value:""}]}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),processEmployeeShowAccessList(e,(function(){removeLoader()}))}))})).catch((e=>{removeLoader()}))})),$(document).on("click","#customer_access_show_btn",(function(){"customer/collaborators"==location.href.split("#").pop()?(digibiz.show_customer_access_list=[],addLoader(),getIdentifierItem({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"customer",id:sessionStorage.getItem("collaborator_business_customers_id"),identifier_id:sessionStorage.getItem("collaborator_business_identifier_id"),customer_type:"collaborator_customers"}).then((e=>{showAccessCustomerList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"customer",identifier_id:sessionStorage.getItem("collaborator_business_identifier_id"),identifier_item_id:e.id,member_id:sessionStorage.getItem("customer_id"),collaborator_business_customers_id:sessionStorage.getItem("collaborator_business_customers_id"),customer_type:"collaborator_customers"}).then((e=>{showModal({modal_platform:crossplat.device.platform,modal_id:"customer-access-show-modal",modal_header:"Access List",modal_body:'<div id="customer-access-list-container-modal">\n            <span class="searchbtn waves-effect cursor-pointer hide" id="associate-customer-notification-details-list-search-btn"><i class="material-icons">search</i></span>\n            <div class="expand-search-wrap hide" id="associate_customer_notification_details_list_expand_search_wrap">\n                <input class="expand-search-input" id="associate_customer_notification_details_list_expand_search_input" type="search" placeholder="Search" autocomplete="off"/>\n                <span class="searchclosebtn" id="associate_customer_notification_details_list_searchclosebtn"><i class="material-icons associate-customer-notification-details-list-close-btn hide">close</i></span>\n            </div>\n            <div id="customer-show-access-list-content-box"></div>\n        </div>',modal_action_buttons:[{id:"customer-access-remove-confirm-btn",name:"CONFIRM",attr:[{name:"data-id",value:""}]}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),processCustomerShowAccessList(e,(function(){removeLoader()}))}))})).catch((e=>{removeLoader()}))})).catch((e=>{removeLoader()}))):(digibiz.show_customer_access_list=[],addLoader(),getIdentifierItem({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"customer",id:sessionStorage.getItem("customer_id")}).then((e=>{showAccessCustomerList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"customer",identifier_id:sessionStorage.getItem("identifier_id"),identifier_item_id:e.id,member_id:sessionStorage.getItem("customer_id")}).then((e=>{showModal({modal_platform:crossplat.device.platform,modal_id:"customer-access-show-modal",modal_header:"Access List",modal_body:'<div id="customer-access-list-container-modal">\n        <span class="searchbtn waves-effect cursor-pointer hide" id="associate-customer-notification-details-list-search-btn"><i class="material-icons">search</i></span>\n        <div class="expand-search-wrap hide" id="associate_customer_notification_details_list_expand_search_wrap">\n            <input class="expand-search-input" id="associate_customer_notification_details_list_expand_search_input" type="search" placeholder="Search" autocomplete="off"/>\n            <span class="searchclosebtn" id="associate_customer_notification_details_list_searchclosebtn"><i class="material-icons associate-customer-notification-details-list-close-btn hide">close</i></span>\n        </div>\n        <div id="customer-show-access-list-content-box"></div>\n    </div>',modal_action_buttons:[{id:"customer-access-remove-confirm-btn",name:"CONFIRM",attr:[{name:"data-id",value:""}]}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),processCustomerShowAccessList(e,(function(){removeLoader()}))}))})).catch((e=>{removeLoader()}))})).catch((e=>{removeLoader()})))})),$(document).on("click",".associate_customer_show_access_list",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){digibiz.show_associate_customer_access_list=[];var t=$("#associate_customer_alert_actions").attr("associate_customer_id");addLoader(),getIdentifierItem({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"associate_customer",id:t}).then((e=>{var i=e.data.find((e=>"associate_customer_identifier"==e.type));showAccessCustomerList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"associate_customer",identifier_id:i.identifier_id,identifier_item_id:e.id,member_id:t,parent_identifier_id:e.parent_customer_identifier_id}).then((e=>{showModal({modal_platform:crossplat.device.platform,modal_id:"associate-customer-access-show-modal",modal_header:"Access List",modal_body:'<div id="customer-access-list-container-modal">\n        <span class="searchbtn waves-effect cursor-pointer hide" id="associate-customer-notification-details-list-search-btn"><i class="material-icons">search</i></span>\n        <div class="expand-search-wrap hide" id="associate_customer_notification_details_list_expand_search_wrap">\n            <input class="expand-search-input" id="associate_customer_notification_details_list_expand_search_input" type="search" placeholder="Search" autocomplete="off"/>\n            <span class="searchclosebtn" id="associate_customer_notification_details_list_searchclosebtn"><i class="material-icons associate-customer-notification-details-list-close-btn hide">close</i></span>\n        </div>\n        <div id="associate-customer-show-access-list-content-box"></div>\n    </div>'},(function(){$("#associate_customer_alert_actions").remove(),$("#associate-customer-access-show-modal").attr("data-associate-customer-id",t),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),processAssociateCustomerShowAccessList(e,(function(){removeLoader()}))}))})).catch((e=>{removeLoader()}))})).catch((e=>{removeLoader()}))}})),$(document).on("click",".app_hub_btn",(function(e){e.stopPropagation(),$("#alert-exit-card-confirm-cancel").remove(),$(".menu-overlay").remove(),sessionStorage.removeItem("profile_details"),sessionStorage.clear(),setTimeout((function(){deviceHelper.navigateToAccounts("core")}),1e3)})),$(document).on("click","#business-display-video-mutimedia-add",(function(){addLoader(),showAction({action_id:"business-display-video-from-action-sheet",action_platform:crossplat.device.platform,action_title:"Select Type",action_btn:[{name:"Device Upload",attr:[{name:"id",value:"business-display-video-device-upload-btn"}]},{name:"Cloud Upload",attr:[{name:"class",value:"digibiz-filemanager"}]},{name:"Camera Upload",attr:[{name:"class",value:"trigger-videocam"}]}]},(function(){removeLoader()}))})),$(document).on("click","#employee-identity-video-load-btn",(function(){addLoader(),showAction({action_id:"employee-display-video-from-action-sheet",action_platform:crossplat.device.platform,action_title:"Select Type",action_btn:[{name:"Device Upload",attr:[{name:"id",value:"employee-display-video-device-upload-btn"}]},{name:"Cloud Upload",attr:[{name:"class",value:"digibiz-filemanager"}]},{name:"Camera Upload",attr:[{name:"class",value:"trigger-videocam"}]}]},(function(){removeLoader()}))})),$(document).on("click","#customer-identity-video-load-btn",(function(){addLoader(),showAction({action_id:"customer-display-video-from-action-sheet",action_platform:crossplat.device.platform,action_title:"Select Type",action_btn:[{name:"Device Upload",attr:[{name:"id",value:"customer-display-video-device-upload-btn"}]},{name:"Cloud Upload",attr:[{name:"class",value:"digibiz-filemanager"}]},{name:"Camera Upload",attr:[{name:"class",value:"trigger-videocam"}]}]},(function(){removeLoader()}))})),$(document).on("click","#associate-customer-identity-video-load-btn",(function(){addLoader(),showAction({action_id:"associate-customer-display-video-from-action-sheet",action_platform:crossplat.device.platform,action_title:"Select Type",action_btn:[{name:"Device Upload",attr:[{name:"id",value:"associate-customer-display-video-device-upload-btn"}]},{name:"Cloud Upload",attr:[{name:"class",value:"digibiz-filemanager"}]},{name:"Camera Upload",attr:[{name:"class",value:"trigger-videocam"}]}]},(function(){removeLoader()}))})),$(document).on("click","#business-display-video-device-upload-btn",(function(e){e.stopPropagation(),$("#business-display-video-from-action-sheet").remove(),$("#business-display-video-upload").val(""),$("#business-display-video-upload").trigger("click")})),$(document).on("click","#employee-display-video-device-upload-btn",(function(e){e.stopPropagation(),$("#employee-display-video-from-action-sheet").remove(),$("#employee-identity-video-upload").val(""),$("#employee-identity-video-upload").trigger("click")})),$(document).on("click","#customer-display-video-device-upload-btn",(function(e){e.stopPropagation(),$("#customer-display-video-from-action-sheet").remove(),$("#customer-identity-video-upload").val(""),$("#customer-identity-video-upload").trigger("click")})),$(document).on("click","#associate-customer-display-video-device-upload-btn",(function(e){e.stopPropagation(),$("#associate-customer-display-video-from-action-sheet").remove(),$("#associate-customer-identity-video-upload").val(""),$("#associate-customer-identity-video-upload").trigger("click")})),$(document).on("change","#business-display-video-upload",(async function(e){e.stopPropagation();var t=this.files;if(t.length>0){var i=t[0].name.split(".").pop();if(config.multimediaVideoFormat.includes(i.toLowerCase()))if(t[0].size>config.maxSizeAllowIdentityPicture)$("#business_display_video").parent().after('<span class="error_note">File size exceeding.Max allowed is 20MB</span>'),$("#business-display-video-upload").val("");else{if(t[0])var a=t[0];var o=new FileReader;o.onload=async function(e){var i=e.target.result;digibiz.fileObject={};var a={file:t[0],identifier:(new Date).getTime(),fileURI:URL.createObjectURL(t[0]),file_type:t[0].type,file_name:t[0].name,file_content_base64:i};digibiz.fileObject=a,$(this).val("");var o=await generateThubnail(digibiz.fileObject.file);digibiz.fileObject.thubnail=o,fetch.getHtml((function(e,t){showModal({modal_platform:crossplat.device.platform,modal_id:"identity-video-modal",modal_header:"",modal_body:t,modal_action_buttons:[{id:"identity-video-confirm",name:"Confirm",attr:[{name:"data-id",value:"business"}]}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top");var e=showVideoPreviewHtml(digibiz.fileObject.file.type.split("/")[0],digibiz.fileObject.fileURI);$(".image-list-container").append(`<div class="image-container preview-clicked-multimedia active">\n                    <div class="image-wrapper" data-identifier="${digibiz.fileObject.identifier}">${e}</div></div>`)})),removeLoader()}),"page/common/identity_video","#identity-video-template",null)},o.readAsDataURL(a)}else $("#business_display_video").parent().after('<span class="error_note">Invalid file type</span>'),$("#business-display-video-upload").val("")}})),$(document).on("change","#employee-identity-video-upload",(async function(e){e.stopPropagation();var t=this.files;if(t.length>0){var i=t[0].name.split(".").pop();if(config.multimediaVideoFormat.includes(i.toLowerCase()))if(t[0].size>config.maxSizeAllowIdentityPicture)$("#employee_identity_video").parent().after('<span class="error_note">File size exceeding.Max allowed is 20MB</span>'),$("#employee-identity-video-upload").val("");else{if(t[0])var a=t[0];var o=new FileReader;o.onload=async function(e){var i=e.target.result;digibiz.fileObject={};var a={file:t[0],identifier:(new Date).getTime(),fileURI:URL.createObjectURL(t[0]),file_type:t[0].type,file_name:t[0].name,file_content_base64:i};digibiz.fileObject=a,$(this).val("");var o=await generateThubnail(digibiz.fileObject.file);digibiz.fileObject.thubnail=o,fetch.getHtml((function(e,t){showModal({modal_platform:crossplat.device.platform,modal_id:"identity-video-modal",modal_header:"",modal_body:t,modal_action_buttons:[{id:"identity-video-confirm",name:"Confirm",attr:[{name:"data-id",value:"employee"}]}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top");var e=showVideoPreviewHtml(digibiz.fileObject.file.type.split("/")[0],digibiz.fileObject.fileURI);$(".image-list-container").append(`<div class="image-container preview-clicked-multimedia active">\n                    <div class="image-wrapper" data-identifier="${digibiz.fileObject.identifier}">${e}</div></div>`)})),removeLoader()}),"page/common/identity_video","#identity-video-template",null)},o.readAsDataURL(a)}else $("#employee_identity_video").parent().after('<span class="error_note">Invalid file type</span>'),$("#employee-identity-video-upload").val("")}})),$(document).on("change","#customer-identity-video-upload",(async function(e){e.stopPropagation();var t=this.files;if(t.length>0){var i=t[0].name.split(".").pop();if(config.multimediaVideoFormat.includes(i.toLowerCase()))if(t[0].size>config.maxSizeAllowIdentityPicture)$("#customer_identity_video").parent().after('<span class="error_note">File size exceeding.Max allowed is 20MB</span>'),$("#customer-identity-video-upload").val("");else{if(t[0])var a=t[0];var o=new FileReader;o.onload=async function(e){var i=e.target.result;digibiz.fileObject={};var a={file:t[0],identifier:(new Date).getTime(),fileURI:URL.createObjectURL(t[0]),file_type:t[0].type,file_name:t[0].name,file_content_base64:i};digibiz.fileObject=a,$(this).val("");var o=await generateThubnail(digibiz.fileObject.file);digibiz.fileObject.thubnail=o,fetch.getHtml((function(e,t){showModal({modal_platform:crossplat.device.platform,modal_id:"identity-video-modal",modal_header:"",modal_body:t,modal_action_buttons:[{id:"identity-video-confirm",name:"Confirm",attr:[{name:"data-id",value:"customer"}]}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top");var e=showVideoPreviewHtml(digibiz.fileObject.file.type.split("/")[0],digibiz.fileObject.fileURI);$(".image-list-container").append(`<div class="image-container preview-clicked-multimedia active">\n                    <div class="image-wrapper" data-identifier="${digibiz.fileObject.identifier}">${e}</div></div>`)})),removeLoader()}),"page/common/identity_video","#identity-video-template",null)},o.readAsDataURL(a)}else $("#customer_identity_video").parent().after('<span class="error_note">Invalid file type</span>'),$("#customer-identity-video-upload").val("")}})),$(document).on("change","#associate-customer-identity-video-upload",(async function(e){e.stopPropagation();var t=this.files;if(t.length>0){var i=t[0].name.split(".").pop();if(config.multimediaVideoFormat.includes(i.toLowerCase()))if(t[0].size>config.maxSizeAllowIdentityPicture)$("#associate_customer_identity_video").parent().after('<span class="error_note">File size exceeding.Max allowed is 20MB</span>'),$("#associate-customer-identity-video-upload").val("");else{if(t[0])var a=t[0];var o=new FileReader;o.onload=async function(e){var i=e.target.result;digibiz.fileObject={};var a={file:t[0],identifier:(new Date).getTime(),fileURI:URL.createObjectURL(t[0]),file_type:t[0].type,file_name:t[0].name,file_content_base64:i};digibiz.fileObject=a,$(this).val("");var o=await generateThubnail(digibiz.fileObject.file);digibiz.fileObject.thubnail=o,fetch.getHtml((function(e,t){showModal({modal_platform:crossplat.device.platform,modal_id:"identity-video-modal",modal_header:"",modal_body:t,modal_action_buttons:[{id:"identity-video-confirm",name:"Confirm",attr:[{name:"data-id",value:"associate-customer"}]}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top");var e=showVideoPreviewHtml(digibiz.fileObject.file.type.split("/")[0],digibiz.fileObject.fileURI);$(".image-list-container").append(`<div class="image-container preview-clicked-multimedia active">\n                    <div class="image-wrapper" data-identifier="${digibiz.fileObject.identifier}">${e}</div></div>`)})),removeLoader()}),"page/common/identity_video","#identity-video-template",null)},o.readAsDataURL(a)}else $("#associate_customer_identity_video").parent().after('<span class="error_note">Invalid file type</span>'),$("#associate-customer-identity-video-upload").val("")}})),$(document).on("click","#identity-video-confirm",(function(){addLoader();var e=$(this).attr("data-id");"business"==e?savebusinessDisplayVideoThumbnail(digibiz.fileObject.thubnail,(function(e,t){e?(removeLoader(),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert")):savebusinessDisplayVideo(digibiz.fileObject.file_content_base64,t,(function(e,t){e?(removeLoader(),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert")):($("#business_display_video").attr("src",digibiz.fileObject.fileURI),$(".business-display-video-multimedia-load-btn").remove(),$("#business-display-video-delete").remove(),$(".business-display-video-wrapper").find(".mask").removeClass("hide"),$("#business_display_video").siblings(".mask").append(`<a class="business_display_video_preview" data-thumbnail-id="${t.thumbnail}" data-video-id="${t.video_id}"><i class="material-icons">play_circle_filled</i></a>`),$("#business_display_video").siblings(".mask").append(`<a class="info business-display-video-multimedia-load-btn cursor_pointer"><i class="material-icons" id="business-display-video-mutimedia-add" data-thumbnail-id="${t.thumbnail}" data-video-id="${t.video_id}">photo_camera</i></a>`),$("#business_display_video").siblings(".mask").append(`<a class="info business-display-video-delete-btn cursor_pointer remove-pic"><i class="material-icons" id="business-display-video-delete" data-thumbnail-id="${t.thumbnail}" data-video-id="${t.video_id}">cancel</i></a>`),$("#identity-video-modal").remove(),sessionStorage.removeItem("business_upload_for"),digibiz.fileObject={},digibiz.objectURLS=[],removeLoader())}))})):"employee"==e?saveEmployeeIdentityVideoThumbnail(digibiz.fileObject.thubnail,(function(e,t){e?(removeLoader(),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert")):saveEmployeeIdentityVideo(digibiz.fileObject.file_content_base64,t,(function(e,t){if(e)removeLoader(),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert");else if(t.hasOwnProperty("thumbnail")&&t.thumbnail){var i=`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${t.thumbnail}`;$("#employee_identity_video").attr("src",i),$(".employee-identity-video-multimedia-load-btn").remove(),$("#employee-identity-video-delete").remove(),$(".employee-add-identity-video-container").find(".mask").removeClass("hide"),$("#employee_identity_video").siblings(".mask").append(`<a class="employee_identity_video_preview" data-thumbnail-id="${t.thumbnail}" data-video-id="${t.video_id}"><i class="material-icons">play_circle_filled</i></a>`),$("#employee_identity_video").siblings(".mask").append(`<a class="info employee-identity-video-multimedia-load-btn cursor_pointer"><i class="material-icons" id="employee-identity-video-load-btn" data-thumbnail-id="${t.thumbnail}" data-video-id="${t.video_id}">photo_camera</i></a>`),$("#employee_identity_video").siblings(".mask").append(`<a class="info employee-identity-video-delete-btn cursor_pointer"><i class="material-icons" id="employee-identity-video-delete" data-thumbnail-id="${t.thumbnail}" data-video-id="${t.video_id}">delete</i></a>`),$("#identity-video-modal").remove(),sessionStorage.removeItem("employee_upload_for"),digibiz.fileObject={},digibiz.objectURLS=[],removeLoader()}}))})):"customer"==e?saveCustomerIdentityVideoThumbnail(digibiz.fileObject.thubnail,(function(e,t){e?(removeLoader(),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert")):saveCustomerIdentityVideo(digibiz.fileObject.file_content_base64,t,(function(e,t){if(e)removeLoader(),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert");else if(t.hasOwnProperty("thumbnail")&&t.thumbnail){var i=`${api.get_customer_identity_picture}?id=${sessionStorage.getItem("customer_id")}&device_id=${crossplat.device.uuid}&image_id=${t.thumbnail}`;$("#customer_identity_video").attr("src",i),$(".customer-identity-video-multimedia-load-btn").remove(),$("#customer-identity-video-delete").remove(),$(".customer-add-identity-video-container").find(".mask").removeClass("hide"),$("#customer_identity_video").siblings(".mask").append(`<a class="customer_identity_video_preview" data-thumbnail-id="${t.thumbnail}" data-video-id="${t.video_id}"><i class="material-icons">play_circle_filled</i></a>`),$("#customer_identity_video").siblings(".mask").append(`<a class="info customer-identity-video-multimedia-load-btn cursor_pointer"><i class="material-icons" id="customer-identity-video-load-btn" data-thumbnail-id="${t.thumbnail}" data-video-id="${t.video_id}">photo_camera</i></a>`),$("#customer_identity_video").siblings(".mask").append(`<a class="info customer-identity-video-delete-btn cursor_pointer"><i class="material-icons" id="customer-identity-video-delete" data-thumbnail-id="${t.thumbnail}" data-video-id="${t.video_id}">delete</i></a>`),$("#identity-video-modal").remove(),digibiz.fileObject={},removeLoader()}}))})):"associate-customer"==e&&saveAssociateCustomerIdentityVideoThumbnail(digibiz.fileObject.thubnail,(function(e,t){e?(removeLoader(),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert")):saveAssociateCustomerIdentityVideo(digibiz.fileObject.file_content_base64,t,(function(e,t){if(e)removeLoader(),Materialize.toast(`${e} ! Please try again later`,3e3,"round error-alert");else if(t.hasOwnProperty("thumbnail")&&t.thumbnail){var i=$("#edit-associate-customer-modal").attr("data-associate-customer-id"),a=`${api.get_associate_customer_identity_picture}?id=${i}&device_id=${crossplat.device.uuid}&image_id=${t.thumbnail}`;$("#associate_customer_identity_video").attr("src",a),$(".associate-customer-identity-video-multimedia-load-btn").remove(),$("#associate-customer-identity-video-delete").remove(),$(".associate-customer-add-identity-video-container").find(".mask").removeClass("hide"),$("#associate_customer_identity_video").siblings(".mask").append(`<a class="associate_customer_identity_video_preview" data-thumbnail-id="${t.thumbnail}" data-video-id="${t.video_id}"><i class="material-icons">play_circle_filled</i></a>`),$("#associate_customer_identity_video").siblings(".mask").append(`<a class="info associate-customer-identity-video-multimedia-load-btn cursor_pointer"><i class="material-icons" id="associate-customer-identity-video-load-btn" data-thumbnail-id="${t.thumbnail}" data-video-id="${t.video_id}">photo_camera</i></a>`),$("#associate_customer_identity_video").siblings(".mask").append(`<a class="info associate_customer-identity-video-delete-btn cursor_pointer"><i class="material-icons" id="associate_customer-identity-video-delete" data-thumbnail-id="${t.thumbnail}" data-video-id="${t.video_id}">delete</i></a>`),$("#identity-video-modal").remove(),digibiz.fileObject={},removeLoader()}}))}))})),$(document).on("click",".business_display_video_preview",(function(){addLoader();var e=$(this).attr("data-video-id"),t={getAvatarUrl:`${api.get_business_multimedia}?business_id=${sessionStorage.getItem("business_id")}&device_id=${crossplat.device.uuid}&image_id=${e}`};fetch.getHtml((function(e,t){showModal({modal_platform:crossplat.device.platform,modal_id:"identity-video-preview-modal",modal_header:"",modal_body:t},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),removeLoader()}))}),"page/common/identity_video_preview","#identity-video-preview-template",t)})),$(document).on("click",".employee_identity_video_preview",(function(){addLoader();var e=$(this).attr("data-video-id"),t={getAvatarUrl:`${api.get_employee_identity_picture}?id=${sessionStorage.getItem("employee_id")}&device_id=${crossplat.device.uuid}&image_id=${e}`};fetch.getHtml((function(e,t){showModal({modal_platform:crossplat.device.platform,modal_id:"identity-video-preview-modal",modal_header:"",modal_body:t},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),removeLoader()}))}),"page/common/identity_video_preview","#identity-video-preview-template",t)})),$(document).on("click",".customer_identity_video_preview",(function(){addLoader();var e=$(this).attr("data-video-id"),t={getAvatarUrl:`${api.get_customer_identity_picture}?id=${sessionStorage.getItem("customer_id")}&device_id=${crossplat.device.uuid}&image_id=${e}`};fetch.getHtml((function(e,t){showModal({modal_platform:crossplat.device.platform,modal_id:"identity-video-preview-modal",modal_header:"",modal_body:t},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),removeLoader()}))}),"page/common/identity_video_preview","#identity-video-preview-template",t)})),$(document).on("click",".associate_customer_identity_video_preview",(function(){addLoader();var e=$(this).attr("data-video-id"),t=$("#edit-associate-customer-modal").attr("data-associate-customer-id"),i={getAvatarUrl:`${api.get_associate_customer_identity_picture}?id=${t}&device_id=${crossplat.device.uuid}&image_id=${e}`};fetch.getHtml((function(e,t){showModal({modal_platform:crossplat.device.platform,modal_id:"identity-video-preview-modal",modal_header:"",modal_body:t},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),removeLoader()}))}),"page/common/identity_video_preview","#identity-video-preview-template",i)})),$(document).on("click",".video_declaration_preview",(function(){addLoader();var e=$(this).attr("data-video-id"),t={getAvatarUrl:`${api.get_business_multimedia}?business_id=${sessionStorage.getItem("business_id")}&device_id=${crossplat.device.uuid}&image_id=${e}`};fetch.getHtml((function(e,t){showModal({modal_platform:crossplat.device.platform,modal_id:"identity-video-preview-modal",modal_header:"",modal_body:t},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),removeLoader()}))}),"page/common/identity_video_preview","#identity-video-preview-template",t)})),$(document).on("click","#show-qr",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){$("body").click(),addLoader();var t,i={};if("employee"==sessionStorage.getItem("digibiz_role")){var a=$(this).parents(".employee-business-wrapper").attr("data-business-id"),o=digibiz.employee_business_list.find((e=>e.id==a));if(null!=o){var s=o.name,r=o.employee_name,n=o.employee_unique_name,d=o.status.status,c=$(this).parents(".employee-business-wrapper").attr("data-employee-id"),l=JSON.parse(sessionStorage.getItem("profile_details"));if("self-verified"==d||"inactive_pending"==d)i={employee_id:c,mobile_number:l.login.mobile_number},t=`<div class="contact-qr-container" data-app="digibiz"><div class="contact-qr-wrapper"><div class="username-wrapper"><span>${r}</span><span>${s}</span><span>${n}</span></div><div id="contact-qr-code"></div></div></div>`,encryptString(JSON.stringify(i),(function(e){showModal({modal_platform:crossplat.device.platform,modal_id:"my-qr-popup",modal_header:"My QR",modal_body:t},(function(){$("#employee_business_list_more_icon_action").remove(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),$("#contact-qr-code").empty(),$("#contact-qr-code").qrcode({width:150,height:150,text:e}),removeLoader()}))}));else showAlert({alert_id:"alert-business-not-active-box",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"<div>Business is inactive. Please contact your business administrators.</div>",alert_btn:[{name:"OK",attr:[{name:"id",value:"btn-business-not-active-ok"}]}]},(function(){removeLoader()}))}}else{i={jeevi_name:`${(l=JSON.parse(sessionStorage.getItem("profile_details"))).individual.name.first} ${l.individual.name.last}`,mobile_number:l.login.mobile_number},t=`<div class="contact-qr-container" data-app="digibiz"><div class="contact-qr-wrapper"><div class="username-wrapper"><span>${i.jeevi_name}</span><span>${i.mobile_number}</span></div><div id="contact-qr-code"></div></div></div>`,encryptString(JSON.stringify(i),(function(e){showModal({modal_platform:crossplat.device.platform,modal_id:"my-qr-popup",modal_header:"My QR",modal_body:t},(function(){$("#employee_business_list_more_icon_action").remove(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),$("#contact-qr-code").empty(),$("#contact-qr-code").qrcode({width:150,height:150,text:e}),removeLoader()}))}))}}})),$(document).on("click",".business-qr-contact-icon",(function(e){e.preventDefault(),addLoader();var t,i={};if("collaborator_add"==$("body").attr("app")){var a=$(this).parents(".collaborator-contact-wrapper").attr("data-id"),o=$(this).parents(".collaborator-contact-wrapper").find(".business-name").text();i={business_id:a},t=`<div class="contact-qr-container" data-app="digibiz"><div class="contact-qr-wrapper"><div class="username-wrapper"><span>${o}</span></div><div id="contact-qr-code"></div></div></div>`,encryptString(JSON.stringify(i),(function(e){showModal({modal_platform:crossplat.device.platform,modal_id:"my-qr-popup",modal_header:"Business QR",modal_body:t},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),$("#contact-qr-code").empty(),$("#contact-qr-code").qrcode({width:150,height:150,text:e}),removeLoader()}))}))}else removeLoader()})),$(document).on("click","#customer-exit-icon",(function(){addLoader();var e=$("#employee_business_list_more_icon_action").attr("data-type"),t=$("#employee_business_list_more_icon_action").attr("data-id");$("#employee_business_list_more_icon_action").remove();var i="customer";"associate_customer"==e&&(i="associate customer"),showAlert({alert_id:"alert-customer-exit-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Exit",alert_body:`Are you sure you want to exit as ${i}?`,alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-customer-exit-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-customer-exit-cancel-no"}]}]},(function(){removeLoader(),$("#alert-customer-exit-confirm-cancel").attr("data-id",t),$("#alert-customer-exit-confirm-cancel").attr("data-type",e)}))})),$(document).on("click","#btn-customer-exit-cancel-no",(function(){$("#alert-customer-exit-confirm-cancel").remove()})),$(document).on("click","#btn-customer-exit-confirm-yes",(function(){var e=$("#alert-customer-exit-confirm-cancel").attr("data-type"),t=$("#alert-customer-exit-confirm-cancel").attr("data-id");$("#alert-customer-exit-confirm-cancel").remove(),showAlert({alert_id:"alert-confirm-transactional-password",alert_platform:crossplat.device.platform,alert_title:"Transactional Password",alert_body:'<input type="password" id="transaction_password_field" placeholder="Enter Transactional Password"/>',alert_btn:[{name:"Cancel",attr:[{name:"id",value:"btn-customer-exit-cancel"}]},{name:"Confirm",attr:[{name:"id",value:"btn-customer-exit-confirm"}]}]},(function(){$("#alert-confirm-transactional-password").attr("data-id",t),$("#alert-confirm-transactional-password").attr("data-type",e),removeLoader()}))})),$(document).on("click","#btn-customer-exit-cancel",(function(){$("#alert-confirm-transactional-password").remove()})),$(document).on("click","#btn-customer-exit-confirm",(function(){var e=$("#alert-confirm-transactional-password").attr("data-type"),t=$("#alert-confirm-transactional-password").attr("data-id");if(addLoader(),0==$("#transaction_password_field").val().length)showError($("#transaction_password_field"),"Password is required."),removeLoader();else{checkTransactionalPassword({device_id:crossplat.device.uuid,password:$("#transaction_password_field").val(),purpose:"Customer Exit"}).then((i=>{if($("#alert-confirm-transactional-password").remove(),"customer"==e)customerDelete({device_id:crossplat.device.uuid,id:t,status:"exited"}).then((e=>{removeLoader(),Materialize.toast("Successfully exited.",3e3,"round error-alert"),digibiz.customer_business_list.length>0?console.log("business is there"):(location.hash="jeevi/app/hub",console.log("fwefwef"))})).catch((e=>{removeLoader(),Materialize.toast("Error in exiting.",3e3,"round error-alert")}));else if("associate_customer"==e){associateCustomerDelete({device_id:crossplat.device.uuid,id:t,status:"exited"}).then((e=>{Materialize.toast("Successfully exited.",3e3,"round error-alert"),removeLoader()})).catch((e=>{removeLoader()}))}})).catch((e=>{removeLoader(),Materialize.toast(e.message,3e3,"round error-alert"),e.Data&&"locked"==e.Data&&deviceHelper.logOutApp("core")}))}})),$(document).on("click",".digibiz-active-inactive-settings",(function(){addLoader();var e=sessionStorage.getItem("business_id");businessGet({device_id:crossplat.device.uuid,id:e}).then((e=>{sessionStorage.setItem("business_status",e.status.status);var t={business_status:e.status.status,business_settings:e.settings};fetch.getHtml((function(e,i){showModal({modal_id:"business-inactive-active-settings",modal_header:"Active/Inactive",modal_platform:crossplat.device.platform,modal_body:i,modal_action_buttons:[{name:"Save",id:"add-business-inactive-data"}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),"inactive"!=t.business_status&&"inactive_pending"!=t.business_status||$(".business-inactive-start-end-date-time").removeClass("hide"),settingCalenderInit("#start-date"),settingCalenderInit("#end-date"),timepickInit("#start-time"),timepickInit("#end-time"),removeLoader()}))}),"page/common/active_inactive_business","#active_inactive_business-template",t)})).catch((e=>{removeLoader()}))})),$(document).on("click","#checkbox-toggle-inactivate-business",(function(e){1==$("#checkbox-toggle-inactivate-business").is(":checked")?showAction({action_id:"inactivate-business-at",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"Inactivate Now",attr:[{name:"id",value:"business_inactivate_now"}]},{name:"Inactivate Schedule",attr:[{name:"id",value:"business_inactivate_schedule"}]}]},(function(){$(".action-sheet-container").removeClass("hide").addClass("slide-top"),$("#inactivate-business-at").find(".action-sheet-cancel-btn").addClass("hide")})):($("#business-inactive-active-settings").removeAttr("business_inactivate_at"),$("#inactivate-business-at").remove(),$(".business-inactive-start-date-time").addClass("hide"),$(".business-inactive-end-date-time").addClass("hide"),$(".business-inactive-start-end-date-time").addClass("hide"))})),$(document).on("click","#business_inactivate_now",(function(e){$("#business-inactive-active-settings").attr("business_inactivate_at","now"),1==$("#checkbox-toggle-inactivate-business").is(":checked")?($("#inactivate-business-at").remove(),$(".business-inactive-start-end-date-time").removeClass("hide"),$(".business-inactive-start-date-time").addClass("hide"),$(".business-inactive-end-date-time").removeClass("hide"),$("#start-date").val(""),$("#start-time").val(""),$("#end-date").val(""),$("#end-time").val(""),removeError($("#start-date")),removeError($("#start-time")),removeError($("#end-date")),removeError($("#end-time"))):($("#inactivate-business-at").remove(),$(".business-inactive-start-end-date-time").addClass("hide"))})),$(document).on("click","#business_inactivate_schedule",(function(e){$("#business-inactive-active-settings").attr("business_inactivate_at","schedule"),1==$("#checkbox-toggle-inactivate-business").is(":checked")?($("#inactivate-business-at").remove(),$(".business-inactive-start-end-date-time").removeClass("hide"),$(".business-inactive-start-date-time").removeClass("hide"),$(".business-inactive-end-date-time").removeClass("hide"),$("#start-date").val(""),$("#start-time").val(""),$("#end-date").val(""),$("#end-time").val(""),removeError($("#start-date")),removeError($("#start-time")),removeError($("#end-date")),removeError($("#end-time"))):($("#inactivate-business-at").remove(),$(".business-inactive-start-end-date-time").addClass("hide"))})),$(document).on("click","#add-business-inactive-data",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this)))if(addLoader(),"self-verified"==sessionStorage.getItem("business_status")){if(1==$("#checkbox-toggle-inactivate-business").is(":checked")){var t=$("#business-inactive-active-settings").attr("business_inactivate_at");if(validateSettingData(t))showAlert({alert_id:"alert-confirm-transactional-password",alert_platform:crossplat.device.platform,alert_title:"Transactional Password",alert_body:'<input type="password" id="transaction_password_field" placeholder="Enter Transactional Password"/>',alert_btn:[{name:"Cancel",attr:[{name:"id",value:"btn-business-inactivate-activate-transaction-cancel"}]},{name:"Confirm",attr:[{name:"id",value:"btn-business-inactivate-activate-transaction-confirm"}]}]},(function(){$("#alert-confirm-transactional-password").attr("business_inactivate_at",t),$('.custom-modal[id="alert-confirm-transactional-password"]').length>1&&$('.custom-modal[id="alert-confirm-transactional-password"]:last').remove(),removeLoader()}));else removeLoader()}else Materialize.toast("No data to save.",3e3,"round error-alert"),removeLoader()}else if("inactive_pending"==sessionStorage.getItem("business_status")){if(1==$("#checkbox-toggle-activate-business").is(":checked"))showAlert({alert_id:"alert-confirm-transactional-password",alert_platform:crossplat.device.platform,alert_title:"Transactional Password",alert_body:'<input type="password" id="transaction_password_field" placeholder="Enter Transactional Password"/>',alert_btn:[{name:"Cancel",attr:[{name:"id",value:"btn-business-inactivate-activate-transaction-cancel"}]},{name:"Confirm",attr:[{name:"id",value:"btn-business-inactivate-activate-transaction-confirm"}]}]},(function(){$('.custom-modal[id="alert-confirm-transactional-password"]').length>1&&$('.custom-modal[id="alert-confirm-transactional-password"]:last').remove(),removeLoader()}));else Materialize.toast("No data to save.",3e3,"round error-alert"),removeLoader()}else if("inactive"==sessionStorage.getItem("business_status")){showAlert({alert_id:"alert-confirm-transactional-password",alert_platform:crossplat.device.platform,alert_title:"Transactional Password",alert_body:'<input type="password" id="transaction_password_field" placeholder="Enter Transactional Password"/>',alert_btn:[{name:"Cancel",attr:[{name:"id",value:"btn-business-inactivate-activate-transaction-cancel"}]},{name:"Confirm",attr:[{name:"id",value:"btn-business-inactivate-activate-transaction-confirm"}]}]},(function(){$("#checkbox-toggle-activate-business").prop("checked",!0),$('.custom-modal[id="alert-confirm-transactional-password"]').length>1&&$('.custom-modal[id="alert-confirm-transactional-password"]:last').remove(),removeLoader()}))}else removeLoader()})),$(document).on("click","#btn-business-delete-transaction-cancel, #btn-business-inactivate-activate-transaction-cancel, #btn-account-inactivate-activate-transaction-cancel",(function(){removeLoader(),$("#alert-confirm-transactional-password").remove()})),$(document).on("click","#btn-business-inactivate-activate-transaction-confirm",(function(){if(addLoader(),0==$("#transaction_password_field").val().length)showError($("#transaction_password_field"),"Password is required."),removeLoader();else{checkTransactionalPassword({device_id:crossplat.device.uuid,password:$("#transaction_password_field").val(),purpose:"Business inactivate"}).then((e=>{if("self-verified"==sessionStorage.getItem("business_status")){var t=$("#alert-confirm-transactional-password").attr("business_inactivate_at"),i=$("#start-date").val(),a=i.split("/")[0],o=i.split("/")[1],s=i.split("/")[2];let e=s+"/"+o+"/"+a,v=a+"/"+o+"/"+s;var r,n=$("#start-time").val();if(n){var d=timeConvertor(n);r=moment(e+" "+d,"YYYY-MM-DDHH:mm:ss").unix()}var c,l=$("#end-date").val(),p=l.split("/")[0],m=l.split("/")[1],u=l.split("/")[2],g=u+"/"+m+"/"+p,_=p+"/"+m+"/"+u,f=$("#end-time").val(),h=timeConvertor(f),b=moment(g+" "+h,"YYYY-MM-DDHH:mm:ss").unix();c="now"==t?{status:"inactive",settings:{inactivate_at:t,end_date:_,end_time:f,end:b}}:{status:"inactive_pending",settings:{inactivate_at:t,start_date:v,start_time:n,start:r,end_date:_,end_time:f,end:b}},businessSettings({device_id:crossplat.device.uuid,id:sessionStorage.getItem("business_id"),data:c}).then((e=>{var i;(sessionStorage.removeItem("business_status"),$("#alert-confirm-transactional-password").remove(),$("#business-inactive-active-settings").remove(),"now"==t)?(-1!=(i=digibiz.business_owner_business_list.findIndex((e=>e.id==sessionStorage.getItem("business_id"))))&&(digibiz.business_owner_business_list[i].status.status="inactive"),sessionStorage.removeItem("business_name"),sessionStorage.removeItem("business_status"),sessionStorage.removeItem("business_role"),sessionStorage.removeItem("business_profile_socket_status"),sessionStorage.removeItem("business_id"),location.hash="business_owner/business/list",Materialize.toast("Successfully inactivated.",3e3,"round success-alert")):(-1!=(i=digibiz.business_owner_business_list.findIndex((e=>e.id==sessionStorage.getItem("business_id"))))&&(digibiz.business_owner_business_list[i].status.status="inactive_pending"),Materialize.toast("Successfully scheduled.",3e3,"round success-alert"));removeLoader()})).catch((e=>{$("#alert-confirm-transactional-password").remove(),$("#business-inactive-active-settings").remove(),removeLoader()}))}else if("inactive_pending"==sessionStorage.getItem("business_status")){if(1==$("#checkbox-toggle-activate-business").is(":checked"))businessSettings({device_id:crossplat.device.uuid,id:sessionStorage.getItem("business_id"),data:{status:"self-verified"}}).then((e=>{$("#alert-confirm-transactional-password").remove(),$("#business-inactive-active-settings").remove(),sessionStorage.removeItem("business_status"),Materialize.toast("Successfully activated.",3e3,"round success-alert");var t=digibiz.business_owner_business_list.findIndex((e=>e.id==sessionStorage.getItem("business_id")));-1!=t&&(digibiz.business_owner_business_list[t].status.status="self-verified"),removeLoader()})).catch((e=>{removeLoader()}));else $("#alert-confirm-transactional-password").remove(),$("#business-inactive-active-settings").remove(),removeLoader()}else if("inactive"==sessionStorage.getItem("business_status")){if(1==$("#checkbox-toggle-activate-business").is(":checked"))businessSettings({device_id:crossplat.device.uuid,id:sessionStorage.getItem("business_id"),data:{status:"self-verified"}}).then((e=>{$("#alert-confirm-transactional-password").remove(),$("#business-inactive-active-settings").remove(),sessionStorage.removeItem("business_status"),Materialize.toast("Successfully activated.",3e3,"round success-alert");var t=digibiz.business_owner_business_list.findIndex((e=>e.id==sessionStorage.getItem("business_id")));-1!=t&&(digibiz.business_owner_business_list[t].status.status="self-verified"),"business_management"==$("body").attr("app")&&businessManagementPage(),removeLoader()})).catch((e=>{removeLoader()}));else $("#alert-confirm-transactional-password").remove(),$("#business-inactive-active-settings").remove(),removeLoader()}else removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(e.message,3e3,"round error-alert"),e.Data&&"locked"==e.Data&&deviceHelper.logOutApp("core")}))}})),$(document).on("click",".digibiz-account-active-inactive-settings",(function(){addLoader();var e=sessionStorage.getItem("account_id"),t=sessionStorage.getItem("uuid");getDigibizAccount({device_id:crossplat.device.uuid,uuid:t}).then((t=>{if(t.id==e){sessionStorage.setItem("account_status",t.status.status);var i={account_status:t.status.status,account_settings:t.settings};fetch.getHtml((function(e,t){showModal({modal_id:"account-inactive-active-settings",modal_header:"Active/Inactive",modal_platform:crossplat.device.platform,modal_body:t,modal_action_buttons:[{name:"Save",id:"add-account-inactive-data"}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),"inactive"!=i.account_status&&"inactive_pending"!=i.account_status||$(".account-inactive-start-end-date-time").removeClass("hide"),settingCalenderInit("#start-date"),settingCalenderInit("#end-date"),timepickInit("#start-time"),timepickInit("#end-time"),removeLoader()}))}),"page/common/active_inactive_account","#active_inactive_account-template",i)}})).catch((e=>{removeLoader()}))})),$(document).on("click","#checkbox-toggle-inactivate-account",(function(e){1==$("#checkbox-toggle-inactivate-account").is(":checked")?showAction({action_id:"inactivate-account-at",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"Inactivate Now",attr:[{name:"id",value:"account_inactivate_now"}]},{name:"Inactivate Schedule",attr:[{name:"id",value:"account_inactivate_schedule"}]}]},(function(){$(".action-sheet-container").removeClass("hide").addClass("slide-top"),$("#inactivate-account-at").find(".action-sheet-cancel-btn").addClass("hide")})):($("#account-inactive-active-settings").removeAttr("account_inactivate_at"),$("#inactivate-account-at").remove(),$(".account-inactive-start-date-time").addClass("hide"),$(".account-inactive-end-date-time").addClass("hide"),$(".account-inactive-start-end-date-time").addClass("hide"))})),$(document).on("click","#account_inactivate_now",(function(e){$("#account-inactive-active-settings").attr("account_inactivate_at","now"),1==$("#checkbox-toggle-inactivate-account").is(":checked")?($("#inactivate-account-at").remove(),$(".account-inactive-start-end-date-time").removeClass("hide"),$(".account-inactive-start-date-time").addClass("hide"),$(".account-inactive-end-date-time").removeClass("hide"),$("#start-date").val(""),$("#start-time").val(""),$("#end-date").val(""),$("#end-time").val(""),removeError($("#start-date")),removeError($("#start-time")),removeError($("#end-date")),removeError($("#end-time"))):($("#inactivate-account-at").remove(),$(".account-inactive-start-end-date-time").addClass("hide"))})),$(document).on("click","#account_inactivate_schedule",(function(e){$("#account-inactive-active-settings").attr("account_inactivate_at","schedule"),1==$("#checkbox-toggle-inactivate-account").is(":checked")?($("#inactivate-account-at").remove(),$(".account-inactive-start-end-date-time").removeClass("hide"),$(".account-inactive-start-date-time").removeClass("hide"),$(".account-inactive-end-date-time").removeClass("hide"),$("#start-date").val(""),$("#start-time").val(""),$("#end-date").val(""),$("#end-time").val(""),removeError($("#start-date")),removeError($("#start-time")),removeError($("#end-date")),removeError($("#end-time"))):($("#inactivate-account-at").remove(),$(".account-inactive-start-end-date-time").addClass("hide"))})),$(document).on("click","#add-account-inactive-data",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this)))if("active"==sessionStorage.getItem("account_status")){if(1==$("#checkbox-toggle-inactivate-account").is(":checked")){var t=$("#account-inactive-active-settings").attr("account_inactivate_at");if(validateSettingData(t))showAlert({alert_id:"alert-confirm-transactional-password",alert_platform:crossplat.device.platform,alert_title:"Transactional Password",alert_body:'<input type="password" id="transaction_password_field" placeholder="Enter Transactional Password"/>',alert_btn:[{name:"Cancel",attr:[{name:"id",value:"btn-account-inactivate-activate-transaction-cancel"}]},{name:"Confirm",attr:[{name:"id",value:"btn-account-inactivate-activate-transaction-confirm"}]}]},(function(){$("#alert-confirm-transactional-password").attr("account_inactivate_at",t),$('.custom-modal[id="alert-confirm-transactional-password"]').length>1&&$('.custom-modal[id="alert-confirm-transactional-password"]:last').remove(),removeLoader()}));else removeLoader()}else Materialize.toast("No data to save.",3e3,"round error-alert"),removeLoader()}else if("inactive_pending"==sessionStorage.getItem("account_status")){if(1==$("#checkbox-toggle-activate-account").is(":checked"))showAlert({alert_id:"alert-confirm-transactional-password",alert_platform:crossplat.device.platform,alert_title:"Transactional Password",alert_body:'<input type="password" id="transaction_password_field" placeholder="Enter Transactional Password"/>',alert_btn:[{name:"Cancel",attr:[{name:"id",value:"btn-account-inactivate-activate-transaction-cancel"}]},{name:"Confirm",attr:[{name:"id",value:"btn-account-inactivate-activate-transaction-confirm"}]}]},(function(){$('.custom-modal[id="alert-confirm-transactional-password"]').length>1&&$('.custom-modal[id="alert-confirm-transactional-password"]:last').remove(),removeLoader()}));else Materialize.toast("No data to save.",3e3,"round error-alert"),removeLoader()}else if("inactive"==sessionStorage.getItem("account_status")){showAlert({alert_id:"alert-confirm-transactional-password",alert_platform:crossplat.device.platform,alert_title:"Transactional Password",alert_body:'<input type="password" id="transaction_password_field" placeholder="Enter Transactional Password"/>',alert_btn:[{name:"Cancel",attr:[{name:"id",value:"btn-account-inactivate-activate-transaction-cancel"}]},{name:"Confirm",attr:[{name:"id",value:"btn-account-inactivate-activate-transaction-confirm"}]}]},(function(){$('.custom-modal[id="alert-confirm-transactional-password"]').length>1&&$('.custom-modal[id="alert-confirm-transactional-password"]:last').remove(),removeLoader()}))}else removeLoader()})),$(document).on("click","#btn-account-inactivate-activate-transaction-confirm",(function(){if(addLoader(),0==$("#transaction_password_field").val().length)showError($("#transaction_password_field"),"Password is required."),removeLoader();else{checkTransactionalPassword({device_id:crossplat.device.uuid,password:$("#transaction_password_field").val(),purpose:"Account inactivate"}).then((e=>{if("active"==sessionStorage.getItem("account_status")){var t=$("#alert-confirm-transactional-password").attr("account_inactivate_at"),i=$("#start-date").val(),a=i.split("/")[0],o=i.split("/")[1],s=i.split("/")[2];let e=s+"/"+o+"/"+a,v=a+"/"+o+"/"+s;var r,n=$("#start-time").val();if(n){var d=timeConvertor(n);r=moment(e+" "+d,"YYYY-MM-DDHH:mm:ss").unix()}var c,l=$("#end-date").val(),p=l.split("/")[0],m=l.split("/")[1],u=l.split("/")[2],g=u+"/"+m+"/"+p,_=p+"/"+m+"/"+u,f=$("#end-time").val(),h=timeConvertor(f),b=moment(g+" "+h,"YYYY-MM-DDHH:mm:ss").unix();c="now"==t?{status:"inactive",settings:{inactivate_at:t,end_date:_,end_time:f,end:b}}:{status:"inactive_pending",settings:{inactivate_at:t,start_date:v,start_time:n,start:r,end_date:_,end_time:f,end:b}},accountSettings({device_id:crossplat.device.uuid,id:sessionStorage.getItem("account_id"),data:c}).then((e=>{sessionStorage.removeItem("account_status"),$("#alert-confirm-transactional-password").remove(),$("#account-inactive-active-settings").remove(),"now"==t?(setTimeout((function(){deviceHelper.navigateToAccounts("core")}),1e3),Materialize.toast("Successfully Digibiz Account Inactivated.",3e3,"round success-alert"),logoutDigibiz()):Materialize.toast("Successfully Scheduled Digibiz Account Inactivate.",3e3,"round success-alert"),removeLoader()})).catch((e=>{$("#alert-confirm-transactional-password").remove(),$("#account-inactive-active-settings").remove(),removeLoader()}))}else if("inactive_pending"==sessionStorage.getItem("account_status")){if(1==$("#checkbox-toggle-activate-account").is(":checked"))accountSettings({device_id:crossplat.device.uuid,id:sessionStorage.getItem("account_id"),data:{status:"active"}}).then((e=>{$("#alert-confirm-transactional-password").remove(),$("#account-inactive-active-settings").remove(),sessionStorage.removeItem("account_status"),location.reload(),removeLoader()})).catch((e=>{removeLoader()}));else $("#alert-confirm-transactional-password").remove(),$("#account-inactive-active-settings").remove(),removeLoader()}else if("inactive"==sessionStorage.getItem("account_status")){accountSettings({device_id:crossplat.device.uuid,id:sessionStorage.getItem("account_id"),data:{status:"active"}}).then((e=>{$("#alert-confirm-transactional-password").remove(),$("#account-inactive-active-settings").remove(),sessionStorage.removeItem("account_status"),location.reload(),removeLoader()})).catch((e=>{removeLoader()}))}else removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(e.message,3e3,"round error-alert"),e.Data&&"locked"==e.Data&&deviceHelper.logOutApp("core")}))}})),$(document).on("click",".digibiz_account_storage_btn",(function(){addLoader(),location.hash="digibiz/account/storage"})),$(document).on("click",".digibiz_account_settings_btn",(function(){addLoader(),$("body").click(),location.hash="digibiz/account/settings"})),$(document).on("click","#change-drive-button",(function(e){e.stopImmediatePropagation(),isDoubleClicked($(this))||($("#Reauthenticate-account").remove(),Materialize.Toast.removeAll(),location.href.includes("digibiz/account/storage")||(addLoader(),location.hash="digibiz/account/storage"))})),$(document).on("click","#change-business-drive-button",(function(){$("#Reauthenticate-account").remove(),Materialize.Toast.removeAll()})),$(document).on("click","#reauthenticate-storage",(function(){$(this);var e=$(this).attr("data-storage");$("#Reauthenticate-account").remove(),Materialize.Toast.removeAll(),$(".alert-wrapper").remove(),activateStorage(e,(function(e){}))})),$(document).on("click","#logout-add-new-storage",(function(){$("#Reauthenticate-account").remove(),window.sessionStorage.removeItem("storage_token"),Materialize.Toast.removeAll();$(this);var e=$(this).attr("data-storage"),t={device_id:crossplat.device.uuid,drive:e,id:sessionStorage.getItem("account_id"),type:"individual",revoke_type:"reauthenticate"};fetch.apiCall((function(t,i,a){if("success"===i)"DropBox"==e&&("browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?window.open("https://www.dropbox.com/logout","_blank"):cordova.plugins.browsertab.openUrl("https://www.dropbox.com/logout",{scheme:"djbusiness://"})),activateStorage(e,(function(e){}));else{var o=JSON.parse(t.responseText);Materialize.toast(o.Data,3e3,"error-alert")}}),api.revoke_storage,"POST","JSON",t)})),$(document).on("click","#logout-add-new-business-storage",(function(){$("#Reauthenticate-account").remove(),window.sessionStorage.removeItem("business_storage_token"),Materialize.Toast.removeAll();$(this);var e=$(this).attr("data-storage"),t={device_id:crossplat.device.uuid,drive:e,id:sessionStorage.getItem("business_id"),type:"business",revoke_type:"reauthenticate"};fetch.apiCall((function(t,i,a){if("success"===i)"DropBox"==e&&("browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?window.open("https://www.dropbox.com/logout","_blank"):cordova.plugins.browsertab.openUrl("https://www.dropbox.com/logout",{scheme:"djbusiness://"})),activateStorage(e,(function(e){}));else{var o=JSON.parse(t.responseText);Materialize.toast(o.Data,3e3,"error-alert")}}),api.revoke_storage,"POST","JSON",t)})),$(document).on("click",".digibiz_business_settings_btn",(function(){addLoader(),$("body").click(),location.hash="digibiz/business/settings"})),$(document).on("click",".digibiz-business-delete",(function(){if(addLoader(),"super_admin"==sessionStorage.getItem("business_role")){var e=sessionStorage.getItem("business_id");showAlert({alert_id:"alert-business-delete-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Delete Business",alert_body:"Are you sure you want to delete the business?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-delete-business-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-delete-business-cancel-no"}]}]},(function(){removeLoader(),$("#alert-business-delete-confirm-cancel").attr("data-business-id",e)}))}else{showAlert({alert_id:"access-denied-business-settings-module-alert",alert_platform:crossplat.device.platform,alert_title:"Access Denied",alert_body:"Only super-admins can access the module.",alert_btn:[{name:"OK",attr:[{name:"id",value:"access-denied-business-settings-module-alert-ok"}]}]},(function(){removeLoader()}))}})),$(document).on("click","#btn-delete-business-cancel-no",(function(){$("#alert-business-delete-confirm-cancel").remove()})),$(document).on("click","#btn-delete-business-confirm-yes",(function(){addLoader();var e=$("#alert-business-delete-confirm-cancel").attr("data-business-id");$("#alert-business-delete-confirm-cancel").remove(),showAlert({alert_id:"alert-confirm-transactional-password",alert_platform:crossplat.device.platform,alert_title:"Transactional Password",alert_body:'<input type="password" id="transaction_password_field" placeholder="Enter Transactional Password"/>',alert_btn:[{name:"Cancel",attr:[{name:"id",value:"btn-business-delete-transaction-cancel"}]},{name:"Confirm",attr:[{name:"id",value:"btn-business-delete-transaction-confirm"}]}]},(function(){removeLoader(),$("#alert-confirm-transactional-password").attr("business_id",e),$("#alert-confirm-transactional-password").length>1&&$("#alert-confirm-transactional-password:last").remove()}))})),$(document).on("click","#btn-business-delete-transaction-confirm",(function(){if(addLoader(),0==$("#transaction_password_field").val().length)showError($("#transaction_password_field"),"Password is required."),removeLoader();else{checkTransactionalPassword({device_id:crossplat.device.uuid,password:$("#transaction_password_field").val(),purpose:"Business Delete"}).then((e=>{var t=$("#alert-confirm-transactional-password").attr("business_id");$("#alert-confirm-transactional-password").remove(),businessDelete({device_id:crossplat.device.uuid,id:t}).then((e=>{digibiz.business_owner_business_list=digibiz.business_owner_business_list.filter((function(e){return e.id!=t})),removeLoader(),Materialize.toast("Successfully deleted business.",3e3,"round success-alert")})).catch((e=>{removeLoader(),Materialize.toast("Error in business delete.",3e3,"round success-alert")}))})).catch((e=>{removeLoader(),Materialize.toast(e.message,3e3,"round error-alert"),e.Data&&"locked"==e.Data&&deviceHelper.logOutApp("core")}))}})),$(document).on("click",".digibiz-account-delete",(function(){deviceHelper.navigateToAccounts("core",{purpose:"settings_account",ref_app:"business"})})),$(document).on("click","#btn-delete-account-cancel-no",(function(){$("#alert-account-delete-confirm-cancel").remove()})),$(document).on("click","#btn-delete-account-confirm-yes",(function(){addLoader();var e=$("#alert-account-delete-confirm-cancel").attr("data-account-id");$("#alert-account-delete-confirm-cancel").remove(),showAlert({alert_id:"alert-confirm-transactional-password",alert_platform:crossplat.device.platform,alert_title:"Transactional Password",alert_body:'<input type="password" id="transaction_password_field" placeholder="Enter Transactional Password"/>',alert_btn:[{name:"Cancel",attr:[{name:"id",value:"btn-digibiz-account-delete-transaction-cancel"}]},{name:"Confirm",attr:[{name:"id",value:"btn-digibiz-account-delete-transaction-confirm"}]}]},(function(){$("#alert-confirm-transactional-password").length>1&&$("#alert-confirm-transactional-password:last").remove(),$("#alert-confirm-transactional-password").attr("data-account-id",e),removeLoader()}))})),$(document).on("click","#btn-digibiz-account-delete-transaction-cancel",(function(){$("#alert-confirm-transactional-password").remove()})),$(document).on("click","#btn-digibiz-account-delete-transaction-confirm",(function(){var e=$("#alert-confirm-transactional-password").attr("data-account-id");$("#alert-confirm-transactional-password").remove(),accountDelete({device_id:crossplat.device.uuid,id:e}).then((e=>{removeLoader(),Materialize.toast("Successfully deleted account.",3e3,"round success-alert")})).catch((e=>{removeLoader(),Materialize.toast("Error in account delete.",3e3,"round success-alert")}))})),$(document).on("click",".digibiz-business-storage",(function(){addLoader(),sessionStorage.removeItem("successCode"),sessionStorage.removeItem("authErrorCode"),sessionStorage.removeItem("business_storage_token"),location.hash="business/storage"})),$(document).on("click","#customer-identity-video-delete",(function(e){var t=$(this).attr("data-thumbnail-id"),i=$(this).attr("data-video-id");e.stopPropagation(),showAlert({alert_id:"alert-delete-customer-identity-video-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Delete Identity video",alert_body:"Do you want to delete the customer identity video?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-delete-customer-identity-video-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-delete-customer-identity-video-confirm-no"}]}]},(function(){$("#alert-delete-customer-identity-video-confirm-cancel").attr("delete-thumbnail-id",t),$("#alert-delete-customer-identity-video-confirm-cancel").attr("delete-video-id",i)}))})),$(document).on("click","#btn-delete-customer-identity-video-confirm-no",(function(){$("#alert-delete-customer-identity-video-confirm-cancel").remove()})),$(document).on("click","#btn-delete-customer-identity-video-confirm-yes",(function(){var e=$("#alert-delete-customer-identity-video-confirm-cancel").attr("delete-thumbnail-id"),t=$("#alert-delete-customer-identity-video-confirm-cancel").attr("delete-video-id");$("#alert-delete-customer-identity-video-confirm-cancel").remove();var i=sessionStorage.getItem("customer_id"),a={device_id:crossplat.device.uuid,identity_video_thumbnail_id:e,identity_video_id:t,customer_id:i};addLoader(),customerDeleteIdentityVideo(a).then((e=>{removeLoader(),$("#customer-identity-picture-upload").val(""),$("#customer_identity_video").attr("src",""),$(".customer_identity_video_preview").remove(),$("#customer-identity-video-delete").remove(),$("#customer-identity-video-load-btn").attr("data-thumbnail-id",""),$("#customer-identity-video-load-btn").attr("data-video-id","")})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))})),$(document).on("click","#associate_customer-identity-video-delete",(function(e){var t=$(this).attr("data-thumbnail-id"),i=$(this).attr("data-video-id");e.stopPropagation(),showAlert({alert_id:"alert-delete-associate-customer-identity-video-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Delete Identity video",alert_body:"Do you want to delete the identity video?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-delete-associate-customer-identity-video-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-delete-associate-customer-identity-video-confirm-no"}]}]},(function(){$("#alert-delete-associate-customer-identity-video-confirm-cancel").attr("delete-thumbnail-id",t),$("#alert-delete-associate-customer-identity-video-confirm-cancel").attr("delete-video-id",i)}))})),$(document).on("click","#btn-delete-associate-customer-identity-video-confirm-no",(function(){$("#alert-delete-associate-customer-identity-video-confirm-cancel").remove()})),$(document).on("click","#btn-delete-associate-customer-identity-video-confirm-yes",(function(){var e=$("#alert-delete-associate-customer-identity-video-confirm-cancel").attr("delete-thumbnail-id"),t=$("#alert-delete-associate-customer-identity-video-confirm-cancel").attr("delete-video-id");$("#alert-delete-associate-customer-identity-video-confirm-cancel").remove();var i=$("#edit-associate-customer-modal").attr("data-associate-customer-id"),a={device_id:crossplat.device.uuid,identity_video_thumbnail_id:e,identity_video_id:t,associate_customer_id:i};addLoader(),associateCustomerDeleteIdentityVideo(a).then((e=>{removeLoader(),$("#associate-customer-identity-picture-upload").val(""),$("#associate_customer_identity_video").attr("src",""),$(".associate_customer_identity_video_preview").remove(),$("#associate_customer-identity-video-delete").remove(),$("#associate-customer-identity-video-load-btn").attr("data-thumbnail-id",""),$("#associate-customer-identity-video-load-btn").attr("data-video-id","")})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))})),$(document).on("click","#employee-identity-video-delete",(function(e){var t=$(this).attr("data-thumbnail-id"),i=$(this).attr("data-video-id");e.stopPropagation(),showAlert({alert_id:"alert-delete-employee-identity-video-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Delete Identity video",alert_body:"Do you want to delete the identity video?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-delete-employee-identity-video-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-delete-employee-identity-video-confirm-no"}]}]},(function(){$("#alert-delete-employee-identity-video-confirm-cancel").attr("delete-thumbnail-id",t),$("#alert-delete-employee-identity-video-confirm-cancel").attr("delete-video-id",i)}))})),$(document).on("click","#btn-delete-employee-identity-video-confirm-no",(function(){$("#alert-delete-employee-identity-video-confirm-cancel").remove()})),$(document).on("click","#btn-delete-employee-identity-video-confirm-yes",(function(){var e=$("#alert-delete-employee-identity-video-confirm-cancel").attr("delete-thumbnail-id"),t=$("#alert-delete-employee-identity-video-confirm-cancel").attr("delete-video-id");$("#alert-delete-employee-identity-video-confirm-cancel").remove();var i=sessionStorage.getItem("employee_id"),a={device_id:crossplat.device.uuid,identity_video_thumbnail_id:e,identity_video_id:t,employee_id:i};addLoader(),employeeDeleteIdentityVideo(a).then((e=>{removeLoader(),$("#employee-identity-picture-upload").val(""),$("#employee_identity_video").attr("src",""),$(".employee_identity_video_preview").remove(),$("#employee-identity-video-delete").remove(),$("#employee-identity-video-load-btn").attr("data-thumbnail-id",""),$("#employee-identity-video-load-btn").attr("data-video-id","")})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))})),$(document).on("click",".new-business-delete-btn",(function(){addLoader();var e=sessionStorage.getItem("business_id");showAlert({alert_id:"alert-confirm-transactional-password",alert_platform:crossplat.device.platform,alert_title:"Transactional Password",alert_body:'<input type="password" id="transaction_password_field" placeholder="Enter Transactional Password"/>',alert_btn:[{name:"Cancel",attr:[{name:"id",value:"btn-business-delete-transaction-cancel"}]},{name:"Confirm",attr:[{name:"id",value:"btn-business-delete-transaction-confirm"}]}]},(function(){removeLoader(),$("#alert-confirm-transactional-password").attr("business_id",e),$("#alert-confirm-transactional-password").length>1&&$("#alert-confirm-transactional-password:last").remove()}))})),$(document).on("click","#btn-business-owner-inactivate-ok",(function(){$("#alert-business-owner-inactive-ok").remove();var e=sessionStorage.getItem("business_id");businessGet({device_id:crossplat.device.uuid,id:e}).then((e=>{sessionStorage.setItem("business_status",e.status.status);var t={business_status:e.status.status,business_settings:e.settings};fetch.getHtml((function(e,i){showModal({modal_id:"business-inactive-active-settings",modal_header:"Active/Inactive",modal_platform:crossplat.device.platform,modal_body:i,modal_action_buttons:[{name:"Activate",id:"add-business-inactive-data"}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),"inactive"==t.business_status&&($(".business-inactive-main-container").addClass("hide"),$(".business-inactive-start-end-date-time").addClass("hide")),settingCalenderInit("#start-date"),settingCalenderInit("#end-date"),timepickInit("#start-time"),timepickInit("#end-time"),removeLoader()}))}),"page/common/active_inactive_business","#active_inactive_business-template",t)})).catch((e=>{removeLoader()}))})),$(document).on("change","#start-date",(function(e){removeError($("#start-date"))})),$(document).on("change","#end-date",(function(e){removeError($("#end-date"))})),$(document).on("click, change","#end-time",(function(e){removeError($("#end-time"))})),$(document).on("click, change","#start-time",(function(e){removeError($("#start-time"))})),$(document).on("click",".picker__close",(function(){"Start date cannot be after the end date."==$("#start-date").siblings(".error_note").text()&&removeError($("#start-date")),"Start Time and End Time cannot be same"==$("#start-time").siblings(".error_note").text()&&removeError($("#start-time")),"Selected time is in the past"==$("#start-time").siblings(".error_note").text()&&removeError($("#start-time")),"This field is required."==$("#start-date").siblings(".error_note").text()&&$("#start-date").val().length>0&&removeError($("#start-date")),"This field is required."==$("#start-time").siblings(".error_note").text()&&$("#start-time").val().length>0&&removeError($("#start-time")),"End date cannot be before the start date."==$("#end-date").siblings(".error_note").text()&&removeError($("#end-date")),"Start Time and End Time cannot be same"==$("#end-time").siblings(".error_note").text()&&removeError($("#end-time")),"Selected time is in the past"==$("#end-time").siblings(".error_note").text()&&removeError($("#end-time")),"This field is required."==$("#end-time").siblings(".error_note").text()&&$("#end-time").val().length>0&&removeError($("#end-time")),"This field is required."==$("#end-date").siblings(".error_note").text()&&$("#end-date").val().length>0&&removeError($("#end-date")),"Start Time cannot be greater"==$("#start-time").siblings(".error_note").text()&&removeError($("#start-time"))})),$(document).on("click",".business_profile_slider_btn",(function(e){if(e.stopPropagation(),!isDoubleClicked($(this))){addLoader(),$("body").click();var t=$("#employee_business_list_more_icon_action").attr("data-business-id");sessionStorage.setItem("business_id",t),location.hash="business/profile"}})),$(document).on("click",".employee_profile_slider_btn",(function(e){if(e.stopPropagation(),!isDoubleClicked($(this))){addLoader(),$("body").click();var t=$("#employee_business_list_more_icon_action").attr("data-business-id");sessionStorage.setItem("business_id",t);var i=$("#employee_business_list_more_icon_action").attr("data-employee-id");sessionStorage.setItem("employee_id",i),location.hash="employee/profile"}})),$(document).on("click",".customer_profile_slider_btn",(function(e){if(e.stopPropagation(),!isDoubleClicked($(this))){addLoader(),$("body").click();var t=$("#employee_business_list_more_icon_action").attr("data-business-id");sessionStorage.setItem("business_id",t);var i=$("#employee_business_list_more_icon_action").attr("data-id");sessionStorage.setItem("customer_id",i);var a=$("#employee_business_list_more_icon_action").attr("data-type");sessionStorage.setItem("customer_type",a),location.hash="customer/profile"}})),$(document).on("click",".searchbtn",(function(){var e=$(this);addLoader(),$(e).siblings(".expand-search-wrap").find(".expand-search-input").removeAttr("socketid"),$(e).siblings(".expand-search-wrap").find("i").removeClass("hide"),$(e).siblings(".expand-search-wrap").toggleClass("active").find(".expand-search-input").toggleClass("searchexpand"),$(e).siblings(".expand-search-wrap").find(".expand-search-input").focus(),removeLoader()})),$(document).on("click",".searchclosebtn",(function(e){$(this);switch($(document).find(".expand-search-wrap").removeClass("active").children(".expand-search-input").val("").removeClass("searchexpand"),removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),currentroute){case"collaborator_add":$("#collaborator-add-search-list-wrapper").find(".collaborator-add-search-business-list-contentbox").remove(),$("#collaborator-add-search-list-wrapper").append('<div class="no_data">Search Business</div>');break;case"business_owner_business_list":processBusinessOwnerBusinessList(digibiz.business_owner_business_list,(function(){}));break;case"employee_business_list":processEmployeeBusinessList(digibiz.employee_business_list,(function(){}));break;case"customer_business_list":processCustomerBusinessList(digibiz.customer_business_list,(function(){}));break;case"department_management":processDepartmentList(digibiz.department_list,(function(){}));break;case"employee_creation_list":"employee_active"==sessionStorage.getItem("selected-employee-tab")?processActiveEmployeeCreationEmployeeList(digibiz.active_employee_creation_employee_list,(function(){})):"employee_pending"==sessionStorage.getItem("selected-employee-tab")&&processPendingEmployeeCreationEmployeeList(digibiz.pending_employee_creation_employee_list,(function(){}));break;case"employee_create":$("#assign-employee-department-modal").length>0&&processDepartmentListSelection(digibiz.department_list_selection,(function(){}));break;case"employee_contact_list":"all_employees"==sessionStorage.getItem("selected-employee-contact-list-type-tab")?processEmployeeList(digibiz.all_employees_list,(function(){})):"department_wise"==sessionStorage.getItem("selected-employee-contact-list-type-tab")&&$("#department-wise-employees-list-modal").length>0&&processDepartmentListSelection(digibiz.department_list_selection,(function(){}));break;case"employee_access_list":processEmployeeAccessList(digibiz.employee_access_list,(function(){}));break;case"employee_types":processEmployeeTypesList(digibiz.employee_types_list,(function(){}));break;case"employee_category":processEmployeeCategoryList(digibiz.employee_category_list,(function(){}));break;case"employee_designation":processEmployeeDesignationList(digibiz.employee_designation_list,(function(){}));break;case"employee_group_creation_list":"standard"==sessionStorage.getItem("selected-employee-group-list-type-tab")?$("#modal-communication-group-activate-employee-group-employee-list-selection").length>0||processStandardEmployeeGroupsList(digibiz.standard_employees_groups_list_page,(function(){})):processCustomEmployeeGroupsList(digibiz.custom_employees_groups_list_page,(function(){}));break;case"employee_access_list":processEmployeeAccessList(digibiz.employee_access_list,(function(){}));break;case"customer_identifiers_list":"customer"==sessionStorage.getItem("selected-customer-identifier-tab")?processCustomerIdentifiersList(digibiz.customer_identifiers,(function(){})):processAssociateCustomerIdentifiersList(digibiz.associate_customer_identifiers,(function(){}));break;case"customer_creation_identifiers_list":"customer_active"==sessionStorage.getItem("selected-customer-tab")?processCustomerIdentifiersActiveCustomerCreationList(digibiz.customer_identifiers_active_customers_list,(function(){})):processCustomerIdentifiersPendingCustomerCreationList(digibiz.customer_identifiers_pending_customers_list,(function(){}));break;case"customer_creation_active_list":processActiveCustomerList(digibiz.customer_creation_active_list,(function(){}));break;case"customer_creation_pending_list":processPendingCustomerList(digibiz.customer_creation_pending_list,(function(){}));break;case"customer_contacts_identifiers_list":processCustomerContactsIdentifiersList(digibiz.customer_contacts_identifiers_list,(function(){}));break;case"customer_contacts_items_list":processCustomerContactsItemsList(digibiz.contacts_items_list,(function(){}));break;case"customer_contact_list":processCustomerContactList(digibiz.contacts_list,(function(){}));break;case"customer_groups_identifiers_list":"standard"==sessionStorage.getItem("selected-customer-group-type-tab")?processStandardCustomerGroupsIdentifiersList(digibiz.standard_customer_groups_identifiers_list,(function(){})):processCustomerCustomGroupList(digibiz.custom_groups_list,(function(){}));break;case"customer_groups_list":processCustomerGroupList(digibiz.groups_list,(function(){}));break;case"customer_access_identifiers":processCustomerAccessIdentifiersList(digibiz.customer_access_identifiers_list,(function(){}));break;case"customer_access_identifiers_items":processCustomerAccessIdentifierItemsList(digibiz.customer_access_identifier_items_list,(function(){}));break;case"communication_groups":processCommunicationGroupsList(digibiz.communicationGroupsList,(function(){}));break;case"collaborator_contact_list":"active_collaborator"==sessionStorage.getItem("selected-collaborator-tab")?processActiveCollaboratorContactList(digibiz.collaborator_contact_list,(function(){})):"pending_collaborator"==sessionStorage.getItem("selected-collaborator-tab")&&processPendingCollaboratorContactList(digibiz.pending_collaborator_contact_list,(function(){}));case"collaborator_groups_list":processCollaboratorGroupsList(digibiz.collaborator_groups_list,(function(){}));break;case"digibiz_logs":processSearchCloseLogsList(digibiz.logs_list,(function(){}));break;case"business_notifications":processBusinessNotificationsList(digibiz.business_notifications,(function(){}))}})),setTimeout((function(){let e=document.querySelector(".expand-search-input");e&&(e.addEventListener("input",(function(){timestamp=(new Date).getTime(),e.setAttribute("socketid",timestamp)})),e.addEventListener("keyup",(function(t){if(socketid=e.getAttribute("socketid"),keyword=e.value,socketid&&keyword){switch(document.getElementsByClassName("searchclosebtn")[0].style.display="flex",currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:socketid,app:"digibiz",keyword:keyword},currentroute){case"collaborator_add":data.index="globalBusinessSearch";break;case"business_owner_business_list":data.index="myBusinesslist";break;case"employee_business_list":data.index="employeeBusinesslist";break;case"customer_business_list":data.index="customerBusinesslist";break;case"department_management":data.index="getDepartmentList",data.business_id=sessionStorage.getItem("business_id");break;case"employee_creation_list":"employee_active"==sessionStorage.getItem("selected-employee-tab")?(data.index="getEmployeeCreationActive",data.business_id=sessionStorage.getItem("business_id")):"employee_pending"==sessionStorage.getItem("selected-employee-tab")&&(data.index="getEmployeeCreationPending",data.business_id=sessionStorage.getItem("business_id"));break;case"employee_create":$("#assign-employee-department-modal").length>0&&(data.index="getEmployeeCreatDepartmentSelection",data.business_id=sessionStorage.getItem("business_id"));break;case"employee_contact_list":"all_employees"==sessionStorage.getItem("selected-employee-contact-list-type-tab")&&(data.index="getEmployeeContactListAllEmployees",data.business_id=sessionStorage.getItem("business_id"));break;case"employee_access_list":data.index="getEmployeeAccessListPage",data.business_id=sessionStorage.getItem("business_id");break;case"employee_types":data.index="getEmployeetypesListPage",data.business_id=sessionStorage.getItem("business_id");break;case"employee_category":data.index="getEmployeeCategoryListPage",data.business_id=sessionStorage.getItem("business_id");break;case"employee_designation":data.index="getEmployeeDesignationListPage",data.business_id=sessionStorage.getItem("business_id");break;case"employee_group_creation_list":"standard"==sessionStorage.getItem("selected-employee-group-list-type-tab")?(data.index="getEmployeeStandardGroupListPage",data.business_id=sessionStorage.getItem("business_id")):(data.index="getEmployeeCustomGroupListPage",data.business_id=sessionStorage.getItem("business_id"));break;case"employee_group_create":"custom"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&$("#modal-employee-selection").length>0&&(data.index="getEmployeeContactListAllEmployees",data.business_id=sessionStorage.getItem("business_id"));break;case"employee_access_list":data.index="getEmployeeContactListAllEmployees",data.business_id=sessionStorage.getItem("business_id");break;case"customer_identifiers_list":"customer"==sessionStorage.getItem("selected-customer-identifier-tab")?(data.index="getCustomerIdentifiersTab",data.business_id=sessionStorage.getItem("business_id")):(data.index="getAssociateCustomerIdentifiersTab",data.business_id=sessionStorage.getItem("business_id"));break;case"customer_creation_identifiers_list":sessionStorage.getItem("selected-customer-tab"),data.index="getCustomerIdentifiersTab",data.business_id=sessionStorage.getItem("business_id");break;case"customer_creation_active_list":data.index="getActiveCustomersListPage",data.business_id=sessionStorage.getItem("business_id"),data.identifier_id=sessionStorage.getItem("identifier_id");break;case"customer_creation_pending_list":data.index="getPendingCustomersListPage",data.business_id=sessionStorage.getItem("business_id"),data.identifier_id=sessionStorage.getItem("identifier_id");break;case"customer_contacts_identifiers_list":data.index="getCustomerIdentifiersTab",data.business_id=sessionStorage.getItem("business_id");break;case"customer_contacts_items_list":data.index="getCustomerIdentifierItemListPage",data.business_id=sessionStorage.getItem("business_id"),data.identifier_id=sessionStorage.getItem("identifier_id");break;case"customer_contact_list":data.index="getCustomerContactListPage",data.business_id=sessionStorage.getItem("business_id"),data.identifier_item_id=sessionStorage.getItem("item_id");break;case"customer_groups_identifiers_list":"standard"==sessionStorage.getItem("selected-customer-group-type-tab")?(data.index="getCustomerStandardGroupsListPage",data.business_id=sessionStorage.getItem("business_id")):(data.index="getCustomerCustomGroupsListPage",data.business_id=sessionStorage.getItem("business_id"));break;case"customer_groups_list":data.index="getCustomerStandardGroupsByIdentifierListPage",data.business_id=sessionStorage.getItem("business_id"),data.identifier_id=sessionStorage.getItem("identifier_id");break;case"customer_access_identifiers":data.index="getCustomerIdentifiersTab",data.business_id=sessionStorage.getItem("business_id");break;case"customer_access_identifiers_items":data.index="getCustomerIdentifierItemListPage",data.business_id=sessionStorage.getItem("business_id"),data.identifier_id=sessionStorage.getItem("identifier_id");break;case"communication_groups":data.index="getCommunicationListPage",data.business_id=sessionStorage.getItem("business_id");break;case"collaborator_contact_list":"active_collaborator"==sessionStorage.getItem("selected-collaborator-tab")?(data.index="getActiveCollaboratorListPage",data.business_id=sessionStorage.getItem("business_id")):"pending_collaborator"==sessionStorage.getItem("selected-collaborator-tab")&&(data.index="getPendingCollaboratorListPage",data.business_id=sessionStorage.getItem("business_id"));break;case"collaborator_groups_list":data.index="getCollaboratorGroupsListPage",data.business_id=sessionStorage.getItem("business_id"),"my_group_collaborator"==sessionStorage.getItem("selected-collaborator-tab")?data.list_by="business_collaborator_groups_page":data.list_by="business_other_collaborator_groups_page";break;case"digibiz_logs":if($(".wrapper-dropdown").find(".selected-dropdown").attr("data-value").length>0){if(sessionStorage.getItem("log_type")&&"jeevi_hub_page"==sessionStorage.getItem("log_type"))var i="jeevi_hub_page",a="jeevi",o="digibiz";else if(sessionStorage.getItem("log_type")&&"digibiz_hub_page"==sessionStorage.getItem("log_type"))i="digibiz_account",a="digibiz",o="digibiz";else if(sessionStorage.getItem("log_type")&&"digibiz_roles_logs"==sessionStorage.getItem("log_type"))i="digibiz_roles",a="roles",o="digibiz";else if(sessionStorage.getItem("log_type")&&"notification_role_page"==sessionStorage.getItem("log_type"))i="notification_roles_page",a="notification",o="notification";else if(sessionStorage.getItem("log_type")&&"digibiz_business_logs"==sessionStorage.getItem("log_type"))i="digibiz_business_logs",a="business",o="business_owner";else if(sessionStorage.getItem("log_type")&&"business_app_hub_page"==sessionStorage.getItem("log_type"))i="business_app_hub_page",a="business",o="business_owner",sessionStorage.getItem("business_id");else if(sessionStorage.getItem("log_type")&&"employee"==sessionStorage.getItem("log_type"))i="employee",a="employee",o="business_owner";else if(sessionStorage.getItem("log_type")&&"business_owner_business_list_page"==sessionStorage.getItem("log_type"))i="business_owner_roles_page",a="business",o="business_owner",sessionStorage.getItem("business_id");else if(sessionStorage.getItem("log_type")&&"app_permission_logs"==sessionStorage.getItem("log_type"))i="app_permissions_page",a="business",o="business_owner",sessionStorage.getItem("business_id");else if(sessionStorage.getItem("log_type")&&"employee"==sessionStorage.getItem("log_type"))i="business_module",a="employee",sessionStorage.getItem("business_id");else if(sessionStorage.getItem("log_type")&&"customer_logs"==sessionStorage.getItem("log_type"))i="customer_logs",a="customer",o="business_owner",sessionStorage.getItem("business_id");else if(sessionStorage.getItem("log_type")&&"teams_group_logs"==sessionStorage.getItem("log_type"))i="business_teams",a="business_teams",o="business_owner",sessionStorage.getItem("business_id");"employee"==sessionStorage.getItem("log_type")?(data.index="getEmployeeManagementActivityLogs",data.business_id=sessionStorage.getItem("business_id"),data.type="employee",data.action_type=a,data.log_type=i,data.list_by=i,data.account_id=sessionStorage.getItem("account_id"),data.user_id=sessionStorage.getItem("account_id"),data.filter_value=$(".wrapper-dropdown").find(".selected-dropdown").attr("data-value")):"customer"==sessionStorage.getItem("log_type")?(data.index="getCustomerManagementActivityLogs",data.business_id=sessionStorage.getItem("business_id"),data.type="customer",data.action_type=a,data.log_type=i,data.list_by=i,data.account_id=sessionStorage.getItem("account_id"),data.user_id=sessionStorage.getItem("account_id"),data.filter_value=$(".wrapper-dropdown").find(".selected-dropdown").attr("data-value")):(data.index="getDigibizActivityLogsList",data.action_type=a,data.action_role=o,data.log_type=i,data.list_by=i,data.business_id=sessionStorage.getItem("business_id"),data.account_id=sessionStorage.getItem("account_id"),data.user_id=sessionStorage.getItem("account_id"),data.filter_value=$(".wrapper-dropdown").find(".selected-dropdown").attr("data-value")),addLoader(),console.log("data",data),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300);break}if("digibiz_login_logs"==sessionStorage.getItem("log_type")){digibiz.logs_list=[],data.index="core_activities",data.log_type=sessionStorage.getItem("log_type"),data.list_by=sessionStorage.getItem("log_type"),data.account_id=sessionStorage.getItem("account_id"),data.user_id=sessionStorage.getItem("user_id"),data.filter_value=$(".wrapper-dropdown").find(".selected-dropdown").attr("data-value"),addLoader(),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300);break}Materialize.toast("Select filter value to search logs",4e3,"round error-alert");case"business_notifications":data.index="getBusinessNotifications",data.business_id=sessionStorage.getItem("business_id")}"digibiz_logs"!=currentroute&&(addLoader(),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300))}else switch(removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),e.removeAttribute("socketid"),currentroute){case"collaborator_add":processSearchedCollaboratorAddSearchListPage([],(function(e){}));break;case"business_owner_business_list":processBusinessOwnerBusinessList(digibiz.business_owner_business_list,(function(){}));break;case"employee_business_list":processEmployeeBusinessList(digibiz.employee_business_list,(function(){}));break;case"customer_business_list":processCustomerBusinessList(digibiz.customer_business_list,(function(){}));break;case"department_management":processDepartmentList(digibiz.department_list,(function(){}));break;case"employee_creation_list":"employee_active"==sessionStorage.getItem("selected-employee-tab")?processActiveEmployeeCreationEmployeeList(digibiz.active_employee_creation_employee_list,(function(){})):"employee_pending"==sessionStorage.getItem("selected-employee-tab")&&processPendingEmployeeCreationEmployeeList(digibiz.pending_employee_creation_employee_list,(function(){}));break;case"employee_create":$("#assign-employee-department-modal").length>0&&processDepartmentListSelection(digibiz.department_list_selection,(function(){}));break;case"employee_contact_list":"all_employees"==sessionStorage.getItem("selected-employee-contact-list-type-tab")?processEmployeeList(digibiz.all_employees_list,(function(){})):"department_wise"==sessionStorage.getItem("selected-employee-contact-list-type-tab")&&$("#department-wise-employees-list-modal").length>0&&processDepartmentListSelection(digibiz.department_list_selection,(function(){}));break;case"employee_access_list":case"employee_access_list":processEmployeeAccessList(digibiz.employee_access_list,(function(){}));break;case"employee_types":processEmployeeTypesList(digibiz.employee_types_list,(function(){}));break;case"employee_category":processEmployeeCategoryList(digibiz.employee_category_list,(function(){}));break;case"employee_designation":processEmployeeDesignationList(digibiz.employee_designation_list,(function(){}));break;case"employee_group_creation_list":"standard"==sessionStorage.getItem("selected-employee-group-list-type-tab")?processStandardEmployeeGroupsList(digibiz.standard_employees_groups_list_page,(function(){})):processCustomEmployeeGroupsList(digibiz.custom_employees_groups_list_page,(function(){}));break;case"customer_identifiers_list":"customer"==sessionStorage.getItem("selected-customer-identifier-tab")?processCustomerIdentifiersList(digibiz.customer_identifiers,(function(){})):processAssociateCustomerIdentifiersList(digibiz.associate_customer_identifiers,(function(){}));break;case"customer_creation_identifiers_list":"customer_active"==sessionStorage.getItem("selected-customer-tab")?processCustomerIdentifiersActiveCustomerCreationList(digibiz.customer_identifiers_active_customers_list,(function(){})):processCustomerIdentifiersPendingCustomerCreationList(digibiz.customer_identifiers_pending_customers_list,(function(){}));break;case"customer_creation_active_list":processActiveCustomerList(digibiz.customer_creation_active_list,(function(){}));break;case"customer_creation_pending_list":processPendingCustomerList(digibiz.customer_creation_pending_list,(function(){}));break;case"customer_contacts_identifiers_list":processCustomerContactsIdentifiersList(digibiz.customer_contacts_identifiers_list,(function(){}));break;case"customer_contacts_items_list":processCustomerContactsItemsList(digibiz.contacts_items_list,(function(){}));break;case"customer_contact_list":processCustomerContactList(digibiz.contacts_list,(function(){}));break;case"customer_groups_identifiers_list":"standard"==sessionStorage.getItem("selected-customer-group-type-tab")?processStandardCustomerGroupsIdentifiersList(digibiz.standard_customer_groups_identifiers_list,(function(){})):processCustomerCustomGroupList(digibiz.custom_groups_list,(function(){}));break;case"customer_groups_list":processCustomerGroupList(digibiz.groups_list,(function(){}));break;case"customer_access_identifiers":processCustomerAccessIdentifiersList(digibiz.customer_access_identifiers_list,(function(){}));break;case"customer_access_identifiers_items":processCustomerAccessIdentifierItemsList(digibiz.customer_access_identifier_items_list,(function(){}));break;case"communication_groups":processCommunicationGroupsList(digibiz.communicationGroupsList,(function(){}));break;case"collaborator_contact_list":"active_collaborator"==sessionStorage.getItem("selected-collaborator-tab")?processActiveCollaboratorContactList(digibiz.collaborator_contact_list,(function(){})):"pending_collaborator"==sessionStorage.getItem("selected-collaborator-tab")&&processPendingCollaboratorContactList(digibiz.pending_collaborator_contact_list,(function(){}));break;case"collaborator_groups_list":"my_group_collaborator"==sessionStorage.getItem("selected-collaborator-tab")?processCollaboratorGroupsList(digibiz.collaborator_groups_list,(function(){})):processOtherCollaboratorGroupsList(digibiz.other_collaborator_groups_list,(function(){}));break;case"digibiz_logs":processSearchCloseLogsList(digibiz.logs_list,(function(){}));break;case"business_notifications":processBusinessNotificationsList(digibiz.business_notifications,(function(){}))}})))}),3e3),$(document).on("click",".search-member-button",(function(){if($(this).hasClass("employee-lists"))var e=!0;else if($(this).hasClass("customer-lists"))var t=!0;else if($(this).hasClass("collaborator-lists"))var i=!0;else e=!1,i=!1,t=!1,e=!1;addLoader();var a=!1;if(sessionStorage.getItem("group_id")){if("employee_group_create"==$("body").attr("app")){crossplat.device.uuid,sessionStorage.getItem("group_id");showModal({modal_id:"group-member-search-modal",modal_header:"Group Members",modal_platform:crossplat.device.platform,modal_body:'<div id="group-member-search-main-container">                                            \n                                            <div class="search">\n                                                <div class="expand-search-wrap search-wrapper" id="group-member-search-btn">\n                                                    <span class="searchbtn waves-effect cursor-pointer"><i class="material-icons">search</i></span>\n                                                    <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                                                    <span class="searchclosebtn"><i class="material-icons group-member-close-btn hide">close</i></span>\n                                                </div>\n                                            </div>\n                                            <div id="group-member-search-wrapper"></div>\n                                        </div>'},(function(){removeLoader(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),processGroupMemberSearch(null,(function(){var e=$("#group-member-search-modal").find(".expand-search-input");e&&($(document).on("input",e,(function(){timestamp=(new Date).getTime(),e.attr("socketid",timestamp)})),$(document).on("keyup",e,(function(){if(socketid=e.attr("socketid"),keyword=e.val(),socketid&&keyword&&keyword.length>=3){if(document.getElementsByClassName("searchclosebtn")[0].style.display="flex",currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:socketid,app:"digibiz",keyword:keyword},"employee_group_create"===currentroute)sessionStorage.getItem("selected-employee-group-list-type-tab"),$("#group-member-search-modal").length>0&&(data.index="getDigibizGroupMembersListPage",data.group_id=sessionStorage.getItem("group_id"));addLoader(),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300)}else if(removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),e.attr("socketid",""),"employee_group_create"===currentroute)"standard"==sessionStorage.getItem("selected-employee-group-list-type-tab")?($("#modal-communication-group-activate-employee-group-employee-list-selection").length>0&&processCommunicationGroupActivateEmployeeGroupEmployeeList(o,groupResponse,(function(){})),$("#group-member-search-modal").length>0&&processGroupMemberSearch(null,(function(){}))):$("#group-member-search-modal").length>0&&processGroupMemberSearch(null,(function(){}))})),$(document).on("click",".searchclosebtn",(function(){"standard"==sessionStorage.getItem("selected-employee-group-list-type-tab")?($("#modal-communication-group-activate-employee-group-employee-list-selection").length>0&&processCommunicationGroupActivateEmployeeGroupEmployeeList(null,groupResponse,(function(){})),$("#group-member-search-modal").length>0&&processGroupMemberSearch(null,(function(){}))):$("#group-member-search-modal").length>0&&processGroupMemberSearch(null,(function(){}))})))}))}))}else if("collaborator_group_details"==$("body").attr("app")){crossplat.device.uuid,sessionStorage.getItem("group_id");showModal({modal_id:"group-member-search-modal",modal_header:"Group Business Members",modal_platform:crossplat.device.platform,modal_body:'<div id="group-member-search-main-container">                                            \n                                             <div class="search">\n                                                <div class="expand-search-wrap search-wrapper" id="group-member-search-btn">\n                                                    <span class="searchbtn waves-effect cursor-pointer"><i class="material-icons">search</i></span>\n                                                    <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                                                    <span class="searchclosebtn"><i class="material-icons group-member-close-btn hide">close</i></span>\n                                                </div>\n                                            </div>\n                                            <div id="group-member-search-wrapper"></div>\n                                        </div>'},(function(){removeLoader(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),processGroupBusinessMemberSearch(null,(function(){var e=$("#group-member-search-modal").find(".expand-search-input");e&&($(document).on("input",e,(function(){timestamp=(new Date).getTime(),e.attr("socketid",timestamp)})),$(document).on("keyup",e,(function(){if(socketid=e.attr("socketid"),keyword=e.val(),socketid&&keyword){if(document.getElementsByClassName("searchclosebtn")[0].style.display="flex",currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:socketid,app:"digibiz",keyword:keyword},"collaborator_group_details"===currentroute)$("#group-member-search-modal").length>0&&(data.index="getCollaboratorGroupBusinessMembersSearch",data.group_id=sessionStorage.getItem("group_id"));addLoader(),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300)}else if(removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),e.attr("socketid",""),"collaborator_group_details"===currentroute)$("#group-member-search-modal").length>0&&processGroupBusinessMemberSearch(null,(function(){}))})),$(document).on("click",".searchclosebtn",(function(){$("#group-member-search-modal").length>0&&processGroupBusinessMemberSearch(null,(function(){}))})))}))}))}else if("communication_group_details"==$("body").attr("app")){crossplat.device.uuid,sessionStorage.getItem("group_id");digibiz.group_members_list=[],digibiz.group_members_list=o,showModal({modal_id:"group-member-search-modal",modal_header:"Group Members",modal_platform:crossplat.device.platform,modal_body:'<div id="group-member-search-main-container">                                           \n                                             <div class="search">\n                                                 <div class="expand-search-wrap search-wrapper" id="group-member-search-btn">\n                                                    <span class="searchbtn waves-effect cursor-pointer"><i class="material-icons">search</i></span>\n                                                    <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                                                    <span class="searchclosebtn"><i class="material-icons group-member-close-btn hide">close</i></span>\n                                                </div>\n                                             </div>\n                                            <div id="group-member-search-wrapper"></div>\n                                        </div>'},(function(){removeLoader(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),e?$("#group-member-search-main-container").addClass("employee-member-serach"):t?$("#group-member-search-main-container").addClass("customer-member-serach"):i&&$("#group-member-search-main-container").addClass("collaborator-member-serach"),processGroupMemberSearch(null,(function(){var a=$("#group-member-search-modal").find(".expand-search-input");a&&($(document).on("input",a,(function(){timestamp=(new Date).getTime(),a.attr("socketid",timestamp)})),$(document).on("keyup",a,(function(){if(socketid=a.attr("socketid"),keyword=a.val(),socketid&&keyword){if(document.getElementsByClassName("searchclosebtn")[0].style.display="flex",currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:socketid,app:"digibiz",keyword:keyword},"communication_group_details"===currentroute)$("#group-member-search-modal").length>0&&(data.index="getDigibizGroupMembersListPage",data.group_id=sessionStorage.getItem("group_id"),e&&(data.list_by="employee_list"),t&&(data.list_by="customer_list"),i&&(data.list_by="collaborator_list"),console.log("data",data));addLoader(),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300)}else if(removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),a.attr("socketid",""),"communication_group_details"===currentroute)$("#group-member-search-modal").length>0&&processGroupMemberSearch(null,(function(){}))})),$(document).on("click",".searchclosebtn",(function(){$("#group-member-search-modal").length>0&&processGroupMemberSearch(null,(function(){}))})))}))}))}else if("customer_groups_details"==$("body").attr("app"))if("standard"==sessionStorage.getItem("selected-customer-group-type-tab")){if("primary_associate_customers"==sessionStorage.getItem("group_type")||"primary_customers"==sessionStorage.getItem("group_type")||"standard"==sessionStorage.getItem("group_type")){crossplat.device.uuid,sessionStorage.getItem("group_id");showModal({modal_id:"group-member-search-modal",modal_header:"Group Members",modal_platform:crossplat.device.platform,modal_body:'<div id="group-member-search-main-container">                                                    \n                                                     <div class="search">\n                                                         <div class="expand-search-wrap search-wrapper" id="group-member-search-btn">\n                                                            <span class="searchbtn waves-effect cursor-pointer"><i class="material-icons">search</i></span>\n                                                            <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                                                            <span class="searchclosebtn"><i class="material-icons group-member-close-btn hide">close</i></span>\n                                                         </div>\n                                                     </div>\n                                                    <div id="group-member-search-wrapper"></div>\n                                                </div>'},(function(){removeLoader(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),processGroupMemberSearch(o,(function(){var e=$("#group-member-search-modal").find(".expand-search-input");e&&($(document).on("input",e,(function(){timestamp=(new Date).getTime(),e.attr("socketid",timestamp)})),$(document).on("keyup",e,(function(){if(socketid=e.attr("socketid"),keyword=e.val(),socketid&&keyword){if(document.getElementsByClassName("searchclosebtn")[0].style.display="flex",currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:socketid,app:"digibiz",keyword:keyword},"customer_groups_details"===currentroute)$("#group-member-search-modal").length>0&&(data.index="getDigibizGroupMembersListPage",data.group_id=sessionStorage.getItem("group_id"));addLoader(),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300)}else if(removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),e.attr("socketid",""),"customer_groups_details"===currentroute)$("#group-member-search-modal").length>0&&processGroupMemberSearch(null,(function(){}))})),$(document).on("click",".searchclosebtn",(function(){$("#group-member-search-modal").length>0&&processGroupMemberSearch(null,(function(){}))})))}))}))}}else if("custom"==sessionStorage.getItem("selected-customer-group-type-tab")&&"custom"==sessionStorage.getItem("group_type")){crossplat.device.uuid,sessionStorage.getItem("group_id");showModal({modal_id:"group-member-search-modal",modal_header:"Group Members",modal_platform:crossplat.device.platform,modal_body:'<div id="group-member-search-main-container">                                                    \n                                                     <div class="search">\n                                                         <div class="expand-search-wrap search-wrapper" id="group-member-search-btn">\n                                                            <span class="searchbtn waves-effect cursor-pointer"><i class="material-icons">search</i></span>\n                                                            <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                                                            <span class="searchclosebtn"><i class="material-icons group-member-close-btn hide">close</i></span>\n                                                         </div>\n                                                     </div>\n                                                    <div id="group-member-search-wrapper"></div>\n                                                </div>'},(function(){removeLoader(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),processGroupMemberSearch(null,(function(){var e=$("#group-member-search-modal").find(".expand-search-input");e&&($(document).on("input",e,(function(){timestamp=(new Date).getTime(),e.attr("socketid",timestamp)})),$(document).on("keyup",e,(function(){if(socketid=e.attr("socketid"),keyword=e.val(),socketid&&keyword){if(document.getElementsByClassName("searchclosebtn")[0].style.display="flex",currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:socketid,app:"digibiz",keyword:keyword},"customer_groups_details"===currentroute)$("#group-member-search-modal").length>0&&(data.index="getDigibizGroupMembersListPage",data.group_id=sessionStorage.getItem("group_id"));addLoader(),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300)}else if(removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),e.attr("socketid",""),"customer_groups_details"===currentroute)$("#group-member-search-modal").length>0&&processGroupMemberSearch(null,(function(){}))})),$(document).on("click",".searchclosebtn",(function(){$("#group-member-search-modal").length>0&&processGroupMemberSearch(null,(function(){}))})))}))}))}}else{if("communication_group_details"==$("body").attr("app"))if($(this).parents(".communication-group-creation-customer-members-contentbox").length>0){if($("#group-member-search-confirm-data").removeClass("employee_list"),$("#group-member-search-confirm-data").addClass("customer_list"),digibiz.selectedMembers.length>0)var o=digibiz.selectedMembers.filter((e=>1==e.selected&&("customer"==e.type||"associate_customer"==e.type)));else o=null}else{$("#group-member-search-confirm-data").addClass("employee_list"),$("#group-member-search-confirm-data").removeClass("customer_list");a=!0;if(digibiz.selectedMembers.length>0)o=digibiz.selectedMembers.filter((e=>1==e.selected&&"employee_list"==e.type));else o=null}else if(digibiz.selectedMembers.length>0)o=digibiz.selectedMembers.filter((e=>1==e.selected));else o=null;showModal({modal_id:"group-member-search-modal",modal_header:"Group Members",modal_platform:crossplat.device.platform,modal_body:'<div id="group-member-search-main-container">                                \n                                 <div class="search">\n                                     <div class="expand-search-wrap search-wrapper" id="group-member-search-btn">\n                                        <span class="searchbtn waves-effect cursor-pointer"><i class="material-icons">search</i></span>\n                                        <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                                        <span class="searchclosebtn"><i class="material-icons group-member-close-btn hide">close</i></span>\n                                     </div>\n                                 </div>\n                            <div id="group-member-search-wrapper"></div>\n                            </div>',modal_action_buttons:[{name:"Confirm",id:"group-member-search-confirm-data"}]},(function(){removeLoader(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),processCreateGroupMemberSearch(o,(function(){var e=$("#group-member-search-modal").find(".expand-search-input");e&&($(document).on("input",e,(function(){timestamp=(new Date).getTime(),e.attr("socketid",timestamp)})),$(document).on("keyup",e,(function(){if(socketid=e.attr("socketid"),keyword=e.val(),socketid&&keyword){switch(document.getElementsByClassName("searchclosebtn")[0].style.display="flex",currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:socketid,app:"digibiz",keyword:keyword},currentroute){case"employee_group_create":if("standard"==sessionStorage.getItem("selected-employee-group-list-type-tab"))$("#group-member-search-modal").length>0&&(data.index="getDigibizGroupMembersListPage",data.group_id=sessionStorage.getItem("group_id"));else if($("#group-member-search-modal").length>0)console.log("group-member-search-modal"),processCreateGroupMemberSearch({contactList:digibiz.selectedMembers.filter((e=>{var t=e.name.split(" "),i=e.name;return t[0].toLowerCase().startsWith(keyword.toLowerCase())||t[1]&&t[1].toLowerCase().startsWith(keyword.toLowerCase())||i.toLowerCase().startsWith(keyword.toLowerCase())}))}.contactList,(function(){}));break;case"collaborator_group_create":if($("#group-member-search-modal").length>0)console.log("group-member-search-modal"),processCreateGroupMemberSearch({contactList:digibiz.selectedMembers.filter((e=>{var t=e.name.split(" "),i=e.name;return t[0].toLowerCase().startsWith(keyword.toLowerCase())||t[1]&&t[1].toLowerCase().startsWith(keyword.toLowerCase())||i.toLowerCase().startsWith(keyword.toLowerCase())}))}.contactList,(function(){}));break;case"communication_group_details":if($("#group-member-search-modal").length>0){if(console.log("group-member-search-modal"),a)var t=digibiz.selectedMembers.filter((e=>"employee_list"==e.type));else t=digibiz.selectedMembers.filter((e=>"employee_list"!=e.type));processCreateGroupMemberSearch({contactList:t.filter((e=>{var t=e.name.split(" "),i=e.name;return t[0].toLowerCase().startsWith(keyword.toLowerCase())||t[1]&&t[1].toLowerCase().startsWith(keyword.toLowerCase())||i.toLowerCase().startsWith(keyword.toLowerCase())}))}.contactList,(function(){}))}}addLoader(),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300)}else switch(removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),e.attr("socketid",""),currentroute){case"employee_group_create":"standard"==sessionStorage.getItem("selected-employee-group-list-type-tab")?($("#modal-communication-group-activate-employee-group-employee-list-selection").length>0&&processCommunicationGroupActivateEmployeeGroupEmployeeList(null,null,(function(){})),$("#group-member-search-modal").length>0&&processCreateGroupMemberSearch(o,(function(){}))):$("#group-member-search-modal").length>0&&processCreateGroupMemberSearch(o,(function(){}));break;case"communication_group_details":if($("#group-member-search-modal").length>0){if(console.log("group-member-search-modal"),a)t=digibiz.selectedMembers.filter((e=>"employee_list"==e.type));else t=digibiz.selectedMembers.filter((e=>"employee_list"!=e.type));processCreateGroupMemberSearch(t,(function(){}))}break;case"collaborator_group_create":$("#group-member-search-modal").length>0&&(console.log("group-member-search-modal"),processCreateGroupMemberSearch(o,(function(){})))}})),$(document).on("click",".searchclosebtn",(function(){"standard"==sessionStorage.getItem("selected-employee-group-list-type-tab")?($("#modal-communication-group-activate-employee-group-employee-list-selection").length>0&&processCommunicationGroupActivateEmployeeGroupEmployeeList(null,null,(function(){})),$("#group-member-search-modal").length>0&&processCreateGroupMemberSearch(o,(function(){}))):$("#group-member-search-modal").length>0&&processCreateGroupMemberSearch(o,(function(){}))})))}))}))}})),$(document).on("click",".search-moderator-button",(function(){sessionStorage.getItem("group_id")&&getGroupModeratorList({device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id"),count:20,offset:0}).then((e=>{digibiz.group_moderator_list=[],digibiz.group_moderator_list=e.moderator,showModal({modal_id:"modal-communication-group-moderator-selection",modal_header:"Group Moderators",modal_platform:crossplat.device.platform,modal_body:'<div id="group-member-search-main-container">                                           \n                                             <div class="search">\n                                                 <div class="expand-search-wrap search-wrapper" id="group-moderator-search-btn">\n                                                    <span class="searchbtn waves-effect cursor-pointer"><i class="material-icons">search</i></span>\n                                                    <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                                                    <span class="searchclosebtn"><i class="material-icons group-member-close-btn hide">close</i></span>\n                                                </div>\n                                             </div>\n                                            <div id="group-moderator-search-wrapper"></div>\n                                        </div>'},(function(){removeLoader(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),processSearchGroupModeratorData(digibiz.group_moderator_list,(function(){var e=$("#modal-communication-group-moderator-selection").find(".expand-search-input");e&&($(document).on("input",e,(function(){timestamp=(new Date).getTime(),e.attr("socketid",timestamp)})),$(document).on("keyup",e,(function(){if(socketid=e.attr("socketid"),keyword=e.val(),socketid&&keyword){switch(document.getElementsByClassName("searchclosebtn")[0].style.display="flex",currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:socketid,app:"digibiz",keyword:keyword},currentroute){case"communication_group_details":case"employee_group_create":case"collaborator_groups_list":$("#modal-communication-group-moderator-selection").length>0&&(data.index="getDigibizGroupModeratorListPage",data.group_id=sessionStorage.getItem("group_id"))}addLoader(),console.log("search emit",data),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300)}else switch(removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),e.attr("socketid",""),currentroute){case"communication_group_details":case"employee_group_create":case"collaborator_groups_list":$("#modal-communication-group-moderator-selection").length>0&&processSearchGroupModeratorData(groupResponse.moderator,(function(){}))}})),$(document).on("click",".searchclosebtn",(function(){$("#modal-communication-group-moderator-selection").length>0&&processSearchGroupModeratorData(groupResponse.moderator,(function(){}))})))}))}))})).catch((e=>{console.log("err",e)}))})),$(document).on("click","#group-member-search-confirm-data",(function(){addLoader(),$("#group-member-search-modal").find(".employee-select-btn-wrapper.selected-row").length>0&&"customer_groups_details"==$("body").attr("app")?($(".search-member-button").removeClass("hide"),$(".customer-group-member-wrapper").remove(),$.each($(".employee-select-btn-wrapper.selected-row"),(function(e,t){var i=$(t).find(".contact-profile-container").attr("data-id"),a=$(t).find(".contact-name-wrapper").text(),o=$(t).find(".contact-name-wrapper").text().charAt(0),s=$(t).find(".profile-pic-container").attr("data-type"),r=$(t).find(".profile-pic-container").attr("data-role_id"),n=$(t).find(".profile-pic-container").attr("data-role_type"),d=$(t).find(".profile-pic-container").attr("data-role_business_id"),c=$(t).find(".profile-pic-container").attr("data-role_business_name"),l=$(t).find(".profile-pic-container").attr("data-main_identifier");if("associate_customer"==s){var p=$(t).find(".profile-pic-container").attr("data-parent_customer_id"),m=$(t).find(".profile-pic-container").attr("data-associate_customter_info");if(null!=i){var u={id:i,name:a,imageLetter:o,customer_type:s,role_id:r,role_type:n,role_business_id:d,role_business_name:c,main_identifier:l,parent_customer_id:p,associate_customter_info:m,type:"associate_customer",selected:!0};if(console.log("members",u),-1==digibiz.selectedMembers.findIndex((e=>e.id==i))){if(digibiz.selectedMembers.push(u),"employee"==n){var g=`<div class="tooltipped customer-group-member-wrapper" data-id="${i}" data-parent-customer-id="${p}">\n                                                <div class="file-select">\n                                                    <input type="checkbox" name="selectedmembers[]" class="contactlists filled-in" value="${i}" data-type="${s}" id="selected-${i}" checked="" data-role-id="${r}" data-role-type="${n}" data-role-business-id="${d}">\n                                                    <i class="material-icons">done</i>\n                                                    <div class="profile-text group-profile-text text-small-size">\n                                                        <span>${o}</span> \n                                                    </div>\n                                                </div>\n                                                <div class="filemanager-file-wrapper">\n                                                    <div>\n                                                        <span class="truncate selected-member-name" for="selected-${i}">${a}</span>\n                                                        <span class="truncate selected-member-role-business-name wrapper-secondary-heading" for="selected-${i}">${c}</span>\n                                                        <span class="truncate selected-member-info wrapper-secondary-heading" for="selected-${i}">${m}-${l}</span>\n                                                    </div>\n                                                </div>\n                                            </div>`;$("#customer-group-members-list").append(g),$("#modal-customer-group-contact-list-selection").remove(),$("#group-member-search-modal").remove()}else{g=`<div class="tooltipped customer-group-member-wrapper" data-id="${i}" data-parent-customer-id="${p}">\n                                                <div class="file-select">\n                                                    <input type="checkbox" name="selectedmembers[]" class="contactlists filled-in" value="${i}" data-type="${s}" id="selected-${i}" checked="" data-role-id="${r}" data-role-type="${n}" data-role-business-id="${d}">\n                                                    <i class="material-icons">done</i>\n                                                    <div class="profile-text group-profile-text text-small-size">\n                                                        <span>${o}</span> \n                                                    </div>\n                                                </div>\n                                                <div class="filemanager-file-wrapper">\n                                                    <div>\n                                                        <span class="truncate selected-member-name" for="selected-${i}">${a}</span>\n                                                        <span class="truncate selected-member-info wrapper-secondary-heading">${m}-${l}</span>\n                                                    </div>\n                                                </div>\n                                            </div>`;$("#customer-group-members-list").append(g)}$("#modal-customer-group-contact-list-selection").remove(),$("#group-member-search-modal").remove()}}else removeLoader()}else if(null!=i){u={id:i,name:a,imageLetter:o,customer_type:s,role_id:r,role_type:n,role_business_id:d,role_business_name:c,main_identifier:l,type:"customer",selected:!0};if(-1==digibiz.selectedMembers.findIndex((e=>e.id==i))){if(digibiz.selectedMembers.push(u),"employee"==n){g=`<div class="tooltipped customer-group-member-wrapper" data-id="${i}">\n                                                <div class="file-select">\n                                                    <input type="checkbox" name="selectedmembers[]" class="contactlists filled-in" value="${i}" data-type="${s}" id="selected-${i}" checked="" data-role-id="${r}" data-role-type="${n}" data-role-business-id="${d}">\n                                                    <i class="material-icons">done</i>\n                                                    <div class="profile-text group-profile-text text-small-size">\n                                                        <span>${o}</span> \n                                                    </div>\n                                                </div>\n                                                <div class="filemanager-file-wrapper">\n                                                    <div>\n                                                    <span class="truncate selected-member-name" for="selected-${i}">${a}</span>\n                                                    <span class="truncate selected-member-role-business-name wrapper-secondary-heading" for="selected-${i}">${c}</span>\n                                                    <span class="truncate selected-member-info wrapper-secondary-heading" for="selected-${i}">${l}</span>\n                                                    </div>\n                                                </div>\n                                            </div>`;$("#customer-group-members-list").append(g),$("#modal-customer-group-contact-list-selection").remove(),$("#group-member-search-modal").remove()}else{g=`<div class="tooltipped customer-group-member-wrapper" data-id="${i}">\n                                                <div class="file-select">\n                                                    <input type="checkbox" name="selectedmembers[]" class="contactlists filled-in" value="${i}" data-type="${s}" id="selected-${i}" checked="" data-role-id="${r}" data-role-type="${n}" data-role-business-id="${d}">\n                                                    <i class="material-icons">done</i>\n                                                    <div class="profile-text group-profile-text text-small-size">\n                                                        <span>${o}</span> \n                                                    </div>\n                                                </div>\n                                                <div class="filemanager-file-wrapper">\n                                                    <div>\n                                                    <span class="truncate selected-member-name" for="selected-${i}">${a}</span>\n                                                    <span class="truncate selected-member-info wrapper-secondary-heading" for="selected-${i}">${l}</span>\n                                                    </div>\n                                                </div>\n                                            </div>`;$("#customer-group-members-list").append(g)}$("#modal-customer-group-contact-list-selection").remove(),$("#group-member-search-modal").remove()}}else removeLoader()})),removeLoader()):$("#group-member-search-modal").find(".employee-select-btn-wrapper.selected-row").length>0&&"communication_group_details"==$("body").attr("app")?($(".search-member-button").removeClass("hide"),$(this).hasClass("employee_list")?("employee_list"==sessionStorage.getItem("group_from")?$(".search-member-button").removeClass("hide"):$(".search-member-button").addClass("hide"),$(".employee-group-member-wrapper").remove(),$.each($(".employee-select-btn-wrapper.selected-row"),(function(e,t){var i=$(t).find(".contact-profile-container").attr("data-dj-unique-employee-id"),a=$(t).find(".contact-name-wrapper").text(),o=$(t).find(".contact-name-wrapper").text().charAt(0);if(null!=i){var s={id:i,name:a,imageLetter:o,dj_unique_employee_id:i,selected:!0,type:"employee_list"};if(-1==digibiz.selectedMembers.findIndex((e=>e.id==i))){digibiz.selectedMembers.push(s);var r=`<div class="tooltipped employee-group-member-wrapper" data-dj-unique-employee-id="${i}"><div class="file-select">\n                    <input type="checkbox" name="selectedmembers[]" class="contactlists filled-in" value="${i}" id="selected-${i}" checked=""><i class="material-icons">done</i><div class="profile-text group-profile-text text-small-size">\n                        <span>${o}</span> \n                     </div></div><div class="filemanager-file-wrapper"><span class="truncate" for="selected-${i}">${a}</span></div>\n                </div>`;$("#employee-group-members-list").append(r)}$("#group-member-search-modal").remove()}else removeLoader()})),removeLoader()):($(".customer-group-member-wrapper").remove(),$.each($(".employee-select-btn-wrapper.selected-row"),(function(e,t){var i=$(t).find(".contact-profile-container").attr("data-id"),a=$(t).find(".contact-name-wrapper").text(),o=$(t).find(".contact-name-wrapper").text().charAt(0),s=$(t).find(".profile-pic-container").attr("data-type"),r=$(t).find(".profile-pic-container").attr("data-role_id"),n=$(t).find(".profile-pic-container").attr("data-role_type"),d=$(t).find(".profile-pic-container").attr("data-role_business_id"),c=$(t).find(".profile-pic-container").attr("data-role_business_name"),l=$(t).find(".profile-pic-container").attr("data-main_identifier");if("associate_customer"==s){var p=$(t).find(".profile-pic-container").attr("data-parent_customer_id"),m=$(t).find(".profile-pic-container").attr("data-associate_customter_info");if(null!=i){var u={id:i,name:a,imageLetter:o,customer_type:s,role_id:r,role_type:n,role_business_id:d,role_business_name:c,main_identifier:l,parent_customer_id:p,associate_customter_info:m,type:"associate_customer",selected:!0};if(console.log("members",u),-1==digibiz.selectedMembers.findIndex((e=>e.id==i))){if(digibiz.selectedMembers.push(u),"employee"==n){var g=`<div class="tooltipped customer-group-member-wrapper" data-id="${i}" data-parent-customer-id="${p}">\n                                                <div class="file-select">\n                                                    <input type="checkbox" name="selectedmembers[]" class="contactlists filled-in" value="${i}" data-type="${s}" id="selected-${i}" checked="" data-role-id="${r}" data-role-type="${n}" data-role-business-id="${d}">\n                                                    <i class="material-icons">done</i>\n                                                    <div class="profile-text group-profile-text text-small-size">\n                                                        <span>${o}</span> \n                                                    </div>\n                                                </div>\n                                                <div class="filemanager-file-wrapper">\n                                                    <div>\n                                                        <span class="truncate selected-member-name" for="selected-${i}">${a}</span>\n                                                        <span class="truncate selected-member-role-business-name wrapper-secondary-heading" for="selected-${i}">${c}</span>\n                                                        <span class="truncate selected-member-info wrapper-secondary-heading" for="selected-${i}">${m}-${l}</span>\n                                                    </div>\n                                                </div>\n                                            </div>`;$("#customer-group-members-list").append(g),$("#modal-customer-group-contact-list-selection").remove(),$("#group-member-search-modal").remove()}else{g=`<div class="tooltipped customer-group-member-wrapper" data-id="${i}" data-parent-customer-id="${p}">\n                                                <div class="file-select">\n                                                    <input type="checkbox" name="selectedmembers[]" class="contactlists filled-in" value="${i}" data-type="${s}" id="selected-${i}" checked="" data-role-id="${r}" data-role-type="${n}" data-role-business-id="${d}">\n                                                    <i class="material-icons">done</i>\n                                                    <div class="profile-text group-profile-text text-small-size">\n                                                        <span>${o}</span> \n                                                    </div>\n                                                </div>\n                                                <div class="filemanager-file-wrapper">\n                                                    <div>\n                                                        <span class="truncate selected-member-name" for="selected-${i}">${a}</span>\n                                                        <span class="truncate selected-member-info wrapper-secondary-heading">${m}-${l}</span>\n                                                    </div>\n                                                </div>\n                                            </div>`;$("#customer-group-members-list").append(g)}$("#modal-customer-group-contact-list-selection").remove(),$("#group-member-search-modal").remove()}}else removeLoader()}else if(null!=i){u={id:i,name:a,imageLetter:o,customer_type:s,role_id:r,role_type:n,role_business_id:d,role_business_name:c,main_identifier:l,type:"customer",selected:!0};if(-1==digibiz.selectedMembers.findIndex((e=>e.id==i))){if(digibiz.selectedMembers.push(u),"employee"==n){g=`<div class="tooltipped customer-group-member-wrapper" data-id="${i}">\n                                                <div class="file-select">\n                                                    <input type="checkbox" name="selectedmembers[]" class="contactlists filled-in" value="${i}" data-type="${s}" id="selected-${i}" checked="" data-role-id="${r}" data-role-type="${n}" data-role-business-id="${d}">\n                                                    <i class="material-icons">done</i>\n                                                    <div class="profile-text group-profile-text text-small-size">\n                                                        <span>${o}</span> \n                                                    </div>\n                                                </div>\n                                                <div class="filemanager-file-wrapper">\n                                                    <div>\n                                                    <span class="truncate selected-member-name" for="selected-${i}">${a}</span>\n                                                    <span class="truncate selected-member-role-business-name wrapper-secondary-heading" for="selected-${i}">${c}</span>\n                                                    <span class="truncate selected-member-info wrapper-secondary-heading" for="selected-${i}">${l}</span>\n                                                    </div>\n                                                </div>\n                                            </div>`;$("#customer-group-members-list").append(g),$("#modal-customer-group-contact-list-selection").remove(),$("#group-member-search-modal").remove()}else{g=`<div class="tooltipped customer-group-member-wrapper" data-id="${i}">\n                                                <div class="file-select">\n                                                    <input type="checkbox" name="selectedmembers[]" class="contactlists filled-in" value="${i}" data-type="${s}" id="selected-${i}" checked="" data-role-id="${r}" data-role-type="${n}" data-role-business-id="${d}">\n                                                    <i class="material-icons">done</i>\n                                                    <div class="profile-text group-profile-text text-small-size">\n                                                        <span>${o}</span> \n                                                    </div>\n                                                </div>\n                                                <div class="filemanager-file-wrapper">\n                                                    <div>\n                                                    <span class="truncate selected-member-name" for="selected-${i}">${a}</span>\n                                                    <span class="truncate selected-member-info wrapper-secondary-heading" for="selected-${i}">${l}</span>\n                                                    </div>\n                                                </div>\n                                            </div>`;$("#customer-group-members-list").append(g)}$("#modal-customer-group-contact-list-selection").remove(),$("#group-member-search-modal").remove()}}else removeLoader()})),removeLoader())):$("#group-member-search-modal").find(".employee-select-btn-wrapper.selected-row").length>0&&"collaborator_group_create"==$("body").attr("app")?($(".collaborator-group-employee-member-wrapper").remove(),$.each($(".employee-select-btn-wrapper.selected-row"),(function(e,t){var i=$(t).find(".contact-profile-container").attr("data-dj-unique-employee-id"),a=$(t).find(".contact-name-wrapper").text(),o=$(t).find(".contact-name-wrapper").text().charAt(0);if(null!=i){var s={id:i,name:a,imageLetter:o,dj_unique_employee_id:i,selected:!0,type:"employee_list"};if(-1==digibiz.selectedMembers.findIndex((e=>e.id==i&&e.selected))){digibiz.selectedMembers.push(s);var r=`<div class="tooltipped collaborator-group-employee-member-wrapper member-listing-wrapper" data-dj-unique-employee-id="${i}"><div class="file-select">\n                <input type="checkbox" name="selectedmembers[]" class="contactlists filled-in collaborator-group-owner-business-employee-member" value="${i}" id="selected-${i}" checked=""><i class="material-icons">done</i><div class="profile-text group-profile-text text-small-size">\n                    <span>${o}</span> \n                 </div></div><div class="filemanager-file-wrapper"><span class="truncate" for="selected-${i}">${a}</span></div>\n            </div>`;$("#collaborator-group-owner-business-employees-list").append(r)}$("#group-member-search-modal").remove()}else removeLoader()})),removeLoader()):$("#group-member-search-modal").find(".employee-select-btn-wrapper.selected-row").length>0&&"employee_group_create"==$("body").attr("app")?("employee_list"==sessionStorage.getItem("group_from")?$(".search-member-button").removeClass("hide"):$(".search-member-button").addClass("hide"),$(".employee-group-member-wrapper").remove(),$.each($(".employee-select-btn-wrapper.selected-row"),(function(e,t){var i=$(t).find(".contact-profile-container").attr("data-dj-unique-employee-id"),a=$(t).find(".contact-name-wrapper").text(),o=$(t).find(".contact-name-wrapper").text().charAt(0);if(null!=i){var s={id:i,name:a,imageLetter:o,dj_unique_employee_id:i,selected:!0,type:"employee_list"};if(-1==digibiz.selectedMembers.findIndex((e=>e.id==i))){digibiz.selectedMembers.push(s);var r=`<div class="tooltipped employee-group-member-wrapper" data-dj-unique-employee-id="${i}"><div class="file-select">\n                <input type="checkbox" name="selectedmembers[]" class="contactlists filled-in" value="${i}" id="selected-${i}" checked=""><i class="material-icons">done</i><div class="profile-text group-profile-text text-small-size">\n                    <span>${o}</span> \n                 </div></div><div class="filemanager-file-wrapper"><span class="truncate" for="selected-${i}">${a}</span></div>\n            </div>`;$("#employee-group-members-list").append(r)}$("#group-member-search-modal").remove()}else removeLoader()})),removeLoader()):(removeLoader(),Materialize.toast("Please select atleast 1 contacts.",3e3,"round error-alert"))})),$(document).on("click",".department-list-data-wrapper",(function(e){e.stopImmediatePropagation();var t=$(this),i=$(this).attr("data-id");let a=$(t).find("input:checkbox");if($(e.target).is("input:checkbox")||a.prop("checked",!a.prop("checked")).parents(".department-list-data-wrapper").toggleClass("selected-row"),$("#assign-employee-department-modal").length>0||$("#department-wise-employees-list-modal").length>0){var o=digibiz.department_list_selection.findIndex((e=>e.id==i));-1!=o&&($(a).is(":checked")?digibiz.department_list_selection[o].selected=!0:digibiz.department_list_selection[o].selected=!1),removeLoader()}else removeLoader()})),$(document).on("click",".checkbox-click-wrapper",(function(e){e.stopImmediatePropagation();var t=$(this);let i=$(t).find("input:checkbox");$(e.target).is("input:checkbox")||i.prop("checked",!i.prop("checked")).parents(".checkbox-click-wrapper").toggleClass("selected-row")})),$(document).on("click",".employee-select-btn-wrapper",(function(e){e.stopImmediatePropagation();var t=$(this);let i=$(t).find("input:checkbox");$(e.target).is("input:checkbox")||i.prop("checked",!i.prop("checked")).parents(".employee-select-btn-wrapper").toggleClass("selected-row");var a=$(t).find(".employee-select-btn").attr("data-dj-unique-employee-id"),o=$(t).find(".contact-profile-container").attr("data-dj-unique-employee-id"),s=$(t).find(".contact-profile-container").attr("data-id");if(console.log("dj_unique_employee_id",o),"super_admin_management_hub"==$("body").attr("app"))$(".employee-select-btn-wrapper.selected-row").length>1&&($(e.target).is("input:checkbox")||i.prop("checked",!i.prop("checked")).parents(".employee-select-btn-wrapper").toggleClass("selected-row"),Materialize.toast("Can't select more than 1 employee.",3e3,"round success-alert"));else if("business_settings"==$("body").attr("app")||"module_admin_list"==$("body").attr("app"))$(".employee-select-btn-wrapper.selected-row").length>1&&($(e.target).is("input:checkbox")||i.prop("checked",!i.prop("checked")).parents(".employee-select-btn-wrapper").toggleClass("selected-row"),Materialize.toast("Can't select more than 1 employee.",3e3,"round success-alert"));else if("collaborator_group_create"==$("body").attr("app")||"collaborator_group_details"==$("body").attr("app"))if($("#modal-collaborator-group-moderator-selection").length>0)$(t).hasClass("selected-row")?$(".employee-select-btn-wrapper.selected-row").length>3&&($(e.target).is("input:checkbox")||i.prop("checked",!i.prop("checked")).parents(".employee-select-btn-wrapper").toggleClass("selected-row"),Materialize.toast("Maximum 3 moderators.",3e3,"round success-alert")):sessionStorage.getItem("group_id")&&0==$(".employee-select-btn-wrapper.selected-row").length&&($(e.target).is("input:checkbox")||i.prop("checked",!i.prop("checked")).parents(".employee-select-btn-wrapper").toggleClass("selected-row"),Materialize.toast("Minimum 1 moderators is required.",3e3,"round success-alert"));else{var r=digibiz.collaborator_group_owner_employee_members.findIndex((e=>e.dj_unique_employee_id==a));-1!=r&&($(t).hasClass("selected-row")?digibiz.collaborator_group_owner_employee_members[r].selected=!0:digibiz.collaborator_group_owner_employee_members[r].selected=!1)}else if("customer_groups_details"==$("body").attr("app")){var n=digibiz.selectedMembers.findIndex((e=>e.id==s));console.log("index1",n),-1!=n?digibiz.selectedMembers[n].selected=!1:digibiz.selectedMembers.length>0&&digibiz.selectedMembers[n]&&(digibiz.selectedMembers[n].selected=!0)}else{r=digibiz.employee_group_employee_members.findIndex((e=>e.dj_unique_employee_id==a));-1!=r&&($(this).hasClass("selected-row")?digibiz.employee_group_employee_members[r].selected=!0:digibiz.employee_group_employee_members[r].selected=!1);n=digibiz.selectedMembers.findIndex((e=>e.id==o));console.log("index1",n),-1!=n?digibiz.selectedMembers[n].selected=!1:digibiz.selectedMembers.length>0&&digibiz.selectedMembers[n]&&(digibiz.selectedMembers[n].selected=!0)}})),$(document).on("click",".communication-group-employee-select-btn-checkbox-click-wrapper",(function(e){e.stopImmediatePropagation();var t=$(this);let i=$(t).find("input:checkbox");$(e.target).is("input:checkbox")||i.prop("checked",!i.prop("checked")).parents(".communication-group-employee-select-btn-checkbox-click-wrapper").toggleClass("selected-row");var a=$(this).find(".communication-group-employee-select-btn").attr("data-dj-unique-employee-id");if($("#modal-communication-group-activate-employee-group-employee-list-selection").length>0){var o=$(this).parents("#modal-communication-group-activate-employee-group-employee-list-selection").attr("data-group-type");if("employee_list"==o){var s=digibiz.communicationActivateEmployeeGroupEmployeeList.findIndex((e=>e.member.dj_unique_employee_id==a));-1!=s&&($(t).hasClass("selected-row")?digibiz.communicationActivateEmployeeGroupEmployeeList[s].selected=!0:digibiz.communicationActivateEmployeeGroupEmployeeList[s].selected=!1)}else if("standard_group"==o){var r=$(t).parents(".accordion-content").attr("data-group-id");if($(t).hasClass("selected-row")){var n=digibiz.employeeSelectedContactList.find((e=>e.id==a&&e.group_id==r));null==n&&digibiz.employeeSelectedContactList.push({id:a,group_id:r,selected:!0})}else digibiz.employeeSelectedContactList=digibiz.employeeSelectedContactList.filter((e=>e.id!=a))}else{s=digibiz.communicationActivateEmployeeGroupEmployeeList.findIndex((e=>e.dj_unique_employee_id==a));-1!=s&&($(t).hasClass("selected-row")?digibiz.communicationActivateEmployeeGroupEmployeeList[s].selected=!0:digibiz.communicationActivateEmployeeGroupEmployeeList[s].selected=!1)}removeLoader()}else if($("#modal-communication-group-employees-selection").length>0){s=digibiz.communicationGroupEmployeeSelectionList.findIndex((e=>e.dj_unique_employee_id==a));-1!=s&&($(t).hasClass("selected-row")?digibiz.communicationGroupEmployeeSelectionList[s].selected=!0:digibiz.communicationGroupEmployeeSelectionList[s].selected=!1),removeLoader()}else removeLoader()})),$(document).on("click",".standard-employee-group-select-checkbox-click-wrapper",(function(e){e.stopImmediatePropagation();var t=$(this);let i=$(t).find("input:checkbox");$(e.target).is("input:checkbox")||i.prop("checked",!i.prop("checked")).parents(".standard-employee-group-select-checkbox-click-wrapper").toggleClass("selected-row")})),$(document).on("click",".customer-group-contact-select-btn-checkbox-click-wrapper",(function(e){e.stopImmediatePropagation();var t=$(this);let i=$(t).find("input:checkbox");$(e.target).is("input:checkbox")||i.prop("checked",!i.prop("checked")).parents(".customer-group-contact-select-btn-checkbox-click-wrapper").toggleClass("selected-row");var a=$(this).find(".customer-group-contact-select-btn").attr("data-id"),o=$(this).find(".customer-group-contact-select-btn").attr("data-type"),s=$(this).find(".accordion-content").attr("id");if($("#modal-customer-group-contact-list-selection").length>0){if($(t).hasClass("selected-row")){var r=digibiz.customerSelectedContactList.find((e=>e.id==a&&e.type==o));null==r&&digibiz.customerSelectedContactList.push({id:a,type:o,contact_item_id:s,selected:!0})}else digibiz.customerSelectedContactList=digibiz.customerSelectedContactList.filter((e=>e.id!=a));removeLoader()}else removeLoader()})),$(document).on("click",".customer-group-custom-group-select-btn-checkbox-click-wrapper",(function(e){e.stopImmediatePropagation();var t=$(this);let i=$(t).find("input:checkbox");$(e.target).is("input:checkbox")||i.prop("checked",!i.prop("checked")).parents(".customer-group-custom-group-select-btn-checkbox-click-wrapper").toggleClass("selected-row");var a=$(this).attr("data-id");if($("#modal-customer-group-groups-list-selection").length>0){var o=digibiz.customerGroupCustomGroupsList.findIndex((e=>e.id==a));-1!=o&&($(t).hasClass("selected-row")?digibiz.customerGroupCustomGroupsList[o].selected=!0:digibiz.customerGroupCustomGroupsList[o].selected=!1),removeLoader()}else removeLoader()})),$(document).on("click",".department-list-data-wrapper",(function(e){e.stopImmediatePropagation();var t=$(this);let i=$(t).find("input:checkbox");$(e.target).is("input:checkbox")||i.prop("checked",!i.prop("checked")).parents(".department-list-data-wrapper").toggleClass("selected-row")})),$(document).on("click",".customer-contact-access-employee-selected-checkbox-click-wrapper",(function(e){e.stopImmediatePropagation();var t=$(this);let i=$(t).find("input:checkbox");$(e.target).is("input:checkbox")||i.prop("checked",!i.prop("checked")).parents(".customer-contact-access-employee-selected-checkbox-click-wrapper").toggleClass("selected-row")})),$(document).on("click",".communication-group-customer-contact-select-btn-checkbox-click-wrapper",(function(e){e.stopImmediatePropagation();var t=$(this);let i=$(t).find("input:checkbox");$(e.target).is("input:checkbox")||i.prop("checked",!i.prop("checked")).parents(".communication-group-customer-contact-select-btn-checkbox-click-wrapper").toggleClass("selected-row");var a=$(this).find(".communication-group-customer-contact-select-btn").attr("data-id"),o=$(this).find(".communication-group-customer-contact-select-btn").attr("data-type"),s=$(this).parents(".accordion-contenttt").attr("id");if($("#modal-communication-group-customer-contact-list-selection").length>0){if($(t).hasClass("selected-row")){var r=digibiz.communicationSelectedContactList.find((e=>e.id==a&&e.type==o));null==r&&digibiz.communicationSelectedContactList.push({id:a,type:o,contact_item_id:s,selected:!0})}else digibiz.communicationSelectedContactList=digibiz.communicationSelectedContactList.filter((e=>e.id!=a));removeLoader()}else removeLoader()})),$(document).on("click",".collaborator-contact-selection-list-container",(function(e){e.stopImmediatePropagation();var t=$(this);let i=$(t).find("input:checkbox");$(e.target).is("input:checkbox")||i.prop("checked",!i.prop("checked")).parents(".collaborator-contact-selection-list-container").toggleClass("selected-row")})),$(document).on("click",".employee-contact-access-employee-wise-wrapper",(function(e){e.stopImmediatePropagation();var t=$(this);$(this).attr("data-type");let i=$(t).find("input:checkbox");$("#employee-access-show-modal").length>0?$(e.target).is("input:checkbox")&&i.prop("checked",i.prop("checked")).parents(".employee-contact-access-employee-wise-wrapper").removeClass("selected-row"):$(e.target).is("input:checkbox")||i.prop("checked",!i.prop("checked")).parents(".employee-contact-access-employee-wise-wrapper").toggleClass("selected-row")})),$(document).on("click",".employee-show-access-btn-wrapper",(function(e){e.stopImmediatePropagation();var t=$(this),i=$(this).attr("data-id");let a=$(t).find("input:checkbox");if($(e.target).is("input:checkbox"))console.log("09876tr");else{console.log("123456");var o=digibiz.show_employee_access_list.findIndex((e=>e.id==i));-1!=o&&(digibiz.show_employee_access_list[o].revoked?digibiz.show_employee_access_list[o].revoked=!1:digibiz.show_employee_access_list[o].revoked=!0),a.prop("checked",!a.prop("checked")).parents(".employee-show-access-btn-wrapper").toggleClass("selected-row")}})),$(document).on("click","#employee-access-remove-confirm-btn",(function(e){e.stopImmediatePropagation(),$.each(digibiz.show_employee_access_list,(function(e,t){if(t.revoked){var i={device_id:crossplat.device.uuid,id:t.id};"contact"==t.access_data_type?revokeAccess(i).then((e=>{removeLoader(),$("#modal-close-btn").click()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")})):groupRevokeAccess(i).then((e=>{removeLoader(),$("#modal-close-btn").click()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))}else $("#modal-close-btn").click()}))})),$(document).on("click",".customer-show-access-btn-wrapper",(function(e){e.stopImmediatePropagation();var t=$(this),i=$(this).attr("data-id");let a=$(t).find("input:checkbox");if($(e.target).is("input:checkbox"))console.log("09876tr");else{console.log("123456");var o=digibiz.show_customer_access_list.findIndex((e=>e.id==i));-1!=o&&(digibiz.show_customer_access_list[o].revoked?digibiz.show_customer_access_list[o].revoked=!1:digibiz.show_customer_access_list[o].revoked=!0),a.prop("checked",!a.prop("checked")).parents(".customer-show-access-btn-wrapper").toggleClass("selected-row")}})),$(document).on("click","#customer-access-remove-confirm-btn",(function(e){e.stopImmediatePropagation(),$.each(digibiz.show_customer_access_list,(function(e,t){if(t.revoked){var i={device_id:crossplat.device.uuid,id:t.id};"contact"==t.access_data_type?revokeAccess(i).then((e=>{removeLoader(),$("#modal-close-btn").click()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")})):groupRevokeAccess(i).then((e=>{removeLoader(),$("#modal-close-btn").click()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))}else $("#modal-close-btn").click()}))})),$(document).on("click",".employee-contact-access-department-list-data",(function(e){e.stopImmediatePropagation();var t=$(this);$(this).attr("data-id");let i=$(t).find("input:checkbox");$(e.target).is("input:checkbox")||i.prop("checked",!i.prop("checked")).parents(".employee-contact-access-department-list-data").toggleClass("selected-row")})),$(document).on("click",".employee-contact-access-custom-group-list-data",(function(e){e.stopImmediatePropagation();var t=$(this);$(this).attr("data-id");let i=$(t).find("input:checkbox");$(e.target).is("input:checkbox")||i.prop("checked",!i.prop("checked")).parents(".employee-contact-access-custom-group-list-data").toggleClass("selected-row")})),$(document).on("click",".identifier-items-list-data",(function(e){e.stopImmediatePropagation();var t=$(this);$(this).attr("data-id");let i=$(t).find("input:checkbox");$(e.target).is("input:checkbox")||i.prop("checked",!i.prop("checked")).parents(".identifier-items-list-data").toggleClass("selected-row")})),$(document).on("click","#super_admin_add_button",(function(){addLoader();var e=[],t=[];notificationList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"pending_super_admins"}).then((i=>{var a=$(".active-super-admin-list-contentbox").find(".employee-wrapper").length+i.length;($.each($(".active-super-admin-list-contentbox").find(".employee-wrapper"),(function(t,i){e.push($(i).attr("data-account-id"))})),$.each(i,(function(t,i){e.push(i.contact.user_id)})),a<3)?employeeList({device_id:crossplat.device.uuid,list_by:"list_only_active",business_id:sessionStorage.getItem("business_id"),count:20,offset:0}).then((i=>{console.log("employee list",i),$.each(i,(function(a,o){if(null==e.find((e=>e==o.account_id))&&t.push(o),a+1==i.length){var s={EmployeeList:t.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.hasOwnProperty("display_name")&&e.display_name?e.imageLetter=e.display_name.charAt(0):e.imageLetter=e.name.first.charAt(0)}else e.hasOwnProperty("display_name")&&e.display_name?e.imageLetter=e.display_name.charAt(0):e.imageLetter=e.name.first.charAt(0);else e.hasOwnProperty("display_name")&&e.display_name?e.imageLetter=e.display_name.charAt(0):e.imageLetter=e.name.first.charAt(0);return e}))};fetch.getHtml((function(e,i){showModal({modal_id:"modal-super-admin-add-employee-selection",modal_header:"Employee List",modal_platform:crossplat.device.platform,modal_body:i,modal_action_buttons:[{name:"Add",id:"add-selected-employees-super-admin"}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),setTimeout((function(){$(".employee-selection-member-list").prepend('<div class="search">\n                                                        <div class="expand-search-wrap search-wrapper" id="employee-list-selection-search-btn">\n                                                            <span class="searchbtn waves-effect cursor-pointer"><i class="material-icons">search</i></span>\n                                                            <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                                                            <span class="searchclosebtn"><i class="material-icons employee-list-selection-close-btn hide">close</i></span>\n                                                        </div>\n                                                    </div>'),removeLoader();var e=$("#employee-list-selection-search-btn").find(".expand-search-input");e&&($(document).on("input",e,(function(){timestamp=(new Date).getTime(),e.attr("socketid",timestamp)})),$(document).on("keyup",e,(function(){if(socketid=e.attr("socketid"),keyword=e.val(),socketid&&keyword){if(document.getElementsByClassName("searchclosebtn")[0].style.display="flex",currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:socketid,app:"digibiz",keyword:keyword},"super_admin_management_hub"===currentroute)$("#modal-super-admin-add-employee-selection").length>0&&(data.index="getEmployeeContactListAllEmployees",data.business_id=sessionStorage.getItem("business_id"));addLoader(),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300)}else if(removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),e.attr("socketid",""),"super_admin_management_hub"===currentroute)$("#modal-super-admin-add-employee-selection").length>0&&processSearchedEmployeeSelectionList(t,(function(){}))})),$(document).on("click",".searchclosebtn",(function(){$("#modal-super-admin-add-employee-selection").length>0&&processSearchedEmployeeSelectionList(t,(function(){}))})))}),100)}))}),"page/common/employee_list_selection","#employee-selection-list-template",s)}}))})).catch((e=>{console.log("1122",e),removeLoader(),Materialize.toast("No Employees found.",3e3,"round success-alert")})):(removeLoader(),Materialize.toast("Maximum super admins reached.",3e3,"round success-alert"))})).catch((i=>{var a=$(".active-super-admin-list-contentbox").find(".employee-wrapper").length;($.each($(".active-super-admin-list-contentbox").find(".employee-wrapper"),(function(t,i){e.push($(i).attr("data-account-id"))})),a<3)?employeeList({device_id:crossplat.device.uuid,list_by:"list_only_active",business_id:sessionStorage.getItem("business_id"),count:20,offset:0}).then((i=>{console.log("emppp",i),$.each(i,(function(a,o){if(null==e.find((e=>e==o.account_id))&&t.push(o),a+1==i.length){var s={EmployeeList:t.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.hasOwnProperty("display_name")&&e.display_name?e.imageLetter=e.display_name.charAt(0):e.imageLetter=e.name.first.charAt(0)}else e.hasOwnProperty("display_name")&&e.display_name?e.imageLetter=e.display_name.charAt(0):e.imageLetter=e.name.first.charAt(0);else e.hasOwnProperty("display_name")&&e.display_name?e.imageLetter=e.display_name.charAt(0):e.imageLetter=e.name.first.charAt(0);return e}))};fetch.getHtml((function(e,i){showModal({modal_id:"modal-super-admin-add-employee-selection",modal_header:"Employee List",modal_platform:crossplat.device.platform,modal_body:i,modal_action_buttons:[{name:"Add",id:"add-selected-employees-super-admin"}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),setTimeout((function(){$(".employee-selection-member-list").prepend('<div class="search">\n                                                        <div class="expand-search-wrap search-wrapper" id="employee-list-selection-search-btn">\n                                                            <span class="searchbtn waves-effect cursor-pointer"><i class="material-icons">search</i></span>    \n                                                            <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                                                            <span class="searchclosebtn"><i class="material-icons employee-list-selection-close-btn hide">close</i></span>\n                                                        </div>\n                                                    </div>'),removeLoader();var e=$("#employee-list-selection-search-btn").find(".expand-search-input");e&&($(document).on("input",e,(function(){timestamp=(new Date).getTime(),e.attr("socketid",timestamp)})),$(document).on("keyup",e,(function(){if(socketid=e.attr("socketid"),keyword=e.val(),socketid&&keyword){if(document.getElementsByClassName("searchclosebtn")[0].style.display="flex",currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:socketid,app:"digibiz",keyword:keyword},"super_admin_management_hub"===currentroute)$("#modal-super-admin-add-employee-selection").length>0&&(data.index="getEmployeeContactListAllEmployees",data.business_id=sessionStorage.getItem("business_id"));addLoader(),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300)}else if(removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),e.attr("socketid",""),"super_admin_management_hub"===currentroute)$("#modal-super-admin-add-employee-selection").length>0&&processSearchedEmployeeSelectionList(t,(function(){}))})),$(document).on("click",".searchclosebtn",(function(){$("#modal-super-admin-add-employee-selection").length>0&&processSearchedEmployeeSelectionList(t,(function(){}))})))}),100)}))}),"page/common/employee_list_selection","#employee-selection-list-template",s)}}))})).catch((e=>{console.log("45678",e),removeLoader(),Materialize.toast("No Employees found.",3e3,"round success-alert")})):(removeLoader(),Materialize.toast("Maximum super admins reached.",3e3,"round success-alert"))}))})),$(document).on("click","#add-selected-employees-super-admin",(function(){addLoader();var e="employee_list",t=$(".employee-select-btn-wrapper.selected-row").find(".employee-select-btn").attr("data-account-id");$(".employee-select-btn-wrapper.selected-row").length>0?notificationAdd({device_id:crossplat.device.uuid,data_type:e,add_type:"add",type:"super_admin",business_id:sessionStorage.getItem("business_id"),id:t}).then((e=>{Materialize.toast("Successfully sent notification",3e3,"round success-alert"),$("#modal-super-admin-add-employee-selection").remove(),removeLoader()})).catch((e=>{Materialize.toast(e.msg,3e3,"round success-alert"),removeLoader()})):(removeLoader(),Materialize.toast("Please select a employee.",3e3,"round success-alert"))})),$(document).on("click","#employee-business-list-more-icon",(function(e){if(e.stopPropagation(),!isDoubleClicked($(this))){var t=$(this).parents(".employee-business-wrapper").attr("data-business-id"),i=$(this).parents(".employee-business-wrapper").attr("data-employee-id");showAction({action_id:"employee_business_list_more_icon_action",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"Business Profile",attr:[{name:"class",value:"business_profile_slider_btn"}]},{name:"Employee Profile",attr:[{name:"class",value:"employee_profile_slider_btn"}]}]},(function(){$("#employee_business_list_more_icon_action").attr("data-business-id",t),$("#employee_business_list_more_icon_action").attr("data-employee-id",i),$("#employee_business_list_more_icon_action").length>1&&$("#employee_business_list_more_icon_action:last").remove(),$(".action-sheet-container").removeClass("hide").addClass("slide-top")}))}})),$(document).on("click","#customer-business-list-more-icon",(function(e){if(e.stopPropagation(),!isDoubleClicked($(this))){var t=$(this).parents(".employee-business-wrapper").attr("data-business-id"),i=$(this).parents(".employee-business-wrapper").attr("data-customer-type"),a=$(this).parents(".employee-business-wrapper").attr("data-customer-id");showAction({action_id:"employee_business_list_more_icon_action",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"Business Profile",attr:[{name:"class",value:"business_profile_slider_btn"}]},{name:"Customer Profile",attr:[{name:"class",value:"customer_profile_slider_btn"}]},{name:"Exit",attr:[{name:"id",value:"customer-exit-icon"}]}]},(function(){$(".action-sheet-container").removeClass("hide").addClass("slide-top"),$("#employee_business_list_more_icon_action").attr("data-id",a),$("#employee_business_list_more_icon_action").attr("data-type",i),$("#employee_business_list_more_icon_action").attr("data-business-id",t)}))}})),$(document).on("click","#hub_settings_btn",(function(){location.hash="prospect/settings"})),$(document).on("click",".jeevi-account-active-inactive-settings",(function(){addLoader();var e=sessionStorage.getItem("account_id");getJeeviAccount({device_id:crossplat.device.uuid,get_by:"account_id",account_id:e}).then((t=>{if(t.account_id==e){sessionStorage.setItem("jeevi_status",t.status.status);var i={jeevi_account_status:t.status.status,account_settings:t.settings};fetch.getHtml((function(e,t){showModal({modal_id:"jeevi-account-inactive-active-settings",modal_header:"Active/Inactive",modal_platform:crossplat.device.platform,modal_body:t,modal_action_buttons:[{name:"Save",id:"add-jeevi-account-inactive-data"}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),"inactive"!=i.jeevi_account_status&&"inactive_pending"!=i.jeevi_account_status||$(".account-inactive-start-end-date-time").removeClass("hide"),settingCalenderInit("#start-date"),settingCalenderInit("#end-date"),timepickInit("#start-time"),timepickInit("#end-time"),removeLoader()}))}),"page/common/active_inactive_jeevi_account","#active_inactive_jeevi_account-template",i)}})).catch((e=>{removeLoader()}))})),$(document).on("click","#checkbox-toggle-inactivate-jeevi-account",(function(e){1==$("#checkbox-toggle-inactivate-jeevi-account").is(":checked")?showAction({action_id:"inactivate-jeevi-account-at",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"Inactivate Now",attr:[{name:"id",value:"jeevi_account_inactivate_now"}]},{name:"Inactivate Schedule",attr:[{name:"id",value:"jeevi_account_inactivate_schedule"}]}]},(function(){$(".action-sheet-container").removeClass("hide").addClass("slide-top"),$("#inactivate-jeevi-account-at").find(".action-sheet-cancel-btn").addClass("hide")})):($("#jeevi-account-inactive-active-settings").removeAttr("account_inactivate_at"),$("#inactivate-jeevi-account-at").remove(),$(".account-inactive-start-date-time").addClass("hide"),$(".account-inactive-end-date-time").addClass("hide"),$(".account-inactive-start-end-date-time").addClass("hide"))})),$(document).on("click","#jeevi_account_inactivate_now",(function(e){$("#jeevi-account-inactive-active-settings").attr("account_inactivate_at","now"),1==$("#checkbox-toggle-inactivate-jeevi-account").is(":checked")?($("#inactivate-jeevi-account-at").remove(),$(".account-inactive-start-end-date-time").removeClass("hide"),$(".account-inactive-start-date-time").addClass("hide"),$(".account-inactive-end-date-time").removeClass("hide"),$("#start-date").val(""),$("#start-time").val(""),$("#end-date").val(""),$("#end-time").val(""),removeError($("#start-date")),removeError($("#start-time")),removeError($("#end-date")),removeError($("#end-time"))):($("#inactivate-jeevi-account-at").remove(),$(".account-inactive-start-end-date-time").addClass("hide"))})),$(document).on("click","#jeevi_account_inactivate_schedule",(function(e){$("#jeevi-account-inactive-active-settings").attr("account_inactivate_at","schedule"),1==$("#checkbox-toggle-inactivate-jeevi-account").is(":checked")?($("#inactivate-jeevi-account-at").remove(),$(".account-inactive-start-end-date-time").removeClass("hide"),$(".account-inactive-start-date-time").removeClass("hide"),$(".account-inactive-end-date-time").removeClass("hide"),$("#start-date").val(""),$("#start-time").val(""),$("#end-date").val(""),$("#end-time").val(""),removeError($("#start-date")),removeError($("#start-time")),removeError($("#end-date")),removeError($("#end-time"))):($("#inactivate-jeevi-account-at").remove(),$(".account-inactive-start-end-date-time").addClass("hide"))})),$(document).on("click","#add-jeevi-account-inactive-data",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this)))if("active"==sessionStorage.getItem("jeevi_status")){if(1==$("#checkbox-toggle-inactivate-jeevi-account").is(":checked")){var t=$("#jeevi-account-inactive-active-settings").attr("account_inactivate_at");if(validateSettingData(t))showAlert({alert_id:"alert-confirm-transactional-password",alert_platform:crossplat.device.platform,alert_title:"Transactional Password",alert_body:'<input type="password" id="transaction_password_field" placeholder="Enter Transactional Password"/>',alert_btn:[{name:"Cancel",attr:[{name:"id",value:"btn-jeevi-account-inactivate-activate-transaction-cancel"}]},{name:"Confirm",attr:[{name:"id",value:"btn-jeevi-account-inactivate-activate-transaction-confirm"}]}]},(function(){$("#alert-confirm-transactional-password").attr("account_inactivate_at",t),$('.custom-modal[id="alert-confirm-transactional-password"]').length>1&&$('.custom-modal[id="alert-confirm-transactional-password"]:last').remove(),removeLoader()}));else removeLoader()}else Materialize.toast("No data to save.",3e3,"round error-alert"),removeLoader()}else if("inactive_pending"==sessionStorage.getItem("jeevi_status")){if(1==$("#checkbox-toggle-activate-jeevi-account").is(":checked"))showAlert({alert_id:"alert-confirm-transactional-password",alert_platform:crossplat.device.platform,alert_title:"Transactional Password",alert_body:'<input type="password" id="transaction_password_field" placeholder="Enter Transactional Password"/>',alert_btn:[{name:"Cancel",attr:[{name:"id",value:"btn-jeevi-account-inactivate-activate-transaction-cancel"}]},{name:"Confirm",attr:[{name:"id",value:"btn-jeevi-account-inactivate-activate-transaction-confirm"}]}]},(function(){$('.custom-modal[id="alert-confirm-transactional-password"]').length>1&&$('.custom-modal[id="alert-confirm-transactional-password"]:last').remove(),removeLoader()}));else Materialize.toast("No data to save.",3e3,"round error-alert"),removeLoader()}else if("inactive"==sessionStorage.getItem("jeevi_status")){showAlert({alert_id:"alert-confirm-transactional-password",alert_platform:crossplat.device.platform,alert_title:"Transactional Password",alert_body:'<input type="password" id="transaction_password_field" placeholder="Enter Transactional Password"/>',alert_btn:[{name:"Cancel",attr:[{name:"id",value:"btn-jeevi-account-inactivate-activate-transaction-cancel"}]},{name:"Confirm",attr:[{name:"id",value:"btn-jeevi-account-inactivate-activate-transaction-confirm"}]}]},(function(){$('.custom-modal[id="alert-confirm-transactional-password"]').length>1&&$('.custom-modal[id="alert-confirm-transactional-password"]:last').remove(),removeLoader()}))}else removeLoader()})),$(document).on("click","#btn-jeevi-account-inactivate-activate-transaction-cancel",(function(){removeLoader(),$("#alert-confirm-transactional-password").remove()})),$(document).on("click","#btn-jeevi-account-inactivate-activate-transaction-confirm",(function(){if(addLoader(),0==$("#transaction_password_field").val().length)showError($("#transaction_password_field"),"Password is required."),removeLoader();else{checkTransactionalPassword({device_id:crossplat.device.uuid,password:$("#transaction_password_field").val(),purpose:"Jeevi Account inactivate"}).then((e=>{if("active"==sessionStorage.getItem("jeevi_status")){var t=$("#alert-confirm-transactional-password").attr("account_inactivate_at"),i=$("#start-date").val(),a=i.split("/")[0],o=i.split("/")[1],s=i.split("/")[2];let e=s+"/"+o+"/"+a,y=a+"/"+o+"/"+s;var r,n=$("#start-time").val();if(n){var d=timeConvertor(n);r=moment(e+" "+d,"YYYY-MM-DDHH:mm:ss").unix()}var c,l,p=$("#end-date").val(),m=p.split("/")[0],u=p.split("/")[1],g=p.split("/")[2],_=g+"/"+u+"/"+m,f=m+"/"+u+"/"+g,h=$("#end-time").val(),b=timeConvertor(h),v=moment(_+" "+b,"YYYY-MM-DDHH:mm:ss").unix();l="now"==t?{status:c="inactive",settings:{inactivate_at:t,end_date:f,end_time:h,end:v}}:{status:c="inactive_pending",settings:{inactivate_at:t,start_date:y,start_time:n,start:r,end_date:f,end_time:h,end:v}},jeeviAccountSettings({device_id:crossplat.device.uuid,id:sessionStorage.getItem("account_id"),data:l}).then((e=>{if(console.log("response",e,c),sessionStorage.removeItem("jeevi_status"),$("#alert-confirm-transactional-password").remove(),$("#jeevi-account-inactive-active-settings").remove(),"now"==t){console.log("fwefwef"),sessionStorage.removeItem("jeevi_id"),sessionStorage.removeItem("jeevi_status");var i=JSON.parse(sessionStorage.getItem("accountDetails"));i.roles.prospect="inactive",window.sessionStorage.setItem("accountDetails",JSON.stringify(i)),console.log("fwefwef"),"jeevi_app_hub_page"==$("body").attr("app")?(Materialize.toast("Successfully Inactivated Jeevi Account.",3e3,"round success-alert"),$(".prospect-app-hub-page-wrapper").remove(),jeeviAppHubPage()):"prospect_settings"==$("body").attr("app")&&(location.hash="jeevi/app/hub",console.log("fwefwef")),Materialize.toast("Successfully Inactivated Jeevi Account.",3e3,"round success-alert")}else Materialize.toast("Successfully Scheduled Jeevi Inactivate.",3e3,"round success-alert");removeLoader()})).catch((e=>{$("#alert-confirm-transactional-password").remove(),$("#jeevi-account-inactive-active-settings").remove(),removeLoader()}))}else if("inactive_pending"==sessionStorage.getItem("jeevi_status")){if(1==$("#checkbox-toggle-activate-jeevi-account").is(":checked"))jeeviAccountSettings({device_id:crossplat.device.uuid,id:sessionStorage.getItem("account_id"),data:{status:"active"}}).then((e=>{if($("#alert-confirm-transactional-password").remove(),$("#jeevi-account-inactive-active-settings").remove(),sessionStorage.removeItem("jeevi_id"),sessionStorage.removeItem("jeevi_status"),"jeevi_app_hub_page"==$("body").attr("app")){fetch.replaceHtml((function(){new Swiper(".hubSwiper",{slidesPerView:1,spaceBetween:0,grabCursor:!0,observer:!0,pagination:{el:".swiper-pagination",clickable:!0}});$(".swiper").removeClass("hubSwiper")}),"page/prospect/app_hub","#prospect-app-hub-page-template","#digibiz-home-page-middle-band-wrapper",{jeevi_role_status:!0})}else $("#jeevi-account-not-present").remove(),$("#jeevi-account-inactive").remove(),$("#jeevi-account-inactive-active-settings").remove(),$("#alert-confirm-transactional-password").remove();Materialize.toast("Successfully Activated Jeevi Account.",3e3,"round success-alert"),removeLoader()})).catch((e=>{removeLoader()}));else $("#alert-confirm-transactional-password").remove(),$("#jeevi-account-inactive-active-settings").remove(),removeLoader()}else if("inactive"==sessionStorage.getItem("jeevi_status")){jeeviAccountSettings({device_id:crossplat.device.uuid,id:sessionStorage.getItem("account_id"),data:{status:"active"}}).then((e=>{$("#alert-confirm-transactional-password").remove(),$("#jeevi-account-inactive-active-settings").remove(),sessionStorage.removeItem("jeevi_id"),sessionStorage.removeItem("jeevi_status");var t=JSON.parse(sessionStorage.getItem("accountDetails"));if(t.roles.prospect="active",window.sessionStorage.setItem("accountDetails",JSON.stringify(t)),console.log("fwefwef"),"jeevi_app_hub_page"==$("body").attr("app")){fetch.replaceHtml((function(){new Swiper(".hubSwiper",{slidesPerView:1,spaceBetween:0,grabCursor:!0,observer:!0,pagination:{el:".swiper-pagination",clickable:!0}});$(".swiper").removeClass("hubSwiper")}),"page/prospect/app_hub","#prospect-app-hub-page-template","#digibiz-home-page-middle-band-wrapper",{jeevi_role_status:!0})}else $("#jeevi-account-not-present").remove(),$("#jeevi-account-inactive").remove(),$("#jeevi-account-inactive-active-settings").remove(),$("#alert-confirm-transactional-password").remove();Materialize.toast("Successfully activated Jeevi Account.",3e3,"round success-alert"),removeLoader()})).catch((e=>{removeLoader()}))}else removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(e.message,3e3,"round error-alert"),e.Data&&"locked"==e.Data&&deviceHelper.logOutApp("core")}))}})),$(document).on("click","#prospect_settings_back_btn",(function(){addLoader(),location.hash="jeevi/app/hub",console.log("fwefwef")})),$(document).on("click",".jeevi-account-delete",(function(){addLoader();var e=sessionStorage.getItem("account_id");showAlert({alert_id:"alert-jeevi-account-delete-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Delete account",alert_body:"Are you sure you want to delete the jeevi account?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-delete-jeevi-account-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-delete-jeevi-account-cancel-no"}]}]},(function(){removeLoader(),$("#alert-jeevi-account-delete-confirm-cancel").attr("data-account-id",e)}))})),$(document).on("click","#btn-delete-jeevi-account-cancel-no",(function(){$("#alert-jeevi-account-delete-confirm-cancel").remove()})),$(document).on("click","#btn-delete-jeevi-account-confirm-yes",(function(){addLoader();var e=$("#alert-jeevi-account-delete-confirm-cancel").attr("data-account-id");checkCanAccountDelete({id:e}).then((t=>{t.employee_role_status>0||t.customer_role_status>0||t.business_admin_role_status>0?($("#alert-jeevi-account-delete-confirm-cancel").remove(),showAlert({alert_id:"alert-confirm-transactional-password",alert_platform:crossplat.device.platform,alert_title:"Transactional Password",alert_body:'<input type="password" id="transaction_password_field" placeholder="Enter Transactional Password"/>',alert_btn:[{name:"Cancel",attr:[{name:"id",value:"btn-jeevi-account-delete-transaction-cancel"}]},{name:"Confirm",attr:[{name:"id",value:"btn-jeevi-account-delete-transaction-confirm"}]}]},(function(){$("#alert-confirm-transactional-password").attr("data-account-id",e),removeLoader()}))):showAlert({alert_id:"alert-no-role-active-delete-digibiz-account",alert_platform:crossplat.device.platform,alert_title:"Delete Digibiz Account",alert_body:"Since no other role is active, digibiz account will be deleted. Are you sure you want to delete digibiz account?",alert_btn:[{name:"Cancel",attr:[{name:"id",value:"btn-automatic-digibiz-account-delete-cancel"}]},{name:"Confirm",attr:[{name:"id",value:"btn-automatic-digibiz-account-delete-confirm"}]}]},(function(){$("#alert-jeevi-account-delete-confirm-cancel").remove(),$("#alert-no-role-active-delete-digibiz-account").attr("data-account-id",e),removeLoader()}))})).catch((e=>{removeLoader()}))})),$(document).on("click","#btn-jeevi-account-delete-transaction-cancel",(function(){$("#alert-confirm-transactional-password").remove()})),$(document).on("click","#btn-jeevi-account-delete-transaction-confirm",(function(){var e=$("#alert-confirm-transactional-password").attr("data-account-id");$("#alert-confirm-transactional-password").remove(),jeeviAccountDelete({device_id:crossplat.device.uuid,id:e}).then((e=>{var t=JSON.parse(sessionStorage.getItem("accountDetails"));t.roles.prospect="pending",window.sessionStorage.setItem("accountDetails",JSON.stringify(t)),removeLoader(),Materialize.toast("Successfully deleted jeevi account.",3e3,"round success-alert"),location.hash="jeevi/app/hub",console.log("fwefwef")})).catch((e=>{removeLoader(),Materialize.toast("Error in account delete.",3e3,"round success-alert")}))})),$(document).on("click","#btn-automatic-digibiz-account-delete-cancel",(function(e){$("#alert-no-role-active-delete-digibiz-account").remove()})),$(document).on("click","#btn-automatic-digibiz-account-delete-confirm",(function(e){var t=$("#alert-no-role-active-delete-digibiz-account").attr("data-account-id");$("#alert-no-role-active-delete-digibiz-account").remove(),showAlert({alert_id:"alert-confirm-transactional-password",alert_platform:crossplat.device.platform,alert_title:"Transactional Password",alert_body:'<input type="password" id="transaction_password_field" placeholder="Enter Transactional Password"/>',alert_btn:[{name:"Cancel",attr:[{name:"id",value:"btn-digibiz-account-delete-transaction-cancel"}]},{name:"Confirm",attr:[{name:"id",value:"btn-digibiz-account-delete-transaction-confirm"}]}]},(function(){$("#alert-confirm-transactional-password").attr("data-account-id",t),removeLoader()}))})),$(document).on("click","#digibiz_admin_add_button",(function(){addLoader(),employeeList({device_id:crossplat.device.uuid,list_by:"list_only_active",business_id:sessionStorage.getItem("business_id"),count:20,offset:0}).then((e=>{var t={EmployeeList:e.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.hasOwnProperty("display_name")&&e.display_name?e.imageLetter=e.display_name.charAt(0):e.imageLetter=e.name.first.charAt(0)}else e.hasOwnProperty("display_name")&&e.display_name?e.imageLetter=e.display_name.charAt(0):e.imageLetter=e.name.first.charAt(0);else e.hasOwnProperty("display_name")&&e.display_name?e.imageLetter=e.display_name.charAt(0):e.imageLetter=e.name.first.charAt(0);return e}))};fetch.getHtml((function(t,i){showModal({modal_id:"modal-digibiz-admin-add-employee-selection",modal_header:"Employee List",modal_platform:crossplat.device.platform,modal_body:i,modal_action_buttons:[{name:"Add",id:"add-selected-employees-digibiz-admin"}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),setTimeout((function(){$(".employee-selection-member-list").prepend('<div class="search">\n                                    <div class="expand-search-wrap search-wrapper" id="employee-list-selection-search-btn">\n                                        <span class="searchbtn waves-effect cursor-pointer"><i class="material-icons">search</i></span>\n                                        <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                                        <span class="searchclosebtn"><i class="material-icons employee-list-selection-close-btn hide">close</i></span>\n                                    </div>\n                                </div>'),removeLoader();var t=$("#employee-list-selection-search-btn").find(".expand-search-input");t&&($(document).on("input",t,(function(){timestamp=(new Date).getTime(),t.attr("socketid",timestamp)})),$(document).on("keyup",t,(function(){if(socketid=t.attr("socketid"),keyword=t.val(),socketid&&keyword)document.getElementsByClassName("searchclosebtn")[0].style.display="flex",currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:socketid,app:"digibiz",keyword:keyword,index:"getEmployeeContactListAllEmployees",business_id:sessionStorage.getItem("business_id")},addLoader(),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300);else if(removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),t.attr("socketid",""),"business_settings"===currentroute)$("#modal-digibiz-admin-add-employee-selection").length>0&&processSearchedEmployeeSelectionList(e,(function(){}))})),$(document).on("click",".searchclosebtn",(function(){$("#modal-digibiz-admin-add-employee-selection").length>0&&processSearchedEmployeeSelectionList(e,(function(){}))})))}),100)}))}),"page/common/employee_list_selection","#employee-selection-list-template",t)})).catch((e=>{removeLoader(),Materialize.toast("No Employees found.",3e3,"round success-alert")}))})),$(document).on("click","#add-selected-employees-digibiz-admin",(function(){if(addLoader(),$(".employee-select-btn-wrapper.selected-row").length>0){var e=$(".employee-select-btn-wrapper.selected-row").find(".employee-select-btn").attr("data-dj-unique-employee-id");businessOwnerAdd({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"digibiz_admin",employee_id:e}).then((e=>{$("#modal-digibiz-admin-add-employee-selection").remove(),Materialize.toast("Successfully added",3e3,"round success-alert"),businessDigibizAdminsTab(),removeLoader()})).catch((t=>{if(removeLoader(),"Cannot add! This employee is present as module_admin."==t.msg)showAlert({alert_id:"alert-digibiz-module-admin-role-present-yes-no",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"This employee is present as module admin. Module admin access of this employee will removed if this employee is made digibiz admin. Are you sure you want to make him as digibiz-admin?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-alert-lert-digibiz-module-admin-role-present-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-lert-digibiz-module-admin-role-present-confirm-no"}]}]},(function(){$("#alert-digibiz-module-admin-role-present-yes-no").attr("data-employee-id",e),removeLoader()}));else if("This employee is already a digibiz_admin"==t.msg){showAlert({alert_id:"alert-already-digibiz-admin",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"This employee is already a digibiz admin.",alert_btn:[{name:"OK",attr:[{name:"id",value:"btn-alert-already-digibiz-admin"}]}]},(function(){removeLoader()}))}else if("Maximum digibiz admins reached"==t.msg){showAlert({alert_id:"alert-maximum-digibiz-admin",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Cannot add! Maximum digibiz admins reached.",alert_btn:[{name:"OK",attr:[{name:"id",value:"btn-alert-maximum-digibiz-admin"}]}]},(function(){removeLoader()}))}else if("Cannot add! This employee is present as super admin."==t.msg){showAlert({alert_id:"alert-already-super-admin-admin",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Cannot add! Maximum digibiz admins reached.",alert_btn:[{name:"OK",attr:[{name:"id",value:"btn-alert-already-super-admin-admin"}]}]},(function(){removeLoader()}))}else Materialize.toast(t.msg,3e3,"round error-alert")}))}else removeLoader(),Materialize.toast("Please select a employee.",3e3,"round success-alert")})),$(document).on("click","#btn-alert-already-digibiz-admin",(function(){$("#alert-already-digibiz-admin").remove()})),$(document).on("click","#btn-alert-maximum-digibiz-admin",(function(){$("#alert-maximum-digibiz-admin").remove()})),$(document).on("click","#btn-alert-already-super-admin-admin",(function(){$("#alert-already-super-admin-admin").remove()})),$(document).on("click","#btn-alert-present-as-digibiz-admin",(function(){$("#alert-present-as-digibiz-admin").remove()})),$(document).on("click","#btn-alert-already-module-admin",(function(){$("#alert-already-module-admin").remove()})),$(document).on("click","#btn-alert-maximum-module-admin",(function(){$("#alert-maximum-module-admin").remove()})),$(document).on("click","#module_admin_add_button",(function(){addLoader(),employeeList({device_id:crossplat.device.uuid,list_by:"list_only_active",business_id:sessionStorage.getItem("business_id"),count:20,offset:0}).then((e=>{var t={EmployeeList:e.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.hasOwnProperty("display_name")&&e.display_name?e.imageLetter=e.display_name.charAt(0):e.imageLetter=e.name.first.charAt(0)}else e.hasOwnProperty("display_name")&&e.display_name?e.imageLetter=e.display_name.charAt(0):e.imageLetter=e.name.first.charAt(0);else e.hasOwnProperty("display_name")&&e.display_name?e.imageLetter=e.display_name.charAt(0):e.imageLetter=e.name.first.charAt(0);return e}))};fetch.getHtml((function(t,i){showModal({modal_id:"modal-module-admin-add-employee-selection",modal_header:"Employee List",modal_platform:crossplat.device.platform,modal_body:i,modal_action_buttons:[{name:"Add",id:"add-selected-employees-module-admin"}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),setTimeout((function(){$(".employee-selection-member-list").prepend('<div class="search">\n                                    <div class="expand-search-wrap search-wrapper" id="employee-list-selection-search-btn">\n                                        <span class="searchbtn waves-effect cursor-pointer"><i class="material-icons">search</i></span>\n                                        <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                                        <span class="searchclosebtn"><i class="material-icons employee-list-selection-close-btn hide">close</i></span>\n                                    </div>\n                                </div>'),removeLoader();var t=$("#employee-list-selection-search-btn").find(".expand-search-input");t&&($(document).on("input",t,(function(){timestamp=(new Date).getTime(),t.attr("socketid",timestamp)})),$(document).on("keyup",t,(function(){if(socketid=t.attr("socketid"),keyword=t.val(),socketid&&keyword)document.getElementsByClassName("searchclosebtn")[0].style.display="flex",currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:socketid,app:"digibiz",keyword:keyword,index:"getEmployeeContactListAllEmployees",business_id:sessionStorage.getItem("business_id")},addLoader(),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300);else if(removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),t.attr("socketid",""),"module_admin_list"===currentroute)$("#modal-module-admin-add-employee-selection").length>0&&processSearchedEmployeeSelectionList(e,(function(){}))})),$(document).on("click",".searchclosebtn",(function(){$("#modal-module-admin-add-employee-selection").length>0&&processSearchedEmployeeSelectionList(e,(function(){}))})))}),100)}))}),"page/common/employee_list_selection","#employee-selection-list-template",t)})).catch((e=>{removeLoader(),Materialize.toast("No Employees found.",3e3,"round success-alert")}))})),$(document).on("click","#add-selected-employees-module-admin",(function(){if(addLoader(),$(".employee-select-btn-wrapper.selected-row").length>0&&1==$(".employee-select-btn-wrapper.selected-row").length){var e=$(".employee-select-btn-wrapper.selected-row").find(".employee-select-btn").attr("data-dj-unique-employee-id"),t=[{name:sessionStorage.getItem("module_type")}];businessOwnerAdd({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"module_admin",employee_id:e,modules:t,performer_id:sessionStorage.getItem("user_id"),performer_type:"individual"}).then((e=>{$("#modal-module-admin-add-employee-selection").remove(),Materialize.toast("Successfully added",3e3,"round success-alert"),moduleAdminListPage(),removeLoader()})).catch((e=>{if(removeLoader(),"Cannot add! This employee is a digibiz admin."==e.msg)showAlert({alert_id:"alert-present-as-digibiz-admin",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"This employee is a digibiz admin.",alert_btn:[{name:"OK",attr:[{name:"id",value:"btn-alert-present-as-digibiz-admin"}]}]},(function(){removeLoader()}));else if(e.msg==`This employee is already a module admin for ${sessionStorage.getItem("module_type")}`){showAlert({alert_id:"alert-already-module-admin",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:`This employee is already a module admin for ${sessionStorage.getItem("module_type")}.`,alert_btn:[{name:"OK",attr:[{name:"id",value:"btn-alert-already-module-admin"}]}]},(function(){removeLoader()}))}else if(e.msg==`Maximum module admins reached for ${sessionStorage.getItem("module_type")}`){showAlert({alert_id:"alert-maximum-module-admin",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:`Cannot add! Maximum module admins reached for ${sessionStorage.getItem("module_type")}.`,alert_btn:[{name:"OK",attr:[{name:"id",value:"btn-alert-maximum-module-admin"}]}]},(function(){removeLoader()}))}else if("Cannot add! This employee is present as super admin."==e.msg){showAlert({alert_id:"alert-already-super-admin-admin",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Cannot add! Maximum digibiz admins reached.",alert_btn:[{name:"OK",attr:[{name:"id",value:"btn-alert-already-super-admin-admin"}]}]},(function(){removeLoader()}))}else Materialize.toast(e.msg,3e3,"round error-alert")}))}else removeLoader(),$(".employee-select-btn-wrapper.selected-row").length>1?Materialize.toast("Can select only 1 employee.",3e3,"round success-alert"):Materialize.toast("Please select a employee.",3e3,"round success-alert")})),$(document).on("click",".business-profile-display-control-content",(function(e){e.stopImmediatePropagation();var t=$(this);if($(t).hasClass("disabled"));else{let i=$(t).find("input:checkbox");$(e.target).is("input:checkbox")||i.prop("checked",!i.prop("checked")).parents(".business-profile-display-control-content").toggleClass("selected-row")}})),$(document).on("click","#business-profile-display-control-save",(function(){addLoader(),addDisplayControl({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),name:$(".business-name").parents(".business-profile-display-control-content").hasClass("selected-row"),tag_line:$(".tag-line").parents(".business-profile-display-control-content").hasClass("selected-row"),status_line:$(".status-line").parents(".business-profile-display-control-content").hasClass("selected-row"),display_name:$(".display-name").parents(".business-profile-display-control-content").hasClass("selected-row"),display_picture:$(".business-display-picture").parents(".business-profile-display-control-content").hasClass("selected-row"),display_video:$(".business-display-video").parents(".business-profile-display-control-content").hasClass("selected-row"),contact_name:$(".contact-name").parents(".business-profile-display-control-content").hasClass("selected-row"),contact_number:$(".contact-number").parents(".business-profile-display-control-content").hasClass("selected-row"),alternate_contact_number:$(".alternate-contact-number").parents(".business-profile-display-control-content").hasClass("selected-row"),e_mail:$(".e-mail").parents(".business-profile-display-control-content").hasClass("selected-row"),alternate_e_mail:$(".alternate-e-mail").parents(".business-profile-display-control-content").hasClass("selected-row"),address:$(".business-address").parents(".business-profile-display-control-content").hasClass("selected-row"),date_of_commencement:$(".date-of-commencement").parents(".business-profile-display-control-content").hasClass("selected-row"),date_of_incorporation:$(".date-of-incorporation").parents(".business-profile-display-control-content").hasClass("selected-row"),business_type_id:$(".business-type").parents(".business-profile-display-control-content").hasClass("selected-row"),id_proofs:$(".id-proof").parents(".business-profile-display-control-content").hasClass("selected-row"),pan_card_details:$(".pan-card").parents(".business-profile-display-control-content").hasClass("selected-row"),shop_established_license:$(".shop-established-licence").parents(".business-profile-display-control-content").hasClass("selected-row"),partnership_deed:$(".partnership-deed").parents(".business-profile-display-control-content").hasClass("selected-row"),partnership_registration_certificate:$(".partnership-registration-certificate").parents(".business-profile-display-control-content").hasClass("selected-row"),llp_registration_certificate:$(".limited-liability-partnership").parents(".business-profile-display-control-content").hasClass("selected-row"),transaction_person:$(".board-resolution-authorize").parents(".business-profile-display-control-content").hasClass("selected-row"),memorandum_of_association:$(".memorandum-of-association").parents(".business-profile-display-control-content").hasClass("selected-row"),article_of_association:$(".articles-of-association").parents(".business-profile-display-control-content").hasClass("selected-row"),gst_details:$(".gst").parents(".business-profile-display-control-content").hasClass("selected-row"),trust_foundation_established_licence:$(".trust-establishment-license").parents(".business-profile-display-control-content").hasClass("selected-row")}).then((e=>{Materialize.toast("Successfully updated.",3e3,"round success-alert"),location.hash="business/profile/management"})).catch((e=>{removeLoader()}))})),$(document).on("click",".dj_hub_btn",(function(){sessionStorage.clear(),$("#alert-navigate-dj-hub").remove(),setTimeout((function(){deviceHelper.navigateToAccounts("core")}),1e3)})),$(document).on("click","#alert-navigate-dj-hub-no",(function(){$("#alert-navigate-dj-hub").remove()})),$(document).on("click","#alert-navigate-dj-hub-yes",(function(){sessionStorage.clear(),$("#alert-navigate-dj-hub").remove(),setTimeout((function(){deviceHelper.navigateToAccounts("core")}),1e3)})),$(document).on("click",".jeevi_hub_btn",(function(){var e=sessionStorage.getItem("user_id"),t=sessionStorage.getItem("uuid"),i=sessionStorage.getItem("socketID"),a=sessionStorage.getItem("account_id"),o=sessionStorage.getItem("accountDetails"),s=sessionStorage.getItem("storage_token"),r=sessionStorage.getItem("profile_details"),n=sessionStorage.getItem("digibiz_role"),d=sessionStorage.getItem("get_role_btn");sessionStorage.clear(),sessionStorage.setItem("user_id",e),sessionStorage.setItem("uuid",t),sessionStorage.setItem("socketID",i),sessionStorage.setItem("account_id",a),sessionStorage.setItem("accountDetails",o),sessionStorage.setItem("storage_token",s),sessionStorage.setItem("profile_details",r),sessionStorage.setItem("digibiz_role",n),sessionStorage.setItem("get_role_btn",d),location.hash="jeevi/app/hub",console.log("fwefwef")})),$(document).on("click",".bizadmin-business-list-page",(function(){$("body").click(),location.hash="business_owner/business/list"})),$(document).on("click","#alert-navigate-app-hub-no",(function(){$("#alert-navigate-app-hub").remove()}));$(document).on("click","#alert-navigate-app-hub-yes",(function(){$("#alert-navigate-app-hub").remove(),location.hash="business_owner/business/list"})),$(document).on("click",".close-preview",(function(e){$(".upload-preview-common-layout#upload-preview-wrapper").addClass("slide-bottom"),$(".upload-preview-common-layout #upload-preview-container-text-box").text(""),setTimeout((function(){$(".upload-preview-common-layout#upload-preview-wrapper").addClass("hide"),$(".upload-preview-common-layout #upload-footer-attached-files-list").empty(),$(".upload-preview-common-layout #upload-footer-attatched-new-file").removeClass("hide"),$(".upload-preview-common-layout#upload-preview-wrapper").removeClass("slide-bottom")}),200),$("#upload-permission-btn").removeClass("hide"),$(".selected-multimedia-files").remove(),"Android"!=crossplat.device.platform&&"iOS"!=crossplat.device.platform||$(".header-band").removeClass("hide"),digibiz.objectURLS=[],digibiz.uploadingFiles=[],uploader._files={},Object.keys(sessionStorage).forEach((function(e){e.includes("ObjectURL_")&&(URL.revokeObjectURL(sessionStorage.getItem(e)),sessionStorage.removeItem(e))})),window.camerastream&&window.camerastream.getTracks()[0].stop(),window.videocamerastream&&(window.videocamerastream.getTracks()[0].stop(),window.videocamerastream.getTracks()[1].stop()),window.recorder&&"inactive"!=recorder.state&&(recorder.stop(),clearInterval(interval),clearInterval(indicator_interval)),stopMedia()})),$(document).on("click","#upload-permission-btn",(function(e){(e.stopImmediatePropagation(),isDoubleClicked($(this)))||showAlert({alert_id:"set-file-permission",alert_platform:crossplat.device.platform,alert_title:"File Permission",alert_body:'<div class="share-filter forward-toggle share-card-approval-btn">Download\n                        <label class="toggle-switch" for="download-permission">\n                            <input type="checkbox" id="download-permission">\n                            <div class="toggle-slider round"></div>\n                        </label>\n                    </div>',alert_btn:[{name:"Cancel",attr:[{name:"id",value:"upload-permission-cancel"}]},{name:"Set",attr:[{name:"id",value:"upload-permission-set"}]}]},(function(){}))})),$(document).on("click","#upload-permission-cancel",(function(){$("#set-file-permission").remove()})),$(document).on("click","#upload-permission-set",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){var t=$("#download-permission").is(":checked");$("#upload-footer-send-btn-common").attr("data-download",t),$("#set-file-permission").remove()}})),$(document).on("click","#more_vert_option_business_documents",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){var t=$(this).siblings(".file-details").attr("data-image-id"),i=$(this).siblings(".file-details").find(".file-name").find(".thumb-title").text();showAction({action_id:"more_vert_option_business_documents_action_sheet",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"Download",attr:[{name:"id",value:"download-to-device"}]}]},(function(){removeLoader(),$("#more_vert_option_business_documents_action_sheet").attr("data-id",t),$("#more_vert_option_business_documents_action_sheet").attr("data-name",i),$(".action-sheet-container").removeClass("hide").addClass("slide-top")}))}})),$(document).on("click","#download-to-device",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){var t=$("#more_vert_option_business_documents_action_sheet").attr("data-id"),i=$("#more_vert_option_business_documents_action_sheet").attr("data-name");$("#more_vert_option_business_documents_action_sheet").remove(),downloadToDevice(t,i,(function(){}))}})),$(document).on("click","#download-to-cloud",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){$(".action-sheet-cancel-btn").trigger("click");var t=$(this).attr("data-id");checkToken().then((e=>{e&&getAssetDetails(t).then((e=>{if(e){if("employee"==sessionStorage.getItem("bizchat_role"))var t=sessionStorage.getItem("employee_id"),i=sessionStorage.getItem("employee_id"),a="employee";else if("individual"==sessionStorage.getItem("bizchat_role"))t=sessionStorage.getItem("digibiz_individual_id"),i=sessionStorage.getItem("digibiz_individual_id"),a="individual";else if("customer"==sessionStorage.getItem("bizchat_role"))if("customer"==sessionStorage.getItem("customer_type"))a="customer",i=sessionStorage.getItem("customer_id");else if("associate_customer"==sessionStorage.getItem("customer_type"))a="associate_customer",i=sessionStorage.getItem("customer_id");var o={location:e.location,parent:e.parent,real_name:e.file_attributes.name.real,fileName:e.file_attributes.name.relative+" "+moment().format("D MMMM hh:mm:ss"),owner:{id:e.owner.id,type:e.owner.type},userid:i,usertype:a,filemanager:{device_id:crossplat.device.uuid,owner:{type:a,id:i},location:"downloads_folder",type:"file",access_type:"user",file:{permission:"",keywords:"bizchat download"},source:{app:"Bizchat",data:{user_id:t,user_type:a}}}};cloudDownload(o).then((e=>{"Success"==e.Messsage?Materialize.toast("Successfully download to cloud",4e3,"round success-alert"):Materialize.toast("Error occured while dounload to cloud",4e3,"round error-alert")})).catch((e=>{Materialize.toast("Error occured while dounload to cloud",4e3,"round error-alert")}))}})).catch((e=>{"No such file found"==e.Data[0].data&&(removeLoader(),Materialize.toast("Original file is deleted please contact sender",2e3,"round error - alert"))}))})).catch((e=>{e.responseJSON.Data.tokenStatus&&Materialize.toast(e.responseJSON.message.error_description,4e3,"round error-alert")}))}})),$(document).on("click",".business-app-permissions-settings",(function(e){location.hash="business/app_permission/settings"})),$(document).on("click",".app_permission_settings_app_actions",(function(){var e=$(this).parents(".apps-choose-business").attr("data-value"),t=$(this).parents(".apps-choose-business").attr("data-status");if("active"==t)showAction({action_id:"action-app-permission-page-more-vert",action_platform:crossplat.device.platform,action_title:"Actions",action_btn:[{name:"Inactivate",attr:[{name:"id",value:"app-permission-inactivate-btn"}]},{name:"Delete",attr:[{name:"id",value:"app-permission-delete-btn"}]}]},(function(){$("#action-app-permission-page-more-vert").attr("data-app",e)}));else if("inactive"==t){showAction({action_id:"action-app-permission-page-more-vert",action_platform:crossplat.device.platform,action_title:"Actions",action_btn:[{name:"Activate",attr:[{name:"id",value:"app-permission-activate-btn"}]},{name:"Delete",attr:[{name:"id",value:"app-permission-delete-btn"}]}]},(function(){$("#action-app-permission-page-more-vert").attr("data-app",e)}))}else{showAction({action_id:"action-app-permission-page-more-vert",action_platform:crossplat.device.platform,action_title:"Actions",action_btn:[{name:"Give Access",attr:[{name:"id",value:"app-permission-give-access-btn"}]}]},(function(){$("#action-app-permission-page-more-vert").attr("data-app",e)}))}})),$(document).on("click","#app-permission-give-access-btn",(function(e){e.stopImmediatePropagation();var t=$("#action-app-permission-page-more-vert").attr("data-app");addAppPermissions({device_id:crossplat.device.uuid,owner:{id:sessionStorage.getItem("account_id"),type:"individual"},business_id:sessionStorage.getItem("business_id"),apps:[t]}).then((e=>{$("#action-app-permission-page-more-vert").remove(),Materialize.toast("Sucessfully added.",3e3,"round success-alert"),$(`.apps-choose-business[data-value="${t}"]`).attr("data-status","active"),$(`.apps-choose-business[data-value="${t}"]`).append('<div class="checkbox-conatiner">\n                <input type="checkbox" class="filled-in app-choice-business-selected disabled" id="filled-in-box" checked="checked" disabled="disabled" />\n                <label for="filled-in-box"></label>\n                </div>')})).catch((e=>{Materialize.toast(e.msg,3e3,"round error-alert")}))})),$(document).on("click","#access-denied-app-permission-not-present",(function(){$("#app-permission-not-present-alert").remove()})),$(document).on("click","#app-permission-inactivate-btn",(function(e){e.stopImmediatePropagation();var t=$("#action-app-permission-page-more-vert").attr("data-app");showAlert({alert_id:"alert-app-permission-inactive-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Inactive App",alert_body:`<div>Are you sure you want inactivate ${t}?</div>`,alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-app-permission-inactive-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-app-permission-inactive-confirm-no"}]}]},(function(){$("#action-app-permission-page-more-vert").remove(),$("#alert-app-permission-inactive-confirm-cancel").attr("data-app",t)}))})),$(document).on("click","#btn-app-permission-inactive-confirm-yes",(function(){var e=$("#alert-app-permission-inactive-confirm-cancel").attr("data-app");changeStatusAppPermissions({device_id:crossplat.device.uuid,owner:{id:sessionStorage.getItem("account_id"),type:"individual"},business_id:sessionStorage.getItem("business_id"),app:e,action:"inactive"}).then((t=>{$("#alert-app-permission-inactive-confirm-cancel").remove(),Materialize.toast("Sucessfully inactivated.",3e3,"round success-alert"),$(`.apps-choose-business[data-value="${e}"]`).attr("data-status","inactive"),$(`.apps-choose-business[data-value="${e}"]`).find(".checkbox-conatiner").remove()})).catch((e=>{Materialize.toast(e.msg,3e3,"round error-alert")}))})),$(document).on("click","#btn-app-permission-inactive-confirm-no",(function(e){$("#alert-app-permission-inactive-confirm-cancel").remove()})),$(document).on("click","#app-permission-activate-btn",(function(e){e.stopImmediatePropagation();var t=$("#action-app-permission-page-more-vert").attr("data-app");showAlert({alert_id:"alert-app-permission-active-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Activate App",alert_body:`<div>Are you sure you want activate ${t}?</div>`,alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-app-permission-active-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-app-permission-active-confirm-no"}]}]},(function(){$("#action-app-permission-page-more-vert").remove(),$("#alert-app-permission-active-confirm-cancel").attr("data-app",t)}))})),$(document).on("click","#btn-app-permission-active-confirm-yes",(function(e){e.stopImmediatePropagation();var t=$("#alert-app-permission-active-confirm-cancel").attr("data-app");changeStatusAppPermissions({device_id:crossplat.device.uuid,owner:{id:sessionStorage.getItem("account_id"),type:"individual"},business_id:sessionStorage.getItem("business_id"),app:t,action:"active"}).then((e=>{$("#alert-app-permission-active-confirm-cancel").remove(),Materialize.toast("Sucessfully activated.",3e3,"round success-alert"),$(`.apps-choose-business[data-value="${t}"]`).attr("data-status","active"),$(`.apps-choose-business[data-value="${t}"]`).append('<div class="checkbox-conatiner">\n                <input type="checkbox" class="filled-in app-choice-business-selected disabled" id="filled-in-box" checked="checked" disabled="disabled" />\n                <label for="filled-in-box"></label>\n                </div>')})).catch((e=>{Materialize.toast(e.msg,3e3,"round error-alert")}))})),$(document).on("click","#btn-app-permission-active-confirm-no",(function(e){$("#alert-app-permission-active-confirm-cancel").remove()})),$(document).on("click","#app-permission-delete-btn",(function(e){e.stopImmediatePropagation();var t=$("#action-app-permission-page-more-vert").attr("data-app");showAlert({alert_id:"alert-app-permission-delete-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Delete App",alert_body:`<div>Are you sure you want delete ${t}?</div>`,alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-app-permission-delete-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-app-permission-delete-confirm-no"}]}]},(function(){$("#action-app-permission-page-more-vert").remove(),$("#alert-app-permission-delete-confirm-cancel").attr("data-app",t)}))})),$(document).on("click","#btn-app-permission-delete-confirm-yes",(function(e){e.stopImmediatePropagation();var t=$("#alert-app-permission-delete-confirm-cancel").attr("data-app");changeStatusAppPermissions({device_id:crossplat.device.uuid,owner:{id:sessionStorage.getItem("account_id"),type:"individual"},business_id:sessionStorage.getItem("business_id"),app:t,action:"delete"}).then((e=>{$("#alert-app-permission-delete-confirm-cancel").remove(),Materialize.toast("Sucessfully deleted.",3e3,"round success-alert"),$(`.apps-choose-business[data-value="${t}"]`).attr("data-status","deleted"),$(`.apps-choose-business[data-value="${t}"]`).find(".checkbox-conatiner").remove()})).catch((e=>{Materialize.toast(e.msg,3e3,"round error-alert")}))})),$(document).on("click","#btn-app-permission-delete-confirm-no",(function(e){$("#alert-app-permission-delete-confirm-cancel").remove()})),$(document).on("click","#notify-role-btn",(function(e){if(addLoader(),e.stopImmediatePropagation(),!isDoubleClicked($(this))){var t,i,a=$("#get-roles-list-modal").attr("data-for"),o=$(this),s=$(o).parents(".user-conatiner-roles-list").find(".contact-profile-container").attr("data-user-type"),r=$(o).parents(".user-conatiner-roles-list").find(".contact-profile-container").attr("data-user-id"),n=$(o).parents(".user-conatiner-roles-list").find(".contact-profile-container").attr("data-mobile-number"),d=$(o).parents(".user-conatiner-roles-list").find(".contact-profile-container").attr("data-business-id");if("individual"==s||"jeevi"==s?(t="individual",i=sessionStorage.getItem("business_id")):(getRole=s,i=d),"customer"==a){crossplat.device.uuid,sessionStorage.getItem("business_id");if("individual"==t)notificationAdd({device_id:crossplat.device.uuid,data_type:"mobile_number",add_type:"add",type:"customer",business_id:sessionStorage.getItem("business_id"),identifier_id:sessionStorage.getItem("identifier_id"),mobile_number:n,role:{id:r,type:s,business_id:i}}).then((e=>{Materialize.toast("Successfully sent notification",3e3,"round success-alert"),$("#get-roles-list-modal").remove(),location.hash="customer_creation"})).catch((e=>{Materialize.toast(e.msg,3e3,"round success-alert"),removeLoader()}));else employeeGet({device_id:crossplat.device.uuid,get_by:"id",business_id:i,id:r}).then((e=>{(console.log("employeeresult",e),e.customer_control)?(removeLoader(),notificationAdd({device_id:crossplat.device.uuid,data_type:"mobile_number",add_type:"add",type:"customer",business_id:sessionStorage.getItem("business_id"),identifier_id:sessionStorage.getItem("identifier_id"),mobile_number:n,role:{id:r,type:s,business_id:i}}).then((e=>{Materialize.toast("Successfully sent notification",3e3,"round success-alert"),$("#get-roles-list-modal").remove(),location.hash="customer_creation"})).catch((e=>{Materialize.toast(e.msg,3e3,"round success-alert"),removeLoader()}))):(removeLoader(),Materialize.toast("You are not authorized to add customer",3e3,"round error-alert"))})).catch((e=>{console.log("err",e)}))}else if("associate_customer"==a){if("individual"==t)notificationAdd({device_id:crossplat.device.uuid,data_type:"mobile_number",add_type:"add",type:"associate_customer",business_id:sessionStorage.getItem("business_id"),customer_id:sessionStorage.getItem("customer_id"),mobile_number:n,role:{id:r,type:s,business_id:i}}).then((e=>{$("#get-roles-list-modal").remove();var t=n;getJeeviContactDetail({device_id:crossplat.device.uuid,type:"mobile_number",value:t,data:{jeevi:["name","id","profile_display","user_name"]}}).then((t=>{var i;i="employee"==e.data.type?`<div class="customer-associate-customer-assignment-box pending-associate-customer-wrapper" data-notification-id="${e.id}" data-customer-id="${e.customer_id}" data-contact-uuid="${e.contact.uuid}" data-account-id="${e.contact.user_id}" data-role-id="${e.data.id}" data-role-type="${e.data.type}">\n                                    <div class="customer-associate-customer-assignment-wrapper">\n                                    <div class="customer-associate-customer-assignment-name-container">                      \n                                    <div class="customer-associate-customer-assignment-name-wrapper">                      \n                                        <div class="customer-associate-customer-assignment-name">${t.Data.jeevi.name.first} ${t.Data.jeevi.name.last}</div> \n                                        <div class="customer-associate-customer-assignment-role">Employee: ${e.data.business_name}</div> \n                                        <div class="customer-associate-customer-status">Status: ${e.contact.status.status}</div>                     \n                                        </div>                      \n                                    </div>             \n                                    </div>              \n                                </div>`:`<div class="customer-associate-customer-assignment-box pending-associate-customer-wrapper" data-notification-id="${e.id}" data-customer-id="${e.customer_id}" data-contact-uuid="${e.contact.uuid}" data-account-id="${e.contact.user_id}" data-role-id="${e.data.id}" data-role-type="${e.data.type}">\n                                    <div class="customer-associate-customer-assignment-wrapper">\n                                    <div class="customer-associate-customer-assignment-name-container">                      \n                                    <div class="customer-associate-customer-assignment-name-wrapper">                      \n                                        <div class="customer-associate-customer-assignment-name">${t.Data.jeevi.name.first} ${t.Data.jeevi.name.last}</div> \n                                        <div class="customer-associate-customer-status">Status: ${e.contact.status.status}</div>                     \n                                        </div>                      \n                                    </div>             \n                                    </div>              \n                                </div>`,$(`.customer-associate-customer-assignment-box[data-account-id="${e.contact.user_id}"][data-role-id="${e.data.id}"][data-role-type="${e.data.type}"]`).remove(),$(".customer-associate-customer-assignment-list-main-container").append(i),$("#add-associate-customer").remove(),Materialize.toast("Successfully sent notification",3e3,"round success-alert"),removeLoader()})).catch((e=>{removeLoader()}))})).catch((e=>{Materialize.toast(e.msg,3e3,"round success-alert"),removeLoader()}));else employeeGet({device_id:crossplat.device.uuid,get_by:"id",business_id:i,id:r}).then((e=>{e.customer_control?notificationAdd({device_id:crossplat.device.uuid,data_type:"mobile_number",add_type:"add",type:"associate_customer",business_id:sessionStorage.getItem("business_id"),customer_id:sessionStorage.getItem("customer_id"),mobile_number:n,role:{id:r,type:s,business_id:i}}).then((e=>{$("#get-roles-list-modal").remove();var t=n;getJeeviContactDetail({device_id:crossplat.device.uuid,type:"mobile_number",value:t,data:{jeevi:["name","id","profile_display","user_name"]}}).then((t=>{var i;i="employee"==e.data.type?`<div class="customer-associate-customer-assignment-box pending-associate-customer-wrapper" data-notification-id="${e.id}" data-customer-id="${e.customer_id}" data-contact-uuid="${e.contact.uuid}" data-account-id="${e.contact.user_id}" data-role-id="${e.data.id}" data-role-type="${e.data.type}">\n                                                <div class="customer-associate-customer-assignment-wrapper">\n                                                <div class="customer-associate-customer-assignment-name-container">                      \n                                                <div class="customer-associate-customer-assignment-name-wrapper">                      \n                                                    <div class="customer-associate-customer-assignment-name">${t.Data.jeevi.name.first} ${t.Data.jeevi.name.last}</div> \n                                                    <div class="customer-associate-customer-assignment-role">Employee: ${e.data.business_name}</div> \n                                                    <div class="customer-associate-customer-status">Status: ${e.contact.status.status}</div>                     \n                                                    </div>                      \n                                                </div>             \n                                                </div>              \n                                            </div>`:`<div class="customer-associate-customer-assignment-box pending-associate-customer-wrapper" data-notification-id="${e.id}" data-customer-id="${e.customer_id}" data-contact-uuid="${e.contact.uuid}" data-account-id="${e.contact.user_id}" data-role-id="${e.data.id}" data-role-type="${e.data.type}">\n                                                <div class="customer-associate-customer-assignment-wrapper">\n                                                <div class="customer-associate-customer-assignment-name-container">                      \n                                                <div class="customer-associate-customer-assignment-name-wrapper">                      \n                                                    <div class="customer-associate-customer-assignment-name">${t.Data.jeevi.name.first} ${t.Data.jeevi.name.last}</div> \n                                                    <div class="customer-associate-customer-status">Status: ${e.contact.status.status}</div>                     \n                                                    </div>                      \n                                                </div>             \n                                                </div>              \n                                            </div>`,$(`.customer-associate-customer-assignment-box[data-account-id="${e.contact.user_id}"][data-role-id="${e.data.id}"][data-role-type="${e.data.type}"]`).remove(),$(".customer-associate-customer-assignment-list-main-container").append(i),$("#add-associate-customer").remove(),Materialize.toast("Successfully sent notification",3e3,"round success-alert"),removeLoader()})).catch((e=>{removeLoader()}))})).catch((e=>{Materialize.toast(e.msg,3e3,"round success-alert"),removeLoader()})):(removeLoader(),Materialize.toast("You are not authorized to add customer",3e3,"round error-alert"))}))}}})),$(document).on("click",".employee-get-profile-information",(function(e){if(e.stopPropagation(),!isDoubleClicked($(this))){addLoader();var t=$(this).parents(".employee-wrapper").attr("data-employee-id"),i=$(this).parents(".employee-wrapper").attr("data-status"),a=$(this).parents(".employee-wrapper").attr("data-socket-status");employeeGet({device_id:crossplat.device.uuid,id:t,get_by:"id"}).then((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture&&e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var o=`${api.get_employee_identity_picture}?id=${t}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=o}if(e.hasOwnProperty("identity_video")&&e.identity_video&&e.identity_video.hasOwnProperty("thumbnail")&&e.identity_video.thumbnail){o=`${api.get_employee_identity_picture}?id=${t}&device_id=${crossplat.device.uuid}&image_id=${e.identity_video.video_id}`;e.identity_video.avtarUrl=o}var s={EmployeeData:e};fetch.getHtml((function(e,o){if("deleted"==i)showModal({modal_id:"employee-profile-view-modal",modal_header:"Employee Profile Information",modal_platform:crossplat.device.platform,modal_body:o},(function(){$("#employee-profile-view-modal").attr("employee_id",t),$("#employee-profile-view-modal").attr("employee_socket_status",a),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"):$(".custom-modal-popup").show().addClass("modal-slide-top"),commonExecutables(),removeLoader()}));else if("exited"==i){showModal({modal_id:"employee-profile-view-modal",modal_header:"Employee Profile Information",modal_platform:crossplat.device.platform,modal_body:o,modal_action_buttons:[{name:"Close",id:"employee-profile-view-modal-close-btn"}]},(function(){$("#employee-profile-view-modal").attr("employee_id",t),$("#employee-profile-view-modal").attr("employee_socket_status",a),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"):$(".custom-modal-popup").show().addClass("modal-slide-top"),commonExecutables(),removeLoader()}))}else{showModal({modal_id:"employee-profile-view-modal",modal_header:"Employee Profile Information",modal_platform:crossplat.device.platform,modal_body:o,modal_action_buttons:[{name:"Close",id:"employee-profile-view-modal-close-btn"},{name:"Edit",id:"employee-profile-view-modal-edit-btn"}]},(function(){$("#employee-profile-view-modal").attr("employee_id",t),$("#employee-profile-view-modal").attr("employee_socket_status",a),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"):$(".custom-modal-popup").show().addClass("modal-slide-top"),commonExecutables(),removeLoader()}))}}),"page/employee/employee_profile","#employee-profile-template",s)})).catch((e=>{removeLoader(),Materialize.toast("Error! Please try again later",3e3,"round error-alert")}))}})),$(document).on("click","#employee-profile-view-modal-close-btn",(function(){$("#employee-profile-view-modal").remove()})),$(document).on("click","#employee-profile-view-modal-edit-btn",(function(){addLoader();var e=$("#employee-profile-view-modal").attr("employee_id");"true"==$("#employee-profile-view-modal").attr("employee_socket_status")?employeeUpdate({device_id:crossplat.device.uuid,id:e,data:{socket_enable_status:"false",update_for:"socket_enable_status"}}).then((t=>{"super_admin"==t.employee_role?departmentGet({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"type",type:"super_admin"}).then((i=>{removeLoader(),sessionStorage.setItem("department_id",i.id),sessionStorage.setItem("employee_id",e),sessionStorage.setItem("employee_name",`${t.name.first} ${t.name.last}`),$("#employee-profile-view-modal").remove(),location.hash="employee/create"})).catch((e=>{removeLoader()})):(removeLoader(),sessionStorage.setItem("employee_id",e),sessionStorage.setItem("employee_name",`${t.name.first} ${t.name.last}`),$("#employee-profile-view-modal").remove(),location.hash="employee/create")})).catch((t=>{"no updated data found"==t.msg&&(removeLoader(),sessionStorage.setItem("employee_id",e),$("#employee-profile-view-modal").remove(),location.hash="employee/create")})):($("#employee-profile-view-modal").remove(),Materialize.toast("Access Denied! You or other administrator is editing this employee at other place.",3e3,"round error-alert"),showAlert({alert_id:"alert-employee-device-change-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Access Denied! You or other administrator is editing this employee at other place. Would to like to cancel there and continue here?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-employee-device-change-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-employee-device-change-cancel-no"}]}]},(function(){removeLoader(),$("#alert-employee-device-change-confirm-cancel").attr("data-employee-id",e)})))})),$(document).on("click",".customer-get-profile-information",(function(e){if(e.stopPropagation(),!isDoubleClicked($(this))){addLoader();var t=$(this).parents(".active-customer-wrapper").attr("data-customer-id"),i=$(this).parents(".active-customer-wrapper").attr("data-status"),a=$(this).parents(".active-customer-wrapper").attr("data-socket-status");customerGet({device_id:crossplat.device.uuid,get_by:"id",id:t}).then((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture&&e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var o=`${api.get_customer_identity_picture}?id=${t}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=o}if(e.hasOwnProperty("identity_video")&&e.identity_video&&e.identity_video.hasOwnProperty("thumbnail")&&e.identity_video.thumbnail){o=`${api.get_customer_identity_picture}?id=${t}&device_id=${crossplat.device.uuid}&image_id=${e.identity_video.video_id}`;e.identity_video.avtarUrl=o}var s={customerData:e,customer_type:"customer"};fetch.getHtml((function(e,o){"exited"==i?showModal({modal_id:"customer-profile-view-modal",modal_header:"Customer Profile Information",modal_platform:crossplat.device.platform,modal_body:o,modal_action_buttons:[{name:"Close",id:"customer-profile-view-modal-close-btn"}]},(function(){$("#customer-profile-view-modal").attr("customer_id",t),$("#customer-profile-view-modal").attr("customer_socket_status",a),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"):$(".custom-modal-popup").show().addClass("modal-slide-top"),commonExecutables(),removeLoader()})):showModal({modal_id:"customer-profile-view-modal",modal_header:"Customer Profile Information",modal_platform:crossplat.device.platform,modal_body:o,modal_action_buttons:[{name:"Close",id:"customer-profile-view-modal-close-btn"},{name:"Edit",id:"customer-profile-view-modal-edit-btn"}]},(function(){$("#customer-profile-view-modal").attr("customer_id",t),$("#customer-profile-view-modal").attr("customer_socket_status",a),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"):$(".custom-modal-popup").show().addClass("modal-slide-top"),commonExecutables(),removeLoader()}))}),"page/customer/customer_profile","#customer-profile-template",s)})).catch((e=>{removeLoader(),Materialize.toast("Error! Please try again later",3e3,"round error-alert")}))}})),$(document).on("click","#customer-profile-view-modal-close-btn",(function(){$("#customer-profile-view-modal").remove()})),$(document).on("click","#customer-profile-view-modal-edit-btn",(function(){addLoader();var e=$("#customer-profile-view-modal").attr("customer_id");"true"==$("#customer-profile-view-modal").attr("customer_socket_status")?(reqParam={device_id:crossplat.device.uuid,id:e,data:{socket_enable_status:"false",update_for:"socket_enable_status"}},customerUpdate(reqParam).then((t=>{sessionStorage.setItem("customer_id",e),sessionStorage.setItem("customer_name",`${t.name.first} ${t.name.first}`),$("#customer-profile-view-modal").remove(),location.hash="customer/create"})).catch((t=>{"no updated data found"==t.msg&&(sessionStorage.setItem("customer_id",e),$("#customer-profile-view-modal").remove(),location.hash="customer/create")}))):($("#customer-profile-view-modal").remove(),Materialize.toast("Access Denied! You or other administrator is editing this customer at other place.",3e3,"round error-alert"),showAlert({alert_id:"alert-customer-device-change-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Access Denied! You or other administrator is editing this customer at other place. Would to like to cancel there and continue here?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-customer-device-change-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-customer-device-change-cancel-no"}]}]},(function(){removeLoader(),$("#alert-customer-device-change-confirm-cancel").attr("data-customer-id",e)})))})),$(document).on("click",".associate-customer-get-profile-information",(function(e){if(e.stopPropagation(),!isDoubleClicked($(this))){addLoader();var t=$(this).parents(".customer-associate-customer-assignment-box").attr("data-id"),i=$(this).parents(".customer-associate-customer-assignment-box").attr("data-status");associateCustomerGet({device_id:crossplat.device.uuid,get_by:"id",id:t}).then((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture&&e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var a=`${api.get_associate_customer_identity_picture}?id=${t}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=a}if(e.hasOwnProperty("identity_video")&&e.identity_video&&e.identity_video.hasOwnProperty("thumbnail")&&e.identity_video.thumbnail){a=`${api.get_associate_customer_identity_picture}?id=${t}&device_id=${crossplat.device.uuid}&image_id=${e.identity_video.video_id}`;e.identity_video.avtarUrl=a}var o={customerData:e,customer_type:"associate_customer"};fetch.getHtml((function(e,a){"exited"==i?showModal({modal_id:"associate-customer-profile-view-modal",modal_header:"Associate Customer Profile Information",modal_platform:crossplat.device.platform,modal_body:a,modal_action_buttons:[{name:"Close",id:"associate-customer-profile-view-modal-close-btn"}]},(function(){$("#associate-customer-profile-view-modal").attr("associate_customer_id",t),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"):$(".custom-modal-popup").show().addClass("modal-slide-top"),commonExecutables(),removeLoader()})):showModal({modal_id:"associate-customer-profile-view-modal",modal_header:"Associate Customer Profile Information",modal_platform:crossplat.device.platform,modal_body:a,modal_action_buttons:[{name:"Close",id:"associate-customer-profile-view-modal-close-btn"},{name:"Edit",id:"associate-customer-profile-view-modal-edit-btn"}]},(function(){$("#associate-customer-profile-view-modal").attr("associate_customer_id",t),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"):$(".custom-modal-popup").show().addClass("modal-slide-top"),commonExecutables(),removeLoader()}))}),"page/customer/customer_profile","#customer-profile-template",o)})).catch((e=>{removeLoader(),Materialize.toast("Error! Please try again later",3e3,"round error-alert")}))}})),$(document).on("click","#associate-customer-profile-view-modal-close-btn",(function(){$("#associate-customer-profile-view-modal").remove()})),$(document).on("click","#associate-customer-profile-view-modal-edit-btn",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){addLoader();var t=$("#associate-customer-profile-view-modal").attr("associate_customer_id");$("#associate-customer-profile-view-modal").remove(),customerIdentifierList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"associate_customer_only"}).then((e=>{associateCustomerGet({device_id:crossplat.device.uuid,get_by:"id",id:t}).then((i=>{if(i.hasOwnProperty("identity_picture")&&i.identity_picture&&i.identity_picture.hasOwnProperty("thumbnail")&&i.identity_picture.thumbnail){var a=`${api.get_associate_customer_identity_picture}?id=${i.id}&device_id=${crossplat.device.uuid}&image_id=${i.identity_picture.thumbnail}`;i.identity_picture.avtarUrl=a}if(i.hasOwnProperty("identity_video")&&i.identity_video&&i.identity_video.hasOwnProperty("thumbnail")&&i.identity_video.thumbnail){a=`${api.get_associate_customer_identity_picture}?id=${i.id}&device_id=${crossplat.device.uuid}&image_id=${i.identity_video.thumbnail}`;i.identity_video.avtarUrl=a}var o={associateCustomerData:i,associateCustomerIdentifierList:e};fetch.getHtml((function(a,o){showModal({modal_platform:crossplat.device.platform,modal_id:"edit-associate-customer-modal",modal_header:"Edit Associate Customer",modal_body:o,modal_action_buttons:[{name:"Save",attr:[{name:"id",value:"save-associate-customer-btn"}]}]},(function(){if(removeLoader(),mobileFlaginit(),calenderInit("#associate_customer_date_of_birth"),calenderInit("#associate_customer_wedding_anniversary"),i.hasOwnProperty("identifier_id")&&i.identifier_id){var a=e.find((e=>e.id==i.identifier_id));$("#associate-customer-identifier-choose-select-dropdown").val(a.identifier)}$("#edit-associate-customer-modal").attr("data-associate-customer-id",t),$("#edit-associate-customer-modal").attr("data-associate-customer-name",`${i.name.first} ${i.name.last}`),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top")}))}),"page/customer/edit_associate_customer","#edit-associate-customer-template",o)})).catch((i=>{var a={associateCustomerIdentifierList:e};fetch.getHtml((function(e,i){showModal({modal_platform:crossplat.device.platform,modal_id:"edit-associate-customer-modal",modal_header:"Edit Associate Customer",modal_body:i,modal_action_buttons:[{name:"Save",attr:[{name:"id",value:"save-associate-customer-btn"}]}]},(function(){removeLoader(),mobileFlaginit(),calenderInit("#associate_customer_date_of_birth"),calenderInit("#associate_customer_wedding_anniversary"),$("#edit-associate-customer-modal").attr("data-associate-customer-id",t),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top")}))}),"page/customer/edit_associate_customer","#edit-associate-customer-template",a)}))})).catch((e=>{removeLoader(),Materialize.toast("No associate customer identifiers found.",3e3,"round error-alert")}))}})),$(document).on("click",".filterbtn",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){if(addLoader(),"employee_creation_list"==$("body").attr("app")||"employee_filter"==$("body").attr("app"))"employee_creation_list"==$("body").attr("app")&&(digibiz.employeeFilterData={type:[],category:[],designation:[],department:[],status:[]}),departmentList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"department"}).then((e=>{fetch.getHtml((function(t,i){showModal({modal_id:"employee-filter-option-modal",modal_header:"Employee Filter - Department",modal_platform:crossplat.device.platform,modal_body:i,modal_action_buttons:[{name:"Filter By",id:"employee-filter-filter-by-btn"},{name:"Apply",id:"employee-filter-apply-btn"}]},(function(){$(".employee-filter-wrapper").attr("id","department-list-wrapper"),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),$(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content")):$(".custom-modal-popup").show().addClass("modal-slide-top"),processDepartmentList(e,(function(){$(".show-action-department").remove(),$(".department-wrapper").addClass("employee-department-filter-btn"),digibiz.employeeFilterData.department.length>0&&$.each(digibiz.employeeFilterData.department,(function(e,t){$(`.employee-department-filter-btn[data-id="${t}"]`).addClass("selected-filter");$(`.employee-department-filter-btn[data-id="${t}"]`).append('<div class="more-menu-wrapper selected-symbol"><i class="material-icons">check_box</i></div>')})),commonExecutables(),setTimeout((function(){removeLoader()}),1e3)}))}))}),"page/employee/employee_filter_options","#employee-filter-options-template",null)})).catch((e=>{removeLoader(),Materialize.toast("Please complete employee configurations.",3e3,"round error-alert")}));if("customer_creation_active_list"==$("body").attr("app")){crossplat.device.uuid,sessionStorage.getItem("business_id"),sessionStorage.getItem("identifier_id");fetch.getHtml((function(e,t){showModal({modal_id:"customer-filter-option-modal",modal_header:"Customer Filter",modal_platform:crossplat.device.platform,modal_body:t,modal_action_buttons:[{name:"Apply",id:"customer-filter-apply-btn"}]},(function(){$(".employee-filter-wrapper").attr("id","customer-list-wrapper"),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),$(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content")):$(".custom-modal-popup").show().addClass("modal-slide-top");processCustomerStatusList([{status:"active"},{status:"inactive"},{status:"exited"},{status:"accepted"},{status:"deleted"}],(function(){$(".employee-type-wrapper").addClass("customer-status-filter-btn"),digibiz.customerFilterData.status.length>0&&$.each(digibiz.customerFilterData.status,(function(e,t){$(`.customer-status-filter-btn[data-customer-status="${t}"]`).addClass("selected-filter");$(`.customer-status-filter-btn[data-customer-status="${t}"]`).append('<div class="more-menu-wrapper selected-symbol"><i class="material-icons">check_box</i></div>')})),commonExecutables(),setTimeout((function(){removeLoader()}),1e3)}))}))}),"page/employee/employee_filter_options","#employee-filter-options-template",null)}"employee_group_creation_list"==$("body").attr("app")&&(digibiz.groupFilterData={status:[]},fetch.getHtml((function(e,t){showModal({modal_id:"group-filter-option-modal",modal_header:"Group Filter",modal_platform:crossplat.device.platform,modal_body:t,modal_action_buttons:[{name:"Apply",id:"group-filter-apply-btn"}]},(function(){$(".employee-filter-wrapper").attr("id","group-filter-wrapper"),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),$(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content")):$(".custom-modal-popup").show().addClass("modal-slide-top");processGroupStatusList([{status:"active"},{status:"inactive"},{status:"draft"},{status:"pending"}],(function(){$(".group-status-wrapper").addClass("group-status-filter-btn"),digibiz.groupFilterData.status.length>0&&$.each(digibiz.groupFilterData.status,(function(e,t){$(`.group-status-filter-btn[data-group-status="${t}"]`).addClass("selected-filter");$(`.group-status-filter-btn[data-group-status="${t}"]`).append('<div class="more-menu-wrapper selected-symbol"><i class="material-icons">check_box</i></div>')})),commonExecutables(),setTimeout((function(){removeLoader()}),1e3)}))}))}),"page/employee/employee_filter_options","#employee-filter-options-template",null)),"team_group_creation_list"==$("body").attr("app")&&(digibiz.groupFilterData={status:[]},fetch.getHtml((function(e,t){showModal({modal_id:"group-filter-option-modal",modal_header:"Group Filter",modal_platform:crossplat.device.platform,modal_body:t,modal_action_buttons:[{name:"Apply",id:"group-filter-apply-btn"}]},(function(){$(".employee-filter-wrapper").attr("id","group-filter-wrapper"),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),$(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content")):$(".custom-modal-popup").show().addClass("modal-slide-top");processGroupStatusList([{status:"active"},{status:"inactive"},{status:"draft"}],(function(){$(".group-status-wrapper").addClass("group-status-filter-btn"),digibiz.groupFilterData.status.length>0&&$.each(digibiz.groupFilterData.status,(function(e,t){$(`.group-status-filter-btn[data-group-status="${t}"]`).addClass("selected-filter");$(`.group-status-filter-btn[data-group-status="${t}"]`).append('<div class="more-menu-wrapper selected-symbol"><i class="material-icons">check_box</i></div>')})),commonExecutables(),setTimeout((function(){removeLoader()}),1e3)}))}))}),"page/employee/employee_filter_options","#employee-filter-options-template",null)),"collaborator_groups_list"==$("body").attr("app")&&(digibiz.groupFilterData={status:[]},fetch.getHtml((function(e,t){showModal({modal_id:"group-filter-option-modal",modal_header:"Group Filter",modal_platform:crossplat.device.platform,modal_body:t,modal_action_buttons:[{name:"Apply",id:"group-filter-apply-btn"}]},(function(){$(".employee-filter-wrapper").attr("id","group-filter-wrapper"),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),$(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content")):$(".custom-modal-popup").show().addClass("modal-slide-top");processGroupStatusList([{status:"active"},{status:"inactive"},{status:"draft"}],(function(){$(".group-status-wrapper").addClass("group-status-filter-btn"),digibiz.groupFilterData.status.length>0&&$.each(digibiz.groupFilterData.status,(function(e,t){$(`.group-status-filter-btn[data-group-status="${t}"]`).addClass("selected-filter");$(`.group-status-filter-btn[data-group-status="${t}"]`).append('<div class="more-menu-wrapper selected-symbol"><i class="material-icons">check_box</i></div>')})),commonExecutables(),setTimeout((function(){removeLoader()}),1e3)}))}))}),"page/employee/employee_filter_options","#employee-filter-options-template",null)),"communication_groups"==$("body").attr("app")&&(digibiz.groupFilterData={status:[]},fetch.getHtml((function(e,t){showModal({modal_id:"group-filter-option-modal",modal_header:"Group Filter",modal_platform:crossplat.device.platform,modal_body:t,modal_action_buttons:[{name:"Apply",id:"group-filter-apply-btn"}]},(function(){$(".employee-filter-wrapper").attr("id","group-filter-wrapper"),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),$(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content")):$(".custom-modal-popup").show().addClass("modal-slide-top");processGroupStatusList([{status:"active"},{status:"inactive"},{status:"draft"}],(function(){$(".group-status-wrapper").addClass("group-status-filter-btn"),digibiz.groupFilterData.status.length>0&&$.each(digibiz.groupFilterData.status,(function(e,t){$(`.group-status-filter-btn[data-group-status="${t}"]`).addClass("selected-filter");$(`.group-status-filter-btn[data-group-status="${t}"]`).append('<div class="more-menu-wrapper selected-symbol"><i class="material-icons">check_box</i></div>')})),commonExecutables(),setTimeout((function(){removeLoader()}),1e3)}))}))}),"page/employee/employee_filter_options","#employee-filter-options-template",null)),"customer_groups_identifiers_list"==$("body").attr("app")&&(digibiz.groupFilterData={status:[]},fetch.getHtml((function(e,t){showModal({modal_id:"group-filter-option-modal",modal_header:"Group Filter",modal_platform:crossplat.device.platform,modal_body:t,modal_action_buttons:[{name:"Apply",id:"group-filter-apply-btn"}]},(function(){$(".employee-filter-wrapper").attr("id","group-filter-wrapper"),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),$(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content")):$(".custom-modal-popup").show().addClass("modal-slide-top");processGroupStatusList([{status:"draft"},{status:"pending"}],(function(){$(".group-status-wrapper").addClass("group-status-filter-btn"),digibiz.groupFilterData.status.length>0&&$.each(digibiz.groupFilterData.status,(function(e,t){$(`.group-status-filter-btn[data-group-status="${t}"]`).addClass("selected-filter");$(`.group-status-filter-btn[data-group-status="${t}"]`).append('<div class="more-menu-wrapper selected-symbol"><i class="material-icons">check_box</i></div>')})),commonExecutables(),setTimeout((function(){removeLoader()}),1e3)}))}))}),"page/employee/employee_filter_options","#employee-filter-options-template",null))}})),$(document).on("click","#employee-filter-filter-by-btn",(function(e){(e.stopImmediatePropagation(),isDoubleClicked($(this)))||(addLoader(),showAction({action_id:"employee-filter-by-options-action-sheet",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"Type",attr:[{name:"id",value:"employee_filter_by_type"}]},{name:"Category",attr:[{name:"id",value:"employee_filter_by_category"}]},{name:"Designation",attr:[{name:"id",value:"employee_filter_by_designation"}]},{name:"Department",attr:[{name:"id",value:"employee_filter_by_department"}]},{name:"Status",attr:[{name:"id",value:"employee_filter_by_status"}]}]},(function(){removeLoader(),$(".action-sheet-container").removeClass("hide").addClass("slide-top")})))})),$(document).on("click","#employee-filter-apply-btn",(function(e){e.stopImmediatePropagation(),isDoubleClicked($(this))||(addLoader(),"employee_creation_list"==$("body").attr("app")?digibiz.employeeFilterData.category.length>0||digibiz.employeeFilterData.designation.length>0||digibiz.employeeFilterData.department.length>0||digibiz.employeeFilterData.type.length>0||digibiz.employeeFilterData.status.length>0?location.hash="employee_filter":(removeLoader(),Materialize.toast("Error! Please select atleast one option to filter",2e3,"round error-alert")):digibiz.employeeFilterData.category.length>0||digibiz.employeeFilterData.designation.length>0||digibiz.employeeFilterData.department.length>0||digibiz.employeeFilterData.type.length>0||digibiz.employeeFilterData.status.length>0?fetch.replaceHtml((function(){departmentWiseEmployessListPage().then((()=>{commonExecutables(),removeLoader()})).catch((e=>{removeLoader()}))}),"page/employee/department_wise_employees_list_wrapper","#department-wise-employees-list-wrapper-template","#main-content-wrapper",null):(removeLoader(),Materialize.toast("Error! Please select atleast one option to filter",2e3,"round error-alert")))})),$(document).on("click","#employee_filter_by_category",(function(e){(e.stopImmediatePropagation(),isDoubleClicked($(this)))||($("#employee-filter-by-options-action-sheet").remove(),$(".employee-filter-wrapper").attr("id","employee-category-list-wrapper"),employeeCategoryList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id")}).then((e=>{processEmployeeCategoryList(e,(function(){$("#add-employee-category").remove(),$(".show-action-employee-category-data").remove(),$(".employee-category-wrapper").addClass("employee-category-filter-btn"),digibiz.employeeFilterData.category.length>0&&$.each(digibiz.employeeFilterData.category,(function(e,t){$(`.employee-category-filter-btn[data-employee-category-id="${t}"]`).addClass("selected-filter");$(`.employee-category-filter-btn[data-employee-category-id="${t}"]`).append('<div class="more-menu-wrapper selected-symbol"><i class="material-icons">check_box</i></div>')})),commonExecutables(),setTimeout((function(){removeLoader()}),1e3)}))})).catch((e=>{removeLoader(),$("#add-employee-category").remove(),Materialize.toast("Error! Please try again later",3e3,"round error-alert")})))})),$(document).on("click","#employee_filter_by_type",(function(e){(e.stopImmediatePropagation(),isDoubleClicked($(this)))||($("#employee-filter-by-options-action-sheet").remove(),$(".employee-filter-wrapper").attr("id","employee-types-list-wrapper"),employeeTypeList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id")}).then((e=>{processEmployeeTypesList(e,(function(){$("#add-employee-type").remove(),$(".show-action-employee-type-data").remove(),$(".employee-type-wrapper").addClass("employee-type-filter-btn"),digibiz.employeeFilterData.type.length>0&&$.each(digibiz.employeeFilterData.type,(function(e,t){$(`.employee-type-filter-btn[data-employee-type-id="${t}"]`).addClass("selected-filter");$(`.employee-type-filter-btn[data-employee-type-id="${t}"]`).append('<div class="more-menu-wrapper selected-symbol"><i class="material-icons">check_box</i></div>')})),commonExecutables(),setTimeout((function(){removeLoader()}),1e3)}))})).catch((()=>{removeLoader(),$("#add-employee-type").remove(),Materialize.toast("Error! Please try again later",3e3,"round error-alert")})))})),$(document).on("click","#employee_filter_by_designation",(function(e){(e.stopImmediatePropagation(),isDoubleClicked($(this)))||($("#employee-filter-by-options-action-sheet").remove(),$(".employee-filter-wrapper").attr("id","employee-designation-list-wrapper"),employeeDesignationList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id")}).then((e=>{processEmployeeDesignationList(e,(function(){$("#add-employee-designation").remove(),$(".show-action-employee-designation-data").remove(),$(".employee-designation-wrapper").addClass("employee-designation-filter-btn"),digibiz.employeeFilterData.designation.length>0&&$.each(digibiz.employeeFilterData.designation,(function(e,t){$(`.employee-designation-filter-btn[data-employee-designation-id="${t}"]`).addClass("selected-filter");$(`.employee-designation-filter-btn[data-employee-designation-id="${t}"]`).append('<div class="more-menu-wrapper selected-symbol"><i class="material-icons">check_box</i></div>')})),commonExecutables(),setTimeout((function(){removeLoader()}),1e3)}))})).catch((function(){removeLoader(),$("#add-employee-designation").remove(),Materialize.toast("Error! Please try again later",3e3,"round error-alert")})))})),$(document).on("click","#employee_filter_by_department",(function(e){(e.stopImmediatePropagation(),isDoubleClicked($(this)))||($("#employee-filter-by-options-action-sheet").remove(),$(".employee-filter-wrapper").attr("id","department-list-wrapper"),departmentList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"department"}).then((e=>{processDepartmentList(e,(function(){$("#add-department").remove(),$(".show-action-department").remove(),$(".department-wrapper").addClass("employee-department-filter-btn"),digibiz.employeeFilterData.department.length>0&&$.each(digibiz.employeeFilterData.department,((e,t)=>{$(`.employee-department-filter-btn[data-id="${t}"]`).addClass("selected-filter");$(`.employee-department-filter-btn[data-id="${t}"]`).append('<div class="more-menu-wrapper selected-symbol"><i class="material-icons">check_box</i></div>')})),commonExecutables(),setTimeout((function(){removeLoader()}),1e3)}))})).catch((e=>{removeLoader(),$("#add-department").remove(),Materialize.toast("Error! Please try again later",3e3,"round error-alert")})))})),$(document).on("click",".employee-type-filter-btn",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){var t=$(this),i=$(this).attr("data-employee-type-id");if($(t).toggleClass("selected-filter"),$(t).hasClass("selected-filter")){$(t).append('<div class="more-menu-wrapper selected-symbol"><i class="material-icons">check_box</i></div>'),digibiz.employeeFilterData.type.push(i),digibiz.employeeFilterData.type=digibiz.employeeFilterData.type.filter((function(e,t,i){return t===i.indexOf(e)}))}else $(t).find(".selected-symbol").remove(),digibiz.employeeFilterData.type=digibiz.employeeFilterData.type.filter((function(e){return e!=i}))}})),$(document).on("click",".employee-category-filter-btn",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){var t=$(this),i=$(this).attr("data-employee-category-id");if($(t).toggleClass("selected-filter"),$(t).hasClass("selected-filter")){$(t).append('<div class="more-menu-wrapper selected-symbol"><i class="material-icons">check_box</i></div>'),digibiz.employeeFilterData.category.push(i),digibiz.employeeFilterData.category=digibiz.employeeFilterData.category.filter((function(e,t,i){return t===i.indexOf(e)}))}else $(t).find(".selected-symbol").remove(),digibiz.employeeFilterData.category=digibiz.employeeFilterData.category.filter((function(e){return e!=i}))}})),$(document).on("click",".employee-designation-filter-btn",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){var t=$(this),i=$(this).attr("data-employee-designation-id");if($(t).toggleClass("selected-filter"),$(t).hasClass("selected-filter")){$(t).append('<div class="more-menu-wrapper selected-symbol"><i class="material-icons">check_box</i></div>'),digibiz.employeeFilterData.designation.push(i),digibiz.employeeFilterData.designation=digibiz.employeeFilterData.designation.filter((function(e,t,i){return t===i.indexOf(e)}))}else $(t).find(".selected-symbol").remove(),digibiz.employeeFilterData.designation=digibiz.employeeFilterData.designation.filter((function(e){return e!=i}))}})),$(document).on("click",".employee-department-filter-btn",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){var t=$(this),i=$(this).attr("data-id");if($(t).toggleClass("selected-filter"),$(t).hasClass("selected-filter")){$(t).append('<div class="more-menu-wrapper selected-symbol"><i class="material-icons">check_box</i></div>'),digibiz.employeeFilterData.department.push(i),digibiz.employeeFilterData.department=digibiz.employeeFilterData.department.filter((function(e,t,i){return t===i.indexOf(e)}))}else $(t).find(".selected-symbol").remove(),digibiz.employeeFilterData.department=digibiz.employeeFilterData.department.filter((function(e){return e!=i}))}})),$(document).on("click",".employee-status-filter-btn",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){var t=$(this),i=$(this).attr("data-employee-status");if($(t).toggleClass("selected-filter"),$(t).hasClass("selected-filter")){$(t).append('<div class="more-menu-wrapper selected-symbol"><i class="material-icons">check_box</i></div>'),digibiz.employeeFilterData.status.push(i),digibiz.employeeFilterData.status=digibiz.employeeFilterData.status.filter((function(e,t,i){return t===i.indexOf(e)}))}else $(t).find(".selected-symbol").remove(),digibiz.employeeFilterData.status=digibiz.employeeFilterData.status.filter((function(e){return e!=i}))}})),$(document).on("click","#employee_filter_by_status",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){$("#employee-filter-by-options-action-sheet").remove(),$(".employee-filter-wrapper").attr("id","employee-status-list-wrapper");crossplat.device.uuid,sessionStorage.getItem("business_id");processEmployeeStatusList([{status:"active"},{status:"inactive"},{status:"unassigned"},{status:"exited"},{status:"accepted"}],(function(){$("#add-employee-type").remove(),$(".show-action-employee-type-data").remove(),$(".employee-type-wrapper").addClass("employee-status-filter-btn"),digibiz.employeeFilterData.status.length>0&&$.each(digibiz.employeeFilterData.status,(function(e,t){$(`.employee-status-filter-btn[data-employee-status="${t}"]`).addClass("selected-filter");$(`.employee-status-filter-btn[data-employee-status="${t}"]`).append('<div class="more-menu-wrapper selected-symbol"><i class="material-icons">check_box</i></div>')})),commonExecutables(),setTimeout((function(){removeLoader()}),1e3)}))}})),$(document).on("click","#new_landing_page",(function(e){e.stopImmediatePropagation(),isDoubleClicked($(this))||(location.hash="digibiz/home")})),$(document).on("click",".role-btn",(function(e){console.log("role-btn clicked"),e.stopImmediatePropagation(),addLoader();var t=$(this),i=$(t).attr("id");switch($(t).addClass("active").siblings(".role-btn").removeClass("active"),sessionStorage.setItem("get_role_btn",i),console.log("currentid",i),i){case"jeevi-role-btn":if(console.log("switch --\x3e jeevi-role-btn"),removeLoader(),isDoubleClicked($(this)))return;sessionStorage.setItem("digibiz_role","prospect"),console.log("switch --\x3eyes"),location.hash="jeevi/app/hub",console.log("fwefwef");break;case"business-role-btn":if(console.log("switch --\x3e business-role-btn"),removeLoader(),isDoubleClicked($(this)))return;sessionStorage.setItem("digibiz_role","business_owner"),console.log("switch --\x3eyes"),location.hash="business_owner/business/list";break;case"employee-role-btn":if(console.log("switch --\x3e employee-role-btn"),removeLoader(),isDoubleClicked($(this)))return;sessionStorage.setItem("digibiz_role","employee"),console.log("switch --\x3eyes"),location.hash="employee/business/list";break;case"customer-role-btn":if(console.log("switch --\x3e customer-role-btn"),removeLoader(),isDoubleClicked($(this)))return;sessionStorage.setItem("digibiz_role","customer"),console.log("switch --\x3eyes"),location.hash="customer/business/list";case"profile-btn":if(console.log("switch --\x3e profile-role-btn"),removeLoader(),isDoubleClicked($(this)))return;console.log("switch --\x3eyes"),location.hash="digibiz/profile"}})),$(document).on("click","#logout-btn",(function(){(console.log("clicked on logout-btn"),addLoader(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform)?showAlert({alert_id:"alert-logout-btn",alert_platform:crossplat.device.platform,alert_title:"LOGOUT",alert_body:"Are you sure you want to logout?",alert_btn:[{name:"Cancel",attr:[{name:"id",value:"alert-logout-btn-no"}]},{name:"Logout",attr:[{name:"id",value:"alert-logout-btn-yes"}]}]},(function(){removeLoader()})):showAlert({alert_id:"alert-logout-btn",alert_platform:crossplat.device.platform,alert_title:"LOGOUT",alert_body:"Are you sure?",alert_btn:[{name:"Cancel",attr:[{name:"id",value:"alert-logout-btn-no"}]},{name:"Logout",attr:[{name:"id",value:"alert-logout-btn-yes"}]}]},(function(){removeLoader()}))})),$(document).on("click","#alert-logout-btn-no",(function(){$("#alert-logout-btn").remove()})),$(document).on("click","#alert-logout-btn-yes",(function(){addLoader(),$("#alert-logout-btn").remove();var e={device_id:crossplat.device.uuid,app:"business"};fetch.apiCall((function(e,t,i){if(removeLoader(),"success"===t)sockets.coreSocket.emit("joinroom",crossplat.device.uuid),sockets.coreSocket.emit("leaveroom",sessionStorage.getItem("socketID")),sessionStorage.clear(),setTimeout((function(){deviceHelper.navigateToAccounts("core")}),1e3);else{var a=JSON.parse(e.responseText);Materialize.toast(a.message,3e3,"round error-alert")}}),api.logout,"POST","JSON",e)})),$(document).on("click","#request-btn",(function(){addLoader(),location.hash="digibiz/notifications"})),$(document).on("click","#qrcode-icon",(function(){addLoader(),console.log("clicked scanner",config.apps.accounts+"#jeevi/authorize_device"),deviceHelper.navigateToAccounts("core",{purpose:"authorize_device",ref_app:"business"})})),$(document).on("click","#profile-page-data",(function(e){e.stopImmediatePropagation(),addLoader(),deviceHelper.navigateToAccounts("core",{purpose:"jeevi_profile",ref_app:"business"})})),$(document).on("click","#devices-page-data",(function(e){e.stopImmediatePropagation(),addLoader(),deviceHelper.navigateToAccounts("core",{purpose:"devices",ref_app:"business"})})),$(document).on("click","#password-page-data",(function(e){e.stopImmediatePropagation(),addLoader(),deviceHelper.navigateToAccounts("core",{purpose:"settings_security",ref_app:"business"})})),$(document).on("click","#accounts-page-data",(function(e){e.stopImmediatePropagation(),addLoader(),location.hash="digibiz/accounts"})),$(document).on("click","#digibiz_accounts_settings_back_btn",(function(e){e.stopImmediatePropagation(),addLoader(),location.hash="digibiz/profile"})),$(document).on("click","#storage-page-data",(function(e){e.stopImmediatePropagation(),addLoader(),location.hash="digibiz/account/storage"})),$(document).on("click","#credentials-page-data",(function(e){e.stopImmediatePropagation(),addLoader(),location.hash="digibiz/credentials"})),$(document).on("click","#activity-page-data",(function(e){e.stopImmediatePropagation(),addLoader(),location.hash="digibiz/activity"})),$(document).on("click","#digibiz_activity_hub_back_btn",(function(e){e.stopImmediatePropagation(),addLoader(),location.hash="digibiz/profile"})),$(document).on("click",".customer_identifier_radio_btn",(function(){var e=$(this).parents(".choose-customer-identifier-box").attr("data-identifier-id");sessionStorage.setItem("identifier_id",e),console.log("chaange",e)})),$(document).on("click","#choose-customer-identifier-confirm-button",(function(e){null==sessionStorage.getItem("identifier_id")||null==sessionStorage.getItem("identifier_id")||""==sessionStorage.getItem("identifier_id")?(removeLoader(),Materialize.toast("Please select a identifier",3e3,"round error-alert")):($("#choose-customer-identifier-modal").remove(),removeLoader(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?location.hash="customer/create":showAction({action_id:"customer_creation_by_selection_modal",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"By Notification",attr:[{name:"id",value:"customer_by_notification"}]},{name:"By QR-code",attr:[{name:"id",value:"customer_by_qr_code"}]}]},(function(){removeLoader(),$(".action-sheet-container").removeClass("hide").addClass("slide-top")})))})),$(document).on("click","#btn-invalid-qr-code-ok",(function(e){$("#alert-invalid-qr-code-cancel").remove()})),$(document).on("click","#continue-account-confirmation",(function(){console.log("clicked continue as button"),addLoader();var e={};e[config.build_name]={user_id:sessionStorage.getItem("user_id"),role:config.build_name},setServerSession(crossplat.device.uuid,e,(function(e){removeLoader(),router.navigateUri(app.indexRoute)}))})),$(document).on("click","#transaction_picture_add_btn",(function(e){if(console.log("clicked + button for transaction"),e.stopImmediatePropagation(),!isDoubleClicked($(this))){$(".credentials-pictures-container").removeClass("active");var t=validateTransactionPictureData();if(console.log("validateData",t),t)showAction({action_id:"action-credentials-pictures-upload-attachments-options",action_platform:crossplat.device.platform,action_title:"Attachment Types",action_btn:[{name:"Device Upload",attr:[{name:"class",value:"action-credentials-pictures-upload-attachment-device-upload-btn"}]},{name:"Cloud Upload",attr:[{name:"class",value:"digibiz-filemanager"},{name:"class",value:"action-credentials-pictures-upload-attachment-cloud-upload-btn"}]},{name:"Camera",attr:[{name:"class",value:"action-credentials-pictures-upload-attachment-camera-btn"}]}]},(function(){$("#action-credentials-pictures-upload-attachments-options").attr("upload-for","transaction_picture"),removeLoader()}));else showAlert({alert_id:"modal-reached-maximum-credential-pictures",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:`Failed! You have reached a maximum of ${config.transactionPictureMaxLength} transaction pictures.`,alert_btn:[{name:"OK",attr:[{name:"id",value:"alert-reached-maximum-credential-pictures-ok"}]}]},(function(){}))}})),$(document).on("click","#signature_picture_add_btn",(function(e){if(console.log("clicked + button for signature"),e.stopImmediatePropagation(),!isDoubleClicked($(this))){$(".credentials-pictures-container").removeClass("active");var t=validateSignaturePictureData();if(console.log("validateData",t),t)showAction({action_id:"action-credentials-pictures-upload-attachments-options",action_platform:crossplat.device.platform,action_title:"Attachment Types",action_btn:[{name:"Device Upload",attr:[{name:"class",value:"action-credentials-pictures-upload-attachment-device-upload-btn"}]},{name:"Cloud Upload",attr:[{name:"class",value:"digibiz-filemanager"},{name:"class",value:"action-credentials-pictures-upload-attachment-cloud-upload-btn"}]},{name:"Camera",attr:[{name:"class",value:"action-credentials-pictures-upload-attachment-camera-btn"}]}]},(function(){$("#action-credentials-pictures-upload-attachments-options").attr("upload-for","signature_picture"),removeLoader()}));else showAlert({alert_id:"modal-reached-maximum-credential-pictures",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:`Failed! You have reached a maximum of ${config.signaturePictureMaxLength} transaction pictures.`,alert_btn:[{name:"OK",attr:[{name:"id",value:"alert-reached-maximum-credential-pictures-ok"}]}]},(function(){}))}})),$(document).on("click","#alert-reached-maximum-credential-pictures-ok",(function(){$("#modal-reached-maximum-credential-pictures").remove()})),$(document).on("click",".action-credentials-pictures-upload-attachment-device-upload-btn",(function(){$("#credentials_pictures_device_upload").val(""),$("#credentials_pictures_device_upload").trigger("click");var e=$("#action-credentials-pictures-upload-attachments-options").attr("upload-for");"transaction_picture"==e?$("#transaction_pictures_main_container").addClass("active"):"signature_picture"==e&&$("#signature_pictures_main_container").addClass("active"),$("#action-credentials-pictures-upload-attachments-options").remove(),showModal({modal_platform:crossplat.device.platform,modal_id:"business-credential-picture-modal",modal_header:"Crop Image",modal_body:' <div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"business-credential-picture-crop-button",name:"crop",attr:[{name:"data-id",value:""}]}]},(function(){removeLoader(),$(".modal-popup-content").length>0&&("browser"==crossplat.device.platform||crossplat.device.platform),$(".custom-modal-popup").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#business-credential-picture-modal").attr("picture-type",e)}))})),$(document).on("change","#credentials_pictures_device_upload",(function(){var e=this.files;if(e[0]){var t=e[0].name.split(".").pop();e[0].type.split("/")[0],e[0].type.split("/")[1];if(config.identityPictureFileFormat.includes(t.toLowerCase()))if(e[0].size>config.maxSizeAllowMultiMediaFiles){o='<div class="alert-exceeded-size-attachment-container">This file is exceeding max size allowed..Try uploading file less than 20MB </div>';showAlert({alert_id:"alert-exceeded-size-attachment",alert_platform:crossplat.device.platform,alert_title:"Invalid Attachment",alert_body:o,alert_btn:[{name:"Ok",attr:[{name:"id",value:"btn-exceeded-size-attachment-ok"}]}]},(function(){}))}else{e[0].name;var i=e[0],a=new FileReader;a.onload=function(e){var t=$("#image_cropper")[0];t.src=e.target.result,$("#business-credential-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(t,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}})},a.readAsDataURL(i)}else{var o='<div class="alert-invalid-attachment-container">This files is an invalid file type..try uploading other file</div>';showAlert({alert_id:"alert-invalid-attachment",alert_platform:crossplat.device.platform,alert_title:"Invalid Attachment",alert_body:o,alert_btn:[{name:"Ok",attr:[{name:"id",value:"btn-invalid-attachment-ok"}]}]},(function(){}))}}})),$(document).on("click","#business-credential-picture-crop-button",(function(){addLoader();var e=$("#business-credential-picture-modal").attr("picture-type");console.log("getType",e),digibiz.cropper.getCroppedCanvas().toBlob((t=>{var i=new FileReader;i.onloadend=function(t){t.target.result;savebusinessCredentialPicture(i.result,e,(function(t,a){if(t)removeLoader(),Materialize.toast(`${t} ! Please try again later`,3e3,"round error-alert");else{console.log("businessDisplayPictureResponse",a);var o=`<div class="transaction_signature_picture_contentbox">\n                                                        <div class="multimedia-container">        \n                                                            <div class="multimedia_wrapper">\n                                                                <div class="identity-picture-wrapper view">   \n                                                                    <img class="attached-img transaction_signature_container" id="${a.id}" thumbnail_id="${a.picture_details.thumbnail}" data-status="${a.status.status}" type="${e}" src="${i.result}"/>                             \n                                                                </div>\n                                                            </div>    \n                                                        </div>\n                                                    </div>`;console.log("getPictureContainer",o),"transaction_picture"==e?$("#transaction_pictures_main_container").append(o):"signature_picture"==e&&$("#signature_pictures_main_container").append(o),$("#business-credential-picture-modal").remove(),removeLoader(),digibiz.cropper.destroy()}}))},i.readAsDataURL(t)}))})),$(document).on("click",".action-credentials-pictures-upload-attachment-camera-btn",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){addLoader(),$("#credentials_pictures_device_upload").val("");var t=$("#action-credentials-pictures-upload-attachments-options").attr("upload-for");if("transaction_picture"==t?$("#transaction_pictures_main_container").addClass("active"):"signature_picture"==t&&$("#signature_pictures_main_container").addClass("active"),$("#action-credentials-pictures-upload-attachments-options").remove(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform)fetch.getHtml((function(e,i){showModal({modal_id:"camera-modal",modal_header:"Camera",modal_platform:crossplat.device.platform,modal_body:i},(function(){$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),$("#camera-modal").attr("camera-for",t),$("#modal-close-btn").addClass("hide");navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){window.camerastream=e,$('.upload-preview-wrapper[data-for="camera_modal"]').hasClass("hide")&&$('.upload-preview-wrapper[data-for="camera_modal"]').removeClass("hide").addClass("slide-top"),$('.upload-preview-wrapper[data-for="camera_modal"]').find(".upload-preview-header span").text("Capture Photo"),$('.upload-preview-wrapper[data-for="camera_modal"]').find(".upload-preview-container").removeClass("hide"),$('.upload-preview-wrapper[data-for="camera_modal"]').find(".upload-preview-container-file-caption").addClass("hide"),$('.upload-preview-wrapper[data-for="camera_modal"]').find(".upload-preview-footer").addClass("hide"),$('.upload-preview-wrapper[data-for="camera_modal"]').find("#upload-permission-btn").addClass("hide"),$('.upload-preview-wrapper[data-for="camera_modal"]').find("#upload-preview-container-text-box").text(""),$('.upload-preview-wrapper[data-for="camera_modal"]').find("#upload-file-preview").html('<video id="capture-video" class="preview-file" autoplay></video><button id="camera-capture" class="btn-floating btn-large waves-effect waves-light blue cursor-pointer"><i class="material-icons">photo_camera</i></button>');var t=document.querySelector("#capture-video");t.srcObject=e,t.play()})),removeLoader()}))}),"page/common/camera","#camera-template",null);else{navigator.device.capture.captureImage((function(e){var i,a,o;for(addLoader(),i=0,o=e.length;i<o;i+=1){a=e[i].localURL,window.cameraMediaFile=a,window.camerastream&&window.camerastream.getTracks()[0].stop(),showModal({modal_platform:crossplat.device.platform,modal_id:"business-credential-picture-modal",modal_header:"Crop Image",modal_body:' <div class="image-crop-container"><img id="image_cropper" style="display: block;max-width: 100%;"/></div>',modal_action_buttons:[{id:"business-credential-picture-crop-button",name:"crop",attr:[{name:"data-id",value:""}]}]},(function(){removeLoader(),$(".modal-popup-content").length>0&&("browser"==crossplat.device.platform||crossplat.device.platform),$(".custom-modal-popup").find(".custom-modal-wrapper").addClass("cropper-wrapper"),$("#business-credential-picture-modal").attr("picture-type",t)})),setTimeout((function(){var e=["png","jpeg","jpg","PNG","JPEG","JPG"];window.resolveLocalFileSystemURL(window.cameraMediaFile,(function(t){t.file((function(t){var i=new FileReader;i.onloadend=function(i){var a=new FileReader;a.onloadend=function(t){var a=new Blob([t.target.result],{type:"image/jpeg"}),o=a.type.split("/")[1];if(e.includes(o.toLowerCase())){$(".image_container").remove();URL.createObjectURL(a);var s=document.getElementById("image_cropper");s.src=i.target.result,s.onload=function(e){$(".group_image_delete").hide()},$("#business-credential-picture-modal").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),digibiz.cropper=new Cropper(s,{viewMode:2,aspectRatio:1,minContainerWidth:72,minContainerHeight:72,minCropBoxWidth:72,minCropBoxHeight:72,maxWidth:100,maxHeight:400,zoomable:!0,rotatable:!0,responsive:!0,movable:!0,ready:function(){}}),removeLoader()}else removeLoader()},a.readAsArrayBuffer(t)},i.readAsDataURL(t)}))}),(function(e){}))}),500)}}),(function(e){navigator.notification.alert("Error code: "+e.code,null,"Capture Error"),removeLoader()}),{quality:.5}),removeLoader()}}})),$(document).on("click","#digibiz_credentials_back_btn",(function(e){console.log("back button clciked for credentials"),e.stopImmediatePropagation(),addLoader(),location.hash="digibiz/profile"})),$(document).on("click",".view-transaction-signature-picture",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){addLoader();var t=$(this);getRecordTransactionSignaturePicture({device_id:crossplat.device.uuid,id:$(t).attr("id")}).then((e=>{if(console.log("response",e),"yes"==e.picture_used)"active"==e.status.status?showAction({action_id:"transaction_signature_picture_options",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"View",attr:[{name:"id",value:"transaction_signature_picture_view"}]},{name:"Inactivate",attr:[{name:"id",value:"transaction_signature_picture_inactivate"}]},{name:"Logs",attr:[{name:"id",value:"transaction_signature_picture_logs"}]}]},(function(){removeLoader(),$(".action-sheet-container").removeClass("hide").addClass("slide-top"),$("#transaction_signature_picture_options").attr("data-id",$(t).attr("id")),$("#transaction_signature_picture_options").attr("image_id",e.picture_details.picture_id)})):showAction({action_id:"transaction_signature_picture_options",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"View",attr:[{name:"id",value:"transaction_signature_picture_view"}]},{name:"Logs",attr:[{name:"id",value:"transaction_signature_picture_logs"}]}]},(function(){removeLoader(),$(".action-sheet-container").removeClass("hide").addClass("slide-top"),$("#transaction_signature_picture_options").attr("data-id",$(t).attr("id")),$("#transaction_signature_picture_options").attr("image_id",e.picture_details.picture_id)}));else if("no"==e.picture_used){showAction({action_id:"transaction_signature_picture_options",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"View",attr:[{name:"id",value:"transaction_signature_picture_view"}]},{name:"Delete",attr:[{name:"id",value:"transaction_signature_picture_delete"}]}]},(function(){removeLoader(),$(".action-sheet-container").removeClass("hide").addClass("slide-top"),$("#transaction_signature_picture_options").attr("data-id",$(t).attr("id")),$("#transaction_signature_picture_options").attr("image_id",e.picture_details.picture_id)}))}else{showAction({action_id:"transaction_signature_picture_options",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"View",attr:[{name:"id",value:"transaction_signature_picture_view"}]}]},(function(){removeLoader(),$(".action-sheet-container").removeClass("hide").addClass("slide-top"),$("#transaction_signature_picture_options").attr("data-id",$(t).attr("id")),$("#transaction_signature_picture_options").attr("image_id",e.picture_details.picture_id)}))}})).catch((e=>{showAction({action_id:"transaction_signature_picture_options",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"View",attr:[{name:"id",value:"transaction_signature_picture_view"}]}]},(function(){removeLoader(),$(".action-sheet-container").removeClass("hide").addClass("slide-top"),$("#transaction_signature_picture_options").attr("data-id",$(t).attr("id")),$("#transaction_signature_picture_options").attr("image_id",$(t).attr("thumbnail_id"))}))}))}})),$(document).on("click","#transaction_signature_picture_view",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){addLoader();var t=$("#transaction_signature_picture_options").attr("data-id"),i=$("#transaction_signature_picture_options").attr("image_id");$("#transaction_signature_picture_options").remove();var a={getAvatarUrl:`${api.get_transaction_signature_picture}?id=${t}&device_id=${crossplat.device.uuid}&image_id=${i}`};fetch.getHtml((function(e,t){showModal({modal_platform:crossplat.device.platform,modal_id:"transaction-signature-picture-preview-modal",modal_header:"",modal_body:t},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),removeLoader()}))}),"page/common/identity_picture_preview","#identity-picture-preview-template",a)}})),$(document).on("click","#transaction_signature_picture_delete",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){addLoader();var t=$("#transaction_signature_picture_options").attr("data-id");$("#transaction_signature_picture_options").attr("image_id");$("#transaction_signature_picture_options").remove(),showAlert({alert_id:"alert-delete-transaction-signature-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Delete?",alert_body:"Are you sure you want to delete this picture?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-delete-transaction-signature-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-delete-transaction-signature-cancel-no"}]}]},(function(){removeLoader(),$("#alert-delete-transaction-signature-confirm-cancel").attr("data-id",t)}))}})),$(document).on("click","#btn-delete-transaction-signature-cancel-no",(function(e){$("#alert-delete-transaction-signature-confirm-cancel").remove()})),$(document).on("click","#btn-delete-transaction-signature-confirm-yes",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){addLoader();var t=$("#alert-delete-transaction-signature-confirm-cancel").attr("data-id");deleteRecordTransactionSignaturePicture({device_id:crossplat.device.uuid,id:t}).then((e=>{console.log("delete response",e),$("#alert-delete-transaction-signature-confirm-cancel").remove(),$(`.view-transaction-signature-picture[id="${t}"]`).parents(".transaction_signature_picture_contentbox").remove(),Materialize.toast("Successfully deleted.",3e3,"round success-alert"),removeLoader()})).catch((e=>{removeLoader(),$("#alert-delete-transaction-signature-confirm-cancel").remove(),Materialize.toast("Error! Please try again later",3e3,"round error-alert")}))}})),$(document).on("click","#transaction_signature_picture_inactivate",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){addLoader();var t=$("#transaction_signature_picture_options").attr("data-id");updateRecordTransactionSignaturePicture({device_id:crossplat.device.uuid,id:t,data:{status:"inactive"}}).then((e=>{console.log("update response",e),$("#transaction_signature_picture_options").remove(),$(`.view-transaction-signature-picture[id="${t}"]`).addClass("inactivated"),Materialize.toast("Successfully inactivated.",3e3,"round success-alert"),removeLoader()})).catch((e=>{removeLoader(),$("#transaction_signature_picture_options").remove(),Materialize.toast("Error! Please try again later",3e3,"round error-alert")}))}})),$(document).on("click","#transaction_signature_picture_logs",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){addLoader();var t=$("#transaction_signature_picture_options").attr("data-id");getRecordTransactionSignaturePicture({device_id:crossplat.device.uuid,id:t}).then((e=>{console.log("get record response",e);var t=[];$.each(e.picture_used_details,(function(i,a){var o={action:{activity:a.message,date:moment.unix(a.used_time).format("MMM D YYYY hh:mm:ss A")}};if(t.push(o),i+1==e.picture_used_details.length){console.log("logsData",t);var s={log_list_data:t};console.log("logsList",s),$("#transaction_signature_picture_options").remove(),fetch.getHtml((function(e,t){showModal({modal_id:"credentials-used-logs-modal",modal_header:"Logs",modal_platform:crossplat.device.platform,modal_body:t},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),$(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content")):$(".custom-modal-popup").show().addClass("modal-slide-top")}))}),"page/profile/credentials_used_logs","#credentials-logs-list-data-template",s),$("#transaction_signature_picture_options").remove(),removeLoader()}else $("#transaction_signature_picture_options").remove(),removeLoader()}))})).catch((e=>{removeLoader(),$("#transaction_signature_picture_options").remove(),Materialize.toast("Error! Please try again later",3e3,"round error-alert")}))}})),$(document).on("click",".business-display-name-info",(function(e){e.stopImmediatePropagation(),addLoader(),showModal({modal_platform:crossplat.device.platform,modal_id:"business-display-name-information-modal",modal_header:"Info",modal_body:'<div class="business-display-name-info-main-container"><div class="business-display-name-info-header-container"><div class="business-display-name-info-header">Business Display Name Info:</div></div><div class="business-display-name-info-body-container"<div class="business-display-name-info-body"><div class="business-display-name-info-point">1) String should be of 5-16 length characters.</div><div class="business-display-name-info-point">2) Only aplhanumeric and special characters are allowed.</div><div class="business-display-name-info-point">3) First character can\'t be a special character.</div><div class="business-display-name-info-point">4) No space character allowed.</div><div class="business-display-name-info-point">5) Can\'t edit the display name once the business is active.</div></div></div></div>'},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),$(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content")):$(".custom-modal-popup").show().addClass("modal-slide-top"),removeLoader()}))})),$(document).on("click",".edit-employee-profile",(function(e){e.stopImmediatePropagation(),addLoader();var t=digibiz.employee_business_list.find((e=>e.id==sessionStorage.getItem("business_id")));if(t){var i=t.status.status;if("self-verified"==i||"inactive_pending"==i){sessionStorage.setItem("edit_from","profile_page");sessionStorage.getItem("employee_id");location.hash="edit/employee/profile"}else{showAlert({alert_id:"alert-business-not-active-box",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"<div>Business is inactive. Please contact your business administrators.</div>",alert_btn:[{name:"OK",attr:[{name:"id",value:"btn-business-not-active-ok"}]}]},(function(){removeLoader()}))}}else{showAlert({alert_id:"alert-business-not-active-box",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"<div>Business not found! Please try again later.</div>",alert_btn:[{name:"OK",attr:[{name:"id",value:"btn-business-not-active-ok"}]}]},(function(){removeLoader()}))}})),$(document).on("click",".save-employee-btn",(function(e){if(e.stopImmediatePropagation(),addLoader(),validateEmployeeProfileEdit()){var t=$("#employee_alternate_email").text().trim();if($("#add-employee-display-phone-number").val().trim().length>0)var i=$("#add-employee-display-phone-number").intlTelInput("getNumber").replace(/\s/g,"");else;var a=$("#employee_date_of_birth").val().trim(),o=$("#employee_wedding_anniversary").val().trim();employeeProfileUpdate({device_id:crossplat.device.uuid,id:sessionStorage.getItem("employee_id"),data:{alternate_email:t,date_of_birth:a,wedding_anniversary:o,display_phone_number:i}}).then((e=>{removeLoader(),sessionStorage.removeItem("edit_from"),location.hash="employee/profile"})).catch((e=>{"no updated data found"==e.msg&&(removeLoader(),sessionStorage.removeItem("edit_from"),location.hash="employee/profile")}))}else removeLoader()})),$(document).on("click",".edit-customer-profile",(function(e){e.stopImmediatePropagation(),addLoader();var t=digibiz.employee_business_list.find((e=>e.id==sessionStorage.getItem("business_id")));if(t){var i=t.status.status;if("self-verified"==i||"inactive_pending"==i){sessionStorage.setItem("edit_from","profile_page");sessionStorage.getItem("customer_id");location.hash="edit/customer/profile"}else{showAlert({alert_id:"alert-business-not-active-box",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"<div>Business is inactive. Please contact your business administrators.</div>",alert_btn:[{name:"OK",attr:[{name:"id",value:"btn-business-not-active-ok"}]}]},(function(){removeLoader()}))}}else{showAlert({alert_id:"alert-business-not-active-box",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"<div>Business not found! Please try again later.</div>",alert_btn:[{name:"OK",attr:[{name:"id",value:"btn-business-not-active-ok"}]}]},(function(){removeLoader()}))}})),$(document).on("click",".save-customer-btn",(function(e){if(e.stopImmediatePropagation(),addLoader(),validateCustomerProfileEdit()){var t=$("#customer_alternate_email").text().trim(),i=$("#customer_date_of_birth").val().trim(),a=$("#customer_wedding_anniversary").val().trim();if($("#add-customer-display-phone-number").val().length>0)var o=$("#add-customer-display-phone-number").intlTelInput("getNumber").replace(/\s/g,"");else;customerProfileUpdate({device_id:crossplat.device.uuid,id:sessionStorage.getItem("customer_id"),data:{alternate_email:t,display_phone_number:o,date_of_birth:i,wedding_anniversary:a}}).then((e=>{removeLoader(),sessionStorage.removeItem("edit_from"),location.hash="customer/profile"})).catch((e=>{"no updated data found"==e.msg&&(sessionStorage.removeItem("edit_from"),location.hash="customer/profile")}))}else removeLoader()})),$(document).on("click",".edit-associate-customer-profile",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){addLoader();var t=digibiz.employee_business_list.find((e=>e.id==sessionStorage.getItem("business_id")));if(t){var i=t.status.status;if("self-verified"==i||"inactive_pending"==i){sessionStorage.setItem("edit_from","profile_page");sessionStorage.getItem("customer_id");location.hash="edit/associate_customer/profile"}else{showAlert({alert_id:"alert-business-not-active-box",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"<div>Business is inactive. Please contact your business administrators.</div>",alert_btn:[{name:"OK",attr:[{name:"id",value:"btn-business-not-active-ok"}]}]},(function(){removeLoader()}))}}else{showAlert({alert_id:"alert-business-not-active-box",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"<div>Business not found! Please try again later.</div>",alert_btn:[{name:"OK",attr:[{name:"id",value:"btn-business-not-active-ok"}]}]},(function(){removeLoader()}))}}})),$(document).on("click","#save-associate-customer-btn-profile",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){addLoader();var t=sessionStorage.getItem("customer_id");if(validateAssociateCustomerProfile()){var i=$("#associate_customer_alternate_email").text().trim(),a=$("#associate_customer_date_of_birth").val().trim(),o=$("#associate_customer_wedding_anniversary").val().trim();if($("#add-associate-customer-display-phone-number").val().length>0)var s=$("#add-associate-customer-display-phone-number").intlTelInput("getNumber").replace(/\s/g,"");else;associateCustomerProfileUpdate({device_id:crossplat.device.uuid,id:t,data:{alternate_email:i,display_phone_number:s,date_of_birth:a,wedding_anniversary:o}}).then((e=>{removeLoader(),location.hash="customer/profile"})).catch((e=>{"no updated data found"==e.msg&&(removeLoader(),location.hash="customer/profile")}))}else removeLoader()}})),$(document).on("click",".cancel-associate-customer-btn",(function(e){e.stopImmediatePropagation(),isDoubleClicked($(this))||(addLoader(),sessionStorage.getItem("customer_id")&&"customer"==sessionStorage.getItem("digibiz_role")&&(sessionStorage.removeItem("edit_from"),location.hash="customer/profile"))})),$(document).on("click",".view-business-profile-pic",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){addLoader();var t=$(this);if(""==$(t).find("img").attr("src")||null==$(t).find("img").attr("src")||null==$(t).find("img").attr("src"))console.log("no picture"),fetch.getHtml((function(e,t){showModal({modal_platform:crossplat.device.platform,modal_id:"business-display-picture-preview-modal",modal_header:"",modal_body:t},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),removeLoader()}))}),"page/common/identity_picture_preview","#identity-picture-preview-template",null);else{var i;i="business_owner_business_list"==$("body").attr("app")?$(t).parents(".business-wrapper").attr("data-business-id"):"employee_business_list"==$("body").attr("app")||"customer_business_list"==$("body").attr("app")?$(t).parents(".employee-business-wrapper").attr("data-business-id"):"view_business_profile"==$("body").attr("app")?sessionStorage.getItem("business_id"):$(t).find("img").attr("data-business-id");var a=$(t).find("img").attr("data-id"),o={getAvatarUrl:`${api.get_business_multimedia}?business_id=${i}&device_id=${crossplat.device.uuid}&image_id=${a}`};fetch.getHtml((function(e,t){showModal({modal_platform:crossplat.device.platform,modal_id:"business-display-picture-preview-modal",modal_header:"",modal_body:t},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),removeLoader()}))}),"page/common/identity_picture_preview","#identity-picture-preview-template",o)}}})),$(document).on("click",".view-employee-profile-pic",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){addLoader();var t=$(this);if(""==$(t).find("img").attr("src")||null==$(t).find("img").attr("src")||null==$(t).find("img").attr("src")){console.log("no picture"),$(t).find(".persona").text();var i={imageLetter:$(t).find(".persona").text()};fetch.getHtml((function(e,t){showModal({modal_platform:crossplat.device.platform,modal_id:"employee-display-picture-preview-modal",modal_header:"",modal_body:t},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),removeLoader()}))}),"page/common/identity_picture_preview","#identity-picture-preview-template",i)}else{var a;a="employee_profile"==$("body").attr("app")?sessionStorage.getItem("employee_id"):$(t).find("img").attr("data-employee-id");var o=$(t).find("img").attr("data-id");i={getAvatarUrl:`${api.get_employee_identity_picture}?id=${a}&device_id=${crossplat.device.uuid}&image_id=${o}`};fetch.getHtml((function(e,t){showModal({modal_platform:crossplat.device.platform,modal_id:"employee-display-picture-preview-modal",modal_header:"",modal_body:t},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),removeLoader()}))}),"page/common/identity_picture_preview","#identity-picture-preview-template",i)}}})),$(document).on("click",".view-customer-profile-pic",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){addLoader();var t=$(this);if(""==$(t).find("img").attr("src")||null==$(t).find("img").attr("src")||null==$(t).find("img").attr("src")){console.log("no picture");var i={imageLetter:$(t).find(".persona").text()};fetch.getHtml((function(e,t){showModal({modal_platform:crossplat.device.platform,modal_id:"customer-display-picture-preview-modal",modal_header:"",modal_body:t},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),removeLoader()}))}),"page/common/identity_picture_preview","#identity-picture-preview-template",i)}else{var a,o;"customer_profile"==$("body").attr("app")?(a=sessionStorage.getItem("customer_id"),o=sessionStorage.getItem("customer_type")):(a=$(t).find("img").attr("data-customer-id"),o=$(t).find("img").attr("data-customer-type"));var s=$(t).find("img").attr("data-id");if("customer"==o)var r=`${api.get_customer_identity_picture}?id=${a}&device_id=${crossplat.device.uuid}&image_id=${s}`;else r=`${api.get_associate_customer_identity_picture}?id=${a}&device_id=${crossplat.device.uuid}&image_id=${s}`;i={getAvatarUrl:r};fetch.getHtml((function(e,t){showModal({modal_platform:crossplat.device.platform,modal_id:"customer-display-picture-preview-modal",modal_header:"",modal_body:t},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),removeLoader()}))}),"page/common/identity_picture_preview","#identity-picture-preview-template",i)}}})),$(document).on("click","#reregister",(function(){addLoader(),showAlert({alert_id:"alert-reregister-btn",alert_platform:crossplat.device.platform,alert_title:"Re-register",alert_body:"Are you sure, You want to Re-register?",alert_btn:[{name:"NO",attr:[{name:"id",value:"reregister-cancel"}]},{name:"YES",attr:[{name:"id",value:"reregister-confirm"}]}]},(function(){removeLoader()}))})),$(document).on("click","#reregister-cancel",(function(){$("#alert-reregister-btn").remove()})),$(document).on("click","#reregister-confirm",(function(){addLoader();var e={device_id:crossplat.device.uuid,details:{re_register:!0,re_register_app:"business"}};fetch.apiCall((function(e,t,i){if(removeLoader(),$("#alert-reregister-btn").remove(),"success"===t)window.register_confirmation=!1,router.navigateUri(app.indexRoute);else{var a=JSON.parse(e.responseText);window.plugins.toast.showLongBottom(a.message)}}),api.set_profile,"POST","JSON",e)})),$(document).on("click",".wrapper-dropdown .custom-dropdown li",(function(e){if("digibiz_logs"==$("body").attr("app")){e.stopPropagation();var t=sessionStorage.getItem("log_type");if($(this).parents(".wrapper-dropdown").removeClass("active"),console.log("123",$(this).attr("data-value")),$(this).attr("data-value")){if(digibiz.logs_list=[],$(this).parents(".custom-dropdown").siblings(".selected-dropdown").text($(this).text()).removeClass("disabled"),$(this).parents(".custom-dropdown").siblings(".selected-dropdown").attr("data-value",$(this).attr("data-value")),$(this).hasClass("disabled")?$(this).parents(".custom-dropdown").siblings(".selected-dropdown").addClass("disabled"):$(this).parents(".custom-dropdown").siblings(".selected-dropdown").removeClass("disabled"),"all"==$(this).attr("data-value"))var i={device_id:crossplat.device.uuid,user_id:sessionStorage.getItem("account_id"),account_id:sessionStorage.getItem("account_id")};else i={device_id:crossplat.device.uuid,user_id:sessionStorage.getItem("account_id"),account_id:sessionStorage.getItem("account_id"),filter_value:$(this).attr("data-value"),offset:0,count:20};t&&"jeevi_hub_page"==t?i.list_by="jeevi_hub_page":t&&"digibiz_login_logs"==t?i.list_by="digibiz_login_logs":t&&"digibiz_hub_page"==t?i.list_by="digibiz_account":t&&"digibiz_roles_logs"==t?i.list_by="digibiz_roles":t&&"notification_role_page"==t?i.list_by="notification_roles_page":t&&"digibiz_business_logs"==t?i.list_by="digibiz_business_logs":t&&"business_owner_business_list_page"==t?i.list_by="business_owner_roles_page":t&&"business_app_hub_page"==t?(i.list_by="business_app_hub_page",i.business_id=sessionStorage.getItem("business_id")):t&&"app_permission_logs"==t?(i.list_by="app_permissions_page",i.business_id=sessionStorage.getItem("business_id")):"employee"==sessionStorage.getItem("log_type")?(i.list_by="business_module",i.business_id=sessionStorage.getItem("business_id"),i.type="employee"):"customer_logs"==sessionStorage.getItem("log_type")?(i.list_by="customer_logs",i.business_id=sessionStorage.getItem("business_id"),i.type="customer"):"teams_group_logs"==sessionStorage.getItem("log_type")?(i.list_by="business_teams",i.business_id=sessionStorage.getItem("business_id")):"collaborator_group_logs"==sessionStorage.getItem("log_type")&&(i.list_by="collaborator",i.business_id=sessionStorage.getItem("business_id")),addLoader(),"all"==$(this).attr("data-value")?fetch.apiCall((function(e,t,i){"success"===t?processLogsList(e.data,(function(e){removeLoader(),appScroll.scrollBar(".digibiz-logs-list-contentbox"),listenForDigibizLogsListScrollEvent($(".digibiz-logs-list-contentbox"))})):console.log("error fetching activity")}),api.list_digibiz_logs,"POST","JSON",i):fetch.apiCall((function(e,t,i){"success"===t?processLogsList(e.data,(function(e){appScroll.scrollBar(".digibiz-logs-list-contentbox"),listenForDigibizLogsListScrollEvent($(".digibiz-logs-list-contentbox")),removeLoader()})):console.log("error fetching activity")}),api.get_digibiz_logs_by_filters,"POST","JSON",i)}else console.log("23456");$(this).parents(".custom-dropdown").siblings(".selected-dropdown").attr("data-value")&&removeError(".selected-dropdown")}else $(this).attr("data-value")&&($(this).parents(".custom-dropdown").siblings(".selected-dropdown").text($(this).text()).removeClass("disabled"),$(this).parents(".custom-dropdown").siblings(".selected-dropdown").attr("data-value",$(this).attr("data-value")),$(this).hasClass("disabled")?$(this).parents(".custom-dropdown").siblings(".selected-dropdown").addClass("disabled"):$(this).parents(".custom-dropdown").siblings(".selected-dropdown").removeClass("disabled")),$(this).attr("data-id")&&$(this).parents(".custom-dropdown").siblings(".selected-dropdown").attr("data-id",$(this).attr("data-id")),$(this).parents(".custom-dropdown").siblings(".selected-dropdown").attr("data-value")&&removeError(".selected-dropdown")})),$(document).on("click",".teams-management",(function(){addLoader(),location.hash="teams/management/hub"})),$(document).on("click",".team-group-creation",(function(){addLoader(),location.hash="team_group_creation/list"})),$(document).on("click",".view-team-group",(function(){addLoader();var e=$(this).parents(".employee-group-wrapper").attr("data-group-id"),t=$(this).parents(".employee-group-wrapper").attr("data-type"),i=$(this).parents(".employee-group-wrapper").attr("data-socket_enable_status");if("custom"==t){var a=$(this).parents(".employee-group-wrapper").attr("data-group-from");sessionStorage.setItem("group_from",a)}"true"==i?(employeeGroupUpdate({device_id:crossplat.device.uuid,id:e,data:{socket_enable_status:"false",update_for:"socket_enable_status"}}).then((e=>{console.log("response",e)})).catch((e=>{console.log("err",e)})),sessionStorage.setItem("group_type",t),sessionStorage.removeItem("group_id"),sessionStorage.setItem("group_id",e),location.hash="teams/group/create"):(Materialize.toast("Access Denied! You or other administrator is updating this group at other place.",3e3,"round error-alert"),showAlert({alert_id:"alert-group-device-change-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Access Denied! You or other administrator is updating this group at other place. Would to like to cancel there and continue here?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-group-device-change-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-group-device-change-cancel-no"}]}]},(function(){removeLoader(),$("#alert-group-device-change-confirm-cancel").attr("data-group-id",e),$("#alert-group-device-change-confirm-cancel").attr("data-group-type",t)})))})),$(document).on("click","#add_teams_group_moderator",(function(){var e,t;addLoader(),digibiz.employeeSelectedContactList=[],digibiz.teamGroupEmployeeSelectionList=[],"teams_group_create"==$("body").attr("app")?(e=sessionStorage.getItem("group_id"),t=sessionStorage.getItem("group_from")):(e=$(this).parents(".employee-group-wrapper").attr("data-group-id"),t=$(this).parents(".employee-group-wrapper").attr("data-group-from")),groupGet({device_id:crossplat.device.uuid,id:e}).then((i=>{console.log("groupResponse",i),i.hasOwnProperty("moderator")&&i.moderator&&(digibiz.alreadySelected=i.moderator,console.log("digibiz.alreadySelected",digibiz.alreadySelected)),groupMemberList({device_id:crossplat.device.uuid,group_id:e}).then((a=>{a&&a.length>0?employeeList({device_id:crossplat.device.uuid,list_by:"list_only_active",business_id:sessionStorage.getItem("business_id"),count:20,offset:0}).then((a=>{console.log("getCompleteGroupMembers",a),digibiz.employee_list=[],digibiz.employee_list=a,showModal({modal_platform:crossplat.device.platform,modal_id:"modal-communication-group-activate-employee-group-employee-list-selection",modal_header:"Group Members",modal_body:'<div id="communication-group-activate-employee-group-employee-list-main-container">\n                                            <div class="search">\n                                                <div class="expand-search-wrap search-wrapper" id="communication-group-activate-employee-group-employee-list-search-btn">\n                                                    <span class="searchbtn waves-effect cursor-pointer"><i class="material-icons">search</i></span>\n                                                    <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                                                    <span class="searchclosebtn"><i class="material-icons communication-group-activate-employee-group-employee-list-close-btn hide">close</i></span>\n                                                </div>\n                                            </div>\n                                        <div id="communication-group-activate-employee-group-employee-list-wrapper"></div>\n                                        </div>',modal_action_buttons:[{name:"Save",id:"team-group-activate-save-btn"}]},(function(){$("#modal-communication-group-activate-employee-group-employee-list-selection").attr("data-group-id",e),$("#modal-communication-group-activate-employee-group-employee-list-selection").attr("data-group-type",t),removeLoader(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),processTeamGroupCreateEmployeeSelectionList(a,i,(function(){setTimeout((function(){listenForEmployeeList($(".modal-popup-content"));var e=$("#modal-communication-group-activate-employee-group-employee-list-selection").find(".expand-search-input");e&&($(document).on("input",e,(function(){timestamp=(new Date).getTime(),e.attr("socketid",timestamp)})),$(document).on("keyup",e,(function(){if(socketid=e.attr("socketid"),keyword=e.val(),socketid&&keyword){switch(document.getElementsByClassName("searchclosebtn")[0].style.display="flex",currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:socketid,app:"digibiz",keyword:keyword},currentroute){case"employee_group_creation_list":case"employee_group_create":"standard"==sessionStorage.getItem("selected-employee-group-list-type-tab")?$("#modal-communication-group-activate-employee-group-employee-list-selection").length>0&&(data.index="getEmployeeStandardGroupModeratorList",data.group_id=$("#modal-communication-group-activate-employee-group-employee-list-selection").attr("data-group-id")):"custom"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&$("#modal-communication-group-activate-employee-group-employee-list-selection").length>0&&("standard_group"==t?(data.index="getEmployeeCustomStandardGroupModeratorList",data.group_id=$("#modal-communication-group-activate-employee-group-employee-list-selection").attr("data-group-id")):(data.index="getDigibizGroupMembersListPage",data.group_id=$("#modal-communication-group-activate-employee-group-employee-list-selection").attr("data-group-id")))}addLoader(),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300)}else switch(removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),e.attr("socketid",""),currentroute){case"employee_group_creation_list":case"employee_group_create":"standard"==sessionStorage.getItem("selected-employee-group-list-type-tab")?$("#modal-communication-group-activate-employee-group-employee-list-selection").length>0&&processCommunicationGroupActivateEmployeeGroupEmployeeList(digibiz.communicationActivateEmployeeGroupEmployeeList,i,(function(){})):"custom"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&$("#modal-communication-group-activate-employee-group-employee-list-selection").length>0&&processCommunicationGroupActivateEmployeeGroupEmployeeList(digibiz.communicationActivateEmployeeGroupEmployeeList,i,(function(){}))}})),$(document).on("click",".searchclosebtn",(function(){"standard"==sessionStorage.getItem("selected-employee-group-list-type-tab")?$("#modal-communication-group-activate-employee-group-employee-list-selection").length>0&&processCommunicationGroupActivateEmployeeGroupEmployeeList(digibiz.communicationActivateEmployeeGroupEmployeeList,i,(function(){})):"custom"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&$("#modal-communication-group-activate-employee-group-employee-list-selection").length>0&&processCommunicationGroupActivateEmployeeGroupEmployeeList(digibiz.communicationActivateEmployeeGroupEmployeeList,i,(function(){}))})))}),0)}))}))})).catch((e=>{removeLoader()})):(removeLoader(),Materialize.toast("Atleast one member in the group to add moderator.",3e3,"round error-alert"))})).catch((e=>{removeLoader()}))})).catch((e=>{removeLoader()}))})),$(document).on("click","#team-group-activate-save-btn",(function(){addLoader();var e=$("#modal-communication-group-activate-employee-group-employee-list-selection").attr("data-group-id"),t=[],i=[],a=$(".communication-group-employee-select-btn");if($.each(a,(function(e,i){$(i).parents(".communication-group-employee-select-btn-checkbox-click-wrapper").hasClass("selected-row")&&t.push({id:$(i).attr("data-dj-unique-employee-id"),type:"employee",user_id:$(i).attr("data-dj-unique-employee-id"),group_id:$(i).parents(".accordion-content").attr("data-group-id")})})),$.each(digibiz.alreadySelected,(function(e,a){if(a.hasOwnProperty("group_id")&&a.group_id){0==$(`.accordion-content[data-group-id="${a.group_id}"]`).find(`.communication-group-employee-select-btn[data-dj-unique-employee-id="${a.id}"]`).parents(".communication-group-employee-select-btn-checkbox-click-wrapper").hasClass("selected-row")&&i.push(a);var o=t.findIndex((e=>e.id==a.id&&e.group_id==a.group_id));o>-1&&t.splice(o,1)}else{0==$(`.communication-group-employee-select-btn[data-dj-unique-employee-id="${a.id}"]`).parents(".communication-group-employee-select-btn-checkbox-click-wrapper").hasClass("selected-row")&&i.push(a),t=t.filter((function(e){return e.id!=a.id}))}})),t.length>0||i.length>0){if(t.length>0)groupModeratorAdd({device_id:crossplat.device.uuid,id:e,moderator_data:t}).then((t=>{i.length>0?$.each(i,(function(t,i){var a={device_id:crossplat.device.uuid,id:e,moderator_id:i.id};i.hasOwnProperty("group_id")&&i.group_id&&(a.moderator_group_id=i.group_id),groupModeratorDelete(a).then((e=>{digibiz.alreadySelected=[],digibiz.teamGroupEmployeeSelectionList=[],teamGroupCreationPage(),$("#modal-communication-group-activate-employee-group-employee-list-selection").remove(),Materialize.toast("Successfully updated.",3e3,"round error-alert"),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))})):(digibiz.alreadySelected=[],digibiz.teamGroupEmployeeSelectionList=[],teamGroupCreationPage(),$("#modal-communication-group-activate-employee-group-employee-list-selection").remove(),Materialize.toast("Successfully updated.",3e3,"round error-alert"),removeLoader())})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}));0==t.length&&i.length>0&&$.each(i,(function(t,i){var a={device_id:crossplat.device.uuid,id:e,moderator_id:i.id};i.hasOwnProperty("group_id")&&i.group_id&&(a.moderator_group_id=i.group_id),groupModeratorDelete(a).then((e=>{digibiz.alreadySelected=[],digibiz.teamGroupEmployeeSelectionList=[],teamGroupCreationPage(),$("#modal-communication-group-activate-employee-group-employee-list-selection").remove(),Materialize.toast("Successfully updated.",3e3,"round error-alert"),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))}))}else Materialize.toast("No data changed to save.",3e3,"round error-alert"),removeLoader()})),$(document).on("click","#team_group_cancel_button",(function(){addLoader(),sessionStorage.getItem("group_id")?(reqParam={device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id"),data:{socket_enable_status:"true",update_for:"socket_enable_status"}},employeeGroupUpdate(reqParam).then((e=>{sessionStorage.removeItem("group_id"),sessionStorage.removeItem("group_from"),sessionStorage.removeItem("group_type"),digibiz.standard_employees_groups_list_page=[],digibiz.custom_employees_groups_list_page=[],digibiz.selectedMembers=[],location.hash="team_group_creation/list"})).catch((e=>{console.log("err",e)}))):(sessionStorage.removeItem("group_id"),sessionStorage.removeItem("group_from"),sessionStorage.removeItem("group_type"),digibiz.standard_employees_groups_list_page=[],digibiz.custom_employees_groups_list_page=[],digibiz.selectedMembers=[],location.hash="team_group_creation/list")})),$(document).on("click","#team_group_add_button",(function(e){(e.stopImmediatePropagation(),isDoubleClicked($(this)))||($(this).prop("disabled",!0),addLoader(),validateGroupData()?sessionStorage.getItem("group_id")&&employeeGroupUpdate({device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id"),data:{name:firstLetterUpperCase($("#employeeGroupName").val()),description:firstLetterUpperCase($("#employee_group_desc").val()),visibility:$(".selected-value-group-visbility").attr("data-value"),conversation_setting:$(".selected-value-group-conversation-setting").attr("data-value"),post_setting:$(".selected-value-group-post-setting").attr("data-value")}}).then((e=>{$(this).prop("disabled",!1),sessionStorage.removeItem("group_id"),sessionStorage.removeItem("group_type"),location.hash="team_group_creation/list"})).catch((e=>{$(this).prop("disabled",!1),"no updated data found"==e.msg?(sessionStorage.removeItem("group_id"),sessionStorage.removeItem("group_type"),location.hash="team_group_creation/list"):removeLoader()})):($(this).prop("disabled",!1),removeLoader()))})),$(document).on("click",".teams-activity-logs",(function(){addLoader(),sessionStorage.setItem("log_type","teams_group_logs"),location.hash="digibiz/logs"})),$(document).on("click","#inactive_teams_group",(function(){addLoader(),teamsGroupInactive({device_id:crossplat.device.uuid,status:"inactive",id:sessionStorage.getItem("group_id")}).then((e=>{sessionStorage.removeItem("group_from"),sessionStorage.removeItem("group_id"),sessionStorage.removeItem("group_type"),location.hash="team_group_creation/list"})).catch((e=>{removeLoader(),Materialize.toast("Error in inactivating the group.",3e3,"round error-alert")}))})),$(document).on("click","#active_teams_group",(function(){addLoader(),groupGet({device_id:crossplat.device.uuid,id:sessionStorage.getItem("group_id")}).then((e=>{e.hasOwnProperty("moderator")&&e.moderator&&e.moderator.length>0?groupMemberList({device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id")}).then((e=>{e&&e.length>0?teamsGroupInactive({device_id:crossplat.device.uuid,status:"active",id:sessionStorage.getItem("group_id")}).then((e=>{sessionStorage.removeItem("group_from"),sessionStorage.removeItem("group_id"),sessionStorage.removeItem("group_type"),location.hash="team_group_creation/list"})).catch((e=>{removeLoader(),Materialize.toast("Error in inactivating the group.",3e3,"round error-alert")})):(removeLoader(),Materialize.toast("Atleast one member should be there to make it as active.",3e3,"round error-alert"))})).catch((e=>{removeLoader(),Materialize.toast("Error in activating the group.",3e3,"round error-alert")})):(removeLoader(),Materialize.toast("Please add moderator to activate the group.",3e3,"round error-alert"))})).catch((e=>{removeLoader(),Materialize.toast("Error in activating the group.",3e3,"round error-alert")}))})),$(document).on("click",".profile-pic-container",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){addLoader();var t=$(this);if(""==$(t).find("img").attr("src")||null==$(t).find("img").attr("src")||null==$(t).find("img").attr("src")){console.log("no picture"),$(t).find(".persona").text();var i={imageLetter:$(t).find(".persona").text()};fetch.getHtml((function(e,t){showModal({modal_platform:crossplat.device.platform,modal_id:"employee-display-picture-preview-modal",modal_header:"",modal_body:t},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),removeLoader()}))}),"page/common/identity_picture_preview","#identity-picture-preview-template",i)}else{i={getAvatarUrl:$(t).find("img").attr("src")};fetch.getHtml((function(e,t){showModal({modal_platform:crossplat.device.platform,modal_id:"employee-display-picture-preview-modal",modal_header:"",modal_body:t},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),removeLoader()}))}),"page/common/identity_picture_preview","#identity-picture-preview-template",i)}}})),$(document).on("click","#collaborator-business-list",(function(e){(e.stopImmediatePropagation(),isDoubleClicked($(this)))||(addLoader(),getCollaboratorBusinessList({device_id:crossplat.device.uuid,employee_id:sessionStorage.getItem("employee_id"),business_id:sessionStorage.getItem("business_id")}).then((e=>{console.log("businessList response",e),fetch.replaceHtml((function(){processCollaboratorCustomerBusinessList(e,(function(){removeLoader()}))}),"page/business/customer_business_list_wrapper","#customer-business-list-wrapper-template","#main-content-wrapper",null)})).catch((e=>{fetch.replaceHtml((function(){fetch.replaceHtml((function(e){e||(removeLoader(),resolve())}),"page/business/customer_business_list_data","#customer-business-data-list-template","#customer-business-list-wrapper",null)}),"page/business/customer_business_list_wrapper","#customer-business-list-wrapper-template","#main-content-wrapper",null)})))})),$(document).on("click","#add_collaborator_customer_business_btn",(function(){addLoader(),collaboratorList({device_id:crossplat.device.uuid,list_by:"my_collaborators",business_id:sessionStorage.getItem("business_id")}).then((e=>{console.log("collaboratorList response",e);let t=[];$.each(e,(function(e,i){t.push(i)})),digibiz.collaborator_contact_list=e,$.each($("input[name='selectedcollaboratorcontact[]']"),(function(e,i){t=t.filter((function(e){return e.id!=$(i).val()}))})),$.each($(".collaborator-group-business-member-wrapper"),(function(e,i){t=t.filter((function(e){return e.business_id!=$(i).attr("data-business-id")}))}));var i={collaboratorContactList:t.map((e=>{if(e.hasOwnProperty("business_display_picture")&&e.business_display_picture)if(e.business_display_picture.hasOwnProperty("thumbnail")&&e.business_display_picture.thumbnail){var t=`${api.get_business_multimedia}?business_id=${e.business_id}&device_id=${crossplat.device.uuid}&image_id=${e.business_display_picture.thumbnail}`;e.business_display_picture.avtarUrl=t,e.imageLetter=e.business_name.charAt(0)}else e.imageLetter=e.business_name.charAt(0);else e.imageLetter=e.business_name.charAt(0);return e}))};fetch.getHtml((function(e,i){showModal({modal_id:"modal-collaborator-group-contact-list-selection",modal_header:"Collaborator Contact List",modal_platform:crossplat.device.platform,modal_body:i,modal_action_buttons:[{name:"Add",id:"add-collaborator-customer-contact-list-selected"}]},(function(){$(".collaborator-contact-selection-list-main-container").prepend('<div class="search">\n                         <div class="expand-search-wrap search-wrapper" id="collaborator-contact-selection-list-search-btn">\n                         <span class="searchbtn waves-effect cursor-pointer"><i class="material-icons">search</i></span>\n                             <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                             <span class="searchclosebtn"><i class="material-icons collaborator-contact-selection-list-close-btn hide">close</i></span>\n                         </div></div>'),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),removeLoader(),setTimeout((function(){var e=$("#collaborator-contact-selection-list-search-btn").find(".expand-search-input");e&&($(document).on("input",e,(function(){timestamp=(new Date).getTime(),e.attr("socketid",timestamp)})),$(document).on("keyup",e,(function(){if(socketid=e.attr("socketid"),keyword=e.val(),socketid&&keyword){if(document.getElementsByClassName("searchclosebtn")[0].style.display="flex",currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:socketid,app:"digibiz",keyword:keyword},"collaborator_group_create"===currentroute)$("#modal-collaborator-group-contact-list-selection").length>0&&(data.index="getActiveCollaboratorListPage",data.business_id=sessionStorage.getItem("business_id"));addLoader(),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300)}else if(removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),e.attr("socketid",""),"collaborator_group_create"===currentroute)$("#modal-collaborator-group-contact-list-selection").length>0&&processActiveCollaboratorContactList(t,(function(){}))})),$(document).on("click",".searchclosebtn",(function(){$("#modal-collaborator-group-contact-list-selection").length>0&&processActiveCollaboratorContactList(t,(function(){}))})))}),0)}))}),"page/collaborator/contact_list_selection","#collaborator-contact-selection-list-template",i)})).catch((e=>{removeLoader(),Materialize.toast("No Contacts Found",3e3,"round success-alert")}))})),$(document).on("click","#add-collaborator-customer-contact-list-selected",(function(){if(addLoader(),$(".contact-select-btn:checked").length>0){let t=[];$.each($(".contact-select-btn:checked"),(function(e,i){t.push({id:$(i).attr("data-business-id")})}));var e=uniqueArray(t);businessNotificationAdd({device_id:crossplat.device.uuid,type:"collaborator_customer_contact_list",requestor_business_id:sessionStorage.getItem("business_id"),add_type:"add",data_type:"business_name",business_ids:e,identifier_id:sessionStorage.getItem("identifier_id")}).then((e=>{removeLoader(),Materialize.toast("Successfully sent notification",3e3,"round success-alert"),$("#modal-collaborator-group-contact-list-selection").remove()})).catch((e=>{removeLoader(),Materialize.toast(`${e.msg}`,3e3,"round error-alert")})),removeLoader()}else removeLoader(),Materialize.toast("Please select atleast 1 business.",3e3,"round success-alert")})),$(document).on("click","#add-collaborator-customer-selected-employees",(function(){addLoader();$("#modal-collaborator-group-employees-selection").attr("data-group-id");var e=$("#modal-collaborator-group-employees-selection").attr("data-notification-id"),t=$("#modal-collaborator-group-employees-selection").attr("data-receiver-business-id"),i=$("#modal-collaborator-group-employees-selection").attr("data-sender-business-id"),a=$("#modal-collaborator-group-employees-selection").attr("data-customer-identifier-id");let o=[];$.each($(".collaborator-group-employee-select-btn:checked"),(function(e,t){o.push({id:$(t).attr("data-dj-unique-employee-id"),business_id:sessionStorage.getItem("business_id")})}));var s=removeDuplicates(o,"id");(console.log("contactlist",s),o.length>0)?collaboratorCustomerAdd({device_id:crossplat.device.uuid,identifier_id:a,notification_id:e,business_id:sessionStorage.getItem("business_id"),collaborator_business_id:i,members:s}).then((i=>{businessNotificationChangeStatus({device_id:crossplat.device.uuid,notification_id:e,business_id:t,identifier_id:a,action:"accepted"}).then((t=>{Materialize.toast("Successfully Accepted Notification.",3e3,"round error-alert"),$("#modal-collaborator-group-employees-selection").remove(),$(`.accept_reject_wrap[data-notification-id="${e}"]`).parents(".business-notification-list-wrapper").remove(),removeLoader()})).catch((e=>{Materialize.toast("Error in accepting the business.",3e3,"round success-alert"),removeLoader()}))})).catch((e=>{removeLoader(),Materialize.toast("Error in members adding",3e3,"round success-alert")})):(removeLoader(),Materialize.toast("Please add employees.",3e3,"round success-alert"))})),$(document).on("click",".collaborator-customers",(function(){addLoader(),location.hash="collaborator/customer/list"})),$(document).on("click","#collaborator-customer-business-list-more-icon",(function(e){if(e.stopPropagation(),!isDoubleClicked($(this))){var t=$(this).parents(".employee-business-wrapper").attr("data-business-id"),i=$(this).parents(".employee-business-wrapper").attr("data-customer-identifier-id"),a=$(this).parents(".employee-business-wrapper").attr("data-collaborator_business_customers_id"),o=$(this).parents(".employee-business-wrapper").attr("data-customer-type"),s=$(this).parents(".employee-business-wrapper").attr("data-customer-id");if("customer/collaborators"==location.href.split("#").pop())var r={action_id:"employee_business_list_more_icon_action",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"Complete Profile",attr:[{name:"class",value:"customers_complete_profile_slider_btn"}]},{name:"Delete",attr:[{name:"id",value:"collaborator-business-customer-delete-icon"}]}]};else r={action_id:"employee_business_list_more_icon_action",action_platform:crossplat.device.platform,action_title:"Options",action_btn:[{name:"Business Profile",attr:[{name:"class",value:"business_profile_slider_btn"}]},{name:"Employess",attr:[{name:"class",value:"collaborator_employee_list_slider_btn"}]},{name:"Exit",attr:[{name:"id",value:"collaborator-customer-exit-icon"}]}]};showAction(r,(function(){$(".action-sheet-container").removeClass("hide").addClass("slide-top"),$("#employee_business_list_more_icon_action").attr("data-id",s),$("#employee_business_list_more_icon_action").attr("data-type",o),$("#employee_business_list_more_icon_action").attr("data-business-id",t),$("#employee_business_list_more_icon_action").attr("data-customer-identifier-id",i),$("#employee_business_list_more_icon_action").attr("data-collaborator-business-customers-id",a)}))}})),$(document).on("click",".customers_complete_profile_slider_btn",(function(e){if(e.stopPropagation(),!isDoubleClicked($(this))){$("#employee_business_list_more_icon_action").attr("data-business-id");var t=$("#employee_business_list_more_icon_action").attr("data-customer-identifier-id"),i=$("#employee_business_list_more_icon_action").attr("data-collaborator-business-customers-id");sessionStorage.removeItem("collaborator_business_customers_id"),sessionStorage.removeItem("collaborator_business_identifier_id"),sessionStorage.setItem("collaborator_business_customers_id",i),sessionStorage.setItem("collaborator_business_identifier_id",t),$(".action-sheet-cancel-btn").trigger("click"),location.hash="collaborator/customer/create"}})),$(document).on("click",".collaborator_employee_list_slider_btn",(function(){addLoader();var e=$("#employee_business_list_more_icon_action").attr("data-business-id"),t=$("#employee_business_list_more_icon_action").attr("data-customer-identifier-id"),i=$("#employee_business_list_more_icon_action").attr("data-collaborator-business-customers-id");$(".action-sheet-cancel-btn").trigger("click");var a={device_id:crossplat.device.uuid,list_by:"list_only_active",business_id:sessionStorage.getItem("business_id"),count:20,offset:0};getCollaboratorCustomerList({business_id:sessionStorage.getItem("business_id"),collaborator_business_id:e,identifier_id:t,collaborator_business_customers_id:i,device_id:crossplat.device.uuid}).then((o=>{console.log("customerResponse",o),digibiz.alreadySelected=o,employeeList(a).then((a=>{showModal({modal_platform:crossplat.device.platform,modal_id:"modal-communication-group-activate-employee-group-employee-list-selection",modal_header:"Group Members",modal_body:'<div id="communication-group-activate-employee-group-employee-list-main-container">\n                                        <div class="search">\n                                            <div class="expand-search-wrap" id="communication-group-activate-employee-group-employee-list-search-btn">\n                                                <span class="searchbtn waves-effect cursor-pointer"><i class="material-icons">search</i></span>\n                                                <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>\n                                                <span class="searchclosebtn"><i class="material-icons communication-group-activate-employee-group-employee-list-close-btn hide">close</i></span>\n                                            </div>\n                                        </div>\n                                        <div id="communication-group-activate-employee-group-employee-list-wrapper"></div>\n                                        </div>',modal_action_buttons:[{name:"Save",id:"collaborator-add-customer-employee-select-save-btn"}]},(function(){$("#modal-communication-group-activate-employee-group-employee-list-selection").attr("data-business-id",e),$("#modal-communication-group-activate-employee-group-employee-list-selection").attr("data-customer-identifier-id",t),$("#modal-communication-group-activate-employee-group-employee-list-selection").attr("data-collaborator-business-customers-id",i),removeLoader(),"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?($(".modal-popup-content").length>0&&appScroll.scrollBar(".modal-popup-content"),$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top")):$(".custom-modal-popup").show().addClass("modal-slide-top"),processCollaboratorEmployeeSectionList(a,o,(function(){setTimeout((function(){var e=$("#modal-communication-group-activate-employee-group-employee-list-selection").find(".expand-search-input");e&&($(document).on("input",e,(function(){timestamp=(new Date).getTime(),e.attr("socketid",timestamp)})),$(document).on("keyup",e,(function(){if(socketid=e.attr("socketid"),keyword=e.val(),socketid&&keyword){switch(document.getElementsByClassName("searchclosebtn")[0].style.display="flex",currentroute=$("body").attr("app"),data={room:crossplat.device.uuid,socketid:socketid,app:"digibiz",keyword:keyword},currentroute){case"employee_group_creation_list":case"employee_group_create":"standard"==sessionStorage.getItem("selected-employee-group-list-type-tab")?$("#modal-communication-group-activate-employee-group-employee-list-selection").length>0&&(data.index="getEmployeeStandardGroupModeratorList",data.group_id=$("#modal-communication-group-activate-employee-group-employee-list-selection").attr("data-group-id")):"custom"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&$("#modal-communication-group-activate-employee-group-employee-list-selection").length>0&&("standard_group"==group_from?(data.index="getEmployeeCustomStandardGroupModeratorList",data.group_id=$("#modal-communication-group-activate-employee-group-employee-list-selection").attr("data-group-id")):(data.index="getDigibizGroupMembersListPage",data.group_id=$("#modal-communication-group-activate-employee-group-employee-list-selection").attr("data-group-id")))}addLoader(),sockets.searchSocket.emit("search",data),setTimeout((()=>{removeLoader()}),300)}else switch(removeLoader(),document.getElementsByClassName("searchclosebtn")[0].style.display="none",currentroute=$("body").attr("app"),e.attr("socketid",""),currentroute){case"employee_group_creation_list":case"employee_group_create":"standard"==sessionStorage.getItem("selected-employee-group-list-type-tab")?$("#modal-communication-group-activate-employee-group-employee-list-selection").length>0&&processCommunicationGroupActivateEmployeeGroupEmployeeList(digibiz.communicationActivateEmployeeGroupEmployeeList,groupResponse,(function(){})):"custom"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&$("#modal-communication-group-activate-employee-group-employee-list-selection").length>0&&processCommunicationGroupActivateEmployeeGroupEmployeeList(digibiz.communicationActivateEmployeeGroupEmployeeList,groupResponse,(function(){}))}})),$(document).on("click",".searchclosebtn",(function(){"standard"==sessionStorage.getItem("selected-employee-group-list-type-tab")?$("#modal-communication-group-activate-employee-group-employee-list-selection").length>0&&processCommunicationGroupActivateEmployeeGroupEmployeeList(digibiz.communicationActivateEmployeeGroupEmployeeList,groupResponse,(function(){})):"custom"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&$("#modal-communication-group-activate-employee-group-employee-list-selection").length>0&&processCommunicationGroupActivateEmployeeGroupEmployeeList(digibiz.communicationActivateEmployeeGroupEmployeeList,groupResponse,(function(){}))})))}),0)}))}))})).catch((e=>{removeLoader()}))})).catch((e=>{console.log("err",e)}))})),$(document).on("click","#collaborator-add-customer-employee-select-save-btn",(function(){addLoader();var e=$("#modal-communication-group-activate-employee-group-employee-list-selection").attr("data-business-id"),t=$("#modal-communication-group-activate-employee-group-employee-list-selection").attr("data-customer-identifier-id"),i=$("#modal-communication-group-activate-employee-group-employee-list-selection").attr("data-collaborator-business-customers-id"),a=[],o=[],s=$(".communication-group-employee-select-btn");if($.each(s,(function(e,t){$(t).parents(".communication-group-employee-select-btn-checkbox-click-wrapper").hasClass("selected-row")&&o.push({id:$(t).attr("data-dj-unique-employee-id"),type:"employee",user_id:$(t).attr("data-dj-unique-employee-id"),business_id:$(t).attr("data-employee-business-id")})})),$.each(digibiz.alreadySelected,(function(e,t){var i=$(`.communication-group-employee-select-btn[data-dj-unique-employee-id="${t.role.id}"]`).parents(".communication-group-employee-select-btn-checkbox-click-wrapper").hasClass("selected-row");console.log("check",i),0==i&&a.push(t),o=o.filter((function(e){return e.id!=t.role.id}))})),console.log("customer_data",o),console.log("revoked_data",a),o.length>0||a.length>0){if(o.length>0)collaboratorCustomerAdd({device_id:crossplat.device.uuid,identifier_id:t,collaborator_business_id:e,business_id:sessionStorage.getItem("business_id"),collaborator_business_customers_id:i,members:o}).then((e=>{if(console.log("response",e.label),e.label){var o={device_id:crossplat.device.uuid,id:e.id,data:{identifier_id:e.identifier_id,label:e.label,status:"active"}};e.email&&(o.data.email=e.email),e.alternate_email&&(o.data.alternate_email=e.alternate_email),e.display_name&&(o.data.display_name=e.display_name),e.display_phone_number&&(o.data.display_phone_number=e.display_phone_number),e.date_of_birth&&(o.data.date_of_birth=e.date_of_birth),e.wedding_anniversary&&(o.data.wedding_anniversary=e.wedding_anniversary),e.identity_picture&&(o.data.identity_picture=e.identity_picture),console.log("reqParams",o),collaboratorCustomerBusinessUpdate(o).then((e=>{})).catch((e=>{console.log("err",e)}))}a.length>0?$.each(a,(function(e,a){collaboratorCustomerDelete({device_id:crossplat.device.uuid,id:a.id,identifier_id:t,business_id:sessionStorage.getItem("business_id"),collaborator_business_id:a.role.business_id,collaborator_business_customers_id:i,employee_id:a.role.id,status:"deleted"}).then((e=>{digibiz.alreadySelected=[],digibiz.communicationActivateEmployeeGroupEmployeeList=[],$("#modal-communication-group-activate-employee-group-employee-list-selection").remove(),Materialize.toast("Successfully updated.",3e3,"round error-alert"),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))})):(digibiz.alreadySelected=[],digibiz.communicationActivateEmployeeGroupEmployeeList=[],$("#modal-communication-group-activate-employee-group-employee-list-selection").remove(),Materialize.toast("Successfully updated.",3e3,"round error-alert"),removeLoader())})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}));0==o.length&&a.length>0&&$.each(a,(function(e,a){collaboratorCustomerDelete({device_id:crossplat.device.uuid,id:a.id,identifier_id:t,business_id:sessionStorage.getItem("business_id"),collaborator_business_id:a.role.business_id,collaborator_business_customers_id:i,employee_id:a.role.id,status:"deleted"}).then((e=>{digibiz.alreadySelected=[],digibiz.communicationActivateEmployeeGroupEmployeeList=[],$("#modal-communication-group-activate-employee-group-employee-list-selection").remove(),Materialize.toast("Successfully updated.",3e3,"round error-alert"),removeLoader()})).catch((e=>{removeLoader(),Materialize.toast(e.msg,3e3,"round error-alert")}))}))}else Materialize.toast("No data changed to save.",3e3,"round error-alert"),removeLoader()})),$(document).on("click","#collaborator-customer-exit-icon",(function(){addLoader();var e=$("#employee_business_list_more_icon_action").attr("data-business-id"),t=$("#employee_business_list_more_icon_action").attr("data-customer-identifier-id"),i=$("#employee_business_list_more_icon_action").attr("data-collaborator-business-customers-id");$("#employee_business_list_more_icon_action").remove();showAlert({alert_id:"alert-collaborator-customer-exit-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Exit",alert_body:"Are you sure you want to exit as customer?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-collaborator-customer-exit-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-collaborator-customer-exit-cancel-no"}]}]},(function(){removeLoader(),$("#alert-collaborator-customer-exit-confirm-cancel").attr("data-business-id",e),$("#alert-collaborator-customer-exit-confirm-cancel").attr("data-customer-identifier-id",t),$("#alert-collaborator-customer-exit-confirm-cancel").attr("data-collaborator-business-customers-id",i)}))})),$(document).on("click","#btn-collaborator-customer-exit-cancel-no",(function(){$("#alert-customer-exit-confirm-cancel").remove()})),$(document).on("click","#btn-collaborator-customer-exit-confirm-yes",(function(){var e=$("#alert-collaborator-customer-exit-confirm-cancel").attr("data-customer-identifier-id"),t=$("#alert-collaborator-customer-exit-confirm-cancel").attr("data-collaborator-business-customers-id"),i=$("#alert-collaborator-customer-exit-confirm-cancel").attr("data-business-id");$("#alert-customer-exit-confirm-cancel").remove(),showAlert({alert_id:"alert-confirm-transactional-password",alert_platform:crossplat.device.platform,alert_title:"Transactional Password",alert_body:'<input type="password" id="transaction_password_field" placeholder="Enter Transactional Password"/>',alert_btn:[{name:"Cancel",attr:[{name:"id",value:"btn-collaborator-customer-exit-cancel"}]},{name:"Confirm",attr:[{name:"id",value:"btn-collaborator-customer-exit-confirm"}]}]},(function(){$("#alert-confirm-transactional-password").attr("data-business-id",i),$("#alert-confirm-transactional-password").attr("data-customer-identifier-id",e),$("#alert-confirm-transactional-password").attr("data-collaborator-business-customers-id",t),removeLoader()}))})),$(document).on("click","#btn-collaborator-customer-exit-cancel",(function(){$("#alert-confirm-transactional-password").remove()})),$(document).on("click","#btn-collaborator-customer-exit-confirm",(function(){var e=$("#alert-confirm-transactional-password").attr("data-business-id"),t=$("#alert-confirm-transactional-password").attr("data-customer-identifier-id"),i=$("#alert-confirm-transactional-password").attr("data-collaborator-business-customers-id");if(addLoader(),0==$("#transaction_password_field").val().length)showError($("#transaction_password_field"),"Password is required."),removeLoader();else{checkTransactionalPassword({device_id:crossplat.device.uuid,password:$("#transaction_password_field").val(),purpose:"Collaborator Customer Exit"}).then((a=>{$("#alert-confirm-transactional-password").remove(),collaboratorIdentifierCustomerDelete({device_id:crossplat.device.uuid,identifier_id:t,collaborator_business_id:e,collaborator_business_customer_id:i,business_id:sessionStorage.getItem("business_id"),folder_delete:!0,status:"exited"}).then((e=>{removeLoader(),Materialize.toast("Successfully exited.",3e3,"round error-alert"),digibiz.customer_business_list.length>0?console.log("business is there"):(location.hash="jeevi/app/hub",console.log("fwefwef"))})).catch((e=>{removeLoader(),Materialize.toast("Error in exiting.",3e3,"round error-alert")}))})).catch((e=>{removeLoader(),Materialize.toast(e.message,3e3,"round error-alert"),e.Data&&"locked"==e.Data&&deviceHelper.logOutApp("core")}))}})),$(document).on("click","#collaborator-business-customer-delete-icon",(function(){addLoader();var e=$("#employee_business_list_more_icon_action").attr("data-business-id"),t=$("#employee_business_list_more_icon_action").attr("data-customer-identifier-id"),i=$("#employee_business_list_more_icon_action").attr("data-collaborator-business-customers-id");$("#employee_business_list_more_icon_action").remove();showAlert({alert_id:"alert-collaborator-customer-delete-confirm-cancel",alert_platform:crossplat.device.platform,alert_title:"Exit",alert_body:"Are you sure you want to delete as customer?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"btn-collaborator-customer-delete-confirm-yes"}]},{name:"No",attr:[{name:"id",value:"btn-collaborator-customer-delete-cancel-no"}]}]},(function(){removeLoader(),$("#alert-collaborator-customer-delete-confirm-cancel").attr("data-business-id",e),$("#alert-collaborator-customer-delete-confirm-cancel").attr("data-customer-identifier-id",t),$("#alert-collaborator-customer-delete-confirm-cancel").attr("data-collaborator-business-customers-id",i)}))})),$(document).on("click","#btn-collaborator-customer-delete-cancel-no",(function(){$("#alert-collaborator-customer-delete-confirm-cancel").remove()})),$(document).on("click","#btn-collaborator-customer-delete-confirm-yes",(function(){var e=$("#alert-collaborator-customer-delete-confirm-cancel").attr("data-customer-identifier-id"),t=$("#alert-collaborator-customer-delete-confirm-cancel").attr("data-collaborator-business-customers-id"),i=$("#alert-collaborator-customer-delete-confirm-cancel").attr("data-business-id");$("#alert-customer-delete-confirm-cancel").remove(),showAlert({alert_id:"alert-confirm-transactional-password",alert_platform:crossplat.device.platform,alert_title:"Transactional Password",alert_body:'<input type="password" id="transaction_password_field" placeholder="Enter Transactional Password"/>',alert_btn:[{name:"Cancel",attr:[{name:"id",value:"btn-collaborator-customer-delete-cancel"}]},{name:"Confirm",attr:[{name:"id",value:"btn-collaborator-customer-delete-confirm"}]}]},(function(){$("#alert-confirm-transactional-password").attr("data-business-id",i),$("#alert-confirm-transactional-password").attr("data-customer-identifier-id",e),$("#alert-confirm-transactional-password").attr("data-collaborator-business-customers-id",t),removeLoader()}))})),$(document).on("click","#btn-collaborator-customer-delete-cancel",(function(){$("#alert-confirm-transactional-password").remove()})),$(document).on("click","#btn-collaborator-customer-delete-confirm",(function(){var e=$("#alert-confirm-transactional-password").attr("data-business-id"),t=$("#alert-confirm-transactional-password").attr("data-customer-identifier-id"),i=$("#alert-confirm-transactional-password").attr("data-collaborator-business-customers-id");if(addLoader(),0==$("#transaction_password_field").val().length)showError($("#transaction_password_field"),"Password is required."),removeLoader();else{checkTransactionalPassword({device_id:crossplat.device.uuid,password:$("#transaction_password_field").val(),purpose:"Collaborator Customer delete"}).then((a=>{$("#alert-confirm-transactional-password").remove(),$("#alert-collaborator-customer-delete-confirm-cancel").remove(),collaboratorIdentifierCustomerDelete({device_id:crossplat.device.uuid,identifier_id:t,collaborator_business_id:e,collaborator_business_customer_id:i,business_id:sessionStorage.getItem("business_id"),folder_delete:!0,status:"deleted"}).then((e=>{removeLoader(),Materialize.toast("Successfully deleted.",3e3,"round error-alert"),$(`.employee-business-wrapper [data-collaborator_business_customers_id="${i}"]`).remove(),digibiz.customer_business_list.length>0?console.log("business is there"):(location.hash="jeevi/app/hub",console.log("fwefwef"))})).catch((e=>{removeLoader(),Materialize.toast("Error in exiting.",3e3,"round error-alert")}))})).catch((e=>{removeLoader(),Materialize.toast(e.message,3e3,"round error-alert"),e.Data&&"locked"==e.Data&&deviceHelper.logOutApp("core")}))}})),$(document).on("click",".employee-control-creation",(function(){addLoader(),location.hash="employee/controls"})),$(document).on("click",".employee-contact-add-settings",(function(){addLoader(),checkEmployeeControlSetting({business_id:sessionStorage.getItem("business_id"),user_id:sessionStorage.getItem("user_id"),device_id:crossplat.device.uuid}).then((e=>{if(e){digibiz.employeeControlSettings=e;var t={setting_type:"employee_control",contact_control_type:e.employee_add_type,employee_contacts:e.add_employee_contacts}}else t={setting_type:"employee_control"};fetch.getHtml((function(e,t){showModal({modal_id:"contacts-settings-modal",modal_header:"Settings",modal_platform:crossplat.device.platform,modal_body:t,modal_action_buttons:[{name:"Confirm",id:"contacts-settings-modal-confirm"}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"):$(".custom-modal-popup").show().addClass("modal-slide-top"),removeLoader()}))}),"page/employee/contact_settings","#contact-settings-template",t)})).catch((e=>{fetch.getHtml((function(e,t){showModal({modal_id:"contacts-settings-modal",modal_header:"Settings",modal_platform:crossplat.device.platform,modal_body:t,modal_action_buttons:[{name:"Confirm",id:"contacts-settings-modal-confirm"}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"):$(".custom-modal-popup").show().addClass("modal-slide-top"),removeLoader()}))}),"page/employee/contact_settings","#contact-settings-template",{setting_type:"employee_control"}),console.log("err",e)}))})),$(document).on("click",".employee-customer-add-settings",(function(){addLoader(),checkEmployeeControlSetting({business_id:sessionStorage.getItem("business_id"),user_id:sessionStorage.getItem("user_id"),device_id:crossplat.device.uuid}).then((e=>{if(e){digibiz.employeeControlSettings=e;var t={setting_type:"customer_control",customer_control_type:e.employee_customer_type,employee_contacts:e.employee_customer_contacts}}else t={setting_type:"customer_control"};fetch.getHtml((function(e,t){showModal({modal_id:"contacts-settings-modal",modal_header:"Settings",modal_platform:crossplat.device.platform,modal_body:t,modal_action_buttons:[{name:"Confirm",id:"employee-customer-control-settings-modal-confirm"}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"):$(".custom-modal-popup").show().addClass("modal-slide-top"),removeLoader()}))}),"page/employee/contact_settings","#contact-settings-template",t)})).catch((e=>{console.log("err");fetch.getHtml((function(e,t){showModal({modal_id:"contacts-settings-modal",modal_header:"Settings",modal_platform:crossplat.device.platform,modal_body:t,modal_action_buttons:[{name:"Confirm",id:"employee-customer-control-settings-modal-confirm"}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"):$(".custom-modal-popup").show().addClass("modal-slide-top"),removeLoader()}))}),"page/employee/contact_settings","#contact-settings-template",{setting_type:"customer_control"})}))})),$(document).on("click",".employee-trusted-add-settings",(function(){addLoader(),checkEmployeeControlSetting({business_id:sessionStorage.getItem("business_id"),user_id:sessionStorage.getItem("user_id"),device_id:crossplat.device.uuid}).then((e=>{if(e){digibiz.employeeControlSettings=e;var t={setting_type:"trusted_control",trusted_control_type:e.employee_trusted_type,employee_contacts:e.employee_trusted_contacts}}else t={setting_type:"trusted_control"};fetch.getHtml((function(e,t){showModal({modal_id:"contacts-settings-modal",modal_header:"Settings",modal_platform:crossplat.device.platform,modal_body:t,modal_action_buttons:[{name:"Confirm",id:"employee-trusted-control-settings-modal-confirm"}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"):$(".custom-modal-popup").show().addClass("modal-slide-top"),removeLoader()}))}),"page/employee/contact_settings","#contact-settings-template",t)})).catch((e=>{console.log("err");fetch.getHtml((function(e,t){showModal({modal_id:"contacts-settings-modal",modal_header:"Settings",modal_platform:crossplat.device.platform,modal_body:t,modal_action_buttons:[{name:"Confirm",id:"employee-trusted-control-settings-modal-confirm"}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"):$(".custom-modal-popup").show().addClass("modal-slide-top"),removeLoader()}))}),"page/employee/contact_settings","#contact-settings-template",{setting_type:"trusted_control"})}))})),$(document).on("click","#contacts-settings-modal-confirm",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){var t=$(".view-settings").find(".viewed-settings:checked").attr("value");if(sessionStorage.setItem("employee_add_type",t),"contacts"==t||"none"==t){var i={device_id:crossplat.device.uuid,user_id:sessionStorage.getItem("user_id"),user_type:"individual",business_id:sessionStorage.getItem("business_id"),employee_add_type:t,add_employee_contacts:[]};console.log("reqParam",i),updateSettingPageInfo(i).then((e=>{console.log("updateSettingPageInfo response",e),$("#contacts-settings-modal").remove(),sessionStorage.removeItem("employee_add_type"),digibiz.employeeControlSettings=e,Materialize.toast("Successfully updated settings",3e3,"rounded error-alert")})).catch((e=>{console.log("updateSettingPageInfo err",e)}))}else{var a={};digibiz.all_employee_active_list=[],employeeCount(i={device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"list_all_active",count:20,offset:0}).then((e=>{employeeList(i).then((i=>{digibiz.all_employee_active_list=i,digibiz.employeeControlSettings=={}&&null==digibiz.employeeControlSettings&&null==digibiz.employeeControlSettings||$.each(digibiz.employeeControlSettings.add_employee_contacts,(function(e,a){if(digibiz.employeeControlSettings.employee_add_type==t){var o=i.findIndex((e=>e.dj_unique_employee_id==a.id));console.log("index",o),-1!=o&&(i[o].selected=!0)}})),a={contactList:i,device_id:crossplat.device.uuid},fetch.getHtml((function(t,i){showModal({modal_id:"modal-show-mobile-number-contact-selection",modal_header:`Select Contacts (${e})`,modal_platform:crossplat.device.platform,modal_body:i,modal_action_buttons:[{name:"Confirm",id:"contacts-settings-choose-contacts-confirm"}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"):$(".custom-modal-popup").show().addClass("modal-slide-top"),appScroll.scrollBar(".contact-recommend-to-members-selection-list"),listenForAllEmployeeActiveListScrollEvent($(".contact-recommend-to-members-selection-list")),removeLoader()}))}),"page/employee/contacts_add_settings","#contact-add-selection-list-template",a)})).catch((e=>{console.log("err",e)}))})).catch((e=>{console.log("err",e)}))}}})),$(document).on("click","#employee-customer-control-settings-modal-confirm",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){var t=$(".view-settings").find(".viewed-settings:checked").attr("value");if(sessionStorage.setItem("employee_customer_type",t),"contacts"==t||"none"==t){var i={device_id:crossplat.device.uuid,user_id:sessionStorage.getItem("user_id"),user_type:"individual",business_id:sessionStorage.getItem("business_id"),employee_customer_type:t,employee_customer_contacts:[]};console.log("reqParam",i),updateSettingPageInfo(i).then((e=>{console.log("updateSettingPageInfo response",e),$("#contacts-settings-modal").remove(),sessionStorage.removeItem("employee_customer_type"),digibiz.employeeControlSettings=e,Materialize.toast("Successfully updated settings",3e3,"rounded error-alert")})).catch((e=>{console.log("updateSettingPageInfo err",e)}))}else{var a={};employeeList(i={device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"list_all_active",count:20,offset:0}).then((e=>{digibiz.employeeControlSettings=={}&&null==digibiz.employeeControlSettings&&null==digibiz.employeeControlSettings||$.each(digibiz.employeeControlSettings.employee_customer_contacts,(function(i,a){if(digibiz.employeeControlSettings.employee_customer_type==t){var o=e.findIndex((e=>e.dj_unique_employee_id==a.id));console.log("index",o),-1!=o&&(e[o].selected=!0)}})),a={contactList:e,device_id:crossplat.device.uuid},fetch.getHtml((function(e,t){showModal({modal_id:"modal-show-mobile-number-contact-selection",modal_header:"Select Contacts",modal_platform:crossplat.device.platform,modal_body:t,modal_action_buttons:[{name:"Confirm",id:"employee-customer-control-settings-choose-contacts-confirm"}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"):$(".custom-modal-popup").show().addClass("modal-slide-top"),removeLoader(),appScroll.scrollBar(".contact-recommend-to-members-selection-list")}))}),"page/employee/contacts_add_settings","#contact-add-selection-list-template",a)})).catch((e=>{console.log("err",e)}))}}})),$(document).on("click","#employee-trusted-control-settings-modal-confirm",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){var t=$(".view-settings").find(".viewed-settings:checked").attr("value");if(sessionStorage.setItem("employee_trusted_type",t),"contacts"==t||"none"==t){var i={device_id:crossplat.device.uuid,user_id:sessionStorage.getItem("user_id"),user_type:"individual",business_id:sessionStorage.getItem("business_id"),employee_trusted_type:t,add_employee_contacts:[]};console.log("reqParam",i),updateSettingPageInfo(i).then((e=>{console.log("updateSettingPageInfo response",e),$("#contacts-settings-modal").remove(),sessionStorage.removeItem("employee_trusted_type"),digibiz.employeeControlSettings=e,Materialize.toast("Successfully updated settings",3e3,"rounded error-alert")})).catch((e=>{console.log("updateSettingPageInfo err",e)}))}else{var a={};employeeList(i={device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),list_by:"list_all_active",count:20,offset:0}).then((e=>{digibiz.employeeControlSettings=={}&&null==digibiz.employeeControlSettings&&null==digibiz.employeeControlSettings||$.each(digibiz.employeeControlSettings.employee_trusted_contacts,(function(i,a){if(digibiz.employeeControlSettings.employee_trusted_type==t){var o=e.findIndex((e=>e.dj_unique_employee_id==a.id));console.log("index",o),-1!=o&&(e[o].selected=!0)}})),a={contactList:e,device_id:crossplat.device.uuid},fetch.getHtml((function(e,t){showModal({modal_id:"modal-show-mobile-number-contact-selection",modal_header:"Select Contacts",modal_platform:crossplat.device.platform,modal_body:t,modal_action_buttons:[{name:"Confirm",id:"employee-trusted-control-settings-choose-contacts-confirm"}]},(function(){"browser"==crossplat.device.platform||"desktop"==crossplat.device.platform?$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"):$(".custom-modal-popup").show().addClass("modal-slide-top"),removeLoader(),appScroll.scrollBar(".contact-recommend-to-members-selection-list")}))}),"page/employee/contacts_add_settings","#contact-add-selection-list-template",a)})).catch((e=>{console.log("err",e)}))}}})),$(document).on("click","#contacts-settings-choose-contacts-confirm",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){var t=[];if($(".contact-recommend-to-member-select-btn:checked").length>0){$.each($(".contact-recommend-to-member-select-btn:checked"),(function(e,i){t.push({id:$(i).attr("data-member-id"),type:$(i).attr("data-member-type")})}));var i={device_id:crossplat.device.uuid,user_id:sessionStorage.getItem("user_id"),user_type:"individual",business_id:sessionStorage.getItem("business_id"),employee_add_type:sessionStorage.getItem("employee_add_type"),add_employee_contacts:t};sessionStorage.getItem("business_id")&&(i.business_id=sessionStorage.getItem("business_id")),updateSettingPageInfo(i).then((e=>{sessionStorage.removeItem("employee_add_type"),$("#modal-show-mobile-number-contact-selection").remove(),digibiz.employeeControlSettings=e,Materialize.toast("Successfully updated settings",3e3,"rounded error-alert"),console.log("updateSettingPageInfo response",e)})).catch((e=>{console.log("updateSettingPageInfo err",e)}))}else removeLoader(),Materialize.toast("Please choose a contact.",2e3,"round error-alert")}})),$(document).on("click","#employee-customer-control-settings-choose-contacts-confirm",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){var t=[];if($(".contact-recommend-to-member-select-btn:checked").length>0){$.each($(".contact-recommend-to-member-select-btn:checked"),(function(e,i){t.push({id:$(i).attr("data-member-id"),type:$(i).attr("data-member-type")})}));var i={device_id:crossplat.device.uuid,user_id:sessionStorage.getItem("user_id"),user_type:"individual",business_id:sessionStorage.getItem("business_id"),employee_customer_type:sessionStorage.getItem("employee_customer_type"),employee_customer_contacts:t};sessionStorage.getItem("business_id")&&(i.business_id=sessionStorage.getItem("business_id")),updateSettingPageInfo(i).then((e=>{sessionStorage.removeItem("employee_customer_type"),$("#modal-show-mobile-number-contact-selection").remove(),digibiz.employeeControlSettings=e,Materialize.toast("Successfully updated settings",3e3,"rounded error-alert"),console.log("updateSettingPageInfo response",e)})).catch((e=>{console.log("updateSettingPageInfo err",e)}))}else{removeLoader(),showAlert({alert_id:"alert-no-contacts-choosen-settings",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"'My contacts' will be the default settings since there are no contacts choosen. Are you sure?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"alert-yes-default-contacts-settings"}]},{name:"NO",attr:[{name:"id",value:"alert-no-default-contacts-settings"}]}]},(function(){}))}}})),$(document).on("click","#employee-trusted-control-settings-choose-contacts-confirm",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){var t=[];if($(".contact-recommend-to-member-select-btn:checked").length>0){$.each($(".contact-recommend-to-member-select-btn:checked"),(function(e,i){t.push({id:$(i).attr("data-member-id"),type:$(i).attr("data-member-type")})}));var i={device_id:crossplat.device.uuid,user_id:sessionStorage.getItem("user_id"),user_type:"individual",business_id:sessionStorage.getItem("business_id"),employee_trusted_type:sessionStorage.getItem("employee_trusted_type"),employee_trusted_contacts:t};sessionStorage.getItem("business_id")&&(i.business_id=sessionStorage.getItem("business_id")),updateSettingPageInfo(i).then((e=>{sessionStorage.removeItem("employee_trusted_type"),$("#modal-show-mobile-number-contact-selection").remove(),digibiz.employeeControlSettings=e,Materialize.toast("Successfully updated settings",3e3,"rounded error-alert"),console.log("updateSettingPageInfo response",e)})).catch((e=>{console.log("updateSettingPageInfo err",e)}))}else{removeLoader(),showAlert({alert_id:"alert-no-contacts-choosen-settings",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"'My contacts' will be the default settings since there are no contacts choosen. Are you sure?",alert_btn:[{name:"Yes",attr:[{name:"id",value:"alert-yes-default-contacts-settings"}]},{name:"NO",attr:[{name:"id",value:"alert-no-default-contacts-settings"}]}]},(function(){}))}}})),$(document).on("click","#alert-no-default-contacts-settings",(function(){$("#alert-no-contacts-choosen-settings").remove()})),$(document).on("click","#alert-yes-default-contacts-settings",(function(e){if(e.stopPropagation(),!isDoubleClicked($(this))){addLoader(),$("#alert-no-contacts-choosen-settings").remove();var t={device_id:crossplat.device.uuid,user_id:sessionStorage.getItem("session_owner_id"),user_type:sessionStorage.getItem("session_owner_type"),show_number_type:"contacts",show_number_contacts:[]};sessionStorage.getItem("business_id")&&(t.business_id=sessionStorage.getItem("business_id")),console.log("reqParam",t),updateSettingPageInfo(t).then((e=>{console.log("updateSettingPageInfo response",e),$("#modal-show-mobile-number-contact-selection").remove(),sessionStorage.removeItem("show_number_type"),contacts.contactSettings=e,Materialize.toast("Successfully updated settings",3e3,"rounded error-alert"),removeLoader()})).catch((e=>{console.log("updateSettingPageInfo err",e)}))}})),$(document).on("click",".other-collaborator-tab",(function(e){e.stopImmediatePropagation(),isDoubleClicked($(this))||(addLoader(),sessionStorage.setItem("selected-collaborator-tab","other_group_collaborator"),$(".tab-content").removeClass("active"),$(`.tab-content[id="${sessionStorage.getItem("selected-collaborator-tab")}"`).addClass("active"),$(".tab").removeClass("active"),$(`.tab[data-id="${sessionStorage.getItem("selected-collaborator-tab")}"]`).addClass("active"),digibiz.other_collaborator_groups_list=[],getOtherCollaboratorGroupsListPage())})),$(document).on("click",".alumini-collaborator-tab",(function(e){e.stopImmediatePropagation(),isDoubleClicked($(this))||(addLoader(),sessionStorage.setItem("selected-collaborator-tab","alumini_group_collaborator"),$(".tab-content").removeClass("active"),$(`.tab-content[id="${sessionStorage.getItem("selected-collaborator-tab")}"`).addClass("active"),$(".tab").removeClass("active"),$(`.tab[data-id="${sessionStorage.getItem("selected-collaborator-tab")}"]`).addClass("active"),digibiz.alumini_collaborator_groups_list=[],getAluminiCollaboratorGroupsListPage())})),$(document).on("click",".my-collaborator-tab",(function(e){e.stopImmediatePropagation(),isDoubleClicked($(this))||(addLoader(),sessionStorage.setItem("selected-collaborator-tab","my_group_collaborator"),$(".tab-content").removeClass("active"),$(`.tab-content[id="${sessionStorage.getItem("selected-collaborator-tab")}"`).addClass("active"),$(".tab").removeClass("active"),$(`.tab[data-id="${sessionStorage.getItem("selected-collaborator-tab")}"]`).addClass("active"),digibiz.collaborator_groups_list=[],getCollaboratorGroupsListPage())})),$(document).on("click",".floating-tab-btn .tabs-container .tab",(function(){var e=$(this),t=$(e).attr("data-id");console.log("currentTab",t),$(e).addClass("active").siblings().removeClass("active"),$("#"+t).addClass("active").siblings().removeClass("active"),"customer-business-list"==t?(addLoader(),customersBusinessListPage().then((()=>{removeLoader()})).catch((e=>{console.log("err",e)}))):"associate-customer-business-list"==t&&(addLoader(),associateCustomersBusinessListPage().then((()=>{removeLoader()})).catch((e=>{console.log("err",e)})))})),$(document).on("click",".collaborator-communication-group-tab",(function(e){e.stopImmediatePropagation(),isDoubleClicked($(this))||(addLoader(),sessionStorage.setItem("selected-communication-tab","collaborator-communication-group-list"),$(".tab-content").removeClass("active"),$(`.tab-content[id="${sessionStorage.getItem("selected-communication-tab")}"`).addClass("active"),$(".tab").removeClass("active"),$(`.tab[data-id="${sessionStorage.getItem("selected-communication-tab")}"]`).addClass("active"),digibiz.collaboratorCommunicationGroupsList=[],getCollaboratorCommunicationGroupsPage())})),$(document).on("click",".communication-group-tab",(function(e){e.stopImmediatePropagation(),isDoubleClicked($(this))||(addLoader(),sessionStorage.setItem("selected-communication-tab","communication-group-list"),$(".tab-content").removeClass("active"),$(`.tab-content[id="${sessionStorage.getItem("selected-communication-tab")}"`).addClass("active"),$(".tab").removeClass("active"),$(`.tab[data-id="${sessionStorage.getItem("selected-communication-tab")}"]`).addClass("active"),digibiz.communicationGroupsList=[],getCommunicationGroupsPage())})),$(document).on("click","#contact-control-activity-logs",(function(){addLoader(),sessionStorage.setItem("log_type","contact_control_logs"),location.hash="digibiz/logs",$("#modal-close-btn").click()})),$(document).on("click","#customer-control-activity-logs",(function(){addLoader(),sessionStorage.setItem("log_type","customer_control_logs"),location.hash="digibiz/logs",$("#modal-close-btn").click()})),$(document).on("click","#trusted-control-activity-logs",(function(){addLoader(),sessionStorage.setItem("log_type","trusted_control_logs"),location.hash="digibiz/logs",$("#modal-close-btn").click()})),$(document).on("click",".customer-status-filter-btn",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){var t=$(this),i=$(this).attr("data-customer-status");if($(t).toggleClass("selected-filter"),$(t).hasClass("selected-filter")){$(t).append('<div class="more-menu-wrapper selected-symbol"><i class="material-icons">check_box</i></div>'),digibiz.customerFilterData.status.push(i),digibiz.customerFilterData.status=digibiz.customerFilterData.status.filter((function(e,t,i){return t===i.indexOf(e)}))}else $(t).find(".selected-symbol").remove(),digibiz.customerFilterData.status=digibiz.customerFilterData.status.filter((function(e){return e!=i}))}})),$(document).on("click","#customer-filter-apply-btn",(function(e){e.stopImmediatePropagation(),isDoubleClicked($(this))||(addLoader(),digibiz.customer_creation_active_list=[],digibiz.customerFilterData.status.length>0?fetch.replaceHtml((function(){statusWiseCustomerListPage().then((()=>{commonExecutables(),removeLoader()})).catch((e=>{removeLoader()}))}),"page/employee/department_wise_employees_list_wrapper","#department-wise-employees-list-wrapper-template","#main-content-wrapper",null):(removeLoader(),Materialize.toast("Error! Please select atleast one option to filter",2e3,"round error-alert")))})),$(document).on("click",".informationbtn",(function(e){if(e.stopPropagation(),isDoubleClicked($(this)))return;var t=$(this);let i=$(t).attr("data-information");(console.log(i),"employee-information-list"===i)&&showModal({modal_platform:crossplat.device.platform,modal_id:"information-modal",modal_header:"Information",modal_body:'<div class="information-wrapper" id="information-wrapper"></div>'},(function(){"Android"==crossplat.device.platform||"iOS"==crossplat.device.platform?$(".custom-modal-popup").show().addClass("modal-slide-top"):$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),$(".information-wrapper").append('<div class="information-data">\n                <div class="accepted-wrapper"><div class="status--accepted">Accepted</div><div>Employee request is accepted by the person</div></div>\n                <div class="inactive-wrapper"><div class="status--inactive">Inactive</div><div>Employee is inactivated</div></div>\n                <div class="unassigned-wrapper"><div class="status--unassigned">Unassigned</div><div>employee is not assigned to any department.Assign the employee to any department to make him active</div></div>\n                <div class="exited-wrapper"><div class="status--exited">Exited</div><div>Person has deleted his digibizz account</div></div>\n                </div>')}));"employee-group-information-list"===i&&showModal({modal_platform:crossplat.device.platform,modal_id:"information-modal",modal_header:"Information",modal_body:'<div class="information-wrapper" id="information-wrapper"></div>'},(function(){"Android"==crossplat.device.platform||"iOS"==crossplat.device.platform?$(".custom-modal-popup").show().addClass("modal-slide-top"):$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),$(".information-wrapper").append('<div class="information-data">\n                <div class="draft-wrapper"><div class="status--draft">Draft</div><div>Only Members are  added to the group.Please activate the group by adding moderators to make active</div></div>\n                <div class="inactive-wrapper"><div class="status--inactive">Inactive</div><div>No Moderators in the group.Please add moderators to make group active</div></div>\n                <div class="pending-wrapper"><div class="status--pending">Pending</div><div>Employees are pending to be added to the department</div></div>\n                </div>')}));"custom-information-list"===i&&showModal({modal_platform:crossplat.device.platform,modal_id:"information-modal",modal_header:"Information",modal_body:'<div class="information-wrapper" id="information-wrapper"></div>'},(function(){"Android"==crossplat.device.platform||"iOS"==crossplat.device.platform?$(".custom-modal-popup").show().addClass("modal-slide-top"):$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),$(".information-wrapper").append('<div class="information-data">\n                <div class="accepted-wrapper"><div class="status--accepted">Accepted</div><div>Customer request is accepted by the person</div></div>\n                <div class="inactive-wrapper"><div class="status--inactive">Inactive</div><div>Customer is inactivated</div></div>\n                <div class="unassigned-wrapper"><div class="status--unassigned">Unassigned</div><div>employee is not assigned to any department.Assign the employee to any department to make him active</div></div>\n                <div class="exited-wrapper"><div class="status--exited">Exited</div><div>Person has deleted his digibizz account/Exited as customer from the business</div></div>\n                </div>')}));"custom-group-information-list"===i&&showModal({modal_platform:crossplat.device.platform,modal_id:"information-modal",modal_header:"Information",modal_body:'<div class="information-wrapper" id="information-wrapper"></div>'},(function(){"Android"==crossplat.device.platform||"iOS"==crossplat.device.platform?$(".custom-modal-popup").show().addClass("modal-slide-top"):$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),$(".information-wrapper").append('<div class="information-data">\n                <div class="draft-wrapper"><div class="status--draft">Draft</div><div>Only Members are  added to the group.Please activate the group by adding moderators to make active</div></div>\n                <div class="inactive-wrapper"><div class="status--inactive">Inactive</div><div>No Moderators in the group.Please add moderators to make group active (same in case of  collabarator)</div></div>\n                </div>')}));"communication-group-information-list"===i&&(console.log(i),showModal({modal_platform:crossplat.device.platform,modal_id:"information-modal",modal_header:"Information",modal_body:'<div class="information-wrapper" id="information-wrapper"></div>'},(function(){"Android"==crossplat.device.platform||"iOS"==crossplat.device.platform?$(".custom-modal-popup").show().addClass("modal-slide-top"):$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),$(".information-wrapper").append('<div class="information-data">                \n                <div class="inactive-wrapper"><div class="status--inactive">Inactive</div><div>No Moderators in the group.Please add moderators to make group active</div></div>\n                </div>')})));"team-information-list"===i&&showModal({modal_platform:crossplat.device.platform,modal_id:"information-modal",modal_header:"Information",modal_body:'<div class="information-wrapper" id="information-wrapper"></div>'},(function(){"Android"==crossplat.device.platform||"iOS"==crossplat.device.platform?$(".custom-modal-popup").show().addClass("modal-slide-top"):$(".custom-modal-popup").css({display:"flex",background:"rgba(0,0,0,0.6)"}).addClass("modal-slide-top"),$(".information-wrapper").append('<div class="information-data">\n                <div class="draft-wrapper"><div class="status--draft">Draft</div><div>Only Members are  added to the group.Please activate the group by adding moderators to make active</div></div>\n                <div class="inactive-wrapper"><div class="status--inactive">Inactive</div><div>No Moderators in the group.Please add moderators to make group active</div></div>\n                </div>')}))})),$(document).on("click",".group-status-filter-btn",(function(e){if(e.stopImmediatePropagation(),!isDoubleClicked($(this))){var t=$(this),i=$(this).attr("data-group-status");if($(t).toggleClass("selected-filter"),$(t).hasClass("selected-filter")){$(t).append('<div class="more-menu-wrapper selected-symbol"><i class="material-icons">check_box</i></div>'),digibiz.groupFilterData.status.push(i),digibiz.groupFilterData.status=digibiz.groupFilterData.status.filter((function(e,t,i){return t===i.indexOf(e)}))}else $(t).find(".selected-symbol").remove(),digibiz.groupFilterData.status=digibiz.groupFilterData.status.filter((function(e){return e!=i}))}})),$(document).on("click","#group-filter-apply-btn",(function(e){e.stopImmediatePropagation(),isDoubleClicked($(this))||(addLoader(),digibiz.groupFilterData.status.length>0?"team_group_creation_list"==$("body").attr("app")?statusWiseGroupListPage().then((()=>{commonExecutables(),removeLoader()})).catch((e=>{removeLoader()})):"collaborator_groups_list"==$("body").attr("app")?("my_group_collaborator"==sessionStorage.getItem("selected-collaborator-tab")||"other_group_collaborator"==sessionStorage.getItem("selected-collaborator-tab"))&&fetch.replaceHtml((function(){statusWiseGroupListPage().then((()=>{commonExecutables(),removeLoader()})).catch((e=>{removeLoader()}))}),"page/collaborator/collaborator_group_tabs","#collaborator-group-tabs-template","#main-content-wrapper",null):"communication_groups"==$("body").attr("app")?("communication-group-list"==sessionStorage.getItem("selected-communication-tab")||"collaborator-communication-group-list"==sessionStorage.getItem("selected-communication-tab"))&&fetch.replaceHtml((function(){statusWiseGroupListPage().then((()=>{commonExecutables(),removeLoader()})).catch((e=>{removeLoader()}))}),"page/communication/communication_group_list_wrapper","#communication-groups-list-wrapper-template","#main-content-wrapper",null):"customer_groups_identifiers_list"==$("body").attr("app")?("standard"==sessionStorage.getItem("selected-customer-group-type-tab")||"custom"==sessionStorage.getItem("selected-customer-group-type-tab"))&&fetch.replaceHtml((function(){statusWiseGroupListPage().then((()=>{commonExecutables(),removeLoader()})).catch((e=>{removeLoader()}))}),"page/customer/customer_contacts_groups_types_page","#customer-contacts-groups-type-page-template","#main-content-wrapper",null):("standard"==sessionStorage.getItem("selected-employee-group-list-type-tab")||"custom"==sessionStorage.getItem("selected-employee-group-list-type-tab"))&&fetch.replaceHtml((function(){statusWiseGroupListPage().then((()=>{commonExecutables(),removeLoader()})).catch((e=>{removeLoader()}))}),"page/employee/employee_group_list_tab","#employees-group-list-tab-template","#main-content-wrapper",null):(removeLoader(),Materialize.toast("Error! Please select atleast one option to filter",2e3,"round error-alert")))})),$(document).on("click",".group-business-notification-tab",(function(){addLoader(),sessionStorage.setItem("selected-business-notification-tab","group_business_notification"),$(".tab-content").removeClass("active"),$(`.tab-content[id="${sessionStorage.getItem("selected-business-notification-tab")}"`).addClass("active"),$(".tab").removeClass("active"),$(`.tab[data-id="${sessionStorage.getItem("selected-business-notification-tab")}"]`).addClass("active"),digibiz.group_business_notifications=[],getGroupBusinessNotificationsPage()})),$(document).on("click",".business-notification-tab",(function(){addLoader(),sessionStorage.setItem("selected-business-notification-tab","business_notification"),$(".tab-content").removeClass("active"),$(`.tab-content[id="${sessionStorage.getItem("selected-business-notification-tab")}"`).addClass("active"),$(".tab").removeClass("active"),$(`.tab[data-id="${sessionStorage.getItem("selected-business-notification-tab")}"]`).addClass("active"),digibiz.business_notifications=[],getBusinessNotificationsPage()}))};!function(e){"function"==typeof define&&define.amd?define(["jquery"],(function(t){e(t,window,document)})):"object"==typeof module&&module.exports?module.exports=e(require("jquery"),window,document):e(jQuery,window,document)}((function(e,t,i,a){"use strict";function o(t,i){this.a=e(t),this.b=e.extend({},n,i),this.ns="."+s+r++,this.d=Boolean(t.setSelectionRange),this.e=Boolean(e(t).attr("placeholder"))}var s="intlTelInput",r=1,n={allowDropdown:!0,autoHideDialCode:!0,autoPlaceholder:"polite",customPlaceholder:null,dropdownContainer:"",excludeCountries:[],formatOnDisplay:!0,geoIpLookup:null,hiddenInput:"",initialCountry:"",localizedCountries:null,nationalMode:!0,onlyCountries:[],placeholderNumberType:"MOBILE",preferredCountries:["us","gb"],separateDialCode:!1,utilsScript:""},d=38,c=40,l=13,p=27,m=43,u=65,g=90,_=32,f=9,h=["800","822","833","844","855","866","877","880","881","882","883","884","885","886","887","888","889"];e(t).on("load",(function(){e.fn[s].windowLoaded=!0})),o.prototype={_a:function(){return this.b.nationalMode&&(this.b.autoHideDialCode=!1),this.b.separateDialCode&&(this.b.autoHideDialCode=this.b.nationalMode=!1),this.g=/Android.+Mobile|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.g&&(e("body").addClass("iti-mobile"),this.b.dropdownContainer||(this.b.dropdownContainer="body")),this.h=new e.Deferred,this.i=new e.Deferred,this.s={},this._b(),this._f(),this._h(),this._i(),this._i2(),[this.h,this.i]},_b:function(){this._d(),this._d2(),this._e(),this.b.localizedCountries&&this._translateCountriesByLocale(),(this.b.onlyCountries.length||this.b.localizedCountries)&&this.p.sort(this._countryNameSort)},_c:function(e,t,i){t in this.q||(this.q[t]=[]);var a=i||0;this.q[t][a]=e},_d:function(){if(this.b.onlyCountries.length){var e=this.b.onlyCountries.map((function(e){return e.toLowerCase()}));this.p=b.filter((function(t){return e.indexOf(t.iso2)>-1}))}else if(this.b.excludeCountries.length){var t=this.b.excludeCountries.map((function(e){return e.toLowerCase()}));this.p=b.filter((function(e){return-1===t.indexOf(e.iso2)}))}else this.p=b},_translateCountriesByLocale:function(){for(var e=0;e<this.p.length;e++){var t=this.p[e].iso2.toLowerCase();t in this.b.localizedCountries&&(this.p[e].name=this.b.localizedCountries[t])}},_countryNameSort:function(e,t){return e.name.localeCompare(t.name)},_d2:function(){this.q={};for(var e=0;e<this.p.length;e++){var t=this.p[e];if(this._c(t.iso2,t.dialCode,t.priority),t.areaCodes)for(var i=0;i<t.areaCodes.length;i++)this._c(t.iso2,t.dialCode+t.areaCodes[i])}},_e:function(){this.preferredCountries=[];for(var e=0;e<this.b.preferredCountries.length;e++){var t=this.b.preferredCountries[e].toLowerCase(),i=this._y(t,!1,!0);i&&this.preferredCountries.push(i)}},_f:function(){this.a.attr("autocomplete","off");var t="intl-tel-input";this.b.allowDropdown&&(t+=" allow-dropdown"),this.b.separateDialCode&&(t+=" separate-dial-code"),this.a.wrap(e("<div>",{class:t})),this.k=e("<div>",{class:"flag-container"}).insertBefore(this.a);var i=e("<div>",{class:"selected-flag",role:"combobox","aria-owns":"country-listbox"});if(i.appendTo(this.k),this.l=e("<div>",{class:"iti-flag"}).appendTo(i),this.b.separateDialCode&&(this.t=e("<div>",{class:"selected-dial-code"}).appendTo(i)),this.b.allowDropdown?(i.attr("tabindex","0"),e("<div>",{class:"iti-arrow"}).appendTo(i),this.m=e("<ul>",{class:"country-list hide",id:"country-listbox","aria-expanded":"false",role:"listbox"}),this.preferredCountries.length&&(this._g(this.preferredCountries,"preferred"),e("<li>",{class:"divider",role:"separator","aria-disabled":"true"}).appendTo(this.m)),this._g(this.p,""),this.o=this.m.children(".country"),this.b.dropdownContainer?this.dropdown=e("<div>",{class:"intl-tel-input iti-container"}).append(this.m):this.m.appendTo(this.k)):this.o=e(),this.b.hiddenInput){var a=this.b.hiddenInput,o=this.a.attr("name");if(o){var s=o.lastIndexOf("[");-1!==s&&(a=o.substr(0,s)+"["+a+"]")}this.hiddenInput=e("<input>",{type:"hidden",name:a}).insertAfter(this.a)}},_g:function(e,t){for(var i="",a=0;a<e.length;a++){var o=e[a];i+="<li class='country "+t+"' id='iti-item-"+o.iso2+"' role='option' data-dial-code='"+o.dialCode+"' data-country-code='"+o.iso2+"'>",i+="<div class='flag-box'><div class='iti-flag "+o.iso2+"'></div></div>",i+="<span class='country-name'>"+o.name+"</span>",i+="<span class='dial-code'>+"+o.dialCode+"</span>",i+="</li>"}this.m.append(i)},_h:function(){var e=this.a.val(),t=this._af(e),i=this._isRegionlessNanp(e);t&&!i?this._v(e):"auto"!==this.b.initialCountry&&(this.b.initialCountry?this._z(this.b.initialCountry.toLowerCase()):t&&i?this._z("us"):(this.j=this.preferredCountries.length?this.preferredCountries[0].iso2:this.p[0].iso2,e||this._z(this.j)),e||this.b.nationalMode||this.b.autoHideDialCode||this.b.separateDialCode||this.a.val("+"+this.s.dialCode)),e&&this._u(e)},_i:function(){this._j(),this.b.autoHideDialCode&&this._l(),this.b.allowDropdown&&this._i1(),this.hiddenInput&&this._initHiddenInputListener()},_initHiddenInputListener:function(){var e=this,t=this.a.closest("form");t.length&&t.submit((function(){e.hiddenInput.val(e.getNumber())}))},_i1:function(){var e=this,t=this.a.closest("label");t.length&&t.on("click"+this.ns,(function(t){e.m.hasClass("hide")?e.a.focus():t.preventDefault()})),this.l.parent().on("click"+this.ns,(function(t){!e.m.hasClass("hide")||e.a.prop("disabled")||e.a.prop("readonly")||e._n()})),this.k.on("keydown"+e.ns,(function(t){!e.m.hasClass("hide")||t.which!=d&&t.which!=c&&t.which!=_&&t.which!=l||(t.preventDefault(),t.stopPropagation(),e._n()),t.which==f&&e._ac()}))},_i2:function(){var i=this;this.b.utilsScript&&!t.intlTelInputUtils?e.fn[s].windowLoaded?e.fn[s].loadUtils(this.b.utilsScript):e(t).on("load",(function(){e.fn[s].loadUtils(i.b.utilsScript)})):this.i.resolve(),"auto"===this.b.initialCountry?this._i3():this.h.resolve()},_i3:function(){e.fn[s].autoCountry?this.handleAutoCountry():e.fn[s].startedLoadingAutoCountry||(e.fn[s].startedLoadingAutoCountry=!0,"function"==typeof this.b.geoIpLookup&&this.b.geoIpLookup((function(t){e.fn[s].autoCountry=t.toLowerCase(),setTimeout((function(){e(".intl-tel-input input").intlTelInput("handleAutoCountry")}))})))},_j:function(){var e=this;this.a.on("keyup"+this.ns,(function(){e._v(e.a.val())&&e._triggerCountryChange()})),this.a.on("cut"+this.ns+" paste"+this.ns,(function(){setTimeout((function(){e._v(e.a.val())&&e._triggerCountryChange()}))}))},_j2:function(e){var t=this.a.attr("maxlength");return t&&e.length>t?e.substr(0,t):e},_l:function(){var t=this;this.a.on("mousedown"+this.ns,(function(e){t.a.is(":focus")||t.a.val()||(e.preventDefault(),t.a.focus())})),this.a.on("focus"+this.ns,(function(e){t.a.val()||t.a.prop("readonly")||!t.s.dialCode||(t.a.val("+"+t.s.dialCode),t.a.one("keypress.plus"+t.ns,(function(e){e.which==m&&t.a.val("")})),setTimeout((function(){var e=t.a[0];if(t.d){var i=t.a.val().length;e.setSelectionRange(i,i)}})))}));var i=this.a.prop("form");i&&e(i).on("submit"+this.ns,(function(){t._removeEmptyDialCode()})),this.a.on("blur"+this.ns,(function(){t._removeEmptyDialCode()}))},_removeEmptyDialCode:function(){var e=this.a.val();if("+"==e.charAt(0)){var t=this._m(e);t&&this.s.dialCode!=t||this.a.val("")}this.a.off("keypress.plus"+this.ns)},_m:function(e){return e.replace(/\D/g,"")},_n:function(){this._o();var e=this.m.children(".active");e.length&&(this._x(e),this._ad(e)),this._p(),this.l.children(".iti-arrow").addClass("up"),this.a.trigger("open:countrydropdown")},_o:function(){var i=this;if(this.b.dropdownContainer&&this.dropdown.appendTo(this.b.dropdownContainer),this.n=this.m.removeClass("hide").attr("aria-expanded","true").outerHeight(),!this.g){var a=this.a.offset(),o=a.top,s=e(t).scrollTop(),r=o+this.a.outerHeight()+this.n<s+e(t).height(),n=o-this.n>s;if(this.m.toggleClass("dropup",!r&&n),this.b.dropdownContainer){var d=!r&&n?0:this.a.innerHeight();this.dropdown.css({top:o+d,left:a.left}),e(t).on("scroll"+this.ns,(function(){i._ac()}))}}},_p:function(){var t=this;this.m.on("mouseover"+this.ns,".country",(function(i){t._x(e(this))})),this.m.on("click"+this.ns,".country",(function(i){t._ab(e(this))}));var a=!0;e("html").on("click"+this.ns,(function(e){a||t._ac(),a=!1}));var o="",s=null;e(i).on("keydown"+this.ns,(function(e){e.preventDefault(),e.which==d||e.which==c?t._q(e.which):e.which==l?t._r():e.which==p?t._ac():(e.which>=u&&e.which<=g||e.which==_)&&(s&&clearTimeout(s),o+=String.fromCharCode(e.which),t._s(o),s=setTimeout((function(){o=""}),1e3))}))},_q:function(e){var t=this.m.children(".highlight").first(),i=e==d?t.prev():t.next();i.length&&(i.hasClass("divider")&&(i=e==d?i.prev():i.next()),this._x(i),this._ad(i))},_r:function(){var e=this.m.children(".highlight").first();e.length&&this._ab(e)},_s:function(e){for(var t=0;t<this.p.length;t++)if(this._t(this.p[t].name,e)){var i=this.m.children("[data-country-code="+this.p[t].iso2+"]").not(".preferred");this._x(i),this._ad(i,!0);break}},_t:function(e,t){return e.substr(0,t.length).toUpperCase()==t},_u:function(e){if(this.b.formatOnDisplay&&t.intlTelInputUtils&&this.s){var i=this.b.separateDialCode||!this.b.nationalMode&&"+"==e.charAt(0)?intlTelInputUtils.numberFormat.INTERNATIONAL:intlTelInputUtils.numberFormat.NATIONAL;e=intlTelInputUtils.formatNumber(e,this.s.iso2,i)}e=this._ah(e),this.a.val(e)},_v:function(t){t&&this.b.nationalMode&&"1"==this.s.dialCode&&"+"!=t.charAt(0)&&("1"!=t.charAt(0)&&(t="1"+t),t="+"+t);var i=this._af(t),a=null,o=this._m(t);if(i){var s=this.q[this._m(i)],r=e.inArray(this.s.iso2,s)>-1,n="+1"==i&&o.length>=4;if(("1"!=this.s.dialCode||!this._isRegionlessNanp(o))&&(!r||n))for(var d=0;d<s.length;d++)if(s[d]){a=s[d];break}}else"+"==t.charAt(0)&&o.length?a="":t&&"+"!=t||(a=this.j);return null!==a&&this._z(a)},_isRegionlessNanp:function(t){var i=this._m(t);if("1"==i.charAt(0)){var a=i.substr(1,3);return e.inArray(a,h)>-1}return!1},_x:function(e){this.o.removeClass("highlight"),e.addClass("highlight")},_y:function(e,t,i){for(var a=t?b:this.p,o=0;o<a.length;o++)if(a[o].iso2==e)return a[o];if(i)return null;throw new Error("No country data for '"+e+"'")},_z:function(e){var t=this.s.iso2?this.s:{};this.s=e?this._y(e,!1,!1):{},this.s.iso2&&(this.j=this.s.iso2),this.l.attr("class","iti-flag "+e);var i=e?this.s.name+": +"+this.s.dialCode:"Unknown";if(this.l.parent().attr("title",i),this.b.separateDialCode){var a=this.s.dialCode?"+"+this.s.dialCode:"",o=this.a.parent();t.dialCode&&o.removeClass("iti-sdc-"+(t.dialCode.length+1)),a&&o.addClass("iti-sdc-"+a.length),this.t.text(a)}if(this._aa(),this.b.allowDropdown&&(this.o.removeClass("active").attr("aria-selected","false"),e)){var s=this.o.find(".iti-flag."+e).first().closest(".country");s.addClass("active").attr("aria-selected","true"),this.m.attr("aria-activedescendant",s.attr("id"))}return t.iso2!==e},_aa:function(){var e="aggressive"===this.b.autoPlaceholder||!this.e&&(!0===this.b.autoPlaceholder||"polite"===this.b.autoPlaceholder);if(t.intlTelInputUtils&&e){var i=intlTelInputUtils.numberType[this.b.placeholderNumberType],a=this.s.iso2?intlTelInputUtils.getExampleNumber(this.s.iso2,this.b.nationalMode,i):"";a=this._ah(a),"function"==typeof this.b.customPlaceholder&&(a=this.b.customPlaceholder(a,this.s)),this.a.attr("placeholder",a)}},_ab:function(e){var t=this._z(e.attr("data-country-code"));if(this._ac(),this._ae(e.attr("data-dial-code"),!0),this.a.focus(),this.d){var i=this.a.val().length;this.a[0].setSelectionRange(i,i)}t&&this._triggerCountryChange()},_ac:function(){this.m.addClass("hide"),this.m.attr("aria-expanded","false"),this.l.children(".iti-arrow").removeClass("up"),e(i).off(this.ns),e("html").off(this.ns),this.m.off(this.ns),this.b.dropdownContainer&&(this.g||e(t).off("scroll"+this.ns),this.dropdown.detach()),this.a.trigger("close:countrydropdown")},_ad:function(e,t){var i=this.m,a=i.height(),o=i.offset().top,s=o+a,r=e.outerHeight(),n=e.offset().top,d=n+r,c=n-o+i.scrollTop(),l=a/2-r/2;if(n<o)t&&(c-=l),i.scrollTop(c);else if(d>s){t&&(c+=l);var p=a-r;i.scrollTop(c-p)}},_ae:function(e,t){var i,a=this.a.val();if(e="+"+e,"+"==a.charAt(0)){var o=this._af(a);i=o?a.replace(o,e):e}else{if(this.b.nationalMode||this.b.separateDialCode)return;if(a)i=e+a;else{if(!t&&this.b.autoHideDialCode)return;i=e}}this.a.val(i)},_af:function(t){var i="";if("+"==t.charAt(0))for(var a="",o=0;o<t.length;o++){var s=t.charAt(o);if(e.isNumeric(s)&&(a+=s,this.q[a]&&(i=t.substr(0,o+1)),4==a.length))break}return i},_ag:function(){var t=e.trim(this.a.val()),i=this.s.dialCode,a=this._m(t),o="1"==a.charAt(0)?a:"1"+a;return(this.b.separateDialCode?"+"+i:t&&"+"!=t.charAt(0)&&"1"!=t.charAt(0)&&i&&"1"==i.charAt(0)&&4==i.length&&i!=o.substr(0,4)?i.substr(1):"")+t},_ah:function(e){if(this.b.separateDialCode){var t=this._af(e);if(t){null!==this.s.areaCodes&&(t="+"+this.s.dialCode);var i=" "===e[t.length]||"-"===e[t.length]?t.length+1:t.length;e=e.substr(i)}}return this._j2(e)},_triggerCountryChange:function(){this.a.trigger("countrychange",this.s)},handleAutoCountry:function(){"auto"===this.b.initialCountry&&(this.j=e.fn[s].autoCountry,this.a.val()||this.setCountry(this.j),this.h.resolve())},handleUtils:function(){t.intlTelInputUtils&&(this.a.val()&&this._u(this.a.val()),this._aa()),this.i.resolve()},destroy:function(){if(this.b.allowDropdown&&(this._ac(),this.l.parent().off(this.ns),this.a.closest("label").off(this.ns)),this.b.autoHideDialCode){var t=this.a.prop("form");t&&e(t).off(this.ns)}this.a.off(this.ns),this.a.parent().before(this.a).remove()},getExtension:function(){return t.intlTelInputUtils?intlTelInputUtils.getExtension(this._ag(),this.s.iso2):""},getNumber:function(e){return t.intlTelInputUtils?intlTelInputUtils.formatNumber(this._ag(),this.s.iso2,e):""},getNumberType:function(){return t.intlTelInputUtils?intlTelInputUtils.getNumberType(this._ag(),this.s.iso2):-99},getSelectedCountryData:function(){return this.s},getValidationError:function(){return t.intlTelInputUtils?intlTelInputUtils.getValidationError(this._ag(),this.s.iso2):-99},isValidNumber:function(){var i=e.trim(this._ag()),a=this.b.nationalMode?this.s.iso2:"";return t.intlTelInputUtils?intlTelInputUtils.isValidNumber(i,a):null},setCountry:function(e){e=e.toLowerCase(),this.l.hasClass(e)||(this._z(e),this._ae(this.s.dialCode,!1),this._triggerCountryChange())},setNumber:function(e){var t=this._v(e);this._u(e),t&&this._triggerCountryChange()},setPlaceholderNumberType:function(e){this.b.placeholderNumberType=e,this._aa()}},e.fn[s]=function(t){var i,r=arguments;if(t===a||"object"==typeof t){var n=[];return this.each((function(){if(!e.data(this,"plugin_"+s)){var i=new o(this,t),a=i._a();n.push(a[0]),n.push(a[1]),e.data(this,"plugin_"+s,i)}})),e.when.apply(null,n)}if("string"==typeof t&&"_"!==t[0])return this.each((function(){var a=e.data(this,"plugin_"+s);a instanceof o&&"function"==typeof a[t]&&(i=a[t].apply(a,Array.prototype.slice.call(r,1))),"destroy"===t&&e.data(this,"plugin_"+s,null)})),i!==a?i:this},e.fn[s].getCountryData=function(){return b},e.fn[s].loadUtils=function(t){return e.fn[s].startedLoadingUtilsScript?null:(e.fn[s].startedLoadingUtilsScript=!0,e.ajax({type:"GET",url:t,complete:function(){e(".intl-tel-input input").intlTelInput("handleUtils")},dataType:"script",cache:!0}))},e.fn[s].defaults=n,e.fn[s].version="13.0.2";for(var b=[["Afghanistan ()","af","93"],["Albania (Shqipri)","al","355"],["Algeria ()","dz","213"],["American Samoa","as","1684"],["Andorra","ad","376"],["Angola","ao","244"],["Anguilla","ai","1264"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54"],["Armenia ()","am","374"],["Aruba","aw","297"],["Australia","au","61",0],["Austria (sterreich)","at","43"],["Azerbaijan (Azrbaycan)","az","994"],["Bahamas","bs","1242"],["Bahrain ()","bh","973"],["Bangladesh ()","bd","880"],["Barbados","bb","1246"],["Belarus ()","by","375"],["Belgium (Belgi)","be","32"],["Belize","bz","501"],["Benin (Bnin)","bj","229"],["Bermuda","bm","1441"],["Bhutan ()","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina (  )","ba","387"],["Botswana","bw","267"],["Brazil (Brasil)","br","55"],["British Indian Ocean Territory","io","246"],["British Virgin Islands","vg","1284"],["Brunei","bn","673"],["Bulgaria ()","bg","359"],["Burkina Faso","bf","226"],["Burundi (Uburundi)","bi","257"],["Cambodia ()","kh","855"],["Cameroon (Cameroun)","cm","237"],["Canada","ca","1",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde (Kabu Verdi)","cv","238"],["Caribbean Netherlands","bq","599",1],["Cayman Islands","ky","1345"],["Central African Republic (Rpublique centrafricaine)","cf","236"],["Chad (Tchad)","td","235"],["Chile","cl","56"],["China ()","cn","86"],["Christmas Island","cx","61",2],["Cocos (Keeling) Islands","cc","61",1],["Colombia","co","57"],["Comoros ( )","km","269"],["Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)","cd","243"],["Congo (Republic) (Congo-Brazzaville)","cg","242"],["Cook Islands","ck","682"],["Costa Rica","cr","506"],["Cte dIvoire","ci","225"],["Croatia (Hrvatska)","hr","385"],["Cuba","cu","53"],["Curaao","cw","599",0],["Cyprus ()","cy","357"],["Czech Republic (esk republika)","cz","420"],["Denmark (Danmark)","dk","45"],["Djibouti","dj","253"],["Dominica","dm","1767"],["Dominican Republic (Repblica Dominicana)","do","1",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt ()","eg","20"],["El Salvador","sv","503"],["Equatorial Guinea (Guinea Ecuatorial)","gq","240"],["Eritrea","er","291"],["Estonia (Eesti)","ee","372"],["Ethiopia","et","251"],["Falkland Islands (Islas Malvinas)","fk","500"],["Faroe Islands (Froyar)","fo","298"],["Fiji","fj","679"],["Finland (Suomi)","fi","358",0],["France","fr","33"],["French Guiana (Guyane franaise)","gf","594"],["French Polynesia (Polynsie franaise)","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia ()","ge","995"],["Germany (Deutschland)","de","49"],["Ghana (Gaana)","gh","233"],["Gibraltar","gi","350"],["Greece ()","gr","30"],["Greenland (Kalaallit Nunaat)","gl","299"],["Grenada","gd","1473"],["Guadeloupe","gp","590",0],["Guam","gu","1671"],["Guatemala","gt","502"],["Guernsey","gg","44",1],["Guinea (Guine)","gn","224"],["Guinea-Bissau (Guin Bissau)","gw","245"],["Guyana","gy","592"],["Haiti","ht","509"],["Honduras","hn","504"],["Hong Kong ()","hk","852"],["Hungary (Magyarorszg)","hu","36"],["Iceland (sland)","is","354"],["India ()","in","91"],["Indonesia","id","62"],["Iran ()","ir","98"],["Iraq ()","iq","964"],["Ireland","ie","353"],["Isle of Man","im","44",2],["Israel ()","il","972"],["Italy (Italia)","it","39",0],["Jamaica","jm","1",4,["876","658"]],["Japan ()","jp","81"],["Jersey","je","44",3],["Jordan ()","jo","962"],["Kazakhstan ()","kz","7",1],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait ()","kw","965"],["Kyrgyzstan ()","kg","996"],["Laos ()","la","856"],["Latvia (Latvija)","lv","371"],["Lebanon ()","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya ()","ly","218"],["Liechtenstein","li","423"],["Lithuania (Lietuva)","lt","370"],["Luxembourg","lu","352"],["Macau ()","mo","853"],["Macedonia (FYROM) ()","mk","389"],["Madagascar (Madagasikara)","mg","261"],["Malawi","mw","265"],["Malaysia","my","60"],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania ()","mr","222"],["Mauritius (Moris)","mu","230"],["Mayotte","yt","262",1],["Mexico (Mxico)","mx","52"],["Micronesia","fm","691"],["Moldova (Republica Moldova)","md","373"],["Monaco","mc","377"],["Mongolia ()","mn","976"],["Montenegro (Crna Gora)","me","382"],["Montserrat","ms","1664"],["Morocco ()","ma","212",0],["Mozambique (Moambique)","mz","258"],["Myanmar (Burma) ()","mm","95"],["Namibia (Namibi)","na","264"],["Nauru","nr","674"],["Nepal ()","np","977"],["Netherlands (Nederland)","nl","31"],["New Caledonia (Nouvelle-Caldonie)","nc","687"],["New Zealand","nz","64"],["Nicaragua","ni","505"],["Niger (Nijar)","ne","227"],["Nigeria","ng","234"],["Niue","nu","683"],["Norfolk Island","nf","672"],["North Korea (   )","kp","850"],["Northern Mariana Islands","mp","1670"],["Norway (Norge)","no","47",0],["Oman ()","om","968"],["Pakistan ()","pk","92"],["Palau","pw","680"],["Palestine ()","ps","970"],["Panama (Panam)","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru (Per)","pe","51"],["Philippines","ph","63"],["Poland (Polska)","pl","48"],["Portugal","pt","351"],["Puerto Rico","pr","1",3,["787","939"]],["Qatar ()","qa","974"],["Runion (La Runion)","re","262",0],["Romania (Romnia)","ro","40"],["Russia ()","ru","7",0],["Rwanda","rw","250"],["Saint Barthlemy","bl","590",1],["Saint Helena","sh","290"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Martin (Saint-Martin (partie franaise))","mf","590",2],["Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)","pm","508"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["So Tom and Prncipe (So Tom e Prncipe)","st","239"],["Saudi Arabia (  )","sa","966"],["Senegal (Sngal)","sn","221"],["Serbia ()","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65"],["Sint Maarten","sx","1721"],["Slovakia (Slovensko)","sk","421"],["Slovenia (Slovenija)","si","386"],["Solomon Islands","sb","677"],["Somalia (Soomaaliya)","so","252"],["South Africa","za","27"],["South Korea ()","kr","82"],["South Sudan ( )","ss","211"],["Spain (Espaa)","es","34"],["Sri Lanka ( )","lk","94"],["Sudan ()","sd","249"],["Suriname","sr","597"],["Svalbard and Jan Mayen","sj","47",1],["Swaziland","sz","268"],["Sweden (Sverige)","se","46"],["Switzerland (Schweiz)","ch","41"],["Syria ()","sy","963"],["Taiwan ()","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand ()","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tokelau","tk","690"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia ()","tn","216"],["Turkey (Trkiye)","tr","90"],["Turkmenistan","tm","993"],["Turks and Caicos Islands","tc","1649"],["Tuvalu","tv","688"],["U.S. Virgin Islands","vi","1340"],["Uganda","ug","256"],["Ukraine ()","ua","380"],["United Arab Emirates (  )","ae","971"],["United Kingdom","gb","44",0],["United States","us","1",0],["Uruguay","uy","598"],["Uzbekistan (Ozbekiston)","uz","998"],["Vanuatu","vu","678"],["Vatican City (Citt del Vaticano)","va","39",1],["Venezuela","ve","58"],["Vietnam (Vit Nam)","vn","84"],["Wallis and Futuna (Wallis-et-Futuna)","wf","681"],["Western Sahara ( )","eh","212",1],["Yemen ()","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"],["land Islands","ax","358",1]],v=0;v<b.length;v++){var y=b[v];b[v]={name:y[0],iso2:y[1],dialCode:y[2],priority:y[3]||0,areaCodes:y[4]||null}}})),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.io=t():e.io=t()}(this,(function(){return function(e){function t(a){if(i[a])return i[a].exports;var o=i[a]={exports:{},id:a,loaded:!1};return e[a].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";function a(e,t){"object"===(void 0===e?"undefined":o(e))&&(t=e,e=void 0),t=t||{};var i,a=s(e),r=a.source,l=a.id,p=a.path,m=c[l]&&p in c[l].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||m?(d("ignoring socket cache for %s",r),i=n(r,t)):(c[l]||(d("new io instance for %s",r),c[l]=n(r,t)),i=c[l]),a.query&&!t.query&&(t.query=a.query),i.socket(a.path,t)}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=i(1),r=i(7),n=i(12),d=i(3)("socket.io-client");e.exports=t=a;var c=t.managers={};t.protocol=r.protocol,t.connect=a,t.Manager=i(12),t.Socket=i(37)},function(e,t,i){(function(t){"use strict";var a=i(2),o=i(3)("socket.io-client:url");e.exports=function(e,i){var s=e;i=i||t.location,null==e&&(e=i.protocol+"//"+i.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?i.protocol+e:i.host+e),/^(https?|wss?):\/\//.test(e)||(o("protocol-less url %s",e),e=void 0!==i?i.protocol+"//"+e:"https://"+e),o("parse %s",e),s=a(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";var r=-1!==s.host.indexOf(":")?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+r+":"+s.port,s.href=s.protocol+"://"+r+(i&&i.port===s.port?"":":"+s.port),s}}).call(t,function(){return this}())},function(e,t){var i=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,a=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,o=e.indexOf("["),s=e.indexOf("]");-1!=o&&-1!=s&&(e=e.substring(0,o)+e.substring(o,s).replace(/:/g,";")+e.substring(s,e.length));for(var r=i.exec(e||""),n={},d=14;d--;)n[a[d]]=r[d]||"";return-1!=o&&-1!=s&&(n.source=t,n.host=n.host.substring(1,n.host.length-1).replace(/;/g,":"),n.authority=n.authority.replace("[","").replace("]","").replace(/;/g,":"),n.ipv6uri=!0),n}},function(e,t,i){(function(a){function o(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==a&&"env"in a&&(e=a.env.DEBUG),e}(t=e.exports=i(5)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var i=this.useColors;if(e[0]=(i?"%c":"")+this.namespace+(i?" %c":" ")+e[0]+(i?"%c ":" ")+"+"+t.humanize(this.diff),i){var a="color: "+this.color;e.splice(1,0,a,"color: inherit");var o=0,s=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(o++,"%c"===e&&(s=o))})),e.splice(s,0,a)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=o,t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(o())}).call(t,i(4))},function(e,t){function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(e){if(c===setTimeout)return setTimeout(e,0);if((c===i||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function s(){g&&m&&(g=!1,m.length?u=m.concat(u):_=-1,u.length&&r())}function r(){if(!g){var e=o(s);g=!0;for(var t=u.length;t;){for(m=u,u=[];++_<t;)m&&m[_].run();_=-1,t=u.length}m=null,g=!1,function(e){if(l===clearTimeout)return clearTimeout(e);if((l===a||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}(e)}}function n(e,t){this.fun=e,this.array=t}function d(){}var c,l,p=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:i}catch(e){c=i}try{l="function"==typeof clearTimeout?clearTimeout:a}catch(e){l=a}}();var m,u=[],g=!1,_=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];u.push(new n(e,t)),1!==u.length||g||o(r)},n.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=d,p.addListener=d,p.once=d,p.off=d,p.removeListener=d,p.removeAllListeners=d,p.emit=d,p.prependListener=d,p.prependOnceListener=d,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,i){function a(e){function i(){if(i.enabled){var e=i,o=+new Date,s=o-(a||o);e.diff=s,e.prev=a,e.curr=o,a=o;for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];r[0]=t.coerce(r[0]),"string"!=typeof r[0]&&r.unshift("%O");var d=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,(function(i,a){if("%%"===i)return i;d++;var o=t.formatters[a];if("function"==typeof o){var s=r[d];i=o.call(e,s),r.splice(d,1),d--}return i})),t.formatArgs.call(e,r),(i.log||t.log||console.log.bind(console)).apply(e,r)}}var a;return i.namespace=e,i.enabled=t.enabled(e),i.useColors=t.useColors(),i.color=function(e){var i,a=0;for(i in e)a=(a<<5)-a+e.charCodeAt(i),a|=0;return t.colors[Math.abs(a)%t.colors.length]}(e),i.destroy=o,"function"==typeof t.init&&t.init(i),t.instances.push(i),i}function o(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=a.debug=a.default=a).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];var i,a=("string"==typeof e?e:"").split(/[\s,]+/),o=a.length;for(i=0;i<o;i++)a[i]&&("-"===(e=a[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(i=0;i<t.instances.length;i++){var s=t.instances[i];s.enabled=t.enabled(s.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var i,a;for(i=0,a=t.skips.length;i<a;i++)if(t.skips[i].test(e))return!1;for(i=0,a=t.names.length;i<a;i++)if(t.names[i].test(e))return!0;return!1},t.humanize=i(6),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t){function i(e){return a(e,n,"day")||a(e,r,"hour")||a(e,s,"minute")||a(e,o,"second")||e+" ms"}function a(e,t,i){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+i:Math.ceil(e/t)+" "+i+"s"}var o=1e3,s=60*o,r=60*s,n=24*r,d=365.25*n;e.exports=function(e,t){t=t||{};var a=typeof e;if("string"===a&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var i=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return i*d;case"days":case"day":case"d":return i*n;case"hours":case"hour":case"hrs":case"hr":case"h":return i*r;case"minutes":case"minute":case"mins":case"min":case"m":return i*s;case"seconds":case"second":case"secs":case"sec":case"s":return i*o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}(e);if("number"===a&&!1===isNaN(e))return t.long?i(e):function(e){return e>=n?Math.round(e/n)+"d":e>=r?Math.round(e/r)+"h":e>=s?Math.round(e/s)+"m":e>=o?Math.round(e/o)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,i){function a(){}function o(e){var i=""+e.type;if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(i+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(i+=e.nsp+","),null!=e.id&&(i+=e.id),null!=e.data){var a=function(e){try{return JSON.stringify(e)}catch(e){return!1}}(e.data);if(!1===a)return g;i+=a}return c("encoded %j as %s",e,i),i}function s(){this.reconstructor=null}function r(e){var i=0,a={type:Number(e.charAt(0))};if(null==t.types[a.type])return d("unknown packet type "+a.type);if(t.BINARY_EVENT===a.type||t.BINARY_ACK===a.type){for(var o="";"-"!==e.charAt(++i)&&(o+=e.charAt(i),i!=e.length););if(o!=Number(o)||"-"!==e.charAt(i))throw new Error("Illegal attachments");a.attachments=Number(o)}if("/"===e.charAt(i+1))for(a.nsp="";++i;){if(","===(r=e.charAt(i)))break;if(a.nsp+=r,i===e.length)break}else a.nsp="/";var s=e.charAt(i+1);if(""!==s&&Number(s)==s){for(a.id="";++i;){var r;if(null==(r=e.charAt(i))||Number(r)!=r){--i;break}if(a.id+=e.charAt(i),i===e.length)break}a.id=Number(a.id)}if(e.charAt(++i)){var n=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e.substr(i));if(!(!1!==n&&(a.type===t.ERROR||m(n))))return d("invalid payload");a.data=n}return c("decoded %s as %j",e,a),a}function n(e){this.reconPack=e,this.buffers=[]}function d(e){return{type:t.ERROR,data:"parser error: "+e}}var c=i(3)("socket.io-parser"),l=i(8),p=i(9),m=i(10),u=i(11);t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=a,t.Decoder=s;var g=t.ERROR+'"encode error"';a.prototype.encode=function(e,i){(c("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type)?function(e,t){p.removeBlobs(e,(function(e){var i=p.deconstructPacket(e),a=o(i.packet),s=i.buffers;s.unshift(a),t(s)}))}(e,i):i([o(e)])},l(s.prototype),s.prototype.add=function(e){var i;if("string"==typeof e)i=r(e),t.BINARY_EVENT===i.type||t.BINARY_ACK===i.type?(this.reconstructor=new n(i),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",i)):this.emit("decoded",i);else{if(!u(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(i=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",i))}},s.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},n.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=p.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},n.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t,i){function a(e){if(e)return function(e){for(var t in a.prototype)e[t]=a.prototype[t];return e}(e)}e.exports=a,a.prototype.on=a.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},a.prototype.once=function(e,t){function i(){this.off(e,i),t.apply(this,arguments)}return i.fn=t,this.on(e,i),this},a.prototype.off=a.prototype.removeListener=a.prototype.removeAllListeners=a.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks["$"+e];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var a,o=0;o<i.length;o++)if((a=i[o])===t||a.fn===t){i.splice(o,1);break}return this},a.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),i=this._callbacks["$"+e];if(i)for(var a=0,o=(i=i.slice(0)).length;a<o;++a)i[a].apply(this,t);return this},a.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},a.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,i){(function(e){function a(e,t){if(!e)return e;if(r(e)){var i={_placeholder:!0,num:t.length};return t.push(e),i}if(s(e)){for(var o=new Array(e.length),n=0;n<e.length;n++)o[n]=a(e[n],t);return o}if("object"==typeof e&&!(e instanceof Date)){o={};for(var d in e)o[d]=a(e[d],t);return o}return e}function o(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(s(e))for(var i=0;i<e.length;i++)e[i]=o(e[i],t);else if("object"==typeof e)for(var a in e)e[a]=o(e[a],t);return e}var s=i(10),r=i(11),n=Object.prototype.toString,d="function"==typeof e.Blob||"[object BlobConstructor]"===n.call(e.Blob),c="function"==typeof e.File||"[object FileConstructor]"===n.call(e.File);t.deconstructPacket=function(e){var t=[],i=e.data,o=e;return o.data=a(i,t),o.attachments=t.length,{packet:o,buffers:t}},t.reconstructPacket=function(e,t){return e.data=o(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,t){var i=0,a=e;(function e(o,n,l){if(!o)return o;if(d&&o instanceof Blob||c&&o instanceof File){i++;var p=new FileReader;p.onload=function(){l?l[n]=this.result:a=this.result,--i||t(a)},p.readAsArrayBuffer(o)}else if(s(o))for(var m=0;m<o.length;m++)e(o[m],m,o);else if("object"==typeof o&&!r(o))for(var u in o)e(o[u],u,o)})(a),i||t(a)}}).call(t,function(){return this}())},function(e,t){var i={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},function(e,t){(function(t){e.exports=function(e){return i&&t.Buffer.isBuffer(e)||a&&(e instanceof t.ArrayBuffer||o(e))};var i="function"==typeof t.Buffer&&"function"==typeof t.Buffer.isBuffer,a="function"==typeof t.ArrayBuffer,o=a&&"function"==typeof t.ArrayBuffer.isView?t.ArrayBuffer.isView:function(e){return e.buffer instanceof t.ArrayBuffer}}).call(t,function(){return this}())},function(e,t,i){"use strict";function a(e,t){if(!(this instanceof a))return new a(e,t);e&&"object"===(void 0===e?"undefined":o(e))&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new u({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var i=t.parser||d;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=i(13),r=i(37),n=i(8),d=i(7),c=i(39),l=i(40),p=i(3)("socket.io-client:manager"),m=i(36),u=i(41),g=Object.prototype.hasOwnProperty;e.exports=a,a.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)g.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},a.prototype.updateSocketIds=function(){for(var e in this.nsps)g.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},a.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},n(a.prototype),a.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},a.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},a.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},a.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},a.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},a.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},a.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},a.prototype.open=a.prototype.connect=function(e,t){if(p("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;p("opening %s",this.uri),this.engine=s(this.uri,this.opts);var i=this.engine,a=this;this.readyState="opening",this.skipReconnect=!1;var o=c(i,"open",(function(){a.onopen(),e&&e()})),r=c(i,"error",(function(t){if(p("connect_error"),a.cleanup(),a.readyState="closed",a.emitAll("connect_error",t),e){var i=new Error("Connection error");i.data=t,e(i)}else a.maybeReconnectOnOpen()}));if(!1!==this._timeout){var n=this._timeout;p("connect attempt will timeout after %d",n);var d=setTimeout((function(){p("connect attempt timed out after %d",n),o.destroy(),i.close(),i.emit("error","timeout"),a.emitAll("connect_timeout",n)}),n);this.subs.push({destroy:function(){clearTimeout(d)}})}return this.subs.push(o),this.subs.push(r),this},a.prototype.onopen=function(){p("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(c(e,"data",l(this,"ondata"))),this.subs.push(c(e,"ping",l(this,"onping"))),this.subs.push(c(e,"pong",l(this,"onpong"))),this.subs.push(c(e,"error",l(this,"onerror"))),this.subs.push(c(e,"close",l(this,"onclose"))),this.subs.push(c(this.decoder,"decoded",l(this,"ondecoded")))},a.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},a.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},a.prototype.ondata=function(e){this.decoder.add(e)},a.prototype.ondecoded=function(e){this.emit("packet",e)},a.prototype.onerror=function(e){p("error",e),this.emitAll("error",e)},a.prototype.socket=function(e,t){function i(){~m(o.connecting,a)||o.connecting.push(a)}var a=this.nsps[e];if(!a){a=new r(this,e,t),this.nsps[e]=a;var o=this;a.on("connecting",i),a.on("connect",(function(){a.id=o.generateId(e)})),this.autoConnect&&i()}return a},a.prototype.destroy=function(e){var t=m(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},a.prototype.packet=function(e){p("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,(function(i){for(var a=0;a<i.length;a++)t.engine.write(i[a],e.options);t.encoding=!1,t.processPacketQueue()})))},a.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},a.prototype.cleanup=function(){p("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},a.prototype.close=a.prototype.disconnect=function(){p("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},a.prototype.onclose=function(e){p("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},a.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)p("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();p("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var i=setTimeout((function(){e.skipReconnect||(p("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open((function(t){t?(p("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(p("reconnect success"),e.onreconnect())})))}),t);this.subs.push({destroy:function(){clearTimeout(i)}})}},a.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,i){e.exports=i(14),e.exports.parser=i(21)},function(e,t,i){(function(t){function a(e,i){if(!(this instanceof a))return new a(e,i);i=i||{},e&&"object"==typeof e&&(i=e,e=null),e?(e=c(e),i.hostname=e.host,i.secure="https"===e.protocol||"wss"===e.protocol,i.port=e.port,e.query&&(i.query=e.query)):i.host&&(i.hostname=c(i.host).host),this.secure=null!=i.secure?i.secure:t.location&&"https:"===location.protocol,i.hostname&&!i.port&&(i.port=this.secure?"443":"80"),this.agent=i.agent||!1,this.hostname=i.hostname||(t.location?location.hostname:"localhost"),this.port=i.port||(t.location&&location.port?location.port:this.secure?443:80),this.query=i.query||{},"string"==typeof this.query&&(this.query=l.decode(this.query)),this.upgrade=!1!==i.upgrade,this.path=(i.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!i.forceJSONP,this.jsonp=!1!==i.jsonp,this.forceBase64=!!i.forceBase64,this.enablesXDR=!!i.enablesXDR,this.timestampParam=i.timestampParam||"t",this.timestampRequests=i.timestampRequests,this.transports=i.transports||["polling","websocket"],this.transportOptions=i.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=i.policyPort||843,this.rememberUpgrade=i.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=i.onlyBinaryUpgrades,this.perMessageDeflate=!1!==i.perMessageDeflate&&(i.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=i.pfx||null,this.key=i.key||null,this.passphrase=i.passphrase||null,this.cert=i.cert||null,this.ca=i.ca||null,this.ciphers=i.ciphers||null,this.rejectUnauthorized=void 0===i.rejectUnauthorized||i.rejectUnauthorized,this.forceNode=!!i.forceNode;var o="object"==typeof t&&t;o.global===o&&(i.extraHeaders&&Object.keys(i.extraHeaders).length>0&&(this.extraHeaders=i.extraHeaders),i.localAddress&&(this.localAddress=i.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}var o=i(15),s=i(8),r=i(3)("engine.io-client:socket"),n=i(36),d=i(21),c=i(2),l=i(30);e.exports=a,a.priorWebsocketSuccess=!1,s(a.prototype),a.protocol=d.protocol,a.Socket=a,a.Transport=i(20),a.transports=i(15),a.parser=i(21),a.prototype.createTransport=function(e){r('creating transport "%s"',e);var t=function(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}(this.query);t.EIO=d.protocol,t.transport=e;var i=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new o[e]({query:t,socket:this,agent:i.agent||this.agent,hostname:i.hostname||this.hostname,port:i.port||this.port,secure:i.secure||this.secure,path:i.path||this.path,forceJSONP:i.forceJSONP||this.forceJSONP,jsonp:i.jsonp||this.jsonp,forceBase64:i.forceBase64||this.forceBase64,enablesXDR:i.enablesXDR||this.enablesXDR,timestampRequests:i.timestampRequests||this.timestampRequests,timestampParam:i.timestampParam||this.timestampParam,policyPort:i.policyPort||this.policyPort,pfx:i.pfx||this.pfx,key:i.key||this.key,passphrase:i.passphrase||this.passphrase,cert:i.cert||this.cert,ca:i.ca||this.ca,ciphers:i.ciphers||this.ciphers,rejectUnauthorized:i.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:i.perMessageDeflate||this.perMessageDeflate,extraHeaders:i.extraHeaders||this.extraHeaders,forceNode:i.forceNode||this.forceNode,localAddress:i.localAddress||this.localAddress,requestTimeout:i.requestTimeout||this.requestTimeout,protocols:i.protocols||void 0})},a.prototype.open=function(){var e;if(this.rememberUpgrade&&a.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout((function(){t.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},a.prototype.setTransport=function(e){r("setting transport %s",e.name);var t=this;this.transport&&(r("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))},a.prototype.probe=function(e){function t(){if(m.onlyBinaryUpgrades){var t=!this.supportsBinary&&m.transport.supportsBinary;p=p||t}p||(r('probe transport "%s" opened',e),l.send([{type:"ping",data:"probe"}]),l.once("packet",(function(t){if(!p)if("pong"===t.type&&"probe"===t.data){if(r('probe transport "%s" pong',e),m.upgrading=!0,m.emit("upgrading",l),!l)return;a.priorWebsocketSuccess="websocket"===l.name,r('pausing current transport "%s"',m.transport.name),m.transport.pause((function(){p||"closed"!==m.readyState&&(r("changing transport and sending upgrade packet"),c(),m.setTransport(l),l.send([{type:"upgrade"}]),m.emit("upgrade",l),l=null,m.upgrading=!1,m.flush())}))}else{r('probe transport "%s" failed',e);var i=new Error("probe error");i.transport=l.name,m.emit("upgradeError",i)}})))}function i(){p||(p=!0,c(),l.close(),l=null)}function o(t){var a=new Error("probe error: "+t);a.transport=l.name,i(),r('probe transport "%s" failed because of error: %s',e,t),m.emit("upgradeError",a)}function s(){o("transport closed")}function n(){o("socket closed")}function d(e){l&&e.name!==l.name&&(r('"%s" works - aborting "%s"',e.name,l.name),i())}function c(){l.removeListener("open",t),l.removeListener("error",o),l.removeListener("close",s),m.removeListener("close",n),m.removeListener("upgrading",d)}r('probing transport "%s"',e);var l=this.createTransport(e,{probe:1}),p=!1,m=this;a.priorWebsocketSuccess=!1,l.once("open",t),l.once("error",o),l.once("close",s),this.once("close",n),this.once("upgrading",d),l.open()},a.prototype.onOpen=function(){if(r("socket open"),this.readyState="open",a.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){r("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},a.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(r('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else r('packet received with socket readyState "%s"',this.readyState)},a.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},a.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout((function(){"closed"!==t.readyState&&t.onClose("ping timeout")}),e||t.pingInterval+t.pingTimeout)},a.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout((function(){r("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)}),e.pingInterval)},a.prototype.ping=function(){var e=this;this.sendPacket("ping",(function(){e.emit("ping")}))},a.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},a.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(r("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},a.prototype.write=a.prototype.send=function(e,t,i){return this.sendPacket("message",e,t,i),this},a.prototype.sendPacket=function(e,t,i,a){if("function"==typeof t&&(a=t,t=void 0),"function"==typeof i&&(a=i,i=null),"closing"!==this.readyState&&"closed"!==this.readyState){(i=i||{}).compress=!1!==i.compress;var o={type:e,data:t,options:i};this.emit("packetCreate",o),this.writeBuffer.push(o),a&&this.once("flush",a),this.flush()}},a.prototype.close=function(){function e(){a.onClose("forced close"),r("socket closing - telling transport to close"),a.transport.close()}function t(){a.removeListener("upgrade",t),a.removeListener("upgradeError",t),e()}function i(){a.once("upgrade",t),a.once("upgradeError",t)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var a=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?i():e()})):this.upgrading?i():e()}return this},a.prototype.onError=function(e){r("socket error %j",e),a.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},a.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){r('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},a.prototype.filterUpgrades=function(e){for(var t=[],i=0,a=e.length;i<a;i++)~n(this.transports,e[i])&&t.push(e[i]);return t}}).call(t,function(){return this}())},function(e,t,i){(function(e){var a=i(16),o=i(18),s=i(33),r=i(34);t.polling=function(t){var i=!1,r=!1,n=!1!==t.jsonp;if(e.location){var d="https:"===location.protocol,c=location.port;c||(c=d?443:80),i=t.hostname!==location.hostname||c!==t.port,r=t.secure!==d}if(t.xdomain=i,t.xscheme=r,"open"in new a(t)&&!t.forceJSONP)return new o(t);if(!n)throw new Error("JSONP disabled");return new s(t)},t.websocket=r}).call(t,function(){return this}())},function(e,t,i){(function(t){var a=i(17);e.exports=function(e){var i=e.xdomain,o=e.xscheme,s=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!i||a))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!o&&s)return new XDomainRequest}catch(e){}if(!i)try{return new(t[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}}).call(t,function(){return this}())},function(e,t){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},function(e,t,i){(function(t){function a(){}function o(e){if(d.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,t.location){var i="https:"===location.protocol,a=location.port;a||(a=i?443:80),this.xd=e.hostname!==t.location.hostname||a!==e.port,this.xs=e.secure!==i}}function s(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function r(){for(var e in s.requests)s.requests.hasOwnProperty(e)&&s.requests[e].abort()}var n=i(16),d=i(19),c=i(8),l=i(31),p=i(3)("engine.io-client:polling-xhr");e.exports=o,e.exports.Request=s,l(o,d),o.prototype.supportsBinary=!0,o.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new s(e)},o.prototype.doWrite=function(e,t){var i="string"!=typeof e&&void 0!==e,a=this.request({method:"POST",data:e,isBinary:i}),o=this;a.on("success",t),a.on("error",(function(e){o.onError("xhr post error",e)})),this.sendXhr=a},o.prototype.doPoll=function(){p("xhr poll");var e=this.request(),t=this;e.on("data",(function(e){t.onData(e)})),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e},c(s.prototype),s.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var i=this.xhr=new n(e),a=this;try{p("xhr open %s: %s",this.method,this.uri),i.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var o in i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this.extraHeaders[o])}catch(e){}if("POST"===this.method)try{this.isBinary?i.setRequestHeader("Content-type","application/octet-stream"):i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{i.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in i&&(i.withCredentials=!0),this.requestTimeout&&(i.timeout=this.requestTimeout),this.hasXDR()?(i.onload=function(){a.onLoad()},i.onerror=function(){a.onError(i.responseText)}):i.onreadystatechange=function(){if(2===i.readyState)try{var e=i.getResponseHeader("Content-Type");a.supportsBinary&&"application/octet-stream"===e&&(i.responseType="arraybuffer")}catch(e){}4===i.readyState&&(200===i.status||1223===i.status?a.onLoad():setTimeout((function(){a.onError(i.status)}),0))},p("xhr data %s",this.data),i.send(this.data)}catch(e){return void setTimeout((function(){a.onError(e)}),0)}t.document&&(this.index=s.requestsCount++,s.requests[this.index]=this)},s.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},s.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},s.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},s.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=a:this.xhr.onreadystatechange=a,e)try{this.xhr.abort()}catch(e){}t.document&&delete s.requests[this.index],this.xhr=null}},s.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(e){}e="application/octet-stream"===t&&this.xhr.response||this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},s.prototype.hasXDR=function(){return void 0!==t.XDomainRequest&&!this.xs&&this.enablesXDR},s.prototype.abort=function(){this.cleanup()},s.requestsCount=0,s.requests={},t.document&&(t.attachEvent?t.attachEvent("onunload",r):t.addEventListener&&t.addEventListener("beforeunload",r,!1))}).call(t,function(){return this}())},function(e,t,i){function a(e){var t=e&&e.forceBase64;l&&!t||(this.supportsBinary=!1),o.call(this,e)}var o=i(20),s=i(30),r=i(21),n=i(31),d=i(32),c=i(3)("engine.io-client:polling");e.exports=a;var l=null!=new(i(16))({xdomain:!1}).responseType;n(a,o),a.prototype.name="polling",a.prototype.doOpen=function(){this.poll()},a.prototype.pause=function(e){function t(){c("paused"),i.readyState="paused",e()}var i=this;if(this.readyState="pausing",this.polling||!this.writable){var a=0;this.polling&&(c("we are currently polling - waiting to pause"),a++,this.once("pollComplete",(function(){c("pre-pause polling complete"),--a||t()}))),this.writable||(c("we are currently writing - waiting to pause"),a++,this.once("drain",(function(){c("pre-pause writing complete"),--a||t()})))}else t()},a.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},a.prototype.onData=function(e){var t=this;c("polling got data %s",e);r.decodePayload(e,this.socket.binaryType,(function(e,i,a){return"opening"===t.readyState&&t.onOpen(),"close"===e.type?(t.onClose(),!1):void t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},a.prototype.doClose=function(){function e(){c("writing close packet"),t.write([{type:"close"}])}var t=this;"open"===this.readyState?(c("transport open - closing"),e()):(c("transport not open - deferring close"),this.once("open",e))},a.prototype.write=function(e){var t=this;this.writable=!1;var i=function(){t.writable=!0,t.emit("drain")};r.encodePayload(e,this.supportsBinary,(function(e){t.doWrite(e,i)}))},a.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",i="";return!1!==this.timestampRequests&&(e[this.timestampParam]=d()),this.supportsBinary||e.sid||(e.b64=1),e=s.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(i=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+i+this.path+e}},function(e,t,i){function a(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}var o=i(21),s=i(8);e.exports=a,s(a.prototype),a.prototype.onError=function(e,t){var i=new Error(e);return i.type="TransportError",i.description=t,this.emit("error",i),this},a.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},a.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},a.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},a.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},a.prototype.onData=function(e){var t=o.decodePacket(e,this.socket.binaryType);this.onPacket(t)},a.prototype.onPacket=function(e){this.emit("packet",e)},a.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t,i){(function(e){function a(e,i){return i("b"+t.packets[e.type]+e.data.data)}function o(e,i,a){if(!i)return t.encodeBase64Packet(e,a);var o=e.data,s=new Uint8Array(o),r=new Uint8Array(1+o.byteLength);r[0]=f[e.type];for(var n=0;n<s.length;n++)r[n+1]=s[n];return a(r.buffer)}function s(e,i,a){if(!i)return t.encodeBase64Packet(e,a);if(_)return function(e,i,a){if(!i)return t.encodeBase64Packet(e,a);var o=new FileReader;return o.onload=function(){e.data=o.result,t.encodePacket(e,i,!0,a)},o.readAsArrayBuffer(e.data)}(e,i,a);var o=new Uint8Array(1);return o[0]=f[e.type],a(new v([o.buffer,e.data]))}function r(e,t,i){for(var a=new Array(e.length),o=p(e.length,i),s=function(e,i,o){t(i,(function(t,i){a[e]=i,o(t,a)}))},r=0;r<e.length;r++)s(r,e[r],o)}var n,d=i(22),c=i(23),l=i(24),p=i(25),m=i(26);e&&e.ArrayBuffer&&(n=i(28));var u="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),g="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),_=u||g;t.protocol=3;var f=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},h=d(f),b={type:"error",data:"parser error"},v=i(29);t.encodePacket=function(t,i,r,n){"function"==typeof i&&(n=i,i=!1),"function"==typeof r&&(n=r,r=null);var d=void 0===t.data?void 0:t.data.buffer||t.data;if(e.ArrayBuffer&&d instanceof ArrayBuffer)return o(t,i,n);if(v&&d instanceof e.Blob)return s(t,i,n);if(d&&d.base64)return a(t,n);var c=f[t.type];return void 0!==t.data&&(c+=r?m.encode(String(t.data),{strict:!1}):String(t.data)),n(""+c)},t.encodeBase64Packet=function(i,a){var o,s="b"+t.packets[i.type];if(v&&i.data instanceof e.Blob){var r=new FileReader;return r.onload=function(){var e=r.result.split(",")[1];a(s+e)},r.readAsDataURL(i.data)}try{o=String.fromCharCode.apply(null,new Uint8Array(i.data))}catch(e){for(var n=new Uint8Array(i.data),d=new Array(n.length),c=0;c<n.length;c++)d[c]=n[c];o=String.fromCharCode.apply(null,d)}return s+=e.btoa(o),a(s)},t.decodePacket=function(e,i,a){if(void 0===e)return b;if("string"==typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),i);if(a&&!1===(e=function(e){try{e=m.decode(e,{strict:!1})}catch(e){return!1}return e}(e)))return b;var o=e.charAt(0);return Number(o)==o&&h[o]?e.length>1?{type:h[o],data:e.substring(1)}:{type:h[o]}:b}o=new Uint8Array(e)[0];var s=l(e,1);return v&&"blob"===i&&(s=new v([s])),{type:h[o],data:s}},t.decodeBase64Packet=function(e,t){var i=h[e.charAt(0)];if(!n)return{type:i,data:{base64:!0,data:e.substr(1)}};var a=n.decode(e.substr(1));return"blob"===t&&v&&(a=new v([a])),{type:i,data:a}},t.encodePayload=function(e,i,a){"function"==typeof i&&(a=i,i=null);var o=c(e);return i&&o?v&&!_?t.encodePayloadAsBlob(e,a):t.encodePayloadAsArrayBuffer(e,a):e.length?void r(e,(function(e,a){t.encodePacket(e,!!o&&i,!1,(function(e){a(null,function(e){return e.length+":"+e}(e))}))}),(function(e,t){return a(t.join(""))})):a("0:")},t.decodePayload=function(e,i,a){if("string"!=typeof e)return t.decodePayloadAsBinary(e,i,a);var o;if("function"==typeof i&&(a=i,i=null),""===e)return a(b,0,1);for(var s,r,n="",d=0,c=e.length;d<c;d++){var l=e.charAt(d);if(":"===l){if(""===n||n!=(s=Number(n)))return a(b,0,1);if(n!=(r=e.substr(d+1,s)).length)return a(b,0,1);if(r.length){if(o=t.decodePacket(r,i,!1),b.type===o.type&&b.data===o.data)return a(b,0,1);if(!1===a(o,d+s,c))return}d+=s,n=""}else n+=l}return""!==n?a(b,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,i){return e.length?void r(e,(function(e,i){t.encodePacket(e,!0,!0,(function(e){return i(null,e)}))}),(function(e,t){var a=t.reduce((function(e,t){var i;return e+(i="string"==typeof t?t.length:t.byteLength).toString().length+i+2}),0),o=new Uint8Array(a),s=0;return t.forEach((function(e){var t="string"==typeof e,i=e;if(t){for(var a=new Uint8Array(e.length),r=0;r<e.length;r++)a[r]=e.charCodeAt(r);i=a.buffer}o[s++]=t?0:1;var n=i.byteLength.toString();for(r=0;r<n.length;r++)o[s++]=parseInt(n[r]);o[s++]=255;for(a=new Uint8Array(i),r=0;r<a.length;r++)o[s++]=a[r]})),i(o.buffer)})):i(new ArrayBuffer(0))},t.encodePayloadAsBlob=function(e,i){r(e,(function(e,i){t.encodePacket(e,!0,!0,(function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var a=new Uint8Array(e.length),o=0;o<e.length;o++)a[o]=e.charCodeAt(o);e=a.buffer,t[0]=0}var s=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),r=new Uint8Array(s.length+1);for(o=0;o<s.length;o++)r[o]=parseInt(s[o]);if(r[s.length]=255,v){var n=new v([t.buffer,r.buffer,e]);i(null,n)}}))}),(function(e,t){return i(new v(t))}))},t.decodePayloadAsBinary=function(e,i,a){"function"==typeof i&&(a=i,i=null);for(var o=e,s=[];o.byteLength>0;){for(var r=new Uint8Array(o),n=0===r[0],d="",c=1;255!==r[c];c++){if(d.length>310)return a(b,0,1);d+=r[c]}o=l(o,2+d.length),d=parseInt(d);var p=l(o,0,d);if(n)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(e){var m=new Uint8Array(p);p="";for(c=0;c<m.length;c++)p+=String.fromCharCode(m[c])}s.push(p),o=l(o,d)}var u=s.length;s.forEach((function(e,o){a(t.decodePacket(e,i,!0),o,u)}))}}).call(t,function(){return this}())},function(e,t){e.exports=Object.keys||function(e){var t=[],i=Object.prototype.hasOwnProperty;for(var a in e)i.call(e,a)&&t.push(a);return t}},function(e,t,i){(function(t){var a=i(10),o=Object.prototype.toString,s="function"==typeof t.Blob||"[object BlobConstructor]"===o.call(t.Blob),r="function"==typeof t.File||"[object FileConstructor]"===o.call(t.File);e.exports=function e(i){if(!i||"object"!=typeof i)return!1;if(a(i)){for(var o=0,n=i.length;o<n;o++)if(e(i[o]))return!0;return!1}if("function"==typeof t.Buffer&&t.Buffer.isBuffer&&t.Buffer.isBuffer(i)||"function"==typeof t.ArrayBuffer&&i instanceof ArrayBuffer||s&&i instanceof Blob||r&&i instanceof File)return!0;if(i.toJSON&&"function"==typeof i.toJSON&&1===arguments.length)return e(i.toJSON(),!0);for(var d in i)if(Object.prototype.hasOwnProperty.call(i,d)&&e(i[d]))return!0;return!1}}).call(t,function(){return this}())},function(e,t){e.exports=function(e,t,i){var a=e.byteLength;if(t=t||0,i=i||a,e.slice)return e.slice(t,i);if(t<0&&(t+=a),i<0&&(i+=a),i>a&&(i=a),t>=a||t>=i||0===a)return new ArrayBuffer(0);for(var o=new Uint8Array(e),s=new Uint8Array(i-t),r=t,n=0;r<i;r++,n++)s[n]=o[r];return s.buffer}},function(e,t){function i(){}e.exports=function(e,t,a){function o(e,i){if(o.count<=0)throw new Error("after called too many times");--o.count,e?(s=!0,t(e),t=a):0!==o.count||s||t(null,i)}var s=!1;return a=a||i,o.count=e,0===e?t():o}},function(e,t,i){var a;(function(e,o){!function(s){function r(e){for(var t,i,a=[],o=0,s=e.length;o<s;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<s?56320==(64512&(i=e.charCodeAt(o++)))?a.push(((1023&t)<<10)+(1023&i)+65536):(a.push(t),o--):a.push(t);return a}function n(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function d(e,t){return f(e>>t&63|128)}function c(e,t){if(0==(4294967168&e))return f(e);var i="";return 0==(4294965248&e)?i=f(e>>6&31|192):0==(4294901760&e)?(n(e,t)||(e=65533),i=f(e>>12&15|224),i+=d(e,6)):0==(4292870144&e)&&(i=f(e>>18&7|240),i+=d(e,12),i+=d(e,6)),i+f(63&e|128)}function l(){if(_>=g)throw Error("Invalid byte index");var e=255&u[_];if(_++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function p(e){var t,i;if(_>g)throw Error("Invalid byte index");if(_==g)return!1;if(t=255&u[_],_++,0==(128&t))return t;if(192==(224&t)){if((i=(31&t)<<6|l())>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&t)){if((i=(15&t)<<12|l()<<6|l())>=2048)return n(i,e)?i:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&((i=(7&t)<<18|l()<<12|l()<<6|l())>=65536&&i<=1114111))return i;throw Error("Invalid UTF-8 detected")}var m=("object"==typeof e&&e&&e.exports,"object"==typeof o&&o);m.global!==m&&m.window;var u,g,_,f=String.fromCharCode,h={version:"2.1.2",encode:function(e,t){for(var i=!1!==(t=t||{}).strict,a=r(e),o=a.length,s=-1,n="";++s<o;)n+=c(a[s],i);return n},decode:function(e,t){var i=!1!==(t=t||{}).strict;u=r(e),g=u.length,_=0;for(var a,o=[];!1!==(a=p(i));)o.push(a);return function(e){for(var t,i=e.length,a=-1,o="";++a<i;)(t=e[a])>65535&&(o+=f((t-=65536)>>>10&1023|55296),t=56320|1023&t),o+=f(t);return o}(o)}};void 0===(a=function(){return h}.call(t,i,t,e))||(e.exports=a)}()}).call(t,i(27)(e),function(){return this}())},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Uint8Array(256),a=0;a<e.length;a++)i[e.charCodeAt(a)]=a;t.encode=function(t){var i,a=new Uint8Array(t),o=a.length,s="";for(i=0;i<o;i+=3)s+=e[a[i]>>2],s+=e[(3&a[i])<<4|a[i+1]>>4],s+=e[(15&a[i+1])<<2|a[i+2]>>6],s+=e[63&a[i+2]];return o%3==2?s=s.substring(0,s.length-1)+"=":o%3==1&&(s=s.substring(0,s.length-2)+"=="),s},t.decode=function(e){var t,a,o,s,r,n=.75*e.length,d=e.length,c=0;"="===e[e.length-1]&&(n--,"="===e[e.length-2]&&n--);var l=new ArrayBuffer(n),p=new Uint8Array(l);for(t=0;t<d;t+=4)a=i[e.charCodeAt(t)],o=i[e.charCodeAt(t+1)],s=i[e.charCodeAt(t+2)],r=i[e.charCodeAt(t+3)],p[c++]=a<<2|o>>4,p[c++]=(15&o)<<4|s>>2,p[c++]=(3&s)<<6|63&r;return l}}()},function(e,t){(function(t){function i(e){for(var t=0;t<e.length;t++){var i=e[t];if(i.buffer instanceof ArrayBuffer){var a=i.buffer;if(i.byteLength!==a.byteLength){var o=new Uint8Array(i.byteLength);o.set(new Uint8Array(a,i.byteOffset,i.byteLength)),a=o.buffer}e[t]=a}}}function a(e,t){t=t||{};var a=new s;i(e);for(var o=0;o<e.length;o++)a.append(e[o]);return t.type?a.getBlob(t.type):a.getBlob()}function o(e,t){return i(e),new Blob(e,t||{})}var s=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,r=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),n=r&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),d=s&&s.prototype.append&&s.prototype.getBlob;e.exports=r?n?t.Blob:o:d?a:void 0}).call(t,function(){return this}())},function(e,t){t.encode=function(e){var t="";for(var i in e)e.hasOwnProperty(i)&&(t.length&&(t+="&"),t+=encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return t},t.decode=function(e){for(var t={},i=e.split("&"),a=0,o=i.length;a<o;a++){var s=i[a].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}},function(e,t){e.exports=function(e,t){var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},function(e,t){"use strict";function i(e){var t="";do{t=s[e%r]+t,e=Math.floor(e/r)}while(e>0);return t}function a(){var e=i(+new Date);return e!==o?(d=0,o=e):e+"."+i(d++)}for(var o,s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),r=64,n={},d=0,c=0;c<r;c++)n[s[c]]=c;a.encode=i,a.decode=function(e){var t=0;for(c=0;c<e.length;c++)t=t*r+n[e.charAt(c)];return t},e.exports=a},function(e,t,i){(function(t){function a(){}function o(e){s.call(this,e),this.query=this.query||{},n||(t.___eio||(t.___eio=[]),n=t.___eio),this.index=n.length;var i=this;n.push((function(e){i.onData(e)})),this.query.j=this.index,t.document&&t.addEventListener&&t.addEventListener("beforeunload",(function(){i.script&&(i.script.onerror=a)}),!1)}var s=i(19),r=i(31);e.exports=o;var n,d=/\n/g,c=/\\n/g;r(o,s),o.prototype.supportsBinary=!1,o.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),s.prototype.doClose.call(this)},o.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var i=document.getElementsByTagName("script")[0];i?i.parentNode.insertBefore(t,i):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)},o.prototype.doWrite=function(e,t){function i(){a(),t()}function a(){if(o.iframe)try{o.form.removeChild(o.iframe)}catch(e){o.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+o.iframeId+'">';s=document.createElement(e)}catch(e){(s=document.createElement("iframe")).name=o.iframeId,s.src="javascript:0"}s.id=o.iframeId,o.form.appendChild(s),o.iframe=s}var o=this;if(!this.form){var s,r=document.createElement("form"),n=document.createElement("textarea"),l=this.iframeId="eio_iframe_"+this.index;r.className="socketio",r.style.position="absolute",r.style.top="-1000px",r.style.left="-1000px",r.target=l,r.method="POST",r.setAttribute("accept-charset","utf-8"),n.name="d",r.appendChild(n),document.body.appendChild(r),this.form=r,this.area=n}this.form.action=this.uri(),a(),e=e.replace(c,"\\\n"),this.area.value=e.replace(d,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===o.iframe.readyState&&i()}:this.iframe.onload=i}}).call(t,function(){return this}())},function(e,t,i){(function(t){function a(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=p&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(m=o),s.call(this,e)}var o,s=i(20),r=i(21),n=i(30),d=i(31),c=i(32),l=i(3)("engine.io-client:websocket"),p=t.WebSocket||t.MozWebSocket;if("undefined"==typeof window)try{o=i(35)}catch(e){}var m=p;m||"undefined"!=typeof window||(m=o),e.exports=a,d(a,s),a.prototype.name="websocket",a.prototype.supportsBinary=!0,a.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,i={agent:this.agent,perMessageDeflate:this.perMessageDeflate};i.pfx=this.pfx,i.key=this.key,i.passphrase=this.passphrase,i.cert=this.cert,i.ca=this.ca,i.ciphers=this.ciphers,i.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(i.headers=this.extraHeaders),this.localAddress&&(i.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?t?new m(e,t):new m(e):new m(e,t,i)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},a.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},a.prototype.write=function(e){var i=this;this.writable=!1;for(var a=e.length,o=0,s=a;o<s;o++)!function(e){r.encodePacket(e,i.supportsBinary,(function(o){if(!i.usingBrowserWebSocket){var s={};if(e.options&&(s.compress=e.options.compress),i.perMessageDeflate)("string"==typeof o?t.Buffer.byteLength(o):o.length)<i.perMessageDeflate.threshold&&(s.compress=!1)}try{i.usingBrowserWebSocket?i.ws.send(o):i.ws.send(o,s)}catch(e){l("websocket closed before onclose event")}--a||(i.emit("flush"),setTimeout((function(){i.writable=!0,i.emit("drain")}),0))}))}(e[o])},a.prototype.onClose=function(){s.prototype.onClose.call(this)},a.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},a.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",i="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(i=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=c()),this.supportsBinary||(e.b64=1),(e=n.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+i+this.path+e},a.prototype.check=function(){return!(!m||"__initialize"in m&&this.name===a.prototype.name)}}).call(t,function(){return this}())},function(e,t){},function(e,t){var i=[].indexOf;e.exports=function(e,t){if(i)return e.indexOf(t);for(var a=0;a<e.length;++a)if(e[a]===t)return a;return-1}},function(e,t,i){"use strict";function a(e,t,i){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},i&&i.query&&(this.query=i.query),this.io.autoConnect&&this.open()}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=i(7),r=i(8),n=i(38),d=i(39),c=i(40),l=i(3)("socket.io-client:socket"),p=i(30),m=i(23);e.exports=a;var u={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},g=r.prototype.emit;r(a.prototype),a.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[d(e,"open",c(this,"onopen")),d(e,"packet",c(this,"onpacket")),d(e,"close",c(this,"onclose"))]}},a.prototype.open=a.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},a.prototype.send=function(){var e=n(arguments);return e.unshift("message"),this.emit.apply(this,e),this},a.prototype.emit=function(e){if(u.hasOwnProperty(e))return g.apply(this,arguments),this;var t=n(arguments),i={type:(void 0!==this.flags.binary?this.flags.binary:m(t))?s.BINARY_EVENT:s.EVENT,data:t,options:{}};return i.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(l("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),i.id=this.ids++),this.connected?this.packet(i):this.sendBuffer.push(i),this.flags={},this},a.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},a.prototype.onopen=function(){if(l("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"===o(this.query)?p.encode(this.query):this.query;l("sending connect packet with query %s",e),this.packet({type:s.CONNECT,query:e})}else this.packet({type:s.CONNECT})},a.prototype.onclose=function(e){l("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},a.prototype.onpacket=function(e){if(e.nsp===this.nsp)switch(e.type){case s.CONNECT:this.onconnect();break;case s.EVENT:case s.BINARY_EVENT:this.onevent(e);break;case s.ACK:case s.BINARY_ACK:this.onack(e);break;case s.DISCONNECT:this.ondisconnect();break;case s.ERROR:this.emit("error",e.data)}},a.prototype.onevent=function(e){var t=e.data||[];l("emitting event %j",t),null!=e.id&&(l("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?g.apply(this,t):this.receiveBuffer.push(t)},a.prototype.ack=function(e){var t=this,i=!1;return function(){if(!i){i=!0;var a=n(arguments);l("sending ack %j",a),t.packet({type:m(a)?s.BINARY_ACK:s.ACK,id:e,data:a})}}},a.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(l("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):l("bad ack %s",e.id)},a.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},a.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)g.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},a.prototype.ondisconnect=function(){l("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},a.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},a.prototype.close=a.prototype.disconnect=function(){return this.connected&&(l("performing disconnect (%s)",this.nsp),this.packet({type:s.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},a.prototype.compress=function(e){return this.flags.compress=e,this},a.prototype.binary=function(e){return this.flags.binary=e,this}},function(e,t){e.exports=function(e,t){for(var i=[],a=(t=t||0)||0;a<e.length;a++)i[a-t]=e[a];return i}},function(e,t){"use strict";e.exports=function(e,t,i){return e.on(t,i),{destroy:function(){e.removeListener(t,i)}}}},function(e,t){var i=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var a=i.call(arguments,2);return function(){return t.apply(e,a.concat(i.call(arguments)))}}},function(e,t){function i(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=i,i.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),i=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-i:e+i}return 0|Math.min(e,this.max)},i.prototype.reset=function(){this.attempts=0},i.prototype.setMin=function(e){this.ms=e},i.prototype.setMax=function(e){this.max=e},i.prototype.setJitter=function(e){this.jitter=e}}])})),function(){var e=this;function t(e){return"string"==typeof e}function i(t,i){t=t.split(".");var a,o=e;t[0]in o||!o.execScript||o.execScript("var "+t[0]);for(;t.length&&(a=t.shift());)t.length||void 0===i?o=o[a]&&o[a]!==Object.prototype[a]?o[a]:o[a]={}:o[a]=i}function a(e,t){function i(){}i.prototype=t.prototype,e.o=t.prototype,e.prototype=new i,e.prototype.constructor=e,e.aa=function(e,i,a){for(var o=Array(arguments.length-2),s=2;s<arguments.length;s++)o[s-2]=arguments[s];return t.prototype[i].apply(e,o)}}var o=Array.prototype.indexOf?function(e,t,i){return Array.prototype.indexOf.call(e,t,i)}:function(e,i,a){if(a=null==a?0:0>a?Math.max(0,e.length+a):a,t(e))return t(i)&&1==i.length?e.indexOf(i,a):-1;for(;a<e.length;a++)if(a in e&&e[a]===i)return a;return-1};function s(e,t){e.sort(t||r)}function r(e,t){return e>t?1:e<t?-1:0}function n(e,t){switch(this.a=e,this.h=!!t.i,this.c=t.b,this.m=t.type,this.l=!1,this.c){case l:case p:case m:case u:case g:case c:case d:this.l=!0}this.g=t.defaultValue}var d=1,c=2,l=3,p=4,m=6,u=16,g=18;function _(e,t){for(this.c=e,this.a={},e=0;e<t.length;e++){var i=t[e];this.a[i.a]=i}}function f(){this.a={},this.g=this.f().a,this.c=this.h=null}function h(e,t){for(var i=function(e){return s(e=function(e){var t,i=[],a=0;for(t in e)i[a++]=e[t];return i}(e.a),(function(e,t){return e.a-t.a})),e}(e.f()),a=0;a<i.length;a++){var o=i[a],r=o.a;if(null!=t.a[r]){e.c&&delete e.c[o.a];var n=11==o.c||10==o.c;if(o.h){o=$(t,r);for(var d=0;d<o.length;d++)C(e,r,n?o[d].clone():o[d])}else o=b(t,r),n?(n=b(e,r))?h(n,o):S(e,r,o.clone()):S(e,r,o)}}}function b(e,t){var i=e.a[t];if(null==i)return null;if(e.h){if(!(t in e.c)){var a=e.h,o=e.g[t];if(null!=i)if(o.h){for(var s=[],r=0;r<i.length;r++)s[r]=a.c(o,i[r]);i=s}else i=a.c(o,i);return e.c[t]=i}return e.c[t]}return i}function v(e,t,i){var a=b(e,t);return e.g[t].h?a[i||0]:a}function y(e,t){if(null!=e.a[t])e=v(e,t,void 0);else e:{if(void 0===(e=e.g[t]).g)if((t=e.m)===Boolean)e.g=!1;else if(t===Number)e.g=0;else{if(t!==String){e=new t;break e}e.g=e.l?"0":""}e=e.g}return e}function $(e,t){return b(e,t)||[]}function w(e,t){return e.g[t].h?null!=e.a[t]?e.a[t].length:0:null!=e.a[t]?1:0}function S(e,t,i){e.a[t]=i,e.c&&(e.c[t]=i)}function C(e,t,i){e.a[t]||(e.a[t]=[]),e.a[t].push(i),e.c&&delete e.c[t]}function L(e,t){var i,a=[];for(i in t)0!=i&&a.push(new n(i,t[i]));return new _(e,a)}function k(){}f.prototype.has=function(e){return null!=this.a[e.a]},f.prototype.get=function(e,t){return v(this,e.a,t)},f.prototype.set=function(e,t){S(this,e.a,t)},f.prototype.add=function(e,t){C(this,e.a,t)},f.prototype.clone=function(){var e=new this.constructor;return e!=this&&(e.a={},e.c&&(e.c={}),h(e,this)),e},k.prototype.a=function(e){throw new e.c,Error("Unimplemented")},k.prototype.c=function(e,i){if(11==e.c||10==e.c)return i instanceof f?i:this.a(e.m.prototype.f(),i);if(14==e.c)return t(i)&&z.test(i)&&0<(e=Number(i))?e:i;if(!e.l)return i;if((e=e.m)===String){if("number"==typeof i)return String(i)}else if(e===Number&&t(i)&&("Infinity"===i||"-Infinity"===i||"NaN"===i||z.test(i)))return Number(i);return i};var z=/^-?[0-9]+$/;function I(){}function x(){}function P(e,t){null!=e&&this.a.apply(this,arguments)}function M(){f.call(this)}a(I,k),I.prototype.a=function(e,t){return(e=new e.c).h=this,e.a=t,e.c={},e},a(x,I),x.prototype.c=function(e,t){return 8==e.c?!!t:k.prototype.c.apply(this,arguments)},x.prototype.a=function(e,t){return x.o.a.call(this,e,t)},P.prototype.c="",P.prototype.set=function(e){this.c=""+e},P.prototype.a=function(e,t,i){if(this.c+=String(e),null!=t)for(var a=1;a<arguments.length;a++)this.c+=arguments[a];return this},P.prototype.toString=function(){return this.c},a(M,f);var A=null;function E(){f.call(this)}a(E,f);var O=null;function D(){f.call(this)}a(D,f);var T=null;function G(){f.call(this)}M.prototype.f=function(){var e=A;return e||(A=e=L(M,{0:{name:"NumberFormat",j:"i18n.phonenumbers.NumberFormat"},1:{name:"pattern",required:!0,b:9,type:String},2:{name:"format",required:!0,b:9,type:String},3:{name:"leading_digits_pattern",i:!0,b:9,type:String},4:{name:"national_prefix_formatting_rule",b:9,type:String},6:{name:"national_prefix_optional_when_formatting",b:8,defaultValue:!1,type:Boolean},5:{name:"domestic_carrier_code_formatting_rule",b:9,type:String}})),e},M.f=M.prototype.f,E.prototype.f=function(){var e=O;return e||(O=e=L(E,{0:{name:"PhoneNumberDesc",j:"i18n.phonenumbers.PhoneNumberDesc"},2:{name:"national_number_pattern",b:9,type:String},9:{name:"possible_length",i:!0,b:5,type:Number},10:{name:"possible_length_local_only",i:!0,b:5,type:Number},6:{name:"example_number",b:9,type:String}})),e},E.f=E.prototype.f,D.prototype.f=function(){var e=T;return e||(T=e=L(D,{0:{name:"PhoneMetadata",j:"i18n.phonenumbers.PhoneMetadata"},1:{name:"general_desc",b:11,type:E},2:{name:"fixed_line",b:11,type:E},3:{name:"mobile",b:11,type:E},4:{name:"toll_free",b:11,type:E},5:{name:"premium_rate",b:11,type:E},6:{name:"shared_cost",b:11,type:E},7:{name:"personal_number",b:11,type:E},8:{name:"voip",b:11,type:E},21:{name:"pager",b:11,type:E},25:{name:"uan",b:11,type:E},27:{name:"emergency",b:11,type:E},28:{name:"voicemail",b:11,type:E},29:{name:"short_code",b:11,type:E},30:{name:"standard_rate",b:11,type:E},31:{name:"carrier_specific",b:11,type:E},33:{name:"sms_services",b:11,type:E},24:{name:"no_international_dialling",b:11,type:E},9:{name:"id",required:!0,b:9,type:String},10:{name:"country_code",b:5,type:Number},11:{name:"international_prefix",b:9,type:String},17:{name:"preferred_international_prefix",b:9,type:String},12:{name:"national_prefix",b:9,type:String},13:{name:"preferred_extn_prefix",b:9,type:String},15:{name:"national_prefix_for_parsing",b:9,type:String},16:{name:"national_prefix_transform_rule",b:9,type:String},18:{name:"same_mobile_and_fixed_line_pattern",b:8,defaultValue:!1,type:Boolean},19:{name:"number_format",i:!0,b:11,type:M},20:{name:"intl_number_format",i:!0,b:11,type:M},22:{name:"main_country_for_code",b:8,defaultValue:!1,type:Boolean},23:{name:"leading_digits",b:9,type:String},26:{name:"leading_zero_possible",b:8,defaultValue:!1,type:Boolean}})),e},D.f=D.prototype.f,a(G,f);var N=null,F={$:0,w:1,v:5,u:10,s:20};G.prototype.f=function(){var e=N;return e||(N=e=L(G,{0:{name:"PhoneNumber",j:"i18n.phonenumbers.PhoneNumber"},1:{name:"country_code",required:!0,b:5,type:Number},2:{name:"national_number",required:!0,b:4,type:Number},3:{name:"extension",b:9,type:String},4:{name:"italian_leading_zero",b:8,type:Boolean},8:{name:"number_of_leading_zeros",b:5,defaultValue:1,type:Number},5:{name:"raw_input",b:9,type:String},6:{name:"country_code_source",b:14,defaultValue:0,type:F},7:{name:"preferred_domestic_carrier_code",b:9,type:String}})),e},G.ctor=G,G.ctor.f=G.prototype.f;var H={1:"US AG AI AS BB BM BS CA DM DO GD GU JM KN KY LC MP MS PR SX TC TT VC VG VI".split(" "),7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],800:["001"],808:["001"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],870:["001"],878:["001"],880:["BD"],881:["001"],882:["001"],883:["001"],886:["TW"],888:["001"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],979:["001"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},B={AC:[,[,,"(?:[01589]\\d|[46])\\d{4}",,,,,,,[5,6]],[,,"6[2-467]\\d{3}",,,,"62889",,,[5]],[,,"4\\d{4}",,,,"40123",,,[5]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"AC",247,"00",,,,,,,,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"[01589]\\d{5}",,,,"542011",,,[6]],,,[,,,,,,,,,[-1]]],AD:[,[,,"(?:1|6\\d)\\d{7}|[136-9]\\d{5}",,,,,,,[6,8,9]],[,,"[78]\\d{5}",,,,"712345",,,[6]],[,,"(?:3\\d|6(?:[0-8]|9(?:0\\d{2})?))\\d{4}",,,,"312345",,,[6,9]],[,,"180[02]\\d{4}",,,,"18001234",,,[8]],[,,"[19]\\d{5}",,,,"912345",,,[6]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"AD",376,"00",,,,,,,,[[,"(\\d{3})(\\d{3})","$1 $2",["[136-9]"]],[,"(\\d{4})(\\d{4})","$1 $2",["180","180[02]"]],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["690"]]],,[,,,,,,,,,[-1]],,,[,,"1800\\d{4}",,,,,,,[8]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AE:[,[,,"(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",,,,,,,[5,6,7,8,9,10,11,12]],[,,"[2-4679][2-8]\\d{6}",,,,"22345678",,,[8],[7]],[,,"5[024-68]\\d{7}",,,,"501234567",,,[9]],[,,"400\\d{6}|800\\d{2,9}",,,,"800123456"],[,,"900[02]\\d{5}",,,,"900234567",,,[9]],[,,"700[05]\\d{5}",,,,"700012345",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"AE",971,"00","0",,,"0",,,,[[,"([2-4679])(\\d{3})(\\d{4})","$1 $2 $3",["[2-4679][2-8]"],"0$1"],[,"(5\\d)(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],[,"([479]00)(\\d)(\\d{5})","$1 $2 $3",["[479]00"],"$1"],[,"([68]00)(\\d{2,9})","$1 $2",["[68]00"],"$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"600[25]\\d{5}",,,,"600212345",,,[9]],,,[,,,,,,,,,[-1]]],AF:[,[,,"[2-7]\\d{8}",,,,,,,[9],[7]],[,,"(?:[25][0-8]|[34][0-4]|6[0-5])[2-9]\\d{6}",,,,"234567890",,,,[7]],[,,"7(?:[014-9]\\d|2[89]|3[01])\\d{6}",,,,"701234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"AF",93,"00","0",,,"0",,,,[[,"([2-7]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AG:[,[,,"(?:268|[58]\\d\\d|900)\\d{7}",,,,,,,[10],[7]],[,,"268(?:4(?:6[0-38]|84)|56[0-2])\\d{4}",,,,"2684601234",,,,[7]],[,,"268(?:464|7(?:1[3-9]|2\\d|3[246]|64|[78][0-689]))\\d{4}",,,,"2684641234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,"26848[01]\\d{4}",,,,"2684801234",,,,[7]],"AG",1,"011","1",,,"1",,,,,,[,,"26840[69]\\d{4}",,,,"2684061234",,,,[7]],,"268",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AI:[,[,,"(?:264|[58]\\d\\d|900)\\d{7}",,,,,,,[10],[7]],[,,"2644(?:6[12]|9[78])\\d{4}",,,,"2644612345",,,,[7]],[,,"264(?:235|476|5(?:3[6-9]|8[1-4])|7(?:29|72))\\d{4}",,,,"2642351234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"AI",1,"011","1",,,"1",,,,,,[,,,,,,,,,[-1]],,"264",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AL:[,[,,"(?:(?:[2-58]|6\\d)\\d\\d|700)\\d{5}|(?:8\\d{2,3}|900)\\d{3}",,,,,,,[6,7,8,9],[5]],[,,"(?:[2358](?:[16-9]\\d[2-9]|[2-5][2-9]\\d)|4(?:[2-57-9][2-9]\\d|6\\d{2}))\\d{4}",,,,"22345678",,,[8],[5,6,7]],[,,"6(?:[689][2-9]|7[2-6])\\d{6}",,,,"662123456",,,[9]],[,,"800\\d{4}",,,,"8001234",,,[7]],[,,"900[1-9]\\d{2}",,,,"900123",,,[6]],[,,"808[1-9]\\d{2}",,,,"808123",,,[6]],[,,"700[2-9]\\d{4}",,,,"70021234",,,[8]],[,,,,,,,,,[-1]],"AL",355,"00","0",,,"0",,,,[[,"(4)(\\d{3})(\\d{4})","$1 $2 $3",["4[0-6]"],"0$1"],[,"(6\\d)(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4[7-9]"],"0$1"],[,"(\\d{3})(\\d{3,5})","$1 $2",["[235][16-9]|[79]|8[016-9]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AM:[,[,,"(?:[1-489]\\d|55|60|77)\\d{6}",,,,,,,[8],[5,6]],[,,"(?:1[0-2]\\d|2(?:2[2-46]|3[1-8]|4[2-69]|5[2-7]|6[1-9]|8[1-7])|3[12]2|47\\d)\\d{5}",,,,"10123456",,,,[5,6]],[,,"(?:4[1349]|55|77|88|9[13-9])\\d{6}",,,,"77123456"],[,,"800\\d{5}",,,,"80012345"],[,,"90[016]\\d{5}",,,,"90012345"],[,,"80[1-4]\\d{5}",,,,"80112345"],[,,,,,,,,,[-1]],[,,"60(?:2[78]|3[5-9]|4[02-9]|5[0-46-9]|[6-8]\\d|90)\\d{4}",,,,"60271234"],"AM",374,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],[,"(\\d{2})(\\d{6})","$1 $2",["4[1349]|[5-7]|88|9[1-9]"],"0$1"],[,"(\\d{3})(\\d{5})","$1 $2",["[23]"],"(0$1)"],[,"(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8|90"],"0 $1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AO:[,[,,"[29]\\d{8}",,,,,,,[9]],[,,"2\\d(?:[26-9]\\d|\\d[26-9])\\d{5}",,,,"222123456"],[,,"9[1-49]\\d{7}",,,,"923123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"AO",244,"00",,,,,,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AR:[,[,,"(?:11|(?:[2368]|9\\d)\\d)\\d{8}",,,,,,,[10,11],[6,7,8]],[,,"11\\d{8}|(?:2(?:2(?:[013]\\d|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:[07]\\d|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|6[013-9])|4(?:7[3-8]|9\\d)|6(?:[01346]\\d|2[24-6]|5[15-8])|80\\d|9(?:[012789]\\d|3[1-6]|4[02-9]|5[234]|6[2-46]))|3(?:3(?:2[79]|6\\d|8[2578])|4(?:0[0124-9]|[1-357]\\d|4[24-7]|6[02-9]|8[0-79]|9[1236-8])|5(?:[138]\\d|2[1245]|4[1-9]|6[2-4]|7[1-6])|6[24]\\d|7(?:[069]\\d|1[1568]|2[013-9]|3[145]|4[0-35-9]|5[14-8]|7[2-57]|8[0-24-9])|8(?:[01578]\\d|2[15-7]|3[0-24-9]|4[13-6]|6[1-357-9]|9[124]))|670\\d)\\d{6}",,,,"1123456789",,,[10],[6,7,8]],[,,"675\\d{7}|9(?:11[2-9]\\d{7}|(?:2(?:2[013]|3[067]|49|6[01346]|80|9[147-9])|3(?:36|4[12358]|5[138]|6[24]|7[069]|8[013578]))[2-9]\\d{6}|\\d{4}[2-9]\\d{5})",,,,"91123456789",,,,[6,7,8]],[,,"800\\d{7}",,,,"8001234567",,,[10]],[,,"60[04579]\\d{7}",,,,"6001234567",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"AR",54,"00","0",,,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))?15)?","9$1",,,[[,"([68]\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],[,"(\\d{2})(\\d{4})","$1-$2",["[2-9]"],"$1"],[,"(\\d{3})(\\d{4})","$1-$2",["[2-9]"],"$1"],[,"(\\d{4})(\\d{4})","$1-$2",["[2-9]"],"$1"],[,"(9)(11)(\\d{4})(\\d{4})","$2 15-$3-$4",["911"],"0$1"],[,"(9)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9(?:2[2-4689]|3[3-8])","9(?:2(?:2[013]|3[067]|49|6[01346]|8|9[147-9])|3(?:36|4[1-358]|5[138]|6|7[069]|8[013578]))","9(?:2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3[4-6]|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45])))","9(?:2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3(?:4|5[014]|6[1-39])|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45])))"],"0$1"],[,"(9)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9[23]"],"0$1"],[,"(11)(\\d{4})(\\d{4})","$1 $2-$3",["11"],"0$1",,1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["2(?:2[013]|3[067]|49|6[01346]|8|9[147-9])|3(?:36|4[1-358]|5[138]|6|7[069]|8[013578])","2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3[4-6]|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45]))","2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3(?:4|5[014]|6[1-39])|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45]))"],"0$1",,1],[,"(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["[23]"],"0$1",,1],[,"(\\d{3})","$1",["1[0-2]|911"],"$1"]],[[,"([68]\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],[,"(9)(11)(\\d{4})(\\d{4})","$1 $2 $3-$4",["911"]],[,"(9)(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3-$4",["9(?:2[2-4689]|3[3-8])","9(?:2(?:2[013]|3[067]|49|6[01346]|8|9[147-9])|3(?:36|4[1-358]|5[138]|6|7[069]|8[013578]))","9(?:2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3[4-6]|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45])))","9(?:2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3(?:4|5[014]|6[1-39])|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45])))"]],[,"(9)(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3-$4",["9[23]"]],[,"(11)(\\d{4})(\\d{4})","$1 $2-$3",["11"],"0$1",,1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["2(?:2[013]|3[067]|49|6[01346]|8|9[147-9])|3(?:36|4[1-358]|5[138]|6|7[069]|8[013578])","2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3[4-6]|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45]))","2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3(?:4|5[014]|6[1-39])|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45]))"],"0$1",,1],[,"(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["[23]"],"0$1",,1]],[,,,,,,,,,[-1]],,,[,,"810\\d{7}",,,,,,,[10]],[,,"810\\d{7}",,,,"8101234567",,,[10]],,,[,,,,,,,,,[-1]]],AS:[,[,,"(?:[58]\\d\\d|684|900)\\d{7}",,,,,,,[10],[7]],[,,"6846(?:22|33|44|55|77|88|9[19])\\d{4}",,,,"6846221234",,,,[7]],[,,"684(?:2(?:5[2468]|72)|7(?:3[13]|70))\\d{4}",,,,"6847331234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"AS",1,"011","1",,,"1",,,,,,[,,,,,,,,,[-1]],,"684",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AT:[,[,,"[1-35-9]\\d{8,12}|4(?:[0-24-9]\\d{4,11}|3(?:[05]\\d{3,10}|[2-467]\\d{3,4}|8\\d{3,6}|9\\d{3,7}))|[1-35-8]\\d{7}|[1-35-7]\\d{5,6}|[15]\\d{4}|1\\d{3}",,,,,,,[4,5,6,7,8,9,10,11,12,13],[3]],[,,"1\\d{3,12}|(?:2(?:1[467]|2[13-8]|5[2357]|6[1-46-8]|7[1-8]|8[124-7]|9[1458])|3(?:1[1-8]|3[23568]|4[5-7]|5[1378]|6[1-38]|8[3-68])|4(?:2[1-8]|35|63|7[1368]|8[2457])|5(?:12|2[1-8]|3[357]|4[147]|5[12578]|6[37])|6(?:13|2[1-47]|4[1-35-8]|5[468]|62)|7(?:2[1-8]|3[25]|4[13478]|5[68]|6[16-8]|7[1-6]|9[45]))\\d{3,10}",,,,"1234567890",,,,[3]],[,,"6(?:5[0-3579]|6[013-9]|[7-9]\\d)\\d{4,10}",,,,"664123456",,,[7,8,9,10,11,12,13]],[,,"800\\d{6,10}",,,,"800123456",,,[9,10,11,12,13]],[,,"9(?:0[01]|3[019])\\d{6,10}",,,,"900123456",,,[9,10,11,12,13]],[,,"8(?:10\\d|2(?:[01]\\d|8\\d?))\\d{5,9}",,,,"810123456",,,[8,9,10,11,12,13]],[,,,,,,,,,[-1]],[,,"5(?:(?:0[1-9]|17)\\d{2,10}|[79]\\d{3,11})|7[28]0\\d{6,10}",,,,"780123456",,,[5,6,7,8,9,10,11,12,13]],"AT",43,"00","0",,,"0",,,,[[,"(116\\d{3})","$1",["116"],"$1"],[,"(1)(\\d{3,12})","$1 $2",["1"],"0$1"],[,"(5\\d)(\\d{3,5})","$1 $2",["5[079]"],"0$1"],[,"(5\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["5[079]"],"0$1"],[,"(5\\d)(\\d{4})(\\d{4,7})","$1 $2 $3",["5[079]"],"0$1"],[,"(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:5[0-3579]|[6-9])|7(?:[28]0|32)|[89]"],"0$1"],[,"(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],[,"(\\d{4})(\\d{3,9})","$1 $2",["2|3(?:1[1-578]|[3-8])|4[2378]|5[2-6]|6(?:[12]|4[1-9]|5[468])|7(?:[24][1-8]|35|[5-79])"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AU:[,[,,"1\\d{4,9}|[2-578]\\d{8}",,,,,,,[5,6,7,8,9,10]],[,,"[237]\\d{8}|8(?:51(?:0(?:0[03-9]|[1247]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-6])|1(?:1[69]|[23]\\d|4[0-4]))|[6-8]\\d{4}|9(?:[02-9]\\d{3}|1(?:[0-57-9]\\d{2}|6[0135-9]\\d)))\\d{3}",,,,"212345678",,,[9],[8]],[,,"14(?:5\\d|71)\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[6-9]|7[02-9]|8[0-2457-9]|9[017-9])\\d{6}",,,,"412345678",,,[9]],[,,"180(?:0\\d{3}|2)\\d{3}",,,,"1800123456",,,[7,10]],[,,"19(?:0[0126]\\d|[679])\\d{5}",,,,"1900123456",,,[8,10]],[,,"13(?:00\\d{3}|45[0-4]|\\d)\\d{3}",,,,"1300123456",,,[6,8,10]],[,,"500\\d{6}",,,,"500123456",,,[9]],[,,"550\\d{6}",,,,"550123456",,,[9]],"AU",61,"(?:14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011)|001[14-689]","0",,,"0",,"0011",,[[,"([2378])(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|[45]"],"0$1"],[,"(16)(\\d{3,4})","$1 $2",["16"],"0$1"],[,"(16)(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],[,"(1[389]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["1[389]0","1(?:[38]0|9)0"]],[,"(180)(2\\d{3})","$1 $2",["180","1802"]],[,"(19\\d)(\\d{3})","$1 $2",["19[13]"]],[,"(19\\d{2})(\\d{4})","$1 $2",["19[679]"]],[,"(13)(\\d{2})(\\d{2})","$1 $2 $3",["13[1-9]"]]],,[,,"16\\d{3,7}",,,,"1612345",,,[5,6,7,8,9]],1,,[,,"1(?:3(?:00\\d{3}|45[0-4]|\\d)\\d{3}|80(?:0\\d{6}|2\\d{3}))",,,,,,,[6,7,8,10]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AW:[,[,,"(?:[25-79]\\d\\d|800)\\d{4}",,,,,,,[7]],[,,"5(?:2\\d|8[1-9])\\d{4}",,,,"5212345"],[,,"(?:290|5[69]\\d|6(?:[03]0|22|4[0-2]|[69]\\d)|7(?:[34]\\d|7[07])|9(?:6[45]|9[4-8]))\\d{4}",,,,"5601234"],[,,"800\\d{4}",,,,"8001234"],[,,"900\\d{4}",,,,"9001234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"28\\d{5}|501\\d{4}",,,,"5011234"],"AW",297,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AX:[,[,,"1\\d{5,11}|(?:[27]|4\\d)\\d{4,9}|[356]0\\d{6,8}|800\\d{4,7}|[35]0\\d{4,5}",,,,,,,[5,6,7,8,9,10,11,12]],[,,"18[1-8]\\d{3,9}",,,,"181234567",,,[6,7,8,9,10,11,12]],[,,"4\\d{5,10}|50\\d{4,8}",,,,"412345678",,,[6,7,8,9,10,11]],[,,"800\\d{4,7}",,,,"8001234567",,,[7,8,9,10]],[,,"[67]00\\d{5,6}",,,,"600123456",,,[8,9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"AX",358,"00|99(?:[01469]|5(?:11|3[23]|41|5[59]|77|88|9[09]))","0",,,"0",,"00",,,,[,,,,,,,,,[-1]],,,[,,"[13]00\\d{3,7}|2(?:0(?:0\\d{3,7}|2[023]\\d{1,6}|9[89]\\d{1,6}))|60(?:[12]\\d{5,6}|6\\d{7})|7(?:1\\d{7}|3\\d{8}|5[03-9]\\d{3,7})",,,,,,,[5,6,7,8,9,10]],[,,"[13]0\\d{4,8}|2(?:0(?:[016-8]\\d{3,7}|[2-59]\\d{2,7})|9\\d{4,8})|60(?:[12]\\d{5,6}|6\\d{7})|7(?:1\\d{7}|3\\d{8}|5[03-9]\\d{2,7})",,,,"10112345",,,[5,6,7,8,9,10]],,,[,,,,,,,,,[-1]]],AZ:[,[,,"(?:(?:(?:[12457]\\d|60|88)\\d|365)\\d{3}|900200)\\d{3}",,,,,,,[9],[7]],[,,"(?:1[28]\\d{3}|2(?:02|1[24]|2[2-4]|33|[45]2|6[23])\\d{2}|365(?:[0-46-9]\\d|5[0-35-9]))\\d{4}",,,,"123123456",,,,[7]],[,,"(?:36554|(?:4[04]|5[015]|60|7[07])\\d{3})\\d{4}",,,,"401234567"],[,,"88\\d{7}",,,,"881234567"],[,,"900200\\d{3}",,,,"900200123"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"AZ",994,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2(?:[0-36]|[45]2)|365"],"(0$1)"],[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[4-8]"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BA:[,[,,"(?:[3589]\\d|49|6\\d\\d?|70)\\d{6}",,,,,,,[8,9],[6]],[,,"(?:3(?:[05679][2-9]|1[4579]|[23][24-9]|4[2-4689]|8[2457-9])|49[2-579]|5(?:0[2-49]|[13][2-9]|[268][2-4679]|4[4689]|5[2-79]|7[2-69]|9[2-4689]))\\d{5}",,,,"30212345",,,[8],[6]],[,,"6(?:0(?:3\\d|40)|[1-356]\\d|44[0-6]|71[137])\\d{5}",,,,"61123456"],[,,"8[08]\\d{6}",,,,"80123456",,,[8]],[,,"9[0246]\\d{6}",,,,"90123456",,,[8]],[,,"8[12]\\d{6}",,,,"82123456",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BA",387,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-356]|[7-9]"],"0$1"],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6[047]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"70(?:3[0146]|[56]0)\\d{4}",,,,"70341234",,,[8]],,,[,,,,,,,,,[-1]]],BB:[,[,,"(?:246|[58]\\d\\d|900)\\d{7}",,,,,,,[10],[7]],[,,"246(?:2(?:2[78]|7[0-4])|4(?:1[024-6]|2\\d|3[2-9])|5(?:20|[34]\\d|54|7[1-3])|6(?:2\\d|38)|7(?:37|57)|9(?:1[89]|63))\\d{4}",,,,"2464123456",,,,[7]],[,,"246(?:2(?:[356]\\d|4[0-57-9]|8[0-79])|45\\d|69[5-7]|8(?:[2-5]\\d|83))\\d{4}",,,,"2462501234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}|246976\\d{4}",,,,"9002123456",,,,[7]],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,"24631\\d{5}",,,,"2463101234",,,,[7]],"BB",1,"011","1",,,"1",,,,,,[,,,,,,,,,[-1]],,"246",[,,,,,,,,,[-1]],[,,"246(?:292|367|4(?:1[7-9]|3[01]|44|67)|736)\\d{4}",,,,"2464301234",,,,[7]],,,[,,,,,,,,,[-1]]],BD:[,[,,"[13469]\\d{9}|8[0-79]\\d{7,8}|[2-7]\\d{8}|[2-9]\\d{7}|[3-689]\\d{6}|[57-9]\\d{5}",,,,,,,[6,7,8,9,10]],[,,"2(?:[45]\\d{3}|7(?:1[0-267]|2[0-289]|3[0-29]|4[01]|5[1-3]|6[013]|7[0178]|91)|8(?:0[125]|[139][1-6]|2[0157-9]|41|6[1-35]|7[1-5]|8[1-8]|90)|9(?:0[0-2]|1[0-4]|2[568]|3[3-6]|5[5-7]|6[0167]|7[15]|8[0146-9]))\\d{4}|3(?:12?[5-7]\\d{2}|0(?:2(?:[025-79]\\d|[348]\\d{1,2})|3(?:[2-4]\\d|[56]\\d?))|2(?:1\\d{2}|2(?:[12]\\d|[35]\\d{1,2}|4\\d?))|3(?:1\\d{2}|2(?:[2356]\\d|4\\d{1,2}))|4(?:1\\d{2}|2(?:2\\d{1,2}|[47]|5\\d{2}))|5(?:1\\d{2}|29)|[67]1\\d{2}|8(?:1\\d{2}|2(?:2\\d{2}|3|4\\d)))\\d{3}|4(?:0(?:2(?:[09]\\d|7)|33\\d{2})|1\\d{3}|2(?:1\\d{2}|2(?:[25]\\d?|[348]\\d|[67]\\d{1,2}))|3(?:1\\d{2}(?:\\d{2})?|2(?:[045]\\d|[236-9]\\d{1,2})|32\\d{2})|4(?:[18]\\d{2}|2(?:[2-46]\\d{2}|3)|5[25]\\d{2})|5(?:1\\d{2}|2(?:3\\d|5))|6(?:[18]\\d{2}|2(?:3(?:\\d{2})?|[46]\\d{1,2}|5\\d{2}|7\\d)|5(?:3\\d?|4\\d|[57]\\d{1,2}|6\\d{2}|8))|71\\d{2}|8(?:[18]\\d{2}|23\\d{2}|54\\d{2})|9(?:[18]\\d{2}|2[2-5]\\d{2}|53\\d{1,2}))\\d{3}|5(?:02[03489]\\d{2}|1\\d{2}|2(?:1\\d{2}|2(?:2(?:\\d{2})?|[457]\\d{2}))|3(?:1\\d{2}|2(?:[37](?:\\d{2})?|[569]\\d{2}))|4(?:1\\d{2}|2[46]\\d{2})|5(?:1\\d{2}|26\\d{1,2})|6(?:[18]\\d{2}|2|53\\d{2})|7(?:1|24)\\d{2}|8(?:1|26)\\d{2}|91\\d{2})\\d{3}|6(?:0(?:1\\d{2}|2(?:3\\d{2}|4\\d{1,2}))|2(?:2[2-5]\\d{2}|5(?:[3-5]\\d{2}|7)|8\\d{2})|3(?:1|2[3478])\\d{2}|4(?:1|2[34])\\d{2}|5(?:1|2[47])\\d{2}|6(?:[18]\\d{2}|6(?:2(?:2\\d|[34]\\d{2})|5(?:[24]\\d{2}|3\\d|5\\d{1,2})))|72[2-5]\\d{2}|8(?:1\\d{2}|2[2-5]\\d{2})|9(?:1\\d{2}|2[2-6]\\d{2}))\\d{3}|7(?:(?:02|[3-589]1|6[12]|72[24])\\d{2}|21\\d{3}|32)\\d{3}|8(?:(?:4[12]|[5-7]2|1\\d?)|(?:0|3[12]|[5-7]1|217)\\d)\\d{4}|9(?:[35]1|(?:[024]2|81)\\d|(?:1|[24]1)\\d{2})\\d{3}",,,,"27111234",,,[6,7,8,9]],[,,"(?:1[13-9]\\d|(?:3[78]|44)[02-9]|6(?:44|6[02-9]))\\d{7}",,,,"1812345678",,,[10]],[,,"80[03]\\d{7}",,,,"8001234567",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"96(?:0[469]|1[0-4]|3[389]|6[69]|7[78])\\d{6}",,,,"9604123456",,,[10]],"BD",880,"00","0",,,"0",,,,[[,"(2)(\\d{7,8})","$1-$2",["2"],"0$1"],[,"(\\d{2})(\\d{4,6})","$1-$2",["[3-79]1"],"0$1"],[,"(\\d{4})(\\d{3,6})","$1-$2",["1|3(?:0|[2-58]2)|4(?:0|[25]2|3[23]|[4689][25])|5(?:[02-578]2|6[25])|6(?:[0347-9]2|[26][25])|7[02-9]2|8(?:[023][23]|[4-7]2)|9(?:[02][23]|[458]2|6[01367])"],"0$1"],[,"(\\d{3})(\\d{3,7})","$1-$2",["[3-79][2-9]|8"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BE:[,[,,"4\\d{8}|[1-9]\\d{7}",,,,,,,[8,9]],[,,"(?:1[0-69]|[23][2-8]|4[23]|5\\d|6[013-57-9]|71|8[1-79]|9[2-4])\\d{6}|80[2-8]\\d{5}",,,,"12345678",,,[8]],[,,"4(?:56|6[0135-8]|[79]\\d|8[3-9])\\d{6}",,,,"470123456",,,[9]],[,,"800[1-9]\\d{4}",,,,"80012345",,,[8]],[,,"(?:70(?:2[0-57]|3[0457]|44|69|7[0579])|90(?:0[0-35-8]|1[36]|2[0-3568]|3[0135689]|4[2-68]|5[1-68]|6[0-378]|7[23568]|9[34679]))\\d{4}",,,,"90012345",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BE",32,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4[5-9]"],"0$1"],[,"(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[23]|4[23]|9[2-4]"],"0$1"],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[156]|7[018]|8(?:0[1-9]|[1-79])"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"78[0-7]\\d{5}",,,,"78102345",,,[8]],,,[,,,,,,,,,[-1]]],BF:[,[,,"[25-7]\\d{7}",,,,,,,[8]],[,,"2(?:0(?:49|5[23]|6[56]|9[016-9])|4(?:4[569]|5[4-6]|6[56]|7[0179])|5(?:[34]\\d|50|6[5-7]))\\d{4}",,,,"20491234"],[,,"(?:5[124-8]|[67]\\d)\\d{6}",,,,"70123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BF",226,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BG:[,[,,"[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",,,,,,,[6,7,8,9],[4,5]],[,,"2\\d{5,7}|(?:[36]\\d|5[1-9]|8[1-6]|9[1-7])\\d{5,6}|(?:4(?:[124-7]\\d|3[1-6])|7(?:0[1-9]|[1-9]\\d))\\d{4,5}",,,,"2123456",,,[6,7,8],[4,5]],[,,"(?:8[7-9]\\d|9(?:8\\d|9[69]))\\d{6}|4(?:3[0789]|8\\d)\\d{5}",,,,"48123456",,,[8,9]],[,,"800\\d{5}",,,,"80012345",,,[8]],[,,"90\\d{6}",,,,"90123456",,,[8]],[,,,,,,,,,[-1]],[,,"700\\d{5}",,,,"70012345",,,[8]],[,,,,,,,,,[-1]],"BG",359,"00","0",,,"0",,,,[[,"(2)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],[,"(2)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],[,"(\\d{3})(\\d{4})","$1 $2",["43[124-7]|70[1-9]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[124-7]|70[1-9]"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[78]00"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["99[69]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["48|8[7-9]|9[08]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BH:[,[,,"[136-9]\\d{7}",,,,,,,[8]],[,,"(?:1(?:3[1356]|6[0156]|7\\d)\\d|6(?:1[16]\\d|500|6(?:0\\d|3[12]|44|7[7-9])|9[69][69])|7(?:1(?:11|78)|7\\d{2}))\\d{4}",,,,"17001234"],[,,"(?:3(?:[1-4679]\\d|5[013-69]|8[0-47-9])\\d|6(?:3(?:00|33|6[16])|6(?:[69]\\d|3[03-9]|7[0-6])))\\d{4}",,,,"36001234"],[,,"80\\d{6}",,,,"80123456"],[,,"(?:87|9[014578])\\d{6}",,,,"90123456"],[,,"84\\d{6}",,,,"84123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BH",973,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BI:[,[,,"(?:[267]\\d|31)\\d{6}",,,,,,,[8]],[,,"22\\d{6}",,,,"22201234"],[,,"(?:29|31|6[189]|7[125-9])\\d{6}",,,,"79561234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BI",257,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BJ:[,[,,"[2689]\\d{7}",,,,,,,[8]],[,,"2(?:02|1[037]|2[45]|3[68])\\d{5}",,,,"20211234"],[,,"(?:6\\d|9[03-9])\\d{6}",,,,"90011234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"857[58]\\d{4}",,,,"85751234"],"BJ",229,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2689]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"81\\d{6}",,,,"81123456"],,,[,,,,,,,,,[-1]]],BL:[,[,,"(?:590|69\\d)\\d{6}",,,,,,,[9]],[,,"590(?:2[7-9]|5[12]|87)\\d{4}",,,,"590271234"],[,,"69(?:0\\d{2}|1(?:2[29]|3[0-5]))\\d{4}",,,,"690001234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BL",590,"00","0",,,"0",,,,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BM:[,[,,"(?:441|[58]\\d\\d|900)\\d{7}",,,,,,,[10],[7]],[,,"441(?:2(?:02|23|61|[3479]\\d)|[46]\\d{2}|5(?:4\\d|60|89)|824)\\d{4}",,,,"4412345678",,,,[7]],[,,"441(?:[37]\\d|5[0-39])\\d{5}",,,,"4413701234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"BM",1,"011","1",,,"1",,,,,,[,,,,,,,,,[-1]],,"441",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BN:[,[,,"[2-578]\\d{6}",,,,,,,[7]],[,,"2(?:[013-9]\\d|2[0-7])\\d{4}|[3-5]\\d{6}",,,,"2345678"],[,,"22[89]\\d{4}|[78]\\d{6}",,,,"7123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BN",673,"00",,,,,,,,[[,"([2-578]\\d{2})(\\d{4})","$1 $2",["[2-578]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BO:[,[,,"(?:[2-467]\\d{3}|80017)\\d{4}",,,,,,,[8,9],[7]],[,,"(?:2(?:2\\d{2}|5(?:11|[258]\\d|9[67])|6(?:12|2\\d|9[34])|8(?:2[34]|39|62))|3(?:3\\d{2}|4(?:6\\d|8[24])|8(?:25|42|5[257]|86|9[25])|9(?:2\\d|3[234]|4[248]|5[24]|6[2-6]|7\\d))|4(?:4\\d{2}|6(?:11|[24689]\\d|72)))\\d{4}",,,,"22123456",,,[8],[7]],[,,"[67]\\d{7}",,,,"71234567",,,[8]],[,,"80017\\d{4}",,,,"800171234",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BO",591,"00(1\\d)?","0",,,"0(1\\d)?",,,,[[,"([234])(\\d{7})","$1 $2",["[2-4]"],,"0$CC $1"],[,"([67]\\d{7})","$1",["[67]"],,"0$CC $1"],[,"(800)(\\d{2})(\\d{4})","$1 $2 $3",["800"],,"0$CC $1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BQ:[,[,,"(?:[34]1|7\\d)\\d{5}",,,,,,,[7]],[,,"(?:318[023]|41(?:6[023]|70)|7(?:1[578]|50)\\d)\\d{3}",,,,"7151234"],[,,"(?:31(?:8[14-8]|9[14578])|416[145-9]|7(?:0[01]|7[07]|8\\d|9[056])\\d)\\d{3}",,,,"3181234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BQ",599,"00",,,,,,,,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BR:[,[,,"(?:[1-46-9]\\d\\d|5(?:[0-46-9]\\d|5[0-24679]))\\d{8}|[1-9]\\d{9}|[3589]\\d{8}|[34]\\d{7}",,,,,,,[8,9,10,11]],[,,"(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-5]\\d{7}",,,,"1123456789",,,[10],[8]],[,,"(?:[189][1-9]|2[12478])(?:7|9\\d)\\d{7}|(?:3[1-578]|[46][1-9]|5[13-5]|7[13-579])(?:[6-9]|9\\d)\\d{7}",,,,"11961234567",,,[10,11],[8]],[,,"800\\d{6,7}",,,,"800123456",,,[9,10]],[,,"(?:300|[59]00\\d?)\\d{6}",,,,"300123456",,,[9,10]],[,,"(?:300\\d(?:\\d{2})?|4(?:0(?:0\\d|20)|370))\\d{4}",,,,"40041234",,,[8,10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BR",55,"00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","0",,,"0(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2",,,[[,"(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37)","300|4(?:0(?:0|20)|370)"]],[,"([3589]00)(\\d{2,3})(\\d{4})","$1 $2 $3",["[3589]00"],"0$1"],[,"(\\d{3,5})","$1",["1[125689]"]],[,"(\\d{4})(\\d{4})","$1-$2",["[2-9](?:0[1-9]|[1-9])"]],[,"(\\d{5})(\\d{4})","$1-$2",["9(?:0[1-9]|[1-9])"]],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["[1-9][1-9]"],"($1)","0 $CC ($1)"],[,"(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[1-9][1-9]9"],"($1)","0 $CC ($1)"]],[[,"(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37)","300|4(?:0(?:0|20)|370)"]],[,"([3589]00)(\\d{2,3})(\\d{4})","$1 $2 $3",["[3589]00"],"0$1"],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["[1-9][1-9]"],"($1)","0 $CC ($1)"],[,"(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[1-9][1-9]9"],"($1)","0 $CC ($1)"]],[,,,,,,,,,[-1]],,,[,,"(?:300\\d|40(?:0\\d|20))\\d{4}",,,,,,,[8]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BS:[,[,,"(?:242|[58]\\d\\d|900)\\d{7}",,,,,,,[10],[7]],[,,"242(?:3(?:02|[236][1-9]|4[0-24-9]|5[0-68]|7[347]|8[0-4]|9[2-467])|461|502|6(?:0[1-4]|12|2[013]|[45]0|7[67]|8[78]|9[89])|7(?:02|88))\\d{4}",,,,"2423456789",,,,[7]],[,,"242(?:3(?:5[79]|7[56]|95)|4(?:[23][1-9]|4[1-35-9]|5[1-8]|6[2-8]|7\\d|81)|5(?:2[45]|3[35]|44|5[1-46-9]|65|77)|6[34]6|7(?:27|38)|8(?:0[1-9]|1[02-9]|2\\d|[89]9))\\d{4}",,,,"2423591234",,,,[7]],[,,"242300\\d{4}|8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456",,,,[7]],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"BS",1,"011","1",,,"1",,,,,,[,,,,,,,,,[-1]],,"242",[,,,,,,,,,[-1]],[,,"242225[0-46-9]\\d{3}",,,,"2422250123"],,,[,,,,,,,,,[-1]]],BT:[,[,,"[17]\\d{7}|[2-8]\\d{6}",,,,,,,[7,8],[6]],[,,"(?:2[3-6]|[34][5-7]|5[236]|6[2-46]|7[246]|8[2-4])\\d{5}",,,,"2345678",,,[7],[6]],[,,"(?:1[67]|77)\\d{6}",,,,"17123456",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BT",975,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1|77"]],[,"([2-8])(\\d{3})(\\d{3})","$1 $2 $3",["[2-68]|7[246]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BW:[,[,,"(?:(?:[2-6]|7\\d)\\d|90)\\d{5}",,,,,,,[7,8]],[,,"(?:2(?:4[0-48]|6[0-24]|9[0578])|3(?:1[0-35-9]|55|[69]\\d|7[01])|4(?:6[03]|7[1267]|9[0-5])|5(?:3[0389]|4[0489]|7[1-47]|88|9[0-49])|6(?:2[1-35]|5[149]|8[067]))\\d{4}",,,,"2401234",,,[7]],[,,"7(?:[1-6]\\d|7[014-8])\\d{5}",,,,"71123456",,,[8]],[,,,,,,,,,[-1]],[,,"90\\d{5}",,,,"9012345",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"79[12][01]\\d{4}",,,,"79101234",,,[8]],"BW",267,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[2-6]"]],[,"(7\\d)(\\d{3})(\\d{3})","$1 $2 $3",["7"]],[,"(90)(\\d{5})","$1 $2",["90"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BY:[,[,,"(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",,,,,,,[6,7,8,9,10,11],[5]],[,,"(?:1(?:5(?:1[1-5]|[24]\\d|6[2-4]|9[1-7])|6(?:[235]\\d|4[1-7])|7\\d{2})|2(?:1(?:[246]\\d|3[0-35-9]|5[1-9])|2(?:[235]\\d|4[0-8])|3(?:[26]\\d|3[02-79]|4[024-7]|5[03-7])))\\d{5}",,,,"152450911",,,[9],[5,6,7]],[,,"(?:2(?:5[5679]|9[1-9])|33\\d|44\\d)\\d{6}",,,,"294911911",,,[9]],[,,"8(?:0[13]|20\\d)\\d{7}|800\\d{3,7}",,,,"8011234567"],[,,"(?:810|902)\\d{7}",,,,"9021234567",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"249\\d{6}",,,,"249123456",,,[9]],"BY",375,"810","8",,,"8?0?",,"8~10",,[[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["17[0-3589]|2[4-9]|[34]","17(?:[02358]|1[0-2]|9[0189])|2[4-9]|[34]"],"8 0$1"],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:5[24]|6[235]|7[467])|2(?:1[246]|2[25]|3[26])","1(?:5[24]|6(?:2|3[04-9]|5[0346-9])|7(?:[46]|7[37-9]))|2(?:1[246]|2[25]|3[26])"],"8 0$1"],[,"(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],[,"([89]\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8[01]|9"],"8 $1"],[,"(82\\d)(\\d{4})(\\d{4})","$1 $2 $3",["82"],"8 $1"],[,"(800)(\\d{3})","$1 $2",["800"],"8 $1"],[,"(800)(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"]],,[,,,,,,,,,[-1]],,,[,,"8(?:0[13]|10|20\\d)\\d{7}|800\\d{3,7}|902\\d{7}"],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BZ:[,[,,"(?:0800\\d|[2-8])\\d{6}",,,,,,,[7,11]],[,,"(?:2(?:[02]\\d|36)|[3-58][02]\\d|7(?:[02]\\d|32))\\d{4}",,,,"2221234",,,[7]],[,,"6[0-35-7]\\d{5}",,,,"6221234",,,[7]],[,,"0800\\d{7}",,,,"08001234123",,,[11]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BZ",501,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],[,"(0)(800)(\\d{4})(\\d{3})","$1-$2-$3-$4",["080","0800"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CA:[,[,,"(?:[2-8]\\d|90)\\d{8}",,,,,,,[10],[7]],[,,"(?:2(?:04|[23]6|[48]9|50)|3(?:06|43|65)|4(?:03|1[68]|3[178]|50)|5(?:06|1[49]|48|79|8[17])|6(?:04|13|39|47)|7(?:0[59]|78|8[02])|8(?:[06]7|19|25|73)|90[25])[2-9]\\d{6}",,,,"5062345678",,,,[7]],[,,"(?:2(?:04|[23]6|[48]9|50)|3(?:06|43|65)|4(?:03|1[68]|3[178]|50)|5(?:06|1[49]|48|79|8[17])|6(?:04|13|39|47)|7(?:0[59]|78|8[02])|8(?:[06]7|19|25|73)|90[25])[2-9]\\d{6}",,,,"2042345678",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"(?:5(?:00|2[12]|33|44|66|77|88)|622)[2-9]\\d{6}",,,,"5002345678"],[,,"600[2-9]\\d{6}",,,,"6002012345"],"CA",1,"011","1",,,"1",,,1,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CC:[,[,,"1\\d{5,9}|[458]\\d{8}",,,,,,,[6,7,8,9,10]],[,,"8(?:51(?:0(?:02|31|60)|118)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:08|22|68)|4[29]8|62\\d|70[23]|959))\\d{3}",,,,"891621234",,,[9],[8]],[,,"14(?:5\\d|71)\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[6-9]|7[02-9]|8[0-2547-9]|9[017-9])\\d{6}",,,,"412345678",,,[9]],[,,"180(?:0\\d{3}|2)\\d{3}",,,,"1800123456",,,[7,10]],[,,"19(?:0[0126]\\d|[679])\\d{5}",,,,"1900123456",,,[8,10]],[,,"13(?:00\\d{2})?\\d{4}",,,,"1300123456",,,[6,10]],[,,"500\\d{6}",,,,"500123456",,,[9]],[,,"550\\d{6}",,,,"550123456",,,[9]],"CC",61,"(?:14(?:1[14]|34|4[17]|[56]6|7[47]|88))?001[14-689]","0",,,"0",,"0011",,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CD:[,[,,"[189]\\d{8}|[1-68]\\d{6}",,,,,,,[7,9]],[,,"1(?:2\\d{7}|\\d{6})|[2-6]\\d{6}",,,,"1234567"],[,,"8(?:[0-2459]\\d{2}|8)\\d{5}|9[017-9]\\d{7}",,,,"991234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CD",243,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["12"],"0$1"],[,"([89]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8[0-2459]|9"],"0$1"],[,"(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],[,"(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CF:[,[,,"(?:[27]\\d{3}|8776)\\d{4}",,,,,,,[8]],[,,"2[12]\\d{6}",,,,"21612345"],[,,"7[0257]\\d{6}",,,,"70012345"],[,,,,,,,,,[-1]],[,,"8776\\d{4}",,,,"87761234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CF",236,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CG:[,[,,"(?:(?:0\\d|80)\\d|222)\\d{6}",,,,,,,[9]],[,,"222[1-589]\\d{5}",,,,"222123456"],[,,"0[14-6]\\d{7}",,,,"061234567"],[,,,,,,,,,[-1]],[,,"80(?:0\\d{2}|11[0-4])\\d{4}",,,,"800123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CG",242,"00",,,,,,,,[[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["801"]],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]],[,"(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["800"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CH:[,[,,"8\\d{11}|[2-9]\\d{8}",,,,,,,[9,12]],[,,"(?:2[12467]|3[1-4]|4[134]|5[256]|6[12]|[7-9]1)\\d{7}",,,,"212345678",,,[9]],[,,"7[5-9]\\d{7}",,,,"781234567",,,[9]],[,,"800\\d{6}",,,,"800123456",,,[9]],[,,"90[016]\\d{6}",,,,"900123456",,,[9]],[,,"84[0248]\\d{6}",,,,"840123456",,,[9]],[,,"878\\d{6}",,,,"878123456",,,[9]],[,,,,,,,,,[-1]],"CH",41,"00","0",,,"0",,,,[[,"([2-9]\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]|[89]1"],"0$1"],[,"([89]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["860"],"0$1"]],,[,,"74[0248]\\d{6}",,,,"740123456",,,[9]],,,[,,,,,,,,,[-1]],[,,"5[18]\\d{7}",,,,"581234567",,,[9]],,,[,,"860\\d{9}",,,,"860123456789",,,[12]]],CI:[,[,,"[02-8]\\d{7}",,,,,,,[8]],[,,"(?:2(?:0[023]|1[02357]|[23][045]|4[03-5])|3(?:0[06]|1[069]|[2-4][07]|5[09]|6[08]))\\d{5}",,,,"21234567"],[,,"(?:[07][1-9]|[45]\\d|6[014-9]|8[4-9])\\d{6}",,,,"01234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CI",225,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CK:[,[,,"[2-8]\\d{4}",,,,,,,[5]],[,,"(?:2\\d|3[13-7]|4[1-5])\\d{3}",,,,"21234"],[,,"[5-8]\\d{4}",,,,"71234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CK",682,"00",,,,,,,,[[,"(\\d{2})(\\d{3})","$1 $2"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CL:[,[,,"(?:1230|[2-57-9]\\d|6\\d{1,3})\\d{7}",,,,,,,[9,10,11]],[,,"2(?:1962\\d{4}|2\\d{7}|32[0-467]\\d{5})|(?:3[2-5]\\d|[47][1-35]\\d|5[1-3578]\\d|6[13-57]\\d|8(?:0[1-9]|[1-9]\\d)|9[3-9]\\d)\\d{6}",,,,"221234567",,,[9]],[,,"2(?:1962\\d{4}|2\\d{7}|32[0-467]\\d{5})|(?:3[2-5]\\d|[47][1-35]\\d|5[1-3578]\\d|6[13-57]\\d|8(?:0[1-9]|[1-9]\\d)|9[3-9]\\d)\\d{6}",,,,"961234567",,,[9]],[,,"800\\d{6}|1230\\d{7}",,,,"800123456",,,[9,11]],[,,,,,,,,,[-1]],[,,"600\\d{7,8}",,,,"6001234567",,,[10,11]],[,,,,,,,,,[-1]],[,,"44\\d{7}",,,,"441234567",,,[9]],"CL",56,"(?:0|1(?:1[0-69]|2[0-57]|5[13-58]|69|7[0167]|8[018]))0",,,,,,,1,[[,"(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[23]"],"($1)"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[357]|4[1-35]|6[13-57]|8(?:0[1-9]|[1-9])"],"($1)"],[,"(9)(\\d{4})(\\d{4})","$1 $2 $3",["9"]],[,"(44)(\\d{3})(\\d{4})","$1 $2 $3",["44"]],[,"([68]00)(\\d{3})(\\d{3,4})","$1 $2 $3",["[68]00"]],[,"(600)(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["600"]],[,"(1230)(\\d{3})(\\d{4})","$1 $2 $3",["123","1230"]],[,"(\\d{5})(\\d{4})","$1 $2",["219"],"($1)"],[,"(\\d{4,5})","$1",["[1-9]"],"$1"]],[[,"(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[23]"],"($1)"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[357]|4[1-35]|6[13-57]|8(?:0[1-9]|[1-9])"],"($1)"],[,"(9)(\\d{4})(\\d{4})","$1 $2 $3",["9"]],[,"(44)(\\d{3})(\\d{4})","$1 $2 $3",["44"]],[,"([68]00)(\\d{3})(\\d{3,4})","$1 $2 $3",["[68]00"]],[,"(600)(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["600"]],[,"(1230)(\\d{3})(\\d{4})","$1 $2 $3",["123","1230"]],[,"(\\d{5})(\\d{4})","$1 $2",["219"],"($1)"]],[,,,,,,,,,[-1]],,,[,,"600\\d{7,8}",,,,,,,[10,11]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CM:[,[,,"(?:[26]\\d\\d|88)\\d{6}",,,,,,,[8,9]],[,,"2(?:22|33|4[23])\\d{6}",,,,"222123456",,,[9]],[,,"6[5-9]\\d{7}",,,,"671234567",,,[9]],[,,"88\\d{6}",,,,"88012345",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CM",237,"00",,,,,,,,[[,"([26])(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]"]],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[23]|88"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CN:[,[,,"(?:(?:(?:1[03-68]|2\\d)\\d\\d|[3-79])\\d|8[0-57-9])\\d{7}|[1-579]\\d{10}|8[0-57-9]\\d{8,9}|[1-79]\\d{9}|[1-9]\\d{7}|[12]\\d{6}",,,,,,,[7,8,9,10,11,12],[5,6]],[,,"21(?:100\\d{2}|95\\d{3,4}|\\d{8,10})|(?:10|2[02-57-9]|3(?:11|7[179])|4(?:[15]1|3[1-35])|5(?:1\\d|2[37]|3[12]|51|7[13-79]|9[15])|7(?:31|5[457]|6[09]|91)|8(?:[57]1|98))(?:100\\d{2}|95\\d{3,4}|\\d{8})|(?:3(?:1[02-9]|35|49|5\\d|7[02-68]|9[1-68])|4(?:1[02-9]|2[179]|3[3-9]|5[2-9]|6[4789]|7\\d|8[23])|5(?:3[03-9]|4[36]|5[02-9]|6[1-46]|7[028]|80|9[2-46-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[17]\\d|2[248]|3[04-9]|4[3-6]|5[0-4689]|6[2368]|9[02-9])|8(?:078|1[236-8]|2[5-7]|3\\d|5[1-9]|7[02-9]|8[3678]|9[1-7])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100\\d{2}|95\\d{3,4}|\\d{7})",,,,"1012345678",,,,[5,6]],[,,"1(?:[38]\\d{3}|4[57]\\d{2}|5[0-35-9]\\d{2}|66\\d{2}|7(?:[0-35-8]\\d{2}|40[0-5])|9[89]\\d{2})\\d{6}",,,,"13123456789",,,[11]],[,,"(?:10)?800\\d{7}",,,,"8001234567",,,[10,12]],[,,"16[08]\\d{5}",,,,"16812345",,,[8]],[,,"400\\d{7}|950\\d{7,8}|(?:10|2[0-57-9]|3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[4789]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[3678]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))96\\d{3,4}",,,,"4001234567",,,[7,8,9,10,11],[5,6]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CN",86,"(?:1(?:[12]\\d{3}|79\\d{2}|9[0-7]\\d{2}))?00","0",,,"(1(?:[12]\\d{3}|79\\d{2}|9[0-7]\\d{2}))|0",,"00",,[[,"([48]00)(\\d{3})(\\d{4})","$1 $2 $3",["[48]00"]],[,"(\\d{5,6})","$1",["100|95"]],[,"(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2\\d)[19]","(?:10|2\\d)(?:10|9[56])","(?:10|2\\d)(?:100|9[56])"],"0$1","$CC $1"],[,"(\\d{3})(\\d{5,6})","$1 $2",["[3-9]","[3-9]\\d\\d[19]","[3-9]\\d\\d(?:10|9[56])"],"0$1","$CC $1"],[,"(\\d{3,4})(\\d{4})","$1 $2",["[2-9]"]],[,"(21)(\\d{4})(\\d{4,6})","$1 $2 $3",["21"],"0$1","$CC $1",1],[,"([12]\\d)(\\d{4})(\\d{4})","$1 $2 $3",["10[1-9]|2[02-9]","10[1-9]|2[02-9]","10(?:[1-79]|8(?:0[1-9]|[1-9]))|2[02-9]"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:1[02-9]|35|49|5|7[02-68]|9[1-68])|4(?:1[02-9]|2[179]|[35][2-9]|6[47-9]|7|8[23])|5(?:3[03-9]|4[36]|5[02-9]|6[1-46]|7[028]|80|9[2-46-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[04-9]|4[3-6]|6[2368])|8(?:1[236-8]|2[5-7]|3|5[1-9]|7[02-9]|8[36-8]|9[1-7])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["3(?:11|7[179])|4(?:[15]1|3[1-35])|5(?:1|2[37]|3[12]|51|7[13-79]|9[15])|7(?:[39]1|5[457]|6[09])|8(?:[57]1|98)"],"0$1","$CC $1",1],[,"(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["807","8078"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1(?:[3-57-9]|66)"],,"$CC $1"],[,"(10800)(\\d{3})(\\d{4})","$1 $2 $3",["108","1080","10800"]],[,"(\\d{3})(\\d{7,8})","$1 $2",["950"]]],[[,"([48]00)(\\d{3})(\\d{4})","$1 $2 $3",["[48]00"]],[,"(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2\\d)[19]","(?:10|2\\d)(?:10|9[56])","(?:10|2\\d)(?:100|9[56])"],"0$1","$CC $1"],[,"(\\d{3})(\\d{5,6})","$1 $2",["[3-9]","[3-9]\\d\\d[19]","[3-9]\\d\\d(?:10|9[56])"],"0$1","$CC $1"],[,"(21)(\\d{4})(\\d{4,6})","$1 $2 $3",["21"],"0$1","$CC $1",1],[,"([12]\\d)(\\d{4})(\\d{4})","$1 $2 $3",["10[1-9]|2[02-9]","10[1-9]|2[02-9]","10(?:[1-79]|8(?:0[1-9]|[1-9]))|2[02-9]"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:1[02-9]|35|49|5|7[02-68]|9[1-68])|4(?:1[02-9]|2[179]|[35][2-9]|6[47-9]|7|8[23])|5(?:3[03-9]|4[36]|5[02-9]|6[1-46]|7[028]|80|9[2-46-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[04-9]|4[3-6]|6[2368])|8(?:1[236-8]|2[5-7]|3|5[1-9]|7[02-9]|8[36-8]|9[1-7])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["3(?:11|7[179])|4(?:[15]1|3[1-35])|5(?:1|2[37]|3[12]|51|7[13-79]|9[15])|7(?:[39]1|5[457]|6[09])|8(?:[57]1|98)"],"0$1","$CC $1",1],[,"(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["807","8078"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1(?:[3-57-9]|66)"],,"$CC $1"],[,"(10800)(\\d{3})(\\d{4})","$1 $2 $3",["108","1080","10800"]],[,"(\\d{3})(\\d{7,8})","$1 $2",["950"]]],[,,,,,,,,,[-1]],,,[,,"(?:4|(?:10)?8)00\\d{7}|950\\d{7,8}",,,,,,,[10,11,12]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CO:[,[,,"(?:1\\d|3)\\d{9}|[124-8]\\d{7}",,,,,,,[8,10,11],[7]],[,,"[124-8][2-9]\\d{6}",,,,"12345678",,,[8],[7]],[,,"3(?:0[0-5]|1\\d|2[0-3]|5[01])\\d{7}",,,,"3211234567",,,[10]],[,,"1800\\d{7}",,,,"18001234567",,,[11]],[,,"19(?:0[01]|4[78])\\d{7}",,,,"19001234567",,,[11]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CO",57,"00(?:4(?:[14]4|56)|[579])","0",,,"0([3579]|4(?:44|56))?",,,,[[,"(\\d)(\\d{7})","$1 $2",["1(?:[2-7]|8[2-9]|9[0-3])|[24-8]","1(?:[2-7]|8[2-9]|9(?:09|[1-3]))|[24-8]"],"($1)","0$CC $1"],[,"(\\d{3})(\\d{7})","$1 $2",["3"],,"0$CC $1"],[,"(1)(\\d{3})(\\d{7})","$1-$2-$3",["1(?:80|9[04])","1(?:800|9(?:0[01]|4[78]))"],"0$1"]],[[,"(\\d)(\\d{7})","$1 $2",["1(?:[2-7]|8[2-9]|9[0-3])|[24-8]","1(?:[2-7]|8[2-9]|9(?:09|[1-3]))|[24-8]"],"($1)","0$CC $1"],[,"(\\d{3})(\\d{7})","$1 $2",["3"],,"0$CC $1"],[,"(1)(\\d{3})(\\d{7})","$1 $2 $3",["1(?:80|9[04])","1(?:800|9(?:0[01]|4[78]))"]]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CR:[,[,,"(?:8\\d|90)\\d{8}|[24-8]\\d{7}",,,,,,,[8,10]],[,,"2(?:[024-7]\\d{2}|1(?:0[7-9]|[1-9]\\d))\\d{4}",,,,"22123456",,,[8]],[,,"5(?:0[01]|7[0-3])\\d{5}|6(?:[0-4]\\d{3}|500[01])\\d{3}|(?:7[0-3]|8[3-9])\\d{6}",,,,"83123456",,,[8]],[,,"800\\d{7}",,,,"8001234567",,,[10]],[,,"90[059]\\d{7}",,,,"9001234567",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"210[0-6]\\d{4}|4\\d{7}|5100\\d{4}",,,,"40001234",,,[8]],"CR",506,"00",,,,"(19(?:0[012468]|1[09]|20|66|77|99))",,,,[[,"(\\d{4})(\\d{4})","$1 $2",["[24-7]|8[3-9]"],,"$CC $1"],[,"(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]0"],,"$CC $1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CU:[,[,,"[2-57]\\d{7}|[2-47]\\d{6}|[34]\\d{5}",,,,,,,[6,7,8],[4,5]],[,,"2[1-4]\\d{5,6}|3(?:1\\d{6}|[23]\\d{4,6})|4(?:[125]\\d{5,6}|[36]\\d{6}|[78]\\d{4,6})|7\\d{6,7}",,,,"71234567",,,,[4,5]],[,,"5\\d{7}",,,,"51234567",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CU",53,"119","0",,,"0",,,,[[,"(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],[,"(\\d{2})(\\d{4,6})","$1 $2",["[2-4]"],"(0$1)"],[,"(\\d)(\\d{7})","$1 $2",["5"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CV:[,[,,"[2-59]\\d{6}",,,,,,,[7]],[,,"2(?:2[1-7]|3[0-8]|4[12]|5[1256]|6\\d|7[1-3]|8[1-5])\\d{4}",,,,"2211234"],[,,"(?:[34][36]|5[1-389]|9\\d)\\d{5}",,,,"9911234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CV",238,"0",,,,,,,,[[,"(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CW:[,[,,"(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",,,,,,,[7,8]],[,,"9(?:[48]\\d{2}|50\\d|7(?:2[0-24]|[34]\\d|6[35-7]|77|8[7-9]))\\d{4}",,,,"94151234",,,[8]],[,,"9(?:5(?:[12467]\\d|3[01])|6(?:[15-9]\\d|3[01]))\\d{4}",,,,"95181234",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"60[0-2]\\d{4}",,,,"6001234",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CW",599,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[13-7]"]],[,"(9)(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],,[,,"955\\d{5}",,,,"95581234",,,[8]],1,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CX:[,[,,"1\\d{5,9}|[458]\\d{8}",,,,,,,[6,7,8,9,10]],[,,"8(?:51(?:0(?:01|30|59)|117)|91(?:00[6-9]|1(?:21|49|78|81)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",,,,"891641234",,,[9],[8]],[,,"14(?:5\\d|71)\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[6-9]|7[02-9]|8[0-2547-9]|9[017-9])\\d{6}",,,,"412345678",,,[9]],[,,"180(?:0\\d{3}|2)\\d{3}",,,,"1800123456",,,[7,10]],[,,"19(?:0[0126]\\d|[679])\\d{5}",,,,"1900123456",,,[8,10]],[,,"13(?:00\\d{2})?\\d{4}",,,,"1300123456",,,[6,8,10]],[,,"500\\d{6}",,,,"500123456",,,[9]],[,,"550\\d{6}",,,,"550123456",,,[9]],"CX",61,"(?:14(?:1[14]|34|4[17]|[56]6|7[47]|88))?001[14-689]","0",,,"0",,"0011",,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CY:[,[,,"(?:[279]\\d|[58]0)\\d{6}",,,,,,,[8]],[,,"2[2-6]\\d{6}",,,,"22345678"],[,,"9[4-79]\\d{6}",,,,"96123456"],[,,"800\\d{5}",,,,"80001234"],[,,"90[09]\\d{5}",,,,"90012345"],[,,"80[1-9]\\d{5}",,,,"80112345"],[,,"700\\d{5}",,,,"70012345"],[,,,,,,,,,[-1]],"CY",357,"00",,,,,,,,[[,"(\\d{2})(\\d{6})","$1 $2"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"(?:50|77)\\d{6}",,,,"77123456"],,,[,,,,,,,,,[-1]]],CZ:[,[,,"(?:[2-578]\\d|60|9\\d{1,4})\\d{7}",,,,,,,[9,10,11,12]],[,,"2\\d{8}|(?:3[1257-9]|4[16-9]|5[13-9])\\d{7}",,,,"212345678",,,[9]],[,,"(?:60[1-8]|7(?:0[2-5]|[2379]\\d))\\d{6}",,,,"601123456",,,[9]],[,,"800\\d{6}",,,,"800123456",,,[9]],[,,"9(?:0[05689]|76)\\d{6}",,,,"900123456",,,[9]],[,,"8[134]\\d{7}",,,,"811234567",,,[9]],[,,"70[01]\\d{6}",,,,"700123456",,,[9]],[,,"9[17]0\\d{6}",,,,"910123456",,,[9]],"CZ",420,"00",,,,,,,,[[,"([2-9]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],[,"(96\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["96"]],[,"(9\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9[36]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"9(?:5\\d|7[234])\\d{6}",,,,"972123456",,,[9]],,,[,,"9(?:3\\d{9}|6\\d{7,10})",,,,"93123456789"]],DE:[,[,,"(?:1|[358]\\d{11})\\d{3}|[1-35689]\\d{13}|4(?:[0-8]\\d{5,12}|9(?:[05]\\d|44|6[1-8])\\d{9})|[1-35-9]\\d{6,12}|49(?:[0-357]\\d|[46][1-8])\\d{4,8}|49(?:[0-3579]\\d|4[1-9]|6[0-8])\\d{3}|[1-9]\\d{5}|[13-68]\\d{4}",,,,,,,[4,5,6,7,8,9,10,11,12,13,14,15],[3]],[,,"2\\d{5,13}|3(?:0\\d{3,13}|2\\d{9}|[3-9]\\d{4,13})|4(?:0\\d{3,12}|[1-8]\\d{4,12}|9(?:[0-37]\\d|4(?:[1-35-8]|4\\d?)|5\\d{1,2}|6[1-8]\\d?)\\d{2,8})|5(?:0[2-8]|[1256]\\d|[38][0-8]|4\\d{0,2}|[79][0-7])\\d{3,11}|6(?:\\d{5,13}|9\\d{3,12})|7(?:0[2-8]|[1-9]\\d)\\d{3,10}|8(?:0[2-9]|[1-8]\\d|9\\d?)\\d{3,10}|9(?:0[6-9]\\d{3,10}|1\\d{4,12}|[2-9]\\d{4,11})",,,,"30123456",,,[5,6,7,8,9,10,11,12,13,14,15],[3,4]],[,,"1(?:5[0-25-9]\\d{8}|6[023]\\d{7,8}|7\\d{8,9})",,,,"15123456789",,,[10,11]],[,,"800\\d{7,12}",,,,"8001234567890",,,[10,11,12,13,14,15]],[,,"137[7-9]\\d{6}|900(?:[135]\\d{6}|9\\d{7})",,,,"9001234567",,,[10,11]],[,,"1(?:3(?:7[1-6]\\d{6}|8\\d{4})|80\\d{5,11})",,,,"18012345",,,[7,8,9,10,11,12,13,14]],[,,"700\\d{8}",,,,"70012345678",,,[11]],[,,,,,,,,,[-1]],"DE",49,"00","0",,,"0",,,,[[,"(1\\d{2})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],[,"(15\\d{3})(\\d{6})","$1 $2",["15[0568]"],"0$1"],[,"(1\\d{3})(\\d{7})","$1 $2",["15"],"0$1"],[,"(\\d{2})(\\d{3,11})","$1 $2",["3[02]|40|[68]9"],"0$1"],[,"(\\d{3})(\\d{3,11})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14]|[4-9]1)|3(?:[35-9][15]|4[015])|[4-8][1-9]1|9(?:06|[1-9]1)","2(?:0[1-389]|1(?:[14]|2[0-8])|2[18]|3[14]|[4-9]1)|3(?:[35-9][15]|4[015])|[4-8][1-9]1|9(?:06|[1-9]1)"],"0$1"],[,"(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|[7-9](?:0[1-9]|[1-9])","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|[46][1246]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|3[1357]|4[13578]|6[1246]|7[1356]|9[1346])|5(?:0[14]|2[1-3589]|3[1357]|[49][1246]|6[1-4]|7[13468]|8[13568])|6(?:0[1356]|2[1-489]|3[124-6]|4[1347]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|3[1357]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|4[1347]|6[0135-9]|7[1467]|8[136])|9(?:0[12479]|2[1358]|3[1357]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|[7-9](?:0[1-9]|[1-9])"],"0$1"],[,"(3\\d{4})(\\d{1,10})","$1 $2",["3"],"0$1"],[,"(800)(\\d{7,12})","$1 $2",["800"],"0$1"],[,"(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:37|80)|900","1(?:37|80)|900[1359]"],"0$1"],[,"(1\\d{2})(\\d{5,11})","$1 $2",["181"],"0$1"],[,"(18\\d{3})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],[,"(18\\d{2})(\\d{7})","$1 $2",["18[68]"],"0$1"],[,"(18\\d)(\\d{8})","$1 $2",["18[2-579]"],"0$1"],[,"(700)(\\d{4})(\\d{4})","$1 $2 $3",["700"],"0$1"],[,"(138)(\\d{4})","$1 $2",["138"],"0$1"],[,"(15[013-68])(\\d{2})(\\d{8})","$1 $2 $3",["15[013-68]"],"0$1"],[,"(15[279]\\d)(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],[,"(1[67]\\d)(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"]],,[,,"16(?:4\\d{1,10}|[89]\\d{1,11})",,,,"16412345",,,[4,5,6,7,8,9,10,11,12,13,14]],,,[,,,,,,,,,[-1]],[,,"18(?:1\\d{5,11}|[2-9]\\d{8})",,,,"18500123456",,,[8,9,10,11,12,13,14]],,,[,,"1(?:5(?:(?:2\\d55|7\\d99|9\\d33)\\d{7}|(?:[034568]00|113)\\d{8})|6(?:013|255|399)\\d{7,8}|7(?:[015]13|[234]55|[69]33|[78]99)\\d{7,8})",,,,"177991234567",,,[12,13]]],DJ:[,[,,"(?:2\\d|77)\\d{6}",,,,,,,[8]],[,,"2(?:1[2-5]|7[45])\\d{5}",,,,"21360003"],[,,"77\\d{6}",,,,"77831001"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"DJ",253,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],DK:[,[,,"[2-9]\\d{7}",,,,,,,[8]],[,,"(?:[2-7]\\d|8[126-9]|9[1-36-9])\\d{6}",,,,"32123456"],[,,"(?:[2-7]\\d|8[126-9]|9[1-36-9])\\d{6}",,,,"20123456"],[,,"80\\d{6}",,,,"80123456"],[,,"90\\d{6}",,,,"90123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"DK",45,"00",,,,,,,1,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],DM:[,[,,"(?:[58]\\d\\d|767|900)\\d{7}",,,,,,,[10],[7]],[,,"767(?:2(?:55|66)|4(?:2[01]|4[0-25-9])|50[0-4]|70[1-3])\\d{4}",,,,"7674201234",,,,[7]],[,,"767(?:2(?:[234689]5|7[5-7])|31[5-7]|61[1-7])\\d{4}",,,,"7672251234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"DM",1,"011","1",,,"1",,,,,,[,,,,,,,,,[-1]],,"767",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],DO:[,[,,"(?:[58]\\d\\d|900)\\d{7}",,,,,,,[10],[7]],[,,"8(?:[04]9[2-9]\\d{6}|29(?:2(?:[0-59]\\d|6[04-9]|7[0-27]|8[0237-9])|3(?:[0-35-9]\\d|4[7-9])|[45]\\d{2}|6(?:[0-27-9]\\d|[3-5][1-9]|6[0135-8])|7(?:0[013-9]|[1-37]\\d|4[1-35689]|5[1-4689]|6[1-57-9]|8[1-79]|9[1-8])|8(?:0[146-9]|1[0-48]|[248]\\d|3[1-79]|5[01589]|6[013-68]|7[124-8]|9[0-8])|9(?:[0-24]\\d|3[02-46-9]|5[0-79]|60|7[0169]|8[57-9]|9[02-9]))\\d{4})",,,,"8092345678",,,,[7]],[,,"8[024]9[2-9]\\d{6}",,,,"8092345678",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"DO",1,"011","1",,,"1",,,,,,[,,,,,,,,,[-1]],,"8[024]9",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],DZ:[,[,,"(?:[1-4]|[5-79]\\d|80)\\d{7}",,,,,,,[8,9]],[,,"(?:1\\d|2[013-79]|3[0-8]|4[0135689])\\d{6}|9619\\d{5}",,,,"12345678"],[,,"(?:5[4-6]|7[7-9])\\d{7}|6(?:[569]\\d|7[0-6])\\d{6}",,,,"551234567",,,[9]],[,,"800\\d{6}",,,,"800123456",,,[9]],[,,"80[3-689]1\\d{5}",,,,"808123456",,,[9]],[,,"80[12]1\\d{5}",,,,"801123456",,,[9]],[,,,,,,,,,[-1]],[,,"98[23]\\d{6}",,,,"983123456",,,[9]],"DZ",213,"00","0",,,"0",,,,[[,"([1-4]\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],[,"([5-8]\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"],[,"(9\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],EC:[,[,,"1800\\d{6,7}|(?:[2-7]|9\\d)\\d{7}",,,,,,,[8,9,10,11],[7]],[,,"[2-7][2-7]\\d{6}",,,,"22123456",,,[8],[7]],[,,"9(?:(?:39|[57][89]|[89]\\d)\\d|6(?:[0-27-9]\\d|30))\\d{5}",,,,"991234567",,,[9]],[,,"1800\\d{6,7}",,,,"18001234567",,,[10,11]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"[2-7]890\\d{4}",,,,"28901234",,,[8]],"EC",593,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[247]|[356][2-8]"],"(0$1)"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],[,"(1800)(\\d{3})(\\d{3,4})","$1 $2 $3",["180","1800"],"$1"]],[[,"(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[247]|[356][2-8]"]],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],[,"(1800)(\\d{3})(\\d{3,4})","$1 $2 $3",["180","1800"],"$1"]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],EE:[,[,,"8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d\\d|900)\\d{4}",,,,,,,[7,8,10]],[,,"(?:3[23589]|4[3-8]|6\\d|7[1-9]|88)\\d{5}",,,,"3212345",,,[7]],[,,"(?:5\\d|8[1-5])\\d{6}|5(?:[02]\\d{2}|1(?:[0-8]\\d|95)|5[0-478]\\d|64[0-4]|65[1-589])\\d{3}",,,,"51234567",,,[7,8]],[,,"800(?:0\\d{3}|1\\d|[2-9])\\d{3}",,,,"80012345"],[,,"(?:40\\d{2}|900)\\d{4}",,,,"9001234",,,[7,8]],[,,,,,,,,,[-1]],[,,"70[0-2]\\d{5}",,,,"70012345",,,[8]],[,,,,,,,,,[-1]],"EE",372,"00",,,,,,,,[[,"([3-79]\\d{2})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]"]],[,"(70)(\\d{2})(\\d{4})","$1 $2 $3",["70"]],[,"(8000)(\\d{3})(\\d{3})","$1 $2 $3",["800","8000"]],[,"([458]\\d{3})(\\d{3,4})","$1 $2",["40|5|8(?:00|[1-5])","40|5|8(?:00[1-9]|[1-5])"]]],,[,,,,,,,,,[-1]],,,[,,"800[2-9]\\d{3}",,,,,,,[7]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],EG:[,[,,"(?:[189]\\d?|[24-6])\\d{8}|[13]\\d{7}",,,,,,,[8,9,10],[7]],[,,"(?:1(?:3[23]\\d|5(?:[23]|9\\d))|2[2-4]\\d{2}|3\\d{2}|4(?:0[2-5]|[578][23]|64)\\d|5(?:0[2-7]|5\\d|7[23])\\d|6[24-689]3\\d|8(?:2[2-57]|4[26]|6[237]|8[2-4])\\d|9(?:2[27]|3[24]|52|6[2356]|7[2-4])\\d)\\d{5}",,,,"234567890",,,[8,9],[7]],[,,"1[0125]\\d{8}",,,,"1001234567",,,[10]],[,,"800\\d{7}",,,,"8001234567",,,[10]],[,,"900\\d{7}",,,,"9001234567",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"EG",20,"00","0",,,"0",,,,[[,"(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],[,"(\\d{2})(\\d{6,7})","$1 $2",["1(?:3|5[239])|[4-6]|[89][2-9]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1[0-25]|[89]00"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],EH:[,[,,"[5-8]\\d{8}",,,,,,,[9]],[,,"528[89]\\d{5}",,,,"528812345"],[,,"(?:6(?:[0-79]\\d|8[0-247-9])|7(?:0[067]|6[1267]|7[017]))\\d{6}",,,,"650123456"],[,,"80\\d{7}",,,,"801234567"],[,,"89\\d{7}",,,,"891234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"5924[01]\\d{4}",,,,"592401234"],"EH",212,"00","0",,,"0",,,,,,[,,,,,,,,,[-1]],,"528[89]",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],ER:[,[,,"[178]\\d{6}",,,,,,,[7],[6]],[,,"1(?:1[12568]|20|40|55|6[146])\\d{4}|8\\d{6}",,,,"8370362",,,,[6]],[,,"17[1-3]\\d{4}|7\\d{6}",,,,"7123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"ER",291,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{3})","$1 $2 $3",,"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],ES:[,[,,"(?:51|[6-9]\\d)\\d{7}",,,,,,,[9]],[,,"8(?:[1356]\\d|[28][0-8]|[47][1-9])\\d{6}|9(?:[135]\\d{7}|[28][0-8]\\d{6}|4[1-9]\\d{6}|6(?:[0-8]\\d{6}|9(?:0(?:[0-57-9]\\d{4}|6(?:0[0-8]|1[1-9]|[2-9]\\d)\\d{2})|[1-9]\\d{5}))|7(?:[124-9]\\d{2}|3(?:[0-8]\\d|9[1-9]))\\d{4})",,,,"810123456"],[,,"(?:6\\d{6}|7[1-48]\\d{5}|9(?:6906(?:09|10)|7390\\d{2}))\\d{2}",,,,"612345678"],[,,"[89]00\\d{6}",,,,"800123456"],[,,"80[367]\\d{6}",,,,"803123456"],[,,"90[12]\\d{6}",,,,"901123456"],[,,"70\\d{7}",,,,"701234567"],[,,,,,,,,,[-1]],"ES",34,"00",,,,,,,,[[,"([89]00)(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],[,"([5-9]\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[568]|[79][0-8]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"51\\d{7}",,,,"511234567"],,,[,,,,,,,,,[-1]]],ET:[,[,,"(?:11|[2-59]\\d)\\d{7}",,,,,,,[9],[7]],[,,"(?:11(?:1(?:1[124]|2[2-57]|3[1-5]|5[5-8]|8[6-8])|2(?:13|3[6-8]|5[89]|7[05-9]|8[2-6])|3(?:2[01]|3[0-289]|4[1289]|7[1-4]|87)|4(?:1[69]|3[2-49]|4[0-3]|6[5-8])|5(?:1[578]|44|5[0-4])|6(?:18|2[69]|39|4[5-7]|5[1-5]|6[0-59]|8[015-8]))|2(?:2(?:11[1-9]|22[0-7]|33\\d|44[1467]|66[1-68])|5(?:11[124-6]|33[2-8]|44[1467]|55[14]|66[1-3679]|77[124-79]|880))|3(?:3(?:11[0-46-8]|22[0-6]|33[0134689]|44[04]|55[0-6]|66[01467])|4(?:44[0-8]|55[0-69]|66[0-3]|77[1-5]))|4(?:6(?:22[0-24-7]|33[1-5]|44[13-69]|55[14-689]|660|88[1-4])|7(?:11[1-9]|22[1-9]|33[13-7]|44[13-6]|55[1-689]))|5(?:7(?:227|55[05]|(?:66|77)[14-8])|8(?:11[149]|22[013-79]|33[0-68]|44[013-8]|550|66[1-5]|77\\d)))\\d{4}",,,,"111112345",,,,[7]],[,,"9\\d{8}",,,,"911234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"ET",251,"00","0",,,"0",,,,[[,"([1-59]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[1-59]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],FI:[,[,,"(?:1\\d|[2-689])\\d{4,10}|7\\d{4,9}",,,,,,,[5,6,7,8,9,10,11,12]],[,,"1(?:[3569][1-8]\\d{3,9}|[47]\\d{5,10})|2[1-8]\\d{3,9}|3(?:[1-8]\\d{3,9}|9\\d{4,8})|[5689][1-8]\\d{3,9}",,,,"1312345678"],[,,"4(?:[0-8]\\d{4,9}|9\\d{3,8})|50\\d{4,8}",,,,"412345678",,,[6,7,8,9,10,11]],[,,"800\\d{4,7}",,,,"8001234567",,,[7,8,9,10]],[,,"[67]00\\d{5,6}",,,,"600123456",,,[8,9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"FI",358,"00|99(?:[01469]|5(?:11|3[23]|41|5[59]|77|88|9[09]))","0",,,"0",,"00",,[[,"(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[6-8])0"],"0$1"],[,"(75\\d{3})","$1",["75[12]"],"0$1"],[,"(116\\d{3})","$1",["116"],"$1"],[,"(\\d{2})(\\d{4,10})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],[,"(\\d)(\\d{4,11})","$1 $2",["[25689][1-8]|3"],"0$1"]],,[,,,,,,,,,[-1]],1,,[,,"[13]00\\d{3,7}|2(?:0(?:0\\d{3,7}|2[023]\\d{1,6}|9[89]\\d{1,6}))|60(?:[12]\\d{5,6}|6\\d{7})|7(?:1\\d{7}|3\\d{8}|5[03-9]\\d{3,7})",,,,,,,[5,6,7,8,9,10]],[,,"[13]0\\d{4,8}|2(?:0(?:[016-8]\\d{3,7}|[2-59]\\d{2,7})|9\\d{4,8})|60(?:[12]\\d{5,6}|6\\d{7})|7(?:1\\d{7}|3\\d{8}|5[03-9]\\d{3,7})",,,,"10112345",,,[5,6,7,8,9,10]],,,[,,,,,,,,,[-1]]],FJ:[,[,,"(?:(?:0800\\d|[235-9])\\d|45)\\d{5}",,,,,,,[7,11]],[,,"(?:3[0-5]\\d|6(?:03|[25-7]\\d)|8[58]\\d)\\d{4}",,,,"3212345",,,[7]],[,,"(?:[279]\\d|45|5[01568]|8[034679])\\d{5}",,,,"7012345",,,[7]],[,,"0800\\d{7}",,,,"08001234567",,,[11]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"FJ",679,"0(?:0|52)",,,,,,"00",,[[,"(\\d{3})(\\d{4})","$1 $2",["[2-9]"]],[,"(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],FK:[,[,,"[2-7]\\d{4}",,,,,,,[5]],[,,"[2-47]\\d{4}",,,,"31234"],[,,"[56]\\d{4}",,,,"51234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"FK",500,"00",,,,,,,,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],FM:[,[,,"[39]\\d{6}",,,,,,,[7]],[,,"3[2357]0[1-9]\\d{3}|9[2-6]\\d{5}",,,,"3201234"],[,,"3[2357]0[1-9]\\d{3}|9[2-7]\\d{5}",,,,"3501234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"FM",691,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],FO:[,[,,"(?:[2-8]\\d|90)\\d{4}",,,,,,,[6]],[,,"(?:20|[3-4]\\d|8[19])\\d{4}",,,,"201234"],[,,"(?:[27][1-9]|5\\d)\\d{4}",,,,"211234"],[,,"80[257-9]\\d{3}",,,,"802123"],[,,"90(?:[1345][15-7]|2[125-7]|99)\\d{2}",,,,"901123"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"(?:6[0-36]|88)\\d{4}",,,,"601234"],"FO",298,"00",,,,"(10(?:01|[12]0|88))",,,,[[,"(\\d{6})","$1",,,"$CC $1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],FR:[,[,,"[1-9]\\d{8}",,,,,,,[9]],[,,"[1-5]\\d{8}",,,,"123456789"],[,,"(?:6\\d|7[3-9])\\d{7}",,,,"612345678"],[,,"80[0-5]\\d{6}",,,,"801234567"],[,,"8[129]\\d{7}",,,,"891123456"],[,,"884\\d{6}",,,,"884012345"],[,,,,,,,,,[-1]],[,,"9\\d{8}",,,,"912345678"],"FR",33,"00","0",,,"0",,,,[[,"([1-79])(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"],[,"(1\\d{2})(\\d{3})","$1 $2",["11"],"$1"],[,"(8\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"]],[[,"([1-79])(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"],[,"(8\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"80[6-9]\\d{6}",,,,"806123456"],,,[,,,,,,,,,[-1]]],GA:[,[,,"(?:0\\d|[2-7])\\d{6}",,,,,,,[7,8]],[,,"01\\d{6}",,,,"01441234",,,[8]],[,,"0?[2-7]\\d{6}",,,,"06031234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"GA",241,"00",,,,,,,,[[,"(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GB:[,[,,"[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",,,,,,,[7,9,10],[4,5,6,8]],[,,"2(?:0[01378]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{7}|1(?:1(?:3[0-58]|4[0-5]|5[0-26-9]|6[0-4]|[78][0-49])|21[0-7]|31[0-8]|[4-69]1\\d)\\d{6}|1(?:2(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)|3(?:0\\d|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[28][02-57-9]|[37]\\d|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|2[024-9]|3[015689]|4[02-9]|5[03-9]|6\\d|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0124578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|8\\d|9[2-57]))\\d{6}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[345])))|3(?:638[2-5]|647[23]|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[123]))|5(?:24(?:3[2-79]|6\\d)|276\\d|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[567]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|955[0-4])|7(?:26(?:6[13-9]|7[0-7])|442\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|84(?:3[2-58]))|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}|176888[2-46-8]\\d{2}|16977[23]\\d{3}",,,,"1212345678",,,[9,10],[4,5,6,7,8]],[,,"7(?:[1-3]\\d{3}|4(?:[0-46-9]\\d{2}|5(?:[0-689]\\d|7[0-57-9]))|5(?:0[0-8]|[13-9]\\d|2[0-35-9])\\d|7(?:0(?:0[01]|[1-9]\\d)|[1-7]\\d{2}|8[02-9]\\d|9[0-689]\\d)|8(?:[014-9]\\d|[23][0-8])\\d|9(?:[024-9]\\d{2}|1(?:[02-9]\\d|1[028])|3[0-689]\\d))\\d{5}",,,,"7400123456",,,[10]],[,,"80(?:0(?:1111|\\d{6,7})|8\\d{7})",,,,"8001234567"],[,,"(?:87[123]|9(?:[01]\\d|8[2349]))\\d{7}",,,,"9012345678",,,[10]],[,,"8(?:4(?:5464\\d|[2-5]\\d{7})|70\\d{7})",,,,"8431234567",,,[7,10]],[,,"70\\d{8}",,,,"7012345678",,,[10]],[,,"56\\d{8}",,,,"5612345678",,,[10]],"GB",44,"00","0"," x",,"0",,,,[[,"(7\\d{3})(\\d{6})","$1 $2",["7(?:[1-57-9]|62)","7(?:[1-57-9]|624)"],"0$1"],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2|5[56]|7[06]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:[02-9]1|1)|3|9[018]"],"0$1"],[,"(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],[,"(1\\d{3})(\\d{5,6})","$1 $2",["1"],"0$1"],[,"(800)(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],[,"(845)(46)(4\\d)","$1 $2 $3",["845","8454","84546","845464"],"0$1"],[,"(8\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8(?:4[2-5]|7[0-3])"],"0$1"],[,"(80\\d)(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1"],[,"(800)(\\d{6})","$1 $2",["800"],"0$1"]],,[,,"76(?:0[012]|2[356]|4[0134]|5[49]|6[0-369]|77|81|9[39])\\d{6}",,,,"7640123456",,,[10]],1,,[,,,,,,,,,[-1]],[,,"(?:3[0347]|55)\\d{8}",,,,"5512345678",,,[10]],,,[,,,,,,,,,[-1]]],GD:[,[,,"(?:473|[58]\\d\\d|900)\\d{7}",,,,,,,[10],[7]],[,,"473(?:2(?:3[0-2]|69)|3(?:2[89]|86)|4(?:[06]8|3[5-9]|4[0-49]|5[5-79]|68|73|90)|63[68]|7(?:58|84)|800|938)\\d{4}",,,,"4732691234",,,,[7]],[,,"473(?:4(?:0[2-79]|1[04-9]|2[0-5]|58)|5(?:2[01]|3[3-8])|901)\\d{4}",,,,"4734031234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"GD",1,"011","1",,,"1",,,,,,[,,,,,,,,,[-1]],,"473",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GE:[,[,,"(?:[3-57]\\d\\d|800)\\d{6}",,,,,,,[9],[6]],[,,"(?:3(?:[256]\\d|4[124-9]|7[0-4])|4(?:1\\d|2[2-7]|3[1-79]|4[2-8]|7[239]|9[1-7]))\\d{6}",,,,"322123456",,,,[6]],[,,"(?:5(?:[14]4|5[0157-9]|68|7[0147-9]|9[1-35-9])|790)\\d{6}",,,,"555123456"],[,,"800\\d{6}",,,,"800123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"706\\d{6}",,,,"706123456"],"GE",995,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5|790"]],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,"706\\d{6}"],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GF:[,[,,"[56]94\\d{6}",,,,,,,[9]],[,,"594(?:[023]\\d|1[01]|4[03-9]|5[6-9]|6[0-3]|80|9[014])\\d{4}",,,,"594101234"],[,,"694(?:[0-249]\\d|3[0-48])\\d{4}",,,,"694201234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"GF",594,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GG:[,[,,"(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",,,,,,,[7,9,10],[6]],[,,"1481[25-9]\\d{5}",,,,"1481256789",,,[10],[6]],[,,"7(?:781\\d|839\\d|911[17])\\d{5}",,,,"7781123456",,,[10]],[,,"80(?:0(?:1111|\\d{6,7})|8\\d{7})",,,,"8001234567"],[,,"(?:87[123]|9(?:[01]\\d|8[0-3]))\\d{7}",,,,"9012345678",,,[10]],[,,"8(?:4(?:5464\\d|[2-5]\\d{7})|70\\d{7})",,,,"8431234567",,,[7,10]],[,,"70\\d{8}",,,,"7012345678",,,[10]],[,,"56\\d{8}",,,,"5612345678",,,[10]],"GG",44,"00","0",,,"0",,,,,,[,,"76(?:0[012]|2[356]|4[0134]|5[49]|6[0-369]|77|81|9[39])\\d{6}",,,,"7640123456",,,[10]],,,[,,,,,,,,,[-1]],[,,"(?:3[0347]|55)\\d{8}",,,,"5512345678",,,[10]],,,[,,,,,,,,,[-1]]],GH:[,[,,"(?:[235]\\d{3}|800)\\d{5}",,,,,,,[8,9],[7]],[,,"3(?:0(?:[237]\\d|80)|[167](?:2[0-6]|7\\d|80)|2(?:2[0-5]|7\\d|80)|3(?:2[0-3]|7\\d|80)|4(?:2[013-9]|3[01]|7\\d|80)|5(?:2[0-7]|7\\d|80)|8(?:2[0-2]|7\\d|80)|9(?:[28]0|7\\d))\\d{5}",,,,"302345678",,,[9],[7]],[,,"(?:2[034678]\\d|5(?:[0457]\\d|6[01]))\\d{6}",,,,"231234567",,,[9]],[,,"800\\d{5}",,,,"80012345",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"GH",233,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"],[,"(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,"800\\d{5}",,,,,,,[8]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GI:[,[,,"(?:[25]\\d|62)\\d{6}",,,,,,,[8]],[,,"2(?:00\\d{2}|1(?:6[24-7]\\d|90[0-2])|2(?:2[2457]\\d|50[0-2]))\\d{3}",,,,"20012345"],[,,"(?:5[46-8]|62)\\d{6}",,,,"57123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"GI",350,"00",,,,,,,,[[,"(\\d{3})(\\d{5})","$1 $2",["2"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GL:[,[,,"(?:19|[2-689]\\d)\\d{4}",,,,,,,[6]],[,,"(?:19|3[1-7]|6[14689]|8[14-79]|9\\d)\\d{4}",,,,"321000"],[,,"(?:[25][1-9]|4[2-9])\\d{4}",,,,"221234"],[,,"80\\d{4}",,,,"801234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"3[89]\\d{4}",,,,"381234"],"GL",299,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GM:[,[,,"[2-9]\\d{6}",,,,,,,[7]],[,,"(?:4(?:[23]\\d{2}|4(?:1[024679]|[6-9]\\d))|5(?:54[0-7]|6(?:[67]\\d)|7(?:1[04]|2[035]|3[58]|48))|8\\d{3})\\d{3}",,,,"5661234"],[,,"[23679]\\d{6}",,,,"3012345"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"GM",220,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GN:[,[,,"(?:30|6\\d\\d|722)\\d{6}",,,,,,,[8,9]],[,,"30(?:24|3[12]|4[1-35-7]|5[13]|6[189]|[78]1|9[1478])\\d{4}",,,,"30241234",,,[8]],[,,"6[02356]\\d{7}",,,,"601123456",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"722\\d{6}",,,,"722123456",,,[9]],"GN",224,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GP:[,[,,"(?:590|69\\d)\\d{6}",,,,,,,[9]],[,,"590(?:0[1-68]|1[0-2]|2[0-68]|3[1289]|4[0-24-9]|5[3-579]|6[0189]|7[08]|8[0-689]|9\\d)\\d{4}",,,,"590201234"],[,,"69(?:0\\d{2}|1(?:2[29]|3[0-5]))\\d{4}",,,,"690001234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"GP",590,"00","0",,,"0",,,,[[,"([56]\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["590|69[01]"],"0$1"]],,[,,,,,,,,,[-1]],1,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GQ:[,[,,"(?:222|(?:3\\d|55|[89]0)\\d)\\d{6}",,,,,,,[9]],[,,"3(?:3(?:3\\d[7-9]|[0-24-9]\\d[46])|5\\d{2}[7-9])\\d{4}",,,,"333091234"],[,,"(?:222|55[15])\\d{6}",,,,"222123456"],[,,"80\\d[1-9]\\d{5}",,,,"800123456"],[,,"90\\d[1-9]\\d{5}",,,,"900123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"GQ",240,"00",,,,,,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],[,"(\\d{3})(\\d{6})","$1 $2",["[89]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GR:[,[,,"(?:[268]\\d|[79]0)\\d{8}",,,,,,,[10]],[,,"2(?:1\\d{2}|2(?:2[1-46-9]|3[1-8]|4[1-7]|5[1-4]|6[1-8]|7[1-5]|[89][1-9])|3(?:1\\d|2[1-57]|[35][1-3]|4[13]|7[1-7]|8[124-6]|9[1-79])|4(?:1\\d|2[1-8]|3[1-4]|4[13-5]|6[1-578]|9[1-5])|5(?:1\\d|[29][1-4]|3[1-5]|4[124]|5[1-6])|6(?:1\\d|3[1245]|4[1-7]|5[13-9]|[269][1-6]|7[14]|8[1-5])|7(?:1\\d|2[1-5]|3[1-6]|4[1-7]|5[1-57]|6[135]|9[125-7])|8(?:1\\d|2[1-5]|[34][1-4]|9[1-57]))\\d{6}",,,,"2123456789"],[,,"6(?:8[57-9]|9\\d)\\d{7}",,,,"6912345678"],[,,"800\\d{7}",,,,"8001234567"],[,,"90[19]\\d{7}",,,,"9091234567"],[,,"8(?:0[16]|12|25)\\d{7}",,,,"8011234567"],[,,"70\\d{8}",,,,"7012345678"],[,,,,,,,,,[-1]],"GR",30,"00",,,,,,,,[[,"([27]\\d)(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["2[2-9]1|[689]"]],[,"(2\\d{3})(\\d{6})","$1 $2",["2[2-9][02-9]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GT:[,[,,"(?:1\\d{3}|[2-7])\\d{7}",,,,,,,[8,11]],[,,"[267][2-9]\\d{6}",,,,"22456789",,,[8]],[,,"[345]\\d{7}",,,,"51234567",,,[8]],[,,"18[01]\\d{8}",,,,"18001112222",,,[11]],[,,"19\\d{9}",,,,"19001112222",,,[11]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"GT",502,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",["[2-7]"]],[,"(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GU:[,[,,"(?:[58]\\d\\d|671|900)\\d{7}",,,,,,,[10],[7]],[,,"671(?:3(?:00|3[39]|4[349]|55|6[26])|4(?:00|56|7[1-9]|8[0236-9])|5(?:55|6[2-5]|88)|6(?:3[2-578]|4[24-9]|5[34]|78|8[235-9])|7(?:[079]7|2[0167]|3[45]|47|8[7-9])|8(?:[2-57-9]8|6[48])|9(?:2[29]|6[79]|7[1279]|8[7-9]|9[78]))\\d{4}",,,,"6713001234",,,,[7]],[,,"671(?:3(?:00|3[39]|4[349]|55|6[26])|4(?:00|56|7[1-9]|8[0236-9])|5(?:55|6[2-5]|88)|6(?:3[2-578]|4[24-9]|5[34]|78|8[235-9])|7(?:[079]7|2[0167]|3[45]|47|8[7-9])|8(?:[2-57-9]8|6[48])|9(?:2[29]|6[79]|7[1279]|8[7-9]|9[78]))\\d{4}",,,,"6713001234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"GU",1,"011","1",,,"1",,,1,,,[,,,,,,,,,[-1]],,"671",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GW:[,[,,"[49]\\d{8}|4\\d{6}",,,,,,,[7,9]],[,,"443\\d{6}",,,,"443201234",,,[9]],[,,"9(?:5\\d|6[569]|77)\\d{6}",,,,"955012345",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"40\\d{5}",,,,"4012345",,,[7]],"GW",245,"00",,,,,,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["44|9[5-7]"]],[,"(\\d{3})(\\d{4})","$1 $2",["40"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GY:[,[,,"(?:(?:(?:[2-46]\\d|77)\\d|862)\\d|9008)\\d{3}",,,,,,,[7]],[,,"(?:2(?:1[6-9]|2[0-35-9]|3[1-4]|5[3-9]|6\\d|7[0-24-79])|3(?:2[25-9]|3\\d)|4(?:4[0-24]|5[56])|77[1-57])\\d{4}",,,,"2201234"],[,,"6\\d{6}",,,,"6091234"],[,,"(?:289|862)\\d{4}",,,,"2891234"],[,,"9008\\d{3}",,,,"9008123"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"GY",592,"001",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],HK:[,[,,"8[0-46-9]\\d{6,7}|9\\d{4}(?:\\d(?:\\d(?:\\d{4})?)?)?|(?:[235-79]\\d|46)\\d{6}",,,,,,,[5,6,7,8,9,11]],[,,"(?:2(?:[13-8]\\d|2[013-9]|9[0-24-9])\\d|3(?:[1569][0-24-9]\\d|4[0-246-9]\\d|7[0-24-69]\\d|8(?:4[04]|9\\d))|58(?:0[1-8]|1[2-9]))\\d{4}",,,,"21234567",,,[8]],[,,"(?:46(?:0[0-6]|10|4[0-57-9])|5(?:[1-59][0-46-9]\\d|6[0-4689]\\d|7(?:[0-2469]\\d|30))|6(?:0[1-9]\\d|[13-59]\\d{2}|2(?:[0-57-9]\\d|6[01])|[68][0-57-9]\\d|7[0-79]\\d)|707[1-5]|8480|9(?:0[1-9]\\d|1[02-9]\\d|2(?:[0-8]\\d|9[03-9])|[358][0-8]\\d|[467]\\d{2}))\\d{4}",,,,"51234567",,,[8]],[,,"800\\d{6}",,,,"800123456",,,[9]],[,,"900(?:[0-24-9]\\d{7}|3\\d{1,4})",,,,"90012345678",,,[5,6,7,8,11]],[,,,,,,,,,[-1]],[,,"8(?:1[0-4679]\\d|2(?:[0-36]\\d|7[0-4])|3(?:[034]\\d|2[09]|70))\\d{4}",,,,"81123456",,,[8]],[,,,,,,,,,[-1]],"HK",852,"00(?:[126-9]|30|5[09])?",,,,,,"00",,[[,"(\\d{4})(\\d{4})","$1 $2",["[2-7]|[89](?:0[1-9]|[1-9])"]],[,"(800)(\\d{3})(\\d{3})","$1 $2 $3",["800"]],[,"(900)(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["900"]],[,"(900)(\\d{2,5})","$1 $2",["900"]]],,[,,"7(?:1(?:0[0-38]|1[0-3679]|3[013]|69|9[136])|2(?:[02389]\\d|1[18]|7[27-9])|3(?:[0-38]\\d|7[0-369]|9[2357-9])|47\\d|5(?:[178]\\d|5[0-5])|6(?:0[0-7]|2[236-9]|[35]\\d)|7(?:[27]\\d|8[7-9])|8(?:[23689]\\d|7[1-9])|9(?:[025]\\d|6[0-246-8]|7[0-36-9]|8[238]))\\d{4}",,,,"71123456",,,[8]],,,[,,,,,,,,,[-1]],[,,"30(?:0[1-9]|[15-7]\\d|2[047]|89)\\d{4}",,,,"30161234",,,[8]],,,[,,,,,,,,,[-1]]],HN:[,[,,"[237-9]\\d{7}",,,,,,,[8]],[,,"2(?:2(?:0[019]|1[1-36]|[23]\\d|4[04-6]|5[57]|7[013689]|8[0146-9]|9[012])|4(?:07|2[3-59]|3[13-689]|4[0-68]|5[1-35])|5(?:16|4[03-5]|5\\d|6[4-6]|74)|6(?:[056]\\d|17|3[04]|4[0-378]|[78][0-8]|9[01])|7(?:6[46-9]|7[02-9]|8[034])|8(?:79|8[0-35789]|9[1-57-9]))\\d{4}",,,,"22123456"],[,,"[37-9]\\d{7}",,,,"91234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"HN",504,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1-$2"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],HR:[,[,,"(?:[24-69]\\d|3[0-79])\\d{7}|80\\d{5,7}|[1-79]\\d{7}|6\\d{5,6}",,,,,,,[6,7,8,9]],[,,"1\\d{7}|(?:2[0-3]|3[1-5]|4[02-47-9]|5[1-3])\\d{6,7}",,,,"12345678",,,[8,9],[6,7]],[,,"9(?:01\\d|[1259]\\d{2}|7(?:[0679]\\d|51)|8\\d{1,2})\\d{5}",,,,"921234567",,,[8,9]],[,,"80[01]\\d{4,6}",,,,"800123456",,,[7,8,9]],[,,"6(?:[01]\\d{0,2}|[459]\\d{2})\\d{4}",,,,"611234",,,[6,7,8]],[,,,,,,,,,[-1]],[,,"7[45]\\d{6}",,,,"74123456",,,[8]],[,,,,,,,,,[-1]],"HR",385,"00","0",,,"0",,,,[[,"(1)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],[,"([2-5]\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-5]"],"0$1"],[,"(9\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],[,"(6[01])(\\d{2})(\\d{2,3})","$1 $2 $3",["6[01]"],"0$1"],[,"([67]\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[67]"],"0$1"],[,"(80[01])(\\d{2})(\\d{2,3})","$1 $2 $3",["80[01]"],"0$1"],[,"(80[01])(\\d{3})(\\d{3})","$1 $2 $3",["80[01]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"(?:62\\d?|72)\\d{6}",,,,"62123456",,,[8,9]],,,[,,,,,,,,,[-1]]],HT:[,[,,"[2-489]\\d{7}",,,,,,,[8]],[,,"2(?:2\\d|5[1-5]|81|9[149])\\d{5}",,,,"22453300"],[,,"[34]\\d{7}",,,,"34101234"],[,,"8\\d{7}",,,,"80012345"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"(?:9(?:[67][0-4]|8[0-3589]|9\\d))\\d{5}",,,,"98901234"],"HT",509,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],HU:[,[,,"[2357]\\d{8}|[1-9]\\d{7}",,,,,,,[8,9],[6]],[,,"(?:1\\d|2[2-9]|3[2-7]|4[24-9]|5[2-79]|6[23689]|7[2-9]|8[2-57-9]|9[2-69])\\d{6}",,,,"12345678",,,[8],[6]],[,,"(?:[257]0|3[01])\\d{7}",,,,"201234567",,,[9]],[,,"[48]0\\d{6}",,,,"80123456",,,[8]],[,,"9[01]\\d{6}",,,,"90123456",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"21\\d{7}",,,,"211234567",,,[9]],"HU",36,"00","06",,,"06",,,,[[,"(1)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"($1)"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"($1)"]],,[,,,,,,,,,[-1]],,,[,,"[48]0\\d{6}",,,,,,,[8]],[,,"38\\d{7}",,,,"381234567",,,[9]],,,[,,,,,,,,,[-1]]],ID:[,[,,"(?:[1-36]|8\\d{5})\\d{6}|[1-9]\\d{8,10}|[2-9]\\d{7}",,,,,,,[7,8,9,10,11,12],[5,6]],[,,"2(?:1(?:14\\d{3}|500\\d{3}|\\d{7,8})|2\\d{6,8}|4\\d{7,8})|(?:2(?:[35][1-4]|6[0-8]|7[1-6]|8\\d|9[1-8])|3(?:1|[25][1-8]|3[1-68]|4[1-3]|6[1-3568]|7[0-469]|8\\d)|4(?:0[1-589]|1[01347-9]|2[0-36-8]|3[0-24-68]|43|5[1-378]|6[1-5]|7[134]|8[1245])|5(?:1[1-35-9]|2[25-8]|3[124-9]|4[1-3589]|5[1-46]|6[1-8])|6(?:19?|[25]\\d|3[1-69]|4[1-6])|7(?:02|[125][1-9]|[36]\\d|4[1-8]|7[0-36-9])|9(?:0[12]|1[013-8]|2[0-479]|5[125-8]|6[23679]|7[159]|8[01346]))\\d{5,8}",,,,"218350123",,,[7,8,9,10,11],[5,6]],[,,"(?:2(?:1(?:3[145]|4[01]|5[1-469]|60|8[0359])|2(?:88|9[1256])|3[1-4]9|4(?:36|91)|5(?:1[349]|[2-4]9)|6[0-7]9|7(?:[1-36]9|4[39])|8[1-5]9|9[1-48]9)|3(?:19[1-3]|2[12]9|3[13]9|4(?:1[69]|39)|5[14]9|6(?:1[69]|2[89])|709)|4[13]19|5(?:1(?:19|8[39])|4[129]9|6[12]9)|6(?:19[12]|2(?:[23]9|77))|7(?:1[13]9|2[15]9|419|5(?:1[89]|29)|6[15]9|7[178]9))\\d{5,6}|8[1-35-9]\\d{7,10}",,,,"812345678",,,[9,10,11,12]],[,,"177\\d{6,8}|800\\d{5,7}",,,,"8001234567",,,[8,9,10,11]],[,,"809\\d{7}",,,,"8091234567",,,[10]],[,,"804\\d{7}",,,,"8041234567",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"ID",62,"0(?:0[1789]|10(?:00|1[67]))","0",,,"0",,,,[[,"(\\d{2})(\\d{5,8})","$1 $2",["2[124]|[36]1"],"(0$1)"],[,"(\\d{3})(\\d{5,8})","$1 $2",["2[035-9]|[36][02-9]|[4579]"],"(0$1)"],[,"(8\\d{2})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],[,"(8\\d{2})(\\d{4})(\\d{4,5})","$1-$2-$3",["8[1-35-9]"],"0$1"],[,"(1)(500)(\\d{3})","$1 $2 $3",["150","1500"],"$1"],[,"(177)(\\d{6,8})","$1 $2",["177"],"0$1"],[,"(800)(\\d{5,7})","$1 $2",["800"],"0$1"],[,"(804)(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],[,"(80\\d)(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80[79]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,"8071\\d{6}",,,,,,,[10]],[,,"1500\\d{3}|8071\\d{6}",,,,"8071123456",,,[7,10]],,,[,,,,,,,,,[-1]]],IE:[,[,,"[148]\\d{9}|[124-9]\\d{8}|[124-69]\\d{7}|[24-69]\\d{6}",,,,,,,[7,8,9,10],[5,6]],[,,"1\\d{7,8}|2(?:1\\d{6,7}|3\\d{7}|[24-9]\\d{5})|4(?:0[24]\\d{5}|[1-469]\\d{7}|5\\d{6}|7\\d{5}|8[0-46-9]\\d{7})|5(?:0[45]\\d{5}|1\\d{6}|[23679]\\d{7}|8\\d{5})|6(?:1\\d{6}|[237-9]\\d{5}|[4-6]\\d{7})|7[14]\\d{7}|9(?:1\\d{6}|[04]\\d{7}|[35-9]\\d{5})",,,,"2212345",,,,[5,6]],[,,"8(?:22\\d{6}|[35-9]\\d{7})",,,,"850123456",,,[9]],[,,"1800\\d{6}",,,,"1800123456",,,[10]],[,,"15(?:1[2-8]|[2-8]0|9[089])\\d{6}",,,,"1520123456",,,[10]],[,,"18[59]0\\d{6}",,,,"1850123456",,,[10]],[,,"700\\d{6}",,,,"700123456",,,[9]],[,,"76\\d{7}",,,,"761234567",,,[9]],"IE",353,"00","0",,,"0",,,,[[,"(1)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],[,"(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],[,"(\\d{3})(\\d{5})","$1 $2",["40[24]|50[45]"],"(0$1)"],[,"(48)(\\d{4})(\\d{4})","$1 $2 $3",["48"],"(0$1)"],[,"(818)(\\d{3})(\\d{3})","$1 $2 $3",["818"],"(0$1)"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[24-69]|7[14]"],"(0$1)"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["76|8[35-9]"],"0$1"],[,"(8\\d)(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8[35-9]5"],"0$1"],[,"(700)(\\d{3})(\\d{3})","$1 $2 $3",["700"],"0$1"],[,"(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:5|8[059])","1(?:5|8[059]0)"],"$1"]],,[,,,,,,,,,[-1]],,,[,,"18[59]0\\d{6}",,,,,,,[10]],[,,"818\\d{6}",,,,"818123456",,,[9]],,,[,,"8[35-9]5\\d{7}",,,,"8551234567",,,[10]]],IL:[,[,,"1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}|[2-689]\\d{3}",,,,,,,[4,7,8,9,10,11,12]],[,,"(?:153\\d{1,2}|[2-489])\\d{7}",,,,"21234567",,,[8,11,12],[7]],[,,"5(?:[0-489][2-9]\\d|5(?:01|2[2-5]|3[23]|4[45]|5[015689]|6[6-8]|7[0-267]|8[7-9]|9[1-9])|6\\d{2})\\d{5}",,,,"502345678",,,[9]],[,,"1(?:80[019]\\d{3}|255)\\d{3}",,,,"1800123456",,,[7,10]],[,,"1(?:212|(?:9(?:0[01]|19)|200)\\d{2})\\d{4}",,,,"1919123456",,,[8,9,10]],[,,"1700\\d{6}",,,,"1700123456",,,[10]],[,,,,,,,,,[-1]],[,,"7(?:18\\d|2[23]\\d|3[237]\\d|47\\d|6[58]\\d|7\\d{2}|8(?:2\\d|33|55|77|81)|9[2579]\\d)\\d{5}",,,,"771234567",,,[9]],"IL",972,"0(?:0|1[2-9])","0",,,"0",,,,[[,"([2-489])(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],[,"([57]\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],[,"(153)(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["153"]],[,"(1)([7-9]\\d{2})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],[,"(1255)(\\d{3})","$1-$2",["125","1255"]],[,"(1200)(\\d{3})(\\d{3})","$1-$2-$3",["120","1200"]],[,"(1212)(\\d{2})(\\d{2})","$1-$2-$3",["121","1212"]],[,"(1599)(\\d{6})","$1-$2",["159","1599"]],[,"(151)(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["151"]],[,"(\\d{4})","*$1",["[2-689]"]]],,[,,,,,,,,,[-1]],,,[,,"1700\\d{6}|[2-689]\\d{3}",,,,,,,[4,10]],[,,"[2-689]\\d{3}|1599\\d{6}",,,,"1599123456",,,[4,10]],,,[,,"151\\d{8,9}",,,,"15112340000",,,[11,12]]],IM:[,[,,"(?:1624|(?:[3578]\\d|90)\\d\\d)\\d{6}",,,,,,,[10],[6]],[,,"1624[5-8]\\d{5}",,,,"1624756789",,,,[6]],[,,"7(?:4576|[59]24\\d|624[0-4689])\\d{5}",,,,"7924123456"],[,,"808162\\d{4}",,,,"8081624567"],[,,"(?:872299|90[0167]624)\\d{4}",,,,"9016247890"],[,,"8(?:4(?:40[49]06|5624\\d)|70624\\d)\\d{3}",,,,"8456247890"],[,,"70\\d{8}",,,,"7012345678"],[,,"56\\d{8}",,,,"5612345678"],"IM",44,"00","0",,,"0",,,,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"3(?:08162\\d|3\\d{5}|4(?:40[49]06|5624\\d)|7(?:0624\\d|2299\\d))\\d{3}|55\\d{8}",,,,"5512345678"],,,[,,,,,,,,,[-1]]],IN:[,[,,"(?:00800|1\\d{0,5}|[2-9]\\d\\d)\\d{7}",,,,,,,[8,9,10,11,12,13],[6,7]],[,,"(?:11|2[02]|33|4[04]|79|80)[2-7]\\d{7}|(?:1(?:2[0-249]|3[0-25]|4[145]|[59][14]|6[014]|7[1257]|8[01346])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|[36][25]|22|4[28]|5[12]|[78]1|9[15])|6(?:12|[2345]1|57|6[13]|7[14]|80)|7(?:12|2[14]|3[134]|4[47]|5[15]|[67]1|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91))[2-7]\\d{6}|(?:(?:1(?:2[35-8]|3[346-9]|4[236-9]|[59][0235-9]|6[235-9]|7[34689]|8[257-9])|2(?:1[134689]|3[24-8]|4[2-8]|5[25689]|6[2-4679]|7[13-79]|8[2-479]|9[235-9])|3(?:01|1[79]|2[1-5]|4[25-8]|5[125689]|6[235-7]|7[157-9]|8[2-46-8])|4(?:1[14578]|2[5689]|3[2-467]|5[4-7]|6[35]|73|8[2689]|9[2389])|5(?:[16][146-9]|2[14-8]|3[1346]|4[14-69]|5[46]|7[2-4]|8[2-8]|9[246])|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|[57][2-689]|6[24-578]|8[1-6])|8(?:1[1357-9]|2[235-8]|3[03-57-9]|4[0-24-9]|5\\d|6[2457-9]|7[1-6]|8[1256]|9[2-4]))\\d|7(?:(?:1[013-9]|2[0235-9]|3[2679]|4[1-35689]|5[2-46-9]|[67][02-9]|9\\d)\\d|8(?:2[0-6]|[013-8]\\d)))[2-7]\\d{5}",,,,"7410410123",,,[10],[6,7,8]],[,,"(?:6(?:0(?:0[0-359]|26)\\d|1279|2(?:[06][0-59]|3[0589]|8[0-49]|9[0-6])\\d|3(?:0[0-39]\\d|5(?:0[0-6]|[1-9]\\d)|6[0-3]\\d|7[015-9]\\d|8\\d{2}|9[0-79]\\d)|90[019]\\d)|7(?:0\\d{3}|19[0-5]\\d|2(?:[0235679]\\d{2}|[14][017-9]\\d|8(?:[0-59]\\d|[678][089]))|3(?:[05-8]\\d{2}|1(?:[089]\\d|11|7[02-8])|2(?:[0-49][089]|[5-8]\\d)|3[017-9]\\d|4(?:[07-9]\\d|11)|9(?:[016-9]\\d|[2-5][089]))|4(?:0\\d{2}|1(?:[015-9]\\d|[23][089]|4[089])|2(?:0[089]|[1-7][089]|[89]\\d)|3(?:[0-8][089]|9\\d)|4(?:[089]\\d|11|7[02-8])|[56]\\d[089]|7(?:[089]\\d|11|7[02-8])|8(?:[0-24-7][089]|[389]\\d)|9(?:[0-6][089]|7[089]|[89]\\d))|5(?:[0346-8]\\d{2}|1(?:[07-9]\\d|11)|2(?:[04-9]\\d|[123][089])|5[017-9]\\d|9(?:[0-6][089]|[7-9]\\d))|6(?:0(?:[0-47]\\d|[5689][089])|(?:1[0-257-9]|[6-9]\\d)\\d|2(?:[0-4]\\d|[5-9][089])|3(?:[02-8][089]|[19]\\d)|4\\d[089]|5(?:[0-367][089]|[4589]\\d))|7(?:0(?:0[02-9]|[13-7][089]|[289]\\d)|[1-9]\\d{2})|8(?:[0-79]\\d{2}|8(?:[089]\\d|11|7[02-9]))|9(?:[089]\\d{2}|313|7(?:[02-8]\\d|9[07-9])))|8(?:0(?:[01589]\\d{2}|6[67]\\d|7(?:[02-8]\\d|9[04-9]))|1(?:[0-57-9]\\d{2}|6(?:[089]\\d|7[02-8]))|2(?:0(?:[089]\\d|7[02-8])|[14](?:[089]\\d|7[02-8])|[235-9]\\d{2})|3(?:[0357-9]\\d{2}|1(?:[089]\\d|7[02-8])|2(?:[089]\\d|7[02-8])|4\\d{2}|6(?:[089]\\d|7[02-8]))|[45]\\d{3}|6(?:[02457-9]\\d{2}|1(?:[089]\\d|7[02-8])|3(?:[089]\\d|7[02-8])|6(?:[08]\\d|7[02-8]|9\\d))|7(?:0[07-9]\\d|[1-69]\\d{2}|[78](?:[089]\\d|7[02-8]))|8(?:[0-25-9]\\d{2}|3(?:[089]\\d|7[02-8])|4(?:[0489]\\d|7[02-8]))|9(?:[02-9]\\d{2}|1(?:[0289]\\d|7[02-8])))|9\\d{4})\\d{5}",,,,"8123456789",,,[10]],[,,"00800\\d{7}|1(?:600\\d{6}|80(?:0\\d{4,9}|3\\d{9}))",,,,"1800123456"],[,,"186[12]\\d{9}",,,,"1861123456789",,,[13]],[,,"1860\\d{7}",,,,"18603451234",,,[11]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"IN",91,"00","0",,,"0",,,,[[,"(\\d{8})","$1",["561","5616","56161"],"$1",,1],[,"(\\d{5})(\\d{5})","$1 $2",["6(?:0[02]|12|2[03689]|3[05-9]|9[019])|7(?:[02-8]|19|9[037-9])|8(?:0[015-9]|[1-9])|9","6(?:0(?:0|26)|127|2(?:[06][0-59]|3[0589]|8[0-39]|9[0-46])|3(?:0[0-39]|5[0-46-9]|6[0-3]|7[015-9]|8|9[0-79])|9[019])|7(?:[07]|19[0-5]|2(?:[0235-9]|[14][017-9])|3(?:[025-9]|[134][017-9])|4(?:[0-35689]|[47][017-9])|5(?:[02-46-9]|[15][017-9])|6(?:[02-9]|1[0-257-9])|8(?:[0-79]|8[0189])|9(?:[089]|31|7[02-9]))|8(?:0(?:[01589]|6[67]|7[02-9])|1(?:[0-57-9]|6[07-9])|2(?:[014][07-9]|[235-9])|3(?:[03-57-9]|[126][07-9])|[45]|6(?:[02457-9]|[136][07-9])|7(?:[078][07-9]|[1-69])|8(?:[0-25-9]|3[07-9]|4[047-9])|9(?:[02-9]|1[027-9]))|9","6(?:0(?:0|26)|1279|2(?:[06][0-59]|3[0589]|8[0-39]|9[0-46])|3(?:0[0-39]|5[0-46-9]|6[0-3]|7[015-9]|8|9[0-79])|9[019])|7(?:0|19[0-5]|2(?:[0235-79]|[14][017-9]|8(?:[0-69]|[78][089]))|3(?:[05-8]|1(?:[0189]|7[02-9])|2(?:[0-49][089]|[5-8])|3[017-9]|4(?:[07-9]|11)|9(?:[01689]|[2-5][089]|7[0189]))|4(?:[056]|1(?:[0135-9]|[24][089])|[29](?:[0-7][089]|[89])|3(?:[0-8][089]|9)|[47](?:[089]|11|7[02-8])|8(?:[0-24-7][089]|[389]))|5(?:[0346-9]|[15][017-9]|2(?:[03-9]|[12][089]))|6(?:[0346-9]|1[0-257-9]|2(?:[0-4]|[5-9][089])|5(?:[0-367][089]|[4589]))|7(?:0(?:[02-9]|1[089])|[1-9])|8(?:[0-79]|8(?:0[0189]|11|8[013-9]|9))|9(?:[089]|313|7(?:[02-8]|9[07-9])))|8(?:0(?:[01589]|6[67]|7(?:[02-8]|9[04-9]))|1(?:[0-57-9]|6(?:[089]|7[02-8]))|2(?:[014](?:[089]|7[02-8])|[235-9])|3(?:[03-57-9]|[126](?:[089]|7[02-8]))|[45]|6(?:[02457-9]|[136](?:[089]|7[02-8]))|7(?:0[07-9]|[1-69]|[78](?:[089]|7[02-8]))|8(?:[0-25-9]|3(?:[089]|7[02-8])|4(?:[0489]|7[02-8]))|9(?:[02-9]|1(?:[0289]|7[02-8])))|9"],"0$1",,1],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-9]|80[2-46]"],"0$1",,1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[59][14]|[68][1-9]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1|9[15])|6(?:12|[2-4]1|5[17]|6[13]|7[14]|80)|7(?:12|2[14]|3[134]|4[47]|5[15]|[67]1|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)"],"0$1",,1],[,"(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[23579]|[468][1-9])|[2-8]"],"0$1",,1],[,"(\\d{2})(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3 $4",["008"],"0$1",,1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],"$1",,1],[,"(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["160","1600"],"$1",,1],[,"(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],"$1",,1],[,"(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["180","1800"],"$1",,1],[,"(\\d{4})(\\d{3,4})(\\d{4})","$1 $2 $3",["186","1860"],"$1",,1],[,"(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18[06]"],"$1",,1]],,[,,,,,,,,,[-1]],,,[,,"00800\\d{7}|1(?:600\\d{6}|8(?:0(?:0\\d{4,9}|3\\d{9})|6(?:0\\d{7}|[12]\\d{9})))"],[,,"140\\d{7}",,,,"1409305260",,,[10]],,,[,,,,,,,,,[-1]]],IO:[,[,,"3\\d{6}",,,,,,,[7]],[,,"37\\d{5}",,,,"3709100"],[,,"38\\d{5}",,,,"3801234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"IO",246,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],IQ:[,[,,"(?:1|[2-6]\\d?|7\\d\\d)\\d{7}",,,,,,,[8,9,10],[6,7]],[,,"1\\d{7}|(?:2[13-5]|3[02367]|4[023]|5[03]|6[026])\\d{6,7}",,,,"12345678",,,[8,9],[6,7]],[,,"7[3-9]\\d{8}",,,,"7912345678",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"IQ",964,"00","0",,,"0",,,,[[,"(1)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],[,"([2-6]\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],[,"(7\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],IR:[,[,,"[1-9]\\d{9}|[1-8]\\d{5,6}",,,,,,,[6,7,10],[4,5,8]],[,,"(?:(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])(?:\\d{8}|(?:[16]|[289]\\d?)\\d{3}))|94(?:000|11[0-7]|2\\d{2}|30[01]|4(?:11|40))\\d{5}",,,,"2123456789",,,,[4,5,8]],[,,"9(?:0(?:[1-35]\\d{2}|44\\d)|[13]\\d{3}|2[0-2]\\d{2}|9(?:[01]\\d{2}|44\\d|8(?:10|88)|9(?:0[013]|1[134]|21|9[89])))\\d{5}",,,,"9123456789",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"993\\d{7}",,,,"9932123456",,,[10]],"IR",98,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"],[,"(\\d{2})(\\d{4,5})","$1 $2",["[1-8]"],"0$1"],[,"(\\d{4,5})","$1",["96"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,"(?:9411[1-7]|94440)\\d{5}",,,,,,,[10]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],IS:[,[,,"(?:38\\d|[4-9])\\d{6}",,,,,,,[7,9]],[,,"(?:4(?:1[0-24-69]|2[0-7]|[37][0-8]|4[0-245]|5[0-68]|6\\d|8[0-36-8])|5(?:05|[156]\\d|2[02578]|3[0-579]|4[03-7]|7[0-2578]|8[0-35-9]|9[013-689])|87[23])\\d{4}",,,,"4101234",,,[7]],[,,"38[589]\\d{6}|(?:6(?:1[1-8]|2[0-6]|3[027-9]|4[014679]|5[0159]|6[0-69]|70|8[06-8]|9\\d)|7(?:5[057]|[6-8]\\d|9[0-3])|8(?:2[0-59]|[3469]\\d|5[1-9]|8[28]))\\d{4}",,,,"6111234"],[,,"800\\d{4}",,,,"8001234",,,[7]],[,,"90\\d{5}",,,,"9011234",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"49\\d{5}",,,,"4921234",,,[7]],"IS",354,"1(?:0(?:01|10|20)|100)|00",,,,,,"00",,[[,"(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],[,"(3\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"809\\d{4}",,,,"8091234",,,[7]],,,[,,"(?:689|8(?:7[0189]|80)|95[48])\\d{4}",,,,"6891234",,,[7]]],IT:[,[,,"0\\d{6}(?:\\d{4})?|3[0-8]\\d{9}|(?:[0138]\\d?|55)\\d{8}|[08]\\d{5}(?:\\d{2})?",,,,,,,[6,7,8,9,10,11]],[,,"0(?:2\\d{4,9}|(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])\\d|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)\\d|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])\\d|6(?:[0-57-9]\\d{2}|6(?:[0-8]\\d|9[0-79]))|7(?:[0159]\\d|2[12]|3[1-7]|4[2346]|6[13569]|7[13-6]|8[1-59])\\d|8(?:[0159]\\d|2[34578]|3[1-356]|[6-8][1-5])\\d|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6])\\d)\\d{1,6})",,,,"0212345678"],[,,"3(?:1\\d{8}|[245-9]\\d{7,8}|3\\d{7,9})",,,,"3123456789",,,[9,10,11]],[,,"80(?:0\\d{6}|3\\d{3})",,,,"800123456",,,[6,9]],[,,"0878\\d{5}|1(?:44|6[346])\\d{6}|89(?:2\\d{3}|4(?:[0-4]\\d{2}|[5-9]\\d{4})|5(?:[0-4]\\d{2}|[5-9]\\d{6})|9\\d{6})",,,,"899123456",,,[6,8,9,10]],[,,"84(?:[08]\\d{6}|[17]\\d{3})",,,,"848123456",,,[6,9]],[,,"1(?:78\\d|99)\\d{6}",,,,"1781234567",,,[9,10]],[,,"55\\d{8}",,,,"5512345678",,,[10]],"IT",39,"00",,,,,,,,[[,"(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|55"]],[,"(0[26])(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],[,"(0[26])(\\d{4,6})","$1 $2",["0[26]"]],[,"(0\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]"]],[,"(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[245])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|[45][0-4]))"]],[,"(0\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["0[13-57-9][2-46-8]"]],[,"(0\\d{3})(\\d{2,6})","$1 $2",["0[13-57-9][2-46-8]"]],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13]|8(?:00|4[08]|9[59])","[13]|8(?:00|4[08]|9(?:5[5-9]|9))"]],[,"(\\d{4})(\\d{4})","$1 $2",["894","894[5-9]"]],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["3"]]],,[,,,,,,,,,[-1]],1,,[,,"848\\d{6}",,,,,,,[9]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],JE:[,[,,"(?:1534|(?:[3578]\\d|90)\\d\\d)\\d{6}",,,,,,,[10],[6]],[,,"1534[0-24-8]\\d{5}",,,,"1534456789",,,,[6]],[,,"7(?:509\\d|7(?:00[378]|97[7-9])|829\\d|937\\d)\\d{5}",,,,"7797712345"],[,,"80(?:07(?:35|81)|8901)\\d{4}",,,,"8007354567"],[,,"(?:871206|90(?:066[59]|1810|71(?:07|55)))\\d{4}",,,,"9018105678"],[,,"8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|70002)\\d{4}",,,,"8447034567"],[,,"701511\\d{4}",,,,"7015115678"],[,,"56\\d{8}",,,,"5612345678"],"JE",44,"00","0",,,"0",,,,,,[,,"76(?:0[012]|2[356]|4[0134]|5[49]|6[0-369]|77|81|9[39])\\d{6}",,,,"7640123456"],,,[,,,,,,,,,[-1]],[,,"3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))\\d{4}|55\\d{8}",,,,"5512345678"],,,[,,,,,,,,,[-1]]],JM:[,[,,"(?:[58]\\d\\d|900)\\d{7}",,,,,,,[10],[7]],[,,"876(?:5(?:0[12]|1[0-468]|2[35]|63)|6(?:0[1-3579]|1[0237-9]|[23]\\d|40|5[06]|6[2-589]|7[05]|8[04]|9[4-9])|7(?:0[2-689]|[1-6]\\d|8[056]|9[45])|9(?:0[1-8]|1[02378]|[2-8]\\d|9[2-468]))\\d{4}",,,,"8765230123",,,,[7]],[,,"876(?:2[14-9]\\d|[348]\\d{2}|5(?:0[3-9]|[2-57-9]\\d|6[0-24-9])|7(?:0[07]|7\\d|8[1-47-9]|9[0-36-9])|9(?:[01]9|9[0579]))\\d{4}",,,,"8762101234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"JM",1,"011","1",,,"1",,,,,,[,,,,,,,,,[-1]],,"876",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],JO:[,[,,"(?:(?:(?:[268]|7\\d)\\d|32|53)\\d|900)\\d{5}",,,,,,,[8,9]],[,,"(?:2(?:6(?:2[0-35-9]|3[0-57-8]|4[24-7]|5[0-24-8]|[6-8][023]|9[0-3])|7(?:0[1-79]|10|2[014-7]|3[0-689]|4[019]|5[0-3578]))|32(?:0[1-69]|1[1-35-7]|2[024-7]|3\\d|4[0-3]|[57][023]|6[03])|53(?:0[0-3]|[13][023]|2[0-59]|49|5[0-35-9]|6[15]|7[45]|8[1-6]|9[0-36-9])|6(?:2[50]0|3(?:00|33)|4(?:0[0125]|1[2-7]|2[0569]|[38][07-9]|4[025689]|6[0-589]|7\\d|9[0-2])|5(?:[01][056]|2[034]|3[0-57-9]|4[17-8]|5[0-69]|6[0-35-9]|7[1-379]|8[0-68]|9[02-39]))|87(?:[02]0|7[08]|90))\\d{4}",,,,"62001234",,,[8]],[,,"7(?:55[0-49]|7[025-9]\\d|8[0-25-9]\\d|9[0-25-9]\\d)\\d{5}",,,,"790123456",,,[9]],[,,"80\\d{6}",,,,"80012345",,,[8]],[,,"900\\d{5}",,,,"90012345",,,[8]],[,,"85\\d{6}",,,,"85012345",,,[8]],[,,"70\\d{7}",,,,"700123456",,,[9]],[,,,,,,,,,[-1]],"JO",962,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],[,"(7)(\\d{4})(\\d{4})","$1 $2 $3",["7[457-9]"],"0$1"],[,"(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],[,"(\\d{3})(\\d{5,6})","$1 $2",["8[0158]|9"],"0$1"]],,[,,"74(?:66|77)\\d{5}",,,,"746612345",,,[9]],,,[,,,,,,,,,[-1]],[,,"8(?:10|8\\d)\\d{5}",,,,"88101234",,,[8]],,,[,,,,,,,,,[-1]]],JP:[,[,,"00[1-9]\\d{6,14}|[257-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",,,,,,,[8,9,10,11,12,13,14,15,16,17]],[,,"(?:1(?:1[235-8]|2[3-6]|3[3-9]|4[2-6]|[58][2-8]|6[2-7]|7[2-9]|9[1-9])|2[2-9]\\d|[36][1-9]\\d|4(?:6[02-8]|[2-578]\\d|9[2-59])|5(?:6[1-9]|7[2-8]|[2-589]\\d)|7(?:3[4-9]|4[02-9]|[25-9]\\d)|8(?:3[2-9]|4[5-9]|5[1-9]|8[03-9]|[2679]\\d)|9(?:[679][1-9]|[2-58]\\d))\\d{6}",,,,"312345678",,,[9]],[,,"[7-9]0[1-9]\\d{7}",,,,"9012345678",,,[10]],[,,"120\\d{6}|800\\d{7}|00(?:37\\d{6,13}|66\\d{6,13}|777(?:[01]\\d{2}|5\\d{3}|8\\d{4})|882[1245]\\d{4})",,,,"120123456"],[,,"990\\d{6}",,,,"990123456",,,[9]],[,,,,,,,,,[-1]],[,,"60\\d{7}",,,,"601234567",,,[9]],[,,"50[1-9]\\d{7}",,,,"5012345678",,,[10]],"JP",81,"010","0",,,"0",,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],[,"(\\d{4})(\\d{4})","$1-$2",["007","0077"],"$1"],[,"(\\d{4})(\\d{2})(\\d{3,4})","$1-$2-$3",["007","0077"],"$1"],[,"(\\d{4})(\\d{2})(\\d{4})","$1-$2-$3",["008","0088"],"$1"],[,"(\\d{4})(\\d{3})(\\d{3,4})","$1-$2-$3",["00[36]","00(?:37|66)"],"$1"],[,"(\\d{4})(\\d{4})(\\d{4,5})","$1-$2-$3",["00[36]","00(?:37|66)"],"$1"],[,"(\\d{4})(\\d{5})(\\d{5,6})","$1-$2-$3",["00[36]","00(?:37|66)"],"$1"],[,"(\\d{4})(\\d{6})(\\d{6,7})","$1-$2-$3",["00[36]","00(?:37|66)"],"$1"],[,"(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[2579]0|80[1-9]"],"0$1"],[,"(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51|63)|9(?:49|80|9[16])","1(?:267|3(?:7[247]|9[278])|4(?:5[67]|66)|5(?:47|58|64|8[67])|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[78]|96)|477|51[24]|636)|9(?:496|802|9(?:1[23]|69))","1(?:267|3(?:7[247]|9[278])|4(?:5[67]|66)|5(?:47|58|64|8[67])|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[78]|96[2457-9])|477|51[24]|636[2-57-9])|9(?:496|802|9(?:1[23]|69))"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["1(?:2[3-6]|3[3-9]|4[2-6]|5[2-8]|[68][2-7]|7[2-689]|9[1-578])|2(?:2[03-689]|3[3-58]|4[0-468]|5[04-8]|6[013-8]|7[06-9]|8[02-57-9]|9[13])|4(?:2[28]|3[689]|6[035-7]|7[05689]|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9[4-9])|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9[014-9])|8(?:2[49]|3[3-8]|4[5-8]|5[2-9]|6[35-9]|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9[3-7])","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:[0468][2-9]|5[78]|7[2-4])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[4-7]|[89][2-8]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9[2-8])|3(?:[3-6][2-9]|7[2-6]|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5[4-7]|6[2-9]|8[2-8]|9[236-9])|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3[34]|4[2-69]|[5-7]))","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:[0468][2-9]|5[78]|7[2-4])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[4-7]|[89][2-8]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9(?:20|[3578]|4[04-9]|6[56]))|3(?:[3-6][2-9]|7(?:[2-5]|6[0-59])|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5(?:[467]|5[014-9])|6(?:[2-8]|9[02-69])|8[2-8]|9(?:[236-8]|9[23]))|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3(?:3[02-9]|4[0-24689])|4[2-69]|[5-7]))","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:[0468][2-9]|5[78]|7[2-4])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[4-7]|[89][2-8]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9(?:20|[3578]|4[04-9]|6(?:5[25]|60)))|3(?:[3-6][2-9]|7(?:[2-5]|6[0-59])|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5(?:[467]|5[014-9])|6(?:[2-8]|9[02-69])|8[2-8]|9(?:[236-8]|9[23]))|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3(?:3[02-9]|4[0-24689])|4[2-69]|[5-7]))"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1|2(?:2[37]|5[5-9]|64|78|8[39]|91)|4(?:2[2689]|64|7[347])|5[2-589]|60|8(?:2[124589]|3[279]|[46-9])|9(?:[235-8]|93)","1|2(?:2[37]|5(?:[57]|[68]0|9[19])|64|78|8[39]|917)|4(?:2(?:20|[68]|9[178])|64|7[347])|5[2-589]|60|8(?:2[124589]|3[279]|[46-9])|9(?:[235-8]|93[34])","1|2(?:2[37]|5(?:[57]|[68]0|9(?:17|99))|64|78|8[39]|917)|4(?:2(?:20|[68]|9[178])|64|7[347])|5[2-589]|60|8(?:2[124589]|3[279]|[46-9])|9(?:[235-8]|93(?:31|4))"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["2(?:[34]7|[56]9|74|9[14-79])|82|993"],"0$1"],[,"(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[2479][1-9]"],"0$1"]],[[,"(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],[,"(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[2579]0|80[1-9]"],"0$1"],[,"(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51|63)|9(?:49|80|9[16])","1(?:267|3(?:7[247]|9[278])|4(?:5[67]|66)|5(?:47|58|64|8[67])|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[78]|96)|477|51[24]|636)|9(?:496|802|9(?:1[23]|69))","1(?:267|3(?:7[247]|9[278])|4(?:5[67]|66)|5(?:47|58|64|8[67])|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[78]|96[2457-9])|477|51[24]|636[2-57-9])|9(?:496|802|9(?:1[23]|69))"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["1(?:2[3-6]|3[3-9]|4[2-6]|5[2-8]|[68][2-7]|7[2-689]|9[1-578])|2(?:2[03-689]|3[3-58]|4[0-468]|5[04-8]|6[013-8]|7[06-9]|8[02-57-9]|9[13])|4(?:2[28]|3[689]|6[035-7]|7[05689]|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9[4-9])|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9[014-9])|8(?:2[49]|3[3-8]|4[5-8]|5[2-9]|6[35-9]|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9[3-7])","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:[0468][2-9]|5[78]|7[2-4])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[4-7]|[89][2-8]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9[2-8])|3(?:[3-6][2-9]|7[2-6]|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5[4-7]|6[2-9]|8[2-8]|9[236-9])|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3[34]|4[2-69]|[5-7]))","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:[0468][2-9]|5[78]|7[2-4])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[4-7]|[89][2-8]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9(?:20|[3578]|4[04-9]|6[56]))|3(?:[3-6][2-9]|7(?:[2-5]|6[0-59])|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5(?:[467]|5[014-9])|6(?:[2-8]|9[02-69])|8[2-8]|9(?:[236-8]|9[23]))|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3(?:3[02-9]|4[0-24689])|4[2-69]|[5-7]))","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:[0468][2-9]|5[78]|7[2-4])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[4-7]|[89][2-8]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9(?:20|[3578]|4[04-9]|6(?:5[25]|60)))|3(?:[3-6][2-9]|7(?:[2-5]|6[0-59])|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5(?:[467]|5[014-9])|6(?:[2-8]|9[02-69])|8[2-8]|9(?:[236-8]|9[23]))|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3(?:3[02-9]|4[0-24689])|4[2-69]|[5-7]))"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1|2(?:2[37]|5[5-9]|64|78|8[39]|91)|4(?:2[2689]|64|7[347])|5[2-589]|60|8(?:2[124589]|3[279]|[46-9])|9(?:[235-8]|93)","1|2(?:2[37]|5(?:[57]|[68]0|9[19])|64|78|8[39]|917)|4(?:2(?:20|[68]|9[178])|64|7[347])|5[2-589]|60|8(?:2[124589]|3[279]|[46-9])|9(?:[235-8]|93[34])","1|2(?:2[37]|5(?:[57]|[68]0|9(?:17|99))|64|78|8[39]|917)|4(?:2(?:20|[68]|9[178])|64|7[347])|5[2-589]|60|8(?:2[124589]|3[279]|[46-9])|9(?:[235-8]|93(?:31|4))"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["2(?:[34]7|[56]9|74|9[14-79])|82|993"],"0$1"],[,"(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[2479][1-9]"],"0$1"]],[,,"20\\d{8}",,,,"2012345678",,,[10]],,,[,,"00(?:37\\d{6,13}|66\\d{6,13}|777(?:[01]\\d{2}|5\\d{3}|8\\d{4})|882[1245]\\d{4})"],[,,"570\\d{6}",,,,"570123456",,,[9]],,,[,,,,,,,,,[-1]]],KE:[,[,,"(?:(?:2|80)0\\d?|[4-7]\\d\\d|900)\\d{6}|[4-6]\\d{6,7}",,,,,,,[7,8,9,10]],[,,"20\\d{6,7}|4(?:0\\d{6,7}|[136]\\d{7}|[245]\\d{5,7})|5(?:[08]\\d{7}|[1-79]\\d{5,7})|6(?:[01457-9]\\d{5,7}|2\\d{7}|6\\d{6,7})",,,,"202012345",,,[7,8,9]],[,,"7\\d{8}",,,,"712123456",,,[9]],[,,"800[24-8]\\d{5,6}",,,,"800223456",,,[9,10]],[,,"900[02-9]\\d{5}",,,,"900223456",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"KE",254,"000","0",,,"005|0",,,,[[,"(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],[,"(\\d{3})(\\d{6})","$1 $2",["7"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],KG:[,[,,"(?:[235-7]\\d|99)\\d{7}|800\\d{6,7}",,,,,,,[9,10],[5,6]],[,,"(?:3(?:1(?:[256]\\d|3[1-9]|47)|2(?:22|3[0-479]|6[0-7])|4(?:22|5[6-9]|6\\d)|5(?:22|3[4-7]|59|6\\d)|6(?:22|5[35-7]|6\\d)|7(?:22|3[468]|4[1-9]|59|[67]\\d)|9(?:22|4[1-8]|6\\d))|6(?:09|12|2[2-4])\\d)\\d{5}",,,,"312123456",,,[9],[5,6]],[,,"(?:2(?:0[0-35]|2\\d)|5[0-24-7]\\d|7(?:[07]\\d|55)|99[69])\\d{6}",,,,"700123456",,,[9]],[,,"800\\d{6,7}",,,,"800123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"KG",996,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[25-79]|31[25]"],"0$1"],[,"(\\d{4})(\\d{5})","$1 $2",["3(?:1[36]|[2-9])"],"0$1"],[,"(\\d{3})(\\d{3})(\\d)(\\d{3})","$1 $2 $3 $4",["8"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],KH:[,[,,"1\\d{9}|[1-9]\\d{7,8}",,,,,,,[8,9,10],[6,7]],[,,"(?:2[3-6]|3[2-6]|4[2-4]|[5-7][2-5])(?:[237-9]|4[56]|5\\d|6\\d?)\\d{5}|23(?:4[234]|8\\d{2})\\d{4}",,,,"23756789",,,[8,9],[6,7]],[,,"(?:1(?:[013-79]\\d|[28]\\d{1,2})|2[3-6]48|3(?:[18]\\d{2}|[2-6]48)|4[2-4]48|5[2-5]48|6(?:[016-9]\\d|[2-5]48)|7(?:[07-9]\\d|[16]\\d{2}|[2-5]48)|8(?:[013-79]\\d|8\\d{2})|9(?:6\\d{2}|7\\d{1,2}|[0-589]\\d))\\d{5}",,,,"91234567",,,[8,9]],[,,"1800(?:1\\d|2[019])\\d{4}",,,,"1800123456",,,[10]],[,,"1900(?:1\\d|2[09])\\d{4}",,,,"1900123456",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"KH",855,"00[14-9]","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["1\\d[1-9]|[2-9]"],"0$1"],[,"(1[89]00)(\\d{3})(\\d{3})","$1 $2 $3",["1[89]0","1[89]00"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],KI:[,[,,"(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",,,,,,,[5,8]],[,,"(?:[24]\\d|3[1-9]|50|8[0-5])\\d{3}|(?:65(?:02[12]|12[56]|22[89]|[3-5]00)|7(?:27\\d{2}|3100|5(?:02[12]|12[56]|22[89]|[34](?:00|81)|500)))\\d{3}",,,,"31234"],[,,"(?:6(?:200[01]|30[01]\\d)|7(?:200[01]|3(?:0[0-5]\\d|140)))\\d{3}",,,,"72001234",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"30(?:0[01]\\d{2}|12(?:11|20))\\d{2}",,,,"30010000",,,[8]],"KI",686,"00",,,,"0",,,,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],KM:[,[,,"[3478]\\d{6}",,,,,,,[7]],[,,"7[4-7]\\d{5}",,,,"7712345"],[,,"[34]\\d{6}",,,,"3212345"],[,,,,,,,,,[-1]],[,,"8\\d{6}",,,,"8001234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"KM",269,"00",,,,,,,,[[,"(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],KN:[,[,,"(?:[58]\\d\\d|900)\\d{7}",,,,,,,[10],[7]],[,,"869(?:2(?:29|36)|302|4(?:6[015-9]|70))\\d{4}",,,,"8692361234",,,,[7]],[,,"869(?:5(?:5[6-8]|6[5-7])|66\\d|76[02-7])\\d{4}",,,,"8697652917",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"KN",1,"011","1",,,"1",,,,,,[,,,,,,,,,[-1]],,"869",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],KP:[,[,,"(?:(?:19\\d|2)\\d|85)\\d{6}",,,,,,,[8,10],[6,7]],[,,"2\\d{7}|85\\d{6}",,,,"21234567",,,[8],[6,7]],[,,"19[123]\\d{7}",,,,"1921234567",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"KP",850,"00|99","0",,,"0",,,,[[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],[,"(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,"2(?:[0-24-9]\\d{2}|3(?:[0-79]\\d|8[02-9]))\\d{4}",,,,,,,[8]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],KR:[,[,,"(?:00(?:0\\d|[1-9]\\d{1,4})|(?:[13-6]\\d|2)\\d?|70\\d|80)\\d{7}|1\\d{7}|[3-6]\\d{4,5}",,,,,,,[5,6,8,9,10,11,12,13,14],[3,7]],[,,"2[1-9]\\d{6,7}|(?:3[1-3]|[46][1-4]|5[1-5])(?:1\\d{2,3}|[1-9]\\d{6,7})",,,,"22123456",,,[5,6,8,9,10],[3,7]],[,,"1[0-26-9]\\d{7,8}",,,,"1000000000",,,[9,10]],[,,"(?:00(?:3(?:08|68\\d)|798\\d{1,3})|80\\d)\\d{6}",,,,"801234567",,,[9,11,12,13,14]],[,,"60[2-9]\\d{6}",,,,"602345678",,,[9]],[,,,,,,,,,[-1]],[,,"50\\d{8}",,,,"5012345678",,,[10]],[,,"70\\d{8}",,,,"7012345678",,,[10]],"KR",82,"00(?:[1259]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","0",,,"0(8[1-46-8]|85\\d{2})?",,,,[[,"(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1","0$CC-$1"],[,"(\\d{4})(\\d{4})","$1-$2",["1(?:5[246-9]|6[046-8]|8[03579])","1(?:5(?:22|44|66|77|88|99)|6(?:[07]0|44|6[16]|88)|8(?:00|33|55|77|99))"],"$1","0$CC-$1"],[,"(\\d{5})","$1",["1[016-9]1","1[016-9]11","1[016-9]114"],"0$1","0$CC-$1"],[,"(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2[1-9]"],"0$1","0$CC-$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60[2-9]|80"],"0$1","0$CC-$1"],[,"(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["1[0-25-9]|(?:3[1-3]|[46][1-4]|5[1-5])[1-9]"],"0$1","0$CC-$1"],[,"(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]0"],"0$1","0$CC-$1"],[,"(\\d{5})(\\d{3})(\\d{3})","$1 $2 $3",["003","0030","00308"],"$1","0$CC-$1"],[,"(\\d{5})(\\d{3,4})(\\d{4})","$1 $2 $3",["00[37]","00(?:36|79)","00(?:36|79)8"],"$1","0$CC-$1"],[,"(\\d{5})(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["007","0079","00798"],"$1","0$CC-$1"]],[[,"(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1","0$CC-$1"],[,"(\\d{4})(\\d{4})","$1-$2",["1(?:5[246-9]|6[046-8]|8[03579])","1(?:5(?:22|44|66|77|88|99)|6(?:[07]0|44|6[16]|88)|8(?:00|33|55|77|99))"],"$1","0$CC-$1"],[,"(\\d{5})","$1",["1[016-9]1","1[016-9]11","1[016-9]114"],"0$1","0$CC-$1"],[,"(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2[1-9]"],"0$1","0$CC-$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60[2-9]|80"],"0$1","0$CC-$1"],[,"(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["1[0-25-9]|(?:3[1-3]|[46][1-4]|5[1-5])[1-9]"],"0$1","0$CC-$1"],[,"(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]0"],"0$1","0$CC-$1"]],[,,"15\\d{7,8}",,,,"1523456789",,,[9,10]],,,[,,"00(?:3(?:08|68\\d)|798\\d{1,3})\\d{6}",,,,,,,[11,12,13,14]],[,,"1(?:5(?:22|44|66|77|88|99)|6(?:00|44|6[16]|70|88)|8(?:00|33|55|77|99))\\d{4}",,,,"15441234",,,[8]],,,[,,,,,,,,,[-1]]],KW:[,[,,"(?:18|[2569]\\d\\d)\\d{5}",,,,,,,[7,8]],[,,"(?:2(?:[23]\\d{2}|4(?:[1-35-9]\\d|44)|5(?:0[034]|[2-46]\\d|5[1-3]|7[1-7])))\\d{4}",,,,"22345678",,,[8]],[,,"(?:5(?:[05]\\d{2}|1[0-7]\\d|2(?:22|5[25])|6[56]\\d)|6(?:0[034679]\\d|222|5[015-9]\\d|6\\d{2}|7(?:0[013-9]|[67]\\d)|9(?:[069]\\d|3[039]))|9(?:0[09]\\d|11[01]|22\\d|4[01479]\\d|55\\d|6[0679]\\d|7(?:02|[1-9]\\d)|8[057-9]\\d|9\\d{2}))\\d{4}",,,,"50012345",,,[8]],[,,"18\\d{5}",,,,"1801234",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"KW",965,"00",,,,,,,,[[,"(\\d{4})(\\d{3,4})","$1 $2",["[16]|2(?:[0-35-9]|4[0-35-9])|52[25]|9[0-24-9]"]],[,"(\\d{3})(\\d{5})","$1 $2",["244|5(?:[015]|6[56])"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],KY:[,[,,"(?:345|[58]\\d\\d|900)\\d{7}",,,,,,,[10],[7]],[,,"345(?:2(?:22|44)|444|6(?:23|38|40)|7(?:4[35-79]|6[6-9]|77)|8(?:00|1[45]|25|[48]8)|9(?:14|4[035-9]))\\d{4}",,,,"3452221234",,,,[7]],[,,"345(?:32[1-9]|5(?:1[67]|2[5-79]|4[6-9]|50|76)|649|9(?:1[67]|2[2-9]|3[689]))\\d{4}",,,,"3453231234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002345678"],[,,"900[2-9]\\d{6}|345976\\d{4}",,,,"9002345678"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"KY",1,"011","1",,,"1",,,,,,[,,"345849\\d{4}",,,,"3458491234"],,"345",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],KZ:[,[,,"(?:33622|(?:7\\d|80)\\d{3})\\d{5}",,,,,,,[10]],[,,"33622\\d{5}|7(?:1(?:0(?:[23]\\d|4[0-3]|59|63)|1(?:[23]\\d|4[0-79]|59)|2(?:[23]\\d|59)|3(?:2\\d|3[0-79]|4[0-35-9]|59)|4(?:[24]\\d|3[013-9]|5[1-9])|5(?:2\\d|3[1-9]|4[0-7]|59)|6(?:[234]\\d|5[19]|61)|72\\d|8(?:[27]\\d|3[1-46-9]|4[0-5]))|2(?:1(?:[23]\\d|4[46-9]|5[3469])|2(?:2\\d|3[0679]|46|5[12679])|3(?:[234]\\d|5[139])|4(?:2\\d|3[1235-9]|59)|5(?:[23]\\d|4[01246-8]|59|61)|6(?:2\\d|3[1-9]|4[0-4]|59)|7(?:[2379]\\d|40|5[279])|8(?:[23]\\d|4[0-3]|59)|9(?:2\\d|3[124578]|59)))\\d{5}",,,,"7123456789"],[,,"7(?:0[012578]|47|6[02-4]|7[15-8]|85)\\d{7}",,,,"7710009998"],[,,"800\\d{7}",,,,"8001234567"],[,,"809\\d{7}",,,,"8091234567"],[,,,,,,,,,[-1]],[,,"808\\d{7}",,,,"8081234567"],[,,"751\\d{7}",,,,"7511234567"],"KZ",7,"810","8",,,"8",,"8~10",,,,[,,,,,,,,,[-1]],,,[,,"751\\d{7}"],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],LA:[,[,,"(?:2\\d|3)\\d{8}|(?:[235-8]\\d|41)\\d{6}",,,,,,,[8,9,10],[6]],[,,"(?:2[13]|3(?:0\\d|[14])|[5-7][14]|41|8[1468])\\d{6}",,,,"21212862",,,[8,9],[6]],[,,"20(?:2[2389]|5[24-689]|7[6-8]|9[1-35-9])\\d{6}",,,,"2023123456",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"LA",856,"00","0",,,"0",,,,[[,"(20)(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["20"],"0$1"],[,"([2-8]\\d)(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],[,"(30)(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["30"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],LB:[,[,,"[7-9]\\d{7}|[13-9]\\d{6}",,,,,,,[7,8]],[,,"(?:[14-6]\\d{2}|7(?:[2-57]\\d|62|8[0-7]|9[04-9])|8[02-9]\\d|9\\d{2})\\d{4}",,,,"1123456",,,[7]],[,,"(?:3\\d|7(?:[01]\\d|6[013-9]|8[89]|9[1-3])|81\\d)\\d{5}",,,,"71123456"],[,,,,,,,,,[-1]],[,,"9[01]\\d{6}",,,,"90123456",,,[8]],[,,"80\\d{6}",,,,"80123456",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"LB",961,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-7]|9[04-9])|8[02-9]"],"0$1"],[,"([7-9]\\d)(\\d{3})(\\d{3})","$1 $2 $3",["7(?:[01]|6[013-9]|8[89]|9[1-3])|[89][01]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],LC:[,[,,"(?:[58]\\d\\d|758|900)\\d{7}",,,,,,,[10],[7]],[,,"758(?:4(?:30|5[0-9]|6[2-9]|8[0-2])|57[0-2]|638)\\d{4}",,,,"7584305678",,,,[7]],[,,"758(?:28[4-7]|384|4(?:6[01]|8[4-9])|5(?:1[89]|20|84)|7(?:1[2-9]|2\\d|3[01]))\\d{4}",,,,"7582845678",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"LC",1,"011","1",,,"1",,,,,,[,,,,,,,,,[-1]],,"758",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],LI:[,[,,"(?:(?:[2378]|6\\d\\d)\\d|90)\\d{5}",,,,,,,[7,9]],[,,"(?:2(?:01|1[27]|3\\d|6[02-578]|96)|3(?:7[0135-7]|8[048]|9[0269]))\\d{4}",,,,"2345678",,,[7]],[,,"6(?:5(?:09|1\\d|20)|6(?:0[0-6]|10|2[06-9]|39))\\d{5}|7(?:[37-9]\\d|42|56)\\d{4}",,,,"660234567"],[,,"80(?:02[28]|9\\d{2})\\d{2}",,,,"8002222",,,[7]],[,,"90(?:02[258]|1(?:23|3[14])|66[136])\\d{2}",,,,"9002222",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"LI",423,"00","0",,,"0|10(?:01|20|66)",,,,[[,"(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[237-9]"]],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[56]"]],[,"(69)(7\\d{2})(\\d{4})","$1 $2 $3",["697"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"870(?:28|87)\\d{2}",,,,"8702812",,,[7]],,,[,,"697(?:42|56|[78]\\d)\\d{4}",,,,"697861234",,,[9]]],LK:[,[,,"(?:[1-7]\\d|[89]1)\\d{7}",,,,,,,[9],[7]],[,,"1(?:1[2-57]\\d{6}|973\\d{5})|(?:2[13-7]|3[1-8]|4[157]|5[12457]|6[35-7]|[89]1)[2-57]\\d{6}",,,,"112345678",,,,[7]],[,,"7[0125-8]\\d{7}",,,,"712345678"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"LK",94,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],LR:[,[,,"(?:[25]\\d|33|77|88)\\d{7}|(?:2\\d|[45])\\d{6}",,,,,,,[7,8,9]],[,,"(?:2\\d{3}|33333)\\d{4}",,,,"21234567",,,[8,9]],[,,"(?:20\\d{2}|330\\d|4[67]|5(?:55)?\\d|77\\d{2}|88\\d{2})\\d{5}",,,,"770123456",,,[7,9]],[,,,,,,,,,[-1]],[,,"332(?:02|[2-5]\\d)\\d{4}",,,,"332021234",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"LR",231,"00","0",,,"0",,,,[[,"(2\\d)(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],[,"([4-5])(\\d{3})(\\d{3})","$1 $2 $3",["[45]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23578]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],LS:[,[,,"(?:[256]\\d\\d|800)\\d{5}",,,,,,,[8]],[,,"2\\d{7}",,,,"22123456"],[,,"[56]\\d{7}",,,,"50123456"],[,,"800[256]\\d{4}",,,,"80021234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"LS",266,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],LT:[,[,,"(?:[3469]\\d|52|[78]0)\\d{6}",,,,,,,[8]],[,,"(?:3[1478]|4[124-6]|52)\\d{6}",,,,"31234567"],[,,"6\\d{7}",,,,"61234567"],[,,"800\\d{5}",,,,"80012345"],[,,"9(?:0[0239]|10)\\d{5}",,,,"90012345"],[,,"808\\d{5}",,,,"80812345"],[,,"700\\d{5}",,,,"70012345"],[,,,,,,,,,[-1]],"LT",370,"00","8",,,"[08]",,,,[[,"([34]\\d)(\\d{6})","$1 $2",["37|4(?:1|5[45]|6[2-4])"],"(8-$1)",,1],[,"([3-6]\\d{2})(\\d{5})","$1 $2",["3[148]|4(?:[24]|6[09])|528|6"],"(8-$1)",,1],[,"([7-9]\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"8 $1",,1],[,"(5)(2\\d{2})(\\d{4})","$1 $2 $3",["52[0-79]"],"(8-$1)",,1]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"70[67]\\d{5}",,,,"70712345"],,,[,,,,,,,,,[-1]]],LU:[,[,,"[2457-9]\\d{3,10}|3(?:[0-46-9]\\d{2,9}|5(?:[013-9]\\d{1,8}|2\\d{1,3}))|6\\d{8}",,,,,,,[4,5,6,7,8,9,10,11]],[,,"2[2-9]\\d{2,9}|(?:3(?:[0-46-9]\\d|5[013-9])|[457]\\d{2}|8(?:0[2-9]|[13-9]\\d)|9(?:0[89]|[2-579]\\d))\\d{1,8}",,,,"27123456"],[,,"6(?:[269][18]|5[158]|7[189]|81)\\d{6}",,,,"628123456",,,[9]],[,,"800\\d{5}",,,,"80012345",,,[8]],[,,"90[015]\\d{5}",,,,"90012345",,,[8]],[,,"801\\d{5}",,,,"80112345",,,[8]],[,,,,,,,,,[-1]],[,,"20(?:1\\d{5}|[2-689]\\d{1,7})",,,,"20201234",,,[4,5,6,7,8,9,10]],"LU",352,"00",,,,"(15(?:0[06]|1[12]|35|4[04]|55|6[26]|77|88|99)\\d)",,,,[[,"(\\d{2})(\\d{3})","$1 $2",["[2-5]|7[1-9]|[89](?:0[2-9]|[1-9])"],,"$CC $1"],[,"(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[2-5]|7[1-9]|[89](?:0[2-9]|[1-9])"],,"$CC $1"],[,"(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20"],,"$CC $1"],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"],,"$CC $1"],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"],,"$CC $1"],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"],,"$CC $1"],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{1,4})","$1 $2 $3 $4",["2(?:[12589]|4[12])|[3-5]|7[1-9]|8(?:0[2-9]|[1-9])|9(?:0[2-46-9]|[1-9])"],,"$CC $1"],[,"(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["70|80[01]|90[015]"],,"$CC $1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"],,"$CC $1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],LV:[,[,,"(?:[268]\\d|90)\\d{6}",,,,,,,[8]],[,,"6\\d{7}",,,,"63123456"],[,,"2\\d{7}",,,,"21234567"],[,,"80\\d{6}",,,,"80123456"],[,,"90\\d{6}",,,,"90123456"],[,,"81\\d{6}",,,,"81123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"LV",371,"00",,,,,,,,[[,"([2689]\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2689]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],LY:[,[,,"(?:[2569]\\d|71)\\d{7}",,,,,,,[9],[7]],[,,"(?:2[1345]|5[1347]|6[123479]|71)\\d{7}",,,,"212345678",,,,[7]],[,,"9[1-6]\\d{7}",,,,"912345678"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"LY",218,"00","0",,,"0",,,,[[,"([25-79]\\d)(\\d{7})","$1-$2",["[25-79]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MA:[,[,,"[5-8]\\d{8}",,,,,,,[9]],[,,"5(?:2(?:[015-79]\\d|2[02-9]|3[2-57]|4[2-8]|8[235-7])\\d|3(?:[0-48]\\d|[57][2-9]|6[2-8]|9[3-9])\\d|4[067]\\d{2}|5[03]\\d{2})\\d{4}",,,,"520123456"],[,,"(?:6(?:[0-79]\\d|8[0-247-9])|7(?:0[067]|6[1267]|7[017]))\\d{6}",,,,"650123456"],[,,"80\\d{7}",,,,"801234567"],[,,"89\\d{7}",,,,"891234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"5924[01]\\d{4}",,,,"592401234"],"MA",212,"00","0",,,"0",,,,[[,"([5-7]\\d{2})(\\d{6})","$1-$2",["5(?:2[015-7]|3[0-4])|[67]"],"0$1"],[,"([58]\\d{3})(\\d{5})","$1-$2",["5(?:2[2-489]|3[5-9]|92)|892","5(?:2(?:[2-48]|9[0-7])|3(?:[5-79]|8[0-7])|924)|892"],"0$1"],[,"(5\\d{4})(\\d{4})","$1-$2",["5(?:29|38)","5(?:29|38)[89]"],"0$1"],[,"([5]\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:4[067]|5[03])"],"0$1"],[,"(8[09])(\\d{7})","$1-$2",["8(?:0|9[013-9])"],"0$1"]],,[,,,,,,,,,[-1]],1,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MC:[,[,,"(?:(?:[349]|6\\d)\\d\\d|870)\\d{5}",,,,,,,[8,9]],[,,"870\\d{5}|9[2-47-9]\\d{6}",,,,"99123456",,,[8]],[,,"3\\d{7}|4(?:4\\d|5[1-9])\\d{5}|6\\d{8}",,,,"612345678"],[,,"90\\d{6}",,,,"90123456",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"MC",377,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[39]"],"$1"],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],[,"(6)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["8"],"$1"]],,[,,,,,,,,,[-1]],,,[,,"870\\d{5}",,,,,,,[8]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MD:[,[,,"(?:[235-7]\\d|[89]0)\\d{6}",,,,,,,[8]],[,,"(?:2[1-9]\\d|3[1-79]\\d|5(?:33|5[257]))\\d{5}",,,,"22212345"],[,,"(?:562|6\\d{2}|7(?:[189]\\d|6[07]|7[457-9]))\\d{5}",,,,"62112345"],[,,"800\\d{5}",,,,"80012345"],[,,"90[056]\\d{5}",,,,"90012345"],[,,"808\\d{5}",,,,"80812345"],[,,,,,,,,,[-1]],[,,"3[08]\\d{6}",,,,"30123456"],"MD",373,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],[,"([25-7]\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["2[13-9]|[5-7]"],"0$1"],[,"([89]\\d{2})(\\d{5})","$1 $2",["[89]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"803\\d{5}",,,,"80312345"],,,[,,,,,,,,,[-1]]],ME:[,[,,"(?:20|[3-79]\\d|80\\d?)\\d{6}",,,,,,,[8,9],[6]],[,,"(?:20[2-8]|3(?:[0-2][2-7]|3[24-7])|4(?:0[2-467]|1[2467])|5(?:[01][2467]|2[2-467]))\\d{5}",,,,"30234567",,,[8],[6]],[,,"6(?:00\\d|3[024]\\d|6[0-25]\\d|[7-9]\\d{2})\\d{4}",,,,"67622901",,,[8]],[,,"80(?:[0-2578]|9\\d)\\d{5}",,,,"80080002"],[,,"(?:9(?:4[1568]|5[178]))\\d{5}",,,,"94515151",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"78[1-49]\\d{5}",,,,"78108780",,,[8]],"ME",382,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57-9]|6[036-9]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"77[1-9]\\d{5}",,,,"77273012",,,[8]],,,[,,,,,,,,,[-1]]],MF:[,[,,"(?:590|69\\d)\\d{6}",,,,,,,[9]],[,,"590(?:0[079]|13|2[79]|30|43|5[0-268]|7[79]|87)\\d{4}",,,,"590271234"],[,,"69(?:0\\d{2}|1(?:2[29]|3[0-5]))\\d{4}",,,,"690001234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"MF",590,"00","0",,,"0",,,,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MG:[,[,,"[23]\\d{8}",,,,,,,[9],[7]],[,,"20(?:2\\d{2}|4[47]\\d|5[3467]\\d|6[279]\\d|7(?:2[29]|[35]\\d)|8[268]\\d|9[245]\\d)\\d{4}",,,,"202123456",,,,[7]],[,,"3[2-49]\\d{7}",,,,"321234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"22\\d{7}",,,,"221234567"],"MG",261,"00","0",,,"0",,,,[[,"([23]\\d)(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MH:[,[,,"(?:(?:[256]\\d|45)\\d|329)\\d{4}",,,,,,,[7]],[,,"(?:247|528|625)\\d{4}",,,,"2471234"],[,,"(?:235|329|45[56]|545)\\d{4}",,,,"2351234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"635\\d{4}",,,,"6351234"],"MH",692,"011","1",,,"1",,,,[[,"(\\d{3})(\\d{4})","$1-$2"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MK:[,[,,"[2-578]\\d{7}",,,,,,,[8],[6,7]],[,,"(?:2(?:[23]\\d|5[0-24578]|6[01]|82)|3(?:1[3-68]|[23][2-68]|4[23568])|4(?:[23][2-68]|4[3-68]|5[2568]|6[25-8]|7[24-68]|8[4-68]))\\d{5}",,,,"22012345",,,,[6,7]],[,,"7(?:[0-25-8]\\d{2}|3[2-4]\\d|421|9[23]\\d)\\d{4}",,,,"72345678"],[,,"800\\d{5}",,,,"80012345"],[,,"5[02-9]\\d{6}",,,,"50012345"],[,,"8(?:0[1-9]|[1-9]\\d)\\d{5}",,,,"80123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"MK",389,"00","0",,,"0",,,,[[,"(2)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],[,"([347]\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],[,"([58]\\d{2})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],ML:[,[,,"(?:[246-9]\\d|50)\\d{6}",,,,,,,[8]],[,,"(?:2(?:0(?:2\\d|7[0-8])|1(?:2[67]|[4-689]\\d))|4(?:0[0-4]|4[1-39])\\d)\\d{4}",,,,"20212345"],[,,"(?:2(?:079|17\\d)|50\\d{2}|[679]\\d{3}|8[239]\\d{2})\\d{4}",,,,"65012345"],[,,"80\\d{6}",,,,"80012345"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"ML",223,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]],[,"(\\d{4})","$1",["67|74"]]],[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]],[,,,,,,,,,[-1]],,,[,,"80\\d{6}"],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MM:[,[,,"(?:1|[24-7]\\d)\\d{5,7}|8\\d{6,9}|9(?:[0-46-9]\\d{6,8}|5\\d{6})|2\\d{5}",,,,,,,[6,7,8,9,10],[5]],[,,"1(?:2\\d{1,2}|[35]\\d|4(?:\\d|2[2-469]|39|6[25]|70)|6\\d?|[89][0-6]\\d)\\d{4}|2(?:2(?:000\\d{3}|\\d{4})|3\\d{4}|4(?:0\\d{5}|2[246]\\d{4}|39\\d{4}|62\\d{4}|70\\d{4}|\\d{4})|5(?:1\\d{3,6}|[02-9]\\d{3,5})|[6-9]\\d{4})|4(?:2(?:[25-8]|4(?:80)?)|3(?:2(?:02)?|[36]|4(?:70)?|56?)|[46][2-6]|5(?:[35]|4(?:70)?))\\d{4}|5(?:2(?:2(?:\\d{1,2})?|[35-8]|4(?:70)?)|3[2-68]|4(?:21?|4(?:70)?|[5-8])|5[23]|6[2-4]|7(?:[235-8]|4(?:80)?)|8(?:[25-7]|4(?:70)?)|9(?:[235-7]|4(?:70)?))\\d{4}|6(?:0[23]|1(?:2(?:0|4\\d)?|[356])|2[2-6]|3(?:[25-6]|4(?:70)?)|4(?:2(?:4\\d)?|[3-6])|5[2-4]|6[2-8]|7(?:[2367]|4(?:\\d|39|[67]0)|5\\d?|8[145]\\d)|8[245]|9(?:20?|4))\\d{4}|7(?:[04](?:[25-8]|4(?:70)?)|1(?:20?|[35-7]|4(?:70)?)|22|3[2-4]|5(?:[235-7]|4(?:70)?))\\d{4}|8(?:1(?:2\\d{1,2}|[35689]\\d|4(?:70)?\\d)|2(?:2\\d|3(?:\\d|20)|[4-8]\\d)|3(?:2|4(?:70)?)\\d|4[24-7]\\d|5[245]\\d|6[23]\\d)\\d{3}",,,,"1234567",,,[6,7,8,9],[5]],[,,"17[01]\\d{4}|9(?:2(?:[0-4]|5\\d{2}|6[0-5]\\d)|3(?:[0-36]|4[069])\\d|4(?:0[0-4]\\d|[1379]\\d|2\\d{2}|4[0-589]\\d|5\\d{2}|88)|5[0-6]|6(?:1\\d|9\\d{2}|\\d)|7(?:3|5[0-2]|[6-9]\\d)\\d|8(?:\\d|9\\d{2})|9(?:1\\d|[5-7]\\d{2}|[089]))\\d{5}",,,,"92123456",,,[7,8,9,10]],[,,"80080[01][1-9]\\d{3}",,,,"8008001234",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"(?:1(?:333|468)|2468)\\d{4}",,,,"13331234",,,[8]],"MM",95,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["1|2[245]"],"0$1"],[,"(2)(\\d{4})(\\d{4})","$1 $2 $3",["251"],"0$1"],[,"(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],[,"(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["[4-8]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-8]"],"0$1"],[,"(9)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],[,"(9)([34]\\d{4})(\\d{4})","$1 $2 $3",["9(?:3[0-36]|4[0-57-9])"],"0$1"],[,"(9)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92[56]"],"0$1"],[,"(9)(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["93"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MN:[,[,,"[12]\\d{8,9}|[1257-9]\\d{7}",,,,,,,[8,9,10],[6,7]],[,,"[12](?:1\\d|2(?:[1-3]\\d?|7\\d)|3[2-8]\\d{1,2}|4[2-68]\\d{1,2}|5[1-4689]\\d{1,2})\\d{5}|5[0568]\\d{6}",,,,"50123456",,,,[6,7]],[,,"(?:8(?:[05689]\\d|3[01])|9[013-9]\\d)\\d{5}",,,,"88123456",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"7[05-8]\\d{6}",,,,"75123456",,,[8]],"MN",976,"001","0",,,"0",,,,[[,"([12]\\d)(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],[,"([12]2\\d)(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],[,"([12]\\d{3})(\\d{5})","$1 $2",["[12](?:27|[3-5])","[12](?:27|[3-5]\\d)2"],"0$1"],[,"(\\d{4})(\\d{4})","$1 $2",["[57-9]"],"$1"],[,"([12]\\d{4})(\\d{4,5})","$1 $2",["[12](?:27|[3-5])","[12](?:27|[3-5]\\d)[4-9]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MO:[,[,,"(?:28|[68]\\d)\\d{6}",,,,,,,[8]],[,,"(?:28[2-57-9]|8(?:11|[2-57-9]\\d))\\d{5}",,,,"28212345"],[,,"6(?:[2356]\\d{2}|8(?:[02][5-9]|[1478]\\d|[356][0-4]))\\d{4}",,,,"66123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"MO",853,"00",,,,,,,,[[,"([268]\\d{3})(\\d{4})","$1 $2",["[268]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MP:[,[,,"(?:[58]\\d\\d|(?:67|90)0)\\d{7}",,,,,,,[10],[7]],[,,"670(?:2(?:3[3-7]|56|8[5-8])|32[1238]|4(?:33|8[348])|5(?:32|55|88)|6(?:64|70|82)|78[3589]|8[3-9]8|989)\\d{4}",,,,"6702345678",,,,[7]],[,,"670(?:2(?:3[3-7]|56|8[5-8])|32[1238]|4(?:33|8[348])|5(?:32|55|88)|6(?:64|70|82)|78[3589]|8[3-9]8|989)\\d{4}",,,,"6702345678",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"MP",1,"011","1",,,"1",,,1,,,[,,,,,,,,,[-1]],,"670",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MQ:[,[,,"(?:596|69\\d)\\d{6}",,,,,,,[9]],[,,"596(?:0[0-7]|10|2[7-9]|3[05-9]|4[0-46-8]|[5-7]\\d|8[09]|9[4-8])\\d{4}",,,,"596301234"],[,,"69(?:6(?:[0-47-9]\\d|5[0-6]|6[0-4])|727)\\d{4}",,,,"696201234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"MQ",596,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MR:[,[,,"(?:[2-4]\\d\\d|800)\\d{5}",,,,,,,[8]],[,,"25[08]\\d{5}|35\\d{6}|45[1-7]\\d{5}",,,,"35123456"],[,,"[234][0-46-9]\\d{6}",,,,"22123456"],[,,"800\\d{5}",,,,"80012345"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"MR",222,"00",,,,,,,,[[,"([2-48]\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MS:[,[,,"(?:(?:[58]\\d\\d|900)\\d\\d|66449)\\d{5}",,,,,,,[10],[7]],[,,"664491\\d{4}",,,,"6644912345",,,,[7]],[,,"66449[2-6]\\d{4}",,,,"6644923456",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"MS",1,"011","1",,,"1",,,,,,[,,,,,,,,,[-1]],,"664",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MT:[,[,,"(?:(?:[2579]\\d\\d|800)\\d|3550)\\d{4}",,,,,,,[8]],[,,"2(?:0(?:[169]\\d|3[1-4])|[1-357]\\d{2})\\d{4}",,,,"21001234"],[,,"(?:7(?:210|[79]\\d{2})|9(?:2(?:1[01]|31)|69[67]|8(?:1[1-3]|89|97)|9\\d{2}))\\d{4}",,,,"96961234"],[,,"800[3467]\\d{4}",,,,"80071234"],[,,"5(?:0(?:0(?:37|43)|6\\d{2}|70\\d|9[0168]\\d)|[12]\\d0[1-5])\\d{3}",,,,"50037123"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"3550\\d{4}",,,,"35501234"],"MT",356,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2"]],,[,,"7117\\d{4}",,,,"71171234"],,,[,,,,,,,,,[-1]],[,,"501\\d{5}",,,,"50112345"],,,[,,,,,,,,,[-1]]],MU:[,[,,"(?:[2-468]|5\\d)\\d{6}",,,,,,,[7,8]],[,,"(?:2(?:[03478]\\d|1[0-7]|6[1-69])|4(?:[013568]\\d|2[4-7])|5(?:44\\d|471)|6\\d{2}|8(?:14|3[129]))\\d{4}",,,,"54480123"],[,,"5(?:2[589]\\d|4(?:2[1-389]|[489]\\d|7[1-9])|7\\d{2}|8(?:[0-689]\\d|7[15-8])|9[0-8]\\d)\\d{4}",,,,"52512345",,,[8]],[,,"80[012]\\d{4}",,,,"8001234",,,[7]],[,,"30\\d{5}",,,,"3012345",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"3(?:20|9\\d)\\d{4}",,,,"3201234",,,[7]],"MU",230,"0(?:0|[2-7]0|33)",,,,,,"020",,[[,"([2-46-9]\\d{2})(\\d{4})","$1 $2",["[2-46-9]"]],[,"(5\\d{3})(\\d{4})","$1 $2",["5"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MV:[,[,,"(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",,,,,,,[7,10]],[,,"(?:3(?:0[0-3]|3[0-59])|6(?:[57][02468]|6[024568]|8[024689]))\\d{4}",,,,"6701234",,,[7]],[,,"(?:46[46]|7[2-9]\\d|9[14-9]\\d)\\d{4}",,,,"7712345",,,[7]],[,,"800\\d{7}",,,,"8001234567",,,[10]],[,,"900\\d{7}",,,,"9001234567",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"MV",960,"0(?:0|19)",,,,,,"00",,[[,"(\\d{3})(\\d{4})","$1-$2",["[3467]|9(?:0[1-9]|[1-9])"]],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]00"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"4[05]0\\d{4}",,,,"4001234",,,[7]],,,[,,,,,,,,,[-1]]],MW:[,[,,"1\\d{6}(?:\\d{2})?|(?:[23]1|77|88|99)\\d{7}",,,,,,,[7,9]],[,,"(?:1[2-9]|21\\d{2})\\d{5}",,,,"1234567"],[,,"(?:111|77\\d|88\\d|99\\d)\\d{6}",,,,"991234567",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"31\\d{7}",,,,"310123456",,,[9]],"MW",265,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1"],"0$1"],[,"(2\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[17-9]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["31"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MX:[,[,,"(?:1\\d|[2-9])\\d{9}",,,,,,,[10,11],[7,8]],[,,"(?:33|55|81)\\d{8}|(?:2(?:0[01]|2[1-9]|3[1-35-8]|4[13-9]|7[1-689]|8[1-578]|9[467])|3(?:1[1-79]|[2458][1-9]|7[1-8]|9[1-5])|4(?:1[1-57-9]|[24-6][1-9]|[37][1-8]|8[1-35-9]|9[2-689])|5(?:88|9[1-79])|6(?:1[2-68]|[234][1-9]|5[1-3689]|6[12457-9]|7[1-7]|8[67]|9[4-8])|7(?:[13467][1-9]|2[1-9]|5[13-9]|8[1-69]|9[17])|8(?:2[13-689]|3[1-6]|4[124-6]|6[1246-9]|7[1-378]|9[12479])|9(?:1[346-9]|2[1-4]|3[2-46-8]|5[1348]|[69][1-9]|7[12]|8[1-8]))\\d{7}",,,,"2221234567",,,[10],[7,8]],[,,"1(?:(?:33|55|81)\\d{8}|(?:2(?:2[1-9]|3[1-35-8]|4[13-9]|7[1-689]|8[1-578]|9[467])|3(?:1[1-79]|[2458][1-9]|7[1-8]|9[1-5])|4(?:1[1-57-9]|[24-6][1-9]|[37][1-8]|8[1-35-9]|9[2-689])|5(?:88|9[1-79])|6(?:1[2-68]|[2-4][1-9]|5[1-3689]|6[12457-9]|7[1-7]|8[67]|9[4-8])|7(?:[13467][1-9]|2[1-9]|5[13-9]|8[1-69]|9[17])|8(?:2[13-689]|3[1-6]|4[124-6]|6[1246-9]|7[1-378]|9[12479])|9(?:1[346-9]|2[1-4]|3[2-46-8]|5[1348]|[69][1-9]|7[12]|8[1-8]))\\d{7})",,,,"12221234567",,,[11]],[,,"8(?:00|88)\\d{7}",,,,"8001234567",,,[10]],[,,"900\\d{7}",,,,"9001234567",,,[10]],[,,"300\\d{7}",,,,"3001234567",,,[10]],[,,"500\\d{7}",,,,"5001234567",,,[10]],[,,,,,,,,,[-1]],"MX",52,"0[09]","01",,,"0[12]|04[45](\\d{10})","1$1",,,[[,"([358]\\d)(\\d{4})(\\d{4})","$1 $2 $3",["33|55|81"],"01 $1",,1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2467]|3[0-2457-9]|5[089]|8[02-9]|9[0-35-9]"],"01 $1",,1],[,"(1)([358]\\d)(\\d{4})(\\d{4})","044 $2 $3 $4",["1(?:33|55|81)"],"$1",,1],[,"(1)(\\d{3})(\\d{3})(\\d{4})","044 $2 $3 $4",["1(?:[2467]|3[0-2457-9]|5[089]|8[2-9]|9[1-35-9])"],"$1",,1]],[[,"([358]\\d)(\\d{4})(\\d{4})","$1 $2 $3",["33|55|81"],"01 $1",,1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2467]|3[0-2457-9]|5[089]|8[02-9]|9[0-35-9]"],"01 $1",,1],[,"(1)([358]\\d)(\\d{4})(\\d{4})","$1 $2 $3 $4",["1(?:33|55|81)"]],[,"(1)(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1(?:[2467]|3[0-2457-9]|5[089]|8[2-9]|9[1-35-9])"]]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MY:[,[,,"(?:1\\d\\d?|3\\d|[4-9])\\d{7}",,,,,,,[8,9,10],[6,7]],[,,"(?:3(?:2(?:0(?:11|2[0-8]|3[0-24-79]|[579]\\d|8[0-57-9])|1(?:0[6-9]|1[03-9]|[467]\\d|8[0-2]|9[13])|2(?:0[1-3]|2[2-4]|4[0-25-7]|6[0-8]|7[02-689]|8\\d|9[5-9])|3(?:0[0-3]|3[0-36]|8[0-35-9]|9[1-3])|6(?:0[0-5]|[139]\\d|8[15-8])|7(?:1\\d|2[0-7]|3[0-3]|42|7[0-356]|8[0-35-8])|8(?:00|4[78]|5[6-9])|93[58])|3(?:0(?:0[0-35-9]|10|5[01]|8[0-6]|9[39])|1(?:0[1-39]|10|2[02-469]|3[245]|4[0-3589]|6[0-35-9]|7[067]|8[0-57]|9[0-278])|2(?:1[3467]|2[45]|4[1-3]|5[0689]|6[04589]|7[0-3579]|8[0-489]|9[0-27])|3(?:1[7-9]|2[1-6]|4[1-689]|5[89]|6[1-3]|7\\d|8[125]|9[236])|6(?:[12]0|3[01]|5[0-256]|6[08]|8[45]))|4(?:0(?:09|[14]\\d|2[0-8]|3[12]|5[01]|65)|1(?:0[0-8]|31|4\\d|6[12])|2(?:17|5[0-35-9]|6[024-6]|7[0189]|8[057-9]|9\\d)|770|8(?:0[0-2]|1[0-3569]|2[01]))|5(?:0(?:2[0-2]|3[0-35-9])|1(?:0[1-3]|1[05]|2[0-6]|31|6[1-7]|9[1258])|270|48[0-5]|5(?:1\\d|2[0-6]|4[0-589]|6[125-9]|9[01])|6(?:1[1-4]|2[0-589]|3\\d|5[0-3])|7(?:21|40)|8(?:7[06-9]|8[025-9]|9[12]))|6(?:0(?:2[0-28]|3[24-9]|4[246-9]|5[57]|6[13-6]|7[358]|8[1247]|9[0-59])|1(?:[04][0-58]|15|2[02-8]|3[015-9]|5[016-8]|7[7-9]|8[14-9]|9[1-356])|2(?:[05]\\d|11|[46][1-3]|7[02-79]|8[015-7])|303|4(?:1[129]|2[01]|3[36]|6[0-2])|690|7(?:3\\d|89))|7(?:118|2(?:0[02]|6[01])|4(?:[59]\\d|8[01])|6(?:1[01]|2\\d|5[0-2]|6[0-69])|7(?:1[0-37-9]|[28]\\d|3[1-5]|7[0-3])|8(?:[04]\\d|3[129]|59|6[1-356]|7[02-79]|8[02-7]|90)|9(?:10|3[1-3]|4[016-9]|[56]\\d|7[12]|8\\d))|8(?:0(?:0[08]|11|2[0-7]|5[12]|6\\d|7[013-69]|8[0-24]|9[0-5])|100|21[0-36]|3(?:08|1\\d|2[0-589]|31)|408|5(?:2[0-35-79]|88)|6(?:0[0-259]|5[5-79]|6[01]|8[46-9]|9[019])|7(?:0[35-8]|2[3-7]|3\\d|4[0149]|5[0-2]|6[016-9]|7[5-9]|8[037]|90)|8(?:00|61|7[0-3]|8\\d|9[0-4])|9(?:1[1-3]|[2-5]\\d|6[1-4689]|8[89]|9[0-689]))|9(?:0(?:1[0-289]|2[15]|5[014-9]|7[04-68]|8[0-256])|1(?:0[0-3568]|3[0-49]|4[015]|7[0-59]|9[15])|2(?:0[0-25-7]|12|2[1-6]|3[1256]|7[14]|8\\d)|3[68]8|41[01]|5(?:14|2[01]|4[03-9]|6[5-79]|7[0-2569])))\\d|4(?:2(?:0[01]|1[07-9]|2[02-46-9]|38|4[0-28]|5[0-589]|6[0-47-9]|8[0-389]|9[0-38])\\d|3(?:0[5-9]|[12][034]|3[0-37]|47|5[168]|6[7-9]|7[0135-8]|8\\d|9[0-27-9])\\d|4(?:[02-9]\\d{2}|1(?:[02-9]\\d|10))|5(?:[07]\\d{2}|1[0-358]\\d|2[1246]\\d|3[06-9]\\d|4[0589]\\d|5[12457-9]\\d|6[0-689]\\d|8(?:[0-57-9]\\d|60)|9(?:[2-57-9]\\d|60))|6(?:0[79]|1[0-689]|2[0135-9]|[3-5]\\d|6[07-9]|7[23]|8[03-9]|99)\\d|7(?:0[0-59]\\d|1[04679]\\d|2(?:[02-9]\\d|10)|[37]\\d{2}|4(?:[0178]\\d|5[0-6])|5(?:[0-57-9]\\d|60)|6[024-689]\\d|8[0-79]\\d|9(?:[0479]\\d|3[01]))|8(?:1[0189]\\d|2[046-9]\\d|3[058]\\d|5[029]\\d|6(?:[0689]\\d|40)|8[14568]\\d|9[0-389]\\d)|9(?:0[1368]\\d|1[13-9]\\d|[27]\\d{2}|3(?:[0-368]\\d|7[0-3])|4[013-79]\\d|5[0-35689]\\d|6[0-46-9]\\d|8[0-24-9]\\d|97\\d))|5(?:2(?:0[13589]\\d|1[0-2]\\d|2[056]\\d|3(?:[067]\\d|2[01])|4[0-69]\\d|5[3-6]\\d|8[0-25-9]\\d|9[0-469]\\d)|3(?:[12][0-38]|3[0-37]|4[89]|5[01346-9]|[67]\\d|8[01589]|95)\\d|4(?:0[1346]\\d|1[02-35-9]\\d|2[1379]\\d|3[0-46-9]\\d|4[013689]\\d|[59]\\d{2}|6(?:[15-9]\\d|20)|7[036-9]\\d|8[015-8]\\d)|5(?:0[167]\\d|17\\d|2[025-9]\\d|3[035-7]\\d|4[0-35-9]\\d|8[13]\\d|9(?:[124-9]\\d|31))|6(?:0[89]\\d|1[02-46-8]\\d|2[0-69]\\d|3(?:[1-367]\\d|40)|4[0-689]\\d|5(?:[0-24-9]\\d|30)|6[1457-9]\\d|7\\d{2}|8[0-57-9]\\d|9[0-389]\\d)|7(?:1(?:[024679]\\d|80)|2[0-35-8]\\d|3[23]\\d|4[34]\\d|5[0-36-9]\\d|6[356-9]\\d|7\\d{2}|8(?:[23]\\d|[01]1)|9(?:[1-689]\\d|70))|8(?:0[145-9]\\d|1[0-2]\\d|2[09]\\d|3(?:[058]\\d|0[017])|4[016-9]\\d|5[02-9]\\d|7(?:10|2\\d)|8[013589]\\d|9[0-57-9]\\d)|9[23]0\\d)|6(?:2(?:2[1246-9]\\d|3[0-5]\\d|4[02]\\d|5[1-3]\\d|[68]\\d{2}|7(?:[04-8]\\d|10)|9[2-5]\\d)|3(?:1(?:[125-9]\\d|3[01])|3[0-7]\\d|5[0-478]\\d|79\\d|8[3-578]\\d|9[018]\\d)|4(?:1[015]|[2-689]\\d|7[1-79])\\d|5(?:09\\d|1(?:10|[2479]\\d)|2[1-579]\\d|3(?:[0-467]\\d|50)|4[0-24-9]\\d|5\\d{2}|60\\d)|6(?:0[13]\\d|1[0-57]\\d|2[03]\\d|3[0-478]\\d|4[0-8]\\d|5[013-689]\\d|6[0-467]\\d|[78]\\d{2}|9(?:[13-9]\\d|20))|7(?:01|2[06-9]|3[367]|5[7-9]|6\\d|7[0156]|8[12]|9[0-47-9])\\d|85[0-26]\\d|9(?:0[167]|10|[57]\\d|6[02-9]|8[013-9])\\d)|7(?:2(?:0[7-9]|1[016-9]|2[0-8]|[39]\\d|4[014]|5[0-79]|6[125-8]|7[1246-9]|8[37-9])\\d|3(?:0[0-5]|[35]\\d|40|5[0-478]|6[0-5]|8[0-26-8])\\d|4(?:0[07-9]|[1-35]\\d|6[7-9]|7[57]|8[1-68])\\d|5(?:0[04-9]|1[0-68]|2[0-378]|3[0-3]|5\\d|6[0-2]|7[018]|8[5-7]|9[05-9])\\d|6(?:5[0-24-9]|6[0-3568]|7[0457-9]|8[02-9]|9\\d)\\d|7(?:0[25-8]\\d|1(?:[01]\\d|20)|2[0-2]\\d|3[489]\\d|[457-9]\\d{2}|6(?:[0-8]\\d|90))|8(?:01[01]|10\\d|[289]\\d{2}|3(?:[028]\\d|10)|50\\d|6[0-357-9]\\d|7(?:[0235-9]\\d|[14]0))|9(?:0(?:[0246-8]\\d|10)|[1-4]\\d{2}|50\\d|6[014589]\\d|[7-9]0\\d))|8(?:2(?:2(?:[013-5]\\d|[28][0-8]|6[016]|7[0-589]|9[0-49])|3(?:[02][0-689]|1[1-59]|[3-7]\\d|8[0-389]|9[13])|4(?:0[1-3]|[1-8]\\d|9[1-359])|5(?:0[1-7]|[17]\\d|20|3[0-26-9]|4[1-9]|5[0-35]|8[0-689]|9[02367])|6(?:[147]\\d|2[0-25-9]|39|5[014-9]|6[1-9]|8[1-8]|9[089])|7(?:0[017-9]|1[1-356]|20|3[01457-9]|4[15]|5[0-25]|6[0-6]|70|8[0-2]|9[01378])|8(?:0[3-57-9]|[15]0|2[124-9]|3[01]|4[02-6]|6[02-578]|7\\d|8[25-8]|9[04-689]))|3(?:220|3(?:0[089]|10|2[0-7]|3[7-9]|4[0-48])|4(?:0[68]|1[0-478]|2[5-79]|3[024-9]|50|6\\d|7[0-57]|8[05]|96)|5(?:4[4578]|55|6[2-9]|70|8[459]|92))|4(?:2(?:[15]\\d|2[0-489]|3[124-9])|3(?:0[1-8]|[1-4]\\d|5[0-3]|6[1-7]|7[56]|8[0-4]|9[1-578])|4(?:05|80)|555|6(?:1[0-3]|20|3[1-4]|4[0-24-7]|5\\d|6[0-2]|71|8[0-47-9]|9[0-689])|7(02|1[79]|21|3[0-2468]|5[0-5]|6[0256]|7[0-8]|8[01589]|9[026-9])|8(?:0[1-9]|1[0-3568]|2[0138]|3[0-4]|4[046-9]|5[06]|6\\d|7[0-579]|80|9[0-8]))|5(?:2(?:0[0-26]|1\\d|2[0-5]|3[18]|4[0-2]|6[3-68]|70|8[025-9]|9[05-9])|3(?:10|2\\d|31|95)|4(?:0[1-7]|[1-4]\\d|5[02-6]|6[0-3]|7[0-245]|8[125]|9[1-6])|5(?:40|55)|6(?:0[1459]|1[0-8]|2[0-36-8]|3[0-35-8]|[45]\\d|6[0-8]|80)|7(?:1[07-9]|20|3[3-9]|4[02-4]|5[05689]|6[015-9]|7\\d|8[045]|9[0-6]))|6(?:2(?:01|3[12]|5[1-7]|60|8[1-6]|9[0-8])|3(?:0[0137]|[134]\\d|2[0-8]|[59][01]|60|[78]1)|4(?:2[2-4]|49|5[17]|6\\d|7[0-46-9]|8[0-689])|5(?:0[6-8]|55|8[0149]|90)|8(?:5\\d|[68]0)|9(?:5[12]|81))|7(?:2(?:0[189]|[12][1-9]|3[0-47]|50)|3(?:[01][1-9]|3\\d|4[0-245]|6[4-9]|7[237-9]|9[12])|4(?:[0-2]\\d|3[167-9]|[45][0-3]|6[0-8]|7[25-9]|8[0-6]|90)|5(?:0[1-9]|[89]\\d)|7(?:1[89]|[27]\\d|3[013-9]|4[0-8]|50|6[01568]|82)|8(?:[03][1-3]|1[0-28]|2[0-38]|48|5[0-4]|6[1-3]|7[124]|8[013-57-9]|9[07]))|8(?:2(?:0[13-7]|[1-9]\\d)|3(?:0[1-47-9]|[128]\\d|3[0-4]|4[1-9]|5[0-35-7]|6[0-46-9]|9[3-7])|4(?:0[1-58]|1[1-5]|[2-57-9]\\d|69)|5(?:1[1-35-9]|2\\d|3[2-8]|52)|6(?:0[2-9]|1[1-8]|[23]\\d|41|5[12367]|6[1-9]|7[14-9]|8[02-8]|9[05])|7(?:0[1-589]|[1-35-8]\\d|4[0-7]|9[0-46-9])|8(?:01|30|5[0-48]|6[13]|7\\d|8[013-689]|9[24-9])|9(?:0[2-4689]|1\\d|2[08]|3[18]|4[03]|59|6[0-36-9]|7[0-35-79]|8[1235]))|9(?:2(?:[057][1-9]|[1-3]\\d|4[0-8]|6[1-5]|8[015-9]|9[04-6])|300|4(?:01|36|6[1-6]|[89][12])|5(?:0[25689]|1\\d|2[0134]|3[1-8]|5[17]|6[0-35-9]|7[0-7]|91)|6(?:1[1-9]|2[23]|3[0-4]|6[03-9]|7[0-7])|7(?:0[1-68]|1[1-8]|2[25-9]|3[056]|4[4-9]|[5-8]\\d|9[0-46-9])|8(?:0[1-7]|[189]\\d|2[1-46]|4[1-689]|5[0-79]|6[1-9]|71)|9(?:0[1-3]|1\\d|2[0-35-7]|3[67]|4[12]|5[0-249]|6[5-9]|75|8[1-6])))|9(?:2(?:0[458]\\d|1[2-57]\\d|2[0-589]\\d|[39]\\d{2}|4(?:[02-9]\\d|10)|5(?:[024-6]\\d|[7-9]0)|6(?:[03-9]\\d|20)|7[0-26-9]\\d|8(?:[0-24-68]\\d|7[01]))|3(?:0[0-2689]\\d|1(?:[0235]\\d|1[0-2]|4[01])|2(?:0[01]|[1-57-9]\\d|6[0-2])|3(?:00|1[0-4]|2\\d)|4[05]\\d|5[0-3568]\\d|6(?:[1-357-9]\\d|60)|[78]0\\d)|4(?:0[24578]\\d|1[02-57-9]\\d|2\\d{2}|3(?:[0278]\\d|1[01]|60)|4[013579]\\d|5[0-8]\\d|6[0678]\\d|7[013-9]\\d|8[01569]\\d)|5(0(?:[589]\\d|7[01])|1\\d{2}|2[0159]\\d|3[14689]\\d|4[0-46-9]\\d|5[0-35-9]\\d|6[0156-8]\\d|7[0-35]\\d|8[0-7]\\d|9[0-3589]\\d)|6(?:0[269]\\d|[12]\\d{2}|3[0-57-9]\\d|44[0-2]|5[01379]\\d|6[02-9]\\d|7[69]\\d|8(?:[0-24-8]\\d|30)|9(?:[0-24-9]\\d|3[01]))|7(?:0[0136-8]|1[02-4]|2[156]|3[258]|[489]\\d|5[0-589]|6[024-9]|7[0-689])\\d|8(?:0(?:0[01]|1\\d)|1[3-9]\\d|[23]\\d{2}|4[0-24-689]\\d|5[0-689]\\d|6[02-9]\\d|7(?:[01]0|[2-4]\\d)|888)|9(?:00\\d|1[2-57-9]\\d|2(?:00|1[01]|[238]\\d)|3(?:[2-467]\\d|50)|4[4-9]\\d|5(?:[0-2457-9]\\d|60)|6[0156]\\d|7[04-9]\\d|8[01]\\d)))\\d{3}",,,,"323856789",,,[8,9],[6,7]],[,,"1(?:0(?:[23568]\\d|4[0-6]|7[016-9]|9[0-8])\\d|1(?:[1-5]\\d{2}|6(?:0[5-9]|[1-9]\\d))\\d|[23679][2-9]\\d{2}|4(?:[235-9]\\d{2}|400)|59\\d{3}|8(?:1[23]\\d|[236]\\d{2}|4(?:[06]\\d|7[0-4])|5[7-9]\\d|7[016-9]\\d|8(?:[01]\\d|[27][0-4])|9[0-8]\\d))\\d{4}",,,,"123456789",,,[9,10]],[,,"1[378]00\\d{6}",,,,"1300123456",,,[10]],[,,"1600\\d{6}",,,,"1600123456",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"154(?:6(?:0\\d|1[0-3])|8(?:[25]1|4[0189]|7[0-4679]))\\d{4}",,,,"1546012345",,,[10]],"MY",60,"00","0",,,"0",,,,[[,"([4-79])(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],[,"(3)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],[,"([18]\\d)(\\d{3})(\\d{3,4})","$1-$2 $3",["1[02-46-9][1-9]|8"],"0$1"],[,"(1)([36-8]00)(\\d{2})(\\d{4})","$1-$2-$3-$4",["1[36-8]0","1[36-8]00"]],[,"(11)(\\d{4})(\\d{4})","$1-$2 $3",["11"],"0$1"],[,"(15[49])(\\d{3})(\\d{4})","$1-$2 $3",["15[49]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MZ:[,[,,"(?:2|8\\d)\\d{7}",,,,,,,[8,9]],[,,"2(?:[1346]\\d|5[0-2]|[78][12]|93)\\d{5}",,,,"21123456",,,[8]],[,,"8[2-7]\\d{7}",,,,"821234567",,,[9]],[,,"800\\d{6}",,,,"800123456",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"MZ",258,"00",,,,,,,,[[,"([28]\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-7]"]],[,"(80\\d)(\\d{3})(\\d{3})","$1 $2 $3",["80"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],NA:[,[,,"[68]\\d{7,8}",,,,,,,[8,9]],[,,"6(?:1(?:17|2(?:[0189]\\d|[2-6]|7\\d?)|3(?:[01378]|2\\d)|4(?:[024]|10?|3[15]?)|69|7[014])|2(?:17|5(?:[0-36-8]|4\\d?)|69|70)|3(?:17|2(?:[0237]\\d?|[14-689])|34|6[289]|7[01]|81)|4(?:17|2(?:[012]|7\\d?)|4(?:[06]|1\\d?)|5(?:[01357]|[25]\\d?)|69|7[01])|5(?:17|2(?:[0459]|[23678]\\d?)|69|7[01])|6(?:17|2(?:5|6\\d?)|38|42|69|7[01])|7(?:17|2(?:[569]|[234]\\d?)|3(?:0\\d?|[13])|6[89]|7[01]))\\d{4}",,,,"61221234"],[,,"(?:60|8[125])\\d{7}",,,,"811234567",,,[9]],[,,,,,,,,,[-1]],[,,"8701\\d{5}",,,,"870123456",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"8(?:3\\d{2}|86)\\d{5}",,,,"88612345"],"NA",264,"00","0",,,"0",,,,[[,"(8\\d)(\\d{3})(\\d{4})","$1 $2 $3",["8[1-35]"],"0$1"],[,"(6\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],[,"(88)(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],[,"(870)(\\d{3})(\\d{3})","$1 $2 $3",["870"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],NC:[,[,,"[2-57-9]\\d{5}",,,,,,,[6]],[,,"(?:2[03-9]|3[0-5]|4[1-7]|88)\\d{4}",,,,"201234"],[,,"(?:5[0-4]|[79]\\d|8[0-79])\\d{4}",,,,"751234"],[,,,,,,,,,[-1]],[,,"36\\d{4}",,,,"366711"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"NC",687,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[2-46-9]|5[0-4]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],NE:[,[,,"[0289]\\d{7}",,,,,,,[8]],[,,"2(?:0(?:20|3[1-7]|4[134]|5[14]|6[14578]|7[1-578])|1(?:4[145]|5[14]|6[14-68]|7[169]|88))\\d{4}",,,,"20201234"],[,,"(?:8[04589]|9\\d)\\d{6}",,,,"93123456"],[,,"08\\d{6}",,,,"08123456"],[,,"09\\d{6}",,,,"09123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"NE",227,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["09|[289]"]],[,"(08)(\\d{3})(\\d{3})","$1 $2 $3",["08"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],NF:[,[,,"[13]\\d{5}",,,,,,,[6],[5]],[,,"(?:1(?:06|17|28|39)|3[012]\\d)\\d{3}",,,,"106609",,,,[5]],[,,"3[58]\\d{4}",,,,"381234",,,,[5]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"NF",672,"00",,,,,,,,[[,"(\\d{2})(\\d{4})","$1 $2",["1"]],[,"(\\d)(\\d{5})","$1 $2",["3"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],NG:[,[,,"[78]\\d{10,13}|[7-9]\\d{9}|[1-9]\\d{7}|[124-7]\\d{6}",,,,,,,[7,8,10,11,12,13,14],[5,6]],[,,"[12]\\d{6,7}|9(?:0[3-9]|[1-9]\\d)\\d{5}|(?:3\\d|4[023568]|5[02368]|6[02-469]|7[4-69]|8[2-9])\\d{6}|(?:4[47]|5[14579]|6[1578]|7[0-357])\\d{5,6}|(?:78|41)\\d{5}",,,,"18040123",,,[7,8],[5,6]],[,,"(?:1(?:7[34]\\d|8(?:04|[124579]\\d|8[0-3])|95\\d)|287[0-7]|3(?:18[1-8]|88[0-7]|9(?:8[5-9]|6[1-5]))|4(?:28[0-2]|6(?:7[1-9]|8[02-47])|88[0-2])|5(?:2(?:7[7-9]|8\\d)|38[1-79]|48[0-7]|68[4-7])|6(?:2(?:7[7-9]|8\\d)|4(?:3[7-9]|[68][129]|7[04-69]|9[1-8])|58[0-2]|98[7-9])|7(?:38[0-7]|69[1-8]|78[2-4])|8(?:28[3-9]|38[0-2]|4(?:2[12]|3[147-9]|5[346]|7[4-9]|8[014-689]|90)|58[1-8]|78[2-9]|88[5-7])|98[07]\\d)\\d{4}|(?:70(?:[1-689]\\d|7[0-3])|8(?:0(?:1[01]|[2-9]\\d)|1(?:[0-8]\\d|9[01]))|90[235-9]\\d)\\d{6}",,,,"8021234567",,,[8,10]],[,,"800\\d{7,11}",,,,"80017591759",,,[10,11,12,13,14]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"NG",234,"009","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|9(?:0[3-9]|[1-9])"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[3-6]|7(?:0[1-9]|[1-79])|8[2-9]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["70|8[01]|90[235-9]"],"0$1"],[,"([78]00)(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]00"],"0$1"],[,"([78]00)(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]00"],"0$1"],[,"(78)(\\d{2})(\\d{3})","$1 $2 $3",["78"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"700\\d{7,11}",,,,"7001234567",,,[10,11,12,13,14]],,,[,,,,,,,,,[-1]]],NI:[,[,,"(?:1800|[25-8]\\d{3})\\d{4}",,,,,,,[8]],[,,"2\\d{7}",,,,"21234567"],[,,"(?:5(?:5[0-7]|[78]\\d)|6(?:20|3[035]|4[045]|5[05]|77|8[1-9]|9[059])|7[5-8]\\d|8\\d{2})\\d{5}",,,,"81234567"],[,,"1800\\d{4}",,,,"18001234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"NI",505,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],NL:[,[,,"(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|(?:8\\d|9[01])\\d{5,8}|1\\d{4,5}",,,,,,,[5,6,7,8,9,10]],[,,"(?:1(?:[035]\\d|1[13-578]|6[124-8]|7[24]|8[0-467])|2(?:[0346]\\d|2[2-46-9]|5[125]|9[479])|3(?:[03568]\\d|1[3-8]|2[01]|4[1-8])|4(?:[0356]\\d|1[1-368]|7[58]|8[15-8]|9[23579])|5(?:[0358]\\d|[19][1-9]|2[1-57-9]|4[13-8]|6[126]|7[0-3578])|7\\d{2})\\d{6}",,,,"101234567",,,[9]],[,,"6[1-58]\\d{7}",,,,"612345678",,,[9]],[,,"800\\d{4,7}",,,,"8001234",,,[7,8,9,10]],[,,"90[069]\\d{4,7}",,,,"9061234",,,[7,8,9,10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"(?:6760|(?:85|91)\\d{2})\\d{5}",,,,"851234567",,,[9]],"NL",31,"00","0",,,"0",,,,[[,"([1-57-9]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1[035]|2[0346]|3[03568]|4[0356]|5[0358]|7|8[4578]|91"],"0$1"],[,"([1-5]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],[,"(6)(\\d{8})","$1 $2",["6[0-57-9]"],"0$1"],[,"(66)(\\d{7})","$1 $2",["66"],"0$1"],[,"(14)(\\d{3,4})","$1 $2",["14"],"$1"],[,"([89]0\\d)(\\d{4,7})","$1 $2",["[89]0"],"0$1"]],,[,,"66\\d{7}",,,,"662345678",,,[9]],,,[,,"140(?:1(?:[035]|[16-8]\\d)|2(?:[0346]|[259]\\d)|3(?:[03568]|[124]\\d)|4(?:[0356]|[17-9]\\d)|5(?:[0358]|[124679]\\d)|7\\d|8[458])",,,,,,,[5,6]],[,,"140(?:1(?:[035]|[16-8]\\d)|2(?:[0346]|[259]\\d)|3(?:[03568]|[124]\\d)|4(?:[0356]|[17-9]\\d)|5(?:[0358]|[124679]\\d)|7\\d|8[458])|8[478]\\d{7}",,,,"14020",,,[5,6,9]],,,[,,,,,,,,,[-1]]],NO:[,[,,"(?:0|[2-9]\\d{3})\\d{4}",,,,,,,[5,8]],[,,"(?:2[1-4]|3[1-3578]|5[1-35-7]|6[1-4679]|7[0-8])\\d{6}",,,,"21234567",,,[8]],[,,"(?:4[015-8]|5[89]|9\\d)\\d{6}",,,,"40612345",,,[8]],[,,"80[01]\\d{5}",,,,"80012345",,,[8]],[,,"82[09]\\d{5}",,,,"82012345",,,[8]],[,,"810(?:0[0-6]|[2-8]\\d)\\d{3}",,,,"81021234",,,[8]],[,,"880\\d{5}",,,,"88012345",,,[8]],[,,"85[0-5]\\d{5}",,,,"85012345",,,[8]],"NO",47,"00",,,,,,,,[[,"([489]\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["[489]"]],[,"([235-7]\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-7]"]]],,[,,,,,,,,,[-1]],1,,[,,,,,,,,,[-1]],[,,"0\\d{4}|81(?:0(?:0[7-9]|1\\d)|5\\d{2})\\d{3}",,,,"01234"],,,[,,"81[23]\\d{5}",,,,"81212345",,,[8]]],NP:[,[,,"9\\d{9}|[1-9]\\d{7}",,,,,,,[8,10],[6,7]],[,,"(?:1[0-6]\\d|2[13-79][2-6]|3[135-8][2-6]|4[146-9][2-6]|5[135-7][2-6]|6[13-9][2-6]|7[15-9][2-6]|8[1-46-9][2-6]|9[1-79][2-6])\\d{5}",,,,"14567890",,,[8],[6,7]],[,,"9(?:6[0-3]|7[245]|8[0-24-68])\\d{7}",,,,"9841234567",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"NP",977,"00","0",,,"0",,,,[[,"(1)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],[,"(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-69]|7[15-9])"],"0$1"],[,"(9\\d{2})(\\d{7})","$1-$2",["9(?:6[013]|7[245]|8)"],"$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],NR:[,[,,"(?:444|55\\d|888)\\d{4}",,,,,,,[7]],[,,"(?:444|888)\\d{4}",,,,"4441234"],[,,"55[4-9]\\d{4}",,,,"5551234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"NR",674,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],NU:[,[,,"(?:[47]|888\\d)\\d{3}",,,,,,,[4,7]],[,,"[47]\\d{3}",,,,"7012",,,[4]],[,,"888[4-9]\\d{3}",,,,"8884012",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"NU",683,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["888"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],NZ:[,[,,"[28]\\d{7,9}|[346]\\d{7}|(?:508|[79]\\d)\\d{6,7}",,,,,,,[8,9,10],[7]],[,,"(?:3[2-79]|[49][2-9]|6[235-9]|7[2-57-9])\\d{6}|24099\\d{3}",,,,"32345678",,,[8],[7]],[,,"2(?:[028]\\d{7,8}|1\\d{6,8}|[79]\\d{7})",,,,"211234567"],[,,"508\\d{6,7}|80\\d{6,8}",,,,"800123456"],[,,"90\\d{6,7}",,,,"900123456",,,[8,9]],[,,,,,,,,,[-1]],[,,"70\\d{7}",,,,"701234567",,,[9]],[,,,,,,,,,[-1]],"NZ",64,"0(?:0|161)","0",,,"0",,"00",,[[,"(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["240|[346]|7[2-57-9]|9[1-9]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["21"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:1[1-9]|[69]|7[0-35-9])|70|86"],"0$1"],[,"(2\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["2[028]"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["90"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|5|[89]0"],"0$1"]],,[,,"[28]6\\d{6,7}",,,,"26123456",,,[8,9]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],OM:[,[,,"(?:[279]\\d{3}|500|8007\\d?)\\d{4}",,,,,,,[7,8,9]],[,,"2[2-6]\\d{6}",,,,"23123456",,,[8]],[,,"7[19]\\d{6}|9(?:0[1-9]|[1-9]\\d)\\d{5}",,,,"92123456",,,[8]],[,,"8007\\d{4,5}|500\\d{4}",,,,"80071234"],[,,"900\\d{5}",,,,"90012345",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"OM",968,"00",,,,,,,,[[,"(2\\d)(\\d{6})","$1 $2",["2"]],[,"([79]\\d{3})(\\d{4})","$1 $2",["[79]"]],[,"([58]00)(\\d{4,6})","$1 $2",["[58]00"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],PA:[,[,,"(?:[1-57-9]|6\\d)\\d{6}",,,,,,,[7,8]],[,,"(?:1(?:0\\d|1[479]|2[37]|3[0137]|4[17]|5[05]|[68][58]|7[0167]|9[39])|2(?:[0235-79]\\d|1[0-7]|4[013-9]|8[026-9])|3(?:[089]\\d|1[014-7]|2[0-35]|33|4[0-579]|55|6[068]|7[06-8])|4(?:00|3[0-579]|4\\d|7[0-57-9])|5(?:[01]\\d|2[0-7]|[56]0|79)|7(?:0[09]|2[0-26-8]|3[03]|4[04]|5[05-9]|6[05]|7[0-24-9]|8[7-9]|90)|8(?:09|2[89]|3\\d|4[0-24-689]|5[014]|8[02])|9(?:0[5-9]|1[0135-8]|2[036-9]|3[35-79]|40|5[0457-9]|6[05-9]|7[04-9]|8[35-8]|9\\d))\\d{4}",,,,"2001234",,,[7]],[,,"(?:1[16]1|21[89]|8(?:1[01]|7[23]))\\d{4}|6(?:[02-9]\\d|1[0-5])\\d{5}",,,,"61234567"],[,,"800\\d{4}",,,,"8001234",,,[7]],[,,"(?:8(?:22|55|60|7[78]|86)|9(?:00|81))\\d{4}",,,,"8601234",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"PA",507,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],[,"(\\d{4})(\\d{4})","$1-$2",["6"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],PE:[,[,,"(?:[14-8]|9\\d)\\d{7}",,,,,,,[8,9],[6,7]],[,,"(?:1\\d|4[1-4]|5[1-46]|6[1-7]|7[2-46]|8[2-4])\\d{6}",,,,"11234567",,,[8],[6,7]],[,,"9\\d{8}",,,,"912345678",,,[9]],[,,"800\\d{5}",,,,"80012345",,,[8]],[,,"805\\d{5}",,,,"80512345",,,[8]],[,,"801\\d{5}",,,,"80112345",,,[8]],[,,"80[24]\\d{5}",,,,"80212345",,,[8]],[,,,,,,,,,[-1]],"PE",51,"19(?:1[124]|77|90)00","0"," Anexo ",,"0",,,,[[,"(1)(\\d{7})","$1 $2",["1"],"(0$1)"],[,"([4-8]\\d)(\\d{6})","$1 $2",["[4-7]|8[2-4]"],"(0$1)"],[,"(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],[,"(9\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],PF:[,[,,"[48]\\d{7}|4\\d{5}",,,,,,,[6,8]],[,,"4(?:[09][45689]\\d|4)\\d{4}",,,,"40412345"],[,,"8[79]\\d{6}",,,,"87123456",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"PF",689,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4[09]|8[79]"]],[,"(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]]],,[,,,,,,,,,[-1]],,,[,,"44\\d{4}",,,,,,,[6]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],PG:[,[,,"(?:180|(?:(?:[2-59]|7\\d)\\d|64|85)\\d)\\d{4}",,,,,,,[7,8]],[,,"(?:3[0-2]\\d|4[257]\\d|5[34]\\d|64[1-9]|77(?:[0-24]\\d|30)|85[02-46-9]|9[78]\\d)\\d{4}",,,,"3123456",,,[7]],[,,"7(?:[0-689]\\d|75)\\d{5}",,,,"70123456",,,[8]],[,,"180\\d{4}",,,,"1801234",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"2(?:0[0-47]|7[568])\\d{4}",,,,"2751234",,,[7]],"PG",675,"140[1-3]|00",,,,,,"00",,[[,"(\\d{3})(\\d{4})","$1 $2",["[13-689]|27"]],[,"(\\d{4})(\\d{4})","$1 $2",["20|7"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],PH:[,[,,"(?:1800\\d{2,4}|2|[89]\\d{4})\\d{5}|[3-8]\\d{8}|[28]\\d{7}",,,,,,,[6,8,9,10,11,12,13],[5,7]],[,,"2\\d{5}(?:\\d{2})?|(?:3[2-68]|4[2-9]|5[2-6]|6[2-58]|7[24578]|8[2-8])\\d{7}|88(?:22\\d{6}|42\\d{4})",,,,"21234567",,,[6,8,9,10],[5,7]],[,,"(?:81[37]|9(?:0[5-9]|1[024-9]|2[0-35-9]|3[02-9]|4[235-9]|5[056]|6[5-7]|7[34-79]|89|9[4-9]))\\d{7}",,,,"9051234567",,,[10]],[,,"1800\\d{7,9}",,,,"180012345678",,,[11,12,13]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"PH",63,"00","0",,,"0",,,,[[,"(2)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],[,"(2)(\\d{5})","$1 $2",["2"],"(0$1)"],[,"(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|5(?:22|44)|642|8(?:62|8[245])","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],[,"(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],[,"([3-8]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[3-8]"],"(0$1)"],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["81|9"],"0$1"],[,"(1800)(\\d{3})(\\d{4})","$1 $2 $3",["180","1800"]],[,"(1800)(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["180","1800"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],PK:[,[,,"(?:122|[24-8]\\d{4,5}|9(?:[013-9]\\d{2,4}|2(?:[01]\\d\\d|2(?:[025-8]\\d|1[01]))\\d))\\d{6}|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",,,,,,,[8,9,10,11,12],[6,7]],[,,"(?:21|42)[2-9]\\d{7}|(?:2[25]|4[0146-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]\\d{6}|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8]))[2-9]\\d{5,6}|58[126]\\d{7}",,,,"2123456789",,,[9,10],[6,7,8]],[,,"3(?:[014]\\d|2[0-5]|3[0-7]|55|64)\\d{7}",,,,"3012345678",,,[10]],[,,"800\\d{5}",,,,"80012345",,,[8]],[,,"900\\d{5}",,,,"90012345",,,[8]],[,,,,,,,,,[-1]],[,,"122\\d{6}",,,,"122044444",,,[9]],[,,,,,,,,,[-1]],"PK",92,"00","0",,,"0",,,,[[,"([89]00)(\\d{3})(\\d{2})","$1 $2 $3",["[89]00"],"0$1"],[,"(1\\d{3})(\\d{5})","$1 $2",["1"],"$1"],[,"(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],[,"(\\d{3})(\\d{6,7})","$1 $2",["2[349]|45|54|60|72|8[2-5]|9[2-469]","(?:2[349]|45|54|60|72|8[2-5]|9[2-469])\\d[2-9]"],"(0$1)"],[,"(58\\d{3})(\\d{5})","$1 $2",["58[126]"],"(0$1)"],[,"(3\\d{2})(\\d{7})","$1 $2",["3"],"0$1"],[,"(\\d{2})(111)(\\d{3})(\\d{3})","$1 $2 $3 $4",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)1","(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)11","(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)111"],"(0$1)"],[,"(\\d{3})(111)(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[349]|45|54|60|72|8[2-5]|9[2-9]","(?:2[349]|45|54|60|72|8[2-5]|9[2-9])\\d1","(?:2[349]|45|54|60|72|8[2-5]|9[2-9])\\d11","(?:2[349]|45|54|60|72|8[2-5]|9[2-9])\\d111"],"(0$1)"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"(?:2(?:[125]|3[2358]|4[2-4]|9[2-8])|4(?:[0-246-9]|5[3479])|5(?:[1-35-7]|4[2-467])|6(?:[1-8]|0[468])|7(?:[14]|2[236])|8(?:[16]|2[2-689]|3[23578]|4[3478]|5[2356])|9(?:1|22|3[27-9]|4[2-6]|6[3569]|9[2-7]))111\\d{6}",,,,"21111825888",,,[11,12]],,,[,,,,,,,,,[-1]]],PL:[,[,,"[1-9]\\d{6}(?:\\d{2})?|6\\d{5}(?:\\d{2})?",,,,,,,[6,7,8,9]],[,,"(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])(?:\\d{7}|19\\d{3})",,,,"123456789",,,[7,9]],[,,"(?:45|5[0137]|6[069]|7[2389]|88)\\d{7}",,,,"512345678",,,[9]],[,,"800\\d{6}",,,,"800123456",,,[9]],[,,"70[01346-8]\\d{6}",,,,"701234567",,,[9]],[,,"801\\d{6}",,,,"801234567",,,[9]],[,,,,,,,,,[-1]],[,,"39\\d{7}",,,,"391234567",,,[9]],"PL",48,"00",,,,,,,,[[,"(\\d{3})(\\d{3})","$1 $2",["11[68]|64"]],[,"(\\d{5})","$1",["19"]],[,"(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145]"]],[,"(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["26|39|45|5[0137]|6[0469]|7[02389]|8[08]"]],[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[14]|2[0-57-9]|3[2-4]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145]"]]],,[,,"64\\d{4,7}",,,,"641234567"],,,[,,,,,,,,,[-1]],[,,"804\\d{6}",,,,"804123456",,,[9]],,,[,,,,,,,,,[-1]]],PM:[,[,,"[45]\\d{5}",,,,,,,[6]],[,,"(?:4[1-3]|50)\\d{4}",,,,"430123"],[,,"(?:4[02-4]|5[05])\\d{4}",,,,"551234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"PM",508,"00","0",,,"0",,,,[[,"([45]\\d)(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],PR:[,[,,"(?:[589]\\d\\d|787)\\d{7}",,,,,,,[10],[7]],[,,"(?:787|939)[2-9]\\d{6}",,,,"7872345678",,,,[7]],[,,"(?:787|939)[2-9]\\d{6}",,,,"7872345678",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002345678"],[,,"900[2-9]\\d{6}",,,,"9002345678"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"PR",1,"011","1",,,"1",,,1,,,[,,,,,,,,,[-1]],,"787|939",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],PS:[,[,,"(?:(?:1\\d|5)\\d\\d|[2489]2)\\d{6}",,,,,,,[8,9,10],[7]],[,,"(?:22[234789]|42[45]|82[01458]|92[369])\\d{5}",,,,"22234567",,,[8],[7]],[,,"5[69]\\d{7}",,,,"599123456",,,[9]],[,,"1800\\d{6}",,,,"1800123456",,,[10]],[,,,,,,,,,[-1]],[,,"1700\\d{6}",,,,"1700123456",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"PS",970,"00","0",,,"0",,,,[[,"([2489])(2\\d{2})(\\d{4})","$1 $2 $3",["[2489]2"],"0$1"],[,"(5[69]\\d)(\\d{3})(\\d{3})","$1 $2 $3",["5[69]"],"0$1"],[,"(1[78]00)(\\d{3})(\\d{3})","$1 $2 $3",["1[78]0","1[78]00"],"$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],PT:[,[,,"(?:[26-9]\\d|30)\\d{7}",,,,,,,[9]],[,,"2(?:[12]\\d|[35][1-689]|4[1-59]|6[1-35689]|7[1-9]|8[1-69]|9[1256])\\d{6}",,,,"212345678"],[,,"9(?:[1236]\\d{2}|480)\\d{5}",,,,"912345678"],[,,"80[02]\\d{6}",,,,"800123456"],[,,"6(?:0[178]|4[68])\\d{6}|76(?:0[1-57]|1[2-47]|2[237])\\d{5}",,,,"760123456"],[,,"80(?:8\\d|9[1579])\\d{5}",,,,"808123456"],[,,"884[0-4689]\\d{5}",,,,"884123456"],[,,"30\\d{7}",,,,"301234567"],"PT",351,"00",,,,,,,,[[,"(2\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],[,"([2-46-9]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[3-9]|[346-9]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"7(?:0(?:7\\d|8[17]))\\d{5}",,,,"707123456"],,,[,,"600\\d{6}",,,,"600110000"]],PW:[,[,,"(?:[25-8]\\d\\d|345|488|900)\\d{4}",,,,,,,[7]],[,,"(?:2(?:55|77)|345|488|5(?:35|44|87)|6(?:22|54|79)|7(?:33|47)|8(?:24|55|76)|900)\\d{4}",,,,"2771234"],[,,"(?:6[234689]0|77\\d|88[0-4])\\d{4}",,,,"6201234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"PW",680,"01[12]",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],PY:[,[,,"(?:[2-46-9]\\d|5[0-8])\\d{7}|[2-9]\\d{5,7}",,,,,,,[6,7,8,9],[5]],[,,"(?:[26]1|3[289]|4[124678]|7[123]|8[1236])\\d{5,7}|(?:2(?:2[4568]|7[15]|9[1-5])|3(?:18|3[167]|4[2357]|51)|4(?:18|2[45]|3[12]|5[13]|64|71|9[1-47])|5(?:[1-4]\\d|5[0234])|6(?:3[1-3]|44|7[1-4678])|7(?:17|4[0-4]|6[1-578]|75|8[0-8])|858)\\d{5,6}",,,,"212345678",,,[7,8,9],[5,6]],[,,"9(?:51|6[129]|[78][1-6]|9[1-5])\\d{6}",,,,"961456789",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"8700[0-4]\\d{4}",,,,"870012345",,,[9]],"PY",595,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],[,"(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],[,"(\\d{3})(\\d{6})","$1 $2",["9[1-9]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["870","8700"]],[,"(\\d{3})(\\d{4,5})","$1 $2",["[2-8][1-9]"],"(0$1)"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8][1-9]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"[2-9]0\\d{4,7}",,,,"201234567"],,,[,,,,,,,,,[-1]]],QA:[,[,,"(?:(?:2|[3-7]\\d)\\d\\d|800)\\d{4}",,,,,,,[7,8]],[,,"4[04]\\d{6}",,,,"44123456",,,[8]],[,,"[3567]\\d{7}",,,,"33123456",,,[8]],[,,"800\\d{4}",,,,"8001234",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"QA",974,"00",,,,,,,,[[,"([28]\\d{2})(\\d{4})","$1 $2",["[28]"]],[,"([3-7]\\d{3})(\\d{4})","$1 $2",["[3-7]"]]],,[,,"2(?:[12]\\d|61)\\d{4}",,,,"2123456",,,[7]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],RE:[,[,,"(?:26|[68]\\d)\\d{7}",,,,,,,[9]],[,,"262\\d{6}",,,,"262161234"],[,,"69(?:2\\d{2}|3(?:0[0-46]|1[013]|2[0-2]|3[0-39]|4\\d|5[05]|6[0-26]|7[0-27]|8[0-38]|9[0-479]))\\d{4}",,,,"692123456"],[,,"80\\d{7}",,,,"801234567"],[,,"89[1-37-9]\\d{6}",,,,"891123456"],[,,"8(?:1[019]|2[0156]|84|90)\\d{6}",,,,"810123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"RE",262,"00","0",,,"0",,,,[[,"([268]\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[268]"],"0$1"]],,[,,,,,,,,,[-1]],1,"262|69|8",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],RO:[,[,,"(?:[237]\\d|[89]0)\\d{7}|[23]\\d{5}",,,,,,,[6,9]],[,,"2(?:1(?:\\d{7}|9\\d{3})|[3-6](?:\\d{7}|\\d9\\d{2}))|3(?:1\\d{4}(?:\\d{3})?|[3-6]\\d{7})",,,,"211234567"],[,,"7(?:[02-7]\\d{2}|1(?:[01]\\d|20)|8[03-8]\\d|99\\d)\\d{5}",,,,"712034567",,,[9]],[,,"800\\d{6}",,,,"800123456",,,[9]],[,,"90[036]\\d{6}",,,,"900123456",,,[9]],[,,"801\\d{6}",,,,"801123456",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"RO",40,"00","0"," int ",,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],[,"(\\d{2})(\\d{4})","$1 $2",["[23]1"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[23][3-7]|[7-9]"],"0$1"],[,"(2\\d{2})(\\d{3})","$1 $2",["2[3-6]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"37\\d{7}",,,,"372123456",,,[9]],,,[,,,,,,,,,[-1]]],RS:[,[,,"[127]\\d{6,11}|3(?:[0-79]\\d{5,10}|8(?:[02-9]\\d{4,9}|1\\d{4,5}))|6\\d{7,9}|800\\d{3,9}|90\\d{4,8}|7\\d{5}",,,,,,,[6,7,8,9,10,11,12],[5]],[,,"(?:1(?:[02-9][2-9]|1[1-9])\\d|2(?:[0-24-7][2-9]\\d|[389](?:0[2-9]|[2-9]\\d))|3(?:[0-8][2-9]\\d|9(?:[2-9]\\d|0[2-9])))\\d{3,8}",,,,"10234567",,,[7,8,9,10,11,12],[5,6]],[,,"6(?:[0-689]|7\\d)\\d{6,7}",,,,"601234567",,,[8,9,10]],[,,"800\\d{3,9}",,,,"80012345"],[,,"(?:90[0169]|78\\d)\\d{3,7}",,,,"90012345"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"RS",381,"00","0",,,"0",,,,[[,"([23]\\d{2})(\\d{4,9})","$1 $2",["(?:2[389]|39)0"],"0$1"],[,"([1-3]\\d)(\\d{5,10})","$1 $2",["1|2(?:[0-24-7]|[389][1-9])|3(?:[0-8]|9[1-9])"],"0$1"],[,"(6\\d)(\\d{6,8})","$1 $2",["6"],"0$1"],[,"([89]\\d{2})(\\d{3,9})","$1 $2",["[89]"],"0$1"],[,"(7[26])(\\d{4,9})","$1 $2",["7[26]"],"0$1"],[,"(7[08]\\d)(\\d{4,9})","$1 $2",["7[08]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"7[06]\\d{4,10}",,,,"700123456"],,,[,,,,,,,,,[-1]]],RU:[,[,,"[347-9]\\d{9}",,,,,,,[10]],[,,"(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15]|6[1-35-79]|7[1-37-9]))\\d{7}",,,,"3011234567"],[,,"9\\d{9}",,,,"9123456789"],[,,"80[04]\\d{7}",,,,"8001234567"],[,,"80[39]\\d{7}",,,,"8091234567"],[,,,,,,,,,[-1]],[,,"808\\d{7}",,,,"8081234567"],[,,,,,,,,,[-1]],"RU",7,"810","8",,,"8",,"8~10",,[[,"(\\d{3})(\\d{2})(\\d{2})","$1-$2-$3",["[1-79]"],"$1",,1],[,"([3489]\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[3489]"],"8 ($1)",,1],[,"(7\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",,1]],[[,"([3489]\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[3489]"],"8 ($1)",,1],[,"(7\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",,1]],[,,,,,,,,,[-1]],1,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],RW:[,[,,"(?:06|[27]\\d\\d|[89]00)\\d{6}",,,,,,,[8,9]],[,,"2[258]\\d{7}|06\\d{6}",,,,"250123456"],[,,"7[238]\\d{7}",,,,"720123456",,,[9]],[,,"800\\d{6}",,,,"800123456",,,[9]],[,,"900\\d{6}",,,,"900123456",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"RW",250,"00","0",,,"0",,,,[[,"(2\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],[,"([7-9]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"],[,"(0\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SA:[,[,,"(?:(?:[15]|8\\d)\\d|92)\\d{7}",,,,,,,[9,10],[7]],[,,"1(?:1\\d|2[24-8]|3[35-8]|4[3-68]|6[2-5]|7[235-7])\\d{6}",,,,"112345678",,,[9],[7]],[,,"(?:5(?:[013-689]\\d|7[0-36-8])|811\\d)\\d{6}",,,,"512345678"],[,,"800\\d{7}",,,,"8001234567",,,[10]],[,,,,,,,,,[-1]],[,,"92[05]\\d{6}",,,,"920012345",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"SA",966,"00","0",,,"0",,,,[[,"(1\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1[1-467]"],"0$1"],[,"(5\\d)(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],[,"(92\\d{2})(\\d{5})","$1 $2",["92"],"$1"],[,"(800)(\\d{3})(\\d{4})","$1 $2 $3",["800"],"$1"],[,"(811)(\\d{3})(\\d{3,4})","$1 $2 $3",["811"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SB:[,[,,"(?:[1-6]|[7-9]\\d\\d)\\d{4}",,,,,,,[5,7]],[,,"(?:1[4-79]|[23]\\d|4[0-2]|5[03]|6[0-37])\\d{3}",,,,"40123",,,[5]],[,,"48\\d{3}|7(?:30|[46-8]\\d|5[025-9]|9[0-5])\\d{4}|8[4-9]\\d{5}|9(?:1[2-9]|2[013-9]|3[0-2]|[46]\\d|5[0-46-9]|7[0-689]|8[0-79]|9[0-8])\\d{4}",,,,"7421234"],[,,"1[38]\\d{3}",,,,"18123",,,[5]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"5[12]\\d{3}",,,,"51123",,,[5]],"SB",677,"0[01]",,,,,,,,[[,"(\\d{2})(\\d{5})","$1 $2",["[7-9]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SC:[,[,,"(?:(?:(?:[24]\\d|64)\\d|971)\\d|8000)\\d{3}",,,,,,,[7]],[,,"4[2-46]\\d{5}",,,,"4217123"],[,,"2[5-8]\\d{5}",,,,"2510123"],[,,"8000\\d{3}",,,,"8000000"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"(?:64\\d|971)\\d{4}",,,,"6412345"],"SC",248,"0(?:[02]|10?)",,,,,,"00",,[[,"(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SD:[,[,,"[19]\\d{8}",,,,,,,[9]],[,,"1(?:5\\d|8[3567])\\d{6}",,,,"151231234"],[,,"(?:1[0-2]|9[0-3569])\\d{7}",,,,"911231234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"SD",249,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",,"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SE:[,[,,"(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|[27]\\d{5}",,,,,,,[6,7,8,9,10,12]],[,,"1(?:0[1-8]\\d{6}|[136]\\d{5,7}|(?:2[0-35]|4[0-4]|5[0-25-9]|7[13-6]|[89]\\d)\\d{5,6})|2(?:[136]\\d{5,7}|(?:2[0-7]|4[0136-8]|5[0138]|7[018]|8[01]|9[0-57])\\d{5,6})|3(?:[356]\\d{5,7}|(?:0[0-4]|1\\d|2[0-25]|4[056]|7[0-2]|8[0-3]|9[023])\\d{5,6})|4(?:[0246]\\d{5,7}|(?:1[013-8]|3[0135]|5[14-79]|7[0-246-9]|8[0156]|9[0-689])\\d{5,6})|5(?:0[0-6]|[15][0-5]|2[0-68]|3[0-4]|4\\d|6[03-5]|7[013]|8[0-79]|9[01])\\d{5,6}|6(?:[03]\\d{5,7}|(?:1[1-3]|2[0-4]|4[02-57]|5[0-37]|6[0-3]|7[0-2]|8[0247]|9[0-356])\\d{5,6})|8\\d{6,8}|9(?:0[1-9]\\d{4,6}|(?:1[0-68]|2\\d|3[02-5]|4[0-3]|5[0-4]|[68][01]|7[0135-8])\\d{5,6})",,,,"8123456",,,[7,8,9]],[,,"7[02369]\\d{7}",,,,"701234567",,,[9]],[,,"20\\d{4,7}",,,,"20123456",,,[6,7,8,9]],[,,"649\\d{6}|9(?:00|39|44)[1-8]\\d{3,6}",,,,"9001234567",,,[7,8,9,10]],[,,"77(?:0\\d{3}(?:\\d{3})?|[1-7]\\d{6})",,,,"771234567",,,[6,9]],[,,"75[1-8]\\d{6}",,,,"751234567",,,[9]],[,,,,,,,,,[-1]],"SE",46,"00","0",,,"0",,,,[[,"([1-469]\\d)(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1"],[,"(9[034]\\d)(\\d{4})","$1-$2",["9(?:00|39|44)"],"0$1"],[,"(8)(\\d{2,3})(\\d{2,3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1"],[,"([1-69]\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[013689]|2[0136]|3[1356]|4[0246]|54|6[03]|90"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[0-5]|4[0-3])"],"0$1"],[,"(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[0-5]|4[0-3])"],"0$1"],[,"(7\\d)(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["7"],"0$1"],[,"(77)(\\d{2})(\\d{2})","$1-$2$3",["77"],"0$1"],[,"(20)(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1"],[,"(9[034]\\d)(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9[034]"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["25[245]|67[3-6]"],"0$1"]],[[,"([1-469]\\d)(\\d{3})(\\d{2})","$1 $2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"]],[,"(9[034]\\d)(\\d{4})","$1 $2",["9(?:00|39|44)"]],[,"(8)(\\d{2,3})(\\d{2,3})(\\d{2})","$1 $2 $3 $4",["8"]],[,"([1-69]\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[013689]|2[0136]|3[1356]|4[0246]|54|6[03]|90"]],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[0-5]|4[0-3])"]],[,"(\\d{3})(\\d{2,3})(\\d{2})","$1 $2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[0-5]|4[0-3])"]],[,"(7\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7"]],[,"(77)(\\d{2})(\\d{2})","$1 $2 $3",["77"]],[,"(20)(\\d{2,3})(\\d{2})","$1 $2 $3",["20"]],[,"(9[034]\\d)(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["9[034]"]],[,"(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["25[245]|67[3-6]"]]],[,,"74[02-9]\\d{6}",,,,"740123456",,,[9]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,"(?:25[245]|67[3-6])\\d{9}",,,,"254123456789",,,[12]]],SG:[,[,,"(?:1\\d{3}|[369]|7000|8(?:\\d{2})?)\\d{7}",,,,,,,[8,10,11]],[,,"6[1-9]\\d{6}",,,,"61234567",,,[8]],[,,"(?:8[1-8]|9[0-8])\\d{6}",,,,"81234567",,,[8]],[,,"1?800\\d{7}",,,,"18001234567",,,[10,11]],[,,"1900\\d{7}",,,,"19001234567",,,[11]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"3[12]\\d{6}",,,,"31234567",,,[8]],"SG",65,"0[0-3]\\d",,,,,,,,[[,"([3689]\\d{3})(\\d{4})","$1 $2",["[369]|8[1-9]"]],[,"(1[89]00)(\\d{3})(\\d{4})","$1 $2 $3",["1[89]0","1[89]00"]],[,"(7000)(\\d{4})(\\d{3})","$1 $2 $3",["700","7000"]],[,"(800)(\\d{3})(\\d{4})","$1 $2 $3",["800"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"7000\\d{7}",,,,"70001234567",,,[11]],,,[,,,,,,,,,[-1]]],SH:[,[,,"(?:[256]\\d|8)\\d{3}",,,,,,,[4,5]],[,,"2(?:[0-57-9]\\d|6[4-9])\\d{2}",,,,"22158"],[,,"[56]\\d{4}",,,,"51234",,,[5]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"262\\d{2}",,,,"26212",,,[5]],"SH",290,"00",,,,,,,,,,[,,,,,,,,,[-1]],1,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SI:[,[,,"[1-8]\\d{7}|90\\d{4,6}|8\\d{4,6}",,,,,,,[5,6,7,8]],[,,"(?:1\\d|[25][2-8]|3[24-8]|4[24-8]|7[3-8])\\d{6}",,,,"11234567",,,[8],[7]],[,,"(?:[37][01]\\d|4[0139]\\d|51\\d|6(?:[48]\\d|5[15-7]|9[69]))\\d{5}",,,,"31234567",,,[8]],[,,"80\\d{4,6}",,,,"80123456",,,[6,7,8]],[,,"90\\d{4,6}|89[1-3]\\d{2,5}",,,,"90123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"(?:59|8[1-3])\\d{6}",,,,"59012345",,,[8]],"SI",386,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[12]|[34][24-8]|5[2-8]|7[3-8]"],"(0$1)"],[,"([3-7]\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],[,"([89][09])(\\d{3,6})","$1 $2",["[89][09]"],"0$1"],[,"([58]\\d{2})(\\d{5})","$1 $2",["59|8[1-3]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SJ:[,[,,"(?:0|(?:[4589]\\d|79)\\d\\d)\\d{4}",,,,,,,[5,8]],[,,"79\\d{6}",,,,"79123456",,,[8]],[,,"(?:4[015-8]|5[89]|9\\d)\\d{6}",,,,"41234567",,,[8]],[,,"80[01]\\d{5}",,,,"80012345",,,[8]],[,,"82[09]\\d{5}",,,,"82012345",,,[8]],[,,"810(?:0[0-6]|[2-8]\\d)\\d{3}",,,,"81021234",,,[8]],[,,"880\\d{5}",,,,"88012345",,,[8]],[,,"85[0-5]\\d{5}",,,,"85012345",,,[8]],"SJ",47,"00",,,,,,,,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"0\\d{4}|81(?:0(?:0[7-9]|1\\d)|5\\d{2})\\d{3}",,,,"01234"],,,[,,"81[23]\\d{5}",,,,"81212345",,,[8]]],SK:[,[,,"[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",,,,,,,[6,7,9]],[,,"2(?:1(?:6\\d{3,4}|7\\d{3})|[2-9]\\d{7})|[3-5][1-8](?:1(?:6\\d{2,3}|7\\d{3})|\\d{7})",,,,"221234567"],[,,"9(?:0(?:[1-8]\\d|9[1-9])|(?:1[0-24-9]|[45]\\d)\\d)\\d{5}",,,,"912123456",,,[9]],[,,"800\\d{6}",,,,"800123456",,,[9]],[,,"9(?:[78]\\d{7}|00\\d{6})",,,,"900123456",,,[9]],[,,"8[5-9]\\d{7}",,,,"850123456",,,[9]],[,,,,,,,,,[-1]],[,,"6(?:02|5[0-4]|9[0-6])\\d{6}",,,,"690123456",,,[9]],"SK",421,"00","0",,,"0",,,,[[,"(2)(1[67])(\\d{3,4})","$1 $2 $3",["21[67]"],"0$1"],[,"([3-5]\\d)(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5]"],"0$1"],[,"(2)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],[,"([3-5]\\d)(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"],[,"([689]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],[,"(9090)(\\d{3})","$1 $2",["909","9090"],"0$1"]],,[,,"9090\\d{3}",,,,"9090123",,,[7]],,,[,,"(?:602|8(?:00|[5-9]\\d)|9(?:00|[78]\\d))\\d{6}|9090\\d{3}",,,,,,,[7,9]],[,,"96\\d{7}",,,,"961234567",,,[9]],,,[,,,,,,,,,[-1]]],SL:[,[,,"(?:[2-578]\\d|66|99)\\d{6}",,,,,,,[8],[6]],[,,"[235]2[2-4][2-9]\\d{4}",,,,"22221234",,,,[6]],[,,"(?:2[15]|3[013-5]|4[04]|5[05]|66|7[5-9]|8[08]|99)\\d{6}",,,,"25123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"SL",232,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{6})","$1 $2",,"(0$1)"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SM:[,[,,"(?:0549|[5-7]\\d)\\d{6}",,,,,,,[8,10],[6]],[,,"0549(?:8[0157-9]|9\\d)\\d{4}",,,,"0549886377",,,[10],[6]],[,,"6[16]\\d{6}",,,,"66661212",,,[8]],[,,,,,,,,,[-1]],[,,"7[178]\\d{6}",,,,"71123456",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"5[158]\\d{6}",,,,"58001110",,,[8]],"SM",378,"00",,,,"([89]\\d{5})","0549$1",,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],[,"(0549)(\\d{6})","$1 $2",["054","0549"]],[,"(\\d{6})","0549 $1",["[89]"]]],[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],[,"(0549)(\\d{6})","($1) $2",["054","0549"]],[,"(\\d{6})","(0549) $1",["[89]"]]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SN:[,[,,"(?:[378]\\d{4}|93330)\\d{4}",,,,,,,[9]],[,,"3(?:0(?:1[0-2]|80)|282|3(?:8[1-9]|9[3-9])|611)\\d{5}",,,,"301012345"],[,,"7(?:[06-8]\\d|21|90)\\d{6}",,,,"701234567"],[,,"800\\d{6}",,,,"800123456"],[,,"88[4689]\\d{6}",,,,"884123456"],[,,"81[02468]\\d{6}",,,,"810123456"],[,,,,,,,,,[-1]],[,,"39[01]\\d{6}|3392\\d{5}|93330\\d{4}",,,,"933301234"],"SN",221,"00",,,,,,,,[[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SO:[,[,,"[346-9]\\d{8}|[12679]\\d{7}|(?:[1-4]\\d|59)\\d{5}|[1348]\\d{5}",,,,,,,[6,7,8,9]],[,,"(?:1\\d{1,2}|2[0-79]\\d|3[0-46-8]?\\d|4[0-7]?\\d|59\\d|8[125])\\d{4}",,,,"4012345",,,[6,7]],[,,"(?:15\\d|2(?:4\\d|8)|3[59]\\d{2}|4[89]\\d{2}|6[1-9]?\\d{2}|7(?:[1-8]\\d|9\\d{1,2})|8[08]\\d{2}|9(?:0[67]|[2-9])\\d)\\d{5}",,,,"71123456",,,[7,8,9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"SO",252,"00","0",,,"0",,,,[[,"(\\d{6})","$1",["[134]"]],[,"(\\d)(\\d{6})","$1 $2",["[13-5]|2[0-79]"]],[,"(\\d)(\\d{7})","$1 $2",["24|[67]"]],[,"(\\d{2})(\\d{4})","$1 $2",["8[125]"]],[,"(\\d{2})(\\d{5,7})","$1 $2",["15|28|6[1-35-9]|799|9[2-9]"]],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3[59]|4[89]|6[24-6]|79|8[08]|90"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SR:[,[,,"(?:[2-5]|68|[78]\\d)\\d{5}",,,,,,,[6,7]],[,,"(?:2[1-3]|3[0-7]|4\\d|5[2-58]|68\\d)\\d{4}",,,,"211234"],[,,"(?:7[124-7]|8[125-9])\\d{5}",,,,"7412345",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"56\\d{4}",,,,"561234",,,[6]],"SR",597,"00",,,,,,,,[[,"(\\d{3})(\\d{3})","$1-$2",["[2-4]|5[2-58]"]],[,"(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],[,"(\\d{3})(\\d{4})","$1-$2",["[6-8]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SS:[,[,,"[19]\\d{8}",,,,,,,[9]],[,,"18\\d{7}",,,,"181234567"],[,,"(?:12|9[1257])\\d{7}",,,,"977123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"SS",211,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",,"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],ST:[,[,,"(?:22|9\\d)\\d{5}",,,,,,,[7]],[,,"22\\d{5}",,,,"2221234"],[,,"9(?:0(?:0[5-9]|[1-9]\\d)|[89]\\d{2})\\d{3}",,,,"9812345"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"ST",239,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SV:[,[,,"[267]\\d{7}|[89]00\\d{4}(?:\\d{4})?",,,,,,,[7,8,11]],[,,"2[1-6]\\d{6}",,,,"21234567",,,[8]],[,,"[67]\\d{7}",,,,"70123456",,,[8]],[,,"800\\d{4}(?:\\d{4})?",,,,"8001234",,,[7,11]],[,,"900\\d{4}(?:\\d{4})?",,,,"9001234",,,[7,11]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"SV",503,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",["[267]"]],[,"(\\d{3})(\\d{4})","$1 $2",["[89]"]],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SX:[,[,,"(?:(?:[58]\\d\\d|900)\\d|7215)\\d{6}",,,,,,,[10],[7]],[,,"7215(?:4[2-8]|8[239]|9[056])\\d{4}",,,,"7215425678",,,,[7]],[,,"7215(?:1[02]|2\\d|5[034679]|8[014-8])\\d{4}",,,,"7215205678",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"SX",1,"011","1",,,"1",,,,,,[,,,,,,,,,[-1]],,"721",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SY:[,[,,"[1-39]\\d{8}|[1-5]\\d{7}",,,,,,,[8,9],[6,7]],[,,"(?:1(?:1\\d?|4\\d|[2356])|2(?:1\\d?|[235])|3(?:[13]\\d|4)|4[13]|5[1-3])\\d{6}",,,,"112345678",,,,[6,7]],[,,"9(?:22|[3-589]\\d|6[024-9])\\d{6}",,,,"944567890",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"SY",963,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-5]"],"0$1",,1],[,"(9\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1",,1]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SZ:[,[,,"(?:0800|(?:[237]\\d|900)\\d\\d)\\d{4}",,,,,,,[8,9]],[,,"[23][2-5]\\d{6}",,,,"22171234",,,[8]],[,,"7[6-9]\\d{6}",,,,"76123456",,,[8]],[,,"0800\\d{4}",,,,"08001234",,,[8]],[,,"900\\d{6}",,,,"900012345",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"70\\d{6}",,,,"70012345",,,[8]],"SZ",268,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",["[0237]"]],[,"(\\d{5})(\\d{4})","$1 $2",["900"]]],,[,,,,,,,,,[-1]],,,[,,"0800\\d{4}",,,,,,,[8]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TA:[,[,,"8\\d{3}",,,,,,,[4]],[,,"8\\d{3}",,,,"8999"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"TA",290,"00",,,,,,,,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TC:[,[,,"(?:[58]\\d\\d|649|900)\\d{7}",,,,,,,[10],[7]],[,,"649(?:712|9(?:4\\d|50))\\d{4}",,,,"6497121234",,,,[7]],[,,"649(?:2(?:3[129]|4[1-7])|3(?:3[1-389]|4[1-8])|4[34][1-3])\\d{4}",,,,"6492311234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002345678"],[,,"900[2-9]\\d{6}",,,,"9002345678"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,"64971[01]\\d{4}",,,,"6497101234",,,,[7]],"TC",1,"011","1",,,"1",,,,,,[,,,,,,,,,[-1]],,"649",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TD:[,[,,"(?:22|[69]\\d|77)\\d{6}",,,,,,,[8]],[,,"22(?:[3789]0|5[0-5]|6[89])\\d{4}",,,,"22501234"],[,,"(?:6[023568]\\d|77\\d|9\\d{2})\\d{5}",,,,"63012345"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"TD",235,"00|16",,,,,,"00",,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TG:[,[,,"[279]\\d{7}",,,,,,,[8]],[,,"2(?:2[2-7]|3[23]|4[45]|55|6[67]|77)\\d{5}",,,,"22212345"],[,,"(?:7[09]|9[0-36-9])\\d{6}",,,,"90112345"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"TG",228,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TH:[,[,,"(?:1\\d\\d?|[2-57]|[689]\\d)\\d{7}",,,,,,,[8,9,10]],[,,"(?:2\\d|3[2-9]|4[2-5]|5[2-6]|7[3-7])\\d{6}",,,,"21234567",,,[8]],[,,"(?:14|6[1-6]|[89]\\d)\\d{7}",,,,"812345678",,,[9]],[,,"1800\\d{6}",,,,"1800123456",,,[10]],[,,"1900\\d{6}",,,,"1900123456",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"6[08]\\d{7}",,,,"601234567",,,[9]],"TH",66,"00[1-9]","0",,,"0",,,,[[,"(2)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],[,"([13-9]\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["14|[3-9]"],"0$1"],[,"(1[89]00)(\\d{3})(\\d{3})","$1 $2 $3",["1[89]0","1[89]00"],"$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TJ:[,[,,"(?:[3-59]\\d|77|88)\\d{7}",,,,,,,[9],[3,5,7]],[,,"(?:3(?:1[3-5]|2[245]|3[12]|4[24-7]|5[25]|72)|4(?:46|74|87))\\d{6}",,,,"372123456",,,,[3,5,7]],[,,"(?:41[18]|(?:5[05]|77|88|9[0-35-9])\\d)\\d{6}",,,,"917123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"TJ",992,"810","8",,,"8",,"8~10",,[[,"([349]\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[34]7|91[78]"],,,1],[,"([457-9]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[148]|[578]|9(?:[0235-9]|1[59])"],,,1],[,"(331700)(\\d)(\\d{2})","$1 $2 $3",["331","3317","33170","331700"],,,1],[,"(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3[1-5]","3(?:[1245]|3(?:[02-9]|1[0-589]))"],,,1]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TK:[,[,,"[2-47]\\d{3,6}",,,,,,,[4,5,6,7]],[,,"(?:2[2-4]|[34]\\d)\\d{2,5}",,,,"3101"],[,,"7[2-4]\\d{2,5}",,,,"7290"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"TK",690,"00",,,,,,,,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TL:[,[,,"(?:[2-4]\\d|7\\d\\d?|[89]0)\\d{5}",,,,,,,[7,8]],[,,"(?:2[1-5]|3[1-9]|4[1-4])\\d{5}",,,,"2112345",,,[7]],[,,"7[3-8]\\d{6}",,,,"77212345",,,[8]],[,,"80\\d{5}",,,,"8012345",,,[7]],[,,"90\\d{5}",,,,"9012345",,,[7]],[,,,,,,,,,[-1]],[,,"70\\d{5}",,,,"7012345",,,[7]],[,,,,,,,,,[-1]],"TL",670,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],[,"(\\d{4})(\\d{4})","$1 $2",["7[3-8]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TM:[,[,,"[1-6]\\d{7}",,,,,,,[8]],[,,"(?:1(?:2\\d|3[1-9])|2(?:22|4[0-35-8])|3(?:22|4[03-9])|4(?:22|3[128]|4\\d|6[15])|5(?:22|5[7-9]|6[014-689]))\\d{5}",,,,"12345678"],[,,"6[1-9]\\d{6}",,,,"66123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"TM",993,"810","8",,,"8",,"8~10",,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],[,"(\\d{2})(\\d{6})","$1 $2",["6"],"8 $1"],[,"(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["13|[2-5]"],"(8 $1)"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TN:[,[,,"[2-57-9]\\d{7}",,,,,,,[8]],[,,"(?:3[0-2]\\d{3}|7\\d{4}|81200)\\d{3}",,,,"30010123"],[,,"(?:[259]\\d{3}|3(?:001|1(?:[1-35]\\d|40)|240|6[0-4]\\d|91\\d)|4[0-6]\\d{2})\\d{4}",,,,"20123456"],[,,"8010\\d{4}",,,,"80101234"],[,,"88\\d{6}",,,,"88123456"],[,,"8[12]10\\d{4}",,,,"81101234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"TN",216,"00",,,,,,,,[[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TO:[,[,,"(?:(?:080|[56])0|[2-4]\\d|[78]\\d(?:\\d{2})?)\\d{3}",,,,,,,[5,7]],[,,"(?:2\\d|3[1-8]|4[1-4]|[56]0|7[0149]|8[05])\\d{3}",,,,"20123",,,[5]],[,,"(?:7[578]|8[46-9])\\d{5}",,,,"7715123",,,[7]],[,,"0800\\d{3}",,,,"0800222",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"TO",676,"00",,,,,,,,[[,"(\\d{2})(\\d{3})","$1-$2",["[1-6]|7[0-4]|8[05]"]],[,"(\\d{3})(\\d{4})","$1 $2",["7[5-9]|8[46-9]"]],[,"(\\d{4})(\\d{3})","$1 $2",["0"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TR:[,[,,"(?:[2-58]\\d\\d|900)\\d{7}|4\\d{6}",,,,,,,[7,10]],[,,"(?:2(?:[13][26]|[28][2468]|[45][268]|[67][246])|3(?:[13][28]|[24-6][2468]|[78][02468]|92)|4(?:[16][246]|[23578][2468]|4[26]))\\d{7}",,,,"2123456789",,,[10]],[,,"5(?:(?:0[15-7]|1[06]|24|[34]\\d|5[1-59]|9[46])\\d{2}|6161)\\d{5}",,,,"5012345678",,,[10]],[,,"800\\d{7}",,,,"8001234567",,,[10]],[,,"(?:8[89]8|900)\\d{7}",,,,"9001234567",,,[10]],[,,,,,,,,,[-1]],[,,"592(?:21[12]|461)\\d{4}",,,,"5922121234",,,[10]],[,,,,,,,,,[-1]],"TR",90,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[23]|4(?:[0-35-9]|4[0-35-9])"],"(0$1)",,1],[,"(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[02-69]|1[06])"],"0$1",,1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["51|[89]"],"0$1",,1],[,"(444)(\\d{1})(\\d{3})","$1 $2 $3",["444"],,,1]],,[,,"512\\d{7}",,,,"5123456789",,,[10]],,,[,,"444\\d{4}",,,,,,,[7]],[,,"444\\d{4}|850\\d{7}",,,,"4441444"],,,[,,,,,,,,,[-1]]],TT:[,[,,"(?:[58]\\d\\d|900)\\d{7}",,,,,,,[10],[7]],[,,"868(?:2(?:01|[23]\\d)|6(?:0[7-9]|1[02-8]|2[1-9]|[3-69]\\d|7[0-79])|82[124])\\d{4}",,,,"8682211234",,,,[7]],[,,"868(?:2(?:6[6-9]|[789]\\d)|3(?:0[1-9]|1[02-9]|[2-9]\\d)|4[6-9]\\d|6(?:20|78|8\\d)|7(?:0[1-9]|1[02-9]|[2-9]\\d))\\d{4}",,,,"8682911234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002345678"],[,,"900[2-9]\\d{6}",,,,"9002345678"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"TT",1,"011","1",,,"1",,,,,,[,,,,,,,,,[-1]],,"868",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,"868619\\d{4}",,,,"8686191234",,,,[7]]],TV:[,[,,"(?:2|7\\d\\d|90)\\d{4}",,,,,,,[5,6,7]],[,,"2[02-9]\\d{3}",,,,"20123",,,[5]],[,,"(?:7[01]\\d|90)\\d{4}",,,,"901234",,,[6,7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"TV",688,"00",,,,,,,,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TW:[,[,,"(?:[24589]|7\\d)\\d{8}|[2-8]\\d{7}|2\\d{6}",,,,,,,[7,8,9,10]],[,,"(?:2(?:[235-8]\\d{3}|4\\d{2,3})|3[2-9]\\d{2}|4(?:[239]\\d|[78])\\d{2}|5[2-8]\\d{2}|6[235-79]\\d{2}|7[1-9]\\d{2}|8(?:2(?:3\\d|66)|[7-9]\\d{2}))\\d{4}",,,,"221234567",,,[8,9]],[,,"9[0-8]\\d{7}",,,,"912345678",,,[9]],[,,"80[0-79]\\d{6}",,,,"800123456",,,[9]],[,,"20(?:2|[013-9]\\d{2})\\d{4}",,,,"203123456",,,[7,9]],[,,,,,,,,,[-1]],[,,"99\\d{7}",,,,"990123456",,,[9]],[,,"70\\d{8}",,,,"7012345678",,,[10]],"TW",886,"0(?:0[25679]|19)","0","#",,"0",,,,[[,"(20)(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],[,"([258]0)(\\d{3})(\\d{4})","$1 $2 $3",["20[013-9]|50[0-46-9]|80[0-79]"],"0$1"],[,"([2-8])(\\d{3,4})(\\d{4})","$1 $2 $3",["[25][2-8]|[346]|[78][1-9]"],"0$1"],[,"(9\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],[,"(70)(\\d{4})(\\d{4})","$1 $2 $3",["70"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"50[0-46-9]\\d{6}",,,,"500123456",,,[9]],,,[,,,,,,,,,[-1]]],TZ:[,[,,"(?:[26-8]\\d|41|90)\\d{7}",,,,,,,[9]],[,,"2[2-8]\\d{7}",,,,"222345678"],[,,"(?:6[2-9]|7[13-9])\\d{7}",,,,"621234567"],[,,"80[08]\\d{6}",,,,"800123456"],[,,"90\\d{7}",,,,"900123456"],[,,"8(?:40|6[01])\\d{6}",,,,"840123456"],[,,,,,,,,,[-1]],[,,"41\\d{7}",,,,"412345678"],"TZ",255,"00[056]","0",,,"0",,,,[[,"([24]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],[,"([67]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"],[,"([89]\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,"(?:8(?:[04]0|6[01])|90\\d)\\d{6}"],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],UA:[,[,,"[3-9]\\d{8}",,,,,,,[9],[5,6,7]],[,,"(?:3[1-8]|4[13-8]|5[1-7]|6[12459])\\d{7}",,,,"311234567",,,,[5,6,7]],[,,"(?:39|50|6[36-8]|7[1-3]|9[1-9])\\d{7}",,,,"391234567"],[,,"800\\d{6}",,,,"800123456"],[,,"900[2-49]\\d{5}",,,,"900212345"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"89[1-579]\\d{6}",,,,"891234567"],"UA",380,"00","0",,,"0",,"0~0",,[[,"([3-9]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[38]9|4(?:[45][0-5]|87)|5(?:0|[67][37])|6[36-8]|7|9[1-9]","[38]9|4(?:[45][0-5]|87)|5(?:0|6(?:3[14-7]|7)|7[37])|6[36-8]|7|9[1-9]"],"0$1"],[,"([3-689]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["(?:3[1-8]|4[136-8])2|5(?:[12457]2|6[24])|6(?:[12][29]|[49]2|5[24])|8[0-8]|90","3(?:[1-46-8]2[013-9]|52)|4(?:[1378]2|62[013-9])|5(?:[12457]2|6[24])|6(?:[12][29]|[49]2|5[24])|8[0-8]|90"],"0$1"],[,"([3-6]\\d{3})(\\d{5})","$1 $2",["3(?:[1-46-8]|5[013-9])|4(?:[137][013-9]|[45][6-9]|6|8[4-6])|5(?:[1245][013-9]|3|6[0135689]|7[4-6])|6(?:[12][13-8]|[49][013-9]|5[0135-9])","3(?:[1-46-8](?:[013-9]|22)|5[013-9])|4(?:[137][013-9]|[45][6-9]|6(?:[013-9]|22)|8[4-6])|5(?:[1245][013-9]|3|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][13-8]|[49][013-9]|5[0135-9])"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],UG:[,[,,"(?:(?:[29]0|[347]\\d)\\d|800)\\d{6}",,,,,,,[9],[5,6,7]],[,,"20(?:[0147]\\d{3}|2(?:40|[5-9]\\d)\\d|3(?:0[0-4]|[2367]\\d)\\d|5[0-4]\\d{2}|6(?:00[0-2]|30[0-4]|[5-9]\\d{2})|8[0-2]\\d{2})\\d{3}|[34]\\d{8}",,,,"312345678",,,,[5,6,7]],[,,"7(?:[09][0-7]\\d|[1578]\\d{2}|2(?:[03]\\d|60)|30\\d|4[0-4]\\d)\\d{5}",,,,"712345678"],[,,"800[123]\\d{5}",,,,"800123456"],[,,"90[123]\\d{6}",,,,"901123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"UG",256,"00[057]","0",,,"0",,,,[[,"(\\d{3})(\\d{6})","$1 $2",["20[0-8]|4(?:6[45]|[7-9])|[7-9]","20(?:[013-8]|2[5-9])|4(?:6[45]|[7-9])|[7-9]"],"0$1"],[,"(\\d{2})(\\d{7})","$1 $2",["3|4(?:[1-5]|6[0-36-9])"],"0$1"],[,"(2024)(\\d{5})","$1 $2",["202","2024"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],US:[,[,,"[2-9]\\d{9}",,,,,,,[10],[7]],[,,"(?:2(?:0[1-35-9]|1[02-9]|2[03-589]|3[149]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-57-9]|1[02-9]|2[0135]|3[0-24679]|4[67]|5[12]|6[014]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[0235]|58|6[39]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[19]|6[1-47]|7[013-5]|8[056])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[16]|5[017]|6[0-279]|78|8[012])|7(?:0[1-46-8]|1[2-9]|2[04-7]|3[1247]|4[037]|5[47]|6[02359]|7[02-59]|8[156])|8(?:0[1-68]|1[02-8]|2[08]|3[0-258]|4[3578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[014678]|4[0179]|5[12469]|7[0-3589]|8[04-69]))[2-9]\\d{6}",,,,"2015550123",,,,[7]],[,,"(?:2(?:0[1-35-9]|1[02-9]|2[03-589]|3[149]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-57-9]|1[02-9]|2[0135]|3[0-24679]|4[67]|5[12]|6[014]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[0235]|58|6[39]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[19]|6[1-47]|7[013-5]|8[056])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[16]|5[017]|6[0-279]|78|8[012])|7(?:0[1-46-8]|1[2-9]|2[04-7]|3[1247]|4[037]|5[47]|6[02359]|7[02-59]|8[156])|8(?:0[1-68]|1[02-8]|2[08]|3[0-258]|4[3578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[014678]|4[0179]|5[12469]|7[0-3589]|8[04-69]))[2-9]\\d{6}",,,,"2015550123",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002345678"],[,,"900[2-9]\\d{6}",,,,"9002345678"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"US",1,"011","1",,,"1",,,1,[[,"(\\d{3})(\\d{4})","$1-$2",,,,1],[,"(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",,,,1]],[[,"(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3"]],[,,,,,,,,,[-1]],1,,[,,,,,,,,,[-1]],[,,"710[2-9]\\d{6}",,,,"7102123456"],,,[,,,,,,,,,[-1]]],UY:[,[,,"(?:[249]\\d\\d|80)\\d{5}|9\\d{6}",,,,,,,[7,8]],[,,"2\\d{7}|4[2-7]\\d{6}",,,,"21231234",,,[8],[7]],[,,"9[1-9]\\d{6}",,,,"94231234",,,[8]],[,,"80[05]\\d{4}",,,,"8001234",,,[7]],[,,"90[0-8]\\d{4}",,,,"9001234",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"UY",598,"0(?:1[3-9]\\d|0)","0"," int. ",,"0",,"00",,[[,"(\\d{4})(\\d{4})","$1 $2",["[24]"]],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9[1-9]"],"0$1"],[,"(\\d{3})(\\d{4})","$1 $2",["[89]0"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],UZ:[,[,,"[679]\\d{8}",,,,,,,[9],[7]],[,,"(?:6(?:1(?:22|3[124]|4[1-4]|5[123578]|64)|2(?:22|3[0-57-9]|41)|5(?:22|3[3-7]|5[024-8])|6\\d{2}|7(?:[23]\\d|7[69])|9(?:22|4[1-8]|6[135]))|7(?:0(?:5[4-9]|6[0146]|7[12456]|9[135-8])|1[12]\\d|2(?:22|3[1345789]|4[123579]|5[14])|3(?:2\\d|3[1578]|4[1-35-7]|5[1-57]|61)|4(?:2\\d|3[1-579]|7[1-79])|5(?:22|5[1-9]|6[1457])|6(?:22|3[12457]|4[13-8])|9(?:22|5[1-9])))\\d{5}",,,,"669050123",,,,[7]],[,,"6(?:1(?:2(?:98|2[01])|35[0-4]|50\\d|61[23]|7(?:[01][017]|4\\d|55|9[5-9]))|2(?:11\\d|2(?:[12]1|9[01379])|5(?:[126]\\d|3[0-4])|7\\d{2})|5(?:19[01]|2(?:27|9[26])|30\\d|59\\d|7\\d{2})|6(?:2(?:1[5-9]|2[0367]|38|41|52|60)|3[79]\\d|4(?:56|83)|7(?:[07]\\d|1[017]|3[07]|4[047]|5[057]|67|8[0178]|9[79])|9[0-3]\\d)|7(?:2(?:24|3[237]|4[5-9]|7[15-8])|5(?:7[12]|8[0589])|7(?:0\\d|[39][07])|9(?:0\\d|7[079]))|9(?:2(?:1[1267]|5\\d|3[01]|7[0-4])|5[67]\\d|6(?:2[0-26]|8\\d)|7\\d{2}))\\d{4}|7(?:0\\d{3}|1(?:13[01]|6(?:0[47]|1[67]|66)|71[3-69]|98\\d)|2(?:2(?:2[79]|95)|3(?:2[5-9]|6[0-6])|57\\d|7(?:0\\d|1[17]|2[27]|3[37]|44|5[057]|66|88))|3(?:2(?:1[0-6]|21|3[469]|7[159])|33\\d|5(?:0[0-4]|5[579]|9\\d)|7(?:[0-3579]\\d|4[0467]|6[67]|8[078])|9[4-6]\\d)|4(?:2(?:29|5[0257]|6[0-7]|7[1-57])|5(?:1[0-4]|8\\d|9[5-9])|7(?:0\\d|1[024589]|2[0127]|3[0137]|[46][07]|5[01]|7[5-9]|9[079])|9(?:7[015-9]|[89]\\d))|5(?:112|2(?:0\\d|2[29]|[49]4)|3[1568]\\d|52[6-9]|7(?:0[01578]|1[017]|[23]7|4[047]|[5-7]\\d|8[78]|9[079]))|6(?:2(?:2[1245]|4[2-4])|39\\d|41[179]|5(?:[349]\\d|5[0-2])|7(?:0[017]|[13]\\d|22|44|55|67|88))|9(?:22[128]|3(?:2[0-4]|7\\d)|57[05629]|7(?:2[05-9]|3[37]|4\\d|60|7[2579]|87|9[07])))\\d{4}|9[0-57-9]\\d{7}",,,,"912345678"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"UZ",998,"810","8",,,"8",,"8~10",,[[,"([679]\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[679]"],"8 $1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],VA:[,[,,"0\\d{6}(?:\\d{4})?|3[0-8]\\d{9}|(?:[0138]\\d?|55)\\d{8}|[08]\\d{5}(?:\\d{2})?",,,,,,,[6,7,8,9,10,11]],[,,"06698\\d{1,6}",,,,"0669812345"],[,,"3(?:1\\d{8}|[245-9]\\d{7,8}|3\\d{7,9})",,,,"3123456789",,,[9,10,11]],[,,"80(?:0\\d{6}|3\\d{3})",,,,"800123456",,,[6,9]],[,,"0878\\d{5}|1(?:44|6[346])\\d{6}|89(?:2\\d{3}|4(?:[0-4]\\d{2}|[5-9]\\d{4})|5(?:[0-4]\\d{2}|[5-9]\\d{6})|9\\d{6})",,,,"899123456",,,[6,8,9,10]],[,,"84(?:[08]\\d{6}|[17]\\d{3})",,,,"848123456",,,[6,9]],[,,"1(?:78\\d|99)\\d{6}",,,,"1781234567",,,[9,10]],[,,"55\\d{8}",,,,"5512345678",,,[10]],"VA",39,"00",,,,,,,,,,[,,,,,,,,,[-1]],,,[,,"848\\d{6}",,,,,,,[9]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],VC:[,[,,"(?:[58]\\d\\d|784|900)\\d{7}",,,,,,,[10],[7]],[,,"784(?:266|3(?:6[6-9]|7\\d|8[0-24-6])|4(?:38|5[0-36-8]|8[0-8])|5(?:55|7[0-2]|93)|638|784)\\d{4}",,,,"7842661234",,,,[7]],[,,"784(?:4(?:3[0-5]|5[45]|89|9[0-8])|5(?:2[6-9]|3[0-4]))\\d{4}",,,,"7844301234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002345678"],[,,"900[2-9]\\d{6}",,,,"9002345678"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"VC",1,"011","1",,,"1",,,,,,[,,,,,,,,,[-1]],,"784",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],VE:[,[,,"(?:(?:[24]\\d|50)\\d|[89]00)\\d{7}",,,,,,,[10],[7]],[,,"(?:2(?:12|3[457-9]|[58][1-9]|[467]\\d|9[1-6])|50[01])\\d{7}",,,,"2121234567",,,,[7]],[,,"4(?:1[24-8]|2[46])\\d{7}",,,,"4121234567"],[,,"800\\d{7}",,,,"8001234567"],[,,"900\\d{7}",,,,"9001234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"VE",58,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{7})","$1-$2",,"0$1","$CC $1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],VG:[,[,,"(?:284|[58]\\d\\d|900)\\d{7}",,,,,,,[10],[7]],[,,"284(?:(?:229|4(?:22|9[45])|774|8(?:52|6[459]))\\d{4}|496[0-5]\\d{3})",,,,"2842291234",,,,[7]],[,,"284(?:(?:3(?:0[0-3]|4[0-7]|68|9[34])|4(?:4[0-6]|68|99)|54[0-57])\\d{4}|496[6-9]\\d{3})",,,,"2843001234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002345678"],[,,"900[2-9]\\d{6}",,,,"9002345678"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"VG",1,"011","1",,,"1",,,,,,[,,,,,,,,,[-1]],,"284",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],VI:[,[,,"(?:(?:34|90)0|[58]\\d\\d)\\d{7}",,,,,,,[10],[7]],[,,"340(?:2(?:01|2[0678]|44|77)|3(?:32|44)|4(?:22|7[34])|5(?:1[34]|55)|6(?:26|4[23]|77|9[023])|7(?:1[2-57-9]|27|7\\d)|884|998)\\d{4}",,,,"3406421234",,,,[7]],[,,"340(?:2(?:01|2[0678]|44|77)|3(?:32|44)|4(?:22|7[34])|5(?:1[34]|55)|6(?:26|4[23]|77|9[023])|7(?:1[2-57-9]|27|7\\d)|884|998)\\d{4}",,,,"3406421234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002345678"],[,,"900[2-9]\\d{6}",,,,"9002345678"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"VI",1,"011","1",,,"1",,,1,,,[,,,,,,,,,[-1]],,"340",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],VN:[,[,,"[12]\\d{9}|(?:[19]\\d|8[0-35-9])\\d{7}|1\\d{7}|69\\d{5,6}|(?:[18]\\d\\d|799)\\d{4}",,,,,,,[7,8,9,10]],[,,"2(?:0[3-9]|1[0-689]|2[0-25-9]|3[2-9]|4[2-8]|5[124-9]|6[0-39]|7[0-7]|8[2-7]|9[0-4679])\\d{7}",,,,"2101234567",,,[9,10]],[,,"(?:1(?:2\\d|6[2-9]|8[68]|99)\\d|8(?:6[689]|8\\d|9[89])|9(?:[0-8]\\d|9[013-9]))\\d{6}",,,,"912345678",,,[9,10]],[,,"1800\\d{4,6}",,,,"1800123456",,,[8,9,10]],[,,"1900\\d{4,6}",,,,"1900123456",,,[8,9,10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"992\\d{6}",,,,"992012345",,,[9]],"VN",84,"00","0",,,"0",,,,[[,"([17]99)(\\d{4})","$1 $2",["[17]99"],"0$1",,1],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",,1],[,"(80)(\\d{5})","$1 $2",["80"],"0$1",,1],[,"(69\\d)(\\d{4,5})","$1 $2",["69"],"0$1",,1],[,"(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2[0-35-79]"],"0$1",,1],[,"([89]\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8(?:8|9[89])|9"],"0$1",,1],[,"(1[2689]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1(?:[26]|8[68]|99)"],"0$1",,1],[,"(86[689])(\\d{3})(\\d{3})","$1 $2 $3",["86[689]"],"0$1",,1],[,"(1[89]00)(\\d{4,6})","$1 $2",["1[89]0","1[89]00"],"$1",,1]],,[,,,,,,,,,[-1]],,,[,,"[17]99\\d{4}|69\\d{5,6}",,,,,,,[7,8]],[,,"[17]99\\d{4}|69\\d{5,6}|80\\d{5}",,,,"1992000",,,[7,8]],,,[,,,,,,,,,[-1]]],VU:[,[,,"(?:(?:[23]|[57]\\d\\d|900)\\d|[48]8)\\d{3}",,,,,,,[5,7]],[,,"(?:2[02-9]\\d|3(?:[5-7]\\d|8[0-8])|48[4-9]|88\\d)\\d{2}",,,,"22123",,,[5]],[,,"(?:5(?:7[2-5]|[0-689]\\d)|7[013-7]\\d)\\d{4}",,,,"5912345",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"VU",678,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[579]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"3[03]\\d{3}|900\\d{4}",,,,"30123"],,,[,,,,,,,,,[-1]]],WF:[,[,,"(?:[45]0|68|72|8\\d)\\d{4}",,,,,,,[6]],[,,"(?:50|68|72)\\d{4}",,,,"501234"],[,,"(?:50|68|72|8[23])\\d{4}",,,,"501234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"WF",681,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,"[48]0\\d{4}",,,,"401234"]],WS:[,[,,"(?:[2-6]|8\\d(?:\\d{4})?)\\d{4}|[78]\\d{6}",,,,,,,[5,6,7,10]],[,,"(?:[2-5]\\d|6[1-9])\\d{3}",,,,"22123",,,[5]],[,,"(?:7[25-7]|8(?:[3-7]|9\\d{3}))\\d{5}",,,,"7212345",,,[7,10]],[,,"800\\d{3}",,,,"800123",,,[6]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"WS",685,"0",,,,,,,,[[,"(8\\d{2})(\\d{3,7})","$1 $2",["8"]],[,"(7\\d)(\\d{5})","$1 $2",["7"]],[,"(\\d{5})","$1",["[2-6]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],XK:[,[,,"(?:[23]\\d{2,3}|4\\d\\d|[89]00)\\d{5}",,,,,,,[8,9]],[,,"(?:2[89]0?|3(?:8|90?))\\d{6}",,,,"28012345"],[,,"4[3-79]\\d{6}",,,,"43201234",,,[8]],[,,"800\\d{5}",,,,"80001234",,,[8]],[,,"900\\d{5}",,,,"90001234",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"XK",383,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[23][89]|4[3-79]"],"0$1"],[,"(\\d{3})(\\d{5})","$1 $2",["[89]00"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",,"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],YE:[,[,,"(?:1|7\\d)\\d{7}|[1-7]\\d{6}",,,,,,,[7,8,9],[6]],[,,"(?:1(?:7\\d|[2-68])|2[2-68]|3[2358]|4[2-58]|5[2-6]|6[3-58]|7[24-68])\\d{5}",,,,"1234567",,,[7,8],[6]],[,,"7[0137]\\d{7}",,,,"712345678",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"YE",967,"00","0",,,"0",,,,[[,"([1-7])(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7[24-68]"],"0$1"],[,"(7\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["7[0137]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],YT:[,[,,"(?:(?:26|63)9|80\\d)\\d{6}",,,,,,,[9]],[,,"269(?:0[67]|5[01]|6\\d|[78]0)\\d{4}",,,,"269601234"],[,,"639(?:0[0-79]|1[019]|[267]\\d|3[09]|[45]0|9[04-79])\\d{4}",,,,"639012345"],[,,"80\\d{7}",,,,"801234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"YT",262,"00","0",,,"0",,,,,,[,,,,,,,,,[-1]],,"269|63",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],ZA:[,[,,"[1-9]\\d{8}|8\\d{4,7}",,,,,,,[5,6,7,8,9]],[,,"(?:1[0-8]|2[1-378]|3[1-69]|4\\d|5[1346-8])\\d{7}",,,,"101234567",,,[9]],[,,"(?:6\\d|7[0-46-9])\\d{7}|8(?:[1-4]\\d{1,5}|5\\d{5})\\d{2}",,,,"711234567"],[,,"80\\d{7}",,,,"801234567",,,[9]],[,,"86[2-9]\\d{6}|9[0-2]\\d{7}",,,,"862345678",,,[9]],[,,"860\\d{6}",,,,"860123456",,,[9]],[,,,,,,,,,[-1]],[,,"87\\d{7}",,,,"871234567",,,[9]],"ZA",27,"00","0",,,"0",,,,[[,"(860)(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],[,"(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-79]|8(?:[0-57]|6[1-9])"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"861\\d{6}",,,,"861123456",,,[9]],,,[,,,,,,,,,[-1]]],ZM:[,[,,"(?:(?:21|9\\d)\\d|800)\\d{6}",,,,,,,[9],[6,7]],[,,"21[1-8]\\d{6}",,,,"211234567",,,,[6,7]],[,,"9[4-9]\\d{7}",,,,"955123456"],[,,"800\\d{6}",,,,"800123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"ZM",260,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{4})","$1 $2",,"$1"],[,"([1-8])(\\d{2})(\\d{4})","$1 $2 $3",["[1-8]"],"$1"],[,"([29]\\d)(\\d{7})","$1 $2",["[29]"],"0$1"],[,"(800)(\\d{3})(\\d{3})","$1 $2 $3",["800"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],ZW:[,[,,"2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{7})|(?:[38]\\d|7)\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",,,,,,,[5,6,7,8,9,10],[3,4]],[,,"(?:2(?:0(?:4\\d|5\\d{2})|2[278]\\d|48\\d|7(?:[1-7]\\d|[089]\\d{2})|8(?:[2-57-9]|[146]\\d{2})|98)|3(?:08|17|3[78]|7(?:[19]|[56]\\d)|8[37]|98)|5[15][78]|6(?:28\\d{2}|37|6[78]|75\\d|98|8(?:7\\d|8)))\\d{3}|(?:2(?:1[39]|2[0157]|31|[56][14]|7[35]|84)|329)\\d{7}|(?:1(?:3\\d{2}|[4-8]|9\\d)|2(?:0\\d{2}|12|292|[569]\\d)|3(?:[26]|[013459]\\d)|5(?:0|1[2-4]|26|[37]2|5\\d{2}|[689]\\d)|6(?:[39]|[01246]\\d|[78]\\d{2}))\\d{3}|(?:29\\d|39|54)\\d{6}|(?:(?:25|54)83\\d|2582\\d{2}|65[2-8])\\d{2}|(?:4\\d{6,7}|9[2-9]\\d{4,5})",,,,"1312345",,,,[3,4]],[,,"(?:7(?:1\\d|3[2-9]|7[1-9]|8[2-5])|8644)\\d{6}",,,,"712345678",,,[9,10]],[,,"80(?:[01]\\d|20|8[0-8])\\d{3}",,,,"8001234",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"86(?:1[12]|30|55|77|8[368])\\d{6}",,,,"8686123456",,,[10]],"ZW",263,"00","0",,,"0",,,,[[,"([49])(\\d{3})(\\d{2,4})","$1 $2 $3",["4|9[2-9]"],"0$1"],[,"(7\\d)(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],[,"(86\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["86[24]"],"0$1"],[,"([2356]\\d{2})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8|[78])|3(?:[09]8|17|3[78]|7[1569]|8[37])|5[15][78]|6(?:[29]8|37|[68][78]|75)"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|31|[56][14]|7[35]|84)|329"],"0$1"],[,"([1-356]\\d)(\\d{3,5})","$1 $2",["1[3-9]|2[02569]|3[0-69]|5[05689]|6"],"0$1"],[,"([235]\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[23]9|54"],"0$1"],[,"([25]\\d{3})(\\d{3,5})","$1 $2",["(?:25|54)8","258[23]|5483"],"0$1"],[,"(8\\d{3})(\\d{6})","$1 $2",["86"],"0$1"],[,"(80\\d)(\\d{4})","$1 $2",["80"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],800:[,[,,"\\d{8}",,,,,,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"\\d{8}",,,,"12345678"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"001",800,,,,,,,,1,[[,"(\\d{4})(\\d{4})","$1 $2"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],808:[,[,,"\\d{8}",,,,,,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"\\d{8}",,,,"12345678"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"001",808,,,,,,,,1,[[,"(\\d{4})(\\d{4})","$1 $2"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],870:[,[,,"[35-7]\\d{8}",,,,,,,[9]],[,,,,,,,,,[-1]],[,,"(?:[356]\\d|7[6-8])\\d{7}",,,,"301234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"001",870,,,,,,,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],878:[,[,,"10\\d{10}",,,,,,,[12]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"10\\d{10}",,,,"101234567890"],"001",878,,,,,,,,1,[[,"(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],881:[,[,,"[67]\\d{8}",,,,,,,[9]],[,,,,,,,,,[-1]],[,,"[67]\\d{8}",,,,"612345678"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"001",881,,,,,,,,,[[,"(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[67]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],882:[,[,,"[13]\\d{6}(?:\\d{2,5})?|1\\d{7}",,,,,,,[7,8,9,10,11,12]],[,,,,,,,,,[-1]],[,,"3(?:2\\d{3}|37\\d{2}|4(?:2|7\\d{3}))\\d{4}",,,,"3421234",,,[7,9,10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15678]|9[0689])\\d{4}|6\\d{5,10})|3(?:45|9\\d{3})\\d{7}",,,,"390123456789"],"001",882,,,,,,,,,[[,"(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],[,"(\\d{2})(\\d{5})","$1 $2",["16|342"]],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["34[57]"]],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["348"]],[,"(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1"]],[,"(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],[,"(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["16|39"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,"348[57]\\d{7}",,,,"34851234567",,,[11]]],883:[,[,,"51\\d{7}(?:\\d{3})?",,,,,,,[9,12]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"51(?:00\\d{5}(?:\\d{3})?|[13]0\\d{8})",,,,"510012345"],"001",883,,,,,,,,1,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],[,"(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["510"]],[,"(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],888:[,[,,"\\d{11}",,,,,,,[11]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"001",888,,,,,,,,1,[[,"(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"\\d{11}",,,,"12345678901"],,,[,,,,,,,,,[-1]]],979:[,[,,"\\d{9}",,,,,,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"\\d{9}",,,,"123456789"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"001",979,,,,,,,,1,[[,"(\\d)(\\d{4})(\\d{4})","$1 $2 $3"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]]};function j(){this.a={}}j.c=void 0,j.a=function(){return j.c?j.c:j.c=new j};var U={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"},R={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",A:"2",B:"2",C:"2",D:"3",E:"3",F:"3",G:"4",H:"4",I:"4",J:"5",K:"5",L:"5",M:"6",N:"6",O:"6",P:"7",Q:"7",R:"7",S:"7",T:"8",U:"8",V:"8",W:"9",X:"9",Y:"9",Z:"9"},q=/^[+\uff0b]+/,Y=/([0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9])/,J=/[+\uff0b0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]/,W=/[\\\/] *x/,V=/[^0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9A-Za-z#]+$/,X=/(?:.*?[A-Za-z]){3}.*/,K=/(?:;ext=([0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]{1,7})|[ \u00a0\t,]*(?:e?xt(?:ensi(?:o\u0301?|\u00f3))?n?|\uff45?\uff58\uff54\uff4e?|[;,x\uff58#\uff03~\uff5e]|int|anexo|\uff49\uff4e\uff54)[:\.\uff0e]?[ \u00a0\t,-]*([0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]{1,7})#?|[- ]+([0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]{1,5})#)$/i,Q=/^[0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]{2}$|^[+\uff0b]*(?:[-x\u2010-\u2015\u2212\u30fc\uff0d-\uff0f \u00a0\u00ad\u200b\u2060\u3000()\uff08\uff09\uff3b\uff3d.\[\]/~\u2053\u223c\uff5e*]*[0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]){3,}[-x\u2010-\u2015\u2212\u30fc\uff0d-\uff0f \u00a0\u00ad\u200b\u2060\u3000()\uff08\uff09\uff3b\uff3d.\[\]/~\u2053\u223c\uff5e*A-Za-z0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]*(?:;ext=([0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]{1,7})|[ \u00a0\t,]*(?:e?xt(?:ensi(?:o\u0301?|\u00f3))?n?|\uff45?\uff58\uff54\uff4e?|[;,x\uff58#\uff03~\uff5e]|int|anexo|\uff49\uff4e\uff54)[:\.\uff0e]?[ \u00a0\t,-]*([0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]{1,7})#?|[- ]+([0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]{1,5})#)?$/i,Z=/(\$\d)/;function ee(e){return!(2>e.length)&&we(Q,e)}function te(e){return we(X,e)?oe(e,R):oe(e,U)}function ie(e){var t=te(e.toString());e.c="",e.a(t)}function ae(e){return null!=e&&(1!=w(e,9)||-1!=$(e,9)[0])}function oe(e,t){for(var i,a=new P,o=e.length,s=0;s<o;++s)null!=(i=t[(i=e.charAt(s)).toUpperCase()])&&a.a(i);return a.toString()}function se(e){return null!=e&&isNaN(e)&&e.toUpperCase()in B}function re(e,t,i){if(0==v(t,2)&&null!=t.a[5]){var a=y(t,5);if(0<a.length)return a}a=y(t,1);var o=de(t);if(0==i)return ce(a,0,o,"");if(!(a in H))return o;e=ne(e,a,_e(a)),t=null!=t.a[3]&&0!=v(t,3).length?3==i?";ext="+v(t,3):null!=e.a[13]?v(e,13)+y(t,3):" ext. "+y(t,3):"";e:{for(var s,r=(e=0==$(e,20).length||2==i?$(e,19):$(e,20)).length,n=0;n<r;++n){var d=w(s=e[n],3);if((0==d||0==o.search(v(s,3,d-1)))&&we(d=new RegExp(v(s,1)),o)){e=s;break e}}e=null}return null!=e&&(e=y(r=e,2),s=new RegExp(v(r,1)),y(r,5),r=y(r,4),o=2==i&&null!=r&&0<r.length?o.replace(s,e.replace(Z,r)):o.replace(s,e),3==i&&(o=(o=o.replace(/^[-x\u2010-\u2015\u2212\u30fc\uff0d-\uff0f \u00a0\u00ad\u200b\u2060\u3000()\uff08\uff09\uff3b\uff3d.\[\]/~\u2053\u223c\uff5e]+/,"")).replace(/[-x\u2010-\u2015\u2212\u30fc\uff0d-\uff0f \u00a0\u00ad\u200b\u2060\u3000()\uff08\uff09\uff3b\uff3d.\[\]/~\u2053\u223c\uff5e]+/g,"-"))),ce(a,i,o,t)}function ne(e,t,i){return me(e,"001"==i?""+t:i)}function de(e){if(null==e.a[2])return"";var t=""+v(e,2);return null!=e.a[4]&&v(e,4)&&0<y(e,8)?Array(y(e,8)+1).join("0")+t:t}function ce(e,t,i,a){switch(t){case 0:return"+"+e+i+a;case 1:return"+"+e+" "+i+a;case 3:return"tel:+"+e+"-"+i+a;default:return i+a}}function le(e,t){switch(t){case 4:return v(e,5);case 3:return v(e,4);case 1:return v(e,3);case 0:case 2:return v(e,2);case 5:return v(e,6);case 6:return v(e,8);case 7:return v(e,7);case 8:return v(e,21);case 9:return v(e,25);case 10:return v(e,28);default:return v(e,1)}}function pe(e,t){return ue(e,v(t,1))?ue(e,v(t,5))?4:ue(e,v(t,4))?3:ue(e,v(t,6))?5:ue(e,v(t,8))?6:ue(e,v(t,7))?7:ue(e,v(t,21))?8:ue(e,v(t,25))?9:ue(e,v(t,28))?10:ue(e,v(t,2))?v(t,18)||ue(e,v(t,3))?2:0:!v(t,18)&&ue(e,v(t,3))?1:-1:-1}function me(e,t){if(null==t)return null;t=t.toUpperCase();var i=e.a[t];if(null==i){if(null==(i=B[t]))return null;i=(new x).a(D.f(),i),e.a[t]=i}return i}function ue(e,t){var i=e.length;return!(0<w(t,9)&&-1==o($(t,9),i))&&we(y(t,2),e)}function ge(e,t){if(null==t)return null;var i=y(t,1);if(null==(i=H[i]))e=null;else if(1==i.length)e=i[0];else e:{t=de(t);for(var a,o=i.length,s=0;s<o;s++){var r=me(e,a=i[s]);if(null!=r.a[23]){if(0==t.search(v(r,23))){e=a;break e}}else if(-1!=pe(t,r)){e=a;break e}}e=null}return e}function _e(e){return null==(e=H[e])?"ZZ":e[0]}function fe(e,t,i,a){var r=le(i,a),n=0==w(r,9)?$(v(i,1),9):$(r,9);if(r=$(r,10),2==a){if(!ae(le(i,0)))return fe(e,t,i,1);ae(e=le(i,1))&&(s(n=n.concat(0==w(e,9)?$(v(i,1),9):$(e,9))),0==r.length?r=$(e,10):s(r=r.concat($(e,10))))}return-1==n[0]?5:(t=t.length,-1<o(r,t)?4:(i=n[0])==t?0:i>t?2:n[n.length-1]<t?3:-1<o(n,t,1)?0:5)}function he(e,t){var i=de(t);return(t=y(t,1))in H?fe(e,i,t=ne(e,t,_e(t)),-1):1}function be(e,t,i,a,o,s){if(0==t.length)return 0;var r;t=new P(t),null!=i&&(r=v(i,11)),null==r&&(r="NonMatch");var n=t.toString();if(0==n.length)r=20;else if(q.test(n))n=n.replace(q,""),t.c="",t.a(te(n)),r=1;else{if(n=new RegExp(r),ie(t),0==(r=t.toString()).search(n)){n=r.match(n)[0].length;var d=r.substring(n).match(Y);d&&null!=d[1]&&0<d[1].length&&"0"==oe(d[1],U)?r=!1:(t.c="",t.a(r.substring(n)),r=!0)}else r=!1;r=r?5:20}if(o&&S(s,6,r),20!=r){if(2>=t.c.length)throw Error("Phone number too short after IDD");e:{if(0!=(e=t.toString()).length&&"0"!=e.charAt(0))for(o=e.length,t=1;3>=t&&t<=o;++t)if((i=parseInt(e.substring(0,t),10))in H){a.a(e.substring(t)),a=i;break e}a=0}if(0!=a)return S(s,1,a),a;throw Error("Invalid country calling code")}return null!=i&&(n=""+(r=y(i,10)),0==(d=t.toString()).lastIndexOf(n,0)&&(n=new P(d.substring(n.length)),d=v(i,1),d=new RegExp(y(d,2)),ve(n,i,null),n=n.toString(),!we(d,t.toString())&&we(d,n)||3==fe(e,t.toString(),i,-1)))?(a.a(n),o&&S(s,6,10),S(s,1,r),r):(S(s,1,0),0)}function ve(e,t,i){var a=e.toString(),o=a.length,s=v(t,15);if(0!=o&&null!=s&&0!=s.length){var r=new RegExp("^(?:"+s+")");if(o=r.exec(a)){var n=we(s=new RegExp(y(v(t,1),2)),a),d=o.length-1;null==(t=v(t,16))||0==t.length||null==o[d]||0==o[d].length?n&&!we(s,a.substring(o[0].length))||(null!=i&&0<d&&null!=o[d]&&i.a(o[1]),e.set(a.substring(o[0].length))):(a=a.replace(r,t),(!n||we(s,a))&&(null!=i&&0<d&&i.a(o[1]),e.set(a)))}}}function ye(e,t,i){if(!se(i)&&0<t.length&&"+"!=t.charAt(0))throw Error("Invalid country calling code");return $e(e,t,i,!0)}function $e(e,t,i,a){if(null==t)throw Error("The string supplied did not seem to be a phone number");if(250<t.length)throw Error("The string supplied is too long to be a phone number");var o=new P,s=t.indexOf(";phone-context=");if(0<=s){var r=s+15;if("+"==t.charAt(r)){var n=t.indexOf(";",r);0<n?o.a(t.substring(r,n)):o.a(t.substring(r))}r=t.indexOf("tel:"),o.a(t.substring(0<=r?r+4:0,s))}else o.a(function(e){var t=e.search(J);return 0<=t?0<=(t=(e=(e=e.substring(t)).replace(V,"")).search(W))&&(e=e.substring(0,t)):e="",e}(t));if(0<(r=(s=o.toString()).indexOf(";isub="))&&(o.c="",o.a(s.substring(0,r))),!ee(o.toString()))throw Error("The string supplied did not seem to be a phone number");if(s=o.toString(),!(se(i)||null!=s&&0<s.length&&q.test(s)))throw Error("Invalid country calling code");s=new G,a&&S(s,5,t);e:{if(0<=(r=(t=o.toString()).search(K))&&ee(t.substring(0,r)))for(var d=(n=t.match(K)).length,c=1;c<d;++c)if(null!=n[c]&&0<n[c].length){o.c="",o.a(t.substring(0,r)),t=n[c];break e}t=""}0<t.length&&S(s,3,t),r=me(e,i),t=new P,n=0,d=o.toString();try{n=be(e,d,r,t,a,s)}catch(i){if("Invalid country calling code"!=i.message||!q.test(d))throw i;if(0==(n=be(e,d=d.replace(q,""),r,t,a,s)))throw i}if(0!=n?(o=_e(n))!=i&&(r=ne(e,n,o)):(ie(o),t.a(o.toString()),null!=i?S(s,1,n=y(r,10)):a&&(delete s.a[6],s.c&&delete s.c[6])),2>t.c.length)throw Error("The string supplied is too short to be a phone number");if(null!=r&&(i=new P,ve(o=new P(t.toString()),r,i),2!=(e=fe(e,o.toString(),r,-1))&&4!=e&&5!=e&&(t=o,a&&0<i.toString().length&&S(s,7,i.toString()))),2>(e=(a=t.toString()).length))throw Error("The string supplied is too short to be a phone number");if(17<e)throw Error("The string supplied is too long to be a phone number");if(1<a.length&&"0"==a.charAt(0)){for(S(s,4,!0),e=1;e<a.length-1&&"0"==a.charAt(e);)e++;1!=e&&S(s,8,e)}return S(s,2,parseInt(a,10)),s}function we(e,t){return!(!(e="string"==typeof e?t.match("^(?:"+e+")$"):t.match(e))||e[0].length!=t.length)}i("intlTelInputUtils",{}),i("intlTelInputUtils.formatNumber",(function(e,t,i){try{var a=j.a(),o=ye(a,e,t),s=he(a,o);return 0==s||4==s?re(a,o,void 0===i?0:i):e}catch(t){return e}})),i("intlTelInputUtils.getExampleNumber",(function(e,t,i){try{var a=j.a();e:{if(se(e)){var o=le(me(a,e),i);try{if(null!=o.a[6]){var s=$e(a,v(o,6),e,!1);break e}}catch(e){}}s=null}return re(a,s,t?2:1)}catch(e){return""}})),i("intlTelInputUtils.getExtension",(function(e,t){try{return v(ye(j.a(),e,t),3)}catch(e){return""}})),i("intlTelInputUtils.getNumberType",(function(e,t){try{var i=j.a(),a=ye(i,e,t),o=ge(i,a),s=ne(i,y(a,1),o);if(null==s)var r=-1;else r=pe(de(a),s);return r}catch(e){return-99}})),i("intlTelInputUtils.getValidationError",(function(e,t){try{var i=j.a();return he(i,ye(i,e,t))}catch(e){return"Invalid country calling code"==e.message?1:"The string supplied did not seem to be a phone number"==e.message?4:"Phone number too short after IDD"==e.message||"The string supplied is too short to be a phone number"==e?2:"The string supplied is too long to be a phone number"==e.message?3:-99}})),i("intlTelInputUtils.isValidNumber",(function(e,t){try{var i,a=j.a(),o=ye(a,e,t),s=ge(a,o),r=y(o,1),n=ne(a,r,s);if(!(i=null==n)){var d;if(d="001"!=s){var c=me(a,s);if(null==c)throw Error("Invalid region code: "+s);d=r!=y(c,10)}i=d}if(i)var l=!1;else l=-1!=pe(de(o),n);return l}catch(e){return!1}})),i("intlTelInputUtils.numberFormat",{E164:0,INTERNATIONAL:1,NATIONAL:2,RFC3966:3}),i("intlTelInputUtils.numberType",{FIXED_LINE:0,MOBILE:1,FIXED_LINE_OR_MOBILE:2,TOLL_FREE:3,PREMIUM_RATE:4,SHARED_COST:5,VOIP:6,PERSONAL_NUMBER:7,PAGER:8,UAN:9,VOICEMAIL:10,UNKNOWN:-1}),i("intlTelInputUtils.validationError",{IS_POSSIBLE:0,INVALID_COUNTRY_CODE:1,TOO_SHORT:2,TOO_LONG:3,NOT_A_NUMBER:4})}();var validate={checkIfValidString:function(e){return typeof e==/^[A-Za-z]+$/},checkIfValidNumber:function(e){return/^[0-9]+$/.test(e)},checkIfValidEmail:function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},checkIfIntelValidPhoneNumber:function(e){return e.intlTelInput("isValidNumber")},checkIfValidMobileNumber:function(e){return/^([0|\+[0-9]{1,5})?([7-9][0-9]{9})$/.test(e)},checkIfAlphanumeric:function(e){return/^[0-9a-zA-Z]+$/.test(e)},checkIfAlpha:function(e){return/^[a-zA-Z-,]+(\s{0,1}[a-zA-Z-, ])*$/.test(e)},checkIfValidUrl:function(e){return/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/.test(e)}};let api_update_app_session=config.api.core+"/api/jeevi/update_app_session",idle_app=!0;function updateAppSession(e){var t={device_id:crossplat.device.uuid,app:"digibiz"};fetch.apiCall((function(t,i,a){e(i)}),api_update_app_session,"POST","JSON",t)}$((function(){setInterval((function(){idle_app||updateAppSession((function(e){"success"==e&&(idle_app=!0)}))}),6e4),$(this).on("mousemove keypress click scroll",(function(e){idle_app=!1}))}));let sockets={coreSocket:io(`${config.api.socket}/core`,{transports:["websocket"]}),digibizSocket:io(`${config.api.socket}/digibiz`,{transports:["websocket"]}),searchSocket:io(`${config.api.search}/search`,{transports:["websocket"]}),coreSearchSocket:io(`${config.api.core_search}/search`,{transports:["websocket"]}),requestParams:{device_id:crossplat.device.uuid},init:function(){fetch.apiCall((function(e,t,i){"success"===t?document.dispatchEvent(new CustomEvent("loggedin_socket")):sockets.digibizSocket.emit("joinroom",crossplat.device.uuid)}),api.get_session,"POST","JSON",this.requestParams)},appInit:function(e){e.data.app!=config.app_name&&crossplat.device.uuid==e.data.device.id&&setTimeout((function(){deviceHelper.navigateToAccounts("core")}),1e3)},logout:function(e){console.log("logout",e.data);let t=e.data.device_id;crossplat.device.uuid==t&&(sockets.digibizSocket.emit("leaveroom",sessionStorage.getItem("socketID")),sockets.digibizSocket.emit("joinroom",crossplat.device.uuid),sessionStorage.clear(),setTimeout((function(){deviceHelper.navigateToAccounts("core")}),1e3))},renderSearchResult:function(e){removeLoader();let t=$("body").attr("app"),i=document.querySelector(".expand-search-input"),a=$("#department-wise-employees-list-modal").find(".expand-search-input"),o=$("#modal-communication-group-activate-employee-group-employee-list-selection").find(".expand-search-input"),s=$("#modal-collaborator-group-business-members").find(".expand-search-input"),r=$("#modal-collaborator-group-owner-business-employee-selection").find(".expand-search-input"),n=$("#group-member-search-modal").find(".expand-search-input"),d=$("#modal-communication-group-employee-group-selection").find(".expand-search-input"),c=$("#modal-communication-group-collaborator-group-selection").find(".expand-search-input"),l=$("#modal-communication-group-customer-group-selection").find(".expand-search-input"),p=$("#modal-communication-group-employees-selection").find(".expand-search-input"),m=$("#modal-communication-group-customer-contact-list-selection").find(".expand-search-input"),u=$("#modal-communication-group-moderator-selection").find(".expand-search-input"),g=$("#modal-communication-group-create-employee-group-employee-list-selection").find(".expand-search-input"),_=$("#modal-collaborator-group-owner-business-employee-selection").find(".expand-search-input");switch(t){case"module_admin_list":$("#modal-module-admin-add-employee-selection").length>0&&e.socketid==i.getAttribute("socketid")&&processSearchedEmployeeSelectionList(e.data,(function(e){}));break;case"business_settings":$("#modal-digibiz-admin-add-employee-selection").length>0&&e.socketid==i.getAttribute("socketid")&&processSearchedEmployeeSelectionList(e.data,(function(e){}));break;case"super_admin_management_hub":$("#modal-super-admin-add-employee-selection").length>0&&e.socketid==i.getAttribute("socketid")&&processSearchedEmployeeSelectionList(e.data,(function(e){}));break;case"collaborator_add":e.socketid==i.getAttribute("socketid")&&(digibiz.collboratorContactAdd={},processSearchedCollaboratorAddSearchListPage(e.data,(function(e){})));break;case"business_owner_business_list":e.socketid==i.getAttribute("socketid")&&processSearchedBusinessOwnerBusinessListPage(e.data,(function(e){}));break;case"employee_business_list":e.socketid==i.getAttribute("socketid")&&processSearchedEmployeeBusinessListPage(e.data,(function(e){}));break;case"customer_business_list":e.socketid==i.getAttribute("socketid")&&processSearchedCustomerBusinessListPage(e.data,(function(e){}));break;case"department_management":e.socketid==i.getAttribute("socketid")&&processSearchedDepartmentListPage(e.data,(function(e){}));break;case"employee_creation_list":e.socketid==i.getAttribute("socketid")&&("employee_active"==sessionStorage.getItem("selected-employee-tab")?processSearchedEmployeeCreationActivePage(e.data,(function(e){})):"employee_pending"==sessionStorage.getItem("selected-employee-tab")&&processSearchedEmployeeCreationPendingPage(e.data,(function(e){})));break;case"employee_create":e.socketid==i.getAttribute("socketid")&&$("#assign-employee-department-modal").length>0&&processSearchedEmployeeCreatDepartmentList(e.data,(function(e){}));break;case"employee_contact_list":e.socketid!=i.getAttribute("socketid")&&e.socketid!=a.attr("socketid")||("all_employees"==sessionStorage.getItem("selected-employee-contact-list-type-tab")?processSearchedEmployeeContactListAllEmployeePage(e.data,(function(){})):"department_wise"==sessionStorage.getItem("selected-employee-contact-list-type-tab")&&$("#department-wise-employees-list-modal").length>0&&processSearchedEmployeeCreatDepartmentList(e.data,(function(){})));break;case"employee_access_list":e.socketid==i.getAttribute("socketid")&&processSearchedEmployeeAccessListPage(e.data,(function(e){}));break;case"employee_types":e.socketid==i.getAttribute("socketid")&&processSearchedEmployeeTypesListPage(e.data,(function(e){}));break;case"employee_category":e.socketid==i.getAttribute("socketid")&&processSearchedEmployeeCategoryListPage(e.data,(function(e){}));break;case"employee_designation":e.socketid==i.getAttribute("socketid")&&processSearchedEmployeeDesignationListPage(e.data,(function(e){}));break;case"employee_group_creation_list":e.socketid!=i.getAttribute("socketid")&&e.socketid!=o.attr("socketid")||("standard"==sessionStorage.getItem("selected-employee-group-list-type-tab")?$("#modal-communication-group-activate-employee-group-employee-list-selection").length>0?processSearchedEmployeeStandardGroupNewModeratorAddSearchResult(e.data,(function(){})):processSearchedStandardEmployeeGroupsList(e.data,(function(){})):$("#modal-communication-group-activate-employee-group-employee-list-selection").length>0?processSearchedCommunicationGroupActivateEmployeeGroupEmployeeList(e.data,e.data[0].group_data,(function(){})):processSearchedCustomEmployeeGroupsList(e.data,(function(){})));break;case"employee_group_create":e.socketid!=i.getAttribute("socketid")&&e.socketid!=o.attr("socketid")||("standard"==sessionStorage.getItem("selected-employee-group-list-type-tab")?$("#modal-communication-group-activate-employee-group-employee-list-selection").length>0?processSearchedEmployeeStandardGroupNewModeratorAddSearchResult(e.data,(function(){})):$("#group-member-search-modal").length>0&&processSearchedEmployeeStandardGroupMember(e.data,(function(){})):$("#modal-communication-group-activate-employee-group-employee-list-selection").length>0?(e.data[0].group_data.custom_group_from,processSearchedCommunicationGroupActivateEmployeeGroupEmployeeList(e.data,e.data[0].group_data,(function(){}))):$("#modal-employee-selection").length>0?processSearchedEmployeeGroupEmployeeSelectionList(e.data,(function(){listenForSearchedEmployeeGroupEmployeeSelectionListScrollEvent($(".modal-popup-content"))})):$("#modal-standard-employee-group-selection").length>0?processSearchedEmployeeGroupStandardGroupSelectionList(e.data,(function(){})):$("#group-member-search-modal").length>0&&processSearchedEmployeeStandardGroupMember(e.data,(function(){})));break;case"employee_access_list":e.socketid==i.getAttribute("socketid")&&processSearchedEmployeeAccessList(e.data,(function(){}));break;case"customer_identifiers_list":e.socketid==i.getAttribute("socketid")&&("customer"==sessionStorage.getItem("selected-customer-identifier-tab")?processSearchedCustomerIdentifierTabPage(e.data,(function(e){})):"associate_customer"==sessionStorage.getItem("selected-customer-identifier-tab")&&processSearchedAssociateCustomerIdentifierTabPage(e.data,(function(e){})));break;case"customer_creation_identifiers_list":e.socketid==i.getAttribute("socketid")&&("customer_active"==sessionStorage.getItem("selected-customer-tab")?processSearchedCustomerIdentifiersActiveCustomerCreationList(e.data,(function(){})):processSearchedCustomerIdentifiersPendingCustomerCreationList(e.data,(function(){})));break;case"customer_creation_active_list":e.socketid==i.getAttribute("socketid")&&processSearchedActiveCustomersListPage(e.data,(function(e){}));break;case"customer_creation_pending_list":e.socketid==i.getAttribute("socketid")&&processSearchedPendingCustomersListPage(e.data,(function(e){}));break;case"customer_contacts_identifiers_list":e.socketid==i.getAttribute("socketid")&&processSearchedCustomerContactsIdentifiersList(e.data,(function(e){}));break;case"customer_contacts_items_list":e.socketid==i.getAttribute("socketid")&&processSearchedCustomerContactsItemsList(e.data,(function(e){}));break;case"customer_contact_list":e.socketid==i.getAttribute("socketid")&&processSearchedCustomerContactList(e.data,(function(){}));break;case"customer_groups_identifiers_list":e.socketid==i.getAttribute("socketid")&&("standard"==sessionStorage.getItem("selected-customer-group-type-tab")?processSearchedStandardCustomerGroupsIdentifiersList(e.data,(function(){})):processSearchedCustomerCustomGroupList(e.data,(function(){})));break;case"customer_groups_list":processSearchedCustomerGroupList(e.data,(function(){}));break;case"customer_access_identifiers":processSearchedCustomerAccessIdentifiersList(e.data,(function(){}));break;case"customer_access_identifiers_items":processSearchedCustomerAccessIdentifierItemsList(e.data,(function(){}));break;case"communication_groups":$("#modal-communication-group-moderator-selection").length>0?processSearchedCommunicationGroupActivate(e.data,"contact_list",(function(){})):processSearchedCommunicationGroupsList(e.data,(function(){}));break;case"collaborator_contact_list":"active_collaborator"==sessionStorage.getItem("selected-collaborator-tab")?processSearchedActiveCollaboratorContactList(e.data,(function(){})):"pending_collaborator"==sessionStorage.getItem("selected-collaborator-tab")&&processSearchedPendingCollaboratorContactList(e.data,(function(){}));break;case"collaborator_groups_list":"my_group_collaborator"==sessionStorage.getItem("selected-collaborator-tab")?processSearchedCollaboratorGroupsList(e.data,(function(){})):processSearchedOtherCollaboratorGroupsList(e.data,(function(){}));break;case"digibiz_logs":processSearchedLogsList(e.data,(function(){}));break;case"business_notifications":processSearchedBusinessNotificationsList(e.data,(function(){}));break;case"customer_groups_details":e.socketid==i.getAttribute("socketid")&&("custom"==sessionStorage.getItem("selected-customer-group-type-tab")?($("#modal-customer-group-contact-list-selection").length>0&&processSearchedCustomerGroupContactsList(e.data,(function(){})),$("#modal-customer-group-groups-list-selection").length>0&&processSearchedCustomerGroupCustomGroupList(e.data,(function(){})),$("#group-member-search-modal").length>0&&processSearchedEmployeeStandardGroupMember(e.data,(function(){}))):$("#group-member-search-modal").length>0&&processSearchedEmployeeStandardGroupMember(e.data,(function(){})));break;case"collaborator_group_details":e.socketid!=i.getAttribute("socketid")&&e.socketid!=s.attr("socketid")&&e.socketid!=r.attr("socketid")||($("#group-member-search-modal").length>0&&processSearchedGroupBusinessMemberSearch(e.data,(function(){})),$("#modal-collaborator-group-business-members").length>0&&processSearchedShowEmployeesCollaboratorGroupBusinessMembers(e.data,(function(){})),$("#modal-collaborator-group-owner-business-employee-selection").length>0&&processSearchedCollaboratorGroupOwnerBusinessEmployeeSelection(e.data,(function(){})));break;case"communication_group_details":e.socketid!=n.attr("socketid")&&e.socketid!=d.attr("socketid")&&e.socketid!=c.attr("socketid")&&e.socketid!=l.attr("socketid")&&e.socketid!=p.attr("socketid")&&e.socketid!=m.attr("socketid")&&e.socketid!=u.attr("socketid")&&e.socketid!=g.attr("socketid")||($("#group-member-search-modal").length>0&&processSearchedEmployeeStandardGroupMember(e.data,(function(){})),$("#group-moderator-search-btn").length>0&&processSearchedCommunicationGroupActivate(e.data,'"contact_list"',(function(){})),$("#modal-communication-group-employee-group-selection").length>0&&(e.data=e.data.filter((e=>"Super Admin"!=e.name)),processSearchedCommunicationGroupCreateEmployeeGroupsList(e.data,(function(){}))),$("#modal-communication-group-collaborator-group-selection").length>0&&processSearchedCommunicationGroupCreateCollaboratorGroupsList(e.data,(function(){})),$("#modal-communication-group-customer-group-selection").length>0&&processSearchedCommunicationGroupCreateCustomerGroupsList(e.data,(function(){})),$("#modal-communication-group-employees-selection").length>0&&processSearchedCommunicationGroupCreateEmployeeSelectionList(e.data,(function(){})),$("#modal-communication-group-customer-contact-list-selection").length>0&&processSearchedCommunicationGroupContactListCustomerList(e.data,(function(){})),$("#modal-communication-group-moderator-selection").length>0&&processSearchedCommunicationGroupActivate(e.data,"contact_list",(function(){})),$("#modal-communication-group-create-employee-group-employee-list-selection").length>0&&("customer_group"==$("#modal-communication-group-create-employee-group-employee-list-selection").attr("data-group-type")?processSearchedCommunicationGroupCreateCustomerGroupCustomerList(e.data,(function(){})):processSearchedCommunicationGroupCreateEmployeeGroupEmployeeList(e.data,(function(){}))));break;case"collaborator_group_create":$("#group-moderator-search-btn").length>0&&processSearchedCommunicationGroupActivate(e.data,(function(){}));break;case"collaborator_group_create":e.socketid==_.attr("socketid")&&$("#modal-collaborator-group-owner-business-employee-selection").length>0&&processSearchedEmployeeGroupEmployeeSelectionList(e.data,(function(){}));break;case"customer_creation":"customer_pending"==$(".tab.active").attr("data-id")&&$("#choose-customer-identifier-modal").length>0&&processSearchedChooseCustomerIdentifierList(e.data,(function(){}))}},renderRolesSearchResult:function(e){let t=document.querySelector("#get-roles-list-search.expand-search-input");e.socketid==t.getAttribute("socketid")&&processSearchedGetRoleslist(e.data,(function(e){removeLoader()}))},businessCreate:function(e){(businessAdminBusinessListHelperMethod(),"business_owner_business_list"==$("body").attr("app"))&&businessList({device_id:crossplat.device.uuid,list_by:"my_business"}).then((e=>{digibiz.business_owner_business_list=[],processBusinessOwnerBusinessList(e,(function(){}))})).catch((e=>{}))},businessUpdate:function(e){("self-verified"==e.data.status.status&&(businessAdminBusinessListHelperMethod(),employeeBusinessListHelperMethod(),customerBusinessListHelperMethod(),associateCustomerModuleListHelperMethod()),"business_owner_business_list"==$("body").attr("app"))&&businessList({device_id:crossplat.device.uuid,list_by:"my_business"}).then((e=>{digibiz.business_owner_business_list=[],processBusinessOwnerBusinessList(e,(function(){}))})).catch((e=>{}));"employee_business_list"==$("body").attr("app")&&sessionStorage.getItem("account_id")==e.data.owner.id&&"self-verified"==e.data.status.status&&(digibiz.employee_business_list=[],businessList({device_id:crossplat.device.uuid,list_by:"employee"}).then((e=>{processEmployeeBusinessList(e,(function(){removeLoader()}))})).catch((e=>{})))},employeeTypeAdd:function(e){if("employee_types"==$("body").attr("app")){digibiz.employee_types_list.push(e.data),digibiz.employee_types_list.sort(((e,t)=>e.type.localeCompare(t.type)));var t=$('body[app="employee_types"]').find(".expand-search-input").val();if(null==t||null==t||""==t)processEmployeeTypesList(digibiz.employee_types_list,(function(){$(".employee-types-create-container").addClass("hide")}));else{if(e.data.type.toLowerCase().startsWith(t.toLowerCase())){var i=`<div class="employee-type-wrapper" data-employee-type-id="${e.data.id}">\n                    <div class="employee-type-container">\n                        <div class="employee_type_name">${e.data.type}</div>                    \n                    </div>   \n                    <div class="more-menu-wrapper show-action-employee-type-data"><i class="material-icons">more_vert</i></div>                \n                    </div>`;$(".employee-types-content-box").prepend(i)}$(".employee-types-create-container").addClass("hide")}removeLoader()}},employeeTypeUpdate:function(e){if("employee_types"==$("body").attr("app")){removeLoader(),$("#alert-edit-employee-type-add").prop("disabled",!1),$(`.employee-type-wrapper[data-employee-type-id="${e.data.id}"]`).find(".employee_type_name").text(e.data.type);var t=digibiz.employee_types_list.findIndex((t=>t.id==e.data.id));t>-1&&(digibiz.employee_types_list[t].type=e.data.type)}"employee_create"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&($("#employee-type-choose-select-dropdown").find(`option[value="${e.data.id}"]`).attr("data-value",e.data.type),$("#employee-type-choose-select-dropdown").find(`option[value="${e.data.id}"]`).text(e.data.type))},employeeTypeDelete:function(e){"employee_types"==$("body").attr("app")&&(removeLoader(),$(`.employee-type-wrapper[data-employee-type-id="${e.data.id}"]`).remove())},employeeCategoryAdd:function(e){if("employee_category"==$("body").attr("app")){digibiz.employee_category_list.push(e.data),digibiz.employee_category_list.sort(((e,t)=>e.category.localeCompare(t.category)));var t=$('body[app="employee_category"]').find(".expand-search-input").val();if(null==t||null==t||""==t)processEmployeeCategoryList(digibiz.employee_category_list,(function(){$(".employee-category-create-container").addClass("hide")}));else{if(e.data.category.toLowerCase().startsWith(t.toLowerCase())){var i=`<div class="employee-category-wrapper" data-employee-category-id="${e.data.id}">\n                <div class="employee-category-container">\n                    <div class="employee_category_name">${e.data.category}</div>                    \n                </div>   \n                <div class="more-menu-wrapper show-action-employee-category-data"><i class="material-icons">more_vert</i></div>                \n                </div>`;$(".employee-category-content-box").prepend(i)}$(".employee-category-create-container").addClass("hide")}removeLoader()}},employeeCategoryUpdate:function(e){if("employee_category"==$("body").attr("app")){removeLoader(),$(`.employee-category-wrapper[data-employee-category-id="${e.data.id}"]`).find(".employee_category_name").text(e.data.category);var t=digibiz.employee_category_list.findIndex((t=>t.id==e.data.id));t>-1&&(digibiz.employee_category_list[t].category=e.data.category)}"employee_create"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&($("#employee-category-choose-select-dropdown").find(`option[value="${e.data.id}"]`).attr("data-value",e.data.category),$("#employee-category-choose-select-dropdown").find(`option[value="${e.data.id}"]`).text(e.data.category))},employeeCategoryDelete:function(e){"employee_category"==$("body").attr("app")&&(removeLoader(),$(`.employee-category-wrapper[data-employee-category-id="${e.data.id}"]`).remove())},employeeDesignationAdd:function(e){if("employee_designation"==$("body").attr("app")){digibiz.employee_designation_list.push(e.data),digibiz.employee_designation_list.sort(((e,t)=>e.designation.localeCompare(t.designation)));var t=$('body[app="employee_designation"]').find(".expand-search-input").val();if(null==t||null==t||""==t)processEmployeeDesignationList(digibiz.employee_designation_list,(function(){$(".employee-designation-create-container").addClass("hide")}));else{if(e.data.designation.toLowerCase().startsWith(t.toLowerCase())){var i=`<div class="employee-designation-wrapper" data-employee-designation-id="${e.data.id}">\n                <div class="employee-designation-container">\n                    <div class="employee_designation_name">${e.data.designation}</div>                    \n                </div>   \n                <div class="more-menu-wrapper show-action-employee-designation-data"><i class="material-icons">more_vert</i></div>                \n                </div>`;$(".employee-designation-content-box").prepend(i)}$(".employee-designation-create-container").addClass("hide")}removeLoader()}},employeeDesignationUpdate:function(e){if("employee_designation"==$("body").attr("app")){$(`.employee-designation-wrapper[data-employee-designation-id="${e.data.id}"]`).find(".employee_designation_name").text(e.data.designation);var t=digibiz.employee_designation_list.findIndex((t=>t.id==e.data.id));t>-1&&(digibiz.employee_designation_list[t].designation=e.data.designation)}"employee_create"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&($("#employee-designation-choose-select-dropdown").find(`option[value="${e.data.id}"]`).attr("data-value",e.data.designation),$("#employee-designation-choose-select-dropdown").find(`option[value="${e.data.id}"]`).text(e.data.designation))},employeeDesignationDelete:function(e){"employee_designation"==$("body").attr("app")&&$(`.employee-designation-wrapper[data-employee-designation-id="${e.data.id}"]`).remove()},employeeDepartmentAdd:function(e){if("department_management"==$("body").attr("app"))if(e.data.hasOwnProperty("parent_id")&&e.data.parent_id);else{$(".no_data").length>0&&$(".no_data").remove(),digibiz.department_list.push(e.data),digibiz.department_list.sort(((e,t)=>e.name.localeCompare(t.name)));var t=$('body[app="department_management"]').find(".expand-search-input").val();if(null==t||null==t||""==t)processDepartmentList(digibiz.department_list,(function(){}));else if(e.data.name.toLowerCase().startsWith(t.toLowerCase())){var i=`<div class="department-wrapper" data-id="${e.data.id}">\n                    <div class="profile-pic-info-wrapper">\n                        <div class="department-data-wrapper ellipsify">\n                            <div class="department-name"><span class="truncate">${e.data.name}</span></div>\n                        </div>\n                    </div> \n                    <div class="btn-wrap">              \n                        <div class="more-menu-wrapper show-action-department" id="show-action-department"><i class="material-icons">more_vert</i></div>\n                    </div>                \n                </div>`;$(".department-list-contentbox").prepend(i)}removeLoader()}"department_create"==$("body").attr("app")&&(e.data.hasOwnProperty("parent_id")&&e.data.parent_id&&sessionStorage.getItem("business_id")==e.data.business_id&&departmentGet({device_id:crossplat.device.uuid,id:e.data.parent_id}).then((t=>{if(t.hasOwnProperty("parent_id")&&null!=t.parent_id){var i=`<div class="sub-departments-content-box sub-department-box" data-id="${e.data.id}" data-parent-id="${e.data.parent_id}">\n                                                <div class="sub-department-box-name-symbol-content-box">\n                                                <i class="material-icons arrow-right" id="arrow_button">keyboard_arrow_right</i>                                \n                                                <div id="added_sub_department" type="text" data-length="60" contenteditable="false" class="validate" autocomplete="off" disabled>${e.data.name}</div>\n                                                </div>\n                                                <div class="sub_sub_department_conatiner_box" data-id="${e.data.id}"></div>\n                                                </div>`;$(`.sub_sub_department_conatiner_box[data-id="${e.data.parent_id}"]`).append(i),$(`.sub_sub_department_conatiner_box[data-id="${e.data.parent_id}"]`).siblings(".sub-department-box-name-symbol-content-box").find(".material-icons").remove(),$(`.sub_sub_department_conatiner_box[data-id="${e.data.parent_id}"]`).siblings(".sub-department-box-name-symbol-content-box").prepend('<i class="material-icons arrow-down" id="arrow_button">keyboard_arrow_down</i>')}else{i=`<div class="sub-departments-content-box sub-department-box" data-id="${e.data.id}" data-parent-id="${e.data.parent_id}">\n                                                <div class="sub-department-box-name-symbol-content-box">\n                                                <i class="material-icons arrow-right" id="arrow_button">keyboard_arrow_right</i>                                \n                                                <div id="added_sub_department" type="text" data-length="60" contenteditable="false" class="validate" autocomplete="off" disabled>${e.data.name}</div>\n                                                </div>\n                                                <div class="sub_sub_department_conatiner_box" data-id="${e.data.id}"></div>\n                                                </div>`;$(`.create-sub-departments-main-container[data-parent-id="${e.data.parent_id}"]`).append(i)}})).catch((e=>{removeLoader(),$(this).prop("disabled",!1),Materialize.toast("Error in getting the parent department record",3e3,"round success-alert")})));("employee_group_creation_list"==$("body").attr("app")&&"standard"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&(digibiz.standard_employees_groups_list_page=[],standardEmployeesGroupsListPage()),"employee_create"==$("body").attr("app")&&(digibiz.department_list_selection.push(e.data),processDepartmentListSelection(digibiz.department_list_selection,(function(){}))),"employee_creation_list"==$("body").attr("app"))&&($("#employee-filter-option-modal").length>0&&processDepartmentList(e.data,(function(){})))},employeeDepartmentUpdate:function(e){if("department_management"==$("body").attr("app"))if(e.data.hasOwnProperty("parent_id")&&e.data.parent_id);else{$(`.department-wrapper[data-id="${e.data.id}"]`).find(".department-name .truncate").text(e.data.name);var t=digibiz.department_list.findIndex((t=>t.id==e.data.id));t>-1&&(digibiz.department_list[t].name=e.data.name)}if("department_create"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&(e.data.hasOwnProperty("parent_id")&&e.data.parent_id?$(`.sub-department-box[data-id="${e.data.id}"]`).find("#added_sub_department").text(e.data.name):$("#department_name").text(e.data.name)),"employee_create"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&($(`.employee-department-assignment-box[data-id="${e.data.id}"]`).find(".employee-department-assignment-name").text(e.data.name),$("#assign-employee-department-modal").length>0&&$("#assign-employee-department-modal").find(`.department-wrapper[data-id="${e.data.id}"]`).find(".department-name span").text(e.data.name)),"communication_group_details"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&($("#communication-group-employee-members-list").find(`.communication-group-employee-group-member-wrapper[data-department-id="${e.data.id}"]`).find(".filemanager-file-wrapper span").text(e.data.name),$("#modal-communication-group-employee-group-selection").length>0&&$("#modal-communication-group-employee-group-selection").find(`.group-selection-wrapper[data-department-id="${e.data.id}"]`).length>0)){var i=e.data.name;$("#modal-communication-group-employee-group-selection").find(`.group-selection-wrapper[data-department-id="${e.data.id}"]`).find(".employee-group-name span").text(i)}if("employee_group_creation_list"==$("body").attr("app")&&"standard"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&(digibiz.standard_employees_groups_list_page=[],standardEmployeesGroupsListPage()),$("#modal-communication-group-activate-employee-group-employee-list-selection").length>0&&$("#modal-communication-group-activate-employee-group-employee-list-selection").find(`.accordion-content[data-group-id="${e.data.std_grp.id}"]`).length>0&&$("#modal-communication-group-activate-employee-group-employee-list-selection").find(`.accordion-content[data-group-id="${e.data.std_grp.id}"]`).siblings(".accordion-title").find(".contact-item-name span").text(e.data.std_grp.name),"employee_group_create"==$("body").attr("app")){$("#employeeGroupName").val(e.data.name);var a=`All Employees assigned to ${e.data.name} department are members of this group.`;$(".standard-employee-group-members-msg").text(a),$("#employee-group-members-list").find(`.custom-employee-group-member-wrapper[data-member-group-id="${e.data.std_grp.id}"]`).length>0&&$("#employee-group-members-list").find(`.custom-employee-group-member-wrapper[data-member-group-id="${e.data.std_grp.id}"]`).find(".custom-employee-group-member-name").text(e.data.std_grp.name),$("#employee-group-members-list").find(`.employee-group-member-wrapper[data-id="${e.data.std_grp.id}"]`).length>0&&$("#employee-group-members-list").find(`.employee-group-member-wrapper[data-id="${e.data.std_grp.id}"]`).find(".filemanager-file-wrapper span").text(e.data.std_grp.name)}$("#modal-standard-employee-group-selection").length>0&&$("#modal-standard-employee-group-selection").find(`.contact-profile-container[data-id="${e.data.std_grp.id}"]`).siblings(".standard-group-name").text(e.data.std_grp.name)},digibizNotification:function(e){if(1==$("#request-btn").length&&sessionStorage.getItem("uuid")==e.data.contact.uuid)if(""==$(".digibiz_notification_count").text()||null==$(".digibiz_notification_count").text()||null==$(".digibiz_notification_count").text()||0==$(".digibiz_notification_count").text())$(".digibiz_notification_count").text("1"),$(".digibiz_notification_count").attr("data-count","1"),$(".digibiz_notification_count").removeClass("hide");else{var t=$(".digibiz_notification_count").text();t++,$(".digibiz_notification_count").text(t),$(".digibiz_notification_count").attr("data-count",t),$(".digibiz_notification_count").removeClass("hide")}"digibiz_notifications"==$("body").attr("app")&&sessionStorage.getItem("uuid")==e.data.contact.uuid&&(digibiz.digibiz_notifications=[],getDigibizNotificationsPage()),"employee_creation_list"==$("body").attr("app")&&"employee_pending"==sessionStorage.getItem("selected-employee-tab")&&(digibiz.pending_employee_creation_employee_list=[],pendingEmployeeListPage()),"customer_creation_pending_list"==$("body").attr("app")&&"customer_pending"==sessionStorage.getItem("selected-customer-tab")&&(digibiz.customer_creation_pending_list=[],pendingCustomerCreationListPage()),"super_admin_management_hub"==$("body").attr("app")&&"pending-super-admin"==sessionStorage.getItem("selected-super-admin-management-tab")&&(digibiz.pending_super_admins_list=[],pendingSuperAdminsTab())},digibizNotificationRemove:function(e){if("digibiz_notifications"==$("body").attr("app")&&sessionStorage.getItem("uuid")==e.data.uuid&&(digibiz.digibiz_notifications=[],getDigibizNotificationsPage()),"landing_page"==$("body").attr("app")&&sessionStorage.getItem("uuid")==e.data.uuid)if(""==$(".digibiz_notification_count").text()||null==$(".digibiz_notification_count").text()||null==$(".digibiz_notification_count").text());else{var t=$(".digibiz_notification_count").text();t--,$(".digibiz_notification_count").text(t),$(".digibiz_notification_count").removeClass("hide")}"employee_creation_list"==$("body").attr("app")&&"employee_pending"==sessionStorage.getItem("selected-employee-tab")&&(digibiz.pending_employee_creation_employee_list=[],pendingEmployeeListPage()),"employee_notification_details_page"==$("body").attr("app")&&sessionStorage.getItem("contact_uuid")==e.data.uuid&&(digibiz.employee_notification_details_list=[],getEmployeeNotificationDetailsPage()),"customer_creation_pending_list"==$("body").attr("app")&&"customer_pending"==sessionStorage.getItem("selected-customer-tab")&&(digibiz.customer_creation_pending_list=[],pendingCustomerCreationListPage()),"super_admin_management_hub"==$("body").attr("app")&&"pending-super-admin"==sessionStorage.getItem("selected-super-admin-management-tab")&&(digibiz.pending_super_admins_list=[],pendingSuperAdminsTab()),"customer_notification_details_page"==$("body").attr("app")&&(digibiz.customer_notification_details_list=[],getCustomerNotificationDetailsPage()),"super_admin_notification_details_page"==$("body").attr("app")&&(digibiz.super_admin_notification_details_list=[],getSuperAdminNotificationDetailsPage())},digibizNotificationExpire:function(e){if("digibiz_notifications"==$("body").attr("app")&&sessionStorage.getItem("uuid")==e.data.contact.uuid&&(digibiz.digibiz_notifications=[],getDigibizNotificationsPage()),"landing_page"==$("body").attr("app")&&sessionStorage.getItem("uuid")==e.data.contact.uuid)if(""==$(".digibiz_notification_count").text()||null==$(".digibiz_notification_count").text()||null==$(".digibiz_notification_count").text());else{var t=$(".digibiz_notification_count").text();t--,$(".digibiz_notification_count").text(t),$(".digibiz_notification_count").removeClass("hide")}if("employee_creation_list"==$("body").attr("app")&&"employee_pending"==sessionStorage.getItem("selected-employee-tab")&&(digibiz.pending_employee_creation_employee_list=[],pendingEmployeeListPage()),"customer_creation_pending_list"==$("body").attr("app")&&"customer_pending"==sessionStorage.getItem("selected-customer-tab")&&(digibiz.customer_creation_pending_list=[],pendingCustomerCreationListPage()),"employee_notification_details_page"==$("body").attr("app")&&sessionStorage.getItem("contact_uuid")==e.data.contact.uuid&&(digibiz.employee_notification_details_list=[],getEmployeeNotificationDetailsPage()),"customer_notification_details_page"==$("body").attr("app")&&sessionStorage.getItem("contact_uuid")==e.data.contact.uuid&&(digibiz.customer_notification_details_list=[],getCustomerNotificationDetailsPage()),"customer_create"==$("body").attr("app")&&e.data.hasOwnProperty("customer_id")&&sessionStorage.getItem("customer_id")==e.data.customer_id&&("rejected"!=e.data.contact.status.status&&"expired"!=e.data.contact.status.status||$(`.pending-associate-customer-wrapper[data-notification-id="${e.data.id}"]`).remove()),$(`#associate-customers-pending-notification-details-modal[contact-uuid="${e.data.contact.uuid}"]`).length>0){digibiz.associate_customer_notification_details_list=digibiz.associate_customer_notification_details_list.filter((t=>t.id!=e.data.id));processPendingAssociateCustomerNotificationDetailsList({log_data:[],last_notification:e.data},(function(){}))}"super_admin_management_hub"==$("body").attr("app")&&"pending-super-admin"==sessionStorage.getItem("selected-super-admin-management-tab")&&(digibiz.pending_super_admins_list=[],pendingSuperAdminsTab()),"super_admin_notification_details_page"==$("body").attr("app")&&sessionStorage.getItem("contact_uuid")==e.data.contact.uuid&&(digibiz.super_admin_notification_details_list=[],getSuperAdminNotificationDetailsPage())},digibizNotificationChangeStatus:function(e){if("digibiz_notifications"==$("body").attr("app")&&$(`.accept_reject_wrap[data-notification-id="${e.data.id}"]`).parents(".digibiz-notification-list-wrapper").remove(),"landing_page"==$("body").attr("app")&&sessionStorage.getItem("uuid")==e.data.contact.uuid)if(""==$(".digibiz_notification_count").text()||null==$(".digibiz_notification_count").text()||null==$(".digibiz_notification_count").text())$(".digibiz_notification_count").text("0"),$(".digibiz_notification_count").addClass("hide");else{var t=$(".digibiz_notification_count").text();t--,$(".digibiz_notification_count").text(t),$(".digibiz_notification_count").removeClass("hide")}if("employee_creation_list"==$("body").attr("app")&&"rejected"==e.data.contact.status.status&&"employee_pending"==sessionStorage.getItem("selected-employee-tab")&&(digibiz.pending_employee_creation_employee_list=[],pendingEmployeeListPage()),"super_admin_management_hub"==$("body").attr("app")&&"rejected"==e.data.contact.status.status&&"pending-super-admin"==sessionStorage.getItem("selected-super-admin-management-tab")&&(digibiz.pending_super_admins_list=[],pendingSuperAdminsTab()),"super_admin_notification_details_page"==$("body").attr("app")&&sessionStorage.getItem("contact_uuid")==e.data.contact.uuid&&(digibiz.super_admin_notification_details_list=[],getSuperAdminNotificationDetailsPage()),"customer_creation_pending_list"==$("body").attr("app")&&"customer_pending"==sessionStorage.getItem("selected-customer-tab")&&(digibiz.customer_creation_pending_list=[],pendingCustomerCreationListPage()),"customer_creation_active_list"==$("body").attr("app")&&"customer_active"==sessionStorage.getItem("selected-customer-tab")&&(digibiz.customer_creation_active_list=[],activeCustomerCreationListPage()),"customer_contact_list"==$("body").attr("app")&&(digibiz.contacts_list=[],getCustomerContactListPage()),"employee_notification_details_page"==$("body").attr("app")&&sessionStorage.getItem("contact_uuid")==e.data.contact.uuid&&(digibiz.employee_notification_details_list=[],getEmployeeNotificationDetailsPage()),"customer_notification_details_page"==$("body").attr("app")&&sessionStorage.getItem("contact_uuid")==e.data.contact.uuid&&(digibiz.customer_notification_details_list=[],getCustomerNotificationDetailsPage()),"customer_create"==$("body").attr("app")&&e.data.hasOwnProperty("customer_id")&&sessionStorage.getItem("customer_id")==e.data.customer_id&&"rejected"==e.data.contact.status.status&&$(`.pending-associate-customer-wrapper[data-notification-id="${e.data.id}"]`).remove(),$(`#associate-customers-pending-notification-details-modal[contact-uuid="${e.data.contact.uuid}"]`).length>0){digibiz.associate_customer_notification_details_list=digibiz.associate_customer_notification_details_list.filter((t=>t.id!=e.data.id));var i=[];i.push(e.data),processPendingAssociateCustomerNotificationDetailsList({log_data:i,last_notification:e.data},(function(){}))}"employee_creation_list"==$("body").attr("app")&&"rejected"==e.data.contact.status.status&&"pending-super-admin"==sessionStorage.getItem("selected-super-admin-management-tab")&&(digibiz.pending_super_admins_list=[],pendingSuperAdminsTab())},businessChangeDevice:function(e){(console.log("businessChangeDevice socket reached",e),"business_add"==$("body").attr("app")||"business_edit"==$("body").attr("app"))&&(e.data.device_id==crossplat.device.uuid?console.log("businessChangeDevice --\x3e not for thid device_id"):showAlert({alert_id:"alert-business-changed-device-confirm",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"You have choosed to work from other device.",alert_btn:[{name:"OK",attr:[{name:"id",value:"btn-business-changed-device-ok"}]}]},(function(){})))},employeeChangeDevice:function(e){(console.log("employeeChangeDevice socket reached",e),"employee_create"==$("body").attr("app"))&&showAlert({alert_id:"alert-employee-changed-device-confirm",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"You have choosed to work from other device or another admin, so you are back to employee page.",alert_btn:[{name:"OK",attr:[{name:"id",value:"btn-employee-changed-device-ok"}]}]},(function(){removeLoader()}))},customerChangeDevice:function(e){"customer_create"==$("body").attr("app")&&sessionStorage.getItem("customer_id")==e.data.customer_id&&showAlert({alert_id:"alert-customer-changed-device-confirm",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"You have choosed to work from other device,so you are back to customer page",alert_btn:[{name:"OK",attr:[{name:"id",value:"btn-customer-changed-device-ok"}]}]},(function(){removeLoader()}))},groupChangeDevice:function(e){if(console.log("groupChangeDevice socket reached",e),"employee_group_create"==$("body").attr("app"))showAlert({alert_id:"alert-group-changed-device-confirm",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"You have choosed to work from other device or another admin, so you are back to employee page.",alert_btn:[{name:"OK",attr:[{name:"id",value:"btn-group-changed-device-ok"}]}]},(function(){removeLoader()}));else if("customer_groups_details"==$("body").attr("app")){showAlert({alert_id:"alert-group-changed-device-confirm",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"You have choosed to work from other device or another admin, so you are back to employee page.",alert_btn:[{name:"OK",attr:[{name:"id",value:"btn-group-changed-device-ok"}]}]},(function(){removeLoader()}))}else if("communication_group_details"==$("body").attr("app")){showAlert({alert_id:"alert-group-changed-device-confirm",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"You have choosed to work from other device or another admin, so you are back to employee page.",alert_btn:[{name:"OK",attr:[{name:"id",value:"btn-group-changed-device-ok"}]}]},(function(){removeLoader()}))}else if("collaborator_group_details"==$("body").attr("app")){showAlert({alert_id:"alert-group-changed-device-confirm",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"You have choosed to work from other device or another admin, so you are back to employee page.",alert_btn:[{name:"OK",attr:[{name:"id",value:"btn-group-changed-device-ok"}]}]},(function(){removeLoader()}))}},employeeAdd:function(e){(console.log("employeeAdd socket reached",e),sessionStorage.getItem("account_id")==e.data.account_id&&employeeBusinessListHelperMethod(),"employee_creation_list"==$("body").attr("app")&&("employee_pending"==sessionStorage.getItem("selected-employee-tab")&&(digibiz.pending_employee_creation_employee_list=[],pendingEmployeeListPage()),"employee_active"==sessionStorage.getItem("selected-employee-tab")&&sessionStorage.getItem("business_id")==e.data.business_id&&(digibiz.active_employee_creation_employee_list.splice(0,0,e.data),processActiveEmployeeCreationEmployeeList(digibiz.active_employee_creation_employee_list,(function(){})))),"digibiz_notifications"==$("body").attr("app")&&(digibiz.digibiz_notifications=[],getDigibizNotificationsPage()),"employee"==sessionStorage.getItem("digibiz_role"))&&(sessionStorage.getItem("account_id")==e.data.account_id&&"employee_business_list"==$("body").attr("app")&&(digibiz.employee_business_list=[],businessList({device_id:crossplat.device.uuid,list_by:"employee"}).then((e=>{processEmployeeBusinessList(e,(function(){removeLoader()}))})).catch((e=>{}))))},employeeUpdate:function(e){if(console.log("employeeUpdate socket reached",e),"employee_creation_list"==$("body").attr("app")&&("employee_pending"==sessionStorage.getItem("selected-employee-tab")&&(digibiz.pending_employee_creation_employee_list=[],pendingEmployeeListPage()),"employee_active"==sessionStorage.getItem("selected-employee-tab")&&(digibiz.active_employee_creation_employee_list=[],activeEmployeeListPage())),"employee_group_creation_list"==$("body").attr("app")&&("standard"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&(digibiz.standard_employees_groups_list_page=[],standardEmployeesGroupsListPage()),"custom"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&(digibiz.custom_employees_groups_list_page=[],customEmployeesGroupsListPage())),$("#modal-communication-group-activate-employee-group-employee-list-selection").length>0)if($("#modal-communication-group-activate-employee-group-employee-list-selection").find(`.contact-profile-container[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).length>0)n=e.data.hasOwnProperty("display_name")&&e.data.display_name?e.data.display_name:`${e.data.name.first} ${e.data.name.last}`,$("#modal-communication-group-activate-employee-group-employee-list-selection").find(`.contact-profile-container[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).siblings(".contact-name-wrapper").text(n);else if("active"==e.data.status.status){e.data.hasOwnProperty("identity_picture")&&e.data.identity_picture&&e.data.identity_picture.hasOwnProperty("thumbnail")&&e.data.identity_picture.thumbnail?(e.data.identity_picture.avtarUrl=`${api.get_employee_identity_picture}?id=${e.data.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.data.identity_picture.thumbnail}`,e.data.imageLetter=e.data.name.first.charAt(0)):e.data.imageLetter=e.data.name.first.charAt(0);var t={employeeData:e.data},i=$("#modal-communication-group-activate-employee-group-employee-list-selection").find(".employee-selection-member-list");fetch.appendHtml((function(){}),"layouts/template_elements/employee_group_add_moderator_list_selection","#employee-group-add-moderator-list-selection-template",i,t)}("employee_contact_list"==$("body").attr("app")&&"all_employees"==sessionStorage.getItem("selected-employee-contact-list-type-tab")&&(digibiz.all_employees_list=[],allEmployessListPage()),"employee_access_list"==$("body").attr("app")&&(digibiz.employee_access_list=[],getEmployeeAccessListPage()),$("#modal-communication-group-moderator-selection").length>0)&&($("#modal-communication-group-moderator-selection").find(`.contact-profile-container[data-id="${e.data.dj_unique_employee_id}"][data-type="employee"]`).length>0&&($("#modal-communication-group-moderator-selection").find(`.contact-profile-container[data-id="${e.data.dj_unique_employee_id}"][data-type="employee"]`).siblings(".contact-name-wrapper").text()==(o=e.data.hasOwnProperty("display_name")&&e.data.display_name?e.data.display_name:`${e.data.name.first} ${e.data.name.last}`)||$("#modal-communication-group-moderator-selection").find(`.contact-profile-container[data-id="${e.data.dj_unique_employee_id}"][data-type="employee"]`).siblings(".contact-name-wrapper").text(o)));if("communication_group_details"==$("body").attr("app")){if(sessionStorage.getItem("group_id")){if($(`.communication-group-moderator-member-wrapper[data-id="${e.data.dj_unique_employee_id}"][data-type="employee"]`).length>0)$(`.communication-group-moderator-member-wrapper[data-id="${e.data.dj_unique_employee_id}"][data-type="employee"]`).find(".custom-communication-group-moderator-member-name").text()==(o=e.data.hasOwnProperty("display_name")&&e.data.display_name?e.data.display_name:`${e.data.name.first} ${e.data.name.last}`)||$(`.communication-group-moderator-member-wrapper[data-id="${e.data.dj_unique_employee_id}"][data-type="employee"]`).find(".custom-communication-group-moderator-member-name").text(o);if($(`.communication-group-member-wrapper[data-employee-id="${e.data.dj_unique_employee_id}"][data-type="employee"]`).length>0)$(`.communication-group-member-wrapper[data-employee-id="${e.data.dj_unique_employee_id}"][data-type="employee"]`).find(".communication-group-member-name").text()==(o=e.data.hasOwnProperty("display_name")&&e.data.display_name?e.data.display_name:`${e.data.name.first} ${e.data.name.last}`)||$(`.communication-group-member-wrapper[data-employee-id="${e.data.dj_unique_employee_id}"][data-type="employee"]`).find(".communication-group-member-name").text(o)}else{$(`.communication-group-moderator-member-wrapper-not-saved[data-id="${e.data.dj_unique_employee_id}"]`).find(".filemanager-file-wrapper span").text()==(o=e.data.hasOwnProperty("display_name")&&e.data.display_name?e.data.display_name:`${e.data.name.first} ${e.data.name.last}`)||$(`.communication-group-moderator-member-wrapper-not-saved[data-id="${e.data.dj_unique_employee_id}"]`).find(".filemanager-file-wrapper span").text(o),$(`.communication-group-employee-member-wrapper[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).find(".filemanager-file-wrapper span").text()==(o=e.data.hasOwnProperty("display_name")&&e.data.display_name?e.data.display_name:`${e.data.name.first} ${e.data.name.last}`)||$(`.communication-group-employee-member-wrapper[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).find(".filemanager-file-wrapper span").text(o)}if($("#modal-communication-group-employees-selection").length>0)if($(`.contact-profile-container[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).length>0)$(`.contact-profile-container[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).siblings(".contact-name-wrapper").text()==(o=e.data.hasOwnProperty("display_name")&&e.data.display_name?e.data.display_name:`${e.data.name.first} ${e.data.name.last}`)||$(`.contact-profile-container[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).siblings(".contact-name-wrapper").text(o);else if("active"==e.data.status.status){n=e.data.hasOwnProperty("display_name")&&e.data.display_name?e.data.display_name:`${e.data.name.first} ${e.data.name.last}`,e.data.hasOwnProperty("identity_picture")&&e.data.identity_picture&&e.data.identity_picture.hasOwnProperty("thumbnail")&&e.data.identity_picture.thumbnail?(r=`${api.get_employee_identity_picture}?id=${e.data.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.data.identity_picture.thumbnail}`,s=e.data.name.first.charAt(0)):s=e.data.name.first.charAt(0);var a=`<div class="employee-selection-list-container">\n                <div class="contact-profile-container" data-dj-unique-employee-id="${e.data.dj_unique_employee_id}" data-account-id="${e.data.account_id}">\n                        <img src="${r}" class="chat-avatar-image">\n                        <span class="persona">${s}</span>\n                </div>\n                <div class="contact-name-wrapper ellipsify">${n}</div>\n                 <p>\n                    <input type="checkbox" class="filled-in communication-group-employee-select-btn" id="${e.data.dj_unique_employee_id}" data-dj-unique-employee-id="${e.data.dj_unique_employee_id}">\n                    <label for="${e.data.dj_unique_employee_id}"></label>\n                </p>\n            </div>`;$("#modal-communication-group-employees-selection").find(".employee-selection-member-list").append(a)}}if("collaborator_group_create"==$("body").attr("app")||"collaborator_group_details"==$("body").attr("app")){var o;if(sessionStorage.getItem("group_id"))$(`.collaborator-group-moderator-member-wrapper[data-employee-id="${e.data.dj_unique_employee_id}"]`).find(".collaborator-group-business-member-name").text()==(o=e.data.hasOwnProperty("display_name")&&e.data.display_name?e.data.display_name:`${e.data.name.first} ${e.data.name.last}`)||$(`.collaborator-group-moderator-member-wrapper[data-employee-id="${e.data.dj_unique_employee_id}"]`).find(".collaborator-group-business-member-name").text(o);else $(`.collaborator-group-employee-moderator-member-wrapper[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).find(".filemanager-file-wrapper span").text()==(o=e.data.hasOwnProperty("display_name")&&e.data.display_name?e.data.display_name:`${e.data.name.first} ${e.data.name.last}`)||$(`.collaborator-group-employee-moderator-member-wrapper[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).find(".filemanager-file-wrapper span").text(o),$(`.collaborator-group-employee-member-wrapper[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).find(".filemanager-file-wrapper span").text()==(o=e.data.hasOwnProperty("display_name")&&e.data.display_name?e.data.display_name:`${e.data.name.first} ${e.data.name.last}`)||$(`.collaborator-group-employee-member-wrapper[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).find(".filemanager-file-wrapper span").text(o);if($("#modal-collaborator-group-owner-business-employee-selection").length>0)if($(`.contact-profile-container[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).length>0)$("#modal-collaborator-group-owner-business-employee-selection").find(`.contact-profile-container[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).siblings(".contact-name-wrapper").text()==(o=e.data.hasOwnProperty("display_name")&&e.data.display_name?e.data.display_name:`${e.data.name.first} ${e.data.name.last}`)||$("#modal-collaborator-group-owner-business-employee-selection").find(`.contact-profile-container[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).siblings(".contact-name-wrapper").text(o);else if("active"==e.data.status.status){e.data.hasOwnProperty("display_name")&&e.data.display_name?e.data.getName=e.data.display_name:e.data.getName=`${e.data.name.first} ${e.data.name.last}`,e.data.hasOwnProperty("identity_picture")&&e.data.identity_picture&&e.data.identity_picture.hasOwnProperty("thumbnail")&&e.data.identity_picture.thumbnail?(e.data.identity_picture.avtarUrl=`${api.get_employee_identity_picture}?id=${e.data.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.data.identity_picture.thumbnail}`,e.data.imageLetter=e.data.name.first.charAt(0)):e.data.imageLetter=e.data.name.first.charAt(0);t={employee:e.data};fetch.appendHtml((function(){}),"layouts/template_elements/collaborator_group_employee_add_modal_template","#collaborator-group-employee-add-modal-template","#modal-collaborator-group-owner-business-employee-selection .employee-selection-member-list",t)}if($("#modal-collaborator-group-moderator-selection").length>0)$("#modal-collaborator-group-moderator-selection").find(`.contact-profile-container[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).siblings(".contact-name-wrapper").text()==(o=e.data.hasOwnProperty("display_name")&&e.data.display_name?e.data.display_name:`${e.data.name.first} ${e.data.name.last}`)||$("#modal-collaborator-group-moderator-selection").find(`.contact-profile-container[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).siblings(".contact-name-wrapper").text(o);if($("#modal-collaborator-group-business-members").length>0)$("#modal-collaborator-group-business-members").find(`.contact-profile-container[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).siblings(".contact-name-wrapper").text()==(o=e.data.hasOwnProperty("display_name")&&e.data.display_name?e.data.display_name:`${e.data.name.first} ${e.data.name.last}`)||$("#modal-collaborator-group-business-members").find(`.contact-profile-container[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).siblings(".contact-name-wrapper").text(o)}if("business_notifications"==$("body").attr("app")&&$("#modal-collaborator-group-employees-selection").length>0)if($("#modal-collaborator-group-employees-selection").find(`.contact-profile-container[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).length>0)$("#modal-collaborator-group-employees-selection").find(`.contact-profile-container[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).siblings(".contact-name-wrapper").text()==(o=e.data.hasOwnProperty("display_name")&&e.data.display_name?e.data.display_name:`${e.data.name.first} ${e.data.name.last}`)||$("#modal-collaborator-group-employees-selection").find(`.contact-profile-container[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).siblings(".contact-name-wrapper").text(o);else if("active"==e.data.status.status){var s,r,n;n=e.data.hasOwnProperty("display_name")&&e.data.display_name?e.data.display_name:`${e.data.name.first} ${e.data.name.last}`,e.data.hasOwnProperty("identity_picture")&&e.data.identity_picture&&e.data.identity_picture.hasOwnProperty("thumbnail")&&e.data.identity_picture.thumbnail?(r=`${api.get_employee_identity_picture}?id=${e.data.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.data.identity_picture.thumbnail}`,s=e.data.name.first.charAt(0)):s=e.data.name.first.charAt(0);a=`<div class="employee-selection-list-container">\n                <div class="contact-profile-container" data-dj-unique-employee-id="${e.data.dj_unique_employee_id}" data-account-id="${e.data.account_id}">\n                        <img src="${r}" class="chat-avatar-image">\n                        <span class="persona">${s}</span>\n                </div>\n                <div class="contact-name-wrapper ellipsify">${n}</div>\n                 <p>\n                    <input type="checkbox" class="filled-in collaborator-group-employee-select-btn" id="${e.data.dj_unique_employee_id}" data-dj-unique-employee-id="${e.data.dj_unique_employee_id}">\n                    <label for="${e.data.dj_unique_employee_id}"></label>\n                </p>\n            </div>`;$("#modal-collaborator-group-employees-selection").find(".employee-selection-member-list").append(a)}if("employee_group_create"==$("body").attr("app")){var d;if(d=e.data.hasOwnProperty("display_name")&&e.data.display_name?e.data.display_name:`${e.data.name.first} ${e.data.name.last}`,$("#modal-standard-employee-group-selection").length>0&&e.data.hasOwnProperty("employee_groups")&&e.data.employee_groups&&e.data.employee_groups.length>0&&$.each(e.data.employee_groups,(function(e,t){if("pending"==t.status.status||"deleted"==t.status.status)$(`.standard-employee-group-select[data-id="${t.id}"]`).parents(".standard-employee-group-selection-wrapper").remove();else if("draft"==t.status.status)if($(".standard-employee-selection-list").find(`.contact-profile-container[data-id="${t.id}"]`).length>0);else{var i={id:t.id,name:t.name};if(t.hasOwnProperty("group_image")&&t.group_image)if(t.group_image.hasOwnProperty("thumbnail")&&t.group_image.thumbnail){var a=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${t.id}&image_id=${t.group_image.thumbnail}`;i.avtarUrl=a,i.imageLetter=t.name.charAt(0)}else i.imageLetter=t.name.charAt(0);else i.imageLetter=t.name.charAt(0);fetch.appendHtml((function(){}),"layouts/template_elements/employee_custom_group_standard","#employee-custom-group-standard-group-template",".standard-employee-selection-list",i)}})),$("#modal-employee-selection").length>0)if($("#modal-employee-selection").find(`.contact-profile-container[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).length>0)$("#modal-employee-selection").find(`.contact-profile-container[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).siblings(".contact-name-wrapper").text(d);else if("active"==e.data.status.status){e.data.hasOwnProperty("identity_picture")&&e.data.identity_picture&&e.data.identity_picture.hasOwnProperty("thumbnail")&&e.data.identity_picture.thumbnail?(e.data.identity_picture.avtarUrl=`${api.get_employee_identity_picture}?id=${e.data.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.data.identity_picture.thumbnail}`,e.data.imageLetter=e.data.name.first.charAt(0)):e.data.imageLetter=e.data.name.first.charAt(0);t={employeeData:e.data},i=$("#modal-employee-selection").find(".employee-selection-member-list");fetch.appendHtml((function(){}),"layouts/template_elements/employee_group_employee_list_selection_template","#employee-group-employee-list-selection-template",i,t)}$("#employee-group-members-list").find(`.employee-group-member-wrapper[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).length>0&&$("#employee-group-members-list").find(`.employee-group-member-wrapper[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).find(".filemanager-file-wrapper span").text(d),$("#employee-group-members-list").find(`.custom-employee-group-member-wrapper[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).length>0&&$("#employee-group-members-list").find(`.custom-employee-group-member-wrapper[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).find(".filemanager-file-wrapper span").text(d),$("#employee-group-moderator-members-list").find(`.employee-group-moderator-member-wrapper[data-id="${e.data.dj_unique_employee_id}"]`).length>0&&$("#employee-group-moderator-members-list").find(`.employee-group-moderator-member-wrapper[data-id="${e.data.dj_unique_employee_id}"]`).find(".group-moderator-name").text(d)}"employee_business_list"==$("body").attr("app")&&("employee"==sessionStorage.getItem("digibiz_role")&&sessionStorage.getItem("account_id")==e.data.account_id&&(digibiz.employee_business_list=[],businessList({device_id:crossplat.device.uuid,list_by:"employee"}).then((e=>{processEmployeeBusinessList(e,(function(){}))})).catch((e=>{}))))},employeeDelete:function(e){("employee_creation_list"==$("body").attr("app")&&("employee_pending"==sessionStorage.getItem("selected-employee-tab")&&(digibiz.pending_employee_creation_employee_list=[],pendingEmployeeListPage()),"employee_active"==sessionStorage.getItem("selected-employee-tab")&&(digibiz.active_employee_creation_employee_list=[],activeEmployeeListPage())),"business_owner_business_list"==$("body").attr("app")&&sessionStorage.getItem("account_id")==e.data.account_id)&&(digibiz.business_owner_business_list=[],businessList({device_id:crossplat.device.uuid,list_by:"my_business"}).then((e=>{processBusinessOwnerBusinessList(e,(function(){}))})).catch((e=>{})));if(sessionStorage.getItem("account_id")==e.data.account_id&&"business_owner"==sessionStorage.getItem("digibiz_role")&&sessionStorage.getItem("business_id")==e.data.business_id){Materialize.toast("You're access as super-admin has been removed.",3e3,"round success-alert"),location.hash="business_owner/business/list",$("#alert-digibiz-admin-access-revoked").remove();var t=sessionStorage.getItem("user_id"),i=sessionStorage.getItem("uuid"),a=sessionStorage.getItem("socketID"),o=sessionStorage.getItem("account_id"),s=sessionStorage.getItem("accountDetails"),r=sessionStorage.getItem("storage_token"),n=sessionStorage.getItem("profile_details"),d=sessionStorage.getItem("digibiz_role"),c=sessionStorage.getItem("get_role_btn");sessionStorage.clear(),sessionStorage.setItem("user_id",t),sessionStorage.setItem("uuid",i),sessionStorage.setItem("socketID",a),sessionStorage.setItem("account_id",o),sessionStorage.setItem("accountDetails",s),sessionStorage.setItem("storage_token",r),sessionStorage.setItem("profile_details",n),sessionStorage.setItem("digibiz_role",d),sessionStorage.setItem("get_role_btn",c)}"employee_business_list"==$("body").attr("app")&&sessionStorage.getItem("account_id")==e.data.account_id&&(digibiz.employee_business_list=[],businessList({device_id:crossplat.device.uuid,list_by:"employee"}).then((e=>{processEmployeeBusinessList(e,(function(){removeLoader()}))})).catch((e=>{})));"employee_group_creation_list"==$("body").attr("app")&&("standard"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&(digibiz.standard_employees_groups_list_page=[],standardEmployeesGroupsListPage()),"custom"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&(digibiz.custom_employees_groups_list_page=[],customEmployeesGroupsListPage())),"communication_groups"==$("body").attr("app")&&"communication"==sessionStorage.getItem("selected-communication-group-type-tab")&&(digibiz.communicationGroupsList=[],getCommunicationGroupsPage()),"communication_group_details"==$("body").attr("app")&&(sessionStorage.getItem("group_id")?(e.data.hasOwnProperty("employee_groups")&&e.data.employee_groups&&$.each(e.data.employee_groups,(function(e,t){sessionStorage.getItem("group_id")==t.id&&(Materialize.toast("Group Deleted",3e3,"round success-alert"),sessionStorage.removeItem("group_id"),$(".custom-modal-popup").remove(),location.hash="communication/groups"),$("#communication-group-employee-members-list").length>0&&sessionStorage.getItem("group_id")&&$("#communication-group-employee-members-list").find(`.communication-group-member-wrapper[data-group-id="${t.id}"]`).length>0&&($("#communication-group-employee-members-list").find(`.communication-group-member-wrapper[data-group-id="${t.id}"]`).remove(),$(`.communication-group-moderator-member-wrapper[data-group-id="${t.id}"]`).remove()),$("#communication-group-collaborator-members-list").length>0&&sessionStorage.getItem("group_id")&&$("#communication-group-collaborator-members-list").find(`.communication-group-member-wrapper[data-group-id="${t.id}"]`).length>0&&($("#communication-group-collaborator-members-list").find(`.communication-group-member-wrapper[data-group-id="${t.id}"]`).remove(),$(`.communication-group-moderator-member-wrapper[data-group-id="${t.id}"]`).remove())})),$(`.communication-group-moderator-member-wrapper[data-id="${e.data.dj_unique_employee_id}"][data-type="employee"]`).remove(),$(`.communication-group-member-wrapper[data-employee-id="${e.data.dj_unique_employee_id}"]`).remove()):($(`.communication-group-employee-member-wrapper[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).remove(),$(`.communication-group-moderator-member-wrapper-not-saved[data-id="${e.data.dj_unique_employee_id}"]`).remove(),e.data.hasOwnProperty("employee_groups")&&e.data.employee_groups&&$.each(e.data.employee_groups,(function(e,t){$("#communication-group-employee-members-list").length>0&&$("#communication-group-employee-members-list").find(`.communication-group-employee-group-member-wrapper[data-id="${t.id}"]`).length>0&&$("#communication-group-employee-members-list").find(`.communication-group-employee-group-member-wrapper[data-id="${t.id}"]`).remove(),$("#communication-group-collaborator-members-list").length>0&&$("#communication-group-collaborator-members-list").find(`.communication-group-collaborator-group-member-wrapper[data-id="${t.id}"]`).length>0&&$("#communication-group-collaborator-members-list").find(`.communication-group-collaborator-group-member-wrapper[data-id="${t.id}"]`).remove()}))),$("#modal-communication-group-employees-selection").length>0&&$("#modal-communication-group-employees-selection").find(`.contact-profile-container[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).parent(".employee-selection-list-container").remove(),$("#modal-communication-group-employee-group-selection").length>0&&e.data.hasOwnProperty("employee_groups")&&e.data.employee_groups&&$.each(e.data.employee_groups,(function(e,t){digibiz.communicationCreateEmployeeGroupsList=digibiz.communicationCreateEmployeeGroupsList.filter((e=>e.id!=t.id)),$(`.group-selection-wrapper[data-group-id="${t.id}"]`).remove()})),$("#modal-communication-group-collaborator-group-selection").length>0&&e.data.hasOwnProperty("employee_groups")&&e.data.employee_groups&&$.each(e.data.employee_groups,(function(e,t){digibiz.communicationCreateCollaboratorGroupsList=digibiz.communicationCreateCollaboratorGroupsList.filter((e=>e.id!=t.id)),processCommunicationGroupCreateCollaboratorGroupsList(digibiz.communicationCreateCollaboratorGroupsList,(function(){}))})),$("#modal-communication-group-moderator-selection").length>0&&$("#modal-communication-group-moderator-selection").find(`.contact-profile-container[data-id="${e.data.dj_unique_employee_id}"]`).parents(".employee-selection-list-container").remove()),"employee_contact_list"==$("body").attr("app")&&$(`.employee-wrapper[data-employee-id="${e.data.dj_unique_employee_id}"]`).remove(),"employee_access_list"==$("body").attr("app")&&(digibiz.employee_access_list=digibiz.employee_access_list.filter((t=>t.dj_unique_employee_id!=e.data.dj_unique_employee_id)),$(`.employee-access-employee-wrapper[data-id="${e.data.dj_unique_employee_id}"]`).remove()),"collaborator_group_create"!=$("body").attr("app")&&"collaborator_group_details"!=$("body").attr("app")||(sessionStorage.getItem("group_id")?$(`.collaborator-group-moderator-member-wrapper[data-employee-id="${e.data.dj_unique_employee_id}"]`).remove():($(`.collaborator-group-employee-member-wrapper[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).remove(),$(`.collaborator-group-employee-moderator-member-wrapper[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).remove()),($("#modal-collaborator-group-owner-business-employee-selection").length>0||$("#modal-collaborator-group-moderator-selection").length>0)&&$(`.contact-profile-container[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).parent(".employee-selection-list-container").remove(),$("#modal-collaborator-group-business-members").length>0&&$("#modal-collaborator-group-business-members").find(`.contact-profile-container[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).parent(".employee-selection-list-container").remove(),e.data.hasOwnProperty("employee_groups")&&e.data.employee_groups&&$.each(e.data.employee_groups,(function(e,t){sessionStorage.getItem("group_id")==t.id&&(Materialize.toast("Group Deleted",3e3,"round success-alert"),sessionStorage.removeItem("group_id"),$(".custom-modal-popup").remove(),location.hash="collaborator/groups/list")})),digibiz.show_employees_collaborator_group=digibiz.show_employees_collaborator_group.filter((t=>t.member.employee_id!=e.data.dj_unique_employee_id))),"business_notifications"==$("body").attr("app")&&$("#modal-collaborator-group-employees-selection").length>0&&$("#modal-collaborator-group-employees-selection").find(`.contact-profile-container[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).parent(".employee-selection-list-container").remove(),"business_notifications"==$("body").attr("app")&&(digibiz.business_notifications=[],getBusinessNotificationsPage()),$("#customer-contact-add-access-for-employee-contact-selection-modal").length>0&&$("#customer-contact-add-access-for-employee-contact-selection-modal").find(`.customer-contact-access-employee-wrapper[data-id="${e.data.dj_unique_employee_id}"]`).remove(),"employee_group_create"==$("body").attr("app")&&($("#employee-group-members-list").find(`.custom-employee-group-member-wrapper[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).remove(),$("#employee-group-members-list").find(`.employee-group-member-wrapper[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).remove(),$("#employee-group-moderator-members-list").find(`.employee-group-moderator-member-wrapper[data-id="${e.data.dj_unique_employee_id}"]`).remove(),$("#modal-standard-employee-group-selection").length>0&&e.data.hasOwnProperty("employee_groups")&&e.data.employee_groups&&e.data.employee_groups.length>0&&$.each(e.data.employee_groups,(function(e,t){"pending"!=t.status.status&&"deleted"!=t.status.status||$(`.standard-employee-group-select[data-id="${t.id}"]`).parents(".standard-employee-group-selection-wrapper").remove()})),e.data.hasOwnProperty("employee_groups")&&e.data.employee_groups&&e.data.employee_groups.length>0&&$.each(e.data.employee_groups,(function(e,t){"pending"!=t.status.status&&"deleted"!=t.status.status||($("#modal-communication-group-activate-employee-group-employee-list-selection").length>0&&$(`#modal-communication-group-activate-employee-group-employee-list-selection[data-group-id="${t.id}"]`).length>0&&$(`#modal-communication-group-activate-employee-group-employee-list-selection[data-group-id="${t.id}"]`).remove(),sessionStorage.getItem("group_id")==t.id&&(Materialize.toast("Group Deleted",3e3,"round success-alert"),sessionStorage.removeItem("group_id"),sessionStorage.removeItem("group_from"),sessionStorage.removeItem("group_type"),$(".custom-modal-popup").remove(),location.hash="employee_group_creation/list"))})),$("#modal-employee-selection").length>0&&$("#modal-employee-selection").find(`.contact-profile-container[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).length>0&&$("#modal-employee-selection").find(`.contact-profile-container[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).parents(".employee-selection-list-container").remove()),$("#modal-communication-group-activate-employee-group-employee-list-selection").length>0&&($("#modal-communication-group-activate-employee-group-employee-list-selection").find(`.contact-profile-container[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).length>0&&($("#modal-communication-group-activate-employee-group-employee-list-selection").find(`.contact-profile-container[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).parents(".employee-selection-list-container").remove(),$("#modal-communication-group-activate-employee-group-employee-list-selection").find(".employee-selection-list-container").length<1&&$("#modal-communication-group-activate-employee-group-employee-list-selection").remove()),e.data.hasOwnProperty("employee_groups")&&e.data.employee_groups&&e.data.employee_groups.length>0&&$.each(e.data.employee_groups,(function(e,t){"pending"!=t.status.status&&"deleted"!=t.status.status||$("#modal-communication-group-activate-employee-group-employee-list-selection").find(`.accordion-content[data-group-id="${t.id}"]`).length>0&&($("#modal-communication-group-activate-employee-group-employee-list-selection").find(`.accordion-content[data-group-id="${t.id}"]`).parents(".communication-groups-identifier-based-customer-contacts-item-wrapper").remove(),$("#modal-communication-group-activate-employee-group-employee-list-selection").find(".communication-groups-identifier-based-customer-contacts-item-wrapper").length<=1&&$("#modal-communication-group-activate-employee-group-employee-list-selection").remove())}))),$("#group-member-search-modal").length>0&&$("#group-member-search-modal").find(`.group-member-search-wrapper[data-id="${e.data.dj_unique_employee_id}"]`).length>0&&$("#group-member-search-modal").find(`.group-member-search-wrapper[data-id="${e.data.dj_unique_employee_id}"]`).remove(),"customer_creation_active_list"==$("body").attr("app")&&(digibiz.customer_creation_active_list=[],activeCustomerCreationListPage())},employeeUpdateEmployeeRole:function(e){if(console.log("employeeUpdateEmployeeRole socket reached",e),"employee_business_list"==$("body").attr("app")&&sessionStorage.getItem("account_id")==e.data.account_id)if("active"==e.data.status.status||"unassigned"==e.data.status.status)$(`.employee-business-wrapper[data-business-id="${e.data.business_id}"]`).length>0?$(`.employee-business-wrapper[data-business-id="${e.data.business_id}"]`).attr("data-status","active"):(digibiz.employee_business_list=[],businessList({device_id:crossplat.device.uuid,list_by:"employee"}).then((e=>{processEmployeeBusinessList(e,(function(){removeLoader()}))})).catch((e=>{})));else if("inactive"==e.data.status.status){if($(`.employee-business-wrapper[data-business-id="${e.data.business_id}"]`).length>0)$(`.employee-business-wrapper[data-business-id="${e.data.business_id}"]`).attr("data-status","inactive");else digibiz.employee_business_list=[],businessList({device_id:crossplat.device.uuid,list_by:"employee"}).then((e=>{processEmployeeBusinessList(e,(function(){removeLoader()}))})).catch((e=>{}))}},customerUpdateCustomerRole:function(e){if("customer_business_list"==$("body").attr("app")&&sessionStorage.getItem("account_id")==e.data.account_id)if("active"==e.data.status.status)$(`.employee-business-wrapper[data-business-id="${e.data.business_id}"]`).length>0?$(`.employee-business-wrapper[data-business-id="${e.data.business_id}"]`).attr("data-status","active"):(digibiz.customer_business_list=[],businessList({device_id:crossplat.device.uuid,list_by:"customer"}).then((e=>{processCustomerBusinessList(e,(function(){removeLoader()}))})).catch((e=>{})));else if("inactive"==e.data.status.status){if($(`.employee-business-wrapper[data-business-id="${e.data.business_id}"]`).length>0)$(`.employee-business-wrapper[data-business-id="${e.data.business_id}"]`).attr("data-status","inactive");else digibiz.customer_business_list=[],businessList({device_id:crossplat.device.uuid,list_by:"customer"}).then((e=>{processCustomerBusinessList(e,(function(){removeLoader()}))})).catch((e=>{}))}},superAdminAdd:function(e){if("super_admin_management_hub"==$("body").attr("app")&&("active-super-admin"==sessionStorage.getItem("selected-super-admin-management-tab")&&(digibiz.active_super_admins_list=[],activeSuperAdminsTab()),"pending-super-admin"==sessionStorage.getItem("selected-super-admin-management-tab")&&(digibiz.pending_super_admins_list=[],pendingSuperAdminsTab())),"employee_creation_list"==$("body").attr("app")&&"employee_active"==sessionStorage.getItem("selected-employee-tab")&&(digibiz.active_employee_creation_employee_list.splice(0,0,e.data),processActiveEmployeeCreationEmployeeList(digibiz.active_employee_creation_employee_list,(function(){}))),"employee_group_create"==$("body").attr("app")&&sessionStorage.getItem("group_id")==e.data.std_group.id){if($("#modal-communication-group-activate-employee-group-employee-list-selection").length>0&&"active"==e.data.status.status){e.data.hasOwnProperty("identity_picture")&&e.data.identity_picture&&e.data.identity_picture.hasOwnProperty("thumbnail")&&e.data.identity_picture.thumbnail?(e.data.identity_picture.avtarUrl=`${api.get_employee_identity_picture}?id=${e.data.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.data.identity_picture.thumbnail}`,e.data.imageLetter=e.data.name.first.charAt(0)):e.data.imageLetter=e.data.name.first.charAt(0);var t={employeeData:e.data},i=$("#modal-communication-group-activate-employee-group-employee-list-selection").find(".employee-selection-member-list");fetch.appendHtml((function(){$("#modal-communication-group-activate-employee-group-employee-list-selection").find(`.communication-group-employee-select-btn[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).attr("checked",!0)}),"layouts/template_elements/employee_group_add_moderator_list_selection","#employee-group-add-moderator-list-selection-template",i,t)}employeeGroupCreationPage()}"employee_business_list"==$("body").attr("app")&&sessionStorage.getItem("account_id")==e.data.account_id&&(digibiz.employee_business_list=[],businessList({device_id:crossplat.device.uuid,list_by:"employee"}).then((e=>{processEmployeeBusinessList(e,(function(){removeLoader()}))})).catch((e=>{})));"business_owner_business_list"==$("body").attr("app")&&sessionStorage.getItem("account_id")==e.data.account_id&&(digibiz.business_owner_business_list=[],businessList({device_id:crossplat.device.uuid,list_by:"my_business"}).then((e=>{processBusinessOwnerBusinessList(e,(function(){}))})).catch((e=>{})));sessionStorage.getItem("account_id")==e.data.account_id&&(digibiz.business_owner_business_list=[],businessAdminBusinessListHelperMethod())},superAdminRevoke:function(e){("super_admin_management_hub"==$("body").attr("app")&&("active-super-admin"==sessionStorage.getItem("selected-super-admin-management-tab")&&(digibiz.active_super_admins_list=[],activeSuperAdminsTab()),"pending-super-admin"==sessionStorage.getItem("selected-super-admin-management-tab")&&(digibiz.pending_super_admins_list=[],pendingSuperAdminsTab())),"business_owner_business_list"==$("body").attr("app")&&sessionStorage.getItem("account_id")==e.data.employee_data.account_id)&&(digibiz.business_owner_business_list=[],businessList({device_id:crossplat.device.uuid,list_by:"my_business"}).then((e=>{processBusinessOwnerBusinessList(e,(function(){}))})).catch((e=>{})));"employee_business_list"==$("body").attr("app")&&sessionStorage.getItem("account_id")==e.data.employee_data.account_id&&(digibiz.employee_business_list=[],businessList({device_id:crossplat.device.uuid,list_by:"employee"}).then((e=>{processEmployeeBusinessList(e,(function(){removeLoader()}))})).catch((e=>{})));if(sessionStorage.getItem("account_id")==e.data.employee_data.account_id&&"business_owner"==sessionStorage.getItem("digibiz_role")&&sessionStorage.getItem("business_id")==e.data.employee_data.business_id){Materialize.toast("You're access as super-admin has been removed.",3e3,"round success-alert"),$("#alert-digibiz-admin-access-revoked").remove();var t=sessionStorage.getItem("user_id"),i=sessionStorage.getItem("uuid"),a=sessionStorage.getItem("socketID"),o=sessionStorage.getItem("account_id"),s=sessionStorage.getItem("accountDetails"),r=sessionStorage.getItem("storage_token"),n=sessionStorage.getItem("profile_details"),d=sessionStorage.getItem("digibiz_role"),c=sessionStorage.getItem("get_role_btn");sessionStorage.clear(),sessionStorage.setItem("user_id",t),sessionStorage.setItem("uuid",i),sessionStorage.setItem("socketID",a),sessionStorage.setItem("account_id",o),sessionStorage.setItem("accountDetails",s),sessionStorage.setItem("storage_token",r),sessionStorage.setItem("profile_details",n),sessionStorage.setItem("digibiz_role",d),sessionStorage.setItem("get_role_btn",c),showAlert({alert_id:"alert-digibiz-admin-access-revoked",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Your access to this business has been revoked.Please contact the business.Click ok to continue.",alert_btn:[{name:"OK",attr:[{name:"id",value:"btn-digibiz-admin-access-revoked-ok"}]}]},(function(){}))}"employee_group_creation_list"==$("body").attr("app")&&("standard"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&(digibiz.standard_employees_groups_list_page=[],standardEmployeesGroupsListPage()),"custom"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&(digibiz.custom_employees_groups_list_page=[],customEmployeesGroupsListPage())),"employee_group_create"==$("body").attr("app")&&$("#modal-communication-group-activate-employee-group-employee-list-selection").length>0&&$("#modal-communication-group-activate-employee-group-employee-list-selection").find(`.contact-profile-container[data-dj-unique-employee-id="${e.data.employee_data.dj_unique_employee_id}"]`).parents(".employee-selection-list-container").remove(),"employee_creation_list"==$("body").attr("app")&&"employee_active"==sessionStorage.getItem("selected-employee-tab")&&(digibiz.active_employee_creation_employee_list=[],activeEmployeeListPage()),"communication_groups"==$("body").attr("app")&&("communication"==sessionStorage.getItem("selected-communication-group-type-tab")?(digibiz.communicationGroupsList=[],getCommunicationGroupsPage()):"employee"==sessionStorage.getItem("selected-communication-group-type-tab")?(digibiz.communicationEmployeeGroupsList=[],getCommunicationEmployeePage()):"customer"==sessionStorage.getItem("selected-communication-group-type-tab")&&(digibiz.communicationCustomerGroupsList=[],getCommunicationCustomerPage())),"communication_group_details"==$("body").attr("app")&&getCommunicationGroupDetailPage(),"collaborator_group_details"==$("body").attr("app")&&getCollaboratorGroupDetailsPage()},employeeGroupAdd:function(e){if("employee_group_creation_list"==$("body").attr("app")){var t;if("standard"==sessionStorage.getItem("selected-employee-group-list-type-tab"))(t=[]).push(e.data),processStandardEmployeeGroupsList(t,(function(){}));if("custom"==sessionStorage.getItem("selected-employee-group-list-type-tab"))(t=[]).push(e.data),processCustomEmployeeGroupsList(t,(function(){}))}},customerGroupAdd:function(e){if("customer_groups_identifiers_list"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&("standard"==sessionStorage.getItem("selected-customer-group-type-tab")&&"standard"==e.data.group_type&&(digibiz.standard_customer_groups_identifiers_list=[],standardCustomerGroupsIdentifierListPage()),"custom"==sessionStorage.getItem("selected-customer-group-type-tab")&&"custom"==e.data.group_type)){var t=[];t.push(e.data),processCustomerCustomGroupList(t,(function(){}))}var i=e.data;if($("#modal-communication-group-customer-group-selection").length>0)if($(`.group-selection-wrapper[data-group-id="${i.id}"][data-group-type="customer"]`).length>0);else if("draft"==i.status.status){if(i.hasOwnProperty("group_image")&&i.group_image)if(i.group_image.hasOwnProperty("thumbnail")&&i.group_image.thumbnail){var a=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${i.id}&image_id=${i.group_image.thumbnail}`;i.group_image.avtarUrl=a,i.imageLetter=i.name.charAt(0)}else i.imageLetter=i.name.charAt(0);else i.imageLetter=i.name.charAt(0);var o={group_data:i};fetch.appendHtml((function(){}),"layouts/template_elements/communication_group_group_list_customer_group_add","#communication-group-group-list-customer-group-add-template",".customer-group-list-selection-main-container",o)}},communicationGroupAdd:function(e){"communication_groups"==$("body").attr("app")&&"communication"==sessionStorage.getItem("selected-communication-group-type-tab")&&(digibiz.communicationGroupsList=[],getCommunicationGroupsPage())},collaboratorGroupAdd:function(e){"collaborator_groups_list"==$("body").attr("app")&&(digibiz.collaborator_groups_list=[],getCollaboratorGroupsListPage())},groupCommonUpdate:function(e){if(e.data.socket_enable_status&&($(`[data-group-id="${e.data.id}"]`).attr("data-socket_enable_status",e.data.socket_enable_status),$(`[data-group-id="${e.data.group_id}"]`).attr("data-socket_enable_status",e.data.socket_enable_status),$(`[data-id="${e.data.group_id}"]`).attr("data-socket_enable_status",e.data.socket_enable_status)),"employee_group_creation_list"==$("body").attr("app")&&"custom"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&(digibiz.custom_employees_groups_list_page=[],customEmployeesGroupsListPage()),"employee_group_create"==$("body").attr("app")&&sessionStorage.getItem("group_id")==e.data.id&&employeeGroupCreationPage(),"customer_create"==$("body").attr("app")){if($("#customer-access-show-modal").length>0)digibiz.show_customer_access_list=[],getIdentifierItem({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"customer",id:sessionStorage.getItem("customer_id")}).then((e=>{showAccessCustomerList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"customer",identifier_id:sessionStorage.getItem("identifier_id"),identifier_item_id:e.id,member_id:sessionStorage.getItem("customer_id")}).then((e=>{processCustomerShowAccessList(e,(function(){removeLoader()}))})).catch((e=>{}))})).catch((e=>{}));if($("#associate-customer-access-show-modal").length>0){digibiz.show_associate_customer_access_list=[];var t=$("#associate-customer-access-show-modal").attr("data-associate-customer-id");addLoader(),getIdentifierItem({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"associate_customer",id:t}).then((e=>{var i=e.data.find((e=>"associate_customer_identifier"==e.type));processAssociateCustomerShowAccessList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"associate_customer",identifier_id:i.identifier_id,identifier_item_id:e.id,member_id:t,parent_identifier_id:e.parent_customer_identifier_id}).then((e=>{})).catch((e=>{}))})).catch((e=>{}))}}"employee_create"==$("body").attr("app")&&($("#employee-access-show-modal").length>0&&(digibiz.show_employee_access_list=[],showAccessEmployeeList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"employee",member_id:sessionStorage.getItem("employee_id")}).then((e=>{processEmployeeShowAccessList(e,(function(){removeLoader()}))})).catch((e=>{}))));$("#modal-communication-group-employee-group-selection").length>0&&$("#modal-communication-group-employee-group-selection").find(`.group-selection-wrapper[data-group-id="${e.data.id}"]`).find(".employee-group-name span").text(e.data.name),$("#communication-group-employee-members-list").length>0&&$("#communication-group-employee-members-list").find(`.communication-group-employee-group-member-wrapper[data-id="${e.data.id}"]`).length>0&&$("#communication-group-employee-members-list").find(`.communication-group-employee-group-member-wrapper[data-id="${e.data.id}"]`).find(".filemanager-file-wrapper span").text(e.data.name),$("#communication-group-employee-members-list").length>0&&sessionStorage.getItem("group_id")&&getCommunicationGroupDetailPage(),"communication_group_details"==$("body").attr("app")&&($("#communication-group-collaborator-members-list").length>0&&$("#communication-group-collaborator-members-list").find(`.communication-group-collaborator-group-member-wrapper[data-id="${e.data.id}"]`).length>0&&$("#communication-group-collaborator-members-list").find(`.communication-group-collaborator-group-member-wrapper[data-id="${e.data.id}"]`).find(".filemanager-file-wrapper span").text(e.data.name),$("#communication-group-collaborator-members-list").length>0&&sessionStorage.getItem("group_id")&&$("#communication-group-collaborator-members-list").find(`.communication-group-member-wrapper[data-group-id="${e.data.id}"]`).length>0&&getCommunicationGroupDetailPage(),$("#modal-communication-group-collaborator-group-selection").length>0&&$("#modal-communication-group-collaborator-group-selection").find(`.group-selection-wrapper[data-group-id="${e.data.id}"]`).find(".collaborator-group-name span").text(e.data.name))},employeeGroupDepartmentAddUpdate:function(e){"employee_group_create"==$("body").attr("app")&&sessionStorage.getItem("group_id")==e.data.id&&(e.data.department_data.length>0&&$.each(e.data.department_data,(function(e,t){if($("#employee-group-members-list").find(`.custom-employee-group-member-wrapper[data-department-id="${t.id}"]`).length>0);else{var i=t.name.charAt(0),a=`<div class="custom-employee-group-member-wrapper" data-department-id="${t.id}">\n                                        <div class="file-select">                                                    \n                                            <div class="contact-profile-container" data-department-id="${t.id}">\n                                                <span class="persona">${i}</span>\n                                            </div>\n                                        </div>\n                                        <div class="filemanager-file-wrapper">\n                                            <span class="custom-employee-group-member-name">${t.name}</span>\n                                        </div>\n                                        <div class="btn-wrap">              \n                                            <div class="more-menu-wrapper" id="delete_custom_department_list_group_department" data-department-id="${t.id}"><i class="material-icons">delete</i></div>\n                                        </div>\n                                    </div>`;$("#employee-group-members-list").append(a)}})),Materialize.toast("Departments Added Successfully",3e3,"round success-alert"))},employeeGroupDepartmentDeleteUpdate:function(e){"employee_group_create"==$("body").attr("app")&&sessionStorage.getItem("group_id")==e.data.id&&employeeGroupCreationPage()},groupDelete:function(e){if("employee"==e.data.group_for&&sessionStorage.getItem("business_id")==e.data.business_id&&("employee_group_creation_list"==$("body").attr("app")&&"custom"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&(digibiz.custom_employees_groups_list_page=[],customEmployeesGroupsListPage()),"employee_group_create"==$("body").attr("app")&&sessionStorage.getItem("group_id")==e.data.id&&(Materialize.toast("Group Deleted",3e3,"round success-alert"),sessionStorage.removeItem("group_id"),sessionStorage.removeItem("group_from"),sessionStorage.removeItem("group_type"),$(".custom-modal-popup").remove(),location.hash="employee_group_creation/list"),$("#modal-communication-group-employee-group-selection").length>0&&("draft"!=e.data.status.status&&"deleted"!=e.data.status.status&&"pending"!=e.data.status.status||(digibiz.communicationCreateEmployeeGroupsList=digibiz.communicationCreateEmployeeGroupsList.filter((t=>t.id!=e.data.id)),processCommunicationGroupCreateEmployeeGroupsList(digibiz.communicationCreateEmployeeGroupsList,(function(){})))),$("#communication-group-employee-members-list").length>0&&$("#communication-group-employee-members-list").find(`.communication-group-employee-group-member-wrapper[data-id="${e.data.id}"]`).length>0&&$("#communication-group-employee-members-list").find(`.communication-group-employee-group-member-wrapper[data-id="${e.data.id}"]`).remove(),$("#communication-group-employee-members-list").length>0&&sessionStorage.getItem("group_id")&&getCommunicationGroupDetailPage()),"customer"==e.data.group_for&&sessionStorage.getItem("business_id")==e.data.business_id&&("customer_groups_identifiers_list"==$("body").attr("app")&&"custom"==e.data.group_type&&"custom"==sessionStorage.getItem("selected-customer-group-type-tab")&&(digibiz.custom_groups_list=digibiz.custom_groups_list.filter((t=>t.id!=e.data.id)),processCustomerCustomGroupList(digibiz.custom_groups_list,(function(){}))),$("#modal-communication-group-customer-group-selection").length>0&&("deleted"!=e.data.status.status&&"pending"!=e.data.status.status||(digibiz.communicationCreateCustomersGroupsList=digibiz.communicationCreateCustomersGroupsList.filter((t=>t.id!=e.data.id)),processCommunicationGroupCreateCustomerGroupsList(digibiz.communicationCreateCustomersGroupsList,(function(){})))),$("#communication-group-customer-members-list").find(`.communication-group-customer-group-member-wrapper[data-id="${e.data.id}"]`).length>0&&$("#communication-group-customer-members-list").find(`.communication-group-customer-group-member-wrapper[data-id="${e.data.id}"]`).remove(),$("#communication-group-customer-members-list").find(`.communication-group-member-wrapper[data-group-id="${e.data.id}"]`).length>0&&getCommunicationGroupDetailPage()),"collaborator"==e.data.group_for&&("collaborator_group_details"==$("body").attr("app")&&sessionStorage.getItem("group_id")==e.data.id&&(Materialize.toast("Group Deleted",3e3,"round success-alert"),sessionStorage.removeItem("group_id"),$(".custom-modal-popup").remove(),location.hash="collaborator/groups/list"),"collaborator_groups_list"==$("body").attr("app")&&(digibiz.collaborator_groups_list=[],getCollaboratorGroupsListPage()),"communication_group_details"==$("body").attr("app")&&($(`.communication-group-collaborator-group-member-wrapper[data-id="${e.data.id}"]`).remove(),$(`.communication-group-member-wrapper[data-group-id="${e.data.id}"]`).remove(),$("#modal-communication-group-collaborator-group-selection").length>0&&(digibiz.communicationCreateCollaboratorGroupsList=digibiz.communicationCreateCollaboratorGroupsList.filter((t=>t.id!=e.data.id)),processCommunicationGroupCreateCollaboratorGroupsList(digibiz.communicationCreateCollaboratorGroupsList,(function(){}))),sessionStorage.getItem("group_id")&&getCommunicationGroupDetailPage())),"communication"==e.data.group_for&&("communication_group_details"==$("body").attr("app")&&(sessionStorage.getItem("group_id")==e.data.id&&(Materialize.toast("Group Deleted",3e3,"round success-alert"),sessionStorage.removeItem("group_id"),sessionStorage.removeItem("group_type"),sessionStorage.removeItem("group_from"),$(".custom-modal-popup").remove(),location.hash="communication/groups"),$("#modal-communication-group-collaborator-group-selection").length>0&&(digibiz.communicationCreateCollaboratorGroupsList=digibiz.communicationCreateCollaboratorGroupsList.filter((t=>t.id!=e.data.id)),processCommunicationGroupCreateCollaboratorGroupsList(digibiz.communicationCreateCollaboratorGroupsList,(function(){})))),"communication_groups"==$("body").attr("app")&&"communication"==sessionStorage.getItem("selected-communication-group-type-tab")&&(digibiz.communicationGroupsList=[],getCommunicationGroupsPage())),$("#employee-access-show-modal").length>0){var t=digibiz.show_employee_access_list.find((t=>"contact"==t.access_data_type&&"custom_group"==t.access_data.type&&t.access_data.id==e.data.id));null!=t&&(digibiz.show_employee_access_list=digibiz.show_employee_access_list.filter((e=>e.id!=t.id)));var i=digibiz.show_employee_access_list.find((t=>"group"==t.access_data_type&&t.id==e.data.id));null!=i&&(digibiz.show_employee_access_list=digibiz.show_employee_access_list.filter((e=>e.id!=i.id))),processEmployeeShowAccessList(digibiz.show_employee_access_list,(function(){}))}},groupMemberDelete:function(e){$("#modal-communication-group-activate-employee-group-employee-list-selection").length>0&&(digibiz.communicationActivateEmployeeGroupEmployeeList=digibiz.communicationActivateEmployeeGroupEmployeeList.filter((t=>t.id!=e.data.member_data.id)),processCommunicationGroupActivateEmployeeGroupEmployeeList(digibiz.communicationActivateEmployeeGroupEmployeeList,e.data.group_data,(function(){}))),"employee_group_creation_list"==$("body").attr("app")&&"custom"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&(digibiz.custom_employees_groups_list_page=[],customEmployeesGroupsListPage()),"employee_group_create"==$("body").attr("app")&&(employeeGroupCreationPage(),e.data.hasOwnProperty("deleted_group")&&e.data.deleted_group&&e.data.deleted_group.length>0&&$.each(e.data.deleted_group,(function(e,t){"pending"!=t.status.status&&"deleted"!=t.status.status||sessionStorage.getItem("group_id")==t.id&&(Materialize.toast("Group Deleted",3e3,"round success-alert"),sessionStorage.removeItem("group_id"),sessionStorage.removeItem("group_from"),sessionStorage.removeItem("group_type"),$(".custom-modal-popup").remove(),location.hash="employee_group_creation/list")}))),"communication_group_details"==$("body").attr("app")&&($("#modal-communication-group-customer-group-selection").length>0&&e.data.hasOwnProperty("deleted_group")&&e.data.deleted_group&&$.each(e.data.deleted_group,(function(e,t){digibiz.communicationCreateCustomersGroupsList=digibiz.communicationCreateCustomersGroupsList.filter((e=>e.id!=t.id)),$(`.group-selection-wrapper[data-group-id="${t.id}"]`).remove()})),e.data.hasOwnProperty("deleted_group")&&e.data.deleted_group&&$.each(e.data.deleted_group,(function(t,i){$("#communication-group-customer-members-list").find(`.communication-group-customer-group-member-wrapper[data-id="${i.id}"]`).length>0&&$("#communication-group-customer-members-list").find(`.communication-group-customer-group-member-wrapper[data-id="${i.id}"]`).remove(),$("#communication-group-customer-members-list").find(`.communication-group-member-wrapper[data-group-id="${i.id}"]`).length>0&&($("#communication-group-customer-members-list").find(`.communication-group-member-wrapper[data-group-id="${e.data.id}"]`).remove(),$("#communication-group-moderator-members-list").find(`.communication-group-moderator-member-wrapper[data-group-id="${e.data.id}"]`).remove())})),$("#modal-communication-group-employee-group-selection").length>0&&e.data.hasOwnProperty("deleted_group")&&e.data.deleted_group.length>0&&$.each(e.data.deleted_group,(function(e,t){"draft"!=t.status.status&&"deleted"!=t.status.status&&"pending"!=t.status.status||(digibiz.communicationCreateEmployeeGroupsList=digibiz.communicationCreateEmployeeGroupsList.filter((e=>e.id!=t.id)),$(`.group-selection-wrapper[data-group-id="${t.id}"]`).remove())})),sessionStorage.getItem("group_id")&&getCommunicationGroupDetailPage(),$("#communication-group-employee-members-list").length>0&&$.each(e.data.deleted_group,(function(e,t){"draft"!=t.status.status&&"deleted"!=t.status.status&&"pending"!=t.status.status||$("#communication-group-employee-members-list").find(`.communication-group-employee-group-member-wrapper[data-id="${t.id}"]`).length>0&&$("#communication-group-employee-members-list").find(`.communication-group-employee-group-member-wrapper[data-id="${t.id}"]`).remove()}))),"collaborator_group_details"==$("body").attr("app")&&($("#collaborator-group-moderator-list").find(".collaborator-group-moderator-member-wrapper").length>0&&$("#collaborator-group-moderator-list").find(`.collaborator-group-moderator-member-wrapper[data-id="${e.data.member_data.member.employee_id}"]`).remove(),$("#modal-collaborator-group-business-members").length>0&&$("#modal-collaborator-group-business-members").find(`.contact-profile-container[data-member-id="${e.data.member_data.id}"]`).parents(".employee-selection-list-container").remove())},customerIdentifierAdd:function(e){if(("customer_identifiers_list"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&("customer"==sessionStorage.getItem("selected-customer-identifier-tab")&&"customer"==e.data.type?(digibiz.customer_identifiers.splice(0,0,e.data),processCustomerIdentifiersList(digibiz.customer_identifiers,(function(){}))):"associate_customer"==sessionStorage.getItem("selected-customer-identifier-tab")&&"associate_customer"==e.data.type?(digibiz.associate_customer_identifiers.splice(0,0,e.data),processAssociateCustomerIdentifiersList(digibiz.associate_customer_identifiers,(function(){}))):primaryCustomerLabelListPage()),"customer_creation"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&("identifiers"==sessionStorage.getItem("selected-tab")&&"customer"==e.data.type?(digibiz.customer_identifiers.splice(0,0,e.data),processCustomerIdentifiersList(digibiz.customer_identifiers,(function(){}))):"labels"!=sessionStorage.getItem("selected-tab")||"associate_customer"!=e.data.type&&"primary_customer"!=e.data.type||(digibiz.associate_customer_identifiers.splice(0,0,e.data),processAssociateCustomerIdentifiersList(digibiz.associate_customer_identifiers,(function(){})))),"customer_groups_identifiers_list"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&"standard"==sessionStorage.getItem("selected-customer-group-type-tab")&&(digibiz.standard_customer_groups_identifiers_list=[],standardCustomerGroupsIdentifierListPage()),"customer_groups_list"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&"standard"==sessionStorage.getItem("selected-customer-group-type-tab")&&(digibiz.groups_list=[],getCustomerGroupsListPage()),"customer_contacts_identifiers_list"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&(digibiz.customer_contacts_identifiers_list=[],getCustomerContactsIdentifiersListPage()),"customer_contacts_items_list"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&(digibiz.contacts_items_list=[],getCustomerContactsItemsListPage()),"customer_creation_identifiers_list"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id)&&"customer"==e.data.type)if("customer_active"==sessionStorage.getItem("selected-customer-tab"))(t=[]).push(e.data),processCustomerIdentifiersActiveCustomerCreationList(t,(function(){}));else if("customer_pending"==sessionStorage.getItem("selected-customer-tab")){var t;(t=[]).push(e.data),processCustomerIdentifiersPendingCustomerCreationList(t,(function(){}))}"customer_access_identifiers"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&("customer"==e.data.type&&((t=[]).push(e.data),processCustomerAccessIdentifiersList(t,(function(){}))));("customer_access_identifiers_items"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&(digibiz.customer_access_identifier_items_list=[],customerAccessIdentifiersItemsPage()),"customer_groups_details"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id)&&($("#modal-customer-group-contact-list-selection").length>0&&(digibiz.customerGroupsContactsList=[],getCustomerGroupContactList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id")}).then((e=>{processCustomerGroupContactsList(e,(function(){}))})).catch((e=>{}))));if("communication_group_details"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&$("#modal-communication-group-customer-contact-list-selection").length>0)if("customer"==e.data.type){var i={identifier:e.data};fetch.appendHtml((function(){}),"layouts/template_elements/communication_group_contact_list_customer_identifier","#communication-group-contact-list-customer-identifier-template",".communication-group-identifier-based-customer-contact-list-contentbox",i)}else"associate_customer"==e.data.type&&$.each($('.accordion-contenttt[data-content-type="identifier"]'),(function(e,t){if($(t).find(".communication-group-identifier-based-customer-contact-items-list-contentbox").length>0){var i=$(t).siblings('.accordion-titleee[data-type="identifier"]').attr("data-tab");$("#"+i).slideToggle().parent().siblings().find(".accordion-content").slideUp(),$(t).siblings('.accordion-titleee[data-type="identifier"]').toggleClass("active-title")}}))},customerIdentifierUpdate:function(e){if("customer_identifiers_list"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id)if("customer"==sessionStorage.getItem("selected-customer-identifier-tab")&&"customer"==e.data.type)$(`.customer-identifier-wrapper[data-id="${e.data.id}"]`).find(".customer-identifier-name").attr("value",e.data.identifier),$(`.customer-identifier-wrapper[data-id="${e.data.id}"]`).find(".customer-identifier-name").find("span").text(e.data.identifier),(t=digibiz.customer_identifiers.findIndex((t=>t.id==e.data.id)))>-1&&(digibiz.customer_identifiers[t].identifier=e.data.identifier);else if("associate_customer"==sessionStorage.getItem("selected-customer-identifier-tab")&&"associate_customer"==e.data.type){$(`.associate-customer-identifier-wrapper[data-id="${e.data.id}"]`).find(".associate-customer-identifier-name").attr("value",e.data.identifier),$(`.associate-customer-identifier-wrapper[data-id="${e.data.id}"]`).find(".associate-customer-identifier-name").find("span").text(e.data.identifier),(t=digibiz.associate_customer_identifiers.findIndex((t=>t.id==e.data.id)))>-1&&(digibiz.associate_customer_identifiers[t].identifier=e.data.identifier)}else $(`.customer-identifier-wrapper[data-id="${e.data.id}"]`).find(".customer-identifier-name").attr("value",e.data.identifier),$(`.customer-identifier-wrapper[data-id="${e.data.id}"]`).find(".customer-identifier-name").find("span").text(e.data.identifier);if("customer_creation"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id)if("identifiers"==sessionStorage.getItem("selected-tab")&&"customer"==e.data.type)$(`.customer-identifier-wrapper[data-id="${e.data.id}"]`).find(".customer-identifier-name").attr("value",e.data.identifier),$(`.customer-identifier-wrapper[data-id="${e.data.id}"]`).find(".customer-identifier-name").find("span").text(e.data.identifier),(t=digibiz.customer_identifiers.findIndex((t=>t.id==e.data.id)))>-1&&(digibiz.customer_identifiers[t].identifier=e.data.identifier);else if("labels"==sessionStorage.getItem("selected-tab")&&("associate_customer"==e.data.type||"primary_customer"==e.data.type)){var t;$(`.associate-customer-identifier-wrapper[data-id="${e.data.id}"]`).find(".associate-customer-identifier-name").attr("value",e.data.identifier),$(`.associate-customer-identifier-wrapper[data-id="${e.data.id}"]`).find(".associate-customer-identifier-name").find("span").text(e.data.identifier),(t=digibiz.associate_customer_identifiers.findIndex((t=>t.id==e.data.id)))>-1&&(digibiz.associate_customer_identifiers[t].identifier=e.data.identifier)}("customer_contacts_identifiers_list"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&$(`.customer-contacts-identifier-wrapper[data-id="${e.data.id}"]`).find(".customer-contacts-identifier-name").find("span").text(e.data.identifier),"customer_groups_identifiers_list"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&($(`.customer-groups-identifier-wrapper[data-id="${e.data.id}"]`).find(".customer-groups-identifier-name").find("span").text(e.data.identifier),e.data.hasOwnProperty("updated_groups")&&e.data.updated_groups&&$.each(e.data.updated_groups,(function(e,t){var i=t.name;$(`.customer-group-wrapper[data-id="${t.id}"]`).find(".customer-group-name span").text(i)}))),"customer_creation_identifiers_list"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&("customer_active"==sessionStorage.getItem("selected-customer-tab")||"customer_pending"==sessionStorage.getItem("selected-customer-tab"))&&$(`.create-customer-identifier-wrapper[data-id="${e.data.id}"]`).find(".customer-identifier-name").find("span").text(e.data.identifier),"customer_access_identifiers"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&$(`.customer-access-identifier-wrapper[data-id="${e.data.id}"]`).find(".customer-contacts-identifier-name").find("span").text(e.data.identifier),"customer_access_identifiers_items"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&(digibiz.customer_access_identifier_items_list=[],customerAccessIdentifiersItemsPage()),"customer_access_identifiers_item_page"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id)&&($("#customer-contact-add-access-for-customer-contact-item-selection-modal").length>0&&listContactsList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"customer",list_by:"primary_customer_identifier",primary_customer_identifier_id:sessionStorage.getItem("identifier_id")}).then((e=>{digibiz.customer_contact_add_access_customer_contact_item_selection=[],digibiz.customer_contact_add_access_customer_contact_item_selection=e,getCustomerContactAddAccessForCustomerContact(digibiz.customer_contact_add_access_customer_contact_item_selection,(function(){}))})).catch((e=>{})));if("customer_contact_list"==$("body").attr("app")){var i=$(`.customer-contact-wrapper[data-identifier-id="${e.data.id}"]`).find(".associate-customer-info").find("span").text().split("|")[1];$(`.customer-contact-wrapper[data-identifier-id="${e.data.id}"]`).find(".associate-customer-info").find("span").text(`${e.data.identifier}|${i}`)}if("customer_groups_details"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id){if($("#modal-customer-group-contact-list-selection").length>0)digibiz.customerGroupsContactsList=[],getCustomerGroupContactList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id")}).then((e=>{processCustomerGroupContactsList(e,(function(){}))})).catch((e=>{}));e.data.hasOwnProperty("updated_groups")&&e.data.updated_groups&&$.each(e.data.updated_groups,(function(e,t){if($("#customer-group-members-list").find(`.customer-group-member-wrapper[data-id="${t.id}"]`).length>0){var i=t.name;$("#customer-group-members-list").find(`.customer-group-member-wrapper[data-id="${t.id}"]`).find(".filemanager-file-wrapper span").text(i)}if($("#customer-group-members-list").find(`.custom-customer-group-member-wrapper[data-group-id="${t.id}"]`).length>0){i=t.name;$("#customer-group-members-list").find(`.custom-customer-group-member-wrapper[data-group-id="${t.id}"]`).find(".filemanager-file-wrapper span").text(i)}$("#modal-customer-group-groups-list-selection").length>0&&$(`.customer-group-custom-group-wrapper[data-id="${t.id}"]`).find(".customer-custom-group-name span").text(t.name)}))}if($("#employee-contact-add-access-for-customer-contact-identifier-selection-modal").length>0&&($("#select-customer-identifier-for-role-assignment").find(`option[data-id="${e.data.id}"]`).attr("value",e.data.identifier),$("#select-customer-identifier-for-role-assignment").find(`option[data-id="${e.data.id}"]`).text(e.data.identifier)),"customer_contacts_items_list"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&(digibiz.contacts_items_list=[],getCustomerContactsItemsListPage()),"customer_groups_list"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&"standard"==sessionStorage.getItem("selected-customer-group-type-tab")&&(digibiz.groups_list=[],getCustomerGroupsListPage()),"communication_group_details"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id){if($("#modal-communication-group-customer-contact-list-selection").length>0&&("customer"==e.data.type?($(`.accordion-titleee[data-tab="${e.data.id}"][data-type="identifier"]`).find(".communication-group-identifier-based-customer-contacts-identifier-name span").text(e.data.identifier),$(`.accordion-contenttt[id="${e.data.id}"][data-content-type="identifier"]`).find(".communication-groups-identifier-based-customer-contacts-item-wrapper").length>0&&$.each($(`.accordion-contenttt[id="${e.data.id}"][data-content-type="identifier"]`).find(".communication-groups-identifier-based-customer-contacts-item-wrapper"),(function(t,i){var a;a=$(i).find(".accordion-titleee .contact-item-name").find("span").text().split("|")[1],$(i).find(".contact-item-name").find("span").text(`${e.data.identifier}|${a}`)}))):"associate_customer"==e.data.type&&$.each($(`.accordion-titleee[data-associate-customer-identifier-id="${e.data.id}"][data-type="contact_item"]`),(function(t,i){var a=$(i).find(".contact-item-name").find("span").text().split("|")[0];$(i).find(".contact-item-name").find("span").text(`${a}_${e.data.identifier}`);var o=$(i).siblings(`.accordion-contenttt[id="${$(i).attr("data-tab")}"]`).find(".communication-groups-identifier-based-customer-contact-wrapper");$.each(o,(function(t,i){var a=$(i).find(".associate-customer-info span").text().split("|")[1];$(i).find(".associate-customer-info span").text(`${e.data.identifier}|${a}`)}))}))),$("#modal-communication-group-customer-group-selection").length>0)groupsList({device_id:crossplat.device.uuid,type:"customer",list_by:"draft_active_customer_groups",business_id:sessionStorage.getItem("business_id")}).then((e=>{digibiz.communicationCreateCustomersGroupsList=[],processCommunicationGroupCreateCustomerGroupsList(e,(function(){setTimeout((function(){}),0)}))})).catch((e=>{}));$("#communication-group-customer-members-list").length>0&&e.data.hasOwnProperty("updated_groups")&&e.data.updated_groups&&$.each(e.data.updated_groups,(function(e,t){if($("#communication-group-customer-members-list").find(`.communication-group-customer-group-member-wrapper[data-id="${t.id}"]`).length>0){var i=t.name;$("#communication-group-customer-members-list").find(`.communication-group-customer-group-member-wrapper[data-id="${t.id}"]`).find(".filemanager-file-wrapper span").text(i)}if($("#communication-group-customer-members-list").find(`.communication-group-member-wrapper[data-group-id="${t.id}"]`).length>0){i=t.name;$("#communication-group-customer-members-list").find(`.communication-group-member-wrapper[data-group-id="${t.id}"]`).find(".filemanager-file-wrapper span").text(i)}}))}"customer_business_list"==$("body").attr("app")&&(digibiz.customer_business_list=[],businessList({device_id:crossplat.device.uuid,list_by:"customer"}).then((e=>{processCustomerBusinessList(e,(function(){removeLoader()}))})).catch((e=>{})))},customerIdentifierDelete:function(e){("customer_identifiers_list"==$("body").attr("app")&&("customer"==sessionStorage.getItem("selected-customer-identifier-tab")&&"customer"==e.data.type?(digibiz.customer_identifiers=digibiz.customer_identifiers.filter((t=>t.id!=e.data.id)),processCustomerIdentifiersList(digibiz.customer_identifiers,(function(){}))):"associate_customer"==sessionStorage.getItem("selected-customer-identifier-tab")&&"associate_customer"==e.data.type&&(digibiz.associate_customer_identifiers=digibiz.associate_customer_identifiers.filter((t=>t.id!=e.data.id)),processAssociateCustomerIdentifiersList(digibiz.associate_customer_identifiers,(function(){})))),"customer_creation"==$("body").attr("app")&&("identifiers"==sessionStorage.getItem("selected-tab")&&"customer"==e.data.type?(digibiz.customer_identifiers=digibiz.customer_identifiers.filter((t=>t.id!=e.data.id)),processCustomerIdentifiersList(digibiz.customer_identifiers,(function(){}))):"labels"!=sessionStorage.getItem("selected-tab")||"associate_customer"!=e.data.type&&"primary_customer"!=e.data.type||(digibiz.associate_customer_identifiers=digibiz.associate_customer_identifiers.filter((t=>t.id!=e.data.id)),processAssociateCustomerIdentifiersList(digibiz.associate_customer_identifiers,(function(){})))),"customer_creation_identifiers_list"==$("body").attr("app")&&("customer_active"==sessionStorage.getItem("selected-customer-tab")?(digibiz.customer_identifiers_active_customers_list=digibiz.customer_identifiers_active_customers_list.filter((t=>t.id!=e.data.id)),processCustomerIdentifiersActiveCustomerCreationList(digibiz.customer_identifiers_active_customers_list,(function(){}))):"customer_pending"==sessionStorage.getItem("selected-customer-tab")&&(digibiz.customer_identifiers_pending_customers_list=digibiz.customer_identifiers_pending_customers_list.filter((t=>t.id!=e.data.id)),processCustomerIdentifiersPendingCustomerCreationList(digibiz.customer_identifiers_pending_customers_list,(function(){})))),"customer_creation_active_list"==$("body").attr("app")&&(digibiz.customer_creation_active_list=[],activeCustomerCreationListPage()),"customer_creation_pending_list"==$("body").attr("app")&&"customer_pending"==sessionStorage.getItem("selected-customer-tab")&&(digibiz.customer_creation_pending_list=[],pendingCustomerCreationListPage()),"customer_notification_details_page"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&(digibiz.customer_notification_details_list=[],getCustomerNotificationDetailsPage()),"customer_contacts_identifiers_list"==$("body").attr("app")&&(digibiz.customer_contacts_identifiers_list=digibiz.customer_contacts_identifiers_list.filter((t=>t.id!=e.data.id)),processCustomerContactsIdentifiersList(digibiz.customer_contacts_identifiers_list,(function(){}))),"customer_contacts_items_list"==$("body").attr("app")&&(digibiz.contacts_items_list=[],getCustomerContactsItemsListPage()),"customer_contact_list"==$("body").attr("app")&&(digibiz.contacts_list=[],getCustomerContactListPage()),"customer_groups_identifiers_list"==$("body").attr("app")&&("standard"==sessionStorage.getItem("selected-customer-group-type-tab")&&(digibiz.standard_customer_groups_identifiers_list=digibiz.standard_customer_groups_identifiers_list.filter((t=>t.id!=e.data.id)),processStandardCustomerGroupsIdentifiersList(digibiz.standard_customer_groups_identifiers_list,(function(){}))),"custom"==sessionStorage.getItem("selected-customer-group-type-tab")&&(digibiz.custom_groups_list=[],customCustomerGroupsListPage())),"customer_groups_list"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&"standard"==sessionStorage.getItem("selected-customer-group-type-tab")&&(digibiz.groups_list=[],getCustomerGroupsListPage()),"customer_access_identifiers"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&(digibiz.customer_access_identifiers_list=digibiz.customer_access_identifiers_list.filter((t=>t.id!=e.data.id&&"customer"==t.type)),processCustomerAccessIdentifiersList(digibiz.customer_access_identifiers_list,(function(){}))),"customer_access_identifiers_items"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&(digibiz.customer_access_identifier_items_list=[],customerAccessIdentifiersItemsPage()),"customer_access_identifiers_item_page"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id)&&($("#customer-contact-add-access-for-customer-contact-item-selection-modal").length>0&&listContactsList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"customer",list_by:"primary_customer_identifier",primary_customer_identifier_id:sessionStorage.getItem("identifier_id")}).then((e=>{digibiz.customer_contact_add_access_customer_contact_item_selection=[],digibiz.customer_contact_add_access_customer_contact_item_selection=e,getCustomerContactAddAccessForCustomerContact(digibiz.customer_contact_add_access_customer_contact_item_selection,(function(){}))})).catch((e=>{})));if("customer_groups_details"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id){if($("#modal-customer-group-contact-list-selection").length>0)digibiz.customerGroupsContactsList=[],getCustomerGroupContactList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id")}).then((e=>{processCustomerGroupContactsList(e,(function(){}))})).catch((e=>{}));"group_list"==sessionStorage.getItem("group_from")&&e.data.hasOwnProperty("customer_groups")&&e.data.customer_groups&&$.each(e.data.customer_groups,(function(e,t){$("#customer-group-members-list").find(`.customer-group-member-wrapper[data-id="${t.id}"]`).remove(),$("#customer-group-members-list").find(`.custom-customer-group-member-wrapper[data-group-id="${t.id}"]`).remove()})),e.data.hasOwnProperty("customer_groups")&&e.data.customer_groups&&$.each(e.data.customer_groups,(function(e,t){sessionStorage.getItem("group_id")==t.id&&(Materialize.toast("Group Deleted",3e3,"round success-alert"),sessionStorage.removeItem("group_id"),sessionStorage.removeItem("group_from"),$(".custom-modal-popup").remove(),"custom"==sessionStorage.getItem("group_type")?(location.hash="customer/groups/identifiers/list",sessionStorage.removeItem("group_type")):(location.hash="customer/groups/list",sessionStorage.removeItem("group_type")))}))}"communication_group_details"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&(e.data.hasOwnProperty("customer_groups")&&e.data.customer_groups&&$.each(e.data.customer_groups,(function(e,t){sessionStorage.getItem("group_id")==t.id&&(Materialize.toast("Group Deleted",3e3,"round success-alert"),sessionStorage.removeItem("group_id"),$(".custom-modal-popup").remove(),location.hash="communication/groups"),"deleted"==t.status.status&&($(`.communication-group-member-wrapper[data-group-id="${t.id}"]`).remove(),$(`.communication-group-customer-group-member-wrapper[data-id="${t.id}"]`).remove(),$(`.communication-group-moderator-member-wrapper[data-group-id="${t.id}"]`).remove())})),"customer"==e.data.type?($(`.communication-group-moderator-member-wrapper-not-saved[data-identifier-id="${e.data.id}"]`).remove(),$(`.communication-group-moderator-member-wrapper-not-saved[data-parent-customer-identifier-id="${e.data.id}"]`).remove()):"associate_customer"==e.data.type&&$(`.communication-group-moderator-member-wrapper-not-saved[data-identifier-id="${e.data.id}"]`).remove(),"customer"==e.data.type?($(`.communication-group-moderator-member-wrapper[data-identifier-id="${e.data.id}"][data-type="customer"]`).remove(),$(`.communication-group-moderator-member-wrapper[data-parent-customer-identifier-id="${e.data.id}"][data-type="associate_customer"]`).remove()):"associate_customer"==e.data.type&&$(`.communication-group-moderator-member-wrapper[data-identifier-id="${e.data.id}"][data-type="associate_customer"]`).remove(),"customer"==e.data.type?($(`.communication-group-customer-member-wrapper[data-identifier-id="${e.data.id}"]`).remove(),$(`.communication-group-customer-member-wrapper[data-parent-customer-identifier-id="${e.data.id}"]`).remove()):"associate_customer"==e.data.type&&$(`.communication-group-customer-member-wrapper[data-identifier-id="${e.data.id}"]`).remove(),"customer"==e.data.type?($(`.communication-group-member-wrapper[data-identifier-id="${e.data.id}"]`).remove(),$(`.communication-group-member-wrapper[data-parent-customer-identifier-id="${e.data.id}"]`).remove()):"associate_customer"==e.data.type&&$(`.communication-group-member-wrapper[data-identifier-id="${e.data.id}"]`).remove(),$("#modal-communication-group-moderator-selection").length>0&&("customer"==e.data.type?($("#modal-communication-group-moderator-selection").find(`.contact-profile-container[data-identifier-id="${e.data.id}"][data-customer-type="customer"]`).parents(".employee-selection-list-container").remove(),$("#modal-communication-group-moderator-selection").find(`.contact-profile-container[data-parent-customer-identifier-id="${e.data.id}"][data-customer-type="associate_customer"]`).parents(".employee-selection-list-container").remove()):"associate_customer"==e.data.type&&$("#modal-communication-group-moderator-selection").find(`.contact-profile-container[data-identifier-id="${e.data.id}"][data-customer-type="associate_customer"]`).parents(".employee-selection-list-container").remove()),$("#modal-communication-group-customer-contact-list-selection").length>0&&("customer"==e.data.type?$(`.accordion-titleee[data-tab="${e.data.id}"][data-type="identifier"]`).parent(".communication-group-identifier-based-customer-contacts-identifier-wrapper").remove():"associate_customer"==e.data.type&&$(`.accordion-titleee[data-associate-customer-identifier-id="${e.data.id}"][data-type="contact_item"]`).parent(".communication-groups-identifier-based-customer-contacts-item-wrapper").remove()),$("#modal-communication-group-customer-group-selection").length>0&&e.data.hasOwnProperty("customer_groups")&&e.data.customer_groups&&$.each(e.data.customer_groups,(function(e,t){digibiz.communicationCreateCustomersGroupsList=digibiz.communicationCreateCustomersGroupsList.filter((e=>e.id!=t.id)),$(`.group-selection-wrapper[data-group-id="${t.id}"]`).remove()}))),"customer_create"==$("body").attr("app")&&($(`.customer-associate-customer-assignment-box[data-identifier-id="${e.data.id}"]`).remove(),Materialize.toast("Associate Customer Identifier Deleted!",3e3,"round error-alert")),"customer_creation_pending_list"==$("body").attr("app")&&sessionStorage.getItem("identifier_id")==e.data.id&&"customer_pending"==sessionStorage.getItem("selected-customer-tab")&&(digibiz.customer_creation_pending_list=[],pendingCustomerCreationListPage()),"customer_notification_details_page"==$("body").attr("app")&&sessionStorage.getItem("identifier_id")==e.data.id&&(digibiz.customer_notification_details_list=[],getCustomerNotificationDetailsPage())},customerIdentifierItemUpdate:function(e){"communication_group_details"==$("body").attr("app")&&$("#modal-communication-group-customer-contact-list-selection").length>0&&$("#modal-communication-group-customer-contact-list-selection").find(`.accordion-titleee[data-tab="${e.data.id}"]`).find(".contact-item-name span").text(e.data.name),"employee_create"==$("body").attr("app")&&$("#employee-contact-add-access-for-customer-contact-identifier-item-selection-modal").length>0&&$("#employee-contact-add-access-for-customer-contact-identifier-item-selection-modal").find(`.customer-identifier-item-wrapper[data-id="${e.data.id}"]`).find(".contact-item-name span").text(e.data.name)},customerAdd:function(e){if("customer_creation_pending_list"==$("body").attr("app")&&"customer_pending"==sessionStorage.getItem("selected-customer-tab")&&(digibiz.customer_creation_pending_list=[],pendingCustomerCreationListPage()),"customer_creation_active_list"==$("body").attr("app")&&"customer_active"==sessionStorage.getItem("selected-customer-tab")&&(digibiz.customer_creation_active_list=[],activeCustomerCreationListPage()),$("#modal-communication-group-customer-contact-list-selection").length,"customer_groups_details"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id)if($("#modal-customer-group-contact-list-selection").length>0)digibiz.customerGroupsContactsList=digibiz.customerGroupsContactsList.map((t=>(t.id==e.data.identifier_id&&t.hasOwnProperty("contactItems")&&t.contactItems&&t.contactItems.length>0&&(t.contactItems=t.contactItems.map((t=>(1!=t.data.length&&"1"!=t.data.length||t.hasOwnProperty("customerData")&&t.customerData&&t.customerData.push(e.data),t)))),t))),processCustomerGroupContactsList(digibiz.customerGroupsContactsList,(function(){}));else if($("#modal-customer-group-groups-list-selection").length>0){digibiz.customerGroupCustomGroupsList=[],groupsList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"customer",list_by:"draft_active_standard_customer_groups"}).then((e=>{processCustomerGroupCustomGroupList(e,(function(){}))})).catch((e=>{}))}"digibiz_notifications"==$("body").attr("app")&&(digibiz.digibiz_notifications=[],getDigibizNotificationsPage()),"customer"==sessionStorage.getItem("digibiz_role")&&sessionStorage.getItem("account_id")==e.data.account_id&&(customerBusinessListHelperMethod(),associateCustomerModuleListHelperMethod())},customerUpdate:function(e){if("customer_creation_pending_list"==$("body").attr("app")&&(digibiz.customer_creation_pending_list=[],pendingCustomerCreationListPage()),"customer_creation_active_list"==$("body").attr("app")&&(digibiz.customer_creation_active_list=[],activeCustomerCreationListPage()),"customer_groups_identifiers_list"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&"standard"==sessionStorage.getItem("selected-customer-group-type-tab")&&(digibiz.standard_customer_groups_identifiers_list=[],standardCustomerGroupsIdentifierListPage()),"customer_groups_list"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&"standard"==sessionStorage.getItem("selected-customer-group-type-tab")&&(digibiz.groups_list=[],getCustomerGroupsListPage()),"customer_contact_list"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&(digibiz.contacts_list=[],getCustomerContactListPage()),"communication_group_details"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id){if($("#modal-communication-group-customer-contact-list-selection").length>0){if($("#modal-communication-group-customer-contact-list-selection").find(`.communication-groups-identifier-based-customer-contact-wrapper[data-id="${e.data.id}"]`).length>0)o=e.data.hasOwnProperty("display_name")&&e.data.display_name?e.data.display_name:`${e.data.name.first} ${e.data.name.last}`,$("#modal-communication-group-customer-contact-list-selection").find(`.communication-groups-identifier-based-customer-contact-wrapper[data-id="${e.data.id}"]`).find(".customer-contact-name span").text(o),$("#modal-communication-group-customer-contact-list-selection").find(`.communication-groups-identifier-based-customer-contact-wrapper[data-id="${e.data.id}"]`).find(".customer-label").find("span").text(`Label: ${e.data.label}`);else if("active"==e.data.status.status){var t={contact:e.data};fetch.appendHtml((function(){}),"layouts/template_elements/communication_group_contact_list_customer_contact","#communication-group-contact-list-customer-contact-template",`.accordion-contenttt[id="${e.data.customer_contact_item_id}"][data-content-type="contact_item"]`,t)}if($("#modal-communication-group-customer-contact-list-selection").find(`.communication-groups-identifier-based-customer-contact-wrapper[data-parent-customer-id="${e.data.id}"]`).length>0){o=e.data.hasOwnProperty("display_name")&&e.data.display_name?e.data.display_name:`${e.data.name.first} ${e.data.name.last}`;var i=$("#modal-communication-group-customer-contact-list-selection").find(`.communication-groups-identifier-based-customer-contact-wrapper[data-parent-customer-id="${e.data.id}"]`).find(".associate-customer-info span").text().split("-")[0];$("#modal-communication-group-customer-contact-list-selection").find(`.communication-groups-identifier-based-customer-contact-wrapper[data-parent-customer-id="${e.data.id}"]`).find(".associate-customer-info span").text(`${i} - ${o}`)}}if($("#modal-communication-group-customer-group-selection").length>0&&e.data.hasOwnProperty("customer_groups")&&e.data.customer_groups&&e.data.customer_groups.length>0){var a=e.data.customer_groups;$.each(a,(function(e,t){if($(`.group-selection-wrapper[data-group-id="${t.id}"][data-group-type="customer"]`).length>0);else if("draft"==t.status.status){if(t.hasOwnProperty("group_image")&&t.group_image)if(t.group_image.hasOwnProperty("thumbnail")&&t.group_image.thumbnail){var i=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${t.id}&image_id=${t.group_image.thumbnail}`;t.group_image.avtarUrl=i,t.imageLetter=t.name.charAt(0)}else t.imageLetter=t.name.charAt(0);else t.imageLetter=t.name.charAt(0);var a={group_data:t};fetch.appendHtml((function(){}),"layouts/template_elements/communication_group_group_list_customer_group_add","#communication-group-group-list-customer-group-add-template",".customer-group-list-selection-main-container",a)}}))}if($("#communication-group-customer-members-list").find(`.communication-group-customer-member-wrapper[data-id="${e.data.id}"]`).length>0)o=e.data.hasOwnProperty("display_name")&&e.data.display_name?e.data.display_name:`${e.data.name.fisrt} ${e.data.name.last}`,$("#communication-group-customer-members-list").find(`.communication-group-customer-member-wrapper[data-id="${e.data.id}"]`).find(".filemanager-file-wrapper span").text(o);if($("#communication-group-moderator-members-list").find(`.communication-group-moderator-member-wrapper-not-saved[data-id="${e.data.id}"]`).length>0)o=e.data.hasOwnProperty("display_name")&&e.data.display_name?e.data.display_name:`${e.data.name.fisrt} ${e.data.name.last}`,$("#communication-group-moderator-members-list").find(`.communication-group-moderator-member-wrapper-not-saved[data-id="${e.data.id}"]`).find(".filemanager-file-wrapper span").text(o);if($("#communication-group-customer-members-list").find(`.communication-group-member-wrapper[data-customer-id="${e.data.id}"][data-type="customer"]`).length>0)o=e.data.hasOwnProperty("display_name")&&e.data.display_name?e.data.display_name:`${e.data.name.fisrt} ${e.data.name.last}`,$("#communication-group-customer-members-list").find(`.communication-group-member-wrapper[data-customer-id="${e.data.id}"][data-type="customer"]`).find(".filemanager-file-wrapper span").text(o);if($("#communication-group-moderator-members-list").find(`.communication-group-moderator-member-wrapper[data-id="${e.data.id}"]`).length>0)o=e.data.hasOwnProperty("display_name")&&e.data.display_name?e.data.display_name:`${e.data.name.fisrt} ${e.data.name.last}`,$("#communication-group-moderator-members-list").find(`.communication-group-moderator-member-wrapper[data-id="${e.data.id}"]`).find(".custom-communication-group-moderator-member-name").text(o)}$("#modal-communication-group-moderator-selection").length>0&&(o=e.data.hasOwnProperty("display_name")&&e.data.display_name?e.data.display_name:`${e.data.name.fisrt} ${e.data.name.last}`,$(`.contact-profile-container[data-id="${e.data.id}"][data-type="customer"][data-customer-type="customer"]`).siblings(".contact-name-wrapper").text(o));if("customer_groups_details"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id){var o;if($("#modal-customer-group-contact-list-selection").length>0)digibiz.customerGroupsContactsList=[],getCustomerGroupContactList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id")}).then((e=>{processCustomerGroupContactsList(e,(function(){}))})).catch((e=>{}));if($("#customer-group-members-list").find(`.customer-group-member-wrapper[data-id="${e.data.id}"]`).length>0)o=e.data.hasOwnProperty("display_name")&&e.data.display_name?e.data.display_name:`${e.data.name.fisrt} ${e.data.name.last}`,$("#customer-group-members-list").find(`.customer-group-member-wrapper[data-id="${e.data.id}"]`).find(".filemanager-file-wrapper span").text(o);if($("#communication-group-moderator-members-list").find(`.communication-group-moderator-member-wrapper-not-saved[data-id="${e.data.id}"]`).length>0)o=e.data.hasOwnProperty("display_name")&&e.data.display_name?e.data.display_name:`${e.data.name.fisrt} ${e.data.name.last}`,$("#communication-group-moderator-members-list").find(`.communication-group-moderator-member-wrapper-not-saved[data-id="${e.data.id}"]`).find(".filemanager-file-wrapper span").text(o);if($("#customer-group-members-list").find(`.custom-customer-group-member-wrapper[data-customer-id="${e.data.id}"][data-customer-type="customer"]`).length>0)o=e.data.hasOwnProperty("display_name")&&e.data.display_name?e.data.display_name:`${e.data.name.fisrt} ${e.data.name.last}`,$("#customer-group-members-list").find(`.custom-customer-group-member-wrapper[data-customer-id="${e.data.id}"][data-customer-type="customer"]`).find(".filemanager-file-wrapper span").text(o);if($("#modal-customer-group-groups-list-selection").length>0)digibiz.customerGroupCustomGroupsList=[],groupsList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"customer",list_by:"draft_active_standard_customer_groups"}).then((e=>{processCustomerGroupCustomGroupList(e,(function(){}))})).catch((e=>{}))}"customer_business_list"==$("body").attr("app")&&("customer"==sessionStorage.getItem("digibiz_role")&&sessionStorage.getItem("account_id")==e.data.account_id&&(digibiz.customer_business_list=[],businessList({device_id:crossplat.device.uuid,list_by:"customer"}).then((e=>{processCustomerBusinessList(e,(function(){}))})).catch((e=>{}))))},customerDelete:function(e){("customer_creation_active_list"==$("body").attr("app")&&sessionStorage.getItem("identifier_id")==e.data.identifier_id&&(digibiz.customer_creation_active_list=[],activeCustomerCreationListPage()),"customer_business_list"==$("body").attr("app")&&sessionStorage.getItem("account_id")==e.data.account_id)&&(digibiz.customer_business_list=[],businessList({device_id:crossplat.device.uuid,list_by:"customer"}).then((e=>{processCustomerBusinessList(e,(function(){removeLoader()}))})).catch((e=>{})));"customer_business_list"==$("body").attr("app")&&e.data.hasOwnProperty("associate_customer_socket")&&sessionStorage.getItem("account_id")==e.data.associate_customer_socket.account_id&&(digibiz.customer_business_list=[],businessList({device_id:crossplat.device.uuid,list_by:"customer"}).then((e=>{processCustomerBusinessList(e,(function(){removeLoader()}))})).catch((e=>{})));if("communication_groups"==$("body").attr("app")&&"communication"==sessionStorage.getItem("selected-communication-group-type-tab")&&(digibiz.communicationGroupsList=[],getCommunicationGroupsPage()),"communication_group_details"==$("body").attr("app")&&(sessionStorage.getItem("group_id")?(e.data.hasOwnProperty("customer_groups")&&e.data.customer_groups&&$.each(e.data.customer_groups,(function(e,t){sessionStorage.getItem("group_id")==t.id&&(Materialize.toast("Group Deleted",3e3,"round success-alert"),sessionStorage.removeItem("group_id"),$(".custom-modal-popup").remove(),location.hash="communication/groups"),"deleted"==t.status.status&&($(`.communication-group-member-wrapper[data-group-id="${t.id}"]`).remove(),$(`.communication-group-customer-group-member-wrapper[data-id="${t.id}"]`).remove(),$(`.communication-group-moderator-member-wrapper[data-group-id="${t.id}"]`).remove())})),$(`.communication-group-moderator-member-wrapper[data-id="${e.data.id}"][data-type="customer"]`).remove(),$(`.communication-group-moderator-member-wrapper[data-parent-customer-id="${e.data.id}"][data-type="associate_customer"]`).remove(),$(`.communication-group-member-wrapper[data-customer-id="${e.data.id}"]`).remove(),$(`.communication-group-member-wrapper[data-parent-customer-id="${e.data.id}"]`).remove()):($(`.communication-group-customer-member-checkbox[value="${e.data.id}"][data-type="customer"]`).parents(`.communication-group-customer-member-wrapper[data-id="${e.data.id}"]`).remove(),$(`.communication-group-customer-member-checkbox[data-parent-customer-id="${e.data.id}"][data-type="associate_customer"]`).parent().parent(".communication-group-customer-member-wrapper").remove(),$(`.communication-group-moderator-member-wrapper-not-saved[data-id="${e.data.id}"]`).remove(),$(`.communication-group-moderator-member-wrapper-not-saved[data-parent-customer-id="${e.data.id}"]`).remove(),e.data.hasOwnProperty("customer_groups")&&e.data.customer_groups&&$.each(e.data.customer_groups,(function(e,t){"deleted"==t.status.status&&($(`.communication-group-member-wrapper[data-group-id="${t.id}"]`).remove(),$(`.communication-group-customer-group-member-wrapper[data-id="${t.id}"]`).remove(),$(`.communication-group-moderator-member-wrapper[data-group-id="${t.id}"]`).remove())}))),$("#modal-communication-group-customer-contact-list-selection").length>0&&($("#modal-communication-group-customer-contact-list-selection").find(`.communication-groups-identifier-based-customer-contact-wrapper[data-id="${e.data.id}"]`).remove(),$("#modal-communication-group-customer-contact-list-selection").find(`.communication-groups-identifier-based-customer-contact-wrapper[data-parent-customer-id="${e.data.id}"]`).remove()),$("#modal-communication-group-customer-group-selection").length>0&&e.data.hasOwnProperty("customer_groups")&&e.data.customer_groups&&$.each(e.data.customer_groups,(function(e,t){digibiz.communicationCreateCustomersGroupsList=digibiz.communicationCreateCustomersGroupsList.filter((e=>e.id!=t.id)),$(`.group-selection-wrapper[data-group-id="${t.id}"]`).remove()}))),$("#modal-communication-group-moderator-selection").length>0&&($("#modal-communication-group-moderator-selection").find(`.contact-profile-container[data-id="${e.data.id}"][data-type="customer"][data-customer-type="customer"]`).parents(".employee-selection-list-container").remove(),$("#modal-communication-group-moderator-selection").find(`.contact-profile-container[data-parent-customer-id="${e.data.id}"][data-type="customer"][data-customer-type="associate_customer"]`).parents(".employee-selection-list-container").remove()),"customer_contact_list"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&(digibiz.contacts_list=[],getCustomerContactListPage()),"customer_groups_list"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&"standard"==sessionStorage.getItem("selected-customer-group-type-tab")&&(digibiz.groups_list=[],getCustomerGroupsListPage()),"customer_groups_details"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id)if($("#modal-customer-group-contact-list-selection").length>0)digibiz.customerGroupsContactsList=[],getCustomerGroupContactList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id")}).then((e=>{processCustomerGroupContactsList(e,(function(){}))})).catch((e=>{}));else if($("#modal-customer-group-groups-list-selection").length>0){digibiz.customerGroupCustomGroupsList=[],groupsList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"customer",list_by:"draft_active_standard_customer_groups"}).then((e=>{processCustomerGroupCustomGroupList(e,(function(){}))})).catch((e=>{}))}else($("#customer-group-members-list").find(".customer-group-member-wrapper").length>0||$("#customer-group-members-list").find(".custom-customer-group-member-wrapper").length>0)&&($(`.customer-group-member-wrapper[data-id="${e.data.id}"]`).remove(),$(`.customer-group-member-wrapper[data-parent-customer-id="${e.data.id}"]`).remove(),sessionStorage.getItem("group_id")&&($(`.custom-customer-group-member-wrapper[data-customer-id="${e.data.id}"][data-customer-type="customer"]`).remove(),$(`.custom-customer-group-member-wrapper[data-parent-customer-id="${e.data.id}"][data-customer-type="associate_customer"]`).remove(),$("#customer-group-members-list").find(".custom-customer-group-member-wrapper").length<2&&(Materialize.toast("Group Deleted!",3e3,"round error-alert"),location.hash="customer/groups/identifiers/list")),"group_list"==sessionStorage.getItem("group_from")&&e.data.hasOwnProperty("customer_groups")&&e.data.customer_groups&&$.each(e.data.customer_groups,(function(e,t){$("#customer-group-members-list").find(`.customer-group-member-wrapper[data-id="${t.id}"]`).remove(),$("#customer-group-members-list").find(`.custom-customer-group-member-wrapper[data-group-id="${t.id}"]`).remove()})));if("customer_groups_identifiers_list"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id)if("standard"==sessionStorage.getItem("selected-customer-group-type-tab"))digibiz.standard_customer_groups_identifiers_list=[],standardCustomerGroupsIdentifierListPage();else{var t=e.data.customer_groups;$.each(t,(function(e,t){digibiz.custom_groups_list=digibiz.custom_groups_list.filter((e=>e.id!=t.id))})),processCustomerCustomGroupList(digibiz.custom_groups_list,(function(){}))}if("customer_create"==$("body").attr("app")&&sessionStorage.getItem("customer_id")==e.data.id&&($("#associate-customers-pending-notification-details-modal").remove(),sessionStorage.removeItem("customer_id"),sessionStorage.removeItem("customer_name"),Materialize.toast("Customer Deleted!",3e3,"round error-alert"),location.hash="customer_creation/active/list"),"customer_create"==$("body").attr("app")&&sessionStorage.getItem("customer_id")!=e.data.id){if($("#customer-access-show-modal").length>0)digibiz.show_customer_access_list=[],getIdentifierItem({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"customer",id:sessionStorage.getItem("customer_id")}).then((e=>{showAccessCustomerList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"customer",identifier_id:sessionStorage.getItem("identifier_id"),identifier_item_id:e.id,member_id:sessionStorage.getItem("customer_id")}).then((e=>{processCustomerShowAccessList(e,(function(){removeLoader()}))})).catch((e=>{}))})).catch((e=>{}));if($("#associate-customer-access-show-modal").length>0){digibiz.show_associate_customer_access_list=[];var i=$("#associate-customer-access-show-modal").attr("data-associate-customer-id");addLoader(),getIdentifierItem({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"associate_customer",id:i}).then((e=>{var t=e.data.find((e=>"associate_customer_identifier"==e.type));processAssociateCustomerShowAccessList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"associate_customer",identifier_id:t.identifier_id,identifier_item_id:e.id,member_id:i,parent_identifier_id:e.parent_customer_identifier_id}).then((e=>{})).catch((e=>{}))})).catch((e=>{}))}}},associateCustomerAdd:function(e){if("customer_create"==$("body").attr("app")&&sessionStorage.getItem("customer_id")==e.data.customer_id)if("employee"==e.data.role.type){var t=`<div class="customer-associate-customer-assignment-box" data-id="${e.data.id}" data-status="${e.data.status.status}" data-account-id="${e.data.account_id}" data-role-id="${e.data.role.id}" data-role-type="${e.data.role.type}">\n            <div class="customer-associate-customer-assignment-wrapper">\n                <div class="customer-associate-customer-assignment-name-container">\n                    <div class="customer-associate-customer-assignment-name-wrapper">\n                        <div class="customer-associate-customer-assignment-name">${e.data.name.first}&nbsp;${e.data.name.last}</div>\n                        <div class="wrapper-secondary-heading">Employee: ${e.data.role.business_name}</div>\n                        <div class="customer-associate-customer-status">Status: ${e.data.status.status}</div>\n                    </div>\n                </div>\n                <div class="btn-wrap">\n                    <div class="more-menu-wrapper" id="show_action_customer_associate-customer_assignment"><i class="material-icons">more_vert</i></div>\n                </div>\n            </div>              \n        </div>`;$(`.pending-associate-customer-wrapper[data-account-id="${e.data.account_id}"][data-role-id="${e.data.role.id}"][data-role-type="${e.data.role.type}"]`).remove(),$(".customer-associate-customer-assignment-list-main-container").append(t)}else{t=`<div class="customer-associate-customer-assignment-box" data-id="${e.data.id}" data-status="${e.data.status.status}" data-account-id="${e.data.account_id}" data-role-id="${e.data.role.id}" data-role-type="${e.data.role.type}">\n            <div class="customer-associate-customer-assignment-wrapper">\n                <div class="customer-associate-customer-assignment-name-container">\n                    <div class="customer-associate-customer-assignment-name-wrapper">\n                        <div class="customer-associate-customer-assignment-name">${e.data.name.first}&nbsp;${e.data.name.last}</div>\n                        <div class="customer-associate-customer-status">Status: ${e.data.status.status}</div>\n                    </div>\n                </div>\n                <div class="btn-wrap">\n                    <div class="more-menu-wrapper" id="show_action_customer_associate-customer_assignment"><i class="material-icons">more_vert</i></div>\n                </div>\n            </div>              \n        </div>`;$(`.pending-associate-customer-wrapper[data-account-id="${e.data.account_id}"][data-role-id="${e.data.role.id}"][data-role-type="${e.data.role.type}"]`).remove(),$(".customer-associate-customer-assignment-list-main-container").append(t)}if("customer_groups_identifiers_list"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&"standard"==sessionStorage.getItem("selected-customer-group-type-tab")&&(digibiz.standard_customer_groups_identifiers_list=[],standardCustomerGroupsIdentifierListPage()),"customer_groups_list"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&"standard"==sessionStorage.getItem("selected-customer-group-type-tab")&&(digibiz.groups_list=[],getCustomerGroupsListPage()),$("#modal-communication-group-customer-contact-list-selection").length,"customer_groups_details"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id)if($("#modal-customer-group-contact-list-selection").length>0)digibiz.customerGroupsContactsList=digibiz.customerGroupsContactsList.map((t=>{if(t.id==e.data.parent_customer_identifier_id&&t.hasOwnProperty("contactItems")&&t.contactItems&&t.contactItems.length>0&&(2==p.data.length||"2"==p.data.length)){var i=p.data.find((t=>t.identifier_id==e.data.identifier_id&&"associate_customer_identifier"==t.type));null==i&&null==i||p.hasOwnProperty("customerData")&&p.customerData&&p.customerData.push(e.data)}return t})),processCustomerGroupContactsList(digibiz.customerGroupsContactsList,(function(){}));else if($("#modal-customer-group-groups-list-selection").length>0){digibiz.customerGroupCustomGroupsList=[],groupsList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"customer",list_by:"draft_active_standard_customer_groups"}).then((e=>{processCustomerGroupCustomGroupList(e,(function(){}))})).catch((e=>{}))}"digibiz_notifications"==$("body").attr("app")&&(digibiz.digibiz_notifications=[],getDigibizNotificationsPage()),"customer"==sessionStorage.getItem("digibiz_role")&&sessionStorage.getItem("account_id")==e.data.account_id&&(customerBusinessListHelperMethod(),associateCustomerModuleListHelperMethod())},AssociateCustomerUpdate:function(e){if("customer_groups_identifiers_list"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&"standard"==sessionStorage.getItem("selected-customer-group-type-tab")&&(digibiz.standard_customer_groups_identifiers_list=[],standardCustomerGroupsIdentifierListPage()),"customer_groups_list"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&"standard"==sessionStorage.getItem("selected-customer-group-type-tab")&&(digibiz.groups_list=[],getCustomerGroupsListPage()),"customer_contact_list"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&(digibiz.contacts_list=[],getCustomerContactListPage()),"customer_groups_details"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id){if($("#modal-customer-group-contact-list-selection").length>0)digibiz.customerGroupsContactsList=[],getCustomerGroupContactList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id")}).then((e=>{processCustomerGroupContactsList(e,(function(){}))})).catch((e=>{}));if($("#customer-group-members-list").find(`.customer-group-member-wrapper[data-id="${e.data.id}"][data-parent-customer-id="${e.data.customer_id}"]`).length>0)a=e.data.hasOwnProperty("display_name")&&e.data.display_name?e.data.display_name:`${e.data.name.fisrt} ${e.data.name.last}`,$("#customer-group-members-list").find(`.customer-group-member-wrapper[data-id="${e.data.id}"][data-parent-customer-id="${e.data.customer_id}"]`).find(".filemanager-file-wrapper span").text(a);if($("#customer-group-members-list").find(`.custom-customer-group-member-wrapper[data-customer-id="${e.data.id}"][data-parent-customer-id="${e.data.customer_id}"][data-customer-type="${e.data.customer_type}"]`).length>0)a=e.data.hasOwnProperty("display_name")&&e.data.display_name?e.data.display_name:`${e.data.name.fisrt} ${e.data.name.last}`,$("#customer-group-members-list").find(`.custom-customer-group-member-wrapper[data-customer-id="${e.data.id}"][data-parent-customer-id="${e.data.customer_id}"][data-customer-type="${e.data.customer_type}"]`).find(".filemanager-file-wrapper span").text(a);if($("#modal-customer-group-groups-list-selection").length>0)digibiz.customerGroupCustomGroupsList=[],groupsList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"customer",list_by:"draft_active_standard_customer_groups"}).then((e=>{processCustomerGroupCustomGroupList(e,(function(){}))})).catch((e=>{}))}if("communication_group_details"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id){if($("#modal-communication-group-customer-contact-list-selection").length>0)if($("#modal-communication-group-customer-contact-list-selection").find(`.communication-groups-identifier-based-customer-contact-wrapper[data-id="${e.data.id}"]`).length>0)a=e.data.hasOwnProperty("display_name")&&e.data.display_name?e.data.display_name:`${e.data.name.first} ${e.data.name.last}`,$("#modal-communication-group-customer-contact-list-selection").find(`.communication-groups-identifier-based-customer-contact-wrapper[data-id="${e.data.id}"]`).find(".customer-contact-name span").text(a);else if("active"==e.data.status.status){var t={contact:e.data};fetch.appendHtml((function(){}),"layouts/template_elements/communication_group_contact_list_customer_contact","#communication-group-contact-list-customer-contact-template",`.accordion-contenttt[id="${e.data.customer_contact_item_id}"][data-content-type="contact_item"]`,t)}if($("#modal-communication-group-customer-group-selection").length>0&&e.data.hasOwnProperty("customer_groups")&&e.data.customer_groups&&e.data.customer_groups.length>0){var i=e.data.customer_groups;$.each(i,(function(e,t){if($(`.group-selection-wrapper[data-group-id="${t.id}"][data-group-type="customer"]`).length>0);else if("draft"==t.status.status){if(t.hasOwnProperty("group_image")&&t.group_image)if(t.group_image.hasOwnProperty("thumbnail")&&t.group_image.thumbnail){var i=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${t.id}&image_id=${t.group_image.thumbnail}`;t.group_image.avtarUrl=i,t.imageLetter=t.name.charAt(0)}else t.imageLetter=t.name.charAt(0);else t.imageLetter=t.name.charAt(0);var a={group_data:t};fetch.appendHtml((function(){}),"layouts/template_elements/communication_group_group_list_customer_group_add","#communication-group-group-list-customer-group-add-template",".customer-group-list-selection-main-container",a)}}))}if($("#communication-group-customer-members-list").find(`.communication-group-customer-member-wrapper[data-id="${e.data.id}"]`).length>0)a=e.data.hasOwnProperty("display_name")&&e.data.display_name?e.data.display_name:`${e.data.name.fisrt} ${e.data.name.last}`,$("#communication-group-customer-members-list").find(`.communication-group-customer-member-wrapper[data-id="${e.data.id}"]`).find(".filemanager-file-wrapper span").text(a);if($("#communication-group-moderator-members-list").find(`.communication-group-moderator-member-wrapper-not-saved[data-id="${e.data.id}"]`).length>0)a=e.data.hasOwnProperty("display_name")&&e.data.display_name?e.data.display_name:`${e.data.name.fisrt} ${e.data.name.last}`,$("#communication-group-moderator-members-list").find(`.communication-group-moderator-member-wrapper-not-saved[data-id="${e.data.id}"]`).find(".filemanager-file-wrapper span").text(a);if($("#communication-group-customer-members-list").find(`.communication-group-member-wrapper[data-customer-id="${e.data.id}"]`).length>0)a=e.data.hasOwnProperty("display_name")&&e.data.display_name?e.data.display_name:`${e.data.name.fisrt} ${e.data.name.last}`,$("#communication-group-customer-members-list").find(`.communication-group-member-wrapper[data-customer-id="${e.data.id}"]`).find(".filemanager-file-wrapper span").text(a);if($("#communication-group-moderator-members-list").find(`.communication-group-moderator-member-wrapper[data-id="${e.data.id}"]`).length>0)a=e.data.hasOwnProperty("display_name")&&e.data.display_name?e.data.display_name:`${e.data.name.fisrt} ${e.data.name.last}`,$("#communication-group-moderator-members-list").find(`.communication-group-moderator-member-wrapper[data-id="${e.data.id}"]`).find(".custom-communication-group-moderator-member-name").text(a)}var a;$("#modal-communication-group-moderator-selection").length>0&&(a=e.data.hasOwnProperty("display_name")&&e.data.display_name?e.data.display_name:`${e.data.name.fisrt} ${e.data.name.last}`,$(`.contact-profile-container[data-id="${e.data.id}"][data-type="customer"][data-customer-type="associate_customer"]`).siblings(".contact-name-wrapper").text(a));"customer_business_list"==$("body").attr("app")&&("customer"==sessionStorage.getItem("digibiz_role")&&sessionStorage.getItem("account_id")==e.data.account_id&&(digibiz.customer_business_list=[],businessList({device_id:crossplat.device.uuid,list_by:"customer"}).then((e=>{processCustomerBusinessList(e,(function(){}))})).catch((e=>{}))));"customer_create"==$("body").attr("app")&&$('.customer-create-stepper[data-stepper="3"]').hasClass("is-active")&&($(`.customer-associate-customer-assignment-box[data-id="${e.data.id}"]`).find(".customer-associate-customer-status").text(`Status: ${e.data.status.status}`),$(`.customer-associate-customer-assignment-box[data-id="${e.data.id}"]`).attr("data-status",e.data.status.status))},AssociateCustomerDelete:function(e){("customer_groups_identifiers_list"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&("standard"==sessionStorage.getItem("selected-customer-group-type-tab")&&(digibiz.standard_customer_groups_identifiers_list=[],standardCustomerGroupsIdentifierListPage()),"custom"==sessionStorage.getItem("selected-customer-group-type-tab")&&(digibiz.custom_groups_list=[],customCustomerGroupsListPage())),"customer_groups_list"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&"standard"==sessionStorage.getItem("selected-customer-group-type-tab")&&(digibiz.groups_list=[],getCustomerGroupsListPage()),"customer_contact_list"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&(digibiz.contacts_list=[],getCustomerContactListPage()),"communication_groups"==$("body").attr("app")&&"communication"==sessionStorage.getItem("selected-communication-group-type-tab")&&(digibiz.communicationGroupsList=[],getCommunicationGroupsPage()),"communication_group_details"==$("body").attr("app")&&(sessionStorage.getItem("group_id")?(e.data.hasOwnProperty("customer_groups")&&e.data.customer_groups&&$.each(e.data.customer_groups,(function(e,t){sessionStorage.getItem("group_id")==t.id&&(Materialize.toast("Group Deleted",3e3,"round success-alert"),sessionStorage.removeItem("group_id"),$(".custom-modal-popup").remove(),location.hash="communication/groups"),"deleted"==t.status.status&&($(`.communication-group-member-wrapper[data-group-id="${t.id}"]`).remove(),$(`.communication-group-customer-group-member-wrapper[data-id="${t.id}"]`).remove(),$(`.communication-group-moderator-member-wrapper[data-group-id="${t.id}"]`).remove())})),$(`.communication-group-moderator-member-wrapper[data-id="${e.data.id}"][data-type="associate_customer"]`).remove(),$(`.communication-group-member-wrapper[data-customer-id="${e.data.id}"]`).remove()):(e.data.hasOwnProperty("customer_groups")&&e.data.customer_groups&&$.each(e.data.customer_groups,(function(e,t){"deleted"==t.status.status&&($(`.communication-group-member-wrapper[data-group-id="${t.id}"]`).remove(),$(`.communication-group-customer-group-member-wrapper[data-id="${t.id}"]`).remove(),$(`.communication-group-moderator-member-wrapper[data-group-id="${t.id}"]`).remove())})),$(`.communication-group-customer-member-wrapper[data-id="${e.data.id}"]`).remove(),$(`.communication-group-moderator-member-wrapper-not-saved[data-id="${e.data.id}"]`).remove()),$("#modal-communication-group-customer-contact-list-selection").length>0&&$("#modal-communication-group-customer-contact-list-selection").find(`.communication-groups-identifier-based-customer-contact-wrapper[data-id="${e.data.id}"]`).remove(),$("#modal-communication-group-customer-group-selection").length>0&&e.data.hasOwnProperty("customer_groups")&&e.data.customer_groups&&$.each(e.data.customer_groups,(function(e,t){digibiz.communicationCreateCustomersGroupsList=digibiz.communicationCreateCustomersGroupsList.filter((e=>e.id!=t.id)),$(`.group-selection-wrapper[data-group-id="${t.id}"]`).remove()}))),$("#modal-communication-group-moderator-selection").length>0&&$("#modal-communication-group-moderator-selection").find(`.contact-profile-container[data-id="${e.data.id}"][data-type="customer"][data-customer-type="associate_customer"]`).parents(".employee-selection-list-container").remove(),"customer_business_list"==$("body").attr("app")&&sessionStorage.getItem("account_id")==e.data.account_id)&&(digibiz.customer_business_list=[],businessList({device_id:crossplat.device.uuid,list_by:"customer"}).then((e=>{processCustomerBusinessList(e,(function(){removeLoader()}))})).catch((e=>{})));if("customer_groups_details"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id)if($("#modal-customer-group-contact-list-selection").length>0)digibiz.customerGroupsContactsList=[],getCustomerGroupContactList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id")}).then((e=>{processCustomerGroupContactsList(e,(function(){}))})).catch((e=>{}));else if($("#modal-customer-group-groups-list-selection").length>0){digibiz.customerGroupCustomGroupsList=[],groupsList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"customer",list_by:"draft_active_standard_customer_groups"}).then((e=>{processCustomerGroupCustomGroupList(e,(function(){}))})).catch((e=>{}))}else($("#customer-group-members-list").find(".customer-group-member-wrapper").length>0||$("#customer-group-members-list").find(".custom-customer-group-member-wrapper").length>0)&&($(`.customer-group-member-wrapper[data-id="${e.data.id}"]`).remove(),sessionStorage.getItem("group_id")&&($(`.custom-customer-group-member-wrapper[data-customer-id="${e.data.id}"][data-customer-type="associate_customer"]`).remove(),$("#customer-group-members-list").find(".custom-customer-group-member-wrapper").length<2&&(Materialize.toast("Group Deleted!",3e3,"round error-alert"),location.hash="customer/groups/identifiers/list")),"group_list"==sessionStorage.getItem("group_from")&&e.data.hasOwnProperty("customer_groups")&&e.data.customer_groups&&$.each(e.data.customer_groups,(function(e,t){$("#customer-group-members-list").find(`.customer-group-member-wrapper[data-id="${t.id}"]`).remove(),$("#customer-group-members-list").find(`.custom-customer-group-member-wrapper[data-group-id="${t.id}"]`).remove()}))),$.each(e.data.customer_groups,(function(e,t){sessionStorage.getItem("group_id")==t.id&&(Materialize.toast("Group Deleted",3e3,"round success-alert"),sessionStorage.removeItem("group_id"),sessionStorage.removeItem("group_from"),$(".custom-modal-popup").remove(),"custom"==sessionStorage.getItem("group_type")?(location.hash="customer/groups/identifiers/list",sessionStorage.removeItem("group_type")):(location.hash="customer/groups/list",sessionStorage.removeItem("group_type")))}));if("customer_create"==$("body").attr("app")){if($("#customer-access-show-modal").length>0)digibiz.show_customer_access_list=[],getIdentifierItem({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"customer",id:sessionStorage.getItem("customer_id")}).then((e=>{showAccessCustomerList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"customer",identifier_id:sessionStorage.getItem("identifier_id"),identifier_item_id:e.id,member_id:sessionStorage.getItem("customer_id")}).then((e=>{processCustomerShowAccessList(e,(function(){removeLoader()}))})).catch((e=>{}))})).catch((e=>{}));if($("#associate-customer-access-show-modal").length>0){digibiz.show_associate_customer_access_list=[];var t=$("#associate-customer-access-show-modal").attr("data-associate-customer-id");addLoader(),getIdentifierItem({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"associate_customer",id:t}).then((e=>{var i=e.data.find((e=>"associate_customer_identifier"==e.type));processAssociateCustomerShowAccessList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"associate_customer",identifier_id:i.identifier_id,identifier_item_id:e.id,member_id:t,parent_identifier_id:e.parent_customer_identifier_id}).then((e=>{})).catch((e=>{}))})).catch((e=>{}))}}},businessDisplayPictureUpdate:function(e){var t=`${api.get_business_multimedia}?business_id=${e.data.record_data.id}&device_id=${crossplat.device.uuid}&image_id=${e.data.record_data.display_picture.thumbnail}`;$(`.business-wrapper[data-business-id="${e.data.record_data.id}"]`).find("img").attr("src",t),$(`.employee-business-wrapper[data-business-id="${e.data.record_data.id}"]`).find("img").attr("src",t)},businessDisplayPictureRemove:function(e){$(`.business-wrapper[data-business-id="${e.data.record_data.id}"]`).find("img").attr("src",""),$(`.business-wrapper[data-business-id="${e.data.record_data.id}"]`).find("span.persona").text(e.data.record_data.name.charAt(0)),$(`.employee-business-wrapper[data-business-id="${e.data.record_data.id}"]`).find("img").attr("src",""),$(`.employee-business-wrapper[data-business-id="${e.data.record_data.id}"]`).find("span.persona").text(e.data.record_data.name.charAt(0))},businessOwnerAdd:function(e){"business_owner_business_list"==$("body").attr("app")&&(digibiz.business_owner_business_list=[],businessList({device_id:crossplat.device.uuid,list_by:"my_business"}).then((e=>{processBusinessOwnerBusinessList(e,(function(){}))})).catch((e=>{})));"business_settings"==$("body").attr("app")&&"digibiz_admin"==sessionStorage.getItem("selected-business-settings-tab")&&"digibiz_admin"==e.data.type?businessDigibizAdminsTab():"business_settings"==$("body").attr("app")&&"module_admin"==sessionStorage.getItem("selected-business-settings-tab")&&"module_admin"==e.data.type&&businessModuleAdminsTab()},digibizBusinessNotification:function(e){"business_management"==$("body").attr("app")&&sessionStorage.getItem("account_id")==e.data.account_id&&sessionStorage.getItem("business_id")==e.data.notification_data.contact.business_id&&businessManagementPage(),"business_notifications"==$("body").attr("app")&&sessionStorage.getItem("account_id")==e.data.account_id&&sessionStorage.getItem("business_id")==e.data.notification_data.contact.business_id&&(digibiz.business_notifications=[],getBusinessNotificationsPage()),"collaborator_contact_list"==$("body").attr("app")&&sessionStorage.getItem("account_id")==e.data.account_id&&sessionStorage.getItem("business_id")==e.data.notification_data.owner.business_id&&("active_collaborator"==sessionStorage.getItem("selected-collaborator-tab")?(digibiz.collaborator_contact_list=[],activeCollaboratorContactListPage()):"pending_collaborator"==sessionStorage.getItem("selected-collaborator-tab")&&(digibiz.pending_collaborator_contact_list=[],pendingCollaboratorContactListPage()))},digibizBusinessNotificationChangeStatus:function(e){if("business_management"==$("body").attr("app")&&sessionStorage.getItem("account_id")==e.data.account_id&&sessionStorage.getItem("business_id")==e.data.notification_data.contact.business_id&&businessManagementPage(),"business_notifications"==$("body").attr("app")&&sessionStorage.getItem("account_id")==e.data.account_id&&sessionStorage.getItem("business_id")==e.data.notification_data.contact.business_id&&(digibiz.business_notifications=[],getBusinessNotificationsPage()),"collaborator_contact_list"==$("body").attr("app")&&sessionStorage.getItem("account_id")==e.data.account_id&&sessionStorage.getItem("business_id")==e.data.notification_data.owner.business_id&&("active_collaborator"==sessionStorage.getItem("selected-collaborator-tab")&&(digibiz.collaborator_contact_list=[],activeCollaboratorContactListPage()),"pending_collaborator"==sessionStorage.getItem("selected-collaborator-tab")&&(digibiz.pending_collaborator_contact_list=[],pendingCollaboratorContactListPage())),"collaborator_contact_list_notification_details"==$("body").attr("app")&&sessionStorage.getItem("collaborator_business_id")==e.data.notification_data.contact.business_id&&(digibiz.collaborator_contact_list_notification_details=[],getCollaboratorContactListNotificationDetailsPage()),"collaborator_group_details"==$("body").attr("app")&&sessionStorage.getItem("account_id")==e.data.account_id&&sessionStorage.getItem("business_id")==e.data.notification_data.owner.business_id)if(e.data.hasOwnProperty("group_data")&&e.data.group_data&&"inactive"==e.data.group_data.status.status&&sessionStorage.getItem("group_id")==e.data.group_data.id)sessionStorage.removeItem("group_id"),Materialize.toast("Group Inactivated.",3e3,"round error-alert"),location.hash="collaborator/groups/list";else if("accepted"==e.data.notification_data.contact.status.status)if($(`.collaborator-group-business-member-wrapper[data-business-id="${e.data.notification_data.contact.business_id}"]`).find(".collaborator-group-business-member-status").text("Status: active"),$(`.collaborator-group-business-member-wrapper[data-business-id="${e.data.notification_data.contact.business_id}"]`).find("#collaborator_group_business_member_actions").length>0);else{$(`.collaborator-group-business-member-wrapper[data-business-id="${e.data.notification_data.contact.business_id}"]`).find(".btn-wrap").append('<div class="more-menu-wrapper" id="collaborator_group_business_member_actions"><i class="material-icons">more_vert</i></div>')}else $(`.collaborator-group-business-member-wrapper[data-business-id="${e.data.notification_data.contact.business_id}"]`).find(".collaborator-group-business-member-status").text("Status: rejected");"collaborator_groups_list"==$("body").attr("app")&&sessionStorage.getItem("account_id")==e.data.account_id&&(digibiz.collaborator_groups_list=[],getCollaboratorGroupsListPage()),"communication_group_details"==$("body").attr("app")&&$("#modal-communication-group-collaborator-group-selection").length>0&&e.data.hasOwnProperty("group_data")&&e.data.group_data&&"active"==e.data.group_data.status.status&&"collaborator"==e.data.group_data.group_for&&(digibiz.communicationCreateCollaboratorGroupsList.push(e.data.group_data),processCommunicationGroupCreateCollaboratorGroupsList(digibiz.communicationCreateCollaboratorGroupsList,(function(){})))},digibizBusinessNotificationRemove:function(e){"business_management"==$("body").attr("app")&&sessionStorage.getItem("account_id")==e.data.account_id&&sessionStorage.getItem("business_id")==e.data.business_id&&businessManagementPage(),"business_notifications"==$("body").attr("app")&&sessionStorage.getItem("account_id")==e.data.account_id&&sessionStorage.getItem("business_id")==e.data.business_id&&(digibiz.business_notifications=[],getBusinessNotificationsPage()),"collaborator_contact_list"==$("body").attr("app")&&sessionStorage.getItem("account_id")==e.data.account_id&&("active_collaborator"==sessionStorage.getItem("selected-collaborator-tab")&&(digibiz.collaborator_contact_list=[],activeCollaboratorContactListPage()),"pending_collaborator"==sessionStorage.getItem("selected-collaborator-tab")&&(digibiz.pending_collaborator_contact_list=[],pendingCollaboratorContactListPage())),"collaborator_contact_list_notification_details"==$("body").attr("app")&&sessionStorage.getItem("collaborator_business_id")==e.data.business_id&&(digibiz.collaborator_contact_list_notification_details=[],getCollaboratorContactListNotificationDetailsPage())},digibizBusinessNotificationExpire:function(e){if("business_notifications"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.contact.business_id&&(digibiz.business_notifications=[],getBusinessNotificationsPage()),"business_management"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.contact.business_id)if(""==$(".business_notification_count").text()||null==$(".business_notification_count").text()||null==$(".business_notification_count").text());else{var t=$(".business_notification_count").text();t--,$(".business_notification_count").text(t),$(".business_notification_count").removeClass("hide")}"collaborator_contact_list"==$("body").attr("app")&&"pending_collaborator"==sessionStorage.getItem("selected-collaborator-tab")&&(digibiz.pending_collaborator_contact_list=[],pendingCollaboratorContactListPage()),"collaborator_contact_list_notification_details"==$("body").attr("app")&&sessionStorage.getItem("collaborator_business_id")==e.data.contact.business_id&&(digibiz.collaborator_contact_list_notification_details=[],getCollaboratorContactListNotificationDetailsPage())},groupModeratorAdd:function(e){if("communication_groups"==$("body").attr("app")&&("communication"==sessionStorage.getItem("selected-communication-group-type-tab")?(digibiz.communicationGroupsList=[],getCommunicationGroupsPage()):"employee"==sessionStorage.getItem("selected-communication-group-type-tab")?(digibiz.communicationEmployeeGroupsList=[],getCommunicationEmployeePage()):"customer"==sessionStorage.getItem("selected-communication-group-type-tab")&&(digibiz.communicationCustomerGroupsList=[],getCommunicationCustomerPage())),"communication_group_details"==$("body").attr("app")&&(getCommunicationGroupDetailPage(),$("#modal-communication-group-employee-group-selection").length>0&&"employee"==e.data.group_for&&"active"==e.data.status.status&&(digibiz.communicationCreateEmployeeGroupsList.push(e.data),processCommunicationGroupCreateEmployeeGroupsList(digibiz.communicationCreateEmployeeGroupsList,(function(){})))),"employee_group_creation_list"==$("body").attr("app")&&("standard"==sessionStorage.getItem("selected-employee-group-list-type-tab")?(digibiz.standard_employees_groups_list_page=[],standardEmployeesGroupsListPage()):"custom"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&(digibiz.custom_employees_groups_list_page=[],customEmployeesGroupsListPage())),"employee_group_create"==$("body").attr("app")&&sessionStorage.getItem("group_id")&&employeeGroupCreationPage(),"collaborator_group_details"==$("body").attr("app")&&getCollaboratorGroupDetailsPage(),"customer_create"==$("body").attr("app")){if($("#customer-access-show-modal").length>0)digibiz.show_customer_access_list=[],getIdentifierItem({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"customer",id:sessionStorage.getItem("customer_id")}).then((e=>{showAccessCustomerList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"customer",identifier_id:sessionStorage.getItem("identifier_id"),identifier_item_id:e.id,member_id:sessionStorage.getItem("customer_id")}).then((e=>{processCustomerShowAccessList(e,(function(){removeLoader()}))})).catch((e=>{}))})).catch((e=>{}));if($("#associate-customer-access-show-modal").length>0){digibiz.show_associate_customer_access_list=[];var t=$("#associate-customer-access-show-modal").attr("data-associate-customer-id");addLoader(),getIdentifierItem({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"associate_customer",id:t}).then((e=>{var i=e.data.find((e=>"associate_customer_identifier"==e.type));processAssociateCustomerShowAccessList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"associate_customer",identifier_id:i.identifier_id,identifier_item_id:e.id,member_id:t,parent_identifier_id:e.parent_customer_identifier_id}).then((e=>{})).catch((e=>{}))})).catch((e=>{}))}}"employee_create"==$("body").attr("app")&&($("#employee-access-show-modal").length>0&&(digibiz.show_employee_access_list=[],showAccessEmployeeList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"employee",member_id:sessionStorage.getItem("employee_id")}).then((e=>{processEmployeeShowAccessList(e,(function(){removeLoader()}))})).catch((e=>{}))))},groupModeratorDelete:function(e){if("employee_group_creation_list"==$("body").attr("app")&&("standard"==sessionStorage.getItem("selected-employee-group-list-type-tab")?(digibiz.standard_employees_groups_list_page=[],standardEmployeesGroupsListPage()):"custom"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&(digibiz.custom_employees_groups_list_page=[],customEmployeesGroupsListPage())),"employee_group_create"==$("body").attr("app")&&sessionStorage.getItem("group_id")&&employeeGroupCreationPage(),"communication_groups"==$("body").attr("app")&&("communication"==sessionStorage.getItem("selected-communication-group-type-tab")?(digibiz.communicationGroupsList=[],getCommunicationGroupsPage()):"employee"==sessionStorage.getItem("selected-communication-group-type-tab")?(digibiz.communicationEmployeeGroupsList=[],getCommunicationEmployeePage()):"customer"==sessionStorage.getItem("selected-communication-group-type-tab")&&(digibiz.communicationCustomerGroupsList=[],getCommunicationCustomerPage())),"communication_group_details"==$("body").attr("app")&&(getCommunicationGroupDetailPage(),$("#modal-communication-group-employee-group-selection").length>0&&"employee"==e.data.group_for&&"draft"==e.data.status.status&&(digibiz.communicationCreateEmployeeGroupsList=digibiz.communicationCreateEmployeeGroupsList.filter((t=>t.id!=e.data.id)),processCommunicationGroupCreateEmployeeGroupsList(digibiz.communicationCreateEmployeeGroupsList,(function(){})))),"collaborator_group_details"==$("body").attr("app")&&getCollaboratorGroupDetailsPage(),"customer_create"==$("body").attr("app")){if($("#customer-access-show-modal").length>0)digibiz.show_customer_access_list=[],getIdentifierItem({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"customer",id:sessionStorage.getItem("customer_id")}).then((e=>{showAccessCustomerList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"customer",identifier_id:sessionStorage.getItem("identifier_id"),identifier_item_id:e.id,member_id:sessionStorage.getItem("customer_id")}).then((e=>{processCustomerShowAccessList(e,(function(){removeLoader()}))})).catch((e=>{}))})).catch((e=>{}));if($("#associate-customer-access-show-modal").length>0){digibiz.show_associate_customer_access_list=[];var t=$("#associate-customer-access-show-modal").attr("data-associate-customer-id");addLoader(),getIdentifierItem({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"associate_customer",id:t}).then((e=>{var i=e.data.find((e=>"associate_customer_identifier"==e.type));processAssociateCustomerShowAccessList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"associate_customer",identifier_id:i.identifier_id,identifier_item_id:e.id,member_id:t,parent_identifier_id:e.parent_customer_identifier_id}).then((e=>{})).catch((e=>{}))})).catch((e=>{}))}}"employee_create"==$("body").attr("app")&&($("#employee-access-show-modal").length>0&&(digibiz.show_employee_access_list=[],showAccessEmployeeList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),type:"employee",member_id:sessionStorage.getItem("employee_id")}).then((e=>{processEmployeeShowAccessList(e,(function(){removeLoader()}))})).catch((e=>{}))))},employeeDepartmentDelete:function(e){"department_management"==$("body").attr("app")&&(digibiz.department_list=digibiz.department_list.filter((t=>t.id!=e.data.id)),$(`.department-wrapper[data-id="${e.data.id}"]`).remove()),"employee_create"==$("body").attr("app")&&(digibiz.alreadySelectedDepartment=digibiz.alreadySelectedDepartment.filter((t=>t.id!=e.data.id)),$(`.employee-department-assignment-box[data-id="${e.data.id}"]`).remove(),$("#assign-employee-department-modal").length>0&&(digibiz.department_list_selection=digibiz.department_list_selection.filter((t=>t.id!=e.data.id)),$(`.department-wrapper[data-id="${e.data.id}"]`).remove())),"employee_contact_list"==$("body").attr("app")&&$("#department-wise-employees-list-modal").length>0&&(digibiz.department_list_selection=digibiz.department_list_selection.filter((t=>t.id!=e.data.id)),$(`.department-wrapper[data-id="${e.data.id}]"`).remove()),"employee_group_creation_list"==$("body").attr("app")&&("standard"==sessionStorage.getItem("selected-employee-group-list-type-tab")?(digibiz.standard_employees_groups_list_page=[],standardEmployeesGroupsListPage()):"custom"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&(digibiz.custom_employees_groups_list_page=[],customEmployeesGroupsListPage())),"employee_group_create"==$("body").attr("app")&&($("#employee-group-members-list").length>0&&("pending"!=e.data.std_grp.status.status&&"deleted"!=e.data.std_grp.status.status||($("#employee-group-members-list").find(`.employee-group-member-wrapper[data-id="${e.data.std_grp.id}"]`).remove(),$("#employee-group-members-list").find(`.custom-employee-group-member-wrapper[data-member-group-id="${e.data.std_grp.id}"]`).remove())),e.data.hasOwnProperty("employee_groups")&&e.data.employee_groups&&e.data.employee_groups.length>0&&$.each(e.data.employee_groups,(function(e,t){"pending"!=t.status.status&&"deleted"!=t.status.status||($("#modal-standard-employee-group-selection").length>0&&$(`.standard-employee-group-select[data-id="${t.id}"]`).parents(".standard-employee-group-selection-wrapper").remove(),sessionStorage.getItem("group_id")==t.id&&(sessionStorage.removeItem("group_id"),sessionStorage.removeItem("group_type"),sessionStorage.removeItem("group_from"),location.hash="employee_group_creation/list"))}))),$("#modal-communication-group-activate-employee-group-employee-list-selection").length>0&&($.each(e.data.employee_groups,(function(e,t){$(`#modal-communication-group-activate-employee-group-employee-list-selection[data-group-id="${t.id}"]`).remove()})),"pending"==e.data.std_grp.status.status||"deleted"==e.data.std_grp.status.status?$("#modal-communication-group-activate-employee-group-employee-list-selection").find(`.accordion-content[data-group-id="${e.data.std_grp.id}"]`).length>0&&$("#modal-communication-group-activate-employee-group-employee-list-selection").find(`.accordion-content[data-group-id="${e.data.std_grp.id}"]`).parents(".communication-groups-identifier-based-customer-contacts-item-wrapper").remove():$("#modal-communication-group-activate-employee-group-employee-list-selection").find(`.accordion-content[data-group-id="${e.data.std_grp.id}"]`).length>0&&$("#modal-communication-group-activate-employee-group-employee-list-selection").find(`.accordion-content[data-group-id="${e.data.std_grp.id}"]`).find(`.contact-profile-container[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).parents(".employee-selection-list-container").remove()),"communication_groups"==$("body").attr("app")&&"communication"==sessionStorage.getItem("selected-communication-group-type-tab")&&(digibiz.communicationGroupsList=[],getCommunicationGroupsPage()),"communication_group_details"==$("body").attr("app")&&(sessionStorage.getItem("group_id")?(getCommunicationGroupDetailPage(),e.data.hasOwnProperty("employee_groups")&&e.data.employee_groups&&$.each(e.data.employee_groups,(function(e,t){sessionStorage.getItem("group_id")==t.id&&(sessionStorage.removeItem("group_id"),sessionStorage.removeItem("group_type"),sessionStorage.removeItem("group_from"),location.hash="communication/groups")}))):e.data.hasOwnProperty("employee_groups")&&e.data.employee_groups&&$.each(e.data.employee_groups,(function(e,t){$("#communication-group-employee-members-list").length>0&&$("#communication-group-employee-members-list").find(`.communication-group-employee-group-member-wrapper[data-id="${t.id}"]`).length>0&&$("#communication-group-employee-members-list").find(`.communication-group-employee-group-member-wrapper[data-id="${t.id}"]`).remove(),sessionStorage.getItem("group_id")==t.id&&(sessionStorage.removeItem("group_id"),sessionStorage.removeItem("group_type"),sessionStorage.removeItem("group_from"),location.hash="communication/groups")})),$("#modal-communication-group-employee-group-selection").length>0&&e.data.hasOwnProperty("employee_groups")&&e.data.employee_groups&&$.each(e.data.employee_groups,(function(e,t){$(`.group-selection-wrapper[data-group-id="${t.id}"]`).remove()}))),$(`#modal-communication-group-activate-employee-group-employee-list-selection[data-group-id="${e.data.std_grp.id}"]`).length>0&&$(`#modal-communication-group-activate-employee-group-employee-list-selection[data-group-id="${e.data.std_grp.id}"]`).find(`.contact-profile-container[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).length>0&&$(`#modal-communication-group-activate-employee-group-employee-list-selection[data-group-id="${e.data.std_grp.id}"]`).find(`.contact-profile-container[data-dj-unique-employee-id="${e.data.dj_unique_employee_id}"]`).parents(".employee-selection-list-container").remove()},storageUpdate:function(e){$("body").attr("app");if(removeLoader(),e.device_id!=crossplat.device.uuid)switch(e.data.active_storage){case"Onedrive":Materialize.toast(e.data.active_storage+"is set as default storage. And is active now",3e3,"success-alert");break;case"GoogleDrive":case"DropBox":case"DJ":Materialize.toast(e.data.active_storage+"is set as default storage. And is active now.",3e3,"success-alert")}},adminDelete:function(e){("business_settings"==$("body").attr("app")&&"digibiz_admin"==sessionStorage.getItem("selected-business-settings-tab")&&"digibiz_admin"==e.data.type?businessDigibizAdminsTab():"business_settings"==$("body").attr("app")&&"module_admin"==sessionStorage.getItem("selected-business-settings-tab")&&"module_admin"==e.data.type&&businessModuleAdminsTab(),"module_admin_list"==$("body").attr("app")&&"module_admin"==sessionStorage.getItem("selected-business-settings-tab")&&"module_admin"==e.data.type&&moduleAdminListPage(),"business_owner_business_list"==$("body").attr("app")&&sessionStorage.getItem("account_id")==e.data.owner_data.account_id)&&(digibiz.business_owner_business_list=[],businessList({device_id:crossplat.device.uuid,list_by:"my_business"}).then((e=>{processBusinessOwnerBusinessList(e,(function(){}))})).catch((e=>{})));if(sessionStorage.getItem("account_id")==e.data.owner_data.account_id&&"digibiz_admin"==sessionStorage.getItem("business_role")&&sessionStorage.getItem("business_id")==e.data.business_id)Materialize.toast("You're access as digibiz-admin has been removed.",3e3,"round error-alert"),showAlert({alert_id:"alert-digibiz-admin-access-revoked",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Your access to this business as digibiz admin has been revoked.Click ok to continue.",alert_btn:[{name:"OK",attr:[{name:"id",value:"btn-digibiz-admin-access-revoked-ok"}]}]},(function(){}));else if(sessionStorage.getItem("account_id")==e.data.owner_data.account_id&&"module_admin"==sessionStorage.getItem("business_role")&&sessionStorage.getItem("business_id")==e.data.business_id){Materialize.toast("You're access as module-admin has been removed.",3e3,"round error-alert"),showAlert({alert_id:"alert-digibiz-admin-access-revoked",alert_platform:crossplat.device.platform,alert_title:"Alert",alert_body:"Your access to this business as module admin has been revoked.Click ok to continue.",alert_btn:[{name:"OK",attr:[{name:"id",value:"btn-digibiz-admin-access-revoked-ok"}]}]},(function(){}))}},digibizBusinessLogout:function(e){sessionStorage.getItem("digibiz_role")==e.data.role&&sessionStorage.getItem("business_id")==e.data.business_id&&sessionStorage.getItem("account_id")==e.data.owner.id&&(sessionStorage.removeItem("business_id"),sessionStorage.removeItem("employee_id"),location.hash="employee/business/list")},employeeIdentityPicture:function(e){var t=`${api.get_employee_identity_picture}?id=${e.data.record_data.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.data.record_data.identity_picture.thumbnail}`;"customer_creation_active_list"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.record_data.business_id&&"customer_active"==sessionStorage.getItem("selected-customer-tab")&&$(`.active-customer-wrapper[data-customer-id="${e.data.record_data.id}"]`).find(".profile-pic-container img").attr("src",t),"customer_groups_details"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.record_data.business_id&&$(`.custom-customer-group-member-wrapper[data-customer-id="${e.data.record_data.id}"][data-customer-type="customer"]`).find(".contact-profile-container img").attr("src",t),"communication_group_details"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.record_data.business_id&&($(`.communication-group-moderator-member-wrapper[data-id="${e.data.record_data.id}"][data-type="customer"]`).find(".contact-profile-container img").attr("src",t),$(`.communication-group-member-wrapper[data-customer-id="${e.data.record_data.id}"][data-type="customer"]`).find(".contact-profile-container img").attr("src",t))},customerIdentityPicture:function(e){var t=`${api.get_customer_identity_picture}?id=${e.data.record_data.id}&device_id=${crossplat.device.uuid}&image_id=${e.data.record_data.identity_picture.thumbnail}`;"customer_creation_active_list"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.record_data.business_id&&"customer_active"==sessionStorage.getItem("selected-customer-tab")&&$(`.active-customer-wrapper[data-customer-id="${e.data.record_data.id}"]`).find(".profile-pic-container img").attr("src",t),"customer_groups_details"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.record_data.business_id&&$(`.custom-customer-group-member-wrapper[data-customer-id="${e.data.record_data.id}"][data-customer-type="customer"]`).find(".contact-profile-container img").attr("src",t),"communication_group_details"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.record_data.business_id&&($(`.communication-group-moderator-member-wrapper[data-id="${e.data.record_data.id}"][data-type="customer"]`).find(".contact-profile-container img").attr("src",t),$(`.communication-group-member-wrapper[data-customer-id="${e.data.record_data.id}"][data-type="customer"]`).find(".contact-profile-container img").attr("src",t))},customerIdentityPictureRemoved:function(e){var t=e.data.record_data.name.first.charAt(0);"customer_creation_active_list"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.record_data.business_id&&"customer_active"==sessionStorage.getItem("selected-customer-tab")&&($(`.active-customer-wrapper[data-customer-id="${e.data.record_data.id}"]`).find(".profile-pic-container img").attr("src",""),$(`.active-customer-wrapper[data-customer-id="${e.data.record_data.id}"]`).find(".profile-pic-container span").text(t)),"customer_groups_details"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.record_data.business_id&&($(`.custom-customer-group-member-wrapper[data-customer-id="${e.data.record_data.id}"][data-customer-type="customer"]`).find(".contact-profile-container img").attr("src",""),$(`.custom-customer-group-member-wrapper[data-customer-id="${e.data.record_data.id}"][data-customer-type="customer"]`).find(".contact-profile-container span").text(t)),"communication_group_details"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.record_data.business_id&&($(`.communication-group-moderator-member-wrapper[data-id="${e.data.record_data.id}"][data-type="customer"]`).find(".contact-profile-container img").attr("src",""),$(`.communication-group-moderator-member-wrapper[data-id="${e.data.record_data.id}"][data-type="customer"]`).find(".contact-profile-container span").text(t),$(`.communication-group-member-wrapper[data-customer-id="${e.data.record_data.id}"][data-type="customer"]`).find(".contact-profile-container img").attr("src",""),$(`.communication-group-member-wrapper[data-customer-id="${e.data.record_data.id}"][data-type="customer"]`).find(".contact-profile-container span").text(t))},AssociateCustomerIdentityPicture:function(e){var t=`${api.get_associate_customer_identity_picture}?id=${e.data.record_data.id}&device_id=${crossplat.device.uuid}&image_id=${e.data.record_data.identity_picture.thumbnail}`;"customer_create"==$("body").attr("app")&&$(`.customer-associate-customer-assignment-box[data-id="${e.data.record_data.id}"]`).length>0&&$(`.customer-associate-customer-assignment-box[data-id="${e.data.record_data.id}"]`).find(".profile-pic-container img").attr("src",t),"customer_creation_active_list"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.record_data.business_id&&"customer_active"==sessionStorage.getItem("selected-customer-tab")&&$(`.active-customer-wrapper[data-customer-id="${e.data.record_data.id}"]`).find(".profile-pic-container img").attr("src",t),"customer_groups_details"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.record_data.business_id&&$(`.custom-customer-group-member-wrapper[data-customer-id="${e.data.record_data.id}"][data-customer-type="customer"]`).find(".contact-profile-container img").attr("src",t),"communication_group_details"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.record_data.business_id&&($(`.communication-group-moderator-member-wrapper[data-id="${e.data.record_data.id}"][data-type="customer"]`).find(".contact-profile-container img").attr("src",t),$(`.communication-group-member-wrapper[data-customer-id="${e.data.record_data.id}"][data-type="customer"]`).find(".contact-profile-container img").attr("src",t))},AssociateCustomerIdentityPictureRemoved:function(e){var t=e.data.record_data.name.first.charAt(0);"customer_create"==$("body").attr("app")&&$(`.customer-associate-customer-assignment-box[data-id="${e.data.record_data.id}"]`).length>0&&($(`.customer-associate-customer-assignment-box[data-id="${e.data.record_data.id}"]`).find(".profile-pic-container img").attr("src",""),$(`.customer-associate-customer-assignment-box[data-id="${e.data.record_data.id}"]`).find(".profile-pic-container span").text(t)),"customer_creation_active_list"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.record_data.business_id&&"customer_active"==sessionStorage.getItem("selected-customer-tab")&&($(`.active-customer-wrapper[data-customer-id="${e.data.record_data.id}"]`).find(".profile-pic-container img").attr("src",""),$(`.active-customer-wrapper[data-customer-id="${e.data.record_data.id}"]`).find(".profile-pic-container span").text(t)),"customer_groups_details"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.record_data.business_id&&($(`.custom-customer-group-member-wrapper[data-customer-id="${e.data.record_data.id}"][data-customer-type="customer"]`).find(".contact-profile-container img").attr("src",""),$(`.custom-customer-group-member-wrapper[data-customer-id="${e.data.record_data.id}"][data-customer-type="customer"]`).find(".contact-profile-container span").text(t)),"communication_group_details"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.record_data.business_id&&($(`.communication-group-moderator-member-wrapper[data-id="${e.data.record_data.id}"][data-type="customer"]`).find(".contact-profile-container img").attr("src",""),$(`.communication-group-moderator-member-wrapper[data-id="${e.data.record_data.id}"][data-type="customer"]`).find(".contact-profile-container span").text(t),$(`.communication-group-member-wrapper[data-customer-id="${e.data.record_data.id}"][data-type="customer"]`).find(".contact-profile-container img").attr("src",""),$(`.communication-group-member-wrapper[data-customer-id="${e.data.record_data.id}"][data-type="customer"]`).find(".contact-profile-container span").text(t))},reassignCustomer:function(e){("customer_creation_active_list"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&"customer_active"==sessionStorage.getItem("selected-customer-tab")&&(digibiz.customer_creation_active_list=[],activeCustomerCreationListPage()),"customer_contact_list"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&(digibiz.contacts_list=[],getCustomerContactListPage()),"customer_groups_list"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&"standard"==sessionStorage.getItem("selected-customer-group-type-tab")&&(digibiz.groups_list=[],getCustomerGroupsListPage()),"customer_groups_identifiers_list"==$("body").attr("app")&&"custom"==sessionStorage.getItem("selected-customer-group-type-tab")&&(digibiz.custom_groups_list=[],customCustomerGroupsListPage()),$("#modal-communication-group-customer-group-selection").length>0)&&groupsList({device_id:crossplat.device.uuid,type:"customer",list_by:"draft_active_customer_groups",business_id:sessionStorage.getItem("business_id")}).then((e=>{digibiz.communicationCreateCustomersGroupsList=[],processCommunicationGroupCreateCustomerGroupsList(e,(function(){setTimeout((function(){}),0)}))})).catch((e=>{}))},collaboratorContactDelete:function(e){"collaborator_contact_list"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.contact_data.owner.business_id&&"active_collaborator"==sessionStorage.getItem("selected-collaborator-tab")&&(digibiz.collaborator_contact_list=[],activeCollaboratorContactListPage()),"collaborator_groups_list"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.contact_data.owner.business_id&&(digibiz.collaborator_groups_list=[],getCollaboratorGroupsListPage()),"collaborator_group_create"!=$("body").attr("app")&&"collaborator_group_details"!=$("body").attr("app")||(e.data.hasOwnProperty("deleted_groups")&&e.data.deleted_groups&&$.each(e.data.deleted_groups,(function(e,t){sessionStorage.getItem("group_id")==t.id&&(Materialize.toast("Group Deleted.",3e3,"round error-alert"),sessionStorage.removeItem("group_id"),location.hash="collaborator/groups/list")})),$("#modal-collaborator-group-contact-list-selection").length>0&&$(`.collaborator-contact-selection-list-container[data-business-id="${e.data.contact_data.business_id}"]`).remove(),$(`.collaborator-group-member-wrapper[data-contact-id="${e.data.contact_data.id}"]`).remove()),"communication_group_details"==$("body").attr("app")&&$("#modal-communication-group-collaborator-group-selection").length>0&&e.data.hasOwnProperty("deleted_groups")&&e.data.deleted_groups&&$.each(e.data.deleted_groups,(function(e,t){digibiz.communicationCreateCollaboratorGroupsList=digibiz.communicationCreateCollaboratorGroupsList.filter((e=>e.id!=t.id)),processCommunicationGroupCreateCollaboratorGroupsList(digibiz.communicationCreateCollaboratorGroupsList,(function(){}))})),"business_notifications"==$("body").attr("app")&&(digibiz.business_notifications=[],getBusinessNotificationsPage())},collaboratorContactAdd:function(e){if("collaborator_contact_list"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.contact_data.owner.business_id&&"active_collaborator"==sessionStorage.getItem("selected-collaborator-tab")&&(digibiz.collaborator_contact_list=[],activeCollaboratorContactListPage()),("collaborator_group_create"==$("body").attr("app")||"collaborator_group_details"==$("body").attr("app"))&&$("#modal-collaborator-group-contact-list-selection").length>0&&"active"==e.data.contact_data.status.status){if(e.data.hasOwnProperty("business_data")&&e.data.business_data)if(e.data.business_data.hasOwnProperty("display_picture")&&e.data.business_data.display_picture)if(e.data.business_data.display_picture.hasOwnProperty("thumbnail")&&e.data.business_data.display_picture.thumbnail){var t=`${api.get_business_multimedia}?business_id=${e.data.business_data.id}&device_id=${crossplat.device.uuid}&image_id=${e.data.business_data.display_picture.thumbnail}`;e.data.business_data.display_picture.avtarUrl=t,e.data.business_data.imageLetter=e.data.business_data.name.charAt(0)}else e.data.business_data.imageLetter=e.data.business_data.name.charAt(0);else e.data.business_data.imageLetter=e.data.business_data.name.charAt(0);else e.data.business_data.imageLetter=e.data.business_data.name.charAt(0);var i={collaboratorContact:e.data.contact_data,business_data:e.data.business_data};fetch.appendHtml((function(){}),"layouts/template_elements/collaborator_business_contact_add_template","#collaborator-group-business-contact-add-template","#modal-collaborator-group-contact-list-selection .collaborator-contact-selection-list",i)}},groupImageUpdate:function(e){var t=e.data.record_data;if(t.hasOwnProperty("group_image")&&t.group_image&&t.group_image.hasOwnProperty("thumbnail")&&t.group_image.thumbnail){var i=`${api.get_group_image}?device_id=${crossplat.device.uuid}&id=${t.id}&image_id=${t.group_image.thumbnail}`;$(`.group_img[data-group-id="${t.id}"]`).attr("src",i)}},groupImageRemove:function(e){var t=e.data.record_data;$(`.group_img[data-group-id="${t.id}"]`).attr("src",""),$(`.group_img[data-group-id="${t.id}"]`).siblings("span").text(t.name.charAt(0))},access_revoke:function(e){"employee"==e.data.type&&(digibiz.show_employee_access_list=digibiz.show_employee_access_list.filter((t=>t.id!=e.data.id)),$("#employee-access-show-modal").length>0&&$(`.employee-access-employee-wrapper[data-id="${e.data.id}"]`).remove(),$("#customer-contact-add-access-for-employee-contact-selection-modal").length>0&&"customer_contact"==e.data.access_for&&e.data.access_data.id==sessionStorage.getItem("identifier_item_id")&&$(`.customer-contact-access-employee-wrapper[data-id="${e.data.member_id}"]`).remove()),"customer"==e.data.type&&$("#customer-access-show-modal").length>0&&(digibiz.show_customer_access_list=digibiz.show_customer_access_list.filter((t=>t.id!=e.data.id)),$(`.customer-access-customer-wrapper[data-id="${e.data.id}"]`).remove())},add_contact_access:function(e){if("employee"==e.data.type){if($("#employee-access-show-modal").length>0)(t=e.data).access_data_type="contact",digibiz.show_employee_access_list.push(t),processEmployeeShowAccessList(digibiz.show_employee_access_list,(function(){}));if($("#customer-contact-add-access-for-employee-contact-selection-modal").length>0)if("customer_contact"==e.data.access_for)if(e.data.access_data.id==sessionStorage.getItem("identifier_item_id"))identifierItemsEmployeesAccessList({device_id:crossplat.device.uuid,business_id:sessionStorage.getItem("business_id"),access_to:sessionStorage.getItem("identifier_id"),access_data_id:sessionStorage.getItem("identifier_item_id")}).then((e=>{digibiz.customer_employee_contact_access_selection=[],digibiz.customer_employee_contact_access_selection=e,processCustomerEmployeeContactAccessSelection(digibiz.customer_employee_contact_access_selection,(function(){}))})).catch((e=>{}))}var t;"customer"==e.data.type&&($("#customer-access-show-modal").length>0&&((t=e.data).access_data_type="contact",digibiz.show_customer_access_list.push(t),processCustomerShowAccessList(digibiz.show_customer_access_list,(function(){}))))},businessInactivateStart:function(e){(sessionStorage.getItem("business_id")==e.data.id&&"business_owner"==sessionStorage.getItem("digibiz_role")&&(Materialize.toast(`${e.data.name} inactivated.`,3e3,"round error-alert"),location.hash="business_owner/business/list"),"business_owner_business_list"==$("body").attr("app"))?(digibiz.business_owner_business_list=[],businessList({device_id:crossplat.device.uuid,list_by:"my_business"}).then((t=>{Materialize.toast(`${e.data.name} inactivated.`,3e3,"round error-alert"),processBusinessOwnerBusinessList(t,(function(){}))})).catch((e=>{}))):-1!=digibiz.business_owner_business_list.findIndex((t=>t.id==e.data.id))&&businessAdminBusinessListHelperMethod();"employee"==sessionStorage.getItem("digibiz_role")&&"employee_business_list"==$("body").attr("app")?(digibiz.employee_business_list=[],businessList({device_id:crossplat.device.uuid,list_by:"employee"}).then((t=>{Materialize.toast(`${e.data.name} inactivated.`,3e3,"round error-alert"),processEmployeeBusinessList(t,(function(){}))})).catch((e=>{}))):-1!=digibiz.employee_business_list.findIndex((t=>t.id==e.data.id))&&employeeBusinessListHelperMethod();("employee"==sessionStorage.getItem("digibiz_role")&&"employee_business_list"!=$("body").attr("app")&&(location.hash="employee/business/list",Materialize.toast(`${e.data.name} inactivated.`,3e3,"round error-alert")),"customer"==sessionStorage.getItem("digibiz_role")&&"customer_business_list"==$("body").attr("app"))?(digibiz.customer_business_list=[],businessList({device_id:crossplat.device.uuid,list_by:"customer"}).then((t=>{Materialize.toast(`${e.data.name} inactivated.`,3e3,"round error-alert"),processCustomerBusinessList(t,(function(){}))})).catch((e=>{}))):-1!=digibiz.customer_business_list.findIndex((t=>t.id==e.data.id))&&(customerBusinessListHelperMethod(),associateCustomerModuleListHelperMethod());"customer"==sessionStorage.getItem("digibiz_role")&&"customer_business_list"!=$("body").attr("app")&&(location.hash="customer/business/list",Materialize.toast(`${e.data.name} inactivated.`,3e3,"round error-alert"))},businessInactivateEnd:function(e){(sessionStorage.getItem("business_id")==e.data.id&&"business_owner"==sessionStorage.getItem("digibiz_role")&&(Materialize.toast(`${e.data.name} activated.`,3e3,"round success-alert"),$("#alert-business-owner-inactive-ok").remove()),"business_owner_business_list"==$("body").attr("app"))?(digibiz.business_owner_business_list=[],businessList({device_id:crossplat.device.uuid,list_by:"my_business"}).then((t=>{Materialize.toast(`${e.data.name} activated.`,3e3,"round error-alert"),processBusinessOwnerBusinessList(t,(function(){}))})).catch((e=>{}))):-1!=digibiz.business_owner_business_list.findIndex((t=>t.id==e.data.id))&&businessAdminBusinessListHelperMethod();"employee"==sessionStorage.getItem("digibiz_role")&&"employee_business_list"==$("body").attr("app")?(digibiz.employee_business_list=[],businessList({device_id:crossplat.device.uuid,list_by:"employee"}).then((t=>{Materialize.toast(`${e.data.name} activated.`,3e3,"round error-alert"),processEmployeeBusinessList(t,(function(){}))})).catch((e=>{}))):-1!=digibiz.employee_business_list.findIndex((t=>t.id==e.data.id))&&employeeBusinessListHelperMethod();("employee"==sessionStorage.getItem("digibiz_role")&&"employee_business_list"!=$("body").attr("app")&&(location.hash="employee/business/list",Materialize.toast(`${e.data.name} activated.`,3e3,"round error-alert")),"customer"==sessionStorage.getItem("digibiz_role")&&"customer_business_list"==$("body").attr("app"))?(digibiz.customer_business_list=[],businessList({device_id:crossplat.device.uuid,list_by:"customer"}).then((t=>{Materialize.toast(`${e.data.name} activated.`,3e3,"round error-alert"),processCustomerBusinessList(t,(function(){}))})).catch((e=>{}))):-1!=digibiz.customer_business_list.findIndex((t=>t.id==e.data.id))&&(customerBusinessListHelperMethod(),associateCustomerModuleListHelperMethod());"customer"==sessionStorage.getItem("digibiz_role")&&"customer_business_list"!=$("body").attr("app")&&(location.hash="customer/business/list",Materialize.toast(`${e.data.name} activated.`,3e3,"round error-alert"))},collaboratorGroupMemberAdd:function(e){if($(`#modal-collaborator-group-business-members[data-business-id="${e.data.member.business_id}"]`).length>0){var t=$("#modal-collaborator-group-business-members").attr("data-business-id");getCollaboratorBusinessEmployeeMembers({device_id:crossplat.device.uuid,group_id:sessionStorage.getItem("group_id"),business_id:t}).then((i=>{if(t==sessionStorage.getItem("business_id"))var a={EmployeeList:i.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.member.employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else e.imageLetter=e.member_name.first.charAt(0);else e.imageLetter=e.member_name.first.charAt(0);return e.can_edit="yes",e})),page_for:"listing_employees"};else a={EmployeeList:i.map((e=>{if(e.hasOwnProperty("identity_picture")&&e.identity_picture)if(e.identity_picture.hasOwnProperty("thumbnail")&&e.identity_picture.thumbnail){var t=`${api.get_employee_identity_picture}?id=${e.member.employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.identity_picture.thumbnail}`;e.identity_picture.avtarUrl=t,e.imageLetter=e.member_name.first.charAt(0)}else e.imageLetter=e.member_name.first.charAt(0);else e.imageLetter=e.member_name.first.charAt(0);return e})),page_for:"listing_employees"};var o=$(`#modal-collaborator-group-business-members[data-business-id="${e.data.member.business_id}"]`).find(".employee-selection-member-list");fetch.replaceHtml((function(e,t){}),"page/collaborator/moderator_selection_list","#moderator-selection-list-template",o,a)})).catch((e=>{}))}},groupMemberAdd:function(e){$(`#modal-communication-group-activate-employee-group-employee-list-selection[data-group-id="${e.data.group_data.id}"]`).length>0&&getCompleteGroupMembers({device_id:crossplat.device.uuid,group_id:e.data.group_data.id}).then((t=>{processCommunicationGroupActivateEmployeeGroupEmployeeList(t,e.data.group_data,(function(){}))})).catch(err={})},digibizNotificationPage:function(e){$(`.accept_reject_wrap[data-notification-id="${e.data.id}"]`).parents(".digibiz-notification-list-wrapper").remove()},employeeAddDepartmentAdd:function(e){if($("#modal-communication-group-activate-employee-group-employee-list-selection").length>0&&$("#modal-communication-group-activate-employee-group-employee-list-selection").find(`.accordion-content[data-group-id="${e.data.std_grp.id}"]`).length>0)if($("#modal-communication-group-activate-employee-group-employee-list-selection").find(`.accordion-content[data-group-id="${e.data.std_grp.id}"]`).find(`.contact-profile-container[data-dj-unique-employee-id="${e.data.employeeData.dj_unique_employee_id}"]`).length>0);else{e.data.employeeData.hasOwnProperty("identity_picture")&&e.data.employeeData.identity_picture&&e.data.employeeData.identity_picture.hasOwnProperty("thumbnail")&&e.data.employeeData.identity_picture.thumbnail?(e.data.employeeData.identity_picture.avtarUrl=`${api.get_employee_identity_picture}?id=${e.data.employeeData.dj_unique_employee_id}&device_id=${crossplat.device.uuid}&image_id=${e.data.employeeData.identity_picture.thumbnail}`,e.data.employeeData.imageLetter=e.data.employeeData.name.first.charAt(0)):e.data.employeeData.imageLetter=e.data.employeeData.name.first.charAt(0);var t={employeeData:e.data.employeeData},i=$("#modal-communication-group-activate-employee-group-employee-list-selection").find(`.accordion-content[data-group-id="${e.data.std_grp.id}"]`);fetch.appendHtml((function(){}),"layouts/template_elements/employee_group_add_moderator_list_selection","#employee-group-add-moderator-list-selection-template",i,t)}},businessDelete:function(e){if("deleted"==e.data.status.status){if(sessionStorage.getItem("business_id")==e.data.id){digibiz.business_owner_business_list=digibiz.business_owner_business_list.filter((function(t){return t.id!=e.data.id}));var t=sessionStorage.getItem("user_id"),i=sessionStorage.getItem("uuid"),a=sessionStorage.getItem("socketID"),o=sessionStorage.getItem("account_id"),s=sessionStorage.getItem("accountDetails"),r=sessionStorage.getItem("storage_token"),n=sessionStorage.getItem("profile_details"),d=sessionStorage.getItem("digibiz_role"),c=sessionStorage.getItem("get_role_btn");sessionStorage.clear(),sessionStorage.setItem("user_id",t),sessionStorage.setItem("uuid",i),sessionStorage.setItem("socketID",a),sessionStorage.setItem("account_id",o),sessionStorage.setItem("accountDetails",s),sessionStorage.setItem("storage_token",r),sessionStorage.setItem("profile_details",n),sessionStorage.setItem("digibiz_role",d),sessionStorage.setItem("get_role_btn",c),digibiz.business_owner_business_list.length>0?location.hash="business_owner/business/list":location.hash="jeevi/app/hub"}if("business_owner_business_list"==$("body").attr("app"))digibiz.business_owner_business_list=[],businessList({device_id:crossplat.device.uuid,list_by:"my_business"}).then((t=>{Materialize.toast(`${e.data.name} deleted.`,3e3,"round error-alert"),processBusinessOwnerBusinessList(t,(function(){}))})).catch((e=>{}));if("employee"==sessionStorage.getItem("digibiz_role")&&"employee_business_list"==$("body").attr("app"))digibiz.employee_business_list=[],businessList({device_id:crossplat.device.uuid,list_by:"employee"}).then((e=>{processEmployeeBusinessList(e,(function(){removeLoader()}))})).catch((e=>{})),Materialize.toast(`${e.data.name} deleted.`,3e3,"round error-alert");if("employee"==sessionStorage.getItem("digibiz_role")&&"employee_business_list"!=$("body").attr("app")&&(location.hash="employee/business/list",Materialize.toast(`${e.data.name} deleted.`,3e3,"round error-alert")),"customer"==sessionStorage.getItem("digibiz_role")&&"customer_business_list"==$("body").attr("app"))digibiz.customer_business_list=[],businessList({device_id:crossplat.device.uuid,list_by:"customer"}).then((e=>{processCustomerBusinessList(e,(function(){removeLoader()}))})).catch((e=>{})),Materialize.toast(`${e.data.name} deleted.`,3e3,"round error-alert");"customer"==sessionStorage.getItem("digibiz_role")&&"customer_business_list"!=$("body").attr("app")&&(location.hash="customer/business/list",Materialize.toast(`${e.data.name} deleted.`,3e3,"round error-alert"))}},accountInactivateStart:function(e){sessionStorage.getItem("account_id")==e.data.id&&logoutDigibiz()},jeeviAccountInactivateStart:function(e){if(console.log("jeeviAccountInactivateStart",e),sessionStorage.getItem("account_id")==e.data.account_id&&"prospect"==$("body").attr("role")){sessionStorage.removeItem("jeevi_id"),sessionStorage.removeItem("jeevi_status");var t=JSON.parse(sessionStorage.getItem("accountDetails"));t.roles.prospect="inactive",window.sessionStorage.setItem("accountDetails",JSON.stringify(t)),"jeevi_app_hub_page"==$("body").attr("app")?($("#jeevi-account-inactive").remove(),$(".prospect-app-hub-page-wrapper").remove(),jeeviAppHubPage()):"prospect_settings"==$("body").attr("app")&&($("#jeevi-account-inactive").remove(),location.hash="jeevi/app/hub")}},accountInactivateEnd:function(e){sessionStorage.getItem("account_id"),e.data.id},jeeviAccountInactivateEnd:function(e){if(console.log("jeeviAccountInactivateEnd",e),sessionStorage.getItem("account_id")==e.data.account_id&&"prospect"==$("body").attr("role")){sessionStorage.removeItem("jeevi_id"),sessionStorage.removeItem("jeevi_status");var t=JSON.parse(sessionStorage.getItem("accountDetails"));if(t.roles.prospect="active",Materialize.toast("Jeevi account has been activated successfully as per schedule",3e3,"round success-alert"),window.sessionStorage.setItem("accountDetails",JSON.stringify(t)),"jeevi_app_hub_page"==$("body").attr("app")){fetch.replaceHtml((function(){$("#jeevi-account-inactive").remove(),$("#jeevi-account-not-present").remove(),$("#jeevi-account-inactive-active-settings").remove(),$("#alert-confirm-transactional-password").remove(),removeLoader();new Swiper(".hubSwiper",{slidesPerView:1,spaceBetween:0,grabCursor:!0,observer:!0,pagination:{el:".swiper-pagination",clickable:!0}});$(".swiper").removeClass("hubSwiper")}),"page/prospect/app_hub","#prospect-app-hub-page-template","#digibiz-home-page-middle-band-wrapper",{jeevi_role_status:!0})}else $("#jeevi-account-not-present").remove(),$("#jeevi-account-inactive").remove(),$("#jeevi-account-inactive-active-settings").remove(),$("#alert-confirm-transactional-password").remove()}},accountDelete:function(e){sessionStorage.getItem("account_id")==e.data.id&&logoutDigibiz()},jeeviAccountDelete:function(e){if(sessionStorage.getItem("account_id")==e.data.account_id&&"prospect"==$("body").attr("role")){var t=JSON.parse(sessionStorage.getItem("accountDetails"));t.roles.prospect="pending",window.sessionStorage.setItem("accountDetails",JSON.stringify(t)),location.hash="jeevi/app/hub"}},killAppSession:function(e){},primaryMobileNumberChange:function(e){e.destination==sessionStorage.getItem("socketID")&&($(".profile-info-container").find(".mobile_number").text(e.data.mobile_number),JSON.parse(sessionStorage.getItem("profile_details")).login.mobile_number=e.data.mobile_number)},digibizGroupInactive:function(e){"employee_group_creation_list"==$("body").attr("app")&&("standard"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&(digibiz.standard_employees_groups_list_page=[],standardEmployeesGroupsListPage()),"custom"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&(digibiz.custom_employees_groups_list_page=[],customEmployeesGroupsListPage())),"communication_groups"==$("body").attr("app")&&(digibiz.communicationGroupsList=[],getCommunicationGroupsPage()),"collaborator_groups_list"==$("body").attr("app")&&(digibiz.collaborator_groups_list=[],getCollaboratorGroupsListPage())},digibizGroupActive:function(e){"employee_group_creation_list"==$("body").attr("app")&&("standard"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&(digibiz.standard_employees_groups_list_page=[],standardEmployeesGroupsListPage()),"custom"==sessionStorage.getItem("selected-employee-group-list-type-tab")&&(digibiz.custom_employees_groups_list_page=[],customEmployeesGroupsListPage())),"communication_groups"==$("body").attr("app")&&(digibiz.communicationGroupsList=[],getCommunicationGroupsPage()),"collaborator_groups_list"==$("body").attr("app")&&(digibiz.collaborator_groups_list=[],getCollaboratorGroupsListPage())},businessAppPermission:function(e){"business_app_permission_settings"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.business_id&&($(`.apps-choose-business[data-value="${e.data.app}"]`).attr("data-status","active"),setTimeout((function(){$(`.apps-choose-business[data-value="${e.data.app}"]`).find(".checkbox-conatiner").length>0||$(`.apps-choose-business[data-value="${e.data.app}"]`).append('<div class="checkbox-conatiner">\n                <input type="checkbox" class="filled-in app-choice-business-selected disabled" id="filled-in-box" checked="checked" disabled="disabled" />\n                <label for="filled-in-box"></label>\n                </div>')}),1e3))},businessAppPermissionInactive:function(e){"business_app_permission_settings"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.appData.business_id&&($(`.apps-choose-business[data-value="${e.data.appData.app}"]`).attr("data-status","inactive"),$(`.apps-choose-business[data-value="${e.data.appData.app}"]`).find(".checkbox-conatiner").remove())},businessAppPermissionDeleted:function(e){"business_app_permission_settings"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.appData.business_id&&($(`.apps-choose-business[data-value="${e.data.appData.app}"]`).attr("data-status","deleted"),$(`.apps-choose-business[data-value="${e.data.appData.app}"]`).find(".checkbox-conatiner").remove())},businessAppPermissionActive:function(e){"business_app_permission_settings"==$("body").attr("app")&&sessionStorage.getItem("business_id")==e.data.appData.business_id&&($(`.apps-choose-business[data-value="${e.data.appData.app}"]`).attr("data-status","active"),setTimeout((function(){$(`.apps-choose-business[data-value="${e.data.appData.app}"]`).find(".checkbox-conatiner").length>0||$(`.apps-choose-business[data-value="${e.data.appData.app}"]`).append('<div class="checkbox-conatiner">\n                <input type="checkbox" class="filled-in app-choice-business-selected disabled" id="filled-in-box" checked="checked" disabled="disabled" />\n                <label for="filled-in-box"></label>\n                </div>')}),1e3))},roleAdded:function(e){sessionStorage.getItem("account_id")==e.data.account_data.id&&(window.sessionStorage.setItem("accountDetails",JSON.stringify(e.data.account_data)),"employee"==e.data.role_activated&&employeeBusinessListHelperMethod(),"customer"==e.data.role_activated&&(customerBusinessListHelperMethod(),associateCustomerModuleListHelperMethod()),"administrator"==e.data.role_activated&&businessAdminBusinessListHelperMethod())},transactionSignaturePictureUpdate:function(e){console.log("transactionSignaturePictureUpdate",e),"digibiz_credentials"==$("body").attr("app")&&("inactive"==e.data.status.status&&($(`.view-transaction-signature-picture[id="${e.data.id}"]`).hasClass("inactivated")?console.log("already class inactivated is present"):$(`.view-transaction-signature-picture[id="${e.data.id}"]`).addClass("inactivated")),"yes"==e.data.picture_used&&($(`.view-transaction-signature-picture[id="${e.data.id}"]`).parent(".identity-picture-wrapper").find(".picture-used").length>0?console.log("already lock icon is present"):$(`.view-transaction-signature-picture[id="${e.data.id}"]`).parent(".identity-picture-wrapper").append('<span class="picture-used material-icons">lock</span>'))),"business_add"!=$("body").attr("app")&&"business_edit"!=$("body").attr("app")||("inactive"==e.data.status.status&&$(`.picture_wrapper[data-id="${e.data.id}"]`).parents(".transaction_signature_select").remove(),"yes"==e.data.picture_used&&($(`.picture_wrapper[data-id="${e.data.id}"]`).parents(".transaction_signature_select").find(".picture-used").length>0?console.log("already lock icon is present"):$(`.picture_wrapper[data-id="${e.data.id}"]`).parents(".transaction_signature_select").append('<span class="picture-used material-icons">lock</span>')))},transactionSignaturePictureAdd:function(e){if(console.log("transactionSignaturePictureAdd",e),"digibiz_credentials"==$("body").attr("app")){var t=`${api.get_transaction_signature_picture}?id=${e.data.id}&device_id=${crossplat.device.uuid}&image_id=${e.data.picture_details.thumbnail}`;console.log("avtarUrl",t);var i=`<div class="transaction_signature_picture_contentbox">\n             <div class="multimedia-container">        \n                 <div class="multimedia_wrapper">\n                     <div class="identity-picture-wrapper view">   \n                         <img class="attached-img transaction_signature_container" id="${e.data.id}" thumbnail_id="${e.data.picture_details.thumbnail}" data-status="${e.data.status.status}" type="${e.data.type}" src="${t}"/>                             \n                     </div>\n                 </div>    \n             </div>\n         </div>`;console.log("getPictureContainer socket side",i),"transaction_picture"==e.data.type?$(`.transaction_signature_container[id="${e.data.id}"]`).length<=0&&$("#transaction_pictures_main_container").append(i):"signature_picture"==e.data.type&&$(`.transaction_signature_container[id="${e.data.id}"]`).length<=0&&$("#signature_pictures_main_container").append(i)}},transactionSignaturePictureDelete:function(e){console.log("transactionSignaturePictureDelete",e),"digibiz_credentials"==$("body").attr("app")&&$(`.view-transaction-signature-picture[id="${e.data.id}"]`).parents(".transaction_signature_picture_contentbox").remove(),"business_add"!=$("body").attr("app")&&"business_edit"!=$("body").attr("app")||$(`.picture_wrapper[data-id="${e.data.id}"]`).parents(".transaction_signature_select").remove()}};document.addEventListener("loggedin_socket",(function(){fetch.apiCall((function(e,t,i){if("success"===t){sessionStorage.setItem("socketID",e.Data),sockets.coreSocket.emit("joinroom",crossplat.device.uuid),sockets.digibizSocket.emit("joinroom",crossplat.device.uuid),sockets.digibizSocket.emit("joinroom",e.Data),sockets.searchSocket.emit("joinroom",crossplat.device.uuid),sockets.digibizSocket.emit("joinroom","public_digibiz_event");var a={destination:e.Data,event:"app_init",data:{device:{id:crossplat.device.uuid,platform:crossplat.device.platform},app:"digibiz",user:{socket_id:e.Data,id:window.sessionStorage.getItem("user_id"),type:"individual"}}};sockets.digibizSocket.emit("app_init",a)}else sockets.digibizSocket.emit("joinroom",crossplat.device.uuid)}),api.get_socket_id,"POST","JSON",sockets.requestParams)}),!1),sockets.digibizSocket.on("jeevi_update_storage",(function(e){sockets.storageUpdate(e)})),sockets.coreSocket.on("app_init",(function(e){sockets.appInit(e)})),sockets.digibizSocket.on("business_create",(function(e){sockets.businessCreate(e)})),sockets.digibizSocket.on("business_update",(function(e){sockets.businessUpdate(e)})),sockets.digibizSocket.on("business_display_picture_update",(function(e){sockets.businessDisplayPictureUpdate(e)})),sockets.digibizSocket.on("business_display_picture_removed",(function(e){sockets.businessDisplayPictureRemove(e)})),sockets.digibizSocket.on("employee_type_add",(function(e){sockets.employeeTypeAdd(e)})),sockets.digibizSocket.on("employee_type_update",(function(e){sockets.employeeTypeUpdate(e)})),sockets.digibizSocket.on("employee_type_delete",(function(e){sockets.employeeTypeDelete(e)})),sockets.digibizSocket.on("employee_category_add",(function(e){sockets.employeeCategoryAdd(e)})),sockets.digibizSocket.on("employee_category_update",(function(e){sockets.employeeCategoryUpdate(e)})),sockets.digibizSocket.on("employee_category_delete",(function(e){sockets.employeeCategoryDelete(e)})),sockets.digibizSocket.on("employee_designation_add",(function(e){sockets.employeeDesignationAdd(e)})),sockets.digibizSocket.on("employee_designation_update",(function(e){sockets.employeeDesignationUpdate(e)})),sockets.digibizSocket.on("employee_designation_delete",(function(e){sockets.employeeDesignationDelete(e)})),sockets.digibizSocket.on("employee_department_add",(function(e){sockets.employeeDepartmentAdd(e)})),sockets.digibizSocket.on("employee_department_update",(function(e){sockets.employeeDepartmentUpdate(e)})),sockets.digibizSocket.on("employee_department_delete",(function(e){sockets.employeeDepartmentDelete(e)})),sockets.digibizSocket.on("digibiz_notification",(function(e){sockets.digibizNotification(e)})),sockets.digibizSocket.on("digibiz_notification_change_status",(function(e){sockets.digibizNotificationChangeStatus(e)})),sockets.digibizSocket.on("digibiz_notification_remove",(function(e){sockets.digibizNotificationRemove(e)})),sockets.digibizSocket.on("digibiz_notification_expire",(function(e){sockets.digibizNotificationExpire(e)})),sockets.digibizSocket.on("digibiz_business_notification",(function(e){sockets.digibizBusinessNotification(e)})),sockets.digibizSocket.on("digibiz_business_notification_change_status",(function(e){sockets.digibizBusinessNotificationChangeStatus(e)})),sockets.digibizSocket.on("digibiz_business_notification_delete",(function(e){sockets.digibizBusinessNotificationRemove(e)})),sockets.digibizSocket.on("digibiz_business_notification_expire",(function(e){sockets.digibizBusinessNotificationExpire(e)})),sockets.digibizSocket.on("business_change_device",(function(e){console.log("customer business_change_device device",e),sockets.businessChangeDevice(e)})),sockets.digibizSocket.on("employee_change_device",(function(e){console.log("change admin",e),sockets.employeeChangeDevice(e)})),sockets.digibizSocket.on("customer_change_device",(function(e){console.log("customer change device",e),sockets.customerChangeDevice(e)})),sockets.digibizSocket.on("group_change_device",(function(e){console.log("groups change admin",e),sockets.groupChangeDevice(e)})),sockets.digibizSocket.on("employee_add",(function(e){console.log("employee employee_add",e),sockets.employeeAdd(e)})),sockets.digibizSocket.on("employee_update",(function(e){console.log("employee update",e),sockets.employeeUpdate(e)})),sockets.digibizSocket.on("employee_update_employee_role",(function(e){console.log("employee_update_employee_role",e),sockets.employeeUpdateEmployeeRole(e)})),sockets.digibizSocket.on("employee_identity_picture_removed",(function(e){console.log("employee_identity_picture_removed",e),sockets.employeeUpdateEmployeeRole(e)})),sockets.digibizSocket.on("customer_update_customer_role",(function(e){sockets.customerUpdateCustomerRole(e)})),sockets.digibizSocket.on("employee_delete",(function(e){sockets.employeeDelete(e)})),sockets.digibizSocket.on("employee_group_add",(function(e){sockets.employeeGroupAdd(e)})),sockets.digibizSocket.on("customer_group_add",(function(e){sockets.customerGroupAdd(e)})),sockets.digibizSocket.on("communication_group_add",(function(e){sockets.communicationGroupAdd(e)})),sockets.digibizSocket.on("collaborator_group_add",(function(e){sockets.collaboratorGroupAdd(e)})),sockets.digibizSocket.on("group_common_update",(function(e){console.log("group update",e),sockets.groupCommonUpdate(e)})),sockets.digibizSocket.on("employee_group_department_add_update",(function(e){sockets.employeeGroupDepartmentAddUpdate(e)})),sockets.digibizSocket.on("employee_group_department_delete_update",(function(e){sockets.employeeGroupDepartmentDeleteUpdate(e)})),sockets.digibizSocket.on("group_delete",(function(e){sockets.groupDelete(e)})),sockets.digibizSocket.on("group_member_delete",(function(e){sockets.groupMemberDelete(e)})),sockets.digibizSocket.on("customer_identifier_add",(function(e){sockets.customerIdentifierAdd(e)})),sockets.digibizSocket.on("customer_identifier_update",(function(e){sockets.customerIdentifierUpdate(e)})),sockets.digibizSocket.on("customer_identifier_delete",(function(e){sockets.customerIdentifierDelete(e)})),sockets.digibizSocket.on("customer_add",(function(e){sockets.customerAdd(e)})),sockets.digibizSocket.on("customer_update",(function(e){sockets.customerUpdate(e)})),sockets.digibizSocket.on("customer_delete",(function(e){sockets.customerDelete(e)})),sockets.digibizSocket.on("associate_customer_add",(function(e){sockets.associateCustomerAdd(e)})),sockets.digibizSocket.on("associate_customer_update",(function(e){sockets.AssociateCustomerUpdate(e)})),sockets.digibizSocket.on("associate_customer_delete",(function(e){sockets.AssociateCustomerDelete(e)})),sockets.digibizSocket.on("business_owner_add",(function(e){sockets.businessOwnerAdd(e)})),sockets.digibizSocket.on("group_moderator_add",(function(e){sockets.groupModeratorAdd(e)})),sockets.digibizSocket.on("group_moderator_delete",(function(e){sockets.groupModeratorDelete(e)})),sockets.digibizSocket.on("admin_delete",(function(e){sockets.adminDelete(e)})),sockets.digibizSocket.on("digibiz_business_logout",(function(e){sockets.digibizBusinessLogout(e)})),sockets.digibizSocket.on("super_admin_add",(function(e){sockets.superAdminAdd(e)})),sockets.digibizSocket.on("super_admin_revoke",(function(e){sockets.superAdminRevoke(e)})),sockets.coreSocket.on("update_session",(function(e){crossplat.device.uuid==e.data.device_id&&(idleTime=0)})),sockets.digibizSocket.on("employee_identity_picture_update",(function(e){sockets.employeeIdentityPicture(e)})),sockets.digibizSocket.on("customer_identity_picture_update",(function(e){sockets.customerIdentityPicture(e)})),sockets.digibizSocket.on("customer_identity_picture_removed",(function(e){sockets.customerIdentityPictureRemoved(e)})),sockets.digibizSocket.on("associate_customer_identity_picture_update",(function(e){sockets.AssociateCustomerIdentityPicture(e)})),sockets.digibizSocket.on("associate_customer_identity_picture_removed",(function(e){sockets.AssociateCustomerIdentityPictureRemoved(e)})),sockets.digibizSocket.on("customer_reassign",(function(e){sockets.reassignCustomer(e)})),sockets.digibizSocket.on("collaborator_contact_delete",(function(e){sockets.collaboratorContactDelete(e)})),sockets.digibizSocket.on("collaborator_contact_add",(function(e){sockets.collaboratorContactAdd(e)})),sockets.digibizSocket.on("group_image_update",(function(e){sockets.groupImageUpdate(e)})),sockets.digibizSocket.on("group_image_removed",(function(e){sockets.groupImageRemove(e)})),sockets.digibizSocket.on("access_revoked",(function(e){sockets.access_revoke(e)})),sockets.digibizSocket.on("add_contact_access",(function(e){sockets.add_contact_access(e)})),sockets.digibizSocket.on("business_inactivate_start",(function(e){sockets.businessInactivateStart(e)})),sockets.digibizSocket.on("business_inactivate_end",(function(e){sockets.businessInactivateEnd(e)})),sockets.digibizSocket.on("collaborator_group_member_add",(function(e){sockets.collaboratorGroupMemberAdd(e)})),sockets.digibizSocket.on("group_member_add",(function(e){sockets.groupMemberAdd(e)})),sockets.digibizSocket.on("digibiz_notification_page",(function(e){sockets.digibizNotificationPage(e)})),sockets.digibizSocket.on("employee_add_department_add",(function(e){sockets.employeeAddDepartmentAdd(e)})),sockets.digibizSocket.on("business_delete",(function(e){sockets.businessDelete(e)})),sockets.digibizSocket.on("digibiz_account_inactivate_start",(function(e){sockets.accountInactivateStart(e)})),sockets.digibizSocket.on("digibiz_account_inactivate_end",(function(e){sockets.accountInactivateEnd(e)})),sockets.digibizSocket.on("digibiz_account_delete",(function(e){sockets.accountDelete(e)})),sockets.digibizSocket.on("jeevi_account_inactivate_start",(function(e){sockets.jeeviAccountInactivateStart(e)})),sockets.digibizSocket.on("jeevi_account_inactivate_end",(function(e){sockets.jeeviAccountInactivateEnd(e)})),sockets.digibizSocket.on("jeevi_account_delete",(function(e){sockets.jeeviAccountDelete(e)})),sockets.searchSocket.on("response",(function(e){console.log("search response",e),$("#get-roles-list-search-btn").length>0?sockets.renderRolesSearchResult(e):sockets.renderSearchResult(e)})),sockets.digibizSocket.on("kill_app_session",(function(e){sockets.killAppSession(e)})),sockets.digibizSocket.on("customer_identifier_contact_item_update",(function(e){sockets.customerIdentifierItemUpdate(e)})),sockets.digibizSocket.on("core_primary_mobile_number_change",(function(e){sockets.primaryMobileNumberChange(e)})),sockets.digibizSocket.on("group_inactive",(function(e){sockets.digibizGroupInactive(e)})),sockets.digibizSocket.on("group_active",(function(e){sockets.digibizGroupActive(e)})),sockets.digibizSocket.on("logout",(function(e){sockets.logout(e)})),sockets.coreSocket.on("logout",(function(e){sockets.logout(e)})),sockets.digibizSocket.on("business_app_permission",(function(e){sockets.businessAppPermission(e)})),sockets.digibizSocket.on("app_permission_inactive",(function(e){sockets.businessAppPermissionInactive(e)})),sockets.digibizSocket.on("app_permission_deleted",(function(e){sockets.businessAppPermissionDeleted(e)})),sockets.digibizSocket.on("app_permission_active",(function(e){sockets.businessAppPermissionActive(e)})),sockets.digibizSocket.on("role_added",(function(e){sockets.roleAdded(e)})),sockets.digibizSocket.on("digibiz_update_storage",(function(e){console.log("@@@@@@@@@@@@@digibiz_update_storage@@@@@@@@")})),sockets.digibizSocket.on("transaction_signature_picture_update",(function(e){sockets.transactionSignaturePictureUpdate(e)})),sockets.digibizSocket.on("transaction_signature_picture_add",(function(e){sockets.transactionSignaturePictureAdd(e)})),sockets.digibizSocket.on("transaction_signature_picture_deleted",(function(e){sockets.transactionSignaturePictureDelete(e)})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,(function(){"use strict";var e,t;function i(){return e.apply(null,arguments)}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e){return void 0===e}function r(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function n(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function d(e,t){var i,a=[];for(i=0;i<e.length;++i)a.push(t(e[i],i));return a}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){for(var i in t)c(t,i)&&(e[i]=t[i]);return c(t,"toString")&&(e.toString=t.toString),c(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,i,a){return Lt(e,t,i,a,!0).utc()}function m(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function u(e){if(null==e._isValid){var i=m(e),a=t.call(i.parsedDateParts,(function(e){return null!=e})),o=!isNaN(e._d.getTime())&&i.overflow<0&&!i.empty&&!i.invalidMonth&&!i.invalidWeekday&&!i.weekdayMismatch&&!i.nullInput&&!i.invalidFormat&&!i.userInvalidated&&(!i.meridiem||i.meridiem&&a);if(e._strict&&(o=o&&0===i.charsLeftOver&&0===i.unusedTokens.length&&void 0===i.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return o;e._isValid=o}return e._isValid}function g(e){var t=p(NaN);return null!=e?l(m(t),e):m(t).userInvalidated=!0,t}t=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),i=t.length>>>0,a=0;a<i;a++)if(a in t&&e.call(this,t[a],a,t))return!0;return!1};var _=i.momentProperties=[];function f(e,t){var i,a,o;if(s(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),s(t._i)||(e._i=t._i),s(t._f)||(e._f=t._f),s(t._l)||(e._l=t._l),s(t._strict)||(e._strict=t._strict),s(t._tzm)||(e._tzm=t._tzm),s(t._isUTC)||(e._isUTC=t._isUTC),s(t._offset)||(e._offset=t._offset),s(t._pf)||(e._pf=m(t)),s(t._locale)||(e._locale=t._locale),0<_.length)for(i=0;i<_.length;i++)s(o=t[a=_[i]])||(e[a]=o);return e}var h=!1;function b(e){f(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===h&&(h=!0,i.updateOffset(this),h=!1)}function v(e){return e instanceof b||null!=e&&null!=e._isAMomentObject}function y(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function $(e){var t=+e,i=0;return 0!==t&&isFinite(t)&&(i=y(t)),i}function w(e,t,i){var a,o=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),r=0;for(a=0;a<o;a++)(i&&e[a]!==t[a]||!i&&$(e[a])!==$(t[a]))&&r++;return r+s}function S(e){!1===i.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function C(e,t){var a=!0;return l((function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,e),a){for(var o,s=[],r=0;r<arguments.length;r++){if(o="","object"==typeof arguments[r]){for(var n in o+="\n["+r+"] ",arguments[0])o+=n+": "+arguments[0][n]+", ";o=o.slice(0,-2)}else o=arguments[r];s.push(o)}S(e+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),a=!1}return t.apply(this,arguments)}),t)}var L,k={};function z(e,t){null!=i.deprecationHandler&&i.deprecationHandler(e,t),k[e]||(S(t),k[e]=!0)}function I(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function x(e,t){var i,a=l({},e);for(i in t)c(t,i)&&(o(e[i])&&o(t[i])?(a[i]={},l(a[i],e[i]),l(a[i],t[i])):null!=t[i]?a[i]=t[i]:delete a[i]);for(i in e)c(e,i)&&!c(t,i)&&o(e[i])&&(a[i]=l({},a[i]));return a}function P(e){null!=e&&this.set(e)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,L=Object.keys?Object.keys:function(e){var t,i=[];for(t in e)c(e,t)&&i.push(t);return i};var M={};function A(e,t){var i=e.toLowerCase();M[i]=M[i+"s"]=M[t]=e}function E(e){return"string"==typeof e?M[e]||M[e.toLowerCase()]:void 0}function O(e){var t,i,a={};for(i in e)c(e,i)&&(t=E(i))&&(a[t]=e[i]);return a}var D={};function T(e,t){D[e]=t}function G(e,t,i){var a=""+Math.abs(e),o=t-a.length;return(0<=e?i?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+a}var N=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,F=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,H={},B={};function j(e,t,i,a){var o=a;"string"==typeof a&&(o=function(){return this[a]()}),e&&(B[e]=o),t&&(B[t[0]]=function(){return G(o.apply(this,arguments),t[1],t[2])}),i&&(B[i]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function U(e,t){return e.isValid()?(t=R(t,e.localeData()),H[t]=H[t]||function(e){var t,i,a,o=e.match(N);for(t=0,i=o.length;t<i;t++)B[o[t]]?o[t]=B[o[t]]:o[t]=(a=o[t]).match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"");return function(t){var a,s="";for(a=0;a<i;a++)s+=I(o[a])?o[a].call(t,e):o[a];return s}}(t),H[t](e)):e.localeData().invalidDate()}function R(e,t){var i=5;function a(e){return t.longDateFormat(e)||e}for(F.lastIndex=0;0<=i&&F.test(e);)e=e.replace(F,a),F.lastIndex=0,i-=1;return e}var q=/\d/,Y=/\d\d/,J=/\d{3}/,W=/\d{4}/,V=/[+-]?\d{6}/,X=/\d\d?/,K=/\d\d\d\d?/,Q=/\d\d\d\d\d\d?/,Z=/\d{1,3}/,ee=/\d{1,4}/,te=/[+-]?\d{1,6}/,ie=/\d+/,ae=/[+-]?\d+/,oe=/Z|[+-]\d\d:?\d\d/gi,se=/Z|[+-]\d\d(?::?\d\d)?/gi,re=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ne={};function de(e,t,i){ne[e]=I(t)?t:function(e,a){return e&&i?i:t}}function ce(e,t){return c(ne,e)?ne[e](t._strict,t._locale):new RegExp(le(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,i,a,o){return t||i||a||o}))))}function le(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var pe={};function me(e,t){var i,a=t;for("string"==typeof e&&(e=[e]),r(t)&&(a=function(e,i){i[t]=$(e)}),i=0;i<e.length;i++)pe[e[i]]=a}function ue(e,t){me(e,(function(e,i,a,o){a._w=a._w||{},t(e,a._w,a,o)}))}var ge=0,_e=1,fe=2,he=3,be=4,ve=5,ye=6,$e=7,we=8;function Se(e){return Ce(e)?366:365}function Ce(e){return e%4==0&&e%100!=0||e%400==0}j("Y",0,0,(function(){var e=this.year();return e<=9999?""+e:"+"+e})),j(0,["YY",2],0,(function(){return this.year()%100})),j(0,["YYYY",4],0,"year"),j(0,["YYYYY",5],0,"year"),j(0,["YYYYYY",6,!0],0,"year"),A("year","y"),T("year",1),de("Y",ae),de("YY",X,Y),de("YYYY",ee,W),de("YYYYY",te,V),de("YYYYYY",te,V),me(["YYYYY","YYYYYY"],ge),me("YYYY",(function(e,t){t[ge]=2===e.length?i.parseTwoDigitYear(e):$(e)})),me("YY",(function(e,t){t[ge]=i.parseTwoDigitYear(e)})),me("Y",(function(e,t){t[ge]=parseInt(e,10)})),i.parseTwoDigitYear=function(e){return $(e)+(68<$(e)?1900:2e3)};var Le,ke=ze("FullYear",!0);function ze(e,t){return function(a){return null!=a?(xe(this,e,a),i.updateOffset(this,t),this):Ie(this,e)}}function Ie(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function xe(e,t,i){e.isValid()&&!isNaN(i)&&("FullYear"===t&&Ce(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](i,e.month(),Pe(i,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](i))}function Pe(e,t){if(isNaN(e)||isNaN(t))return NaN;var i=(t%12+12)%12;return e+=(t-i)/12,1===i?Ce(e)?29:28:31-i%7%2}Le=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},j("M",["MM",2],"Mo",(function(){return this.month()+1})),j("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),j("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),A("month","M"),T("month",8),de("M",X),de("MM",X,Y),de("MMM",(function(e,t){return t.monthsShortRegex(e)})),de("MMMM",(function(e,t){return t.monthsRegex(e)})),me(["M","MM"],(function(e,t){t[_e]=$(e)-1})),me(["MMM","MMMM"],(function(e,t,i,a){var o=i._locale.monthsParse(e,a,i._strict);null!=o?t[_e]=o:m(i).invalidMonth=e}));var Me=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ae="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ee="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Oe(e,t){var i;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=$(t);else if(!r(t=e.localeData().monthsParse(t)))return e;return i=Math.min(e.date(),Pe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i),e}function De(e){return null!=e?(Oe(this,e),i.updateOffset(this,!0),this):Ie(this,"Month")}var Te=re,Ge=re;function Ne(){function e(e,t){return t.length-e.length}var t,i,a=[],o=[],s=[];for(t=0;t<12;t++)i=p([2e3,t]),a.push(this.monthsShort(i,"")),o.push(this.months(i,"")),s.push(this.months(i,"")),s.push(this.monthsShort(i,""));for(a.sort(e),o.sort(e),s.sort(e),t=0;t<12;t++)a[t]=le(a[t]),o[t]=le(o[t]);for(t=0;t<24;t++)s[t]=le(s[t]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Fe(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&0<=e&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function He(e,t,i){var a=7+t-i;return-(7+Fe(e,0,a).getUTCDay()-t)%7+a-1}function Be(e,t,i,a,o){var s,r,n=1+7*(t-1)+(7+i-a)%7+He(e,a,o);return n<=0?r=Se(s=e-1)+n:n>Se(e)?(s=e+1,r=n-Se(e)):(s=e,r=n),{year:s,dayOfYear:r}}function je(e,t,i){var a,o,s=He(e.year(),t,i),r=Math.floor((e.dayOfYear()-s-1)/7)+1;return r<1?a=r+Ue(o=e.year()-1,t,i):r>Ue(e.year(),t,i)?(a=r-Ue(e.year(),t,i),o=e.year()+1):(o=e.year(),a=r),{week:a,year:o}}function Ue(e,t,i){var a=He(e,t,i),o=He(e+1,t,i);return(Se(e)-a+o)/7}j("w",["ww",2],"wo","week"),j("W",["WW",2],"Wo","isoWeek"),A("week","w"),A("isoWeek","W"),T("week",5),T("isoWeek",5),de("w",X),de("ww",X,Y),de("W",X),de("WW",X,Y),ue(["w","ww","W","WW"],(function(e,t,i,a){t[a.substr(0,1)]=$(e)})),j("d",0,"do","day"),j("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),j("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),j("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),j("e",0,0,"weekday"),j("E",0,0,"isoWeekday"),A("day","d"),A("weekday","e"),A("isoWeekday","E"),T("day",11),T("weekday",11),T("isoWeekday",11),de("d",X),de("e",X),de("E",X),de("dd",(function(e,t){return t.weekdaysMinRegex(e)})),de("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),de("dddd",(function(e,t){return t.weekdaysRegex(e)})),ue(["dd","ddd","dddd"],(function(e,t,i,a){var o=i._locale.weekdaysParse(e,a,i._strict);null!=o?t.d=o:m(i).invalidWeekday=e})),ue(["d","e","E"],(function(e,t,i,a){t[a]=$(e)}));var Re="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),qe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ye="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Je=re,We=re,Ve=re;function Xe(){function e(e,t){return t.length-e.length}var t,i,a,o,s,r=[],n=[],d=[],c=[];for(t=0;t<7;t++)i=p([2e3,1]).day(t),a=this.weekdaysMin(i,""),o=this.weekdaysShort(i,""),s=this.weekdays(i,""),r.push(a),n.push(o),d.push(s),c.push(a),c.push(o),c.push(s);for(r.sort(e),n.sort(e),d.sort(e),c.sort(e),t=0;t<7;t++)n[t]=le(n[t]),d[t]=le(d[t]),c[t]=le(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Ke(){return this.hours()%12||12}function Qe(e,t){j(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function Ze(e,t){return t._meridiemParse}j("H",["HH",2],0,"hour"),j("h",["hh",2],0,Ke),j("k",["kk",2],0,(function(){return this.hours()||24})),j("hmm",0,0,(function(){return""+Ke.apply(this)+G(this.minutes(),2)})),j("hmmss",0,0,(function(){return""+Ke.apply(this)+G(this.minutes(),2)+G(this.seconds(),2)})),j("Hmm",0,0,(function(){return""+this.hours()+G(this.minutes(),2)})),j("Hmmss",0,0,(function(){return""+this.hours()+G(this.minutes(),2)+G(this.seconds(),2)})),Qe("a",!0),Qe("A",!1),A("hour","h"),T("hour",13),de("a",Ze),de("A",Ze),de("H",X),de("h",X),de("k",X),de("HH",X,Y),de("hh",X,Y),de("kk",X,Y),de("hmm",K),de("hmmss",Q),de("Hmm",K),de("Hmmss",Q),me(["H","HH"],he),me(["k","kk"],(function(e,t,i){var a=$(e);t[he]=24===a?0:a})),me(["a","A"],(function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e})),me(["h","hh"],(function(e,t,i){t[he]=$(e),m(i).bigHour=!0})),me("hmm",(function(e,t,i){var a=e.length-2;t[he]=$(e.substr(0,a)),t[be]=$(e.substr(a)),m(i).bigHour=!0})),me("hmmss",(function(e,t,i){var a=e.length-4,o=e.length-2;t[he]=$(e.substr(0,a)),t[be]=$(e.substr(a,2)),t[ve]=$(e.substr(o)),m(i).bigHour=!0})),me("Hmm",(function(e,t,i){var a=e.length-2;t[he]=$(e.substr(0,a)),t[be]=$(e.substr(a))})),me("Hmmss",(function(e,t,i){var a=e.length-4,o=e.length-2;t[he]=$(e.substr(0,a)),t[be]=$(e.substr(a,2)),t[ve]=$(e.substr(o))}));var et,tt=ze("Hours",!0),it={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ae,monthsShort:Ee,week:{dow:0,doy:6},weekdays:Re,weekdaysMin:Ye,weekdaysShort:qe,meridiemParse:/[ap]\.?m?\.?/i},at={},ot={};function st(e){return e?e.toLowerCase().replace("_","-"):e}function rt(e){var t=null;if(!at[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=et._abbr,require("./locale/"+e),nt(t)}catch(e){}return at[e]}function nt(e,t){var i;return e&&((i=s(t)?ct(e):dt(e,t))?et=i:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),et._abbr}function dt(e,t){if(null!==t){var i,a=it;if(t.abbr=e,null!=at[e])z("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),a=at[e]._config;else if(null!=t.parentLocale)if(null!=at[t.parentLocale])a=at[t.parentLocale]._config;else{if(null==(i=rt(t.parentLocale)))return ot[t.parentLocale]||(ot[t.parentLocale]=[]),ot[t.parentLocale].push({name:e,config:t}),null;a=i._config}return at[e]=new P(x(a,t)),ot[e]&&ot[e].forEach((function(e){dt(e.name,e.config)})),nt(e),at[e]}return delete at[e],null}function ct(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return et;if(!a(e)){if(t=rt(e))return t;e=[e]}return function(e){for(var t,i,a,o,s=0;s<e.length;){for(t=(o=st(e[s]).split("-")).length,i=(i=st(e[s+1]))?i.split("-"):null;0<t;){if(a=rt(o.slice(0,t).join("-")))return a;if(i&&i.length>=t&&w(o,i,!0)>=t-1)break;t--}s++}return et}(e)}function lt(e){var t,i=e._a;return i&&-2===m(e).overflow&&(t=i[_e]<0||11<i[_e]?_e:i[fe]<1||i[fe]>Pe(i[ge],i[_e])?fe:i[he]<0||24<i[he]||24===i[he]&&(0!==i[be]||0!==i[ve]||0!==i[ye])?he:i[be]<0||59<i[be]?be:i[ve]<0||59<i[ve]?ve:i[ye]<0||999<i[ye]?ye:-1,m(e)._overflowDayOfYear&&(t<ge||fe<t)&&(t=fe),m(e)._overflowWeeks&&-1===t&&(t=$e),m(e)._overflowWeekday&&-1===t&&(t=we),m(e).overflow=t),e}function pt(e,t,i){return null!=e?e:null!=t?t:i}function mt(e){var t,a,o,s,r,n=[];if(!e._d){var d,c;for(d=e,c=new Date(i.now()),o=d._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()],e._w&&null==e._a[fe]&&null==e._a[_e]&&function(e){var t,i,a,o,s,r,n,d;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)s=1,r=4,i=pt(t.GG,e._a[ge],je(kt(),1,4).year),a=pt(t.W,1),((o=pt(t.E,1))<1||7<o)&&(d=!0);else{s=e._locale._week.dow,r=e._locale._week.doy;var c=je(kt(),s,r);i=pt(t.gg,e._a[ge],c.year),a=pt(t.w,c.week),null!=t.d?((o=t.d)<0||6<o)&&(d=!0):null!=t.e?(o=t.e+s,(t.e<0||6<t.e)&&(d=!0)):o=s}a<1||a>Ue(i,s,r)?m(e)._overflowWeeks=!0:null!=d?m(e)._overflowWeekday=!0:(n=Be(i,a,o,s,r),e._a[ge]=n.year,e._dayOfYear=n.dayOfYear)}(e),null!=e._dayOfYear&&(r=pt(e._a[ge],o[ge]),(e._dayOfYear>Se(r)||0===e._dayOfYear)&&(m(e)._overflowDayOfYear=!0),a=Fe(r,0,e._dayOfYear),e._a[_e]=a.getUTCMonth(),e._a[fe]=a.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=n[t]=o[t];for(;t<7;t++)e._a[t]=n[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[he]&&0===e._a[be]&&0===e._a[ve]&&0===e._a[ye]&&(e._nextDay=!0,e._a[he]=0),e._d=(e._useUTC?Fe:function(e,t,i,a,o,s,r){var n=new Date(e,t,i,a,o,s,r);return e<100&&0<=e&&isFinite(n.getFullYear())&&n.setFullYear(e),n}).apply(null,n),s=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[he]=24),e._w&&void 0!==e._w.d&&e._w.d!==s&&(m(e).weekdayMismatch=!0)}}var ut=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_t=/Z|[+-]\d\d(?::?\d\d)?/,ft=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ht=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],bt=/^\/?Date\((\-?\d+)/i;function vt(e){var t,i,a,o,s,r,n=e._i,d=ut.exec(n)||gt.exec(n);if(d){for(m(e).iso=!0,t=0,i=ft.length;t<i;t++)if(ft[t][1].exec(d[1])){o=ft[t][0],a=!1!==ft[t][2];break}if(null==o)return void(e._isValid=!1);if(d[3]){for(t=0,i=ht.length;t<i;t++)if(ht[t][1].exec(d[3])){s=(d[2]||" ")+ht[t][0];break}if(null==s)return void(e._isValid=!1)}if(!a&&null!=s)return void(e._isValid=!1);if(d[4]){if(!_t.exec(d[4]))return void(e._isValid=!1);r="Z"}e._f=o+(s||"")+(r||""),St(e)}else e._isValid=!1}var yt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;var $t={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function wt(e){var t,i,a,o=yt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(o){var s=function(e,t,i,a,o,s){var r=[function(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}(e),Ee.indexOf(t),parseInt(i,10),parseInt(a,10),parseInt(o,10)];return s&&r.push(parseInt(s,10)),r}(o[4],o[3],o[2],o[5],o[6],o[7]);if(i=s,a=e,(t=o[1])&&qe.indexOf(t)!==new Date(i[0],i[1],i[2]).getDay()&&(m(a).weekdayMismatch=!0,!(a._isValid=!1)))return;e._a=s,e._tzm=function(e,t,i){if(e)return $t[e];if(t)return 0;var a=parseInt(i,10),o=a%100;return(a-o)/100*60+o}(o[8],o[9],o[10]),e._d=Fe.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),m(e).rfc2822=!0}else e._isValid=!1}function St(e){if(e._f!==i.ISO_8601)if(e._f!==i.RFC_2822){e._a=[],m(e).empty=!0;var t,a,o,s,r,n,d,l,p=""+e._i,u=p.length,g=0;for(o=R(e._f,e._locale).match(N)||[],t=0;t<o.length;t++)s=o[t],(a=(p.match(ce(s,e))||[])[0])&&(0<(r=p.substr(0,p.indexOf(a))).length&&m(e).unusedInput.push(r),p=p.slice(p.indexOf(a)+a.length),g+=a.length),B[s]?(a?m(e).empty=!1:m(e).unusedTokens.push(s),n=s,l=e,null!=(d=a)&&c(pe,n)&&pe[n](d,l._a,l,n)):e._strict&&!a&&m(e).unusedTokens.push(s);m(e).charsLeftOver=u-g,0<p.length&&m(e).unusedInput.push(p),e._a[he]<=12&&!0===m(e).bigHour&&0<e._a[he]&&(m(e).bigHour=void 0),m(e).parsedDateParts=e._a.slice(0),m(e).meridiem=e._meridiem,e._a[he]=function(e,t,i){var a;return null==i?t:null!=e.meridiemHour?e.meridiemHour(t,i):(null!=e.isPM&&((a=e.isPM(i))&&t<12&&(t+=12),a||12!==t||(t=0)),t)}(e._locale,e._a[he],e._meridiem),mt(e),lt(e)}else wt(e);else vt(e)}function Ct(e){var t,c,p,_,h=e._i,y=e._f;return e._locale=e._locale||ct(e._l),null===h||void 0===y&&""===h?g({nullInput:!0}):("string"==typeof h&&(e._i=h=e._locale.preparse(h)),v(h)?new b(lt(h)):(n(h)?e._d=h:a(y)?function(e){var t,i,a,o,s;if(0===e._f.length)return m(e).invalidFormat=!0,e._d=new Date(NaN);for(o=0;o<e._f.length;o++)s=0,t=f({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],St(t),u(t)&&(s+=m(t).charsLeftOver,s+=10*m(t).unusedTokens.length,m(t).score=s,(null==a||s<a)&&(a=s,i=t));l(e,i||t)}(e):y?St(e):s(c=(t=e)._i)?t._d=new Date(i.now()):n(c)?t._d=new Date(c.valueOf()):"string"==typeof c?(p=t,null===(_=bt.exec(p._i))?(vt(p),!1===p._isValid&&(delete p._isValid,wt(p),!1===p._isValid&&(delete p._isValid,i.createFromInputFallback(p)))):p._d=new Date(+_[1])):a(c)?(t._a=d(c.slice(0),(function(e){return parseInt(e,10)})),mt(t)):o(c)?function(e){if(!e._d){var t=O(e._i);e._a=d([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),mt(e)}}(t):r(c)?t._d=new Date(c):i.createFromInputFallback(t),u(e)||(e._d=null),e))}function Lt(e,t,i,s,r){var n,d={};return!0!==i&&!1!==i||(s=i,i=void 0),(o(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||a(e)&&0===e.length)&&(e=void 0),d._isAMomentObject=!0,d._useUTC=d._isUTC=r,d._l=i,d._i=e,d._f=t,d._strict=s,(n=new b(lt(Ct(d))))._nextDay&&(n.add(1,"d"),n._nextDay=void 0),n}function kt(e,t,i,a){return Lt(e,t,i,a,!1)}i.createFromInputFallback=C("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),i.ISO_8601=function(){},i.RFC_2822=function(){};var zt=C("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=kt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()})),It=C("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=kt.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:g()}));function xt(e,t){var i,o;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return kt();for(i=t[0],o=1;o<t.length;++o)t[o].isValid()&&!t[o][e](i)||(i=t[o]);return i}var Pt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Mt(e){var t=O(e),i=t.year||0,a=t.quarter||0,o=t.month||0,s=t.week||0,r=t.day||0,n=t.hour||0,d=t.minute||0,c=t.second||0,l=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Le.call(Pt,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var i=!1,a=0;a<Pt.length;++a)if(e[Pt[a]]){if(i)return!1;parseFloat(e[Pt[a]])!==$(e[Pt[a]])&&(i=!0)}return!0}(t),this._milliseconds=+l+1e3*c+6e4*d+1e3*n*60*60,this._days=+r+7*s,this._months=+o+3*a+12*i,this._data={},this._locale=ct(),this._bubble()}function At(e){return e instanceof Mt}function Et(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Ot(e,t){j(e,0,0,(function(){var e=this.utcOffset(),i="+";return e<0&&(e=-e,i="-"),i+G(~~(e/60),2)+t+G(~~e%60,2)}))}Ot("Z",":"),Ot("ZZ",""),de("Z",se),de("ZZ",se),me(["Z","ZZ"],(function(e,t,i){i._useUTC=!0,i._tzm=Tt(se,e)}));var Dt=/([\+\-]|\d\d)/gi;function Tt(e,t){var i=(t||"").match(e);if(null===i)return null;var a=((i[i.length-1]||[])+"").match(Dt)||["-",0,0],o=60*a[1]+$(a[2]);return 0===o?0:"+"===a[0]?o:-o}function Gt(e,t){var a,o;return t._isUTC?(a=t.clone(),o=(v(e)||n(e)?e.valueOf():kt(e).valueOf())-a.valueOf(),a._d.setTime(a._d.valueOf()+o),i.updateOffset(a,!1),a):kt(e).local()}function Nt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ft(){return!!this.isValid()&&this._isUTC&&0===this._offset}i.updateOffset=function(){};var Ht=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Bt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function jt(e,t){var i,a,o,s=e,n=null;return At(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:r(e)?(s={},t?s[t]=e:s.milliseconds=e):(n=Ht.exec(e))?(i="-"===n[1]?-1:1,s={y:0,d:$(n[fe])*i,h:$(n[he])*i,m:$(n[be])*i,s:$(n[ve])*i,ms:$(Et(1e3*n[ye]))*i}):(n=Bt.exec(e))?(i="-"===n[1]?-1:(n[1],1),s={y:Ut(n[2],i),M:Ut(n[3],i),w:Ut(n[4],i),d:Ut(n[5],i),h:Ut(n[6],i),m:Ut(n[7],i),s:Ut(n[8],i)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(o=function(e,t){var i;return e.isValid()&&t.isValid()?(t=Gt(t,e),e.isBefore(t)?i=Rt(e,t):((i=Rt(t,e)).milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}(kt(s.from),kt(s.to)),(s={}).ms=o.milliseconds,s.M=o.months),a=new Mt(s),At(e)&&c(e,"_locale")&&(a._locale=e._locale),a}function Ut(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function Rt(e,t){var i={milliseconds:0,months:0};return i.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function qt(e,t){return function(i,a){var o;return null===a||isNaN(+a)||(z(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=i,i=a,a=o),Yt(this,jt(i="string"==typeof i?+i:i,a),e),this}}function Yt(e,t,a,o){var s=t._milliseconds,r=Et(t._days),n=Et(t._months);e.isValid()&&(o=null==o||o,n&&Oe(e,Ie(e,"Month")+n*a),r&&xe(e,"Date",Ie(e,"Date")+r*a),s&&e._d.setTime(e._d.valueOf()+s*a),o&&i.updateOffset(e,r||n))}jt.fn=Mt.prototype,jt.invalid=function(){return jt(NaN)};var Jt=qt(1,"add"),Wt=qt(-1,"subtract");function Vt(e,t){var i=12*(t.year()-e.year())+(t.month()-e.month()),a=e.clone().add(i,"months");return-(i+(t-a<0?(t-a)/(a-e.clone().add(i-1,"months")):(t-a)/(e.clone().add(i+1,"months")-a)))||0}function Xt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ct(e))&&(this._locale=t),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Kt=C("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function Qt(){return this._locale}function Zt(e,t){j(0,[e,e.length],0,t)}function ei(e,t,i,a,o){var s;return null==e?je(this,a,o).year:((s=Ue(e,a,o))<t&&(t=s),function(e,t,i,a,o){var s=Be(e,t,i,a,o),r=Fe(s.year,0,s.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}.call(this,e,t,i,a,o))}j(0,["gg",2],0,(function(){return this.weekYear()%100})),j(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Zt("gggg","weekYear"),Zt("ggggg","weekYear"),Zt("GGGG","isoWeekYear"),Zt("GGGGG","isoWeekYear"),A("weekYear","gg"),A("isoWeekYear","GG"),T("weekYear",1),T("isoWeekYear",1),de("G",ae),de("g",ae),de("GG",X,Y),de("gg",X,Y),de("GGGG",ee,W),de("gggg",ee,W),de("GGGGG",te,V),de("ggggg",te,V),ue(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,i,a){t[a.substr(0,2)]=$(e)})),ue(["gg","GG"],(function(e,t,a,o){t[o]=i.parseTwoDigitYear(e)})),j("Q",0,"Qo","quarter"),A("quarter","Q"),T("quarter",7),de("Q",q),me("Q",(function(e,t){t[_e]=3*($(e)-1)})),j("D",["DD",2],"Do","date"),A("date","D"),T("date",9),de("D",X),de("DD",X,Y),de("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),me(["D","DD"],fe),me("Do",(function(e,t){t[fe]=$(e.match(X)[0])}));var ti=ze("Date",!0);j("DDD",["DDDD",3],"DDDo","dayOfYear"),A("dayOfYear","DDD"),T("dayOfYear",4),de("DDD",Z),de("DDDD",J),me(["DDD","DDDD"],(function(e,t,i){i._dayOfYear=$(e)})),j("m",["mm",2],0,"minute"),A("minute","m"),T("minute",14),de("m",X),de("mm",X,Y),me(["m","mm"],be);var ii=ze("Minutes",!1);j("s",["ss",2],0,"second"),A("second","s"),T("second",15),de("s",X),de("ss",X,Y),me(["s","ss"],ve);var ai,oi=ze("Seconds",!1);for(j("S",0,0,(function(){return~~(this.millisecond()/100)})),j(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),j(0,["SSS",3],0,"millisecond"),j(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),j(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),j(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),j(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),j(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),j(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),A("millisecond","ms"),T("millisecond",16),de("S",Z,q),de("SS",Z,Y),de("SSS",Z,J),ai="SSSS";ai.length<=9;ai+="S")de(ai,ie);function si(e,t){t[ye]=$(1e3*("0."+e))}for(ai="S";ai.length<=9;ai+="S")me(ai,si);var ri=ze("Milliseconds",!1);j("z",0,0,"zoneAbbr"),j("zz",0,0,"zoneName");var ni=b.prototype;function di(e){return e}ni.add=Jt,ni.calendar=function(e,t){var a=e||kt(),o=Gt(a,this).startOf("day"),s=i.calendarFormat(this,o)||"sameElse",r=t&&(I(t[s])?t[s].call(this,a):t[s]);return this.format(r||this.localeData().calendar(s,this,kt(a)))},ni.clone=function(){return new b(this)},ni.diff=function(e,t,i){var a,o,s;if(!this.isValid())return NaN;if(!(a=Gt(e,this)).isValid())return NaN;switch(o=6e4*(a.utcOffset()-this.utcOffset()),t=E(t)){case"year":s=Vt(this,a)/12;break;case"month":s=Vt(this,a);break;case"quarter":s=Vt(this,a)/3;break;case"second":s=(this-a)/1e3;break;case"minute":s=(this-a)/6e4;break;case"hour":s=(this-a)/36e5;break;case"day":s=(this-a-o)/864e5;break;case"week":s=(this-a-o)/6048e5;break;default:s=this-a}return i?s:y(s)},ni.endOf=function(e){return void 0===(e=E(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},ni.format=function(e){e||(e=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var t=U(this,e);return this.localeData().postformat(t)},ni.from=function(e,t){return this.isValid()&&(v(e)&&e.isValid()||kt(e).isValid())?jt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},ni.fromNow=function(e){return this.from(kt(),e)},ni.to=function(e,t){return this.isValid()&&(v(e)&&e.isValid()||kt(e).isValid())?jt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},ni.toNow=function(e){return this.to(kt(),e)},ni.get=function(e){return I(this[e=E(e)])?this[e]():this},ni.invalidAt=function(){return m(this).overflow},ni.isAfter=function(e,t){var i=v(e)?e:kt(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=E(s(t)?"millisecond":t))?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(t).valueOf())},ni.isBefore=function(e,t){var i=v(e)?e:kt(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=E(s(t)?"millisecond":t))?this.valueOf()<i.valueOf():this.clone().endOf(t).valueOf()<i.valueOf())},ni.isBetween=function(e,t,i,a){return("("===(a=a||"()")[0]?this.isAfter(e,i):!this.isBefore(e,i))&&(")"===a[1]?this.isBefore(t,i):!this.isAfter(t,i))},ni.isSame=function(e,t){var i,a=v(e)?e:kt(e);return!(!this.isValid()||!a.isValid())&&("millisecond"===(t=E(t||"millisecond"))?this.valueOf()===a.valueOf():(i=a.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf()))},ni.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},ni.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},ni.isValid=function(){return u(this)},ni.lang=Kt,ni.locale=Xt,ni.localeData=Qt,ni.max=It,ni.min=zt,ni.parsingFlags=function(){return l({},m(this))},ni.set=function(e,t){if("object"==typeof e)for(var i=function(e){var t=[];for(var i in e)t.push({unit:i,priority:D[i]});return t.sort((function(e,t){return e.priority-t.priority})),t}(e=O(e)),a=0;a<i.length;a++)this[i[a].unit](e[i[a].unit]);else if(I(this[e=E(e)]))return this[e](t);return this},ni.startOf=function(e){switch(e=E(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},ni.subtract=Wt,ni.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},ni.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},ni.toDate=function(){return new Date(this.valueOf())},ni.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,i=t?this.clone().utc():this;return i.year()<0||9999<i.year()?U(i,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):I(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",U(i,"Z")):U(i,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},ni.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var i="["+e+'("]',a=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o=t+'[")]';return this.format(i+a+"-MM-DD[T]HH:mm:ss.SSS"+o)},ni.toJSON=function(){return this.isValid()?this.toISOString():null},ni.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},ni.unix=function(){return Math.floor(this.valueOf()/1e3)},ni.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},ni.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},ni.year=ke,ni.isLeapYear=function(){return Ce(this.year())},ni.weekYear=function(e){return ei.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},ni.isoWeekYear=function(e){return ei.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},ni.quarter=ni.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},ni.month=De,ni.daysInMonth=function(){return Pe(this.year(),this.month())},ni.week=ni.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},ni.isoWeek=ni.isoWeeks=function(e){var t=je(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},ni.weeksInYear=function(){var e=this.localeData()._week;return Ue(this.year(),e.dow,e.doy)},ni.isoWeeksInYear=function(){return Ue(this.year(),1,4)},ni.date=ti,ni.day=ni.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,i,a=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,i=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=i.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-a,"d")):a},ni.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},ni.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=(i=e,a=this.localeData(),"string"==typeof i?a.weekdaysParse(i)%7||7:isNaN(i)?null:i);return this.day(this.day()%7?t:t-7)}return this.day()||7;var i,a},ni.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},ni.hour=ni.hours=tt,ni.minute=ni.minutes=ii,ni.second=ni.seconds=oi,ni.millisecond=ni.milliseconds=ri,ni.utcOffset=function(e,t,a){var o,s=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Tt(se,e)))return this}else Math.abs(e)<16&&!a&&(e*=60);return!this._isUTC&&t&&(o=Nt(this)),this._offset=e,this._isUTC=!0,null!=o&&this.add(o,"m"),s!==e&&(!t||this._changeInProgress?Yt(this,jt(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:Nt(this)},ni.utc=function(e){return this.utcOffset(0,e)},ni.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Nt(this),"m")),this},ni.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Tt(oe,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},ni.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?kt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},ni.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},ni.isLocal=function(){return!!this.isValid()&&!this._isUTC},ni.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},ni.isUtc=Ft,ni.isUTC=Ft,ni.zoneAbbr=function(){return this._isUTC?"UTC":""},ni.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},ni.dates=C("dates accessor is deprecated. Use date instead.",ti),ni.months=C("months accessor is deprecated. Use month instead",De),ni.years=C("years accessor is deprecated. Use year instead",ke),ni.zone=C("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),ni.isDSTShifted=C("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!s(this._isDSTShifted))return this._isDSTShifted;var e={};if(f(e,this),(e=Ct(e))._a){var t=e._isUTC?p(e._a):kt(e._a);this._isDSTShifted=this.isValid()&&0<w(e._a,t.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted}));var ci=P.prototype;function li(e,t,i,a){var o=ct(),s=p().set(a,t);return o[i](s,e)}function pi(e,t,i){if(r(e)&&(t=e,e=void 0),e=e||"",null!=t)return li(e,t,i,"month");var a,o=[];for(a=0;a<12;a++)o[a]=li(e,a,i,"month");return o}function mi(e,t,i,a){"boolean"==typeof e?r(t)&&(i=t,t=void 0):(t=e,e=!1,r(i=t)&&(i=t,t=void 0)),t=t||"";var o,s=ct(),n=e?s._week.dow:0;if(null!=i)return li(t,(i+n)%7,a,"day");var d=[];for(o=0;o<7;o++)d[o]=li(t,(o+n)%7,a,"day");return d}ci.calendar=function(e,t,i){var a=this._calendar[e]||this._calendar.sameElse;return I(a)?a.call(t,i):a},ci.longDateFormat=function(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])},ci.invalidDate=function(){return this._invalidDate},ci.ordinal=function(e){return this._ordinal.replace("%d",e)},ci.preparse=di,ci.postformat=di,ci.relativeTime=function(e,t,i,a){var o=this._relativeTime[i];return I(o)?o(e,t,i,a):o.replace(/%d/i,e)},ci.pastFuture=function(e,t){var i=this._relativeTime[0<e?"future":"past"];return I(i)?i(t):i.replace(/%s/i,t)},ci.set=function(e){var t,i;for(i in e)I(t=e[i])?this[i]=t:this["_"+i]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},ci.months=function(e,t){return e?a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Me).test(t)?"format":"standalone"][e.month()]:a(this._months)?this._months:this._months.standalone},ci.monthsShort=function(e,t){return e?a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Me.test(t)?"format":"standalone"][e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},ci.monthsParse=function(e,t,i){var a,o,s;if(this._monthsParseExact)return function(e,t,i){var a,o,s,r=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],a=0;a<12;++a)s=p([2e3,a]),this._shortMonthsParse[a]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[a]=this.months(s,"").toLocaleLowerCase();return i?"MMM"===t?-1!==(o=Le.call(this._shortMonthsParse,r))?o:null:-1!==(o=Le.call(this._longMonthsParse,r))?o:null:"MMM"===t?-1!==(o=Le.call(this._shortMonthsParse,r))||-1!==(o=Le.call(this._longMonthsParse,r))?o:null:-1!==(o=Le.call(this._longMonthsParse,r))||-1!==(o=Le.call(this._shortMonthsParse,r))?o:null}.call(this,e,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),a=0;a<12;a++){if(o=p([2e3,a]),i&&!this._longMonthsParse[a]&&(this._longMonthsParse[a]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[a]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),i||this._monthsParse[a]||(s="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[a]=new RegExp(s.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[a].test(e))return a;if(i&&"MMM"===t&&this._shortMonthsParse[a].test(e))return a;if(!i&&this._monthsParse[a].test(e))return a}},ci.monthsRegex=function(e){return this._monthsParseExact?(c(this,"_monthsRegex")||Ne.call(this),e?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=Ge),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},ci.monthsShortRegex=function(e){return this._monthsParseExact?(c(this,"_monthsRegex")||Ne.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=Te),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},ci.week=function(e){return je(e,this._week.dow,this._week.doy).week},ci.firstDayOfYear=function(){return this._week.doy},ci.firstDayOfWeek=function(){return this._week.dow},ci.weekdays=function(e,t){return e?a(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:a(this._weekdays)?this._weekdays:this._weekdays.standalone},ci.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},ci.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},ci.weekdaysParse=function(e,t,i){var a,o,s;if(this._weekdaysParseExact)return function(e,t,i){var a,o,s,r=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],a=0;a<7;++a)s=p([2e3,1]).day(a),this._minWeekdaysParse[a]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[a]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[a]=this.weekdays(s,"").toLocaleLowerCase();return i?"dddd"===t?-1!==(o=Le.call(this._weekdaysParse,r))?o:null:"ddd"===t?-1!==(o=Le.call(this._shortWeekdaysParse,r))?o:null:-1!==(o=Le.call(this._minWeekdaysParse,r))?o:null:"dddd"===t?-1!==(o=Le.call(this._weekdaysParse,r))||-1!==(o=Le.call(this._shortWeekdaysParse,r))||-1!==(o=Le.call(this._minWeekdaysParse,r))?o:null:"ddd"===t?-1!==(o=Le.call(this._shortWeekdaysParse,r))||-1!==(o=Le.call(this._weekdaysParse,r))||-1!==(o=Le.call(this._minWeekdaysParse,r))?o:null:-1!==(o=Le.call(this._minWeekdaysParse,r))||-1!==(o=Le.call(this._weekdaysParse,r))||-1!==(o=Le.call(this._shortWeekdaysParse,r))?o:null}.call(this,e,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),a=0;a<7;a++){if(o=p([2e3,1]).day(a),i&&!this._fullWeekdaysParse[a]&&(this._fullWeekdaysParse[a]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[a]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[a]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[a]||(s="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[a]=new RegExp(s.replace(".",""),"i")),i&&"dddd"===t&&this._fullWeekdaysParse[a].test(e))return a;if(i&&"ddd"===t&&this._shortWeekdaysParse[a].test(e))return a;if(i&&"dd"===t&&this._minWeekdaysParse[a].test(e))return a;if(!i&&this._weekdaysParse[a].test(e))return a}},ci.weekdaysRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Xe.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=Je),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},ci.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Xe.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=We),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},ci.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Xe.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ve),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},ci.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},ci.meridiem=function(e,t,i){return 11<e?i?"pm":"PM":i?"am":"AM"},nt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===$(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),i.lang=C("moment.lang is deprecated. Use moment.locale instead.",nt),i.langData=C("moment.langData is deprecated. Use moment.localeData instead.",ct);var ui=Math.abs;function gi(e,t,i,a){var o=jt(t,i);return e._milliseconds+=a*o._milliseconds,e._days+=a*o._days,e._months+=a*o._months,e._bubble()}function _i(e){return e<0?Math.floor(e):Math.ceil(e)}function fi(e){return 4800*e/146097}function hi(e){return 146097*e/4800}function bi(e){return function(){return this.as(e)}}var vi=bi("ms"),yi=bi("s"),$i=bi("m"),wi=bi("h"),Si=bi("d"),Ci=bi("w"),Li=bi("M"),ki=bi("y");function zi(e){return function(){return this.isValid()?this._data[e]:NaN}}var Ii=zi("milliseconds"),xi=zi("seconds"),Pi=zi("minutes"),Mi=zi("hours"),Ai=zi("days"),Ei=zi("months"),Oi=zi("years"),Di=Math.round,Ti={ss:44,s:45,m:45,h:22,d:26,M:11},Gi=Math.abs;function Ni(e){return(0<e)-(e<0)||+e}function Fi(){if(!this.isValid())return this.localeData().invalidDate();var e,t,i=Gi(this._milliseconds)/1e3,a=Gi(this._days),o=Gi(this._months);t=y((e=y(i/60))/60),i%=60,e%=60;var s=y(o/12),r=o%=12,n=a,d=t,c=e,l=i?i.toFixed(3).replace(/\.?0+$/,""):"",p=this.asSeconds();if(!p)return"P0D";var m=p<0?"-":"",u=Ni(this._months)!==Ni(p)?"-":"",g=Ni(this._days)!==Ni(p)?"-":"",_=Ni(this._milliseconds)!==Ni(p)?"-":"";return m+"P"+(s?u+s+"Y":"")+(r?u+r+"M":"")+(n?g+n+"D":"")+(d||c||l?"T":"")+(d?_+d+"H":"")+(c?_+c+"M":"")+(l?_+l+"S":"")}var Hi=Mt.prototype;return Hi.isValid=function(){return this._isValid},Hi.abs=function(){var e=this._data;return this._milliseconds=ui(this._milliseconds),this._days=ui(this._days),this._months=ui(this._months),e.milliseconds=ui(e.milliseconds),e.seconds=ui(e.seconds),e.minutes=ui(e.minutes),e.hours=ui(e.hours),e.months=ui(e.months),e.years=ui(e.years),this},Hi.add=function(e,t){return gi(this,e,t,1)},Hi.subtract=function(e,t){return gi(this,e,t,-1)},Hi.as=function(e){if(!this.isValid())return NaN;var t,i,a=this._milliseconds;if("month"===(e=E(e))||"year"===e)return t=this._days+a/864e5,i=this._months+fi(t),"month"===e?i:i/12;switch(t=this._days+Math.round(hi(this._months)),e){case"week":return t/7+a/6048e5;case"day":return t+a/864e5;case"hour":return 24*t+a/36e5;case"minute":return 1440*t+a/6e4;case"second":return 86400*t+a/1e3;case"millisecond":return Math.floor(864e5*t)+a;default:throw new Error("Unknown unit "+e)}},Hi.asMilliseconds=vi,Hi.asSeconds=yi,Hi.asMinutes=$i,Hi.asHours=wi,Hi.asDays=Si,Hi.asWeeks=Ci,Hi.asMonths=Li,Hi.asYears=ki,Hi.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*$(this._months/12):NaN},Hi._bubble=function(){var e,t,i,a,o,s=this._milliseconds,r=this._days,n=this._months,d=this._data;return 0<=s&&0<=r&&0<=n||s<=0&&r<=0&&n<=0||(s+=864e5*_i(hi(n)+r),n=r=0),d.milliseconds=s%1e3,e=y(s/1e3),d.seconds=e%60,t=y(e/60),d.minutes=t%60,i=y(t/60),d.hours=i%24,n+=o=y(fi(r+=y(i/24))),r-=_i(hi(o)),a=y(n/12),n%=12,d.days=r,d.months=n,d.years=a,this},Hi.clone=function(){return jt(this)},Hi.get=function(e){return e=E(e),this.isValid()?this[e+"s"]():NaN},Hi.milliseconds=Ii,Hi.seconds=xi,Hi.minutes=Pi,Hi.hours=Mi,Hi.days=Ai,Hi.weeks=function(){return y(this.days()/7)},Hi.months=Ei,Hi.years=Oi,Hi.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t,i,a,o,s,r,n,d,c,l,p=this.localeData(),m=(t=!e,i=p,a=jt(this).abs(),o=Di(a.as("s")),s=Di(a.as("m")),r=Di(a.as("h")),n=Di(a.as("d")),d=Di(a.as("M")),c=Di(a.as("y")),(l=o<=Ti.ss&&["s",o]||o<Ti.s&&["ss",o]||s<=1&&["m"]||s<Ti.m&&["mm",s]||r<=1&&["h"]||r<Ti.h&&["hh",r]||n<=1&&["d"]||n<Ti.d&&["dd",n]||d<=1&&["M"]||d<Ti.M&&["MM",d]||c<=1&&["y"]||["yy",c])[2]=t,l[3]=0<+this,l[4]=i,function(e,t,i,a,o){return o.relativeTime(t||1,!!i,e,a)}.apply(null,l));return e&&(m=p.pastFuture(+this,m)),p.postformat(m)},Hi.toISOString=Fi,Hi.toString=Fi,Hi.toJSON=Fi,Hi.locale=Xt,Hi.localeData=Qt,Hi.toIsoString=C("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Fi),Hi.lang=Kt,j("X",0,0,"unix"),j("x",0,0,"valueOf"),de("x",ae),de("X",/[+-]?\d+(\.\d{1,3})?/),me("X",(function(e,t,i){i._d=new Date(1e3*parseFloat(e,10))})),me("x",(function(e,t,i){i._d=new Date($(e))})),i.version="2.22.2",e=kt,i.fn=ni,i.min=function(){return xt("isBefore",[].slice.call(arguments,0))},i.max=function(){return xt("isAfter",[].slice.call(arguments,0))},i.now=function(){return Date.now?Date.now():+new Date},i.utc=p,i.unix=function(e){return kt(1e3*e)},i.months=function(e,t){return pi(e,t,"months")},i.isDate=n,i.locale=nt,i.invalid=g,i.duration=jt,i.isMoment=v,i.weekdays=function(e,t,i){return mi(e,t,i,"weekdays")},i.parseZone=function(){return kt.apply(null,arguments).parseZone()},i.localeData=ct,i.isDuration=At,i.monthsShort=function(e,t){return pi(e,t,"monthsShort")},i.weekdaysMin=function(e,t,i){return mi(e,t,i,"weekdaysMin")},i.defineLocale=dt,i.updateLocale=function(e,t){if(null!=t){var i,a,o=it;null!=(a=rt(e))&&(o=a._config),(i=new P(t=x(o,t))).parentLocale=at[e],at[e]=i,nt(e)}else null!=at[e]&&(null!=at[e].parentLocale?at[e]=at[e].parentLocale:null!=at[e]&&delete at[e]);return at[e]},i.locales=function(){return L(at)},i.weekdaysShort=function(e,t,i){return mi(e,t,i,"weekdaysShort")},i.normalizeUnits=E,i.relativeTimeRounding=function(e){return void 0===e?Di:"function"==typeof e&&(Di=e,!0)},i.relativeTimeThreshold=function(e,t){return void 0!==Ti[e]&&(void 0===t?Ti[e]:(Ti[e]=t,"s"===e&&(Ti.ss=t-1),!0))},i.calendarFormat=function(e,t){var i=e.diff(t,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"},i.prototype=ni,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},i})),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],(function(i){return t(e,e.document,void 0,i)})):"object"==typeof module&&"object"==typeof module.exports?module.exports=t(e,e.document,void 0,require("jquery")):t(e,e.document,void 0,e.jQuery)}("undefined"!=typeof window?window:this,(function(e,t,i,a){"use strict";var o,s,r,n,d="object",c="function",l="array",p="string",m="boolean",u="number",g="null",_="class",f="style",h="id",b="length",v="prototype",y="offsetHeight",$="clientHeight",w="scrollHeight",S="offsetWidth",C="clientWidth",L="scrollWidth",k="hasOwnProperty",z="getBoundingClientRect",I=(o={},s={},{e:r=["-webkit-","-moz-","-o-","-ms-"],o:n=["WebKit","Moz","O","MS"],u:function(e){var a=s[e];if(s[k](e))return a;for(var o,n,d,c=x(e),l=t.createElement("div")[f],p=0;p<r.length;p++)for(d=r[p].replace(/-/g,""),o=[e,r[p]+e,d+c,x(d)+c],n=0;n<o[b];n++)if(l[o[n]]!==i){a=o[n];break}return s[e]=a},s:function(t,i,a){var s=0,r=o[t];if(!o[k](t)){for(r=e[t];s<n[b];s++)r=r||e[(i?n[s]:n[s].toLowerCase())+x(t)];o[t]=r}return r||a}});function x(e){return e.charAt(0).toUpperCase()+e.slice(1)}var P={wW:A(M,0,!0),wH:A(M,0),mO:A(I.s,0,"MutationObserver",!0),rO:A(I.s,0,"ResizeObserver",!0),rAF:A(I.s,0,"requestAnimationFrame",!1,(function(t){return e.setTimeout(t,1e3/60)})),cAF:A(I.s,0,"cancelAnimationFrame",!1,(function(t){return e.clearTimeout(t)})),now:function(){return Date.now&&Date.now()||(new Date).getTime()},stpP:function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},prvD:function(e){e.preventDefault&&e.cancelable?e.preventDefault():e.returnValue=!1},page:function(e){var a="page",o="client",s="X",r=((e=e.originalEvent||e).target||e.srcElement||t).ownerDocument||t,n=r.documentElement,d=r.body;if(e.touches===i)return!e[a+s]&&e[o+s]&&null!=e[o+s]?{x:e[o+s]+(n&&n.scrollLeft||d&&d.scrollLeft||0)-(n&&n.clientLeft||d&&d.clientLeft||0),y:e[o+"Y"]+(n&&n.scrollTop||d&&d.scrollTop||0)-(n&&n.clientTop||d&&d.clientTop||0)}:{x:e[a+s],y:e.pageY};var c=e.touches[0];return{x:c[a+s],y:c.pageY}},mBtn:function(e){var t=e.button;return e.which||t===i?e.which:1&t?1:2&t?3:4&t?2:0},inA:function(e,t){for(var i=0;i<t[b];i++)try{if(t[i]===e)return i}catch(e){}return-1},isA:function(e){var t=Array.isArray;return t?t(e):this.type(e)==l},type:function(e){return e===i||null===e?e+"":Object[v].toString.call(e).replace(/^\[object (.+)\]$/,"$1").toLowerCase()},bind:A};function M(i){return i?e.innerWidth||t.documentElement[C]||t.body[C]:e.innerHeight||t.documentElement[$]||t.body[$]}function A(e,t){if(typeof e!=c)throw"Can't bind function!";function i(){}function a(){return e.apply(this instanceof i?this:t,s.concat(Array[o].slice.call(arguments)))}var o=v,s=Array[o].slice.call(arguments,2);return e[o]&&(i[o]=e[o]),a[o]=new i,a}var E,O,D,T,G,N,F,H,B,j,U,R,q,Y=Math,J=a,W=(a.easing,a),V=(E=[],O="__overlayScrollbars__",function(e,t){var i=arguments[b];if(i<1)return E;if(t)e[O]=t,E.push(e);else{var a=P.inA(e,E);if(-1<a){if(!(1<i))return E[a][O];delete e[O],E.splice(a,1)}}}),X=(R=[],N=P.type,U={className:["os-theme-dark",[g,p]],resize:["none","n:none b:both h:horizontal v:vertical"],sizeAutoCapable:H=[!0,m],clipAlways:H,normalizeRTL:H,paddingAbsolute:B=[!(F=[m,u,p,l,d,c,g]),m],autoUpdate:[null,[g,m]],autoUpdateInterval:[33,u],nativeScrollbarsOverlaid:{showNativeScrollbars:B,initialize:H},overflowBehavior:{x:["scroll","v-h:visible-hidden v-s:visible-scroll s:scroll h:hidden"],y:["scroll","v-h:visible-hidden v-s:visible-scroll s:scroll h:hidden"]},scrollbars:{visibility:["auto","v:visible h:hidden a:auto"],autoHide:["never","n:never s:scroll l:leave m:move"],autoHideDelay:[800,u],dragScrolling:H,clickScrolling:B,touchSupport:H,snapHandle:B},textarea:{dynWidth:B,dynHeight:B,inheritedAttrs:[["style","class"],[p,l,g]]},callbacks:{onInitialized:j=[null,[g,c]],onInitializationWithdrawn:j,onDestroyed:j,onScrollStart:j,onScroll:j,onScrollStop:j,onOverflowChanged:j,onOverflowAmountChanged:j,onDirectionChanged:j,onContentSizeChanged:j,onHostSizeChanged:j,onUpdated:j}},q={v:K(),d:K(!0),p:function(t,a,o,s){var r={},n={},c=W.extend(!0,{},t),m=W.inArray,u=W.isEmptyObject,g=function(e,t,a,s,r,n){for(var c in t)if(t[k](c)&&e[k](c)){var _,f,h,v,y,$,w,S,C=!1,L=!1,z=t[c],I=N(z),x=I==d,P=N(z)!=l?[z]:z,M=a[c],A=e[c],E=N(A),O=n?n+".":"",D='The option "'+O+c+"\" wasn't set, because",T=[],G=[];if(M=M===i?{}:M,x&&E==d)s[c]={},r[c]={},g(A,z,M,s[c],r[c],O+c),W.each([e,s,r],(function(e,t){u(t[c])&&delete t[c]}));else if(!x){for($=0;$<P[b];$++)if(y=P[$],h=(I=N(y))==p&&-1===m(y,F))for(T.push(p),_=y.split(" "),G=G.concat(_),w=0;w<_[b];w++){for(v=(f=_[w].split(":"))[0],S=0;S<f[b];S++)if(A===f[S]){C=!0;break}if(C)break}else if(T.push(y),E===y){C=!0;break}C?((L=A!==M)&&(s[c]=A),(h?m(M,f)<0:L)&&(r[c]=h?v:A)):o&&console.warn(D+" it doesn't accept the type [ "+E.toUpperCase()+' ] with the value of "'+A+'".\r\nAccepted types are: [ '+T.join(", ").toUpperCase()+" ]."+(0<G[length]?"\r\nValid strings are: [ "+G.join(", ").split(":").join(", ")+" ].":"")),delete e[c]}}};return g(c,a,s||{},r,n),!u(c)&&o&&console.warn("The following options are discarded due to invalidity:\r\n"+e.JSON.stringify(c,null,2)),{g:r,m:n}}},(D=e.OverlayScrollbars=function(a,o,s){if(0===arguments[b])return this;var r,n,g=[],x=W.isPlainObject(o);return a?(a=a[b]!=i?a:[a[0]||a],Q(),0<a[b]&&(x?W.each(a,(function(a,n){(r=n)!==i&&g.push(function(a,o,s,r,n){var g=P.type,x=W.inArray,M=W.each,A=new D,E=W[v];if(wo(a)){if(V(a)){var O=V(a);return O.options(o),O}var T,G,N,F,H,B,j,U,R,X,K,Q,Z,ee,te,ie,ae,oe,se,re,ne,de,ce,le,pe,me,ue,ge,_e,fe,he,be,ve,ye,$e,we,Se,Ce,Le,ke,ze,Ie,xe,Pe,Me,Ae,Ee,Oe,De,Te,Ge,Ne,Fe,He,Be,je,Ue,Re,qe,Ye,Je,We,Ve,Xe,Ke,Qe,Ze,et,tt,it,at,ot,st,rt,nt,dt,ct,lt,pt,mt,ut,gt,_t,ft,ht,bt,vt,yt,$t,wt,St,Ct,Lt,kt,zt,It,xt,Pt,Mt,At,Et,Ot,Dt,Tt,Gt,Nt,Ft,Ht,Bt,jt,Ut,Rt,qt,Yt,Jt,Wt,Vt,Xt,Kt,Qt,Zt,ei,ti,ii,ai={},oi={},si={},ri={},ni={},di="-hidden",ci="margin-",li="padding-",pi="border-",mi="top",ui="right",gi="bottom",_i="left",fi="min-",hi="max-",bi="width",vi="height",yi="float",$i="",wi="auto",Si="sync",Ci="scroll",Li="100%",ki="x",zi="y",Ii=".",xi=" ",Pi="scrollbar",Mi="-horizontal",Ai="-vertical",Ei=Ci+"Left",Oi=Ci+"Top",Di="mousedown touchstart",Ti="mouseup touchend touchcancel",Gi="mousemove touchmove",Ni="mouseenter",Fi="mouseleave",Hi="keydown",Bi="keyup",ji="selectstart",Ui="transitionend webkitTransitionEnd oTransitionEnd",Ri="__overlayScrollbarsRO__",qi="os-html",Yi="os-host",Ji=Yi+"-textarea",Wi=Yi+"-"+Pi+Mi+di,Vi=Yi+"-"+Pi+Ai+di,Xi=Yi+"-transition",Ki=Yi+"-rtl",Qi=Yi+"-resize-disabled",Zi=Yi+"-scrolling",ea=Yi+"-overflow",ta=ea+"-x",ia=ea+"-y",aa="os-textarea",oa=aa+"-cover",sa="os-padding",ra="os-viewport",na=ra+"-native-scrollbars-invisible",da=ra+"-native-scrollbars-overlaid",ca="os-content",la="os-content-arrange",pa="os-content-glue",ma="os-size-auto-observer",ua="os-resize-observer",ga="os-resize-observer-item",_a=ga+"-final",fa="os-text-inherit",ha="os-"+Pi,ba=ha+"-track",va=ba+"-off",ya=ha+"-handle",$a=ya+"-off",wa=ha+"-unusable",Sa=ha+"-"+wi+di,Ca=ha+"-corner",La=Ca+"-resize",ka=La+"-both",za=La+Mi,Ia=La+Ai,xa=ha+Mi,Pa=ha+Ai,Ma="os-dragging",Aa="os-theme-none",Ea=[na,da,va,$a,wa,Sa,La,ka,za,Ia,Ma].join(xi),Oa=[],Da={},Ta={},Ga=42,Na=[],Fa={},Ha=["wrap","cols","rows"],Ba=[h,_,f,"open"],ja=[];return A.sleep=function(){fe=!0},A.update=function(e){var t,a,o,s,r;if(!ie)return g(e)==p?e===wi?(t=function(){if(!fe&&!jt){var e,t,a,o,s=[{_:ze,S:Ba.concat(":visible")},{_:ae?ke:i,S:Ha}];return M(s,(function(i,s){(t=s._)&&M(s.S,(function(i,s){a=":"===s.charAt(0)?t.is(s):t.attr(s),o=Fa[s],e=e||xo(a,o),Fa[s]=a}))})),e}}(),a=function(){if(fe)return!1;var e,t,i,a,o,s=Lo(),r=ae&&at&&!Pt?ke.val().length:0,n=!jt&&at&&!ae,d={},c={};return ee&&(d={x:Xe[L],y:Xe[w]}),n&&(e=Ae.css(yi),c[yi]=_e?ui:_i,c[bi]=wi,Ae.css(c)),o={w:s[L]+r,h:s[w]+r},n&&(c[yi]=e,c[bi]=Li,Ae.css(c)),t=io(),i=xo(o,yt),a=xo(d,Tt),yt=o,Tt=d,i||t||a}(),(o=t||a)&&so({z:a,T:te?i:ve})):e===Si?jt?(s=Ht(Nt.takeRecords()),r=Bt(Ft.takeRecords())):s=A.update(wi):"zoom"===e&&so({k:!0,z:!0}):(e=fe||e,fe=!1,A.update(Si)&&!e||so({O:e})),ae||Ae.find("img").each((function(e,t){-1===P.inA(t,Na)&&W(t).off("load",eo).on("load",eo)})),o||s||r},A.options=function(e,t){var i,a={};if(W.isEmptyObject(e)||!W.isPlainObject(e)){if(g(e)!=p)return be;if(!(1<arguments.length))return Io(be,e);!function(e,t,i){for(var a=t.split(Ii),o=a.length,s=0,r={},n=r;s<o;s++)r=r[a[s]]=s+1<o?{}:i;W.extend(e,n,!0)}(a,e,t),i=ro(a)}else i=ro(e);W.isEmptyObject(i)||so({T:i})},A.destroy=function(){if(!ie){for(var e in n.remove(A),Wa(),qa(xe),qa(Ie),Da)A.removeExt(e);for(;0<ja[b];)ja.pop()();to(!0),Oe&&Eo(Oe),Ee&&Eo(Ee),de&&Eo(Ie),lo(!0),bo(!0),no(!0);for(var t=0;t<Na[b];t++)W(Na[t]).off("load",eo);Na=i,fe=ie=!0,V(a,0),vo("onDestroyed")}},A.scroll=function(e,t,a,o){if(0===arguments.length||e===i){var s=oi,r=si,n=zt&&_e&&N.i,_=zt&&_e&&N.n,f=s.C,h=s.A,v=s.H;return h=n?1-h:h,f=n?v-f:f,v*=_?-1:1,{position:{x:f*=_?-1:1,y:r.C},ratio:{x:h,y:r.A},max:{x:v,y:r.H},handleOffset:{x:s.N,y:r.N},handleLength:{x:s.L,y:r.L},handleLengthRatio:{x:s.R,y:r.R},trackLength:{x:s.D,y:r.D},snappedHandleOffset:{x:s.I,y:r.I},isRTL:_e,isRTLNormalized:zt}}A.update(Si);var $,w,C,L,I,P,M,E,O,D=zt,T=[ki,_i,"l"],G=[zi,mi,"t"],F=["+=","-=","*=","/="],H=g(t)==d,B=H?t.complete:o,j={},U={},R="begin",q="nearest",V="never",K="ifneeded",Q=b,Z=[ki,zi,"xy","yx"],ee=[R,"end","center",q],te=["always",V,K],ie=e[k]("el"),ae=ie?e.el:e,oe=!!(ae instanceof W||J)&&ae instanceof J,se=!oe&&wo(ae),re=g(B)!=c?i:function(){w&&_o(!0),C&&_o(!1),B()};function ne(e,t){for($=0;$<t[Q];$++)if(e===t[$])return!0;return!1}function de(e,t){var i=e?T:G;if(t=g(t)==p||g(t)==u?[t,t]:t,g(t)==l)return e?t[0]:t[1];if(g(t)==d)for($=0;$<i[Q];$++)if(i[$]in t)return t[i[$]]}function ce(e,t){var a,o,s,r,n=g(t)==p,d=e?oi:si,c=d.C,l=d.H,m=_e&&e,_=m&&N.n&&!D,f="replace",h=eval;if((o=n?(2<t[Q]&&(r=t.substr(0,2),-1<x(r,F)&&(a=r)),t=(t=a?t.substr(2):t)[f](/min/g,0)[f](/</g,0)[f](/max/g,(_?"-":$i)+Li)[f](/>/g,(_?"-":$i)+Li)[f](/px/g,$i)[f](/%/g," * "+l*(m&&N.n?-1:1)/100)[f](/vw/g," * "+ri.w)[f](/vh/g," * "+ri.h),So(isNaN(t)?So(h(t),!0).toFixed():t)):t)!==i&&!isNaN(o)&&g(o)==u){var b=D&&m,v=c*(b&&N.n?-1:1),y=b&&N.i,$=b&&N.n;switch(v=y?l-v:v,a){case"+=":s=v+o;break;case"-=":s=v-o;break;case"*=":s=v*o;break;case"/=":s=v/o;break;default:s=o}s=y?l-s:s,s*=$?-1:1,s=m&&N.n?Y.min(0,Y.max(l,s)):Y.max(0,Y.min(l,s))}return s===c?i:s}function le(e,t,i,a){var o,s,r=[i,i],n=g(e);if(n==t)e=[e,e];else if(n==l){if(2<(o=e[Q])||o<1)e=r;else for(1===o&&(e[1]=i),$=0;$<o;$++)if(s=e[$],g(s)!=t||!ne(s,a)){e=r;break}}else e=n==d?[e[ki]||i,e[zi]||i]:r;return{x:e[0],y:e[1]}}function pe(e){var t,i,a=[],o=[mi,ui,gi,_i];for($=0;$<e[Q]&&$!==o[Q];$++)t=e[$],(i=g(t))==m?a.push(t?So(O.css(ci+o[$])):0):a.push(i==u?t:0);return a}if(oe||se){var me,ue=ie?e.margin:0,ge=ie?e.axis:0,fe=ie?e.scroll:0,he=ie?e.block:0,be=[0,0,0,0],ve=g(ue);if(0<(O=oe?ae:W(ae))[Q]){ue=ve==u||ve==m?pe([ue,ue,ue,ue]):ve==l?2===(me=ue[Q])?pe([ue[0],ue[1],ue[0],ue[1]]):4<=me?pe(ue):be:ve==d?pe([ue[mi],ue[ui],ue[gi],ue[_i]]):be,I=ne(ge,Z)?ge:"xy",P=le(fe,p,"always",te),M=le(he,p,R,ee),E=ue;var ye=oi.C,$e=si.C,we=Pe.offset(),Se=O.offset(),Ce={x:P.x==V||I==zi,y:P.y==V||I==ki};Se[mi]-=E[0],Se[_i]-=E[3];var Le={x:Y.round(Se[_i]-we[_i]+ye),y:Y.round(Se[mi]-we[mi]+$e)};if(_e&&(N.n||N.i||(Le.x=Y.round(we[_i]-Se[_i]+ye)),N.n&&D&&(Le.x*=-1),N.i&&D&&(Le.x=Y.round(we[_i]-Se[_i]+(oi.H-ye)))),M.x!=R||M.y!=R||P.x==K||P.y==K||_e){var ke=O[0],ze=X?ke[z]():{width:ke[S],height:ke[y]},Ie={w:ze[bi]+E[3]+E[1],h:ze[vi]+E[0]+E[2]},xe=function(e){var t=ho(e),i=t.M,a=t.W,o=t.j,s=M[o]==(e&&_e?R:"end"),r="center"==M[o],n=M[o]==q,d=P[o]==V,c=P[o]==K,l=ri[i],p=we[a],m=Ie[i],u=Se[a],g=r?2:1,_=u+m/2,f=p+l/2,h=m<=l&&p<=u&&u+m<=p+l;d?Ce[o]=!0:Ce[o]||((n||c)&&(Ce[o]=c&&h,s=m<l?f<_:_<f),Le[o]-=s||r?(l/g-m/g)*(e&&_e&&D?-1:1):0)};xe(!0),xe(!1)}Ce.y&&delete Le.y,Ce.x&&delete Le.x,e=Le}}j[Ei]=ce(!0,de(!0,e)),j[Oi]=ce(!1,de(!1,e)),w=j[Ei]!==i,C=j[Oi]!==i,(w||C)&&(0<t||H)?H?(t.complete=re,Me.animate(j,t)):(L={duration:t,complete:re},g(a)==l||W.isPlainObject(a)?(U[Ei]=a[0]||a.x,U[Oi]=a[1]||a.y,L.specialEasing=U):L.easing=a,Me.animate(j,L)):(w&&Me[Ei](j[Ei]),C&&Me[Oi](j[Oi]))},A.scrollStop=function(e,t,i){return Me.stop(e,t,i),A},A.getElements=function(e){var t={target:qe,host:Ye,padding:Ve,viewport:Xe,content:Ke,scrollbarHorizontal:{scrollbar:Ge[0],track:Ne[0],handle:Fe[0]},scrollbarVertical:{scrollbar:He[0],track:Be[0],handle:je[0]},scrollbarCorner:Te[0]};return g(e)==p?Io(t,e):t},A.getState=function(e){function t(e){if(!W.isPlainObject(e))return e;function t(e,t){i[k](e)&&(i[t]=i[e],delete i[e])}var i=Po({},e);return t("w",bi),t("h",vi),delete i.c,i}var i={destroyed:!!t(ie),sleeping:!!t(fe),autoUpdate:t(!jt),widthAuto:t(at),heightAuto:t(ot),padding:t(nt),overflowAmount:t(ft),hideOverflow:t(it),hasOverflow:t(tt),contentScrollSize:t(Ze),viewportSize:t(ri),hostSize:t(Qe),documentMixed:t(se)};return g(e)==p?Io(i,e):i},A.ext=function(e){var t,i="added removed on contract".split(" "),a=0;if(g(e)==p){if(Da[k](e))for(t=Po({},Da[e]);a<i.length;a++)delete t[i[a]]}else for(a in t={},Da)t[a]=Po({},A.ext(a));return t},A.addExt=function(t,i){var a,o,s,r,n=D.extension(t),d=!0;if(n){if(Da[k](t))return A.ext(t);if((a=n.extensionFactory.call(A,Po({},n.defaultOptions),W,P))&&(s=a.contract,g(s)==c&&(r=s(e),d=g(r)==m?r:d),d))return o=(Da[t]=a).added,g(o)==c&&o(i),A.ext(t)}else console.warn('A extension with the name "'+t+"\" isn't registered.")},A.removeExt=function(e){var t,i=Da[e];return!!i&&(delete Da[e],t=i.removed,g(t)==c&&t(),!0)},D.valid(function(e,a,o){var s,n;return he=r.defaultOptions,B=r.nativeScrollbarStyling,U=Po({},r.nativeScrollbarSize),T=Po({},r.nativeScrollbarIsOverlaid),G=Po({},r.overlayScrollbarDummySize),N=Po({},r.rtlScrollBehavior),ro(Po({},he,a)),j=r.cssCalc,H=r.msie,F=r.autoUpdateRecommended,R=r.supportTransition,X=r.supportTransform,K=r.supportPassiveEvents,Q=r.supportResizeObserver,Z=r.supportMutationObserver,ee=r.restrictedMeasuring,Se=W(e.ownerDocument),Re=Se[0],we=W(Re.defaultView||Re.parentWindow),Ue=we[0],Ce=Oo(Se,"html"),Le=Oo(Ce,"body"),ke=W(e),qe=ke[0],ae=ke.is("textarea"),oe=ke.is("body"),se=Re!==t,re=ae?ke.hasClass(aa)&&ke.parent().hasClass(ca):ke.hasClass(Yi)&&ke.children(Ii+sa)[b],T.x&&T.y&&!ve.nativeScrollbarsOverlaid.initialize?(vo("onInitializationWithdrawn"),re&&(no(!0),lo(!0),bo(!0)),fe=ie=!0):(oe&&((s={}).l=Y.max(ke[Ei](),Ce[Ei](),we[Ei]()),s.t=Y.max(ke[Oi](),Ce[Oi](),we[Oi]()),n=function(){Me.removeAttr("tabindex"),Ua(Me,Di,n,!0,!0)}),no(),lo(),bo(),co(),po(!0),po(!1),function(){var e,t=Ue.top!==Ue,a={},o={},s={};function r(e){if(d(e)){var t=c(e),i={};(ti||ei)&&(i[bi]=o.w+(t.x-a.x)*s.x),(ii||ei)&&(i[vi]=o.h+(t.y-a.y)*s.y),ze.css(i),P.stpP(e)}else n(e)}function n(t){var a=t!==i;Ua(Se,[ji,Gi,Ti],[Za,r,n],!0),Ao(Le,Ma),Te.releaseCapture&&Te.releaseCapture(),a&&(e&&Ja(),A.update(wi)),e=!1}function d(e){var t=(e.originalEvent||e).touches!==i;return!fe&&!ie&&(1===P.mBtn(e)||t)}function c(e){return H&&t?{x:e.screenX,y:e.screenY}:P.page(e)}Ra(Te,Di,(function(t){d(t)&&!Zt&&(jt&&(e=!0,Wa()),a=c(t),o.w=Ye[S]-(ne?0:ce),o.h=Ye[y]-(ne?0:le),s=$o(),Ua(Se,[ji,Gi,Ti],[Za,r,n]),Mo(Le,Ma),Te.setCapture&&Te.setCapture(),P.prvD(t),P.stpP(t))}))}(),Ya(),qa(xe,Va),oe&&(Me[Ei](s.l)[Oi](s.t),t.activeElement==e&&Xe.focus&&(Me.attr("tabindex","-1"),Xe.focus(),Ua(Me,Di,n,!1,!0))),A.update(wi),te=!0,vo("onInitialized"),M(Oa,(function(e,t){vo(t.n,t.a)})),Oa=[],g(o)==p&&(o=[o]),P.isA(o)?M(o,(function(e,t){A.addExt(t)})):W.isPlainObject(o)&&M(o,(function(e,t){A.addExt(e,t)})),setTimeout((function(){R&&!ie&&Mo(ze,Xi)}),333)),A}(a,o,s))&&V(a,A),A}function Ua(e,t,i,a,o){var s=g(t)==l&&g(i)==l,r=a?"removeEventListener":"addEventListener",n=a?"off":"on",d=!s&&t.split(xi),c=0;if(s)for(;c<t[b];c++)Ua(e,t[c],i[c],a);else for(;c<d[b];c++)K?e[0][r](d[c],i,{passive:o||!1}):e[n](d[c],i)}function Ra(e,t,i,a){Ua(e,t,i,!1,a),ja.push(P.bind(Ua,0,e,t,i,!0,a))}function qa(e,t){if(e){var a=P.rO(),o="animationstart mozAnimationStart webkitAnimationStart MSAnimationStart",s="childNodes",n=3333333,c=function(){e[Oi](n)[Ei](_e?N.n?-n:N.i?0:n:n),t()};if(t){if(Q)((O=e.append(ko(ua+" observed")).contents()[0])[Ri]=new a(c)).observe(O);else if(9<H||!F){e.prepend(ko(ua,ko({c:ga,dir:"ltr"},ko(ga,ko(_a))+ko(ga,ko({c:_a,style:"width: 200%; height: 200%"})))));var l,p,m,u,g=e[0][s][0][s][0],f=W(g[s][1]),h=W(g[s][0]),b=W(h[0][s][0]),v=g[S],$=g[y],w=r.nativeScrollbarSize,C=function(){h[Ei](n)[Oi](n),f[Ei](n)[Oi](n)},L=function(){p=0,l&&(v=m,$=u,c())},k=function(e){return m=g[S],u=g[y],l=m!=v||u!=$,e&&l&&!p?(P.cAF()(p),p=P.rAF()(L)):e||L(),C(),e&&(P.prvD(e),P.stpP(e)),!1},z={},I={};yo(I,$i,[-2*(w.y+1),-2*w.x,-2*w.y,-2*(w.x+1)]),W(g).css(I),h.on(Ci,k),f.on(Ci,k),e.on(o,(function(){k(!1)})),z[bi]=n,z[vi]=n,b.css(z),C()}else{var x=Re.attachEvent,M=H!==i;if(x)e.prepend(ko(ua)),Oo(e,Ii+ua)[0].attachEvent("onresize",c);else{var A=Re.createElement(d);A.setAttribute("tabindex","-1"),A.setAttribute(_,ua),A.onload=function(){var e=this.contentDocument.defaultView;e.addEventListener("resize",c),e.document.documentElement.style.display="none"},A.type="text/html",M&&e.prepend(A),A.data="about:blank",M||e.prepend(A),e.on(o,c)}}if(e[0]===We){var E=function(){var e=ze.css("direction"),t={},i=0,a=!1;return e!==pt&&(i="ltr"===e?(t[_i]=0,t[ui]=wi,n):(t[_i]=wi,t[ui]=0,N.n?-n:N.i?0:n),xe.children().eq(0).css(t),xe[Ei](i)[Oi](n),pt=e,a=!0),a};E(),Ra(e,Ci,(function(e){return E()&&so(),P.prvD(e),P.stpP(e),!1}))}}else if(Q){var O,D=(O=e.contents()[0])[Ri];D&&(D.disconnect(),delete O[Ri])}else Eo(e.children(Ii+ua).eq(0))}}function Ya(){if(Z){var e,t,i,a,o,s,r=P.mO(),n=P.now();Bt=function(e){var t=!1;return te&&!fe&&(M(e,(function(){return!(t=function(e){var t=e.attributeName,i=e.target,a=e.type,o="closest";if(i===Ke)return null===t;if("attributes"===a&&(t===_||t===f)&&!ae){if(t===_&&W(i).hasClass(Yi))return ao(e.oldValue,i.getAttribute(_));if(typeof i[o]!=c)return!0;if(null!==i[o](Ii+ua)||null!==i[o](Ii+ha)||null!==i[o](Ii+Ca))return!1}return!0}(this))})),t&&(a=P.now(),o=ot||at,s=function(){ie||(n=a,ae&&oo(),o?so():A.update(wi))},clearTimeout(i),11<a-n||!o?s():i=setTimeout(s,11))),t},Nt=new r(Ht=function(i){var a,o=!1;return te&&!fe&&(M(i,(function(){if(e=(a=this).target,t=a.attributeName,o=t===_?ao(a.oldValue,e.className):t!==f||a.oldValue!==e[f].cssText)return!1})),o&&A.update(wi)),o}),Ft=new r(Bt)}}function Ja(){Z&&!jt&&(Nt.observe(Ye,{attributes:!0,attributeOldValue:!0,attributeFilter:Ba}),Ft.observe(ae?qe:Ke,{attributes:!0,attributeOldValue:!0,subtree:!ae,childList:!ae,characterData:!ae,attributeFilter:ae?Ha:Ba}),jt=!0)}function Wa(){Z&&jt&&(Nt.disconnect(),Ft.disconnect(),jt=!1)}function Va(){if(!fe){var e,t={w:We[L],h:We[w]};e=xo(t,$t),$t=t,e&&so({k:!0})}}function Xa(){Xt&&uo(!0)}function Ka(){Xt&&!Le.hasClass(Ma)&&uo(!1)}function Qa(){Vt&&(uo(!0),clearTimeout(qt),qt=setTimeout((function(){Vt&&!ie&&uo(!1)}),100))}function Za(e){return P.prvD(e),!1}function eo(){so({z:!0})}function to(e){Ua(ze,Gi,Qa,!Vt||e,!0),Ua(ze,[Ni,Fi],[Xa,Ka],!!Vt||e,!0),te||e||ze.one("mouseover",Xa)}function io(){var e={};return oe&&Ee&&(e.w=So(Ee.css(fi+bi)),e.h=So(Ee.css(fi+vi)),e.c=xo(e,Dt),e.f=!0),!!(Dt=e).c}function ao(e,t){var a=t!==i&&null!==t?t.split(xi):$i,o=e!==i&&null!==e?e.split(xi):$i;if(a===$i&&o===$i)return!1;var s,r,n,d,c,l=function(e,t){var i,a,o=[],s=[];for(i=0;i<e.length;i++)o[e[i]]=!0;for(i=0;i<t.length;i++)o[t[i]]?delete o[t[i]]:o[t[i]]=!0;for(a in o)s.push(a);return s}(o,a),p=!1,m=xt!==i&&null!==xt?xt.split(xi):[$i],u=It!==i&&null!==It?It.split(xi):[$i],g=x(Aa,l);for(-1<g&&l.splice(g,1),r=0;r<l.length;r++)if(0!==(s=l[r]).indexOf(Yi)){for(c=d=!0,n=0;n<m.length;n++)if(s===m[n]){d=!1;break}for(n=0;n<u.length;n++)if(s===u[n]){c=!1;break}if(d&&c){p=!0;break}}return p}function oo(){if(!fe){var e,t,i,a,o=!Pt,s=ri.w,r=ri.h,n={},d=at||o;return n[fi+bi]=$i,n[fi+vi]=$i,n[bi]=wi,ke.css(n),e=qe[S],t=d?Y.max(e,qe[L]-1):1,n[bi]=at?wi:Li,n[fi+bi]=Li,n[vi]=wi,ke.css(n),i=qe[y],a=Y.max(i,qe[w]-1),n[bi]=t,n[vi]=a,De.css(n),n[fi+bi]=s,n[fi+vi]=r,ke.css(n),{F:e,P:i,U:t,q:a}}}function so(e){clearTimeout($e),e=e||{},Ta.k|=e.k,Ta.z|=e.z,Ta.O|=e.O;var t,a=P.now(),o=!!Ta.k,s=!!Ta.z,d=!!Ta.O,c=e.T,l=0<Ga&&te&&!ie&&!d&&!c&&a-ye<Ga&&!ot&&!at;if(l&&($e=setTimeout(so,Ga)),!(ie||l||fe&&!c||te&&!d&&(t=ze.is(":hidden"))||"inline"===ze.css("display"))){ye=a,Ta={},!B||T.x&&T.y?U=Po({},r.nativeScrollbarSize):(U.x=0,U.y=0),ni={x:3*(U.x+(T.x?0:3)),y:3*(U.y+(T.y?0:3))};var p=function(){return xo.apply(this,[].slice.call(arguments).concat([d]))},m={x:Me[Ei](),y:Me[Oi]()},u=ve.scrollbars,g=ve.textarea,_=u.visibility,h=p(_,wt),v=u.autoHide,k=p(v,St),I=u.clickScrolling,x=p(I,Ct),M=u.dragScrolling,E=p(M,Lt),O=ve.className,D=p(O,It),H=ve.resize,R=p(H,kt)&&!oe,q=ve.paddingAbsolute,J=p(q,mt),V=ve.clipAlways,X=p(V,ut),K=ve.sizeAutoCapable&&!oe,Q=p(K,vt),Z=ve.nativeScrollbarsOverlaid.showNativeScrollbars,se=p(Z,ht),re=ve.autoUpdate,he=p(re,bt),be=ve.overflowBehavior,we=p(be,_t,d),Se=g.dynWidth,Ce=p(Ot,Se),Le=g.dynHeight,Ge=p(Et,Le);if(Jt="n"===v,Wt="s"===v,Vt="m"===v,Xt="l"===v,Yt=u.autoHideDelay,xt=It,Zt="n"===H,ei="b"===H,ti="h"===H,ii="v"===H,zt=ve.normalizeRTL,Z=Z&&T.x&&T.y,wt=_,St=v,Ct=I,Lt=M,It=O,kt=H,mt=q,ut=V,vt=K,ht=Z,bt=re,_t=Po({},be),Ot=Se,Et=Le,tt=tt||{x:!1,y:!1},D&&(Ao(ze,xt+xi+Aa),Mo(ze,O!==i&&null!==O&&0<O.length?O:Aa)),he&&(!0===re||null===re&&F?(Wa(),n.add(A)):(n.remove(A),Ja())),Q)if(K)if(Oe?Oe.show():(Oe=W(ko(pa)),Pe.before(Oe)),de)Ie.show();else{Ie=W(ko(ma)),Je=Ie[0],Oe.before(Ie);var Ne={w:-1,h:-1};qa(Ie,(function(){var e={w:Je[S],h:Je[y]};xo(e,Ne)&&(te&&ot&&0<e.h||at&&0<e.w||te&&!ot&&0===e.h||!at&&0===e.w)&&so(),Ne=e})),de=!0,null!==j&&Ie.css(vi,j+"(100% + 1px)")}else de&&Ie.hide(),Oe&&Oe.hide();d&&(xe.find("*").trigger(Ci),de&&Ie.find("*").trigger(Ci));var Fe,He=p(t=t===i?ze.is(":hidden"):t,Gt),Be=!!ae&&"off"!==ke.attr("wrap"),je=p(Be,Pt),Ue=ze.css("direction"),Re=p(Ue,lt),We=ze.css("box-sizing"),pt=p(We,rt),yt={c:d,t:So(ze.css(li+mi)),r:So(ze.css(li+ui)),b:So(ze.css(li+gi)),l:So(ze.css(li+_i))};try{Fe=de?Je[z]():null}catch(e){return}ne="border-box"===We;var $t=(_e="rtl"===Ue)?_i:ui,Tt=_e?ui:_i,Nt=!1,Ft=!(!de||"none"===ze.css(yi))&&0===Y.round(Fe.right-Fe.left)&&(!!q||0<Ye[C]-ce);if(K&&!Ft){var Ht=Ye[S],Bt=Oe.css(bi);Oe.css(bi,wi);var Rt=Ye[S];Oe.css(bi,Bt),(Nt=Ht!==Rt)||(Oe.css(bi,Ht+1),Rt=Ye[S],Oe.css(bi,Bt),Nt=Ht!==Rt)}var qt=(Ft||Nt)&&K&&!t,Kt=p(qt,at),Qt=!qt&&at,oi=!(!de||!K||t)&&0===Y.round(Fe.bottom-Fe.top),si=p(oi,ot),di=!oi&&ot,Si="-"+bi,ki=qt&&ne||!ne,zi=oi&&ne||!ne,Ii={c:d,t:zi?So(ze.css(pi+mi+Si),!0):0,r:ki?So(ze.css(pi+ui+Si),!0):0,b:zi?So(ze.css(pi+gi+Si),!0):0,l:ki?So(ze.css(pi+_i+Si),!0):0},Pi={c:d,t:So(ze.css(ci+mi)),r:So(ze.css(ci+ui)),b:So(ze.css(ci+gi)),l:So(ze.css(ci+_i))},Mi={h:String(ze.css(hi+vi)),w:String(ze.css(hi+bi))},Ai={},Di={},Ti=function(){return{w:Ye[C],h:Ye[$]}},Gi=function(){return{w:Ve[S]+Y.max(0,Ke[C]-Ke[L]),h:Ve[y]+Y.max(0,Ke[$]-Ke[w])}},Ni=ce=yt.l+yt.r,Fi=le=yt.t+yt.b;if(Ni*=q?1:0,Fi*=q?1:0,yt.c=p(yt,nt),pe=Ii.l+Ii.r,me=Ii.t+Ii.b,Ii.c=p(Ii,dt),ue=Pi.l+Pi.r,ge=Pi.t+Pi.b,Pi.c=p(Pi,ct),Mi.ih=So(Mi.h),Mi.iw=So(Mi.w),Mi.ch=-1<Mi.h.indexOf("px"),Mi.cw=-1<Mi.w.indexOf("px"),Mi.c=p(Mi,st),Gt=t,Pt=Be,lt=Ue,rt=We,at=qt,ot=oi,nt=yt,dt=Ii,ct=Pi,st=Mi,Re&&de&&Ie.css(yi,Tt),yt.c||Re||J||Kt||si||pt||Q){var Hi={},Bi={};yo(Di,ci,[-yt.t,-yt.r,-yt.b,-yt.l]),q?(yo(Hi,$i,[yt.t,yt.r,yt.b,yt.l]),yo(ae?Bi:Ai,li)):(yo(Hi,$i),yo(ae?Bi:Ai,li,[yt.t,yt.r,yt.b,yt.l])),Pe.css(Hi),ke.css(Bi)}ri=Gi();var ji=!!ae&&oo(),Ui=ae&&p(ji,At),Ri=ae&&ji?{w:Se?ji.U:ji.F,h:Le?ji.q:ji.P}:{};if(At=ji,oi&&(si||J||pt||Mi.c||yt.c||Ii.c)?Ai[vi]=wi:(si||J)&&(Ai[hi+vi]=$i,Ai[vi]=Li),qt&&(Kt||J||pt||Mi.c||yt.c||Ii.c||Re)?(Ai[bi]=wi,Di[hi+bi]=Li):(Kt||J)&&(Ai[hi+bi]=$i,Ai[bi]=Li,Ai[yi]=$i,Di[hi+bi]=$i),qt?(Mi.cw||(Ai[hi+bi]=$i),Di[bi]=wi,Ai[bi]=wi,Ai[yi]=Tt):Di[bi]=$i,oi?(Mi.ch||(Ai[hi+vi]=$i),Di[vi]=Ri.h||Ke[$]):Di[vi]=$i,K&&Oe.css(Di),Ae.css(Ai),Ai={},Di={},o||s||Ui||Re||pt||J||Kt||qt||si||oi||Mi.c||se||we||X||R||h||k||E||x||Ce||Ge||je){var qi="overflow",Yi=qi+"-x",Ji=qi+"-y",Wi=ee?T.x||T.y||ri.w<ni.y||ri.h<ni.x||oi||He:oi,Vi={},Xi=tt.y&&it.ys&&!Z&&!B?T.y?Me.css($t):-U.y:0,aa=tt.x&&it.xs&&!Z&&!B?T.x?Me.css(gi):-U.x:0;yo(Vi,$i),Me.css(Vi),Wi&&Ae.css(qi,"hidden");var oa=Lo(),sa=ee&&!Wi?Xe:oa,ra={w:Ri.w||oa[C],h:Ri.h||oa[$]},da=Y.max(oa[L],sa[L]),ca=Y.max(oa[w],sa[w]);Vi[gi]=di?$i:aa,Vi[$t]=Qt?$i:Xi,Me.css(Vi),ri=Gi();var ua=Ti(),ga={w:Y.max((qt?ra.w:da)+Ni,ua.w),h:Y.max((oi?ra.h:ca)+Fi,ua.h)};if(ga.c=p(ga,gt),gt=ga,K){(ga.c||oi||qt)&&(Di[bi]=ga.w,Di[vi]=ga.h,ae||(ra={w:oa[C],h:oa[$]}));var _a={},fa=function(e){var t=ho(e),i=t.M,a=t.B,o=e?qt:oi,s=e?pe:me,r=e?ce:le,n=e?ue:ge,d=Di[a]+(ne?s:-r);o&&(o||!Ii.c)||(Di[a]=ua[i]-(ne?0:r+s)-1-n),o&&Mi["c"+i]&&Mi["i"+i]===d&&(Di[a]=d+(ne?0:r)+1),!(o&&ra[i]<ri[i])||e&&ae&&Be||(ae&&(_a[a]=So(De.css(a))-1),Di[a]-=1),0<ra[i]&&(Di[a]=Y.max(1,Di[a]))};fa(!0),fa(!1),ae&&De.css(_a),Oe.css(Di)}qt&&(Ai[bi]=Li),!qt||ne||jt||(Ai[yi]="none"),Ae.css(Ai),Ai={};var ha={w:Y.max(oa[L],sa[L]),h:Y.max(oa[w],sa[w])};ha.c=s=p(ha,Ze),Ze=ha,Wi&&Ae.css(qi,$i),ri=Gi(),o=p(ua=Ti(),Qe),Qe=ua;var ba=ae&&(0===ri.w||0===ri.h),va=ft,ya={},$a={},wa={},Sa={},Ca={},xa={},Pa={},Ma=Ve[z](),Ea=function(e){var t=ho(e),i=ho(!e).j,a=t.j,o=t.M,s=t.B,r=Ci+t.V+"Max",n=Ma[s]?Y.abs(Ma[s]-ri[o]):0,d=va&&0<va[a]&&0===Xe[r];ya[a]="v-s"===be[a],$a[a]="v-h"===be[a],wa[a]="s"===be[a],Sa[a]=Y.max(0,Y.round(100*(ha[o]-ri[o]))/100),Sa[a]*=ba||d&&0<n&&n<1?0:1,Ca[a]=0<Sa[a],xa[a]=ya[a]||$a[a]?Ca[i]&&!ya[i]&&!$a[i]:Ca[a],xa[a+"s"]=!!xa[a]&&(wa[a]||ya[a]),Pa[a]=Ca[a]&&xa[a+"s"]};if(Ea(!0),Ea(!1),Sa.c=p(Sa,ft),ft=Sa,Ca.c=p(Ca,tt),tt=Ca,xa.c=p(xa,it),it=xa,T.x||T.y){var Oa,Da={},Na={},Fa=d;(Ca.x||Ca.y)&&(Na.w=T.y&&Ca.y?ha.w+G.y:$i,Na.h=T.x&&Ca.x?ha.h+G.x:$i,Fa=p(Na,et),et=Na),(Ca.c||xa.c||ha.c||Re||Kt||si||qt||oi||se)&&(Ai[ci+Tt]=Ai[pi+Tt]=$i,Oa=function(e){var t=ho(e),i=ho(!e),a=t.j,o=e?gi:$t,s=e?oi:qt;T[a]&&Ca[a]&&xa[a+"s"]?(Ai[ci+o]=s?Z?$i:G[a]:$i,Ai[pi+o]=e&&s||Z?$i:G[a]+"px solid transparent"):(Na[i.M]=Ai[ci+o]=Ai[pi+o]=$i,Fa=!0)},B?Z?Ao(Me,na):Mo(Me,na):(Oa(!0),Oa(!1))),Z&&(Na.w=Na.h=$i,Fa=!0),Fa&&!B&&(Da[bi]=xa.y?Na.w:$i,Da[vi]=xa.x?Na.h:$i,Ee||(Ee=W(ko(la)),Me.prepend(Ee)),Ee.css(Da)),Ae.css(Ai)}var Ha,Ba={};if(Hi={},(o||Ca.c||xa.c||ha.c||we||pt||se||Re||X||si)&&(Ba[Tt]=$i,(Ha=function(e){function t(){Ba[r]=$i,ai[a.M]=0}var i=ho(e),a=ho(!e),o=i.j,s=i.X,r=e?gi:$t;Ca[o]&&xa[o+"s"]?(Ba[qi+s]=Ci,Z||B?t():(Ba[r]=-(T[o]?G[o]:U[o]),ai[a.M]=T[o]?G[a.j]:0)):(Ba[qi+s]=$i,t())})(!0),Ha(!1),!B&&(ri.h<ni.x||ri.w<ni.y)&&(Ca.x&&xa.x&&!T.x||Ca.y&&xa.y&&!T.y)?(Ba[li+mi]=ni.x,Ba[ci+mi]=-ni.x,Ba[li+Tt]=ni.y,Ba[ci+Tt]=-ni.y):Ba[li+mi]=Ba[ci+mi]=Ba[li+Tt]=Ba[ci+Tt]=$i,Ba[li+$t]=Ba[ci+$t]=$i,Ca.x&&xa.x||Ca.y&&xa.y||ba?ae&&ba&&(Hi[Yi]=Hi[Ji]="hidden"):(!V||$a.x||ya.x||$a.y||ya.y)&&(ae&&(Hi[Yi]=Hi[Ji]=$i),Ba[Yi]=Ba[Ji]="visible"),Pe.css(Hi),Me.css(Ba),Ba={},(Ca.c||pt||Kt||si)&&(!T.x||!T.y))){var ja=Ke[f];ja.webkitTransform="scale(1)",ja.display="run-in",Ke[y],ja.display=$i,ja.webkitTransform=$i}if(Ai={},Re||Kt||si)if(_e&&qt){var Ua=Ae.css(yi),Ra=Y.round(Ae.css(yi,$i).css(_i,$i).position().left);Ae.css(yi,Ua),Ra!==Y.round(Ae.position().left)&&(Ai[_i]=Ra)}else Ai[_i]=$i;if(Ae.css(Ai),ae&&s){var Ya=function(){var e=qe.selectionStart;if(e!==i){var t,a,o=ke.val(),s=o[b],r=o.split("\n"),n=r[b],d=o.substr(0,e).split("\n"),c=0,l=0,p=d[b],m=d[d[b]-1][b];for(a=0;a<r[b];a++)l<(t=r[a][b])&&(c=a+1,l=t);return{Y:p,$:m,K:n,G:l,J:c,Q:e,Z:s}}}();if(Ya){var Va=Mt===i||Ya.K!==Mt.K,Xa=Ya.Y,Ka=Ya.$,Qa=Ya.J,Za=Ya.K,eo=Ya.G,ao=Ya.Q,ro=Ya.Z<=ao&&Ut,no={x:Be||Ka!==eo||Xa!==Qa?-1:ft.x,y:(Be?ro||Va&&va&&m.y===va.y:(ro||Va)&&Xa===Za)?ft.y:-1};m.x=-1<no.x?_e&&zt&&N.i?0:no.x:m.x,m.y=-1<no.y?no.y:m.y}Mt=Ya}_e&&N.i&&T.y&&Ca.x&&zt&&(m.x+=ai.w||0),qt&&ze[Ei](0),oi&&ze[Oi](0),Me[Ei](m.x)[Oi](m.y);var co="v"===_,lo="h"===_,po="a"===_,bo=P.bind(mo,0,!0,!0,Pa.x),$o=P.bind(mo,0,!1,!0,Pa.y),wo=P.bind(mo,0,!0,!1,Pa.x),Co=P.bind(mo,0,!1,!1,Pa.y);xa.x||xa.y?Mo(ze,ea):Ao(ze,ea),xa.x?Mo(ze,ta):Ao(ze,ta),xa.y?Mo(ze,ia):Ao(ze,ia),Re&&(_e?Mo(ze,Ki):Ao(ze,Ki)),oe&&Mo(ze,Qi),R&&(Ao(Te,[La,ka,za,Ia].join(xi)),Zt?Mo(ze,Qi):(Ao(ze,Qi),Mo(Te,La),ei?Mo(Te,ka):ti?Mo(Te,za):ii&&Mo(Te,Ia))),(h||we||xa.c||Ca.c||se)&&(Z?se&&(Ao(ze,Zi),Z&&(wo(),Co())):po?(Pa.x?bo():wo(),Pa.y?$o():Co()):co?(bo(),$o()):lo&&(wo(),Co())),(k||se)&&(Xt||Vt?(to(!0),to()):to(!0),Jt?uo(!0):uo(!1,!0)),(o||Sa.c||si||Kt||R||pt||J||se||Re)&&(go(!0),_o(!0),go(!1),_o(!1)),x&&fo(!0,I),E&&fo(!1,M),Re&&vo("onDirectionChanged",{isRTL:_e,dir:Ue}),o&&vo("onHostSizeChanged",{width:Qe.w,height:Qe.h}),s&&vo("onContentSizeChanged",{width:Ze.w,height:Ze.h}),(Ca.c||xa.c)&&vo("onOverflowChanged",{x:Ca.x,y:Ca.y,xScrollable:xa.xs,yScrollable:xa.ys,clipped:xa.x||xa.y}),Sa.c&&vo("onOverflowAmountChanged",{x:Sa.x,y:Sa.y})}oe&&Dt&&(tt.c||Dt.c)&&(Dt.f||io(),T.y&&tt.x&&Ae.css(fi+bi,Dt.w+G.y),T.x&&tt.y&&Ae.css(fi+vi,Dt.h+G.x),Dt.c=!1),vo("onUpdated",{forced:d})}}function ro(e){var t=q.p(e,q.d,!0,be);return be=Po({},be,t.g),ve=Po({},ve,t.m),t.m}function no(e){function t(){var t=e?ke:ze;M(n,(function(e,i){g(i)==p&&(e==_?t.addClass(i):t.attr(e,i))}))}var a="parent",o=aa+xi+fa,s=ae?xi+fa:$i,r=ve.textarea.inheritedAttrs,n={},d=[Yi,Ji,Qi,Ki,Wi,Vi,Xi,Zi,ea,ta,ia,Aa,aa,fa,It].join(xi),c={};ze=ze||(ae?re?ke[a]()[a]()[a]()[a]():W(ko(Ji)):ke),Ae=Ae||zo(ca+s),Me=Me||zo(ra+s),Pe=Pe||zo(sa+s),xe=xe||zo("os-resize-observer-host"),De=De||(ae?zo(oa):i),e&&Ao(ze,d),r=g(r)==p?r.split(xi):r,g(r)==l&&ae&&M(r,(function(t,i){g(i)==p&&(n[i]=e?ze.attr(i):ke.attr(i))})),e?(re&&te?(xe.children().remove(),M([Pe,Me,Ae,De],(function(e,t){t&&Ao(t.removeAttr(f),Ea)})),Mo(ze,ae?Ji:Yi)):(Eo(xe),Ae.contents().unwrap().unwrap().unwrap(),ae&&(ke.unwrap(),Eo(ze),Eo(De),t())),ae&&ke.removeAttr(f),oe&&Ao(Ce,qi)):(ae&&(ve.sizeAutoCapable||(c[bi]=ke.css(bi),c[vi]=ke.css(vi)),re||ke.addClass(fa).wrap(ze),ze=ke[a]().css(c)),re||(Mo(ke,ae?o:Yi),ze.wrapInner(Ae).wrapInner(Me).wrapInner(Pe).prepend(xe),Ae=Oo(ze,Ii+ca),Me=Oo(ze,Ii+ra),Pe=Oo(ze,Ii+sa),ae&&(Ae.prepend(De),t())),B&&Mo(Me,na),T.x&&T.y&&Mo(Me,da),oe&&Mo(Ce,qi),We=xe[0],Ye=ze[0],Ve=Pe[0],Xe=Me[0],Ke=Ae[0])}function co(){var e,t,a=[112,113,114,115,116,117,118,119,120,121,123,33,34,37,38,39,40,16,17,18,19,20,144],o=[],s="focus";function r(t){oo(),A.update(wi),t&&F&&clearInterval(e)}ae?(9<H||!F?Ra(ke,"input",r):Ra(ke,[Hi,Bi],[function(t){var i=t.keyCode;x(i,a)<0&&(o[b]||(r(),e=setInterval(r,1e3/60)),x(i,o)<0&&o.push(i))},function(e){var t=e.keyCode,i=x(t,o);x(t,a)<0&&(-1<i&&o.splice(i,1),o[b]||r(!0))}]),Ra(ke,[Ci,"drop",s,s+"out"],[function(e){return ke[Ei](N.i&&zt?9999999:0),ke[Oi](0),P.prvD(e),P.stpP(e),!1},function(e){setTimeout((function(){ie||r()}),50)},function(){Ut=!0,Mo(ze,s)},function(){Ut=!1,o=[],Ao(ze,s),r(!0)}])):Ra(Ae,Ui,(function(e){!0!==bt&&function(e){if(!te)return!0;function t(e,t){for(var i=0;i<e[b];i++)if(e[i]===t)return!0;return!1}var i="flex-grow",a="flex-shrink",o="flex-basis",s=[bi,fi+bi,hi+bi,ci+_i,ci+ui,_i,ui,"font-weight","word-spacing",i,a,o],r=[li+_i,li+ui,pi+_i+bi,pi+ui+bi],n=[vi,fi+vi,hi+vi,ci+mi,ci+gi,mi,gi,"line-height",i,a,o],d=[li+mi,li+gi,pi+mi+bi,pi+gi+bi],c="s"===_t.x||"v-s"===_t.x,l=!1;return("s"===_t.y||"v-s"===_t.y)&&((l=t(n,e))||ne||(l=t(d,e))),c&&!l&&((l=t(s,e))||ne||(l=t(r,e))),l}((e=e.originalEvent||e).propertyName)&&A.update(wi)})),Ra(Me,Ci,(function(e){fe||(t!==i?clearTimeout(t):((Wt||Vt)&&uo(!0),Co()||Mo(ze,Zi),vo("onScrollStart",e)),Qt||(_o(!0),_o(!1)),vo("onScroll",e),t=setTimeout((function(){ie||(clearTimeout(t),t=i,(Wt||Vt)&&uo(!1),Co()||Ao(ze,Zi),vo("onScrollStop",e))}),175))}),!0)}function lo(e){function t(t){var i=zo(ha+xi+(t?xa:Pa),!0),a=zo(ba,i),o=zo(ya,i);return re||e||(i.append(a),a.append(o)),{nn:i,tn:a,rn:o}}var i,a;function o(e){var i=ho(e),a=i.nn,o=i.tn,s=i.rn;re&&te?M([a,o,s],(function(e,t){Ao(t.removeAttr(f),Ea)})):Eo(a||t(e).nn)}e?(o(!0),o()):(i=t(!0),a=t(),Ge=i.nn,Ne=i.tn,Fe=i.rn,He=a.nn,Be=a.tn,je=a.rn,re||(Pe.after(He),Pe.after(Ge)))}function po(e){var t,a,o,s,r=ho(e),n=r.en,d=Ue.top!==Ue,c=r.j,l=r.X,p=Ci+r.V,m="active",u="snapHandle",g=1,_=[16,17];function f(e){return H&&d?e["screen"+l]:P.page(e)[c]}function h(e){return ve.scrollbars[e]}function b(){g=.5}function v(){g=1}function y(e){-1<x(e.keyCode,_)&&b()}function $(e){-1<x(e.keyCode,_)&&v()}function w(e){var t=(e.originalEvent||e).touches!==i;return!(fe||ie||Co()||!Lt||t&&!h("touchSupport"))&&(1===P.mBtn(e)||t)}function S(t){if(w(t)){var i=n.D,r=n.L,d=n.H*((f(t)-o)*s/(i-r));d=isFinite(d)?d:0,_e&&e&&!N.i&&(d*=-1),Me[p](Y.round(a+d)),Qt&&_o(e,a+d),K||P.prvD(t)}else C(t)}function C(n){if(n=n||n.originalEvent,Ua(Se,[Gi,Ti,Hi,Bi,ji],[S,C,y,$,Za],!0),Qt&&_o(e,!0),Qt=!1,Ao(Le,Ma),Ao(r.rn,m),Ao(r.tn,m),Ao(r.nn,m),o=a=i,s=1,v(),t!==i&&(A.scrollStop(),clearTimeout(t),t=i),n){var d=Ye[z]();n.clientX>=d.left&&n.clientX<=d.right&&n.clientY>=d.top&&n.clientY<=d.bottom||Ka(),(Wt||Vt)&&uo(!1)}}function L(t){a=Me[p](),a=isNaN(a)?0:a,(_e&&e&&!N.n||!_e)&&(a=a<0?0:a),s=$o()[c],o=f(t),Qt=!h(u),Mo(Le,Ma),Mo(r.rn,m),Mo(r.nn,m),Ua(Se,[Gi,Ti,ji],[S,C,Za]),!H&&se||P.prvD(t),P.stpP(t)}Ra(r.rn,Di,(function(e){w(e)&&L(e)})),Ra(r.tn,[Di,Ni,Fi],[function(a){if(w(a)){var d,l=Y.round(ri[r.M]),_=r.tn.offset()[r.W],f=a.ctrlKey,v=a.shiftKey,S=v&&f,k=!0,z=function(t){Qt&&_o(e,t)},I=function(){z(),L(a)},x=function(){if(!ie){var a=(o-_)*s,r=n.N,m=n.D,u=n.L,f=n.H,h=n.C,b=270*g,y=k?Y.max(400,b):b,$=f*((a-u/2)/(m-u)),w=_e&&e&&(!N.i&&!N.n||zt),C=w?r<a:a<r,L={},P={easing:"linear",step:function(t){Qt&&(Me[p](t),_o(e,t))}};$=isFinite($)?$:0,$=_e&&e&&!N.i?f-$:$,v?(Me[p]($),S?($=Me[p](),Me[p](h),$=w&&N.i?f-$:$,$=w&&N.n?-$:$,L[c]=$,A.scroll(L,Po(P,{duration:130,complete:I}))):I()):(d=k?C:d,(w?d?a<=r+u:r<=a:d?r<=a:a<=r+u)?(clearTimeout(t),A.scrollStop(),t=i,z(!0)):(t=setTimeout(x,y),L[c]=(d?"-=":"+=")+l,A.scroll(L,Po(P,{duration:b}))),k=!1)}};f&&b(),s=$o()[c],o=P.page(a)[c],Qt=!h(u),Mo(Le,Ma),Mo(r.tn,m),Mo(r.nn,m),Ua(Se,[Ti,Hi,Bi,ji],[C,y,$,Za]),x(),P.prvD(a),P.stpP(a)}},function(e){Kt=!0,(Wt||Vt)&&uo(!0)},function(e){Kt=!1,(Wt||Vt)&&uo(!1)}]),Ra(r.nn,Di,(function(e){P.stpP(e)})),R&&Ra(r.nn,Ui,(function(t){t.target===r.nn[0]&&(go(e),_o(e))}))}function mo(e,t,i){var a=e?Wi:Vi,o=e?Ge:He;t?Ao(ze,a):Mo(ze,a),i?Ao(o,wa):Mo(o,wa)}function uo(e,t){if(clearTimeout(Rt),e)Ao(Ge,Sa),Ao(He,Sa);else{var i,a=function(){Kt||ie||(!(i=Fe.hasClass("active")||je.hasClass("active"))&&(Wt||Vt||Xt)&&Mo(Ge,Sa),!i&&(Wt||Vt||Xt)&&Mo(He,Sa))};0<Yt&&!0!==t?Rt=setTimeout(a,Yt):a()}}function go(e){var t={},i=ho(e),a=i.en,o=Y.min(1,(Qe[i.M]-(mt?e?ce:le:0))/Ze[i.M]);t[i.B]=Y.floor(100*o*1e6)/1e6+"%",Co()||i.rn.css(t),a.L=i.rn[0]["offset"+i.in],a.R=o}function _o(e,t){function a(e){return isNaN(e/S)?0:Y.max(0,Y.min(1,e/S))}function o(e){var t=$*e;return t=isNaN(t)?0:t,t=d&&!N.i?y-v-t:t,Y.max(0,t)}var s,r,n=g(t)==m,d=_e&&e,c=ho(e),l=c.en,p="translate(",u=I.u("transform"),_=I.u("transition"),f=e?Me[Ei]():Me[Oi](),h=t===i||n?f:t,v=l.L,y=c.tn[0]["offset"+c.in],$=y-v,w={},S=(Xe[Ci+c.in]-Xe["client"+c.in])*(N.n&&d?-1:1),C=a(f),L=o(a(h)),k=o(C);l.H=S,l.C=f,l.A=C,X?(s=d?-(y-v-L):L,r=e?p+s+"px, 0)":p+"0, "+s+"px)",w[u]=r,R&&(w[_]=n&&1<Y.abs(L-l.N)?function(e){var t=I.u("transition"),i=e.css(t);if(i)return i;for(var a,o,s,r="\\s*(([^,(]+(\\(.+?\\))?)+)[\\s,]*",n=new RegExp(r),d=new RegExp("^("+r+")+$"),c="property duration timing-function delay".split(" "),l=[],p=0,m=function(e){if(a=[],!e.match(d))return e;for(;e.match(n);)a.push(RegExp.$1),e=e.replace(n,$i);return a};p<c[b];p++)for(o=m(e.css(t+"-"+c[p])),s=0;s<o[b];s++)l[s]=(l[s]?l[s]+xi:$i)+o[s];return l.join(", ")}(c.rn)+", "+(u+xi+250)+"ms":$i)):w[c.W]=L,Co()||(c.rn.css(w),X&&R&&n&&c.rn.one(Ui,(function(){ie||c.rn.css(_,$i)}))),l.N=L,l.I=k,l.D=y}function fo(e,t){var i=t?"removeClass":"addClass",a=e?Be:je,o=e?va:$a;(e?Ne:Fe)[i](o),a[i](o)}function ho(e){return{B:e?bi:vi,in:e?"Width":"Height",W:e?_i:mi,V:e?"Left":"Top",j:e?ki:zi,X:e?"X":"Y",M:e?"w":"h",an:e?"l":"t",tn:e?Ne:Be,rn:e?Fe:je,nn:e?Ge:He,en:e?oi:si}}function bo(e){Te=Te||zo(Ca,!0),e?re&&te?Ao(Te.removeAttr(f),Ea):Eo(Te):re||ze.append(Te)}function vo(e,t){if(te){var i,a=ve.callbacks[e],o=e;"on"===o.substr(0,2)&&(o=o.substr(2,1).toLowerCase()+o.substr(3)),g(a)==c&&a.call(A,t),M(Da,(function(){g((i=this).on)==c&&i.on(o,t)}))}else ie||Oa.push({n:e,a:t})}function yo(e,t,a){a===i&&(a=[$i,$i,$i,$i]),e[t+mi]=a[0],e[t+ui]=a[1],e[t+gi]=a[2],e[t+_i]=a[3]}function $o(){var e=Ve[z]();return{x:X&&1/(Y.round(e.width)/Ve[S])||1,y:X&&1/(Y.round(e.height)/Ve[y])||1}}function wo(t){var i="ownerDocument",a="HTMLElement",o=t&&t[i]&&t[i].parentWindow||e;return typeof o[a]==d?t instanceof o[a]:t&&typeof t==d&&null!==t&&1===t.nodeType&&typeof t.nodeName==p}function So(e,t){var i=t?parseFloat(e):parseInt(e,10);return isNaN(i)?0:i}function Co(){return ht&&T.x&&T.y}function Lo(){return ae?De[0]:Ke}function ko(e,t){return"<div "+(e?g(e)==p?'class="'+e+'"':function(){var t,i=$i;if(W.isPlainObject(e))for(t in e)i+=("c"===t?"class":t)+'="'+e[t]+'" ';return i}():$i)+">"+(t||$i)+"</div>"}function zo(e,t){var i=g(t)==m,a=i?ze:t||ze;return re&&!a[b]?null:re?a[i?"children":"find"](Ii+e.replace(/\s/g,Ii)).eq(0):W(ko(e))}function Io(e,t){for(var i,a=t.split(Ii),o=0;o<a.length;o++){if(!e[k](a[o]))return;i=e[a[o]],o<a.length&&g(i)==d&&(e=i)}return i}function xo(e,t,i){if(i)return i;if(g(e)!=d||g(t)!=d)return e!==t;for(var a in e)if("c"!==a){if(!e[k](a)||!t[k](a))return!0;if(xo(e[a],t[a]))return!0}return!1}function Po(){return W.extend.apply(this,[!0].concat([].slice.call(arguments)))}function Mo(e,t){return E.addClass.call(e,t)}function Ao(e,t){return E.removeClass.call(e,t)}function Eo(e){return E.remove.call(e)}function Oo(e,t){return E.find.call(e,t).eq(0)}}(r,o,s,T,G))})):W.each(a,(function(e,t){r=V(t),("!"===o&&D.valid(r)||P.type(o)==c&&o(t,r)||o===i)&&g.push(r)})),n=1===g[b]?g[0]:g),n):x||!o?n:g}).globals=function(){Q();var e=W.extend(!0,{},T);return delete e.msie,e},D.defaultOptions=function(e){Q();var t=T.defaultOptions;if(e===i)return W.extend(!0,{},t);T.defaultOptions=W.extend(!0,{},t,q.p(e,q.d,!0,t).g)},D.valid=function(e){return e instanceof D&&!e.getState().destroyed},D.extension=function(e,t,i){var a=P.type(e)==p,o=arguments[b],s=0;if(o<1||!a)return W.extend(!0,{length:R[b]},R);if(a)if(P.type(t)==c)R.push({name:e,extensionFactory:t,defaultOptions:i});else for(;s<R[b];s++)if(R[s].name===e){if(!(1<o))return W.extend(!0,{},R[s]);R.splice(s,1)}},D);function K(e){var t=function(i){var a,o,s;for(a in i)i[k](a)&&(o=i[a],(s=N(o))==l?i[a]=o[e?1:0]:s==d&&(i[a]=t(o)));return i};return t(W.extend(!0,{},U))}function Q(){T=T||new Z(q.v),G=G||new ee(T)}function Z(a){var o=this,s="overflow",r=W("body"),n=W('<div id="os-dummy-scrollbar-size"><div></div></div>'),d=n[0],c=W(n.children("div").eq(0));r.append(n),n.hide().show();var l,p,m,u,g,_,h,v,k,z=A(d),x={x:0===z.x,y:0===z.y},M=(u="substring",g=(p=e.navigator.userAgent)[m="indexOf"]("MSIE "),_=p[m]("Trident/"),h=p[m]("Edge/"),v=p[m]("rv:"),k=parseInt,0<g?l=k(p[u](g+5,p[m](".",g)),10):0<_?l=k(p[u](v+3,p[m](".",v)),10):0<h&&(l=k(p[u](h+5,p[m](".",h)),10)),l);function A(e){return{x:e[y]-e[$],y:e[S]-e[C]}}W.extend(o,{defaultOptions:a,msie:M,autoUpdateLoop:!1,autoUpdateRecommended:!P.mO(),nativeScrollbarSize:z,nativeScrollbarIsOverlaid:x,nativeScrollbarStyling:function(){var t=!1;n.addClass("os-viewport-native-scrollbars-invisible");try{t="none"===n.css("scrollbar-width")&&(9<M||!M)||"none"===e.getComputedStyle(d,"::-webkit-scrollbar").getPropertyValue("display")}catch(e){}return t}(),overlayScrollbarDummySize:{x:30,y:30},cssCalc:function(){for(var e,i=t.createElement("div")[f],a=-1;a<I.e[b];a++)if(e=a<0?"calc":I.e[a]+"calc",i.cssText="width:"+e+"(1px);",i[b])return e;return null}(),restrictedMeasuring:function(){n.css(s,"hidden");var e=d[L],t=d[w];n.css(s,"visible");var i=d[L],a=d[w];return e-i!=0||t-a!=0}(),rtlScrollBehavior:function(){n.css({"overflow-y":"hidden","overflow-x":"scroll",direction:"rtl"}).scrollLeft(0);var e=n.offset(),t=c.offset();n.scrollLeft(999);var i=c.offset();return{i:e.left===t.left,n:t.left-i.left==0}}(),supportTransform:I.u("transform")!==i,supportTransition:I.u("transition")!==i,supportPassiveEvents:function(){var t=!1;try{e.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){t=!0}}))}catch(e){}return t}(),supportResizeObserver:!!P.rO(),supportMutationObserver:!!P.mO()}),n.removeAttr(f).remove(),function(){if(!x.x||!x.y){var t=Y.abs,i=P.wW(),a=P.wH(),s=d();W(e).on("resize",(function(){if(0<V().length){var e=P.wW(),c=P.wH(),l=e-i,p=c-a;if(0==l&&0==p)return;var m,u=Y.round(e/(i/100)),g=Y.round(c/(a/100)),_=t(l),f=t(p),h=t(u),b=t(g),v=d(),y=2<_&&2<f,$=!function(e,i){var a=t(e),o=t(i);return!(a===o||a+1===o||a-1===o)}(h,b),w=y&&$&&v!==s&&0<s,S=o.nativeScrollbarSize;w&&(r.append(n),m=o.nativeScrollbarSize=A(n[0]),n.remove(),S.x===m.x&&S.y===m.y||W.each(V(),(function(){V(this)&&V(this).update("zoom")}))),i=e,a=c,s=v}}))}function d(){var t=e.screen.deviceXDPI||0,i=e.screen.logicalXDPI||1;return e.devicePixelRatio||t/i}}()}function ee(e){var t,a=W.inArray,o=P.now,s=b,r=[],n=[],d=!1,c=33,l=o(),p=function(){if(0<r[s]&&d){t=P.rAF()((function(){p()}));var e,a,m,u,g,_,f=o(),h=f-l;if(c<h){l=f-h%c,e=33;for(var b=0;b<r[s];b++)(a=r[b])!==i&&(u=(m=a.options()).autoUpdate,g=Y.max(1,m.autoUpdateInterval),_=o(),(!0===u||null===u)&&_-n[b]>g&&(a.update("auto"),n[b]=new Date(_+=g)),e=Y.max(1,Y.min(e,g)));c=e}}else c=33};this.add=function(t){-1===a(t,r)&&(r.push(t),n.push(o()),0<r[s]&&!d&&(d=!0,e.autoUpdateLoop=d,p()))},this.remove=function(o){var c=a(o,r);-1<c&&(n.splice(c,1),r.splice(c,1),0===r[s]&&d&&(d=!1,e.autoUpdateLoop=d,t!==i&&(P.cAF()(t),t=-1)))}}return J&&J.fn&&(J.fn.overlayScrollbars=function(e,t){return J.isPlainObject(e)?(J.each(this,(function(){X(this,e,t)})),this):X(this,e)}),X}));class Chunkuploader{constructor({elementIdentifier:e,postUrl:t,fileIdentifierRule:i,attributes:a,splitter:o=8,preview:s=!1,fileIdentifierLength:r=10,limit:n},d){var c=this;this._elementIdentifier=e,this._postURL=t,this._splitter=o,this._customAttributes=a,this._preview=s,this._fileIdentifierRule=i||"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",this._fileIdentifierLength=r,this._fileIdentifier=[],this._files={},this._events={},this._chunks={},this._xhr={},e&&(document.querySelector(e).addEventListener("click",(function(e){this.value=null})),document.querySelector(e).addEventListener("change",(function(e){c.calculateFiles(e.target.files).then((t=>{if(n&&(t.count>n.files||t.size>n.size))return t.count>n.files&&Materialize.toast("You can not select more than 5 files",3e3,"rounded error-alert"),t.size>n.size&&Materialize.toast("You can select maximum 100 MB at a time",4e3,"round error-alert"),c.dispatch("error",{type:"validation",message:"validation error from the files limit"}),null;Object.keys(e.target.files).map((t=>{c.addFiles(e.target.files[t],c.generateIdentifier(c._fileIdentifierLength))}))})).catch((e=>null))})),document.querySelector(e).addEventListener("change",d))}on(e,t){this._events[e]=t}dispatch(e,t){this._events[e]&&this._events[e](t)}calculateFiles(e){let t={};return t.count=e.length,t.size=0,new Promise(((i,a)=>{Object.keys(e).map((i=>{t.size+=parseInt(e[i].size)})),t?i(t):a(new error("Could not process request"))}))}generateIdentifier(e){for(var t="",i=this._fileIdentifierRule,a=0;a<e;a++)t+=i.charAt(Math.floor(Math.random()*i.length));return this._fileIdentifier.includes(t)?generateIdentifier(e):(this._fileIdentifier.push(t),t)}generateElement(e,t){var i="object"==typeof e.type?e.type.type.split("/")[0]:e.type.split("/")[0],a="object"==typeof e.type?e.type.type.split("/")[1]:e.type.split("/")[1];let o;switch(i){case"image":o=document.createElement("img"),o.setAttribute("class","preview-element responsive-img");break;case"audio":o=document.createElement("audio"),o.setAttribute("controls",!0),o.setAttribute("class","preview-element responsive-audio");break;case"video":o=document.createElement("video"),o.setAttribute("controls",!0),o.setAttribute("class","preview-element responsive-video");break;case"application":o=document.createElement("embed"),o.setAttribute("class","preview-element"),o.setAttribute("alt",a),o.setAttribute("pluginspage","http://www.adobe.com/products/acrobat/readstep2.html");break;default:return t()}var s=new FileReader;s.onload=function(e){return o.src=e.target.result,t(o)},s.readAsDataURL(e)}addFiles(e,t){var i=this,a={};a[t]={totalSize:parseInt(e.size),file:e},Object.assign(i._files,a),i._preview?i.generateElement(e,(a=>{i.dispatch("added",{identifier:t,file:e,element:a})})):i.dispatch("added",{identifier:t,file:e})}removeFile(e,t){delete this._files[e],t(e)}uploadFiles(e,t,i){var a=this;let o=this._files,s=e||this._postURL,r=t||this._customAttributes;a._splitter=i||a._splitter,s&&(console.log("uploading files"),a._files={},a._fileIdentifier=[],Object.keys(o).map((e=>{a.uploadChunk(e,o[e].file,s,r)})))}uploadData(e,t,i,a){var o=this;o._splitter=a||o._splitter;try{let a=new File([o.base64ToArrayBuffer(e)],t,{type:i});o.addFiles(a,o.generateIdentifier(o._fileIdentifierLength))}catch(e){return e}}base64ToArrayBuffer(e){for(var t=window.atob(e),i=t.length,a=new Uint8Array(i),o=0;o<i;o++)a[o]=t.charCodeAt(o);return a.buffer}uploadChunk(e,t,i,a){var o=this,s=0,r=0,n=0,d=parseInt(t.size),c=Math.ceil(parseInt(t.size)/o._splitter),l={identifier:e,fileName:t.name,totalChunks:Math.ceil(d/c),totalSize:t.size};o._chunks[e]={identifier:e,totalChunks:Math.ceil(d/c),chunksCollected:[],progress:n,fileName:t.name,totalSize:t.size},o.dispatch("start",l);var p=new FileReader;p.onload=function(l){if(null==l.target.error){var u=new FormData;u.append("chunk",m),u.append("identifier",e),u.append("fileName",t.name),u.append("type",t.type),u.append("extension",t.name.split(".").pop()),u.append("totalSize",d),u.append("chunkSize",c),u.append("currentChunkSize",m.size),u.append("currentChunkNumber",r),u.append("totalChunkNumber",Math.ceil(d/c)),a&&Object.keys(a).map((e=>{u.append(e,a[e])}));var g=new XMLHttpRequest;g.upload.addEventListener("load",(function(){s+=c,r++,n=Math.ceil(s/d*100),s<d?(m=t.slice(s,s+c),p.readAsDataURL(m)):s=d}),!1),g.addEventListener("load",(function(e){if(200==e.target.status){var t=JSON.parse(e.target.responseText);o._chunks[t.data.identifier].progress=100,o.dispatch("progress",o._chunks[t.data.identifier]),o.dispatch("complete",t)}else e.target.status>=400&&o.dispatch("failed",e.target.responseText)}),!1),g.addEventListener("progress",(function(e){if(206==e.target.status){var t=JSON.parse(e.target.responseText);o._chunks[t.data.identifier].chunksCollected.push(parseInt(t.data.currentChunkNumber)),o._chunks[t.data.identifier].progress=n,o._chunks[t.data.identifier].nextOffset=s,o.dispatch("progress",o._chunks[t.data.identifier])}}),!1),g.onreadystatechange=function(){4==g.readyState&&0==g.status&&o.dispatch("error",{type:"network",message:"Network error"})},g.open("POST",i,!0),g.send(u)}else o.dispatch("failed",e)};var m=t.slice(0,c);p.readAsDataURL(m)}}
/*!
 * @fileOverview TouchSwipe - jQuery Plugin
 * @version 1.6.18
 *
 * @author Matt Bryson http://www.github.com/mattbryson
 * @see https://github.com/mattbryson/TouchSwipe-Jquery-Plugin
 * @see http://labs.rampinteractive.co.uk/touchSwipe/
 * @see http://plugins.jquery.com/project/touchSwipe
 * @license
 * Copyright (c) 2010-2015 Matt Bryson
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 */!function(e){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e("undefined"!=typeof module&&module.exports?require("jquery"):jQuery)}((function(e){"use strict";function t(t){return!t||void 0!==t.allowPageScroll||void 0===t.swipe&&void 0===t.swipeStatus||(t.allowPageScroll=c),void 0!==t.click&&void 0===t.tap&&(t.tap=t.click),t||(t={}),t=e.extend({},e.fn.swipe.defaults,t),this.each((function(){var a=e(this),o=a.data(z);o||(o=new i(this,t),a.data(z,o))}))}function i(t,i){function I(t){if(!(!0===we.data(z+"_intouch")||e(t.target).closest(i.excludedElements,we).length>0)){var n=t.originalEvent?t.originalEvent:t;if(!n.pointerType||"mouse"!=n.pointerType||0!=i.fallbackToMouseEvents){var d,c=n.touches,l=c?c[0]:n;return Se=y,c?Ce=c.length:!1!==i.preventDefaultEvents&&t.preventDefault(),me=0,ue=null,ge=null,ye=null,_e=0,fe=0,he=0,be=1,ve=0,(p={})[a]=te(a),p[o]=te(o),p[s]=te(s),p[r]=te(r),$e=p,V(),Q(0,l),!c||Ce===i.fingers||i.fingers===b||B()?(ke=se(),2==Ce&&(Q(1,c[1]),fe=he=ae(Le[0].start,Le[1].start)),(i.swipeStatus||i.pinchStatus)&&(d=D(n,Se))):d=!1,!1===d?(D(n,Se=S),d):(i.hold&&(Ae=setTimeout(e.proxy((function(){we.trigger("hold",[n.target]),i.hold&&(d=i.hold.call(we,n,n.target))}),this),i.longTapThreshold)),K(!0),null)}}var p}function x(t){var p,m,u=t.originalEvent?t.originalEvent:t;if(Se!==w&&Se!==S&&!X()){var g,_=u.touches,v=Z(_?_[0]:u);if(ze=se(),_&&(Ce=_.length),i.hold&&clearTimeout(Ae),Se=$,2==Ce&&(0==fe?(Q(1,_[1]),fe=he=ae(Le[0].start,Le[1].start)):(Z(_[1]),he=ae(Le[0].end,Le[1].end),Le[0].end,Le[1].end,ye=be<1?d:n),be=(he/fe*1).toFixed(2),ve=Math.abs(fe-he)),Ce===i.fingers||i.fingers===b||!_||B()){if(ue=oe(v.start,v.end),function(e,t){if(!1!==i.preventDefaultEvents)if(i.allowPageScroll===c)e.preventDefault();else{var n=i.allowPageScroll===l;switch(t){case a:(i.swipeLeft&&n||!n&&i.allowPageScroll!=f)&&e.preventDefault();break;case o:(i.swipeRight&&n||!n&&i.allowPageScroll!=f)&&e.preventDefault();break;case s:(i.swipeUp&&n||!n&&i.allowPageScroll!=h)&&e.preventDefault();break;case r:(i.swipeDown&&n||!n&&i.allowPageScroll!=h)&&e.preventDefault()}}}(t,ge=oe(v.last,v.end)),p=v.start,m=v.end,me=Math.round(Math.sqrt(Math.pow(m.x-p.x,2)+Math.pow(m.y-p.y,2))),_e=ie(),function(e,t){e!=c&&(t=Math.max(t,ee(e)),$e[e].distance=t)}(ue,me),g=D(u,Se),!i.triggerOnTouchEnd||i.triggerOnTouchLeave){var y=!0;if(i.triggerOnTouchLeave){var C=function(t){var i=(t=e(t)).offset(),a={left:i.left,right:i.left+t.outerWidth(),top:i.top,bottom:i.top+t.outerHeight()};return a}(this);y=function(e,t){return e.x>t.left&&e.x<t.right&&e.y>t.top&&e.y<t.bottom}(v.end,C)}!i.triggerOnTouchEnd&&y?Se=O($):i.triggerOnTouchLeave&&!y&&(Se=O(w)),Se!=S&&Se!=w||D(u,Se)}}else D(u,Se=S);!1===g&&D(u,Se=S)}}function P(e){var t=e.originalEvent?e.originalEvent:e,a=t.touches;if(a){if(a.length&&!X())return function(e){Ie=se(),xe=e.touches.length+1}(t),!0;if(a.length&&X())return!0}return X()&&(Ce=xe),ze=se(),_e=ie(),N()||!G()?D(t,Se=S):i.triggerOnTouchEnd||!1===i.triggerOnTouchEnd&&Se===$?(!1!==i.preventDefaultEvents&&!1!==e.cancelable&&e.preventDefault(),D(t,Se=w)):!i.triggerOnTouchEnd&&Y()?T(t,Se=w,u):Se===$&&D(t,Se=S),K(!1),null}function M(){Ce=0,ze=0,ke=0,fe=0,he=0,be=1,V(),K(!1)}function A(e){var t=e.originalEvent?e.originalEvent:e;i.triggerOnTouchLeave&&D(t,Se=O(w))}function E(){we.unbind(ne,I),we.unbind(pe,M),we.unbind(de,x),we.unbind(ce,P),le&&we.unbind(le,A),K(!1)}function O(e){var t=e,a=F(),o=G(),s=N();return!a||s?t=S:!o||e!=$||i.triggerOnTouchEnd&&!i.triggerOnTouchLeave?!o&&e==w&&i.triggerOnTouchLeave&&(t=S):t=w,t}function D(e,t){var a,o=e.touches;return(!(!j()||!U())||U())&&(a=T(e,t,p)),(!(!H()||!B())||B())&&!1!==a&&(a=T(e,t,m)),W()&&J()&&!1!==a?a=T(e,t,g):_e>i.longTapThreshold&&me<v&&i.longTap&&!1!==a?a=T(e,t,_):!(1!==Ce&&C||!(isNaN(me)||me<i.threshold)||!Y())&&!1!==a&&(a=T(e,t,u)),t===S&&M(),t===w&&(o&&o.length||M()),a}function T(t,c,l){var f;if(l==p){if(we.trigger("swipeStatus",[c,ue||null,me||0,_e||0,Ce,Le,ge]),i.swipeStatus&&!1===(f=i.swipeStatus.call(we,t,c,ue||null,me||0,_e||0,Ce,Le,ge)))return!1;if(c==w&&j()){if(clearTimeout(Me),clearTimeout(Ae),we.trigger("swipe",[ue,me,_e,Ce,Le,ge]),i.swipe&&!1===(f=i.swipe.call(we,t,ue,me,_e,Ce,Le,ge)))return!1;switch(ue){case a:we.trigger("swipeLeft",[ue,me,_e,Ce,Le,ge]),i.swipeLeft&&(f=i.swipeLeft.call(we,t,ue,me,_e,Ce,Le,ge));break;case o:we.trigger("swipeRight",[ue,me,_e,Ce,Le,ge]),i.swipeRight&&(f=i.swipeRight.call(we,t,ue,me,_e,Ce,Le,ge));break;case s:we.trigger("swipeUp",[ue,me,_e,Ce,Le,ge]),i.swipeUp&&(f=i.swipeUp.call(we,t,ue,me,_e,Ce,Le,ge));break;case r:we.trigger("swipeDown",[ue,me,_e,Ce,Le,ge]),i.swipeDown&&(f=i.swipeDown.call(we,t,ue,me,_e,Ce,Le,ge))}}}if(l==m){if(we.trigger("pinchStatus",[c,ye||null,ve||0,_e||0,Ce,be,Le]),i.pinchStatus&&!1===(f=i.pinchStatus.call(we,t,c,ye||null,ve||0,_e||0,Ce,be,Le)))return!1;if(c==w&&H())switch(ye){case n:we.trigger("pinchIn",[ye||null,ve||0,_e||0,Ce,be,Le]),i.pinchIn&&(f=i.pinchIn.call(we,t,ye||null,ve||0,_e||0,Ce,be,Le));break;case d:we.trigger("pinchOut",[ye||null,ve||0,_e||0,Ce,be,Le]),i.pinchOut&&(f=i.pinchOut.call(we,t,ye||null,ve||0,_e||0,Ce,be,Le))}}return l==u?c!==S&&c!==w||(clearTimeout(Me),clearTimeout(Ae),J()&&!W()?(Pe=se(),Me=setTimeout(e.proxy((function(){Pe=null,we.trigger("tap",[t.target]),i.tap&&(f=i.tap.call(we,t,t.target))}),this),i.doubleTapThreshold)):(Pe=null,we.trigger("tap",[t.target]),i.tap&&(f=i.tap.call(we,t,t.target)))):l==g?c!==S&&c!==w||(clearTimeout(Me),clearTimeout(Ae),Pe=null,we.trigger("doubletap",[t.target]),i.doubleTap&&(f=i.doubleTap.call(we,t,t.target))):l==_&&(c!==S&&c!==w||(clearTimeout(Me),Pe=null,we.trigger("longtap",[t.target]),i.longTap&&(f=i.longTap.call(we,t,t.target)))),f}function G(){var e=!0;return null!==i.threshold&&(e=me>=i.threshold),e}function N(){var e=!1;return null!==i.cancelThreshold&&null!==ue&&(e=ee(ue)-me>=i.cancelThreshold),e}function F(){return!(i.maxTimeThreshold&&_e>=i.maxTimeThreshold)}function H(){var e=R(),t=q(),a=null===i.pinchThreshold||ve>=i.pinchThreshold;return e&&t&&a}function B(){return!!(i.pinchStatus||i.pinchIn||i.pinchOut)}function j(){var e=F(),t=G(),i=R(),a=q();return!N()&&a&&i&&t&&e}function U(){return!!(i.swipe||i.swipeStatus||i.swipeLeft||i.swipeRight||i.swipeUp||i.swipeDown)}function R(){return Ce===i.fingers||i.fingers===b||!C}function q(){return 0!==Le[0].end.x}function Y(){return!!i.tap}function J(){return!!i.doubleTap}function W(){if(null==Pe)return!1;var e=se();return J()&&e-Pe<=i.doubleTapThreshold}function V(){Ie=0,xe=0}function X(){var e=!1;Ie&&(se()-Ie<=i.fingerReleaseThreshold&&(e=!0));return e}function K(e){we&&(!0===e?(we.bind(de,x),we.bind(ce,P),le&&we.bind(le,A)):(we.unbind(de,x,!1),we.unbind(ce,P,!1),le&&we.unbind(le,A,!1)),we.data(z+"_intouch",!0===e))}function Q(e,t){var i={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return i.start.x=i.last.x=i.end.x=t.pageX||t.clientX,i.start.y=i.last.y=i.end.y=t.pageY||t.clientY,Le[e]=i,i}function Z(e){var t=void 0!==e.identifier?e.identifier:0,i=function(e){return Le[e]||null}(t);return null===i&&(i=Q(t,e)),i.last.x=i.end.x,i.last.y=i.end.y,i.end.x=e.pageX||e.clientX,i.end.y=e.pageY||e.clientY,i}function ee(e){if($e[e])return $e[e].distance}function te(e){return{direction:e,distance:0}}function ie(){return ze-ke}function ae(e,t){var i=Math.abs(e.x-t.x),a=Math.abs(e.y-t.y);return Math.round(Math.sqrt(i*i+a*a))}function oe(e,t){if(n=t,(i=e).x==n.x&&i.y==n.y)return c;var i,n,d=function(e,t){var i=e.x-t.x,a=t.y-e.y,o=Math.atan2(a,i),s=Math.round(180*o/Math.PI);return s<0&&(s=360-Math.abs(s)),s}(e,t);return d<=45&&d>=0||d<=360&&d>=315?a:d>=135&&d<=225?o:d>45&&d<135?r:s}function se(){return(new Date).getTime()}i=e.extend({},i);var re=C||k||!i.fallbackToMouseEvents,ne=re?k?L?"MSPointerDown":"pointerdown":"touchstart":"mousedown",de=re?k?L?"MSPointerMove":"pointermove":"touchmove":"mousemove",ce=re?k?L?"MSPointerUp":"pointerup":"touchend":"mouseup",le=re?k?"mouseleave":null:"mouseleave",pe=k?L?"MSPointerCancel":"pointercancel":"touchcancel",me=0,ue=null,ge=null,_e=0,fe=0,he=0,be=1,ve=0,ye=0,$e=null,we=e(t),Se="start",Ce=0,Le={},ke=0,ze=0,Ie=0,xe=0,Pe=0,Me=null,Ae=null;try{we.bind(ne,I),we.bind(pe,M)}catch(t){e.error("events not supported "+ne+","+pe+" on jQuery.swipe")}this.enable=function(){return this.disable(),we.bind(ne,I),we.bind(pe,M),we},this.disable=function(){return E(),we},this.destroy=function(){E(),we.data(z,null),we=null},this.option=function(t,a){if("object"==typeof t)i=e.extend(i,t);else if(void 0!==i[t]){if(void 0===a)return i[t];i[t]=a}else{if(!t)return i;e.error("Option "+t+" does not exist on jQuery.swipe.options")}return null}}var a="left",o="right",s="up",r="down",n="in",d="out",c="none",l="auto",p="swipe",m="pinch",u="tap",g="doubletap",_="longtap",f="horizontal",h="vertical",b="all",v=10,y="start",$="move",w="end",S="cancel",C="ontouchstart"in window,L=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!C,k=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!C,z="TouchSwipe";e.fn.swipe=function(i){var a=e(this),o=a.data(z);if(o&&"string"==typeof i){if(o[i])return o[i].apply(o,Array.prototype.slice.call(arguments,1));e.error("Method "+i+" does not exist on jQuery.swipe")}else if(o&&"object"==typeof i)o.option.apply(o,arguments);else if(!(o||"object"!=typeof i&&i))return t.apply(this,arguments);return a},e.fn.swipe.version="1.6.18",e.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0},e.fn.swipe.phases={PHASE_START:y,PHASE_MOVE:$,PHASE_END:w,PHASE_CANCEL:S},e.fn.swipe.directions={LEFT:a,RIGHT:o,UP:s,DOWN:r,IN:n,OUT:d},e.fn.swipe.pageScroll={NONE:c,HORIZONTAL:f,VERTICAL:h,AUTO:l},e.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:b}})),function(e){function t(a){if(i[a])return i[a].exports;var o=i[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var i={};t.m=e,t.c=i,t.d=function(e,i,a){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=12)}([function(e,t){var i=Object;e.exports={create:i.create,getProto:i.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:i.getOwnPropertyDescriptor,setDesc:i.defineProperty,setDescs:i.defineProperties,getKeys:i.keys,getNames:i.getOwnPropertyNames,getSymbols:i.getOwnPropertySymbols,each:[].forEach}},function(e,t){var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(e,t,i){var a=i(26),o=i(27);e.exports=function(e){return a(o(e))}},function(e,t){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},function(e,t,i){e.exports=!i(5)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var i=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=i)},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,i){var a=i(1),o=a["__core-js_shared__"]||(a["__core-js_shared__"]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t,i){var a=i(8)("wks"),o=i(10),s=i(1).Symbol;e.exports=function(e){return a[e]||(a[e]=s&&s[e]||(s||o)("Symbol."+e))}},function(e,t){var i=0,a=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++i+a).toString(36))}},function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},function(e,t,i){"use strict";i(13);var a={fastclick:i(14),"o-autoinit":i(35)};window.Origami=a},function(e,t){e.exports={name:"__MAIN__",dependencies:{fastclick:"fastclick#*","o-autoinit":"o-autoinit#^1.0.0"}}},function(e,t,i){"use strict";!function(e){e&&e.__esModule}(i(15));!function(){
/**
    * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
    *
    * @codingstandard ftlabs-jsv2
    * @copyright The Financial Times Limited [All Rights Reserved]
    * @license MIT License (see LICENSE.txt)
    */
function t(e,i){var o;if(i=i||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=i.touchBoundary||10,this.layer=e,this.tapDelay=i.tapDelay||200,this.tapTimeout=i.tapTimeout||700,!t.notNeeded(e)){for(var s=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],r=this,n=0,d=s.length;n<d;n++)r[s[n]]=function(e,t){return function(){return e.apply(t,arguments)}}(r[s[n]],r);a&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,i,a){var o=Node.prototype.removeEventListener;"click"===t?o.call(e,t,i.hijacked||i,a):o.call(e,t,i,a)},e.addEventListener=function(t,i,a){var o=Node.prototype.addEventListener;"click"===t?o.call(e,t,i.hijacked||(i.hijacked=function(e){e.propagationStopped||i(e)}),a):o.call(e,t,i,a)}),"function"==typeof e.onclick&&(o=e.onclick,e.addEventListener("click",(function(e){o(e)}),!1),e.onclick=null)}}var i=navigator.userAgent.indexOf("Windows Phone")>=0,a=navigator.userAgent.indexOf("Android")>0&&!i,o=/iP(ad|hone|od)/.test(navigator.userAgent)&&!i,s=o&&/OS 4_\d(_\d)?/.test(navigator.userAgent),r=o&&/OS [6-7]_\d/.test(navigator.userAgent),n=navigator.userAgent.indexOf("BB10")>0;t.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(o&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},t.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!a;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},t.prototype.sendClick=function(e,t){var i,a;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),a=t.changedTouches[0],(i=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(e),!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,e.dispatchEvent(i)},t.prototype.determineEventType=function(e){return a&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},t.prototype.focus=function(e){var t;o&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},t.prototype.updateScrollParent=function(e){var t,i;if(!(t=e.fastClickScrollParent)||!t.contains(e)){i=e;do{if(i.scrollHeight>i.offsetHeight){t=i,e.fastClickScrollParent=i;break}i=i.parentElement}while(i)}t&&(t.fastClickLastScrollTop=t.scrollTop)},t.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},t.prototype.onTouchStart=function(e){var t,i,a;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),i=e.targetTouches[0],o){if((a=window.getSelection()).rangeCount&&!a.isCollapsed)return!0;if(!s){if(i.identifier&&i.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=i.pageX,this.touchStartY=i.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},t.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],i=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>i||Math.abs(t.pageY-this.touchStartY)>i},t.prototype.onTouchMove=function(e){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0)},t.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},t.prototype.onTouchEnd=function(e){var t,i,n,d,c,l=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,r&&(c=e.changedTouches[0],(l=document.elementFromPoint(c.pageX-window.pageXOffset,c.pageY-window.pageYOffset)||l).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(n=l.tagName.toLowerCase())){if(t=this.findControl(l)){if(this.focus(l),a)return!1;l=t}}else if(this.needsFocus(l))return e.timeStamp-i>100||o&&window.top!==window&&"input"===n?(this.targetElement=null,!1):(this.focus(l),this.sendClick(l,e),o&&"select"===n||(this.targetElement=null,e.preventDefault()),!1);return!(!o||s||!(d=l.fastClickScrollParent)||d.fastClickLastScrollTop===d.scrollTop)||(this.needsClick(l)||(e.preventDefault(),this.sendClick(l,e)),!1)},t.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},t.prototype.onMouse=function(e){return!(this.targetElement&&!e.forwardedTouchEvent&&e.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)&&(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),1))},t.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail||((t=this.onMouse(e))||(this.targetElement=null),t)},t.prototype.destroy=function(){var e=this.layer;a&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},t.notNeeded=function(e){var t,i,o;if(void 0===window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!a)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(i>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(n&&((o=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/))[1]>=10&&o[2]>=3&&(t=document.querySelector("meta[name=viewport]")))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction||!!(+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]>=27&&(t=document.querySelector("meta[name=viewport]"))&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||"none"===e.style.touchAction||"manipulation"===e.style.touchAction},t.attach=function(e,i){return new t(e,i)},void 0!==e&&e.exports?(e.exports=t.attach,e.exports.FastClick=t):window.FastClick=t}()},function(e,t,i){"use strict";var a=i(16).default;t.default=function(e){return e&&e.constructor===a?"symbol":typeof e},t.__esModule=!0},function(e,t,i){e.exports={default:i(17),__esModule:!0}},function(e,t,i){i(18),i(34),e.exports=i(6).Symbol},function(e,t,i){"use strict";var a=i(0),o=i(1),s=i(3),r=i(4),n=i(19),d=i(22),c=i(5),l=i(8),p=i(24),m=i(10),u=i(9),g=i(25),_=i(28),f=i(29),h=i(30),b=i(31),v=i(2),y=i(7),$=a.getDesc,w=a.setDesc,S=a.create,C=_.get,L=o.Symbol,k=o.JSON,z=k&&k.stringify,I=!1,x=u("_hidden"),P=a.isEnum,M=l("symbol-registry"),A=l("symbols"),E="function"==typeof L,O=Object.prototype,D=r&&c((function(){return 7!=S(w({},"a",{get:function(){return w(this,"a",{value:7}).a}})).a}))?function(e,t,i){var a=$(O,t);a&&delete O[t],w(e,t,i),a&&e!==O&&w(O,t,a)}:w,T=function(e){var t=A[e]=S(L.prototype);return t._k=e,r&&I&&D(O,e,{configurable:!0,set:function(t){s(this,x)&&s(this[x],e)&&(this[x][e]=!1),D(this,e,y(1,t))}}),t},G=function(e){return"symbol"==typeof e},N=function(e,t,i){return i&&s(A,t)?(i.enumerable?(s(e,x)&&e[x][t]&&(e[x][t]=!1),i=S(i,{enumerable:y(0,!1)})):(s(e,x)||w(e,x,y(1,{})),e[x][t]=!0),D(e,t,i)):w(e,t,i)},F=function(e,t){b(e);for(var i,a=f(t=v(t)),o=0,s=a.length;s>o;)N(e,i=a[o++],t[i]);return e},H=function(e,t){return void 0===t?S(e):F(S(e),t)},B=function(e){var t=P.call(this,e);return!(t||!s(this,e)||!s(A,e)||s(this,x)&&this[x][e])||t},j=function(e,t){var i=$(e=v(e),t);return!i||!s(A,t)||s(e,x)&&e[x][t]||(i.enumerable=!0),i},U=function(e){for(var t,i=C(v(e)),a=[],o=0;i.length>o;)s(A,t=i[o++])||t==x||a.push(t);return a},R=function(e){for(var t,i=C(v(e)),a=[],o=0;i.length>o;)s(A,t=i[o++])&&a.push(A[t]);return a},q=c((function(){var e=L();return"[null]"!=z([e])||"{}"!=z({a:e})||"{}"!=z(Object(e))}));E||(L=function(){if(G(this))throw TypeError("Symbol is not a constructor");return T(m(arguments.length>0?arguments[0]:void 0))},d(L.prototype,"toString",(function(){return this._k})),G=function(e){return e instanceof L},a.create=H,a.isEnum=B,a.getDesc=j,a.setDesc=N,a.setDescs=F,a.getNames=_.get=U,a.getSymbols=R,r&&!i(33)&&d(O,"propertyIsEnumerable",B,!0));var Y={for:function(e){return s(M,e+="")?M[e]:M[e]=L(e)},keyFor:function(e){return g(M,e)},useSetter:function(){I=!0},useSimple:function(){I=!1}};a.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),(function(e){var t=u(e);Y[e]=E?t:T(t)})),I=!0,n(n.G+n.W,{Symbol:L}),n(n.S,"Symbol",Y),n(n.S+n.F*!E,"Object",{create:H,defineProperty:N,defineProperties:F,getOwnPropertyDescriptor:j,getOwnPropertyNames:U,getOwnPropertySymbols:R}),k&&n(n.S+n.F*(!E||q),"JSON",{stringify:function(e){if(void 0!==e&&!G(e)){for(var t,i,a=[e],o=1,s=arguments;s.length>o;)a.push(s[o++]);return"function"==typeof(t=a[1])&&(i=t),!i&&h(t)||(t=function(e,t){if(i&&(t=i.call(this,e,t)),!G(t))return t}),a[1]=t,z.apply(k,a)}}}),p(L,"Symbol"),p(Math,"Math",!0),p(o.JSON,"JSON",!0)},function(e,t,i){var a=i(1),o=i(6),s=i(20),r=function(e,t,i){var n,d,c,l=e&r.F,p=e&r.G,m=e&r.S,u=e&r.P,g=e&r.B,_=e&r.W,f=p?o:o[t]||(o[t]={}),h=p?a:m?a[t]:(a[t]||{}).prototype;for(n in p&&(i=t),i)(d=!l&&h&&n in h)&&n in f||(c=d?h[n]:i[n],f[n]=p&&"function"!=typeof h[n]?i[n]:g&&d?s(c,a):_&&h[n]==c?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t.prototype=e.prototype,t}(c):u&&"function"==typeof c?s(Function.call,c):c,u&&((f.prototype||(f.prototype={}))[n]=c))};r.F=1,r.G=2,r.S=4,r.P=8,r.B=16,r.W=32,e.exports=r},function(e,t,i){var a=i(21);e.exports=function(e,t,i){if(a(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,a){return e.call(t,i,a)};case 3:return function(i,a,o){return e.call(t,i,a,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,i){e.exports=i(23)},function(e,t,i){var a=i(0),o=i(7);e.exports=i(4)?function(e,t,i){return a.setDesc(e,t,o(1,i))}:function(e,t,i){return e[t]=i,e}},function(e,t,i){var a=i(0).setDesc,o=i(3),s=i(9)("toStringTag");e.exports=function(e,t,i){e&&!o(e=i?e:e.prototype,s)&&a(e,s,{configurable:!0,value:t})}},function(e,t,i){var a=i(0),o=i(2);e.exports=function(e,t){for(var i,s=o(e),r=a.getKeys(s),n=r.length,d=0;n>d;)if(s[i=r[d++]]===t)return i}},function(e,t,i){var a=i(11);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==a(e)?e.split(""):Object(e)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,i){var a=i(2),o=i(0).getNames,s={}.toString,r="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.get=function(e){return r&&"[object Window]"==s.call(e)?function(e){try{return o(e)}catch(e){return r.slice()}}(e):o(a(e))}},function(e,t,i){var a=i(0);e.exports=function(e){var t=a.getKeys(e),i=a.getSymbols;if(i)for(var o,s=i(e),r=a.isEnum,n=0;s.length>n;)r.call(e,o=s[n++])&&t.push(o);return t}},function(e,t,i){var a=i(11);e.exports=Array.isArray||function(e){return"Array"==a(e)}},function(e,t,i){var a=i(32);e.exports=function(e){if(!a(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=!0},function(e,t){},function(e,t,i){"use strict";function a(e){e in o||(o[e]=!0,document.dispatchEvent(new CustomEvent("o."+e)))}var o={};if(window.addEventListener("load",a.bind(null,"load")),window.addEventListener("load",a.bind(null,"DOMContentLoaded")),document.addEventListener("DOMContentLoaded",a.bind(null,"DOMContentLoaded")),document.onreadystatechange=function(){"complete"===document.readyState?(a("DOMContentLoaded"),a("load")):"interactive"!==document.readyState||document.attachEvent||a("DOMContentLoaded")},"complete"===document.readyState?(a("DOMContentLoaded"),a("load")):"interactive"!==document.readyState||document.attachEvent||a("DOMContentLoaded"),document.attachEvent){var s=!1,r=50;try{s=null===window.frameElement&&document.documentElement}catch(e){}s&&s.doScroll&&function e(){if(!("DOMContentLoaded"in o)){try{s.doScroll("left")}catch(t){return r<5e3?setTimeout(e,r*=1.2):void 0}a("DOMContentLoaded")}}()}}]),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Cropper=t()}(this,(function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var a="undefined"!=typeof window&&void 0!==window.document,o=a?window:{},s=a&&"ontouchstart"in o.document.documentElement,r=a&&"PointerEvent"in o,n="cropper",d="all",c="crop",l="move",p="zoom",m="e",u="w",g="s",_="n",f="ne",h="nw",b="se",v="sw",y="".concat(n,"-crop"),$="".concat(n,"-disabled"),w="".concat(n,"-hidden"),S="".concat(n,"-hide"),C="".concat(n,"-invisible"),L="".concat(n,"-modal"),k="".concat(n,"-move"),z="".concat(n,"Action"),I="".concat(n,"Preview"),x="crop",P="move",M="none",A="crop",E="cropend",O="cropmove",D="cropstart",T="dblclick",G=r?"pointerdown":s?"touchstart":"mousedown",N=r?"pointermove":s?"touchmove":"mousemove",F=r?"pointerup pointercancel":s?"touchend touchcancel":"mouseup",H="ready",B="resize",j="wheel",U="zoom",R="image/jpeg",q=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Y=/^data:/,J=/^data:image\/jpeg;base64,/,W=/^img|canvas$/i,V={viewMode:0,dragMode:x,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},X=Number.isNaN||o.isNaN;function K(e){return"number"==typeof e&&!X(e)}var Q=function(e){return 0<e&&e<1/0};function Z(e){return void 0===e}function ee(t){return"object"===e(t)&&null!==t}var te=Object.prototype.hasOwnProperty;function ie(e){if(!ee(e))return!1;try{var t=e.constructor,i=t.prototype;return t&&i&&te.call(i,"isPrototypeOf")}catch(e){return!1}}function ae(e){return"function"==typeof e}var oe=Array.prototype.slice;function se(e){return Array.from?Array.from(e):oe.call(e)}function re(e,t){return e&&ae(t)&&(Array.isArray(e)||K(e.length)?se(e).forEach((function(i,a){t.call(e,i,a,e)})):ee(e)&&Object.keys(e).forEach((function(i){t.call(e,e[i],i,e)}))),e}var ne=Object.assign||function(e){for(var t=arguments.length,i=new Array(1<t?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];return ee(e)&&0<i.length&&i.forEach((function(t){ee(t)&&Object.keys(t).forEach((function(i){e[i]=t[i]}))})),e},de=/\.\d*(?:0|9){12}\d*$/;function ce(e,t){var i=1<arguments.length&&void 0!==t?t:1e11;return de.test(e)?Math.round(e*i)/i:e}var le=/^width|height|left|top|marginLeft|marginTop$/;function pe(e,t){var i=e.style;re(t,(function(e,t){le.test(t)&&K(e)&&(e="".concat(e,"px")),i[t]=e}))}function me(e,t){if(t)if(K(e.length))re(e,(function(e){me(e,t)}));else if(e.classList)e.classList.add(t);else{var i=e.className.trim();i?i.indexOf(t)<0&&(e.className="".concat(i," ").concat(t)):e.className=t}}function ue(e,t){t&&(K(e.length)?re(e,(function(e){ue(e,t)})):e.classList?e.classList.remove(t):0<=e.className.indexOf(t)&&(e.className=e.className.replace(t,"")))}function ge(e,t,i){t&&(K(e.length)?re(e,(function(e){ge(e,t,i)})):i?me(e,t):ue(e,t))}var _e=/([a-z\d])([A-Z])/g;function fe(e){return e.replace(_e,"$1-$2").toLowerCase()}function he(e,t){return ee(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(fe(t)))}function be(e,t,i){ee(i)?e[t]=i:e.dataset?e.dataset[t]=i:e.setAttribute("data-".concat(fe(t)),i)}var ve=/\s\s*/,ye=function(){var e=!1;if(a){var t=!1,i=function(){},s=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(e){t=e}});o.addEventListener("test",i,s),o.removeEventListener("test",i,s)}return e}();function $e(e,t,i,a){var o=3<arguments.length&&void 0!==a?a:{},s=i;t.trim().split(ve).forEach((function(t){if(!ye){var a=e.listeners;a&&a[t]&&a[t][i]&&(s=a[t][i],delete a[t][i],0===Object.keys(a[t]).length&&delete a[t],0===Object.keys(a).length&&delete e.listeners)}e.removeEventListener(t,s,o)}))}function we(e,t,i,a){var o=3<arguments.length&&void 0!==a?a:{},s=i;t.trim().split(ve).forEach((function(t){if(o.once&&!ye){var a=e.listeners,r=void 0===a?{}:a;s=function(){delete r[t][i],e.removeEventListener(t,s,o);for(var a=arguments.length,n=new Array(a),d=0;d<a;d++)n[d]=arguments[d];i.apply(e,n)},r[t]||(r[t]={}),r[t][i]&&e.removeEventListener(t,r[t][i],o),r[t][i]=s,e.listeners=r}e.addEventListener(t,s,o)}))}function Se(e,t,i){var a;return ae(Event)&&ae(CustomEvent)?a=new CustomEvent(t,{detail:i,bubbles:!0,cancelable:!0}):(a=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,i),e.dispatchEvent(a)}function Ce(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var Le=o.location,ke=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function ze(e){var t=e.match(ke);return null!==t&&(t[1]!==Le.protocol||t[2]!==Le.hostname||t[3]!==Le.port)}function Ie(e){var t="timestamp=".concat((new Date).getTime());return e+(-1===e.indexOf("?")?"?":"&")+t}function xe(e){var t=e.rotate,i=e.scaleX,a=e.scaleY,o=e.translateX,s=e.translateY,r=[];K(o)&&0!==o&&r.push("translateX(".concat(o,"px)")),K(s)&&0!==s&&r.push("translateY(".concat(s,"px)")),K(t)&&0!==t&&r.push("rotate(".concat(t,"deg)")),K(i)&&1!==i&&r.push("scaleX(".concat(i,")")),K(a)&&1!==a&&r.push("scaleY(".concat(a,")"));var n=r.length?r.join(" "):"none";return{WebkitTransform:n,msTransform:n,transform:n}}function Pe(e,t){var i=e.pageX,a=e.pageY,o={endX:i,endY:a};return t?o:ne({startX:i,startY:a},o)}function Me(e,t){var i=e.aspectRatio,a=e.height,o=e.width,s=1<arguments.length&&void 0!==t?t:"contain",r=Q(o),n=Q(a);if(r&&n){var d=a*i;"contain"===s&&o<d||"cover"===s&&d<o?a=o/i:o=a*i}else r?a=o/i:n&&(o=a*i);return{width:o,height:a}}var Ae=String.fromCharCode,Ee=/^data:.*,/;var Oe={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,t=this.options,i=this.container,a=this.cropper;me(a,w),ue(e,w);var o={width:Math.max(i.offsetWidth,Number(t.minContainerWidth)||200),height:Math.max(i.offsetHeight,Number(t.minContainerHeight)||100)};pe(a,{width:(this.containerData=o).width,height:o.height}),me(e,w),ue(a,w)},initCanvas:function(){var e=this.containerData,t=this.imageData,i=this.options.viewMode,a=Math.abs(t.rotate)%180==90,o=a?t.naturalHeight:t.naturalWidth,s=a?t.naturalWidth:t.naturalHeight,r=o/s,n=e.width,d=e.height;e.height*r>e.width?3===i?n=e.height*r:d=e.width/r:3===i?d=e.width/r:n=e.height*r;var c={aspectRatio:r,naturalWidth:o,naturalHeight:s,width:n,height:d};c.left=(e.width-n)/2,c.top=(e.height-d)/2,c.oldLeft=c.left,c.oldTop=c.top,this.canvasData=c,this.limited=1===i||2===i,this.limitCanvas(!0,!0),this.initialImageData=ne({},t),this.initialCanvasData=ne({},c)},limitCanvas:function(e,t){var i=this.options,a=this.containerData,o=this.canvasData,s=this.cropBoxData,r=i.viewMode,n=o.aspectRatio,d=this.cropped&&s;if(e){var c=Number(i.minCanvasWidth)||0,l=Number(i.minCanvasHeight)||0;1<r?(c=Math.max(c,a.width),l=Math.max(l,a.height),3===r&&(c<l*n?c=l*n:l=c/n)):0<r&&(c?c=Math.max(c,d?s.width:0):l?l=Math.max(l,d?s.height:0):d&&((c=s.width)<(l=s.height)*n?c=l*n:l=c/n));var p=Me({aspectRatio:n,width:c,height:l});c=p.width,l=p.height,o.minWidth=c,o.minHeight=l,o.maxWidth=1/0,o.maxHeight=1/0}if(t)if((d?0:1)<r){var m=a.width-o.width,u=a.height-o.height;o.minLeft=Math.min(0,m),o.minTop=Math.min(0,u),o.maxLeft=Math.max(0,m),o.maxTop=Math.max(0,u),d&&this.limited&&(o.minLeft=Math.min(s.left,s.left+(s.width-o.width)),o.minTop=Math.min(s.top,s.top+(s.height-o.height)),o.maxLeft=s.left,o.maxTop=s.top,2===r&&(o.width>=a.width&&(o.minLeft=Math.min(0,m),o.maxLeft=Math.max(0,m)),o.height>=a.height&&(o.minTop=Math.min(0,u),o.maxTop=Math.max(0,u))))}else o.minLeft=-o.width,o.minTop=-o.height,o.maxLeft=a.width,o.maxTop=a.height},renderCanvas:function(e,t){var i=this.canvasData,a=this.imageData;if(t){var o=function(e){var t=e.width,i=e.height,a=e.degree;if(90==(a=Math.abs(a)%180))return{width:i,height:t};var o=a%90*Math.PI/180,s=Math.sin(o),r=Math.cos(o),n=t*r+i*s,d=t*s+i*r;return 90<a?{width:d,height:n}:{width:n,height:d}}({width:a.naturalWidth*Math.abs(a.scaleX||1),height:a.naturalHeight*Math.abs(a.scaleY||1),degree:a.rotate||0}),s=o.width,r=o.height,n=i.width*(s/i.naturalWidth),d=i.height*(r/i.naturalHeight);i.left-=(n-i.width)/2,i.top-=(d-i.height)/2,i.width=n,i.height=d,i.aspectRatio=s/r,i.naturalWidth=s,i.naturalHeight=r,this.limitCanvas(!0,!1)}(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,pe(this.canvas,ne({width:i.width,height:i.height},xe({translateX:i.left,translateY:i.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var t=this.canvasData,i=this.imageData,a=i.naturalWidth*(t.width/t.naturalWidth),o=i.naturalHeight*(t.height/t.naturalHeight);ne(i,{width:a,height:o,left:(t.width-a)/2,top:(t.height-o)/2}),pe(this.image,ne({width:i.width,height:i.height},xe(ne({translateX:i.left,translateY:i.top},i)))),e&&this.output()},initCropBox:function(){var e=this.options,t=this.canvasData,i=e.aspectRatio||e.initialAspectRatio,a=Number(e.autoCropArea)||.8,o={width:t.width,height:t.height};i&&(t.height*i>t.width?o.height=o.width/i:o.width=o.height*i),this.cropBoxData=o,this.limitCropBox(!0,!0),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),o.width=Math.max(o.minWidth,o.width*a),o.height=Math.max(o.minHeight,o.height*a),o.left=t.left+(t.width-o.width)/2,o.top=t.top+(t.height-o.height)/2,o.oldLeft=o.left,o.oldTop=o.top,this.initialCropBoxData=ne({},o)},limitCropBox:function(e,t){var i=this.options,a=this.containerData,o=this.canvasData,s=this.cropBoxData,r=this.limited,n=i.aspectRatio;if(e){var d=Number(i.minCropBoxWidth)||0,c=Number(i.minCropBoxHeight)||0,l=r?Math.min(a.width,o.width,o.width+o.left,a.width-o.left):a.width,p=r?Math.min(a.height,o.height,o.height+o.top,a.height-o.top):a.height;d=Math.min(d,a.width),c=Math.min(c,a.height),n&&(d&&c?d<c*n?c=d/n:d=c*n:d?c=d/n:c&&(d=c*n),l<p*n?p=l/n:l=p*n),s.minWidth=Math.min(d,l),s.minHeight=Math.min(c,p),s.maxWidth=l,s.maxHeight=p}t&&(r?(s.minLeft=Math.max(0,o.left),s.minTop=Math.max(0,o.top),s.maxLeft=Math.min(a.width,o.left+o.width)-s.width,s.maxTop=Math.min(a.height,o.top+o.height)-s.height):(s.minLeft=0,s.minTop=0,s.maxLeft=a.width-s.width,s.maxTop=a.height-s.height))},renderCropBox:function(){var e=this.options,t=this.containerData,i=this.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,e.movable&&e.cropBoxMovable&&be(this.face,z,i.width>=t.width&&i.height>=t.height?l:d),pe(this.cropBox,ne({width:i.width,height:i.height},xe({translateX:i.left,translateY:i.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Se(this.element,A,this.getData())}},De={initPreview:function(){var e=this.element,t=this.crossOrigin,i=this.options.preview,a=t?this.crossOriginUrl:this.url,o=e.alt||"The image to preview",s=document.createElement("img");if(t&&(s.crossOrigin=t),s.src=a,s.alt=o,this.viewBox.appendChild(s),this.viewBoxImage=s,i){var r=i;"string"==typeof i?r=e.ownerDocument.querySelectorAll(i):i.querySelector&&(r=[i]),re(this.previews=r,(function(e){var i=document.createElement("img");be(e,I,{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),t&&(i.crossOrigin=t),i.src=a,i.alt=o,i.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',e.innerHTML="",e.appendChild(i)}))}},resetPreview:function(){re(this.previews,(function(e){var t=he(e,I);pe(e,{width:t.width,height:t.height}),e.innerHTML=t.html,function(e,t){if(ee(e[t]))try{delete e[t]}catch(i){e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch(i){e.dataset[t]=void 0}else e.removeAttribute("data-".concat(fe(t)))}(e,I)}))},preview:function(){var e=this.imageData,t=this.canvasData,i=this.cropBoxData,a=i.width,o=i.height,s=e.width,r=e.height,n=i.left-t.left-e.left,d=i.top-t.top-e.top;this.cropped&&!this.disabled&&(pe(this.viewBoxImage,ne({width:s,height:r},xe(ne({translateX:-n,translateY:-d},e)))),re(this.previews,(function(t){var i=he(t,I),c=i.width,l=i.height,p=c,m=l,u=1;a&&(m=o*(u=c/a)),o&&l<m&&(p=a*(u=l/o),m=l),pe(t,{width:p,height:m}),pe(t.getElementsByTagName("img")[0],ne({width:s*u,height:r*u},xe(ne({translateX:-n*u,translateY:-d*u},e))))})))}},Te={bind:function(){var e=this.element,t=this.options,i=this.cropper;ae(t.cropstart)&&we(e,D,t.cropstart),ae(t.cropmove)&&we(e,O,t.cropmove),ae(t.cropend)&&we(e,E,t.cropend),ae(t.crop)&&we(e,A,t.crop),ae(t.zoom)&&we(e,U,t.zoom),we(i,G,this.onCropStart=this.cropStart.bind(this)),t.zoomable&&t.zoomOnWheel&&we(i,j,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&we(i,T,this.onDblclick=this.dblclick.bind(this)),we(e.ownerDocument,N,this.onCropMove=this.cropMove.bind(this)),we(e.ownerDocument,F,this.onCropEnd=this.cropEnd.bind(this)),t.responsive&&we(window,B,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,t=this.options,i=this.cropper;ae(t.cropstart)&&$e(e,D,t.cropstart),ae(t.cropmove)&&$e(e,O,t.cropmove),ae(t.cropend)&&$e(e,E,t.cropend),ae(t.crop)&&$e(e,A,t.crop),ae(t.zoom)&&$e(e,U,t.zoom),$e(i,G,this.onCropStart),t.zoomable&&t.zoomOnWheel&&$e(i,j,this.onWheel,{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&$e(i,T,this.onDblclick),$e(e.ownerDocument,N,this.onCropMove),$e(e.ownerDocument,F,this.onCropEnd),t.responsive&&$e(window,B,this.onResize)}},Ge={resize:function(){var e=this.options,t=this.container,i=this.containerData,a=Number(e.minContainerWidth)||200,o=Number(e.minContainerHeight)||100;if(!(this.disabled||i.width<=a||i.height<=o)){var s,r,n=t.offsetWidth/i.width;1==n&&t.offsetHeight===i.height||(e.restore&&(s=this.getCanvasData(),r=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(re(s,(function(e,t){s[t]=e*n}))),this.setCropBoxData(re(r,(function(e,t){r[t]=e*n})))))}},dblclick:function(){this.disabled||this.options.dragMode===M||this.setDragMode(function(e,t){return e.classList?e.classList.contains(t):-1<e.className.indexOf(t)}(this.dragBox,y)?P:x)},wheel:function(e){var t=this,i=Number(this.options.wheelZoomRatio)||.1,a=1;this.disabled||(e.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout((function(){t.wheeling=!1}),50),e.deltaY?a=0<e.deltaY?1:-1:e.wheelDelta?a=-e.wheelDelta/120:e.detail&&(a=0<e.detail?1:-1),this.zoom(-a*i,e)))},cropStart:function(e){var t=e.buttons,i=e.button;if(!(this.disabled||K(t)&&1!==t||K(i)&&0!==i||e.ctrlKey)){var a,o=this.options,s=this.pointers;e.changedTouches?re(e.changedTouches,(function(e){s[e.identifier]=Pe(e)})):s[e.pointerId||0]=Pe(e),a=1<Object.keys(s).length&&o.zoomable&&o.zoomOnTouch?p:he(e.target,z),q.test(a)&&!1!==Se(this.element,D,{originalEvent:e,action:a})&&(e.preventDefault(),this.action=a,this.cropping=!1,a===c&&(this.cropping=!0,me(this.dragBox,L)))}},cropMove:function(e){var t=this.action;if(!this.disabled&&t){var i=this.pointers;e.preventDefault(),!1!==Se(this.element,O,{originalEvent:e,action:t})&&(e.changedTouches?re(e.changedTouches,(function(e){ne(i[e.identifier]||{},Pe(e,!0))})):ne(i[e.pointerId||0]||{},Pe(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var t=this.action,i=this.pointers;e.changedTouches?re(e.changedTouches,(function(e){delete i[e.identifier]})):delete i[e.pointerId||0],t&&(e.preventDefault(),Object.keys(i).length||(this.action=""),this.cropping&&(this.cropping=!1,ge(this.dragBox,L,this.cropped&&this.options.modal)),Se(this.element,E,{originalEvent:e,action:t}))}}},Ne={change:function(e){var t,i=this.options,a=this.canvasData,o=this.containerData,s=this.cropBoxData,r=this.pointers,n=this.action,y=i.aspectRatio,$=s.left,S=s.top,C=s.width,L=s.height,k=$+C,z=S+L,I=0,x=0,P=o.width,M=o.height,A=!0;function E(e){switch(e){case m:k+D.x>P&&(D.x=P-k);break;case u:$+D.x<I&&(D.x=I-$);break;case _:S+D.y<x&&(D.y=x-S);break;case g:z+D.y>M&&(D.y=M-z)}}!y&&e.shiftKey&&(y=C&&L?C/L:1),this.limited&&(I=s.minLeft,x=s.minTop,P=I+Math.min(o.width,a.width,a.left+a.width),M=x+Math.min(o.height,a.height,a.top+a.height));var O=r[Object.keys(r)[0]],D={x:O.endX-O.startX,y:O.endY-O.startY};switch(n){case d:$+=D.x,S+=D.y;break;case m:if(0<=D.x&&(P<=k||y&&(S<=x||M<=z))){A=!1;break}E(m),(C+=D.x)<0&&(n=u,$-=C=-C),y&&(L=C/y,S+=(s.height-L)/2);break;case _:if(D.y<=0&&(S<=x||y&&($<=I||P<=k))){A=!1;break}E(_),L-=D.y,S+=D.y,L<0&&(n=g,S-=L=-L),y&&(C=L*y,$+=(s.width-C)/2);break;case u:if(D.x<=0&&($<=I||y&&(S<=x||M<=z))){A=!1;break}E(u),C-=D.x,$+=D.x,C<0&&(n=m,$-=C=-C),y&&(L=C/y,S+=(s.height-L)/2);break;case g:if(0<=D.y&&(M<=z||y&&($<=I||P<=k))){A=!1;break}E(g),(L+=D.y)<0&&(n=_,S-=L=-L),y&&(C=L*y,$+=(s.width-C)/2);break;case f:if(y){if(D.y<=0&&(S<=x||P<=k)){A=!1;break}E(_),L-=D.y,S+=D.y,C=L*y}else E(_),E(m),0<=D.x?k<P?C+=D.x:D.y<=0&&S<=x&&(A=!1):C+=D.x,D.y<=0?x<S&&(L-=D.y,S+=D.y):(L-=D.y,S+=D.y);C<0&&L<0?(n=v,S-=L=-L,$-=C=-C):C<0?(n=h,$-=C=-C):L<0&&(n=b,S-=L=-L);break;case h:if(y){if(D.y<=0&&(S<=x||$<=I)){A=!1;break}E(_),L-=D.y,S+=D.y,C=L*y,$+=s.width-C}else E(_),E(u),D.x<=0?I<$?(C-=D.x,$+=D.x):D.y<=0&&S<=x&&(A=!1):(C-=D.x,$+=D.x),D.y<=0?x<S&&(L-=D.y,S+=D.y):(L-=D.y,S+=D.y);C<0&&L<0?(n=b,S-=L=-L,$-=C=-C):C<0?(n=f,$-=C=-C):L<0&&(n=v,S-=L=-L);break;case v:if(y){if(D.x<=0&&($<=I||M<=z)){A=!1;break}E(u),C-=D.x,$+=D.x,L=C/y}else E(g),E(u),D.x<=0?I<$?(C-=D.x,$+=D.x):0<=D.y&&M<=z&&(A=!1):(C-=D.x,$+=D.x),0<=D.y?z<M&&(L+=D.y):L+=D.y;C<0&&L<0?(n=f,S-=L=-L,$-=C=-C):C<0?(n=b,$-=C=-C):L<0&&(n=h,S-=L=-L);break;case b:if(y){if(0<=D.x&&(P<=k||M<=z)){A=!1;break}E(m),L=(C+=D.x)/y}else E(g),E(m),0<=D.x?k<P?C+=D.x:0<=D.y&&M<=z&&(A=!1):C+=D.x,0<=D.y?z<M&&(L+=D.y):L+=D.y;C<0&&L<0?(n=h,S-=L=-L,$-=C=-C):C<0?(n=v,$-=C=-C):L<0&&(n=f,S-=L=-L);break;case l:this.move(D.x,D.y),A=!1;break;case p:this.zoom(function(e){var t=ne({},e),i=[];return re(e,(function(e,a){delete t[a],re(t,(function(t){var a=Math.abs(e.startX-t.startX),o=Math.abs(e.startY-t.startY),s=Math.abs(e.endX-t.endX),r=Math.abs(e.endY-t.endY),n=Math.sqrt(a*a+o*o),d=(Math.sqrt(s*s+r*r)-n)/n;i.push(d)}))})),i.sort((function(e,t){return Math.abs(e)<Math.abs(t)})),i[0]}(r),e),A=!1;break;case c:if(!D.x||!D.y){A=!1;break}t=Ce(this.cropper),$=O.startX-t.left,S=O.startY-t.top,C=s.minWidth,L=s.minHeight,0<D.x?n=0<D.y?b:f:D.x<0&&($-=C,n=0<D.y?v:h),D.y<0&&(S-=L),this.cropped||(ue(this.cropBox,w),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}A&&(s.width=C,s.height=L,s.left=$,s.top=S,this.action=n,this.renderCropBox()),re(r,(function(e){e.startX=e.endX,e.startY=e.endY}))}},Fe={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&me(this.dragBox,L),ue(this.cropBox,w),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=ne({},this.initialImageData),this.canvasData=ne({},this.initialCanvasData),this.cropBoxData=ne({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(ne(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),ue(this.dragBox,L),me(this.cropBox,w)),this},replace:function(e,t){var i=1<arguments.length&&void 0!==t&&t;return!this.disabled&&e&&(this.isImg&&(this.element.src=e),i?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,re(this.previews,(function(t){t.getElementsByTagName("img")[0].src=e})))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,ue(this.cropper,$)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,me(this.cropper,$)),this},destroy:function(){var e=this.element;return e[n]&&(e[n]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate()),this},move:function(e,t){var i=1<arguments.length&&void 0!==t?t:e,a=this.canvasData,o=a.left,s=a.top;return this.moveTo(Z(e)?e:o+Number(e),Z(i)?i:s+Number(i))},moveTo:function(e,t){var i=1<arguments.length&&void 0!==t?t:e,a=this.canvasData,o=!1;return e=Number(e),i=Number(i),this.ready&&!this.disabled&&this.options.movable&&(K(e)&&(a.left=e,o=!0),K(i)&&(a.top=i,o=!0),o&&this.renderCanvas(!0)),this},zoom:function(e,t){var i=this.canvasData;return e=(e=Number(e))<0?1/(1-e):1+e,this.zoomTo(i.width*e/i.naturalWidth,null,t)},zoomTo:function(e,t,i){var a=this.options,o=this.canvasData,s=o.width,r=o.height,n=o.naturalWidth,d=o.naturalHeight;if(0<=(e=Number(e))&&this.ready&&!this.disabled&&a.zoomable){var c=n*e,l=d*e;if(!1===Se(this.element,U,{ratio:e,oldRatio:s/n,originalEvent:i}))return this;if(i){var p=this.pointers,m=Ce(this.cropper),u=p&&Object.keys(p).length?function(e){var t=0,i=0,a=0;return re(e,(function(e){var o=e.startX,s=e.startY;t+=o,i+=s,a+=1})),{pageX:t/=a,pageY:i/=a}}(p):{pageX:i.pageX,pageY:i.pageY};o.left-=(c-s)*((u.pageX-m.left-o.left)/s),o.top-=(l-r)*((u.pageY-m.top-o.top)/r)}else ie(t)&&K(t.x)&&K(t.y)?(o.left-=(c-s)*((t.x-o.left)/s),o.top-=(l-r)*((t.y-o.top)/r)):(o.left-=(c-s)/2,o.top-=(l-r)/2);o.width=c,o.height=l,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return K(e=Number(e))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var t=this.imageData.scaleY;return this.scale(e,K(t)?t:1)},scaleY:function(e){var t=this.imageData.scaleX;return this.scale(K(t)?t:1,e)},scale:function(e,t){var i=1<arguments.length&&void 0!==t?t:e,a=this.imageData,o=!1;return e=Number(e),i=Number(i),this.ready&&!this.disabled&&this.options.scalable&&(K(e)&&(a.scaleX=e,o=!0),K(i)&&(a.scaleY=i,o=!0),o&&this.renderCanvas(!0,!0)),this},getData:function(e){var t,i=0<arguments.length&&void 0!==e&&e,a=this.options,o=this.imageData,s=this.canvasData,r=this.cropBoxData;if(this.ready&&this.cropped){t={x:r.left-s.left,y:r.top-s.top,width:r.width,height:r.height};var n=o.width/o.naturalWidth;if(re(t,(function(e,i){t[i]=e/n})),i){var d=Math.round(t.y+t.height),c=Math.round(t.x+t.width);t.x=Math.round(t.x),t.y=Math.round(t.y),t.width=c-t.x,t.height=d-t.y}}else t={x:0,y:0,width:0,height:0};return a.rotatable&&(t.rotate=o.rotate||0),a.scalable&&(t.scaleX=o.scaleX||1,t.scaleY=o.scaleY||1),t},setData:function(e){var t=this.options,i=this.imageData,a=this.canvasData,o={};if(this.ready&&!this.disabled&&ie(e)){var s=!1;t.rotatable&&K(e.rotate)&&e.rotate!==i.rotate&&(i.rotate=e.rotate,s=!0),t.scalable&&(K(e.scaleX)&&e.scaleX!==i.scaleX&&(i.scaleX=e.scaleX,s=!0),K(e.scaleY)&&e.scaleY!==i.scaleY&&(i.scaleY=e.scaleY,s=!0)),s&&this.renderCanvas(!0,!0);var r=i.width/i.naturalWidth;K(e.x)&&(o.left=e.x*r+a.left),K(e.y)&&(o.top=e.y*r+a.top),K(e.width)&&(o.width=e.width*r),K(e.height)&&(o.height=e.height*r),this.setCropBoxData(o)}return this},getContainerData:function(){return this.ready?ne({},this.containerData):{}},getImageData:function(){return this.sized?ne({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,t={};return this.ready&&re(["left","top","width","height","naturalWidth","naturalHeight"],(function(i){t[i]=e[i]})),t},setCanvasData:function(e){var t=this.canvasData,i=t.aspectRatio;return this.ready&&!this.disabled&&ie(e)&&(K(e.left)&&(t.left=e.left),K(e.top)&&(t.top=e.top),K(e.width)?(t.width=e.width,t.height=e.width/i):K(e.height)&&(t.height=e.height,t.width=e.height*i),this.renderCanvas(!0)),this},getCropBoxData:function(){var e,t=this.cropBoxData;return this.ready&&this.cropped&&(e={left:t.left,top:t.top,width:t.width,height:t.height}),e||{}},setCropBoxData:function(e){var t,i,a=this.cropBoxData,o=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&ie(e)&&(K(e.left)&&(a.left=e.left),K(e.top)&&(a.top=e.top),K(e.width)&&e.width!==a.width&&(t=!0,a.width=e.width),K(e.height)&&e.height!==a.height&&(i=!0,a.height=e.height),o&&(t?a.height=a.width/o:i&&(a.width=a.height*o)),this.renderCropBox()),this},getCroppedCanvas:function(e){var t=0<arguments.length&&void 0!==e?e:{};if(!this.ready||!window.HTMLCanvasElement)return null;var a=this.canvasData,o=function(e,t,a,o){var s=t.aspectRatio,r=t.naturalWidth,n=t.naturalHeight,d=t.rotate,c=void 0===d?0:d,l=t.scaleX,p=void 0===l?1:l,m=t.scaleY,u=void 0===m?1:m,g=a.aspectRatio,_=a.naturalWidth,f=a.naturalHeight,h=o.fillColor,b=void 0===h?"transparent":h,v=o.imageSmoothingEnabled,y=void 0===v||v,$=o.imageSmoothingQuality,w=void 0===$?"low":$,S=o.maxWidth,C=void 0===S?1/0:S,L=o.maxHeight,k=void 0===L?1/0:L,z=o.minWidth,I=void 0===z?0:z,x=o.minHeight,P=void 0===x?0:x,M=document.createElement("canvas"),A=M.getContext("2d"),E=Me({aspectRatio:g,width:C,height:k}),O=Me({aspectRatio:g,width:I,height:P},"cover"),D=Math.min(E.width,Math.max(O.width,_)),T=Math.min(E.height,Math.max(O.height,f)),G=Me({aspectRatio:s,width:C,height:k}),N=Me({aspectRatio:s,width:I,height:P},"cover"),F=Math.min(G.width,Math.max(N.width,r)),H=Math.min(G.height,Math.max(N.height,n)),B=[-F/2,-H/2,F,H];return M.width=ce(D),M.height=ce(T),A.fillStyle=b,A.fillRect(0,0,D,T),A.save(),A.translate(D/2,T/2),A.rotate(c*Math.PI/180),A.scale(p,u),A.imageSmoothingEnabled=y,A.imageSmoothingQuality=w,A.drawImage.apply(A,[e].concat(i(B.map((function(e){return Math.floor(ce(e))}))))),A.restore(),M}(this.image,this.imageData,a,t);if(!this.cropped)return o;var s=this.getData(),r=s.x,n=s.y,d=s.width,c=s.height,l=o.width/Math.floor(a.naturalWidth);1!=l&&(r*=l,n*=l,d*=l,c*=l);var p=d/c,m=Me({aspectRatio:p,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),u=Me({aspectRatio:p,width:t.minWidth||0,height:t.minHeight||0},"cover"),g=Me({aspectRatio:p,width:t.width||(1!=l?o.width:d),height:t.height||(1!=l?o.height:c)}),_=g.width,f=g.height;_=Math.min(m.width,Math.max(u.width,_)),f=Math.min(m.height,Math.max(u.height,f));var h=document.createElement("canvas"),b=h.getContext("2d");h.width=ce(_),h.height=ce(f),b.fillStyle=t.fillColor||"transparent",b.fillRect(0,0,_,f);var v=t.imageSmoothingEnabled,y=void 0===v||v,$=t.imageSmoothingQuality;b.imageSmoothingEnabled=y,$&&(b.imageSmoothingQuality=$);var w,S,C,L,k,z,I=o.width,x=o.height,P=r,M=n;P<=-d||I<P?k=C=w=P=0:P<=0?(C=-P,P=0,k=w=Math.min(I,d+P)):P<=I&&(C=0,k=w=Math.min(d,I-P)),w<=0||M<=-c||x<M?z=L=S=M=0:M<=0?(L=-M,M=0,z=S=Math.min(x,c+M)):M<=x&&(L=0,z=S=Math.min(c,x-M));var A=[P,M,w,S];if(0<k&&0<z){var E=_/d;A.push(C*E,L*E,k*E,z*E)}return b.drawImage.apply(b,[o].concat(i(A.map((function(e){return Math.floor(ce(e))}))))),h},setAspectRatio:function(e){var t=this.options;return this.disabled||Z(e)||(t.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var t=this.options,i=this.dragBox,a=this.face;if(this.ready&&!this.disabled){var o=e===x,s=t.movable&&e===P;e=o||s?e:M,t.dragMode=e,be(i,z,e),ge(i,y,o),ge(i,k,s),t.cropBoxMovable||(be(a,z,e),ge(a,y,o),ge(a,k,s))}return this}},He=o.Cropper,Be=function(){function e(t){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t||!W.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=ne({},V,ie(i)&&i),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return function(e,i,a){i&&t(e.prototype,i),a&&t(e,a)}(e,[{key:"init",value:function(){var e,t=this.element,i=t.tagName.toLowerCase();if(!t[n]){if(t[n]=this,"img"===i){if(this.isImg=!0,e=t.getAttribute("src")||"",!(this.originalUrl=e))return;e=t.src}else"canvas"===i&&window.HTMLCanvasElement&&(e=t.toDataURL());this.load(e)}}},{key:"load",value:function(e){var t=this;if(e){this.url=e,this.imageData={};var i=this.element,a=this.options;if(a.rotatable||a.scalable||(a.checkOrientation=!1),a.checkOrientation&&window.ArrayBuffer)if(Y.test(e))J.test(e)?this.read(function(e){var t=e.replace(Ee,""),i=atob(t),a=new ArrayBuffer(i.length),o=new Uint8Array(a);return re(o,(function(e,t){o[t]=i.charCodeAt(t)})),a}(e)):this.clone();else{var o=new XMLHttpRequest,s=this.clone.bind(this);this.reloading=!0,(this.xhr=o).onabort=s,o.onerror=s,o.ontimeout=s,o.onprogress=function(){o.getResponseHeader("content-type")!==R&&o.abort()},o.onload=function(){t.read(o.response)},o.onloadend=function(){t.reloading=!1,t.xhr=null},a.checkCrossOrigin&&ze(e)&&i.crossOrigin&&(e=Ie(e)),o.open("GET",e),o.responseType="arraybuffer",o.withCredentials="use-credentials"===i.crossOrigin,o.send()}else this.clone()}}},{key:"read",value:function(e){var t=this.options,i=this.imageData,a=function(e){var t,i=new DataView(e);try{var a,o,s;if(255===i.getUint8(0)&&216===i.getUint8(1))for(var r=i.byteLength,n=2;n+1<r;){if(255===i.getUint8(n)&&225===i.getUint8(n+1)){o=n;break}n+=1}if(o){var d=o+10;if("Exif"===function(e,t,i){var a="";i+=t;for(var o=t;o<i;o+=1)a+=Ae(e.getUint8(o));return a}(i,o+4,4)){var c=i.getUint16(d);if(((a=18761===c)||19789===c)&&42===i.getUint16(d+2,a)){var l=i.getUint32(d+4,a);8<=l&&(s=d+l)}}}if(s){var p,m,u=i.getUint16(s,a);for(m=0;m<u;m+=1)if(p=s+12*m+2,274===i.getUint16(p,a)){p+=8,t=i.getUint16(p,a),i.setUint16(p,1,a);break}}}catch(e){t=1}return t}(e),o=0,s=1,r=1;if(1<a){this.url=function(e,t){for(var i=[],a=new Uint8Array(e);0<a.length;)i.push(Ae.apply(null,se(a.subarray(0,8192)))),a=a.subarray(8192);return"data:".concat(t,";base64,").concat(btoa(i.join("")))}(e,R);var n=function(e){var t=0,i=1,a=1;switch(e){case 2:i=-1;break;case 3:t=-180;break;case 4:a=-1;break;case 5:t=90,a=-1;break;case 6:t=90;break;case 7:t=90,i=-1;break;case 8:t=-90}return{rotate:t,scaleX:i,scaleY:a}}(a);o=n.rotate,s=n.scaleX,r=n.scaleY}t.rotatable&&(i.rotate=o),t.scalable&&(i.scaleX=s,i.scaleY=r),this.clone()}},{key:"clone",value:function(){var e=this.element,t=this.url,i=e.crossOrigin,a=t;this.options.checkCrossOrigin&&ze(t)&&(i=i||"anonymous",a=Ie(t)),this.crossOrigin=i,this.crossOriginUrl=a;var o=document.createElement("img");i&&(o.crossOrigin=i),o.src=a||t,o.alt=e.alt||"The image to crop",(this.image=o).onload=this.start.bind(this),o.onerror=this.stop.bind(this),me(o,S),e.parentNode.insertBefore(o,e.nextSibling)}},{key:"start",value:function(){var e=this,t=this.image;function i(t,i){ne(e.imageData,{naturalWidth:t,naturalHeight:i,aspectRatio:t/i}),e.sizing=!1,e.sized=!0,e.build()}t.onload=null,t.onerror=null,this.sizing=!0;var a=o.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(o.navigator.userAgent);if(!t.naturalWidth||a){var s=document.createElement("img"),r=document.body||document.documentElement;(this.sizingImage=s).onload=function(){i(s.width,s.height),a||r.removeChild(s)},s.src=t.src,a||(s.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",r.appendChild(s))}else i(t.naturalWidth,t.naturalHeight)}},{key:"stop",value:function(){var e=this.image;e.onload=null,e.onerror=null,e.parentNode.removeChild(e),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var e=this.element,t=this.options,i=this.image,a=e.parentNode,o=document.createElement("div");o.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var s=o.querySelector(".".concat(n,"-container")),r=s.querySelector(".".concat(n,"-canvas")),c=s.querySelector(".".concat(n,"-drag-box")),l=s.querySelector(".".concat(n,"-crop-box")),p=l.querySelector(".".concat(n,"-face"));this.container=a,this.cropper=s,this.canvas=r,this.dragBox=c,this.cropBox=l,this.viewBox=s.querySelector(".".concat(n,"-view-box")),this.face=p,r.appendChild(i),me(e,w),a.insertBefore(s,e.nextSibling),this.isImg||ue(i,S),this.initPreview(),this.bind(),t.initialAspectRatio=Math.max(0,t.initialAspectRatio)||NaN,t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,me(l,w),t.guides||me(l.getElementsByClassName("".concat(n,"-dashed")),w),t.center||me(l.getElementsByClassName("".concat(n,"-center")),w),t.background&&me(s,"".concat(n,"-bg")),t.highlight||me(p,C),t.cropBoxMovable&&(me(p,k),be(p,z,d)),t.cropBoxResizable||(me(l.getElementsByClassName("".concat(n,"-line")),w),me(l.getElementsByClassName("".concat(n,"-point")),w)),this.render(),this.ready=!0,this.setDragMode(t.dragMode),t.autoCrop&&this.crop(),this.setData(t.data),ae(t.ready)&&we(e,H,t.ready,{once:!0}),Se(e,H)}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),ue(this.element,w))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=He,e}},{key:"setDefaults",value:function(e){ne(V,ie(e)&&e)}}]),e}();return ne(Be.prototype,Oe,De,Te,Ge,Ne,Fe),Be}));var ShotCapture={readFile:function(e){return new Promise((t=>{if(e.size>52428800)t("data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=");else{var i=new FileReader;i.onloadend=function(e){t(e.target.result)},i.onerror=function(e){console.error("File could not be read! Code "+e.target.error.code)},i.readAsDataURL(e)}}))},createVideo:e=>new Promise(((t,i)=>{var a=document.createElement("video");a.onloadstart=function(){t(a)},a.src=e})),getThumbnail:function(e,t,i){shotimage=new Image,shotimage.width=t.width,shotimage.height=t.height,shotimage.src=e;var a=document.createElement("canvas");a.width=t.width,a.height=t.height,a.getContext("2d").drawImage(shotimage,0,0,t.width,t.height),i(a.toDataURL("image/jpeg"))},getThumbnails:(e,t)=>new Promise((i=>{var a=document.createElement("canvas"),o=a.getContext("2d");shotimage=new Image,shotimage.src=e,shotimage.onload=()=>{a.setAttribute("width",t.width),a.setAttribute("height",t.height),o.drawImage(shotimage,0,0,t.width,t.height),setTimeout((function(){i(a.toDataURL("image/jpg"))}),100)}})),getShot:(e,t,i)=>new Promise(((a,o)=>{ShotCapture.createVideo(e).then((e=>{ShotCapture.playVideo(e,i,t).then((e=>{a(e)})).catch((e=>console.log(e)))})).catch((e=>console.log(e)))})),calculateVideoLength:e=>new Promise(((t,i)=>{var a=document.createElement("video");a.src=e,a.ondurationchange=function(){t(Math.floor(a.duration))}})),playVideo:(e,t,i)=>new Promise(((a,o)=>{var s,r=Math.floor(t)-1;e.currentTime=r,e.onpause=function(){setTimeout((function(){a(s.toDataURL())}),1e3)},e.addEventListener("timeupdate",(function(){Math.floor(this.currentTime)==r&&(this.pause(),(s=document.createElement("canvas")).width=i.width,s.height=i.height,s.getContext("2d").drawImage(this,0,0,i.width,i.height))}),!1);try{e.play()}catch(e){a("could not play video")}}))},Swiper=function(){"use strict";function e(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function t(i,a){void 0===i&&(i={}),void 0===a&&(a={}),Object.keys(a).forEach((o=>{void 0===i[o]?i[o]=a[o]:e(a[o])&&e(i[o])&&Object.keys(a[o]).length>0&&t(i[o],a[o])}))}const i={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function a(){const e="undefined"!=typeof document?document:{};return t(e,i),e}const o={document:i,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:e=>"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0),cancelAnimationFrame(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function s(){const e="undefined"!=typeof window?window:{};return t(e,o),e}function r(e){return void 0===e&&(e=""),e.trim().split(" ").filter((e=>!!e.trim()))}function n(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function d(){return Date.now()}function c(e,t){void 0===t&&(t="x");const i=s();let a,o,r;const n=function(e){const t=s();let i;return t.getComputedStyle&&(i=t.getComputedStyle(e,null)),!i&&e.currentStyle&&(i=e.currentStyle),i||(i=e.style),i}(e);return i.WebKitCSSMatrix?(o=n.transform||n.webkitTransform,o.split(",").length>6&&(o=o.split(", ").map((e=>e.replace(",","."))).join(", ")),r=new i.WebKitCSSMatrix("none"===o?"":o)):(r=n.MozTransform||n.OTransform||n.MsTransform||n.msTransform||n.transform||n.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),a=r.toString().split(",")),"x"===t&&(o=i.WebKitCSSMatrix?r.m41:16===a.length?parseFloat(a[12]):parseFloat(a[4])),"y"===t&&(o=i.WebKitCSSMatrix?r.m42:16===a.length?parseFloat(a[13]):parseFloat(a[5])),o||0}function l(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function p(){const e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let a=1;a<arguments.length;a+=1){const o=a<0||arguments.length<=a?void 0:arguments[a];if(null!=o&&(i=o,!("undefined"!=typeof window&&void 0!==window.HTMLElement?i instanceof HTMLElement:i&&(1===i.nodeType||11===i.nodeType)))){const i=Object.keys(Object(o)).filter((e=>t.indexOf(e)<0));for(let t=0,a=i.length;t<a;t+=1){const a=i[t],s=Object.getOwnPropertyDescriptor(o,a);void 0!==s&&s.enumerable&&(l(e[a])&&l(o[a])?o[a].__swiper__?e[a]=o[a]:p(e[a],o[a]):!l(e[a])&&l(o[a])?(e[a]={},o[a].__swiper__?e[a]=o[a]:p(e[a],o[a])):e[a]=o[a])}}}var i;return e}function m(e,t,i){e.style.setProperty(t,i)}function u(e){let{swiper:t,targetPosition:i,side:a}=e;const o=s(),r=-t.translate;let n,d=null;const c=t.params.speed;t.wrapperEl.style.scrollSnapType="none",o.cancelAnimationFrame(t.cssModeFrameID);const l=i>r?"next":"prev",p=(e,t)=>"next"===l&&e>=t||"prev"===l&&e<=t,m=()=>{n=(new Date).getTime(),null===d&&(d=n);const e=Math.max(Math.min((n-d)/c,1),0),s=.5-Math.cos(e*Math.PI)/2;let l=r+s*(i-r);if(p(l,i)&&(l=i),t.wrapperEl.scrollTo({[a]:l}),p(l,i))return t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout((()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[a]:l})})),void o.cancelAnimationFrame(t.cssModeFrameID);t.cssModeFrameID=o.requestAnimationFrame(m)};m()}function g(e){return e.querySelector(".swiper-slide-transform")||e.shadowRoot&&e.shadowRoot.querySelector(".swiper-slide-transform")||e}function _(e,t){return void 0===t&&(t=""),[...e.children].filter((e=>e.matches(t)))}function f(e){try{return void console.warn(e)}catch(e){}}function h(e,t){void 0===t&&(t=[]);const i=document.createElement(e);return i.classList.add(...Array.isArray(t)?t:r(t)),i}function b(e){const t=s(),i=a(),o=e.getBoundingClientRect(),r=i.body,n=e.clientTop||r.clientTop||0,d=e.clientLeft||r.clientLeft||0,c=e===t?t.scrollY:e.scrollTop,l=e===t?t.scrollX:e.scrollLeft;return{top:o.top+c-n,left:o.left+l-d}}function v(e,t){return s().getComputedStyle(e,null).getPropertyValue(t)}function y(e){let t,i=e;if(i){for(t=0;null!==(i=i.previousSibling);)1===i.nodeType&&(t+=1);return t}}function $(e,t){const i=[];let a=e.parentElement;for(;a;)t?a.matches(t)&&i.push(a):i.push(a),a=a.parentElement;return i}function w(e,t){t&&e.addEventListener("transitionend",(function i(a){a.target===e&&(t.call(e,a),e.removeEventListener("transitionend",i))}))}function S(e,t,i){const a=s();return i?e["width"===t?"offsetWidth":"offsetHeight"]+parseFloat(a.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-right":"margin-top"))+parseFloat(a.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-left":"margin-bottom")):e.offsetWidth}function C(e){return(Array.isArray(e)?e:[e]).filter((e=>!!e))}let L,k,z;function I(){return L||(L=function(){const e=s(),t=a();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}()),L}function x(e){return void 0===e&&(e={}),k||(k=function(e){let{userAgent:t}=void 0===e?{}:e;const i=I(),a=s(),o=a.navigator.platform,r=t||a.navigator.userAgent,n={ios:!1,android:!1},d=a.screen.width,c=a.screen.height,l=r.match(/(Android);?[\s\/]+([\d.]+)?/);let p=r.match(/(iPad).*OS\s([\d_]+)/);const m=r.match(/(iPod)(.*OS\s([\d_]+))?/),u=!p&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),g="Win32"===o;let _="MacIntel"===o;return!p&&_&&i.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${d}x${c}`)>=0&&(p=r.match(/(Version)\/([\d.]+)/),p||(p=[0,1,"13_0_0"]),_=!1),l&&!g&&(n.os="android",n.android=!0),(p||u||m)&&(n.os="ios",n.ios=!0),n}(e)),k}function P(){return z||(z=function(){const e=s(),t=x();let i=!1;function a(){const t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}if(a()){const t=String(e.navigator.userAgent);if(t.includes("Version/")){const[e,a]=t.split("Version/")[1].split(" ")[0].split(".").map((e=>Number(e)));i=e<16||16===e&&a<2}}const o=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent),r=a();return{isSafari:i||r,needPerspectiveFix:i,need3dFix:r||o&&t.ios,isWebView:o}}()),z}var M={on(e,t,i){const a=this;if(!a.eventsListeners||a.destroyed)return a;if("function"!=typeof t)return a;const o=i?"unshift":"push";return e.split(" ").forEach((e=>{a.eventsListeners[e]||(a.eventsListeners[e]=[]),a.eventsListeners[e][o](t)})),a},once(e,t,i){const a=this;if(!a.eventsListeners||a.destroyed)return a;if("function"!=typeof t)return a;function o(){a.off(e,o),o.__emitterProxy&&delete o.__emitterProxy;for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];t.apply(a,s)}return o.__emitterProxy=t,a.on(e,o,i)},onAny(e,t){const i=this;if(!i.eventsListeners||i.destroyed)return i;if("function"!=typeof e)return i;const a=t?"unshift":"push";return i.eventsAnyListeners.indexOf(e)<0&&i.eventsAnyListeners[a](e),i},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsAnyListeners)return t;const i=t.eventsAnyListeners.indexOf(e);return i>=0&&t.eventsAnyListeners.splice(i,1),t},off(e,t){const i=this;return!i.eventsListeners||i.destroyed?i:i.eventsListeners?(e.split(" ").forEach((e=>{void 0===t?i.eventsListeners[e]=[]:i.eventsListeners[e]&&i.eventsListeners[e].forEach(((a,o)=>{(a===t||a.__emitterProxy&&a.__emitterProxy===t)&&i.eventsListeners[e].splice(o,1)}))})),i):i},emit(){const e=this;if(!e.eventsListeners||e.destroyed)return e;if(!e.eventsListeners)return e;let t,i,a;for(var o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return"string"==typeof s[0]||Array.isArray(s[0])?(t=s[0],i=s.slice(1,s.length),a=e):(t=s[0].events,i=s[0].data,a=s[0].context||e),i.unshift(a),(Array.isArray(t)?t:t.split(" ")).forEach((t=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach((e=>{e.apply(a,[t,...i])})),e.eventsListeners&&e.eventsListeners[t]&&e.eventsListeners[t].forEach((e=>{e.apply(a,i)}))})),e}};const A=(e,t,i)=>{t&&!e.classList.contains(i)?e.classList.add(i):!t&&e.classList.contains(i)&&e.classList.remove(i)},E=(e,t,i)=>{t&&!e.classList.contains(i)?e.classList.add(i):!t&&e.classList.contains(i)&&e.classList.remove(i)},O=(e,t)=>{if(!e||e.destroyed||!e.params)return;const i=t.closest(e.isElement?"swiper-slide":`.${e.params.slideClass}`);if(i){let t=i.querySelector(`.${e.params.lazyPreloaderClass}`);!t&&e.isElement&&(i.shadowRoot?t=i.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`):requestAnimationFrame((()=>{i.shadowRoot&&(t=i.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`),t&&t.remove())}))),t&&t.remove()}},D=(e,t)=>{if(!e.slides[t])return;const i=e.slides[t].querySelector('[loading="lazy"]');i&&i.removeAttribute("loading")},T=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const i=e.slides.length;if(!i||!t||t<0)return;t=Math.min(t,i);const a="auto"===e.params.slidesPerView?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),o=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const i=o,s=[i-t];return s.push(...Array.from({length:t}).map(((e,t)=>i+a+t))),void e.slides.forEach(((t,i)=>{s.includes(t.column)&&D(e,i)}))}const s=o+a-1;if(e.params.rewind||e.params.loop)for(let a=o-t;a<=s+t;a+=1){const t=(a%i+i)%i;(t<o||t>s)&&D(e,t)}else for(let a=Math.max(o-t,0);a<=Math.min(s+t,i-1);a+=1)a!==o&&(a>s||a<o)&&D(e,a)};var G={updateSize:function(){const e=this;let t,i;const a=e.el;t=void 0!==e.params.width&&null!==e.params.width?e.params.width:a.clientWidth,i=void 0!==e.params.height&&null!==e.params.height?e.params.height:a.clientHeight,0===t&&e.isHorizontal()||0===i&&e.isVertical()||(t=t-parseInt(v(a,"padding-left")||0,10)-parseInt(v(a,"padding-right")||0,10),i=i-parseInt(v(a,"padding-top")||0,10)-parseInt(v(a,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(i)&&(i=0),Object.assign(e,{width:t,height:i,size:e.isHorizontal()?t:i}))},updateSlides:function(){const e=this;function t(t,i){return parseFloat(t.getPropertyValue(e.getDirectionLabel(i))||0)}const i=e.params,{wrapperEl:a,slidesEl:o,size:s,rtlTranslate:r,wrongRTL:n}=e,d=e.virtual&&i.virtual.enabled,c=d?e.virtual.slides.length:e.slides.length,l=_(o,`.${e.params.slideClass}, swiper-slide`),p=d?e.virtual.slides.length:l.length;let u=[];const g=[],f=[];let h=i.slidesOffsetBefore;"function"==typeof h&&(h=i.slidesOffsetBefore.call(e));let b=i.slidesOffsetAfter;"function"==typeof b&&(b=i.slidesOffsetAfter.call(e));const y=e.snapGrid.length,$=e.slidesGrid.length;let w=i.spaceBetween,C=-h,L=0,k=0;if(void 0===s)return;"string"==typeof w&&w.indexOf("%")>=0?w=parseFloat(w.replace("%",""))/100*s:"string"==typeof w&&(w=parseFloat(w)),e.virtualSize=-w,l.forEach((e=>{r?e.style.marginLeft="":e.style.marginRight="",e.style.marginBottom="",e.style.marginTop=""})),i.centeredSlides&&i.cssMode&&(m(a,"--swiper-centered-offset-before",""),m(a,"--swiper-centered-offset-after",""));const z=i.grid&&i.grid.rows>1&&e.grid;let I;z?e.grid.initSlides(l):e.grid&&e.grid.unsetSlides();const x="auto"===i.slidesPerView&&i.breakpoints&&Object.keys(i.breakpoints).filter((e=>void 0!==i.breakpoints[e].slidesPerView)).length>0;for(let a=0;a<p;a+=1){let o;if(I=0,l[a]&&(o=l[a]),z&&e.grid.updateSlide(a,o,l),!l[a]||"none"!==v(o,"display")){if("auto"===i.slidesPerView){x&&(l[a].style[e.getDirectionLabel("width")]="");const s=getComputedStyle(o),r=o.style.transform,n=o.style.webkitTransform;if(r&&(o.style.transform="none"),n&&(o.style.webkitTransform="none"),i.roundLengths)I=e.isHorizontal()?S(o,"width",!0):S(o,"height",!0);else{const e=t(s,"width"),i=t(s,"padding-left"),a=t(s,"padding-right"),r=t(s,"margin-left"),n=t(s,"margin-right"),d=s.getPropertyValue("box-sizing");if(d&&"border-box"===d)I=e+r+n;else{const{clientWidth:t,offsetWidth:s}=o;I=e+i+a+r+n+(s-t)}}r&&(o.style.transform=r),n&&(o.style.webkitTransform=n),i.roundLengths&&(I=Math.floor(I))}else I=(s-(i.slidesPerView-1)*w)/i.slidesPerView,i.roundLengths&&(I=Math.floor(I)),l[a]&&(l[a].style[e.getDirectionLabel("width")]=`${I}px`);l[a]&&(l[a].swiperSlideSize=I),f.push(I),i.centeredSlides?(C=C+I/2+L/2+w,0===L&&0!==a&&(C=C-s/2-w),0===a&&(C=C-s/2-w),Math.abs(C)<.001&&(C=0),i.roundLengths&&(C=Math.floor(C)),k%i.slidesPerGroup==0&&u.push(C),g.push(C)):(i.roundLengths&&(C=Math.floor(C)),(k-Math.min(e.params.slidesPerGroupSkip,k))%e.params.slidesPerGroup==0&&u.push(C),g.push(C),C=C+I+w),e.virtualSize+=I+w,L=I,k+=1}}if(e.virtualSize=Math.max(e.virtualSize,s)+b,r&&n&&("slide"===i.effect||"coverflow"===i.effect)&&(a.style.width=`${e.virtualSize+w}px`),i.setWrapperSize&&(a.style[e.getDirectionLabel("width")]=`${e.virtualSize+w}px`),z&&e.grid.updateWrapperSize(I,u),!i.centeredSlides){const t=[];for(let a=0;a<u.length;a+=1){let o=u[a];i.roundLengths&&(o=Math.floor(o)),u[a]<=e.virtualSize-s&&t.push(o)}u=t,Math.floor(e.virtualSize-s)-Math.floor(u[u.length-1])>1&&u.push(e.virtualSize-s)}if(d&&i.loop){const t=f[0]+w;if(i.slidesPerGroup>1){const a=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/i.slidesPerGroup),o=t*i.slidesPerGroup;for(let e=0;e<a;e+=1)u.push(u[u.length-1]+o)}for(let a=0;a<e.virtual.slidesBefore+e.virtual.slidesAfter;a+=1)1===i.slidesPerGroup&&u.push(u[u.length-1]+t),g.push(g[g.length-1]+t),e.virtualSize+=t}if(0===u.length&&(u=[0]),0!==w){const t=e.isHorizontal()&&r?"marginLeft":e.getDirectionLabel("marginRight");l.filter(((e,t)=>!(i.cssMode&&!i.loop)||t!==l.length-1)).forEach((e=>{e.style[t]=`${w}px`}))}if(i.centeredSlides&&i.centeredSlidesBounds){let e=0;f.forEach((t=>{e+=t+(w||0)})),e-=w;const t=e-s;u=u.map((e=>e<=0?-h:e>t?t+b:e))}if(i.centerInsufficientSlides){let e=0;f.forEach((t=>{e+=t+(w||0)})),e-=w;const t=(i.slidesOffsetBefore||0)+(i.slidesOffsetAfter||0);if(e+t<s){const i=(s-e-t)/2;u.forEach(((e,t)=>{u[t]=e-i})),g.forEach(((e,t)=>{g[t]=e+i}))}}if(Object.assign(e,{slides:l,snapGrid:u,slidesGrid:g,slidesSizesGrid:f}),i.centeredSlides&&i.cssMode&&!i.centeredSlidesBounds){m(a,"--swiper-centered-offset-before",-u[0]+"px"),m(a,"--swiper-centered-offset-after",e.size/2-f[f.length-1]/2+"px");const t=-e.snapGrid[0],i=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map((e=>e+t)),e.slidesGrid=e.slidesGrid.map((e=>e+i))}if(p!==c&&e.emit("slidesLengthChange"),u.length!==y&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),g.length!==$&&e.emit("slidesGridLengthChange"),i.watchSlidesProgress&&e.updateSlidesOffset(),e.emit("slidesUpdated"),!(d||i.cssMode||"slide"!==i.effect&&"fade"!==i.effect)){const t=`${i.containerModifierClass}backface-hidden`,a=e.el.classList.contains(t);p<=i.maxBackfaceHiddenSlides?a||e.el.classList.add(t):a&&e.el.classList.remove(t)}},updateAutoHeight:function(e){const t=this,i=[],a=t.virtual&&t.params.virtual.enabled;let o,s=0;"number"==typeof e?t.setTransition(e):!0===e&&t.setTransition(t.params.speed);const r=e=>a?t.slides[t.getSlideIndexByData(e)]:t.slides[e];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach((e=>{i.push(e)}));else for(o=0;o<Math.ceil(t.params.slidesPerView);o+=1){const e=t.activeIndex+o;if(e>t.slides.length&&!a)break;i.push(r(e))}else i.push(r(t.activeIndex));for(o=0;o<i.length;o+=1)if(void 0!==i[o]){const e=i[o].offsetHeight;s=e>s?e:s}(s||0===s)&&(t.wrapperEl.style.height=`${s}px`)},updateSlidesOffset:function(){const e=this,t=e.slides,i=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let a=0;a<t.length;a+=1)t[a].swiperSlideOffset=(e.isHorizontal()?t[a].offsetLeft:t[a].offsetTop)-i-e.cssOverflowAdjustment()},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);const t=this,i=t.params,{slides:a,rtlTranslate:o,snapGrid:s}=t;if(0===a.length)return;void 0===a[0].swiperSlideOffset&&t.updateSlidesOffset();let r=-e;o&&(r=e),t.visibleSlidesIndexes=[],t.visibleSlides=[];let n=i.spaceBetween;"string"==typeof n&&n.indexOf("%")>=0?n=parseFloat(n.replace("%",""))/100*t.size:"string"==typeof n&&(n=parseFloat(n));for(let e=0;e<a.length;e+=1){const d=a[e];let c=d.swiperSlideOffset;i.cssMode&&i.centeredSlides&&(c-=a[0].swiperSlideOffset);const l=(r+(i.centeredSlides?t.minTranslate():0)-c)/(d.swiperSlideSize+n),p=(r-s[0]+(i.centeredSlides?t.minTranslate():0)-c)/(d.swiperSlideSize+n),m=-(r-c),u=m+t.slidesSizesGrid[e],g=m>=0&&m<=t.size-t.slidesSizesGrid[e],_=m>=0&&m<t.size-1||u>1&&u<=t.size||m<=0&&u>=t.size;_&&(t.visibleSlides.push(d),t.visibleSlidesIndexes.push(e)),A(d,_,i.slideVisibleClass),A(d,g,i.slideFullyVisibleClass),d.progress=o?-l:l,d.originalProgress=o?-p:p}},updateProgress:function(e){const t=this;if(void 0===e){const i=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*i||0}const i=t.params,a=t.maxTranslate()-t.minTranslate();let{progress:o,isBeginning:s,isEnd:r,progressLoop:n}=t;const d=s,c=r;if(0===a)o=0,s=!0,r=!0;else{o=(e-t.minTranslate())/a;const i=Math.abs(e-t.minTranslate())<1,n=Math.abs(e-t.maxTranslate())<1;s=i||o<=0,r=n||o>=1,i&&(o=0),n&&(o=1)}if(i.loop){const i=t.getSlideIndexByData(0),a=t.getSlideIndexByData(t.slides.length-1),o=t.slidesGrid[i],s=t.slidesGrid[a],r=t.slidesGrid[t.slidesGrid.length-1],d=Math.abs(e);n=d>=o?(d-o)/r:(d+r-s)/r,n>1&&(n-=1)}Object.assign(t,{progress:o,progressLoop:n,isBeginning:s,isEnd:r}),(i.watchSlidesProgress||i.centeredSlides&&i.autoHeight)&&t.updateSlidesProgress(e),s&&!d&&t.emit("reachBeginning toEdge"),r&&!c&&t.emit("reachEnd toEdge"),(d&&!s||c&&!r)&&t.emit("fromEdge"),t.emit("progress",o)},updateSlidesClasses:function(){const e=this,{slides:t,params:i,slidesEl:a,activeIndex:o}=e,s=e.virtual&&i.virtual.enabled,r=e.grid&&i.grid&&i.grid.rows>1,n=e=>_(a,`.${i.slideClass}${e}, swiper-slide${e}`)[0];let d,c,l;if(s)if(i.loop){let t=o-e.virtual.slidesBefore;t<0&&(t=e.virtual.slides.length+t),t>=e.virtual.slides.length&&(t-=e.virtual.slides.length),d=n(`[data-swiper-slide-index="${t}"]`)}else d=n(`[data-swiper-slide-index="${o}"]`);else r?(d=t.filter((e=>e.column===o))[0],l=t.filter((e=>e.column===o+1))[0],c=t.filter((e=>e.column===o-1))[0]):d=t[o];d&&(r||(l=function(e,t){const i=[];for(;e.nextElementSibling;){const a=e.nextElementSibling;t?a.matches(t)&&i.push(a):i.push(a),e=a}return i}(d,`.${i.slideClass}, swiper-slide`)[0],i.loop&&!l&&(l=t[0]),c=function(e,t){const i=[];for(;e.previousElementSibling;){const a=e.previousElementSibling;t?a.matches(t)&&i.push(a):i.push(a),e=a}return i}(d,`.${i.slideClass}, swiper-slide`)[0],i.loop&&0===!c&&(c=t[t.length-1]))),t.forEach((e=>{E(e,e===d,i.slideActiveClass),E(e,e===l,i.slideNextClass),E(e,e===c,i.slidePrevClass)})),e.emitSlidesClasses()},updateActiveIndex:function(e){const t=this,i=t.rtlTranslate?t.translate:-t.translate,{snapGrid:a,params:o,activeIndex:s,realIndex:r,snapIndex:n}=t;let d,c=e;const l=e=>{let i=e-t.virtual.slidesBefore;return i<0&&(i=t.virtual.slides.length+i),i>=t.virtual.slides.length&&(i-=t.virtual.slides.length),i};if(void 0===c&&(c=function(e){const{slidesGrid:t,params:i}=e,a=e.rtlTranslate?e.translate:-e.translate;let o;for(let e=0;e<t.length;e+=1)void 0!==t[e+1]?a>=t[e]&&a<t[e+1]-(t[e+1]-t[e])/2?o=e:a>=t[e]&&a<t[e+1]&&(o=e+1):a>=t[e]&&(o=e);return i.normalizeSlideIndex&&(o<0||void 0===o)&&(o=0),o}(t)),a.indexOf(i)>=0)d=a.indexOf(i);else{const e=Math.min(o.slidesPerGroupSkip,c);d=e+Math.floor((c-e)/o.slidesPerGroup)}if(d>=a.length&&(d=a.length-1),c===s&&!t.params.loop)return void(d!==n&&(t.snapIndex=d,t.emit("snapIndexChange")));if(c===s&&t.params.loop&&t.virtual&&t.params.virtual.enabled)return void(t.realIndex=l(c));const p=t.grid&&o.grid&&o.grid.rows>1;let m;if(t.virtual&&o.virtual.enabled&&o.loop)m=l(c);else if(p){const e=t.slides.filter((e=>e.column===c))[0];let i=parseInt(e.getAttribute("data-swiper-slide-index"),10);Number.isNaN(i)&&(i=Math.max(t.slides.indexOf(e),0)),m=Math.floor(i/o.grid.rows)}else if(t.slides[c]){const e=t.slides[c].getAttribute("data-swiper-slide-index");m=e?parseInt(e,10):c}else m=c;Object.assign(t,{previousSnapIndex:n,snapIndex:d,previousRealIndex:r,realIndex:m,previousIndex:s,activeIndex:c}),t.initialized&&T(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(r!==m&&t.emit("realIndexChange"),t.emit("slideChange"))},updateClickedSlide:function(e,t){const i=this,a=i.params;let o=e.closest(`.${a.slideClass}, swiper-slide`);!o&&i.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach((e=>{!o&&e.matches&&e.matches(`.${a.slideClass}, swiper-slide`)&&(o=e)}));let s,r=!1;if(o)for(let e=0;e<i.slides.length;e+=1)if(i.slides[e]===o){r=!0,s=e;break}if(!o||!r)return i.clickedSlide=void 0,void(i.clickedIndex=void 0);i.clickedSlide=o,i.virtual&&i.params.virtual.enabled?i.clickedIndex=parseInt(o.getAttribute("data-swiper-slide-index"),10):i.clickedIndex=s,a.slideToClickedSlide&&void 0!==i.clickedIndex&&i.clickedIndex!==i.activeIndex&&i.slideToClickedSlide()}},N={getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");const{params:t,rtlTranslate:i,translate:a,wrapperEl:o}=this;if(t.virtualTranslate)return i?-a:a;if(t.cssMode)return a;let s=c(o,e);return s+=this.cssOverflowAdjustment(),i&&(s=-s),s||0},setTranslate:function(e,t){const i=this,{rtlTranslate:a,params:o,wrapperEl:s,progress:r}=i;let n,d=0,c=0;i.isHorizontal()?d=a?-e:e:c=e,o.roundLengths&&(d=Math.floor(d),c=Math.floor(c)),i.previousTranslate=i.translate,i.translate=i.isHorizontal()?d:c,o.cssMode?s[i.isHorizontal()?"scrollLeft":"scrollTop"]=i.isHorizontal()?-d:-c:o.virtualTranslate||(i.isHorizontal()?d-=i.cssOverflowAdjustment():c-=i.cssOverflowAdjustment(),s.style.transform=`translate3d(${d}px, ${c}px, 0px)`);const l=i.maxTranslate()-i.minTranslate();n=0===l?0:(e-i.minTranslate())/l,n!==r&&i.updateProgress(e),i.emit("setTranslate",i.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,i,a,o){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===i&&(i=!0),void 0===a&&(a=!0);const s=this,{params:r,wrapperEl:n}=s;if(s.animating&&r.preventInteractionOnTransition)return!1;const d=s.minTranslate(),c=s.maxTranslate();let l;if(l=a&&e>d?d:a&&e<c?c:e,s.updateProgress(l),r.cssMode){const e=s.isHorizontal();if(0===t)n[e?"scrollLeft":"scrollTop"]=-l;else{if(!s.support.smoothScroll)return u({swiper:s,targetPosition:-l,side:e?"left":"top"}),!0;n.scrollTo({[e?"left":"top"]:-l,behavior:"smooth"})}return!0}return 0===t?(s.setTransition(0),s.setTranslate(l),i&&(s.emit("beforeTransitionStart",t,o),s.emit("transitionEnd"))):(s.setTransition(t),s.setTranslate(l),i&&(s.emit("beforeTransitionStart",t,o),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(e){s&&!s.destroyed&&e.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,i&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}};function F(e){let{swiper:t,runCallbacks:i,direction:a,step:o}=e;const{activeIndex:s,previousIndex:r}=t;let n=a;if(n||(n=s>r?"next":s<r?"prev":"reset"),t.emit(`transition${o}`),i&&s!==r){if("reset"===n)return void t.emit(`slideResetTransition${o}`);t.emit(`slideChangeTransition${o}`),"next"===n?t.emit(`slideNextTransition${o}`):t.emit(`slidePrevTransition${o}`)}}var H={slideTo:function(e,t,i,a,o){void 0===e&&(e=0),void 0===i&&(i=!0),"string"==typeof e&&(e=parseInt(e,10));const s=this;let r=e;r<0&&(r=0);const{params:n,snapGrid:d,slidesGrid:c,previousIndex:l,activeIndex:p,rtlTranslate:m,wrapperEl:g,enabled:_}=s;if(!_&&!a&&!o||s.destroyed||s.animating&&n.preventInteractionOnTransition)return!1;void 0===t&&(t=s.params.speed);const f=Math.min(s.params.slidesPerGroupSkip,r);let h=f+Math.floor((r-f)/s.params.slidesPerGroup);h>=d.length&&(h=d.length-1);const b=-d[h];if(n.normalizeSlideIndex)for(let e=0;e<c.length;e+=1){const t=-Math.floor(100*b),i=Math.floor(100*c[e]),a=Math.floor(100*c[e+1]);void 0!==c[e+1]?t>=i&&t<a-(a-i)/2?r=e:t>=i&&t<a&&(r=e+1):t>=i&&(r=e)}if(s.initialized&&r!==p){if(!s.allowSlideNext&&(m?b>s.translate&&b>s.minTranslate():b<s.translate&&b<s.minTranslate()))return!1;if(!s.allowSlidePrev&&b>s.translate&&b>s.maxTranslate()&&(p||0)!==r)return!1}let v;if(r!==(l||0)&&i&&s.emit("beforeSlideChangeStart"),s.updateProgress(b),v=r>p?"next":r<p?"prev":"reset",m&&-b===s.translate||!m&&b===s.translate)return s.updateActiveIndex(r),n.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),"slide"!==n.effect&&s.setTranslate(b),"reset"!==v&&(s.transitionStart(i,v),s.transitionEnd(i,v)),!1;if(n.cssMode){const e=s.isHorizontal(),i=m?b:-b;if(0===t){const t=s.virtual&&s.params.virtual.enabled;t&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),t&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame((()=>{g[e?"scrollLeft":"scrollTop"]=i}))):g[e?"scrollLeft":"scrollTop"]=i,t&&requestAnimationFrame((()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1}))}else{if(!s.support.smoothScroll)return u({swiper:s,targetPosition:i,side:e?"left":"top"}),!0;g.scrollTo({[e?"left":"top"]:i,behavior:"smooth"})}return!0}return s.setTransition(t),s.setTranslate(b),s.updateActiveIndex(r),s.updateSlidesClasses(),s.emit("beforeTransitionStart",t,a),s.transitionStart(i,v),0===t?s.transitionEnd(i,v):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(e){s&&!s.destroyed&&e.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(i,v))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e,t,i,a){void 0===e&&(e=0),void 0===i&&(i=!0),"string"==typeof e&&(e=parseInt(e,10));const o=this;if(o.destroyed)return;void 0===t&&(t=o.params.speed);const s=o.grid&&o.params.grid&&o.params.grid.rows>1;let r=e;if(o.params.loop)if(o.virtual&&o.params.virtual.enabled)r+=o.virtual.slidesBefore;else{let e;if(s){const t=r*o.params.grid.rows;e=o.slides.filter((e=>1*e.getAttribute("data-swiper-slide-index")===t))[0].column}else e=o.getSlideIndexByData(r);const t=s?Math.ceil(o.slides.length/o.params.grid.rows):o.slides.length,{centeredSlides:i}=o.params;let n=o.params.slidesPerView;"auto"===n?n=o.slidesPerViewDynamic():(n=Math.ceil(parseFloat(o.params.slidesPerView,10)),i&&n%2==0&&(n+=1));let d=t-e<n;if(i&&(d=d||e<Math.ceil(n/2)),a&&i&&"auto"!==o.params.slidesPerView&&!s&&(d=!1),d){const a=i?e<o.activeIndex?"prev":"next":e-o.activeIndex-1<o.params.slidesPerView?"next":"prev";o.loopFix({direction:a,slideTo:!0,activeSlideIndex:"next"===a?e+1:e-t+1,slideRealIndex:"next"===a?o.realIndex:void 0})}if(s){const e=r*o.params.grid.rows;r=o.slides.filter((t=>1*t.getAttribute("data-swiper-slide-index")===e))[0].column}else r=o.getSlideIndexByData(r)}return requestAnimationFrame((()=>{o.slideTo(r,t,i,a)})),o},slideNext:function(e,t,i){void 0===t&&(t=!0);const a=this,{enabled:o,params:s,animating:r}=a;if(!o||a.destroyed)return a;void 0===e&&(e=a.params.speed);let n=s.slidesPerGroup;"auto"===s.slidesPerView&&1===s.slidesPerGroup&&s.slidesPerGroupAuto&&(n=Math.max(a.slidesPerViewDynamic("current",!0),1));const d=a.activeIndex<s.slidesPerGroupSkip?1:n,c=a.virtual&&s.virtual.enabled;if(s.loop){if(r&&!c&&s.loopPreventsSliding)return!1;if(a.loopFix({direction:"next"}),a._clientLeft=a.wrapperEl.clientLeft,a.activeIndex===a.slides.length-1&&s.cssMode)return requestAnimationFrame((()=>{a.slideTo(a.activeIndex+d,e,t,i)})),!0}return s.rewind&&a.isEnd?a.slideTo(0,e,t,i):a.slideTo(a.activeIndex+d,e,t,i)},slidePrev:function(e,t,i){void 0===t&&(t=!0);const a=this,{params:o,snapGrid:s,slidesGrid:r,rtlTranslate:n,enabled:d,animating:c}=a;if(!d||a.destroyed)return a;void 0===e&&(e=a.params.speed);const l=a.virtual&&o.virtual.enabled;if(o.loop){if(c&&!l&&o.loopPreventsSliding)return!1;a.loopFix({direction:"prev"}),a._clientLeft=a.wrapperEl.clientLeft}function p(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}const m=p(n?a.translate:-a.translate),u=s.map((e=>p(e)));let g=s[u.indexOf(m)-1];if(void 0===g&&o.cssMode){let e;s.forEach(((t,i)=>{m>=t&&(e=i)})),void 0!==e&&(g=s[e>0?e-1:e])}let _=0;if(void 0!==g&&(_=r.indexOf(g),_<0&&(_=a.activeIndex-1),"auto"===o.slidesPerView&&1===o.slidesPerGroup&&o.slidesPerGroupAuto&&(_=_-a.slidesPerViewDynamic("previous",!0)+1,_=Math.max(_,0))),o.rewind&&a.isBeginning){const o=a.params.virtual&&a.params.virtual.enabled&&a.virtual?a.virtual.slides.length-1:a.slides.length-1;return a.slideTo(o,e,t,i)}return o.loop&&0===a.activeIndex&&o.cssMode?(requestAnimationFrame((()=>{a.slideTo(_,e,t,i)})),!0):a.slideTo(_,e,t,i)},slideReset:function(e,t,i){void 0===t&&(t=!0);const a=this;if(!a.destroyed)return void 0===e&&(e=a.params.speed),a.slideTo(a.activeIndex,e,t,i)},slideToClosest:function(e,t,i,a){void 0===t&&(t=!0),void 0===a&&(a=.5);const o=this;if(o.destroyed)return;void 0===e&&(e=o.params.speed);let s=o.activeIndex;const r=Math.min(o.params.slidesPerGroupSkip,s),n=r+Math.floor((s-r)/o.params.slidesPerGroup),d=o.rtlTranslate?o.translate:-o.translate;if(d>=o.snapGrid[n]){const e=o.snapGrid[n];d-e>(o.snapGrid[n+1]-e)*a&&(s+=o.params.slidesPerGroup)}else{const e=o.snapGrid[n-1];d-e<=(o.snapGrid[n]-e)*a&&(s-=o.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,o.slidesGrid.length-1),o.slideTo(s,e,t,i)},slideToClickedSlide:function(){const e=this;if(e.destroyed)return;const{params:t,slidesEl:i}=e,a="auto"===t.slidesPerView?e.slidesPerViewDynamic():t.slidesPerView;let o,s=e.clickedIndex;const r=e.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(e.animating)return;o=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?s<e.loopedSlides-a/2||s>e.slides.length-e.loopedSlides+a/2?(e.loopFix(),s=e.getSlideIndex(_(i,`${r}[data-swiper-slide-index="${o}"]`)[0]),n((()=>{e.slideTo(s)}))):e.slideTo(s):s>e.slides.length-a?(e.loopFix(),s=e.getSlideIndex(_(i,`${r}[data-swiper-slide-index="${o}"]`)[0]),n((()=>{e.slideTo(s)}))):e.slideTo(s)}else e.slideTo(s)}},B={loopCreate:function(e){const t=this,{params:i,slidesEl:a}=t;if(!i.loop||t.virtual&&t.params.virtual.enabled)return;const o=()=>{_(a,`.${i.slideClass}, swiper-slide`).forEach(((e,t)=>{e.setAttribute("data-swiper-slide-index",t)}))},s=t.grid&&i.grid&&i.grid.rows>1,r=i.slidesPerGroup*(s?i.grid.rows:1),n=t.slides.length%r!=0,d=s&&t.slides.length%i.grid.rows!=0,c=e=>{for(let a=0;a<e;a+=1){const e=t.isElement?h("swiper-slide",[i.slideBlankClass]):h("div",[i.slideClass,i.slideBlankClass]);t.slidesEl.append(e)}};n?(i.loopAddBlankSlides?(c(r-t.slides.length%r),t.recalcSlides(),t.updateSlides()):f("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)"),o()):d?(i.loopAddBlankSlides?(c(i.grid.rows-t.slides.length%i.grid.rows),t.recalcSlides(),t.updateSlides()):f("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)"),o()):o(),t.loopFix({slideRealIndex:e,direction:i.centeredSlides?void 0:"next"})},loopFix:function(e){let{slideRealIndex:t,slideTo:i=!0,direction:a,setTranslate:o,activeSlideIndex:s,byController:r,byMousewheel:n}=void 0===e?{}:e;const d=this;if(!d.params.loop)return;d.emit("beforeLoopFix");const{slides:c,allowSlidePrev:l,allowSlideNext:p,slidesEl:m,params:u}=d,{centeredSlides:g}=u;if(d.allowSlidePrev=!0,d.allowSlideNext=!0,d.virtual&&u.virtual.enabled)return i&&(u.centeredSlides||0!==d.snapIndex?u.centeredSlides&&d.snapIndex<u.slidesPerView?d.slideTo(d.virtual.slides.length+d.snapIndex,0,!1,!0):d.snapIndex===d.snapGrid.length-1&&d.slideTo(d.virtual.slidesBefore,0,!1,!0):d.slideTo(d.virtual.slides.length,0,!1,!0)),d.allowSlidePrev=l,d.allowSlideNext=p,void d.emit("loopFix");let _=u.slidesPerView;"auto"===_?_=d.slidesPerViewDynamic():(_=Math.ceil(parseFloat(u.slidesPerView,10)),g&&_%2==0&&(_+=1));const h=u.slidesPerGroupAuto?_:u.slidesPerGroup;let b=h;b%h!=0&&(b+=h-b%h),b+=u.loopAdditionalSlides,d.loopedSlides=b;const v=d.grid&&u.grid&&u.grid.rows>1;c.length<_+b?f("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):v&&"row"===u.grid.fill&&f("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const y=[],$=[];let w=d.activeIndex;void 0===s?s=d.getSlideIndex(c.filter((e=>e.classList.contains(u.slideActiveClass)))[0]):w=s;const S="next"===a||!a,C="prev"===a||!a;let L=0,k=0;const z=v?Math.ceil(c.length/u.grid.rows):c.length,I=(v?c[s].column:s)+(g&&void 0===o?-_/2+.5:0);if(I<b){L=Math.max(b-I,h);for(let e=0;e<b-I;e+=1){const t=e-Math.floor(e/z)*z;if(v){const e=z-t-1;for(let t=c.length-1;t>=0;t-=1)c[t].column===e&&y.push(t)}else y.push(z-t-1)}}else if(I+_>z-b){k=Math.max(I-(z-2*b),h);for(let e=0;e<k;e+=1){const t=e-Math.floor(e/z)*z;v?c.forEach(((e,i)=>{e.column===t&&$.push(i)})):$.push(t)}}if(d.__preventObserver__=!0,requestAnimationFrame((()=>{d.__preventObserver__=!1})),C&&y.forEach((e=>{c[e].swiperLoopMoveDOM=!0,m.prepend(c[e]),c[e].swiperLoopMoveDOM=!1})),S&&$.forEach((e=>{c[e].swiperLoopMoveDOM=!0,m.append(c[e]),c[e].swiperLoopMoveDOM=!1})),d.recalcSlides(),"auto"===u.slidesPerView?d.updateSlides():v&&(y.length>0&&C||$.length>0&&S)&&d.slides.forEach(((e,t)=>{d.grid.updateSlide(t,e,d.slides)})),u.watchSlidesProgress&&d.updateSlidesOffset(),i)if(y.length>0&&C){if(void 0===t){const e=d.slidesGrid[w],t=d.slidesGrid[w+L]-e;n?d.setTranslate(d.translate-t):(d.slideTo(w+Math.ceil(L),0,!1,!0),o&&(d.touchEventsData.startTranslate=d.touchEventsData.startTranslate-t,d.touchEventsData.currentTranslate=d.touchEventsData.currentTranslate-t))}else if(o){const e=v?y.length/u.grid.rows:y.length;d.slideTo(d.activeIndex+e,0,!1,!0),d.touchEventsData.currentTranslate=d.translate}}else if($.length>0&&S)if(void 0===t){const e=d.slidesGrid[w],t=d.slidesGrid[w-k]-e;n?d.setTranslate(d.translate-t):(d.slideTo(w-k,0,!1,!0),o&&(d.touchEventsData.startTranslate=d.touchEventsData.startTranslate-t,d.touchEventsData.currentTranslate=d.touchEventsData.currentTranslate-t))}else{const e=v?$.length/u.grid.rows:$.length;d.slideTo(d.activeIndex-e,0,!1,!0)}if(d.allowSlidePrev=l,d.allowSlideNext=p,d.controller&&d.controller.control&&!r){const e={slideRealIndex:t,direction:a,setTranslate:o,activeSlideIndex:s,byController:!0};Array.isArray(d.controller.control)?d.controller.control.forEach((t=>{!t.destroyed&&t.params.loop&&t.loopFix({...e,slideTo:t.params.slidesPerView===u.slidesPerView&&i})})):d.controller.control instanceof d.constructor&&d.controller.control.params.loop&&d.controller.control.loopFix({...e,slideTo:d.controller.control.params.slidesPerView===u.slidesPerView&&i})}d.emit("loopFix")},loopDestroy:function(){const e=this,{params:t,slidesEl:i}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const a=[];e.slides.forEach((e=>{const t=void 0===e.swiperSlideIndex?1*e.getAttribute("data-swiper-slide-index"):e.swiperSlideIndex;a[t]=e})),e.slides.forEach((e=>{e.removeAttribute("data-swiper-slide-index")})),a.forEach((e=>{i.append(e)})),e.recalcSlides(),e.slideTo(e.realIndex,0)}};function j(e,t,i){const a=s(),{params:o}=e,r=o.edgeSwipeDetection,n=o.edgeSwipeThreshold;return!r||!(i<=n||i>=a.innerWidth-n)||"prevent"===r&&(t.preventDefault(),!0)}function U(e){const t=this,i=a();let o=e;o.originalEvent&&(o=o.originalEvent);const r=t.touchEventsData;if("pointerdown"===o.type){if(null!==r.pointerId&&r.pointerId!==o.pointerId)return;r.pointerId=o.pointerId}else"touchstart"===o.type&&1===o.targetTouches.length&&(r.touchId=o.targetTouches[0].identifier);if("touchstart"===o.type)return void j(t,o,o.targetTouches[0].pageX);const{params:n,touches:c,enabled:l}=t;if(!l)return;if(!n.simulateTouch&&"mouse"===o.pointerType)return;if(t.animating&&n.preventInteractionOnTransition)return;!t.animating&&n.cssMode&&n.loop&&t.loopFix();let p=o.target;if("wrapper"===n.touchEventsTarget&&!t.wrapperEl.contains(p))return;if("which"in o&&3===o.which)return;if("button"in o&&o.button>0)return;if(r.isTouched&&r.isMoved)return;const m=!!n.noSwipingClass&&""!==n.noSwipingClass,u=o.composedPath?o.composedPath():o.path;m&&o.target&&o.target.shadowRoot&&u&&(p=u[0]);const g=n.noSwipingSelector?n.noSwipingSelector:`.${n.noSwipingClass}`,_=!(!o.target||!o.target.shadowRoot);if(n.noSwiping&&(_?function(e,t){return void 0===t&&(t=this),function t(i){if(!i||i===a()||i===s())return null;i.assignedSlot&&(i=i.assignedSlot);const o=i.closest(e);return o||i.getRootNode?o||t(i.getRootNode().host):null}(t)}(g,p):p.closest(g)))return void(t.allowClick=!0);if(n.swipeHandler&&!p.closest(n.swipeHandler))return;c.currentX=o.pageX,c.currentY=o.pageY;const f=c.currentX,h=c.currentY;if(!j(t,o,f))return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),c.startX=f,c.startY=h,r.touchStartTime=d(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,n.threshold>0&&(r.allowThresholdMove=!1);let b=!0;p.matches(r.focusableElements)&&(b=!1,"SELECT"===p.nodeName&&(r.isTouched=!1)),i.activeElement&&i.activeElement.matches(r.focusableElements)&&i.activeElement!==p&&i.activeElement.blur();const v=b&&t.allowTouchMove&&n.touchStartPreventDefault;!n.touchStartForcePreventDefault&&!v||p.isContentEditable||o.preventDefault(),n.freeMode&&n.freeMode.enabled&&t.freeMode&&t.animating&&!n.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",o)}function R(e){const t=a(),i=this,o=i.touchEventsData,{params:s,touches:r,rtlTranslate:n,enabled:c}=i;if(!c)return;if(!s.simulateTouch&&"mouse"===e.pointerType)return;let l,p=e;if(p.originalEvent&&(p=p.originalEvent),"pointermove"===p.type){if(null!==o.touchId)return;if(p.pointerId!==o.pointerId)return}if("touchmove"===p.type){if(l=[...p.changedTouches].filter((e=>e.identifier===o.touchId))[0],!l||l.identifier!==o.touchId)return}else l=p;if(!o.isTouched)return void(o.startMoving&&o.isScrolling&&i.emit("touchMoveOpposite",p));const m=l.pageX,u=l.pageY;if(p.preventedByNestedSwiper)return r.startX=m,void(r.startY=u);if(!i.allowTouchMove)return p.target.matches(o.focusableElements)||(i.allowClick=!1),void(o.isTouched&&(Object.assign(r,{startX:m,startY:u,currentX:m,currentY:u}),o.touchStartTime=d()));if(s.touchReleaseOnEdges&&!s.loop)if(i.isVertical()){if(u<r.startY&&i.translate<=i.maxTranslate()||u>r.startY&&i.translate>=i.minTranslate())return o.isTouched=!1,void(o.isMoved=!1)}else if(m<r.startX&&i.translate<=i.maxTranslate()||m>r.startX&&i.translate>=i.minTranslate())return;if(t.activeElement&&p.target===t.activeElement&&p.target.matches(o.focusableElements))return o.isMoved=!0,void(i.allowClick=!1);o.allowTouchCallbacks&&i.emit("touchMove",p),r.previousX=r.currentX,r.previousY=r.currentY,r.currentX=m,r.currentY=u;const g=r.currentX-r.startX,_=r.currentY-r.startY;if(i.params.threshold&&Math.sqrt(g**2+_**2)<i.params.threshold)return;if(void 0===o.isScrolling){let e;i.isHorizontal()&&r.currentY===r.startY||i.isVertical()&&r.currentX===r.startX?o.isScrolling=!1:g*g+_*_>=25&&(e=180*Math.atan2(Math.abs(_),Math.abs(g))/Math.PI,o.isScrolling=i.isHorizontal()?e>s.touchAngle:90-e>s.touchAngle)}if(o.isScrolling&&i.emit("touchMoveOpposite",p),void 0===o.startMoving&&(r.currentX===r.startX&&r.currentY===r.startY||(o.startMoving=!0)),o.isScrolling||"touchmove"===p.type&&o.preventTouchMoveFromPointerMove)return void(o.isTouched=!1);if(!o.startMoving)return;i.allowClick=!1,!s.cssMode&&p.cancelable&&p.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&p.stopPropagation();let f=i.isHorizontal()?g:_,h=i.isHorizontal()?r.currentX-r.previousX:r.currentY-r.previousY;s.oneWayMovement&&(f=Math.abs(f)*(n?1:-1),h=Math.abs(h)*(n?1:-1)),r.diff=f,f*=s.touchRatio,n&&(f=-f,h=-h);const b=i.touchesDirection;i.swipeDirection=f>0?"prev":"next",i.touchesDirection=h>0?"prev":"next";const v=i.params.loop&&!s.cssMode,y="next"===i.touchesDirection&&i.allowSlideNext||"prev"===i.touchesDirection&&i.allowSlidePrev;if(!o.isMoved){if(v&&y&&i.loopFix({direction:i.swipeDirection}),o.startTranslate=i.getTranslate(),i.setTransition(0),i.animating){const e=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});i.wrapperEl.dispatchEvent(e)}o.allowMomentumBounce=!1,!s.grabCursor||!0!==i.allowSlideNext&&!0!==i.allowSlidePrev||i.setGrabCursor(!0),i.emit("sliderFirstMove",p)}if((new Date).getTime(),o.isMoved&&o.allowThresholdMove&&b!==i.touchesDirection&&v&&y&&Math.abs(f)>=1)return Object.assign(r,{startX:m,startY:u,currentX:m,currentY:u,startTranslate:o.currentTranslate}),o.loopSwapReset=!0,void(o.startTranslate=o.currentTranslate);i.emit("sliderMove",p),o.isMoved=!0,o.currentTranslate=f+o.startTranslate;let $=!0,w=s.resistanceRatio;if(s.touchReleaseOnEdges&&(w=0),f>0?(v&&y&&o.allowThresholdMove&&o.currentTranslate>(s.centeredSlides?i.minTranslate()-i.slidesSizesGrid[i.activeIndex+1]:i.minTranslate())&&i.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),o.currentTranslate>i.minTranslate()&&($=!1,s.resistance&&(o.currentTranslate=i.minTranslate()-1+(-i.minTranslate()+o.startTranslate+f)**w))):f<0&&(v&&y&&o.allowThresholdMove&&o.currentTranslate<(s.centeredSlides?i.maxTranslate()+i.slidesSizesGrid[i.slidesSizesGrid.length-1]:i.maxTranslate())&&i.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:i.slides.length-("auto"===s.slidesPerView?i.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),o.currentTranslate<i.maxTranslate()&&($=!1,s.resistance&&(o.currentTranslate=i.maxTranslate()+1-(i.maxTranslate()-o.startTranslate-f)**w))),$&&(p.preventedByNestedSwiper=!0),!i.allowSlideNext&&"next"===i.swipeDirection&&o.currentTranslate<o.startTranslate&&(o.currentTranslate=o.startTranslate),!i.allowSlidePrev&&"prev"===i.swipeDirection&&o.currentTranslate>o.startTranslate&&(o.currentTranslate=o.startTranslate),i.allowSlidePrev||i.allowSlideNext||(o.currentTranslate=o.startTranslate),s.threshold>0){if(!(Math.abs(f)>s.threshold||o.allowThresholdMove))return void(o.currentTranslate=o.startTranslate);if(!o.allowThresholdMove)return o.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,o.currentTranslate=o.startTranslate,void(r.diff=i.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY)}s.followFinger&&!s.cssMode&&((s.freeMode&&s.freeMode.enabled&&i.freeMode||s.watchSlidesProgress)&&(i.updateActiveIndex(),i.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&i.freeMode&&i.freeMode.onTouchMove(),i.updateProgress(o.currentTranslate),i.setTranslate(o.currentTranslate))}function q(e){const t=this,i=t.touchEventsData;let a,o=e;if(o.originalEvent&&(o=o.originalEvent),"touchend"===o.type||"touchcancel"===o.type){if(a=[...o.changedTouches].filter((e=>e.identifier===i.touchId))[0],!a||a.identifier!==i.touchId)return}else{if(null!==i.touchId)return;if(o.pointerId!==i.pointerId)return;a=o}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(o.type)&&(!["pointercancel","contextmenu"].includes(o.type)||!t.browser.isSafari&&!t.browser.isWebView))return;i.pointerId=null,i.touchId=null;const{params:s,touches:r,rtlTranslate:c,slidesGrid:l,enabled:p}=t;if(!p)return;if(!s.simulateTouch&&"mouse"===o.pointerType)return;if(i.allowTouchCallbacks&&t.emit("touchEnd",o),i.allowTouchCallbacks=!1,!i.isTouched)return i.isMoved&&s.grabCursor&&t.setGrabCursor(!1),i.isMoved=!1,void(i.startMoving=!1);s.grabCursor&&i.isMoved&&i.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const m=d(),u=m-i.touchStartTime;if(t.allowClick){const e=o.path||o.composedPath&&o.composedPath();t.updateClickedSlide(e&&e[0]||o.target,e),t.emit("tap click",o),u<300&&m-i.lastClickTime<300&&t.emit("doubleTap doubleClick",o)}if(i.lastClickTime=d(),n((()=>{t.destroyed||(t.allowClick=!0)})),!i.isTouched||!i.isMoved||!t.swipeDirection||0===r.diff&&!i.loopSwapReset||i.currentTranslate===i.startTranslate&&!i.loopSwapReset)return i.isTouched=!1,i.isMoved=!1,void(i.startMoving=!1);let g;if(i.isTouched=!1,i.isMoved=!1,i.startMoving=!1,g=s.followFinger?c?t.translate:-t.translate:-i.currentTranslate,s.cssMode)return;if(s.freeMode&&s.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:g});const _=g>=-t.maxTranslate()&&!t.params.loop;let f=0,h=t.slidesSizesGrid[0];for(let e=0;e<l.length;e+=e<s.slidesPerGroupSkip?1:s.slidesPerGroup){const t=e<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;void 0!==l[e+t]?(_||g>=l[e]&&g<l[e+t])&&(f=e,h=l[e+t]-l[e]):(_||g>=l[e])&&(f=e,h=l[l.length-1]-l[l.length-2])}let b=null,v=null;s.rewind&&(t.isBeginning?v=s.virtual&&s.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(b=0));const y=(g-l[f])/h,$=f<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;if(u>s.longSwipesMs){if(!s.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(y>=s.longSwipesRatio?t.slideTo(s.rewind&&t.isEnd?b:f+$):t.slideTo(f)),"prev"===t.swipeDirection&&(y>1-s.longSwipesRatio?t.slideTo(f+$):null!==v&&y<0&&Math.abs(y)>s.longSwipesRatio?t.slideTo(v):t.slideTo(f))}else{if(!s.shortSwipes)return void t.slideTo(t.activeIndex);!t.navigation||o.target!==t.navigation.nextEl&&o.target!==t.navigation.prevEl?("next"===t.swipeDirection&&t.slideTo(null!==b?b:f+$),"prev"===t.swipeDirection&&t.slideTo(null!==v?v:f)):o.target===t.navigation.nextEl?t.slideTo(f+$):t.slideTo(f)}}function Y(){const e=this,{params:t,el:i}=e;if(i&&0===i.offsetWidth)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:a,allowSlidePrev:o,snapGrid:s}=e,r=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const n=r&&t.loop;!("auto"===t.slidesPerView||t.slidesPerView>1)||!e.isEnd||e.isBeginning||e.params.centeredSlides||n?e.params.loop&&!r?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0):e.slideTo(e.slides.length-1,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout((()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()}),500)),e.allowSlidePrev=o,e.allowSlideNext=a,e.params.watchOverflow&&s!==e.snapGrid&&e.checkOverflow()}function J(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function W(){const e=this,{wrapperEl:t,rtlTranslate:i,enabled:a}=e;if(!a)return;let o;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();const s=e.maxTranslate()-e.minTranslate();o=0===s?0:(e.translate-e.minTranslate())/s,o!==e.progress&&e.updateProgress(i?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function V(e){const t=this;O(t,e.target),t.params.cssMode||"auto"!==t.params.slidesPerView&&!t.params.autoHeight||t.update()}function X(){const e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction="auto"))}const K=(e,t)=>{const i=a(),{params:o,el:s,wrapperEl:r,device:n}=e,d=!!o.nested,c="on"===t?"addEventListener":"removeEventListener",l=t;s&&"string"!=typeof s&&(i[c]("touchstart",e.onDocumentTouchStart,{passive:!1,capture:d}),s[c]("touchstart",e.onTouchStart,{passive:!1}),s[c]("pointerdown",e.onTouchStart,{passive:!1}),i[c]("touchmove",e.onTouchMove,{passive:!1,capture:d}),i[c]("pointermove",e.onTouchMove,{passive:!1,capture:d}),i[c]("touchend",e.onTouchEnd,{passive:!0}),i[c]("pointerup",e.onTouchEnd,{passive:!0}),i[c]("pointercancel",e.onTouchEnd,{passive:!0}),i[c]("touchcancel",e.onTouchEnd,{passive:!0}),i[c]("pointerout",e.onTouchEnd,{passive:!0}),i[c]("pointerleave",e.onTouchEnd,{passive:!0}),i[c]("contextmenu",e.onTouchEnd,{passive:!0}),(o.preventClicks||o.preventClicksPropagation)&&s[c]("click",e.onClick,!0),o.cssMode&&r[c]("scroll",e.onScroll),o.updateOnWindowResize?e[l](n.ios||n.android?"resize orientationchange observerUpdate":"resize observerUpdate",Y,!0):e[l]("observerUpdate",Y,!0),s[c]("load",e.onLoad,{capture:!0}))},Q=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;var Z={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function ee(e,t){return function(i){void 0===i&&(i={});const a=Object.keys(i)[0],o=i[a];"object"==typeof o&&null!==o?(!0===e[a]&&(e[a]={enabled:!0}),"navigation"===a&&e[a]&&e[a].enabled&&!e[a].prevEl&&!e[a].nextEl&&(e[a].auto=!0),["pagination","scrollbar"].indexOf(a)>=0&&e[a]&&e[a].enabled&&!e[a].el&&(e[a].auto=!0),a in e&&"enabled"in o?("object"!=typeof e[a]||"enabled"in e[a]||(e[a].enabled=!0),e[a]||(e[a]={enabled:!1}),p(t,i)):p(t,i)):p(t,i)}}const te={eventsEmitter:M,update:G,translate:N,transition:{setTransition:function(e,t){const i=this;i.params.cssMode||(i.wrapperEl.style.transitionDuration=`${e}ms`,i.wrapperEl.style.transitionDelay=0===e?"0ms":""),i.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);const i=this,{params:a}=i;a.cssMode||(a.autoHeight&&i.updateAutoHeight(),F({swiper:i,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e,t){void 0===e&&(e=!0);const i=this,{params:a}=i;i.animating=!1,a.cssMode||(i.setTransition(0),F({swiper:i,runCallbacks:e,direction:t,step:"End"}))}},slide:H,loop:B,grabCursor:{setGrabCursor:function(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const i="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),i.style.cursor="move",i.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame((()=>{t.__preventObserver__=!1}))},unsetGrabCursor:function(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame((()=>{e.__preventObserver__=!1})))}},events:{attachEvents:function(){const e=this,{params:t}=e;e.onTouchStart=U.bind(e),e.onTouchMove=R.bind(e),e.onTouchEnd=q.bind(e),e.onDocumentTouchStart=X.bind(e),t.cssMode&&(e.onScroll=W.bind(e)),e.onClick=J.bind(e),e.onLoad=V.bind(e),K(e,"on")},detachEvents:function(){K(this,"off")}},breakpoints:{setBreakpoint:function(){const e=this,{realIndex:t,initialized:i,params:a,el:o}=e,s=a.breakpoints;if(!s||s&&0===Object.keys(s).length)return;const r=e.getBreakpoint(s,e.params.breakpointsBase,e.el);if(!r||e.currentBreakpoint===r)return;const n=(r in s?s[r]:void 0)||e.originalParams,d=Q(e,a),c=Q(e,n),l=e.params.grabCursor,m=n.grabCursor,u=a.enabled;d&&!c?(o.classList.remove(`${a.containerModifierClass}grid`,`${a.containerModifierClass}grid-column`),e.emitContainerClasses()):!d&&c&&(o.classList.add(`${a.containerModifierClass}grid`),(n.grid.fill&&"column"===n.grid.fill||!n.grid.fill&&"column"===a.grid.fill)&&o.classList.add(`${a.containerModifierClass}grid-column`),e.emitContainerClasses()),l&&!m?e.unsetGrabCursor():!l&&m&&e.setGrabCursor(),["navigation","pagination","scrollbar"].forEach((t=>{if(void 0===n[t])return;const i=a[t]&&a[t].enabled,o=n[t]&&n[t].enabled;i&&!o&&e[t].disable(),!i&&o&&e[t].enable()}));const g=n.direction&&n.direction!==a.direction,_=a.loop&&(n.slidesPerView!==a.slidesPerView||g),f=a.loop;g&&i&&e.changeDirection(),p(e.params,n);const h=e.params.enabled,b=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),u&&!h?e.disable():!u&&h&&e.enable(),e.currentBreakpoint=r,e.emit("_beforeBreakpoint",n),i&&(_?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!f&&b?(e.loopCreate(t),e.updateSlides()):f&&!b&&e.loopDestroy()),e.emit("breakpoint",n)},getBreakpoint:function(e,t,i){if(void 0===t&&(t="window"),!e||"container"===t&&!i)return;let a=!1;const o=s(),r="window"===t?o.innerHeight:i.clientHeight,n=Object.keys(e).map((e=>{if("string"==typeof e&&0===e.indexOf("@")){const t=parseFloat(e.substr(1));return{value:r*t,point:e}}return{value:e,point:e}}));n.sort(((e,t)=>parseInt(e.value,10)-parseInt(t.value,10)));for(let e=0;e<n.length;e+=1){const{point:s,value:r}=n[e];"window"===t?o.matchMedia(`(min-width: ${r}px)`).matches&&(a=s):r<=i.clientWidth&&(a=s)}return a||"max"}},checkOverflow:{checkOverflow:function(){const e=this,{isLocked:t,params:i}=e,{slidesOffsetBefore:a}=i;if(a){const t=e.slides.length-1,i=e.slidesGrid[t]+e.slidesSizesGrid[t]+2*a;e.isLocked=e.size>i}else e.isLocked=1===e.snapGrid.length;!0===i.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===i.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:{addClasses:function(){const e=this,{classNames:t,params:i,rtl:a,el:o,device:s}=e,r=function(e,t){const i=[];return e.forEach((e=>{"object"==typeof e?Object.keys(e).forEach((a=>{e[a]&&i.push(t+a)})):"string"==typeof e&&i.push(t+e)})),i}(["initialized",i.direction,{"free-mode":e.params.freeMode&&i.freeMode.enabled},{autoheight:i.autoHeight},{rtl:a},{grid:i.grid&&i.grid.rows>1},{"grid-column":i.grid&&i.grid.rows>1&&"column"===i.grid.fill},{android:s.android},{ios:s.ios},{"css-mode":i.cssMode},{centered:i.cssMode&&i.centeredSlides},{"watch-progress":i.watchSlidesProgress}],i.containerModifierClass);t.push(...r),o.classList.add(...t),e.emitContainerClasses()},removeClasses:function(){const{el:e,classNames:t}=this;e&&"string"!=typeof e&&(e.classList.remove(...t),this.emitContainerClasses())}}},ie={};class ae{constructor(){let e,t;for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];1===o.length&&o[0].constructor&&"Object"===Object.prototype.toString.call(o[0]).slice(8,-1)?t=o[0]:[e,t]=o,t||(t={}),t=p({},t),e&&!t.el&&(t.el=e);const r=a();if(t.el&&"string"==typeof t.el&&r.querySelectorAll(t.el).length>1){const e=[];return r.querySelectorAll(t.el).forEach((i=>{const a=p({},t,{el:i});e.push(new ae(a))})),e}const n=this;n.__swiper__=!0,n.support=I(),n.device=x({userAgent:t.userAgent}),n.browser=P(),n.eventsListeners={},n.eventsAnyListeners=[],n.modules=[...n.__modules__],t.modules&&Array.isArray(t.modules)&&n.modules.push(...t.modules);const d={};n.modules.forEach((e=>{e({params:t,swiper:n,extendParams:ee(t,d),on:n.on.bind(n),once:n.once.bind(n),off:n.off.bind(n),emit:n.emit.bind(n)})}));const c=p({},Z,d);return n.params=p({},c,ie,t),n.originalParams=p({},n.params),n.passedParams=p({},t),n.params&&n.params.on&&Object.keys(n.params.on).forEach((e=>{n.on(e,n.params.on[e])})),n.params&&n.params.onAny&&n.onAny(n.params.onAny),Object.assign(n,{enabled:n.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===n.params.direction,isVertical:()=>"vertical"===n.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:n.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:n.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),n.emit("_swiper"),n.params.init&&n.init(),n}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:i}=this,a=y(_(t,`.${i.slideClass}, swiper-slide`)[0]);return y(e)-a}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter((t=>1*t.getAttribute("data-swiper-slide-index")===e))[0])}recalcSlides(){const{slidesEl:e,params:t}=this;this.slides=_(e,`.${t.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const i=this;e=Math.min(Math.max(e,0),1);const a=i.minTranslate(),o=(i.maxTranslate()-a)*e+a;i.translateTo(o,void 0===t?0:t),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter((t=>0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass)));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter((e=>0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass))).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach((i=>{const a=e.getSlideClasses(i);t.push({slideEl:i,classNames:a}),e.emit("_slideClass",i,a)})),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){void 0===e&&(e="current"),void 0===t&&(t=!1);const{params:i,slides:a,slidesGrid:o,slidesSizesGrid:s,size:r,activeIndex:n}=this;let d=1;if("number"==typeof i.slidesPerView)return i.slidesPerView;if(i.centeredSlides){let e,t=a[n]?Math.ceil(a[n].swiperSlideSize):0;for(let i=n+1;i<a.length;i+=1)a[i]&&!e&&(t+=Math.ceil(a[i].swiperSlideSize),d+=1,t>r&&(e=!0));for(let i=n-1;i>=0;i-=1)a[i]&&!e&&(t+=a[i].swiperSlideSize,d+=1,t>r&&(e=!0))}else if("current"===e)for(let e=n+1;e<a.length;e+=1)(t?o[e]+s[e]-o[n]<r:o[e]-o[n]<r)&&(d+=1);else for(let e=n-1;e>=0;e-=1)o[n]-o[e]<r&&(d+=1);return d}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:i}=e;function a(){const t=e.rtlTranslate?-1*e.translate:e.translate,i=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(i),e.updateActiveIndex(),e.updateSlidesClasses()}let o;if(i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach((t=>{t.complete&&O(e,t)})),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),i.freeMode&&i.freeMode.enabled&&!i.cssMode)a(),i.autoHeight&&e.updateAutoHeight();else{if(("auto"===i.slidesPerView||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const t=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;o=e.slideTo(t.length-1,0,!1,!0)}else o=e.slideTo(e.activeIndex,0,!1,!0);o||a()}i.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){void 0===t&&(t=!0);const i=this,a=i.params.direction;return e||(e="horizontal"===a?"vertical":"horizontal"),e===a||"horizontal"!==e&&"vertical"!==e||(i.el.classList.remove(`${i.params.containerModifierClass}${a}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach((t=>{"vertical"===e?t.style.width="":t.style.height=""})),i.emit("changeDirection"),t&&i.update()),i}changeLanguageDirection(e){const t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let i=e||t.params.el;if("string"==typeof i&&(i=document.querySelector(i)),!i)return!1;i.swiper=t,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const a=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(a()):_(i,a())[0];return!o&&t.params.createElements&&(o=h("div",t.params.wrapperClass),i.append(o),_(i,`.${t.params.slideClass}`).forEach((e=>{o.append(e)}))),Object.assign(t,{el:i,wrapperEl:o,slidesEl:t.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:o,hostEl:t.isElement?i.parentNode.host:i,mounted:!0,rtl:"rtl"===i.dir.toLowerCase()||"rtl"===v(i,"direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===i.dir.toLowerCase()||"rtl"===v(i,"direction")),wrongRTL:"-webkit-box"===v(o,"display")}),!0}init(e){const t=this;if(t.initialized)return t;if(!1===t.mount(e))return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents();const i=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&i.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach((e=>{e.complete?O(t,e):e.addEventListener("load",(e=>{O(t,e.target)}))})),T(t),t.initialized=!0,T(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);const i=this,{params:a,el:o,wrapperEl:s,slides:r}=i;return void 0===i.params||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),a.loop&&i.loopDestroy(),t&&(i.removeClasses(),o&&"string"!=typeof o&&o.removeAttribute("style"),s&&s.removeAttribute("style"),r&&r.length&&r.forEach((e=>{e.classList.remove(a.slideVisibleClass,a.slideFullyVisibleClass,a.slideActiveClass,a.slideNextClass,a.slidePrevClass),e.removeAttribute("style"),e.removeAttribute("data-swiper-slide-index")}))),i.emit("destroy"),Object.keys(i.eventsListeners).forEach((e=>{i.off(e)})),!1!==e&&(i.el&&"string"!=typeof i.el&&(i.el.swiper=null),function(e){const t=e;Object.keys(t).forEach((e=>{try{t[e]=null}catch(e){}try{delete t[e]}catch(e){}}))}(i)),i.destroyed=!0),null}static extendDefaults(e){p(ie,e)}static get extendedDefaults(){return ie}static get defaults(){return Z}static installModule(e){ae.prototype.__modules__||(ae.prototype.__modules__=[]);const t=ae.prototype.__modules__;"function"==typeof e&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach((e=>ae.installModule(e))),ae):(ae.installModule(e),ae)}}function oe(e,t,i,a){return e.params.createElements&&Object.keys(a).forEach((o=>{if(!i[o]&&!0===i.auto){let s=_(e.el,`.${a[o]}`)[0];s||(s=h("div",a[o]),s.className=a[o],e.el.append(s)),i[o]=s,t[o]=s}})),i}function se(e){return void 0===e&&(e=""),`.${e.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function re(e){const t=this,{params:i,slidesEl:a}=t;i.loop&&t.loopDestroy();const o=e=>{if("string"==typeof e){const t=document.createElement("div");t.innerHTML=e,a.append(t.children[0]),t.innerHTML=""}else a.append(e)};if("object"==typeof e&&"length"in e)for(let t=0;t<e.length;t+=1)e[t]&&o(e[t]);else o(e);t.recalcSlides(),i.loop&&t.loopCreate(),i.observer&&!t.isElement||t.update()}function ne(e){const t=this,{params:i,activeIndex:a,slidesEl:o}=t;i.loop&&t.loopDestroy();let s=a+1;const r=e=>{if("string"==typeof e){const t=document.createElement("div");t.innerHTML=e,o.prepend(t.children[0]),t.innerHTML=""}else o.prepend(e)};if("object"==typeof e&&"length"in e){for(let t=0;t<e.length;t+=1)e[t]&&r(e[t]);s=a+e.length}else r(e);t.recalcSlides(),i.loop&&t.loopCreate(),i.observer&&!t.isElement||t.update(),t.slideTo(s,0,!1)}function de(e,t){const i=this,{params:a,activeIndex:o,slidesEl:s}=i;let r=o;a.loop&&(r-=i.loopedSlides,i.loopDestroy(),i.recalcSlides());const n=i.slides.length;if(e<=0)return void i.prependSlide(t);if(e>=n)return void i.appendSlide(t);let d=r>e?r+1:r;const c=[];for(let t=n-1;t>=e;t-=1){const e=i.slides[t];e.remove(),c.unshift(e)}if("object"==typeof t&&"length"in t){for(let e=0;e<t.length;e+=1)t[e]&&s.append(t[e]);d=r>e?r+t.length:r}else s.append(t);for(let e=0;e<c.length;e+=1)s.append(c[e]);i.recalcSlides(),a.loop&&i.loopCreate(),a.observer&&!i.isElement||i.update(),a.loop?i.slideTo(d+i.loopedSlides,0,!1):i.slideTo(d,0,!1)}function ce(e){const t=this,{params:i,activeIndex:a}=t;let o=a;i.loop&&(o-=t.loopedSlides,t.loopDestroy());let s,r=o;if("object"==typeof e&&"length"in e){for(let i=0;i<e.length;i+=1)s=e[i],t.slides[s]&&t.slides[s].remove(),s<r&&(r-=1);r=Math.max(r,0)}else s=e,t.slides[s]&&t.slides[s].remove(),s<r&&(r-=1),r=Math.max(r,0);t.recalcSlides(),i.loop&&t.loopCreate(),i.observer&&!t.isElement||t.update(),i.loop?t.slideTo(r+t.loopedSlides,0,!1):t.slideTo(r,0,!1)}function le(){const e=this,t=[];for(let i=0;i<e.slides.length;i+=1)t.push(i);e.removeSlide(t)}function pe(e){const{effect:t,swiper:i,on:a,setTranslate:o,setTransition:s,overwriteParams:r,perspective:n,recreateShadows:d,getEffectParams:c}=e;let l;a("beforeInit",(()=>{if(i.params.effect!==t)return;i.classNames.push(`${i.params.containerModifierClass}${t}`),n&&n()&&i.classNames.push(`${i.params.containerModifierClass}3d`);const e=r?r():{};Object.assign(i.params,e),Object.assign(i.originalParams,e)})),a("setTranslate",(()=>{i.params.effect===t&&o()})),a("setTransition",((e,a)=>{i.params.effect===t&&s(a)})),a("transitionEnd",(()=>{if(i.params.effect===t&&d){if(!c||!c().slideShadows)return;i.slides.forEach((e=>{e.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((e=>e.remove()))})),d()}})),a("virtualUpdate",(()=>{i.params.effect===t&&(i.slides.length||(l=!0),requestAnimationFrame((()=>{l&&i.slides&&i.slides.length&&(o(),l=!1)})))}))}function me(e,t){const i=g(t);return i!==t&&(i.style.backfaceVisibility="hidden",i.style["-webkit-backface-visibility"]="hidden"),i}function ue(e){let{swiper:t,duration:i,transformElements:a,allSlides:o}=e;const{activeIndex:s}=t;if(t.params.virtualTranslate&&0!==i){let e,i=!1;e=o?a:a.filter((e=>{const i=e.classList.contains("swiper-slide-transform")?(e=>e.parentElement?e.parentElement:t.slides.filter((t=>t.shadowRoot&&t.shadowRoot===e.parentNode))[0])(e):e;return t.getSlideIndex(i)===s})),e.forEach((e=>{w(e,(()=>{if(i)return;if(!t||t.destroyed)return;i=!0,t.animating=!1;const e=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});t.wrapperEl.dispatchEvent(e)}))}))}}function ge(e,t,i){const a=`swiper-slide-shadow${i?`-${i}`:""}${e?` swiper-slide-shadow-${e}`:""}`,o=g(t);let s=o.querySelector(`.${a.split(" ").join(".")}`);return s||(s=h("div",a.split(" ")),o.append(s)),s}Object.keys(te).forEach((e=>{Object.keys(te[e]).forEach((t=>{ae.prototype[t]=te[e][t]}))})),ae.use([function(e){let{swiper:t,on:i,emit:a}=e;const o=s();let r=null,n=null;const d=()=>{t&&!t.destroyed&&t.initialized&&(a("beforeResize"),a("resize"))},c=()=>{t&&!t.destroyed&&t.initialized&&a("orientationchange")};i("init",(()=>{t.params.resizeObserver&&void 0!==o.ResizeObserver?t&&!t.destroyed&&t.initialized&&(r=new ResizeObserver((e=>{n=o.requestAnimationFrame((()=>{const{width:i,height:a}=t;let o=i,s=a;e.forEach((e=>{let{contentBoxSize:i,contentRect:a,target:r}=e;r&&r!==t.el||(o=a?a.width:(i[0]||i).inlineSize,s=a?a.height:(i[0]||i).blockSize)})),o===i&&s===a||d()}))})),r.observe(t.el)):(o.addEventListener("resize",d),o.addEventListener("orientationchange",c))})),i("destroy",(()=>{n&&o.cancelAnimationFrame(n),r&&r.unobserve&&t.el&&(r.unobserve(t.el),r=null),o.removeEventListener("resize",d),o.removeEventListener("orientationchange",c)}))},function(e){let{swiper:t,extendParams:i,on:a,emit:o}=e;const r=[],n=s(),d=function(e,i){void 0===i&&(i={});const a=new(n.MutationObserver||n.WebkitMutationObserver)((e=>{if(t.__preventObserver__)return;if(1===e.length)return void o("observerUpdate",e[0]);const i=function(){o("observerUpdate",e[0])};n.requestAnimationFrame?n.requestAnimationFrame(i):n.setTimeout(i,0)}));a.observe(e,{attributes:void 0===i.attributes||i.attributes,childList:void 0===i.childList||i.childList,characterData:void 0===i.characterData||i.characterData}),r.push(a)};i({observer:!1,observeParents:!1,observeSlideChildren:!1}),a("init",(()=>{if(t.params.observer){if(t.params.observeParents){const e=$(t.hostEl);for(let t=0;t<e.length;t+=1)d(e[t])}d(t.hostEl,{childList:t.params.observeSlideChildren}),d(t.wrapperEl,{attributes:!1})}})),a("destroy",(()=>{r.forEach((e=>{e.disconnect()})),r.splice(0,r.length)}))}]);const _e=[function(e){let t,{swiper:i,extendParams:o,on:s,emit:r}=e;o({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});const n=a();i.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};const d=n.createElement("div");function c(e,t){const a=i.params.virtual;if(a.cache&&i.virtual.cache[t])return i.virtual.cache[t];let o;return a.renderSlide?(o=a.renderSlide.call(i,e,t),"string"==typeof o&&(d.innerHTML=o,o=d.children[0])):o=i.isElement?h("swiper-slide"):h("div",i.params.slideClass),o.setAttribute("data-swiper-slide-index",t),a.renderSlide||(o.innerHTML=e),a.cache&&(i.virtual.cache[t]=o),o}function l(e,t){const{slidesPerView:a,slidesPerGroup:o,centeredSlides:s,loop:n,initialSlide:d}=i.params;if(t&&!n&&d>0)return;const{addSlidesBefore:l,addSlidesAfter:p}=i.params.virtual,{from:m,to:u,slides:g,slidesGrid:f,offset:h}=i.virtual;i.params.cssMode||i.updateActiveIndex();const b=i.activeIndex||0;let v,y,$;v=i.rtlTranslate?"right":i.isHorizontal()?"left":"top",s?(y=Math.floor(a/2)+o+p,$=Math.floor(a/2)+o+l):(y=a+(o-1)+p,$=(n?a:o)+l);let w=b-$,S=b+y;n||(w=Math.max(w,0),S=Math.min(S,g.length-1));let C=(i.slidesGrid[w]||0)-(i.slidesGrid[0]||0);function L(){i.updateSlides(),i.updateProgress(),i.updateSlidesClasses(),r("virtualUpdate")}if(n&&b>=$?(w-=$,s||(C+=i.slidesGrid[0])):n&&b<$&&(w=-$,s&&(C+=i.slidesGrid[0])),Object.assign(i.virtual,{from:w,to:S,offset:C,slidesGrid:i.slidesGrid,slidesBefore:$,slidesAfter:y}),m===w&&u===S&&!e)return i.slidesGrid!==f&&C!==h&&i.slides.forEach((e=>{e.style[v]=C-Math.abs(i.cssOverflowAdjustment())+"px"})),i.updateProgress(),void r("virtualUpdate");if(i.params.virtual.renderExternal)return i.params.virtual.renderExternal.call(i,{offset:C,from:w,to:S,slides:function(){const e=[];for(let t=w;t<=S;t+=1)e.push(g[t]);return e}()}),void(i.params.virtual.renderExternalUpdate?L():r("virtualUpdate"));const k=[],z=[],I=e=>{let t=e;return e<0?t=g.length+e:t>=g.length&&(t-=g.length),t};if(e)i.slides.filter((e=>e.matches(`.${i.params.slideClass}, swiper-slide`))).forEach((e=>{e.remove()}));else for(let e=m;e<=u;e+=1)if(e<w||e>S){const t=I(e);i.slides.filter((e=>e.matches(`.${i.params.slideClass}[data-swiper-slide-index="${t}"], swiper-slide[data-swiper-slide-index="${t}"]`))).forEach((e=>{e.remove()}))}const x=n?-g.length:0,P=n?2*g.length:g.length;for(let t=x;t<P;t+=1)if(t>=w&&t<=S){const i=I(t);void 0===u||e?z.push(i):(t>u&&z.push(i),t<m&&k.push(i))}if(z.forEach((e=>{i.slidesEl.append(c(g[e],e))})),n)for(let e=k.length-1;e>=0;e-=1){const t=k[e];i.slidesEl.prepend(c(g[t],t))}else k.sort(((e,t)=>t-e)),k.forEach((e=>{i.slidesEl.prepend(c(g[e],e))}));_(i.slidesEl,".swiper-slide, swiper-slide").forEach((e=>{e.style[v]=C-Math.abs(i.cssOverflowAdjustment())+"px"})),L()}s("beforeInit",(()=>{if(!i.params.virtual.enabled)return;let e;if(void 0===i.passedParams.virtual.slides){const t=[...i.slidesEl.children].filter((e=>e.matches(`.${i.params.slideClass}, swiper-slide`)));t&&t.length&&(i.virtual.slides=[...t],e=!0,t.forEach(((e,t)=>{e.setAttribute("data-swiper-slide-index",t),i.virtual.cache[t]=e,e.remove()})))}e||(i.virtual.slides=i.params.virtual.slides),i.classNames.push(`${i.params.containerModifierClass}virtual`),i.params.watchSlidesProgress=!0,i.originalParams.watchSlidesProgress=!0,l(!1,!0)})),s("setTranslate",(()=>{i.params.virtual.enabled&&(i.params.cssMode&&!i._immediateVirtual?(clearTimeout(t),t=setTimeout((()=>{l()}),100)):l())})),s("init update resize",(()=>{i.params.virtual.enabled&&i.params.cssMode&&m(i.wrapperEl,"--swiper-virtual-size",`${i.virtualSize}px`)})),Object.assign(i.virtual,{appendSlide:function(e){if("object"==typeof e&&"length"in e)for(let t=0;t<e.length;t+=1)e[t]&&i.virtual.slides.push(e[t]);else i.virtual.slides.push(e);l(!0)},prependSlide:function(e){const t=i.activeIndex;let a=t+1,o=1;if(Array.isArray(e)){for(let t=0;t<e.length;t+=1)e[t]&&i.virtual.slides.unshift(e[t]);a=t+e.length,o=e.length}else i.virtual.slides.unshift(e);if(i.params.virtual.cache){const e=i.virtual.cache,t={};Object.keys(e).forEach((i=>{const a=e[i],s=a.getAttribute("data-swiper-slide-index");s&&a.setAttribute("data-swiper-slide-index",parseInt(s,10)+o),t[parseInt(i,10)+o]=a})),i.virtual.cache=t}l(!0),i.slideTo(a,0)},removeSlide:function(e){if(null==e)return;let t=i.activeIndex;if(Array.isArray(e))for(let a=e.length-1;a>=0;a-=1)i.params.virtual.cache&&(delete i.virtual.cache[e[a]],Object.keys(i.virtual.cache).forEach((t=>{t>e&&(i.virtual.cache[t-1]=i.virtual.cache[t],i.virtual.cache[t-1].setAttribute("data-swiper-slide-index",t-1),delete i.virtual.cache[t])}))),i.virtual.slides.splice(e[a],1),e[a]<t&&(t-=1),t=Math.max(t,0);else i.params.virtual.cache&&(delete i.virtual.cache[e],Object.keys(i.virtual.cache).forEach((t=>{t>e&&(i.virtual.cache[t-1]=i.virtual.cache[t],i.virtual.cache[t-1].setAttribute("data-swiper-slide-index",t-1),delete i.virtual.cache[t])}))),i.virtual.slides.splice(e,1),e<t&&(t-=1),t=Math.max(t,0);l(!0),i.slideTo(t,0)},removeAllSlides:function(){i.virtual.slides=[],i.params.virtual.cache&&(i.virtual.cache={}),l(!0),i.slideTo(0,0)},update:l})},function(e){let{swiper:t,extendParams:i,on:o,emit:r}=e;const n=a(),d=s();function c(e){if(!t.enabled)return;const{rtlTranslate:i}=t;let a=e;a.originalEvent&&(a=a.originalEvent);const o=a.keyCode||a.charCode,s=t.params.keyboard.pageUpDown,c=s&&33===o,l=s&&34===o,p=37===o,m=39===o,u=38===o,g=40===o;if(!t.allowSlideNext&&(t.isHorizontal()&&m||t.isVertical()&&g||l))return!1;if(!t.allowSlidePrev&&(t.isHorizontal()&&p||t.isVertical()&&u||c))return!1;if(!(a.shiftKey||a.altKey||a.ctrlKey||a.metaKey||n.activeElement&&n.activeElement.nodeName&&("input"===n.activeElement.nodeName.toLowerCase()||"textarea"===n.activeElement.nodeName.toLowerCase()))){if(t.params.keyboard.onlyInViewport&&(c||l||p||m||u||g)){let e=!1;if($(t.el,`.${t.params.slideClass}, swiper-slide`).length>0&&0===$(t.el,`.${t.params.slideActiveClass}`).length)return;const a=t.el,o=a.clientWidth,s=a.clientHeight,r=d.innerWidth,n=d.innerHeight,c=b(a);i&&(c.left-=a.scrollLeft);const l=[[c.left,c.top],[c.left+o,c.top],[c.left,c.top+s],[c.left+o,c.top+s]];for(let t=0;t<l.length;t+=1){const i=l[t];if(i[0]>=0&&i[0]<=r&&i[1]>=0&&i[1]<=n){if(0===i[0]&&0===i[1])continue;e=!0}}if(!e)return}t.isHorizontal()?((c||l||p||m)&&(a.preventDefault?a.preventDefault():a.returnValue=!1),((l||m)&&!i||(c||p)&&i)&&t.slideNext(),((c||p)&&!i||(l||m)&&i)&&t.slidePrev()):((c||l||u||g)&&(a.preventDefault?a.preventDefault():a.returnValue=!1),(l||g)&&t.slideNext(),(c||u)&&t.slidePrev()),r("keyPress",o)}}function l(){t.keyboard.enabled||(n.addEventListener("keydown",c),t.keyboard.enabled=!0)}function p(){t.keyboard.enabled&&(n.removeEventListener("keydown",c),t.keyboard.enabled=!1)}t.keyboard={enabled:!1},i({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}}),o("init",(()=>{t.params.keyboard.enabled&&l()})),o("destroy",(()=>{t.keyboard.enabled&&p()})),Object.assign(t.keyboard,{enable:l,disable:p})},function(e){let{swiper:t,extendParams:i,on:a,emit:o}=e;const r=s();let c;i({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),t.mousewheel={enabled:!1};let l,p=d();const m=[];function u(){t.enabled&&(t.mouseEntered=!0)}function g(){t.enabled&&(t.mouseEntered=!1)}function _(e){return!(t.params.mousewheel.thresholdDelta&&e.delta<t.params.mousewheel.thresholdDelta||t.params.mousewheel.thresholdTime&&d()-p<t.params.mousewheel.thresholdTime||!(e.delta>=6&&d()-p<60)&&(e.direction<0?t.isEnd&&!t.params.loop||t.animating||(t.slideNext(),o("scroll",e.raw)):t.isBeginning&&!t.params.loop||t.animating||(t.slidePrev(),o("scroll",e.raw)),p=(new r.Date).getTime(),1))}function f(e){let i=e,a=!0;if(!t.enabled)return;if(e.target.closest(`.${t.params.mousewheel.noMousewheelClass}`))return;const s=t.params.mousewheel;t.params.cssMode&&i.preventDefault();let r=t.el;"container"!==t.params.mousewheel.eventsTarget&&(r=document.querySelector(t.params.mousewheel.eventsTarget));const p=r&&r.contains(i.target);if(!t.mouseEntered&&!p&&!s.releaseOnEdges)return!0;i.originalEvent&&(i=i.originalEvent);let u=0;const g=t.rtlTranslate?-1:1,f=function(e){let t=0,i=0,a=0,o=0;return"detail"in e&&(i=e.detail),"wheelDelta"in e&&(i=-e.wheelDelta/120),"wheelDeltaY"in e&&(i=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=i,i=0),a=10*t,o=10*i,"deltaY"in e&&(o=e.deltaY),"deltaX"in e&&(a=e.deltaX),e.shiftKey&&!a&&(a=o,o=0),(a||o)&&e.deltaMode&&(1===e.deltaMode?(a*=40,o*=40):(a*=800,o*=800)),a&&!t&&(t=a<1?-1:1),o&&!i&&(i=o<1?-1:1),{spinX:t,spinY:i,pixelX:a,pixelY:o}}(i);if(s.forceToAxis)if(t.isHorizontal()){if(!(Math.abs(f.pixelX)>Math.abs(f.pixelY)))return!0;u=-f.pixelX*g}else{if(!(Math.abs(f.pixelY)>Math.abs(f.pixelX)))return!0;u=-f.pixelY}else u=Math.abs(f.pixelX)>Math.abs(f.pixelY)?-f.pixelX*g:-f.pixelY;if(0===u)return!0;s.invert&&(u=-u);let h=t.getTranslate()+u*s.sensitivity;if(h>=t.minTranslate()&&(h=t.minTranslate()),h<=t.maxTranslate()&&(h=t.maxTranslate()),a=!!t.params.loop||!(h===t.minTranslate()||h===t.maxTranslate()),a&&t.params.nested&&i.stopPropagation(),t.params.freeMode&&t.params.freeMode.enabled){const e={time:d(),delta:Math.abs(u),direction:Math.sign(u)},a=l&&e.time<l.time+500&&e.delta<=l.delta&&e.direction===l.direction;if(!a){l=void 0;let r=t.getTranslate()+u*s.sensitivity;const d=t.isBeginning,p=t.isEnd;if(r>=t.minTranslate()&&(r=t.minTranslate()),r<=t.maxTranslate()&&(r=t.maxTranslate()),t.setTransition(0),t.setTranslate(r),t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses(),(!d&&t.isBeginning||!p&&t.isEnd)&&t.updateSlidesClasses(),t.params.loop&&t.loopFix({direction:e.direction<0?"next":"prev",byMousewheel:!0}),t.params.freeMode.sticky){clearTimeout(c),c=void 0,m.length>=15&&m.shift();const i=m.length?m[m.length-1]:void 0,a=m[0];if(m.push(e),i&&(e.delta>i.delta||e.direction!==i.direction))m.splice(0);else if(m.length>=15&&e.time-a.time<500&&a.delta-e.delta>=1&&e.delta<=6){const i=u>0?.8:.2;l=e,m.splice(0),c=n((()=>{t.slideToClosest(t.params.speed,!0,void 0,i)}),0)}c||(c=n((()=>{l=e,m.splice(0),t.slideToClosest(t.params.speed,!0,void 0,.5)}),500))}if(a||o("scroll",i),t.params.autoplay&&t.params.autoplayDisableOnInteraction&&t.autoplay.stop(),s.releaseOnEdges&&(r===t.minTranslate()||r===t.maxTranslate()))return!0}}else{const i={time:d(),delta:Math.abs(u),direction:Math.sign(u),raw:e};m.length>=2&&m.shift();const a=m.length?m[m.length-1]:void 0;if(m.push(i),a?(i.direction!==a.direction||i.delta>a.delta||i.time>a.time+150)&&_(i):_(i),function(e){const i=t.params.mousewheel;if(e.direction<0){if(t.isEnd&&!t.params.loop&&i.releaseOnEdges)return!0}else if(t.isBeginning&&!t.params.loop&&i.releaseOnEdges)return!0;return!1}(i))return!0}return i.preventDefault?i.preventDefault():i.returnValue=!1,!1}function h(e){let i=t.el;"container"!==t.params.mousewheel.eventsTarget&&(i=document.querySelector(t.params.mousewheel.eventsTarget)),i[e]("mouseenter",u),i[e]("mouseleave",g),i[e]("wheel",f)}function b(){return t.params.cssMode?(t.wrapperEl.removeEventListener("wheel",f),!0):!t.mousewheel.enabled&&(h("addEventListener"),t.mousewheel.enabled=!0,!0)}function v(){return t.params.cssMode?(t.wrapperEl.addEventListener(event,f),!0):!!t.mousewheel.enabled&&(h("removeEventListener"),t.mousewheel.enabled=!1,!0)}a("init",(()=>{!t.params.mousewheel.enabled&&t.params.cssMode&&v(),t.params.mousewheel.enabled&&b()})),a("destroy",(()=>{t.params.cssMode&&b(),t.mousewheel.enabled&&v()})),Object.assign(t.mousewheel,{enable:b,disable:v})},function(e){let{swiper:t,extendParams:i,on:a,emit:o}=e;function s(e){let i;return e&&"string"==typeof e&&t.isElement&&(i=t.el.querySelector(e),i)?i:(e&&("string"==typeof e&&(i=[...document.querySelectorAll(e)]),t.params.uniqueNavElements&&"string"==typeof e&&i&&i.length>1&&1===t.el.querySelectorAll(e).length?i=t.el.querySelector(e):i&&1===i.length&&(i=i[0])),e&&!i?e:i)}function r(e,i){const a=t.params.navigation;(e=C(e)).forEach((e=>{e&&(e.classList[i?"add":"remove"](...a.disabledClass.split(" ")),"BUTTON"===e.tagName&&(e.disabled=i),t.params.watchOverflow&&t.enabled&&e.classList[t.isLocked?"add":"remove"](a.lockClass))}))}function n(){const{nextEl:e,prevEl:i}=t.navigation;if(t.params.loop)return r(i,!1),void r(e,!1);r(i,t.isBeginning&&!t.params.rewind),r(e,t.isEnd&&!t.params.rewind)}function d(e){e.preventDefault(),(!t.isBeginning||t.params.loop||t.params.rewind)&&(t.slidePrev(),o("navigationPrev"))}function c(e){e.preventDefault(),(!t.isEnd||t.params.loop||t.params.rewind)&&(t.slideNext(),o("navigationNext"))}function l(){const e=t.params.navigation;if(t.params.navigation=oe(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!e.nextEl&&!e.prevEl)return;let i=s(e.nextEl),a=s(e.prevEl);Object.assign(t.navigation,{nextEl:i,prevEl:a}),i=C(i),a=C(a);const o=(i,a)=>{i&&i.addEventListener("click","next"===a?c:d),!t.enabled&&i&&i.classList.add(...e.lockClass.split(" "))};i.forEach((e=>o(e,"next"))),a.forEach((e=>o(e,"prev")))}function p(){let{nextEl:e,prevEl:i}=t.navigation;e=C(e),i=C(i);const a=(e,i)=>{e.removeEventListener("click","next"===i?c:d),e.classList.remove(...t.params.navigation.disabledClass.split(" "))};e.forEach((e=>a(e,"next"))),i.forEach((e=>a(e,"prev")))}i({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null},a("init",(()=>{!1===t.params.navigation.enabled?m():(l(),n())})),a("toEdge fromEdge lock unlock",(()=>{n()})),a("destroy",(()=>{p()})),a("enable disable",(()=>{let{nextEl:e,prevEl:i}=t.navigation;e=C(e),i=C(i),t.enabled?n():[...e,...i].filter((e=>!!e)).forEach((e=>e.classList.add(t.params.navigation.lockClass)))})),a("click",((e,i)=>{let{nextEl:a,prevEl:s}=t.navigation;a=C(a),s=C(s);const r=i.target;let n=s.includes(r)||a.includes(r);if(t.isElement&&!n){const e=i.path||i.composedPath&&i.composedPath();e&&(n=e.find((e=>a.includes(e)||s.includes(e))))}if(t.params.navigation.hideOnClick&&!n){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===r||t.pagination.el.contains(r)))return;let e;a.length?e=a[0].classList.contains(t.params.navigation.hiddenClass):s.length&&(e=s[0].classList.contains(t.params.navigation.hiddenClass)),o(!0===e?"navigationShow":"navigationHide"),[...a,...s].filter((e=>!!e)).forEach((e=>e.classList.toggle(t.params.navigation.hiddenClass)))}}));const m=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),p()};Object.assign(t.navigation,{enable:()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),l(),n()},disable:m,update:n,init:l,destroy:p})},function(e){let{swiper:t,extendParams:i,on:a,emit:o}=e;const s="swiper-pagination";let r;i({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:e=>e,formatFractionTotal:e=>e,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),t.pagination={el:null,bullets:[]};let n=0;function d(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&0===t.pagination.el.length}function c(e,i){const{bulletActiveClass:a}=t.params.pagination;e&&(e=e[("prev"===i?"previous":"next")+"ElementSibling"])&&(e.classList.add(`${a}-${i}`),(e=e[("prev"===i?"previous":"next")+"ElementSibling"])&&e.classList.add(`${a}-${i}-${i}`))}function l(e){const i=e.target.closest(se(t.params.pagination.bulletClass));if(!i)return;e.preventDefault();const a=y(i)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===a)return;t.slideToLoop(a)}else t.slideTo(a)}function p(){const e=t.rtl,i=t.params.pagination;if(d())return;let a,s,l=t.pagination.el;l=C(l);const p=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,m=t.params.loop?Math.ceil(p/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(s=t.previousRealIndex||0,a=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):void 0!==t.snapIndex?(a=t.snapIndex,s=t.previousSnapIndex):(s=t.previousIndex||0,a=t.activeIndex||0),"bullets"===i.type&&t.pagination.bullets&&t.pagination.bullets.length>0){const o=t.pagination.bullets;let d,p,m;if(i.dynamicBullets&&(r=S(o[0],t.isHorizontal()?"width":"height",!0),l.forEach((e=>{e.style[t.isHorizontal()?"width":"height"]=r*(i.dynamicMainBullets+4)+"px"})),i.dynamicMainBullets>1&&void 0!==s&&(n+=a-(s||0),n>i.dynamicMainBullets-1?n=i.dynamicMainBullets-1:n<0&&(n=0)),d=Math.max(a-n,0),p=d+(Math.min(o.length,i.dynamicMainBullets)-1),m=(p+d)/2),o.forEach((e=>{const t=[...["","-next","-next-next","-prev","-prev-prev","-main"].map((e=>`${i.bulletActiveClass}${e}`))].map((e=>"string"==typeof e&&e.includes(" ")?e.split(" "):e)).flat();e.classList.remove(...t)})),l.length>1)o.forEach((e=>{const o=y(e);o===a?e.classList.add(...i.bulletActiveClass.split(" ")):t.isElement&&e.setAttribute("part","bullet"),i.dynamicBullets&&(o>=d&&o<=p&&e.classList.add(...`${i.bulletActiveClass}-main`.split(" ")),o===d&&c(e,"prev"),o===p&&c(e,"next"))}));else{const e=o[a];if(e&&e.classList.add(...i.bulletActiveClass.split(" ")),t.isElement&&o.forEach(((e,t)=>{e.setAttribute("part",t===a?"bullet-active":"bullet")})),i.dynamicBullets){const e=o[d],t=o[p];for(let e=d;e<=p;e+=1)o[e]&&o[e].classList.add(...`${i.bulletActiveClass}-main`.split(" "));c(e,"prev"),c(t,"next")}}if(i.dynamicBullets){const a=Math.min(o.length,i.dynamicMainBullets+4),s=(r*a-r)/2-m*r,n=e?"right":"left";o.forEach((e=>{e.style[t.isHorizontal()?n:"top"]=`${s}px`}))}}l.forEach(((e,s)=>{if("fraction"===i.type&&(e.querySelectorAll(se(i.currentClass)).forEach((e=>{e.textContent=i.formatFractionCurrent(a+1)})),e.querySelectorAll(se(i.totalClass)).forEach((e=>{e.textContent=i.formatFractionTotal(m)}))),"progressbar"===i.type){let o;o=i.progressbarOpposite?t.isHorizontal()?"vertical":"horizontal":t.isHorizontal()?"horizontal":"vertical";const s=(a+1)/m;let r=1,n=1;"horizontal"===o?r=s:n=s,e.querySelectorAll(se(i.progressbarFillClass)).forEach((e=>{e.style.transform=`translate3d(0,0,0) scaleX(${r}) scaleY(${n})`,e.style.transitionDuration=`${t.params.speed}ms`}))}"custom"===i.type&&i.renderCustom?(e.innerHTML=i.renderCustom(t,a+1,m),0===s&&o("paginationRender",e)):(0===s&&o("paginationRender",e),o("paginationUpdate",e)),t.params.watchOverflow&&t.enabled&&e.classList[t.isLocked?"add":"remove"](i.lockClass)}))}function m(){const e=t.params.pagination;if(d())return;const i=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length;let a=t.pagination.el;a=C(a);let s="";if("bullets"===e.type){let a=t.params.loop?Math.ceil(i/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&a>i&&(a=i);for(let i=0;i<a;i+=1)e.renderBullet?s+=e.renderBullet.call(t,i,e.bulletClass):s+=`<${e.bulletElement} ${t.isElement?'part="bullet"':""} class="${e.bulletClass}"></${e.bulletElement}>`}"fraction"===e.type&&(s=e.renderFraction?e.renderFraction.call(t,e.currentClass,e.totalClass):`<span class="${e.currentClass}"></span> / <span class="${e.totalClass}"></span>`),"progressbar"===e.type&&(s=e.renderProgressbar?e.renderProgressbar.call(t,e.progressbarFillClass):`<span class="${e.progressbarFillClass}"></span>`),t.pagination.bullets=[],a.forEach((i=>{"custom"!==e.type&&(i.innerHTML=s||""),"bullets"===e.type&&t.pagination.bullets.push(...i.querySelectorAll(se(e.bulletClass)))})),"custom"!==e.type&&o("paginationRender",a[0])}function u(){t.params.pagination=oe(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const e=t.params.pagination;if(!e.el)return;let i;"string"==typeof e.el&&t.isElement&&(i=t.el.querySelector(e.el)),i||"string"!=typeof e.el||(i=[...document.querySelectorAll(e.el)]),i||(i=e.el),i&&0!==i.length&&(t.params.uniqueNavElements&&"string"==typeof e.el&&Array.isArray(i)&&i.length>1&&(i=[...t.el.querySelectorAll(e.el)],i.length>1&&(i=i.filter((e=>$(e,".swiper")[0]===t.el))[0])),Array.isArray(i)&&1===i.length&&(i=i[0]),Object.assign(t.pagination,{el:i}),i=C(i),i.forEach((i=>{"bullets"===e.type&&e.clickable&&i.classList.add(...(e.clickableClass||"").split(" ")),i.classList.add(e.modifierClass+e.type),i.classList.add(t.isHorizontal()?e.horizontalClass:e.verticalClass),"bullets"===e.type&&e.dynamicBullets&&(i.classList.add(`${e.modifierClass}${e.type}-dynamic`),n=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),"progressbar"===e.type&&e.progressbarOpposite&&i.classList.add(e.progressbarOppositeClass),e.clickable&&i.addEventListener("click",l),t.enabled||i.classList.add(e.lockClass)})))}function g(){const e=t.params.pagination;if(d())return;let i=t.pagination.el;i&&(i=C(i),i.forEach((i=>{i.classList.remove(e.hiddenClass),i.classList.remove(e.modifierClass+e.type),i.classList.remove(t.isHorizontal()?e.horizontalClass:e.verticalClass),e.clickable&&(i.classList.remove(...(e.clickableClass||"").split(" ")),i.removeEventListener("click",l))}))),t.pagination.bullets&&t.pagination.bullets.forEach((t=>t.classList.remove(...e.bulletActiveClass.split(" "))))}a("changeDirection",(()=>{if(!t.pagination||!t.pagination.el)return;const e=t.params.pagination;let{el:i}=t.pagination;i=C(i),i.forEach((i=>{i.classList.remove(e.horizontalClass,e.verticalClass),i.classList.add(t.isHorizontal()?e.horizontalClass:e.verticalClass)}))})),a("init",(()=>{!1===t.params.pagination.enabled?_():(u(),m(),p())})),a("activeIndexChange",(()=>{void 0===t.snapIndex&&p()})),a("snapIndexChange",(()=>{p()})),a("snapGridLengthChange",(()=>{m(),p()})),a("destroy",(()=>{g()})),a("enable disable",(()=>{let{el:e}=t.pagination;e&&(e=C(e),e.forEach((e=>e.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass))))})),a("lock unlock",(()=>{p()})),a("click",((e,i)=>{const a=i.target,s=C(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&s&&s.length>0&&!a.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&a===t.navigation.nextEl||t.navigation.prevEl&&a===t.navigation.prevEl))return;const e=s[0].classList.contains(t.params.pagination.hiddenClass);o(!0===e?"paginationShow":"paginationHide"),s.forEach((e=>e.classList.toggle(t.params.pagination.hiddenClass)))}}));const _=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:e}=t.pagination;e&&(e=C(e),e.forEach((e=>e.classList.add(t.params.pagination.paginationDisabledClass)))),g()};Object.assign(t.pagination,{enable:()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:e}=t.pagination;e&&(e=C(e),e.forEach((e=>e.classList.remove(t.params.pagination.paginationDisabledClass)))),u(),m(),p()},disable:_,render:m,update:p,init:u,destroy:g})},function(e){let{swiper:t,extendParams:i,on:o,emit:s}=e;const d=a();let c,l,p,m,u=!1,g=null,_=null;function f(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:e,rtlTranslate:i}=t,{dragEl:a,el:o}=e,s=t.params.scrollbar,r=t.params.loop?t.progressLoop:t.progress;let n=l,d=(p-l)*r;i?(d=-d,d>0?(n=l-d,d=0):-d+l>p&&(n=p+d)):d<0?(n=l+d,d=0):d+l>p&&(n=p-d),t.isHorizontal()?(a.style.transform=`translate3d(${d}px, 0, 0)`,a.style.width=`${n}px`):(a.style.transform=`translate3d(0px, ${d}px, 0)`,a.style.height=`${n}px`),s.hide&&(clearTimeout(g),o.style.opacity=1,g=setTimeout((()=>{o.style.opacity=0,o.style.transitionDuration="400ms"}),1e3))}function v(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:e}=t,{dragEl:i,el:a}=e;i.style.width="",i.style.height="",p=t.isHorizontal()?a.offsetWidth:a.offsetHeight,m=t.size/(t.virtualSize+t.params.slidesOffsetBefore-(t.params.centeredSlides?t.snapGrid[0]:0)),l="auto"===t.params.scrollbar.dragSize?p*m:parseInt(t.params.scrollbar.dragSize,10),t.isHorizontal()?i.style.width=`${l}px`:i.style.height=`${l}px`,a.style.display=m>=1?"none":"",t.params.scrollbar.hide&&(a.style.opacity=0),t.params.watchOverflow&&t.enabled&&e.el.classList[t.isLocked?"add":"remove"](t.params.scrollbar.lockClass)}function y(e){return t.isHorizontal()?e.clientX:e.clientY}function $(e){const{scrollbar:i,rtlTranslate:a}=t,{el:o}=i;let s;s=(y(e)-b(o)[t.isHorizontal()?"left":"top"]-(null!==c?c:l/2))/(p-l),s=Math.max(Math.min(s,1),0),a&&(s=1-s);const r=t.minTranslate()+(t.maxTranslate()-t.minTranslate())*s;t.updateProgress(r),t.setTranslate(r),t.updateActiveIndex(),t.updateSlidesClasses()}function w(e){const i=t.params.scrollbar,{scrollbar:a,wrapperEl:o}=t,{el:r,dragEl:n}=a;u=!0,c=e.target===n?y(e)-e.target.getBoundingClientRect()[t.isHorizontal()?"left":"top"]:null,e.preventDefault(),e.stopPropagation(),o.style.transitionDuration="100ms",n.style.transitionDuration="100ms",$(e),clearTimeout(_),r.style.transitionDuration="0ms",i.hide&&(r.style.opacity=1),t.params.cssMode&&(t.wrapperEl.style["scroll-snap-type"]="none"),s("scrollbarDragStart",e)}function S(e){const{scrollbar:i,wrapperEl:a}=t,{el:o,dragEl:r}=i;u&&(e.preventDefault&&e.cancelable?e.preventDefault():e.returnValue=!1,$(e),a.style.transitionDuration="0ms",o.style.transitionDuration="0ms",r.style.transitionDuration="0ms",s("scrollbarDragMove",e))}function L(e){const i=t.params.scrollbar,{scrollbar:a,wrapperEl:o}=t,{el:r}=a;u&&(u=!1,t.params.cssMode&&(t.wrapperEl.style["scroll-snap-type"]="",o.style.transitionDuration=""),i.hide&&(clearTimeout(_),_=n((()=>{r.style.opacity=0,r.style.transitionDuration="400ms"}),1e3)),s("scrollbarDragEnd",e),i.snapOnRelease&&t.slideToClosest())}function k(e){const{scrollbar:i,params:a}=t,o=i.el;if(!o)return;const s=o,r=!!a.passiveListeners&&{passive:!1,capture:!1},n=!!a.passiveListeners&&{passive:!0,capture:!1};if(!s)return;const c="on"===e?"addEventListener":"removeEventListener";s[c]("pointerdown",w,r),d[c]("pointermove",S,r),d[c]("pointerup",L,n)}function z(){const{scrollbar:e,el:i}=t;t.params.scrollbar=oe(t,t.originalParams.scrollbar,t.params.scrollbar,{el:"swiper-scrollbar"});const a=t.params.scrollbar;if(!a.el)return;let o,s;if("string"==typeof a.el&&t.isElement&&(o=t.el.querySelector(a.el)),o||"string"!=typeof a.el)o||(o=a.el);else if(o=d.querySelectorAll(a.el),!o.length)return;t.params.uniqueNavElements&&"string"==typeof a.el&&o.length>1&&1===i.querySelectorAll(a.el).length&&(o=i.querySelector(a.el)),o.length>0&&(o=o[0]),o.classList.add(t.isHorizontal()?a.horizontalClass:a.verticalClass),o&&(s=o.querySelector(se(t.params.scrollbar.dragClass)),s||(s=h("div",t.params.scrollbar.dragClass),o.append(s))),Object.assign(e,{el:o,dragEl:s}),a.draggable&&t.params.scrollbar.el&&t.scrollbar.el&&k("on"),o&&o.classList[t.enabled?"remove":"add"](...r(t.params.scrollbar.lockClass))}function I(){const e=t.params.scrollbar,i=t.scrollbar.el;i&&i.classList.remove(...r(t.isHorizontal()?e.horizontalClass:e.verticalClass)),t.params.scrollbar.el&&t.scrollbar.el&&k("off")}i({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),t.scrollbar={el:null,dragEl:null},o("changeDirection",(()=>{if(!t.scrollbar||!t.scrollbar.el)return;const e=t.params.scrollbar;let{el:i}=t.scrollbar;i=C(i),i.forEach((i=>{i.classList.remove(e.horizontalClass,e.verticalClass),i.classList.add(t.isHorizontal()?e.horizontalClass:e.verticalClass)}))})),o("init",(()=>{!1===t.params.scrollbar.enabled?x():(z(),v(),f())})),o("update resize observerUpdate lock unlock changeDirection",(()=>{v()})),o("setTranslate",(()=>{f()})),o("setTransition",((e,i)=>{!function(e){t.params.scrollbar.el&&t.scrollbar.el&&(t.scrollbar.dragEl.style.transitionDuration=`${e}ms`)}(i)})),o("enable disable",(()=>{const{el:e}=t.scrollbar;e&&e.classList[t.enabled?"remove":"add"](...r(t.params.scrollbar.lockClass))})),o("destroy",(()=>{I()}));const x=()=>{t.el.classList.add(...r(t.params.scrollbar.scrollbarDisabledClass)),t.scrollbar.el&&t.scrollbar.el.classList.add(...r(t.params.scrollbar.scrollbarDisabledClass)),I()};Object.assign(t.scrollbar,{enable:()=>{t.el.classList.remove(...r(t.params.scrollbar.scrollbarDisabledClass)),t.scrollbar.el&&t.scrollbar.el.classList.remove(...r(t.params.scrollbar.scrollbarDisabledClass)),z(),v(),f()},disable:x,updateSize:v,setTranslate:f,init:z,destroy:I})},function(e){let{swiper:t,extendParams:i,on:a}=e;i({parallax:{enabled:!1}});const o="[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]",s=(e,i)=>{const{rtl:a}=t,o=a?-1:1,s=e.getAttribute("data-swiper-parallax")||"0";let r=e.getAttribute("data-swiper-parallax-x"),n=e.getAttribute("data-swiper-parallax-y");const d=e.getAttribute("data-swiper-parallax-scale"),c=e.getAttribute("data-swiper-parallax-opacity"),l=e.getAttribute("data-swiper-parallax-rotate");if(r||n?(r=r||"0",n=n||"0"):t.isHorizontal()?(r=s,n="0"):(n=s,r="0"),r=r.indexOf("%")>=0?parseInt(r,10)*i*o+"%":r*i*o+"px",n=n.indexOf("%")>=0?parseInt(n,10)*i+"%":n*i+"px",null!=c){const t=c-(c-1)*(1-Math.abs(i));e.style.opacity=t}let p=`translate3d(${r}, ${n}, 0px)`;null!=d&&(p+=` scale(${d-(d-1)*(1-Math.abs(i))})`),l&&null!=l&&(p+=` rotate(${l*i*-1}deg)`),e.style.transform=p},r=()=>{const{el:e,slides:i,progress:a,snapGrid:r,isElement:n}=t,d=_(e,o);t.isElement&&d.push(..._(t.hostEl,o)),d.forEach((e=>{s(e,a)})),i.forEach(((e,i)=>{let n=e.progress;t.params.slidesPerGroup>1&&"auto"!==t.params.slidesPerView&&(n+=Math.ceil(i/2)-a*(r.length-1)),n=Math.min(Math.max(n,-1),1),e.querySelectorAll(`${o}, [data-swiper-parallax-rotate]`).forEach((e=>{s(e,n)}))}))};a("beforeInit",(()=>{t.params.parallax.enabled&&(t.params.watchSlidesProgress=!0,t.originalParams.watchSlidesProgress=!0)})),a("init",(()=>{t.params.parallax.enabled&&r()})),a("setTranslate",(()=>{t.params.parallax.enabled&&r()})),a("setTransition",((e,i)=>{t.params.parallax.enabled&&function(e){void 0===e&&(e=t.params.speed);const{el:i,hostEl:a}=t,s=[...i.querySelectorAll(o)];t.isElement&&s.push(...a.querySelectorAll(o)),s.forEach((t=>{let i=parseInt(t.getAttribute("data-swiper-parallax-duration"),10)||e;0===e&&(i=0),t.style.transitionDuration=`${i}ms`}))}(i)}))},function(e){let{swiper:t,extendParams:i,on:a,emit:o}=e;const r=s();i({zoom:{enabled:!1,limitToOriginalSize:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),t.zoom={enabled:!1};let n,d,l=1,p=!1;const m=[],u={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},g={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},f={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let h,v=1;function y(){if(m.length<2)return 1;const e=m[0].pageX,t=m[0].pageY,i=m[1].pageX,a=m[1].pageY;return Math.sqrt((i-e)**2+(a-t)**2)}function w(){const e=t.params.zoom,i=u.imageWrapEl.getAttribute("data-swiper-zoom")||e.maxRatio;if(e.limitToOriginalSize&&u.imageEl&&u.imageEl.naturalWidth){const e=u.imageEl.naturalWidth/u.imageEl.offsetWidth;return Math.min(e,i)}return i}function S(e){const i=t.isElement?"swiper-slide":`.${t.params.slideClass}`;return!!e.target.matches(i)||t.slides.filter((t=>t.contains(e.target))).length>0}function C(e){if("mouse"===e.pointerType&&m.splice(0,m.length),!S(e))return;const i=t.params.zoom;if(n=!1,d=!1,m.push(e),!(m.length<2)){if(n=!0,u.scaleStart=y(),!u.slideEl){u.slideEl=e.target.closest(`.${t.params.slideClass}, swiper-slide`),u.slideEl||(u.slideEl=t.slides[t.activeIndex]);let a=u.slideEl.querySelector(`.${i.containerClass}`);if(a&&(a=a.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),u.imageEl=a,u.imageWrapEl=a?$(u.imageEl,`.${i.containerClass}`)[0]:void 0,!u.imageWrapEl)return void(u.imageEl=void 0);u.maxRatio=w()}if(u.imageEl){const[e,t]=function(){if(m.length<2)return{x:null,y:null};const e=u.imageEl.getBoundingClientRect();return[(m[0].pageX+(m[1].pageX-m[0].pageX)/2-e.x-r.scrollX)/l,(m[0].pageY+(m[1].pageY-m[0].pageY)/2-e.y-r.scrollY)/l]}();u.originX=e,u.originY=t,u.imageEl.style.transitionDuration="0ms"}p=!0}}function L(e){if(!S(e))return;const i=t.params.zoom,a=t.zoom,o=m.findIndex((t=>t.pointerId===e.pointerId));o>=0&&(m[o]=e),m.length<2||(d=!0,u.scaleMove=y(),u.imageEl&&(a.scale=u.scaleMove/u.scaleStart*l,a.scale>u.maxRatio&&(a.scale=u.maxRatio-1+(a.scale-u.maxRatio+1)**.5),a.scale<i.minRatio&&(a.scale=i.minRatio+1-(i.minRatio-a.scale+1)**.5),u.imageEl.style.transform=`translate3d(0,0,0) scale(${a.scale})`))}function k(e){if(!S(e))return;if("mouse"===e.pointerType&&"pointerout"===e.type)return;const i=t.params.zoom,a=t.zoom,o=m.findIndex((t=>t.pointerId===e.pointerId));o>=0&&m.splice(o,1),n&&d&&(n=!1,d=!1,u.imageEl&&(a.scale=Math.max(Math.min(a.scale,u.maxRatio),i.minRatio),u.imageEl.style.transitionDuration=`${t.params.speed}ms`,u.imageEl.style.transform=`translate3d(0,0,0) scale(${a.scale})`,l=a.scale,p=!1,a.scale>1&&u.slideEl?u.slideEl.classList.add(`${i.zoomedSlideClass}`):a.scale<=1&&u.slideEl&&u.slideEl.classList.remove(`${i.zoomedSlideClass}`),1===a.scale&&(u.originX=0,u.originY=0,u.slideEl=void 0)))}function z(){t.touchEventsData.preventTouchMoveFromPointerMove=!1}function I(e){if(!S(e)||!function(e){const i=`.${t.params.zoom.containerClass}`;return!!e.target.matches(i)||[...t.hostEl.querySelectorAll(i)].filter((t=>t.contains(e.target))).length>0}(e))return;const i=t.zoom;if(!u.imageEl)return;if(!g.isTouched||!u.slideEl)return;g.isMoved||(g.width=u.imageEl.offsetWidth||u.imageEl.clientWidth,g.height=u.imageEl.offsetHeight||u.imageEl.clientHeight,g.startX=c(u.imageWrapEl,"x")||0,g.startY=c(u.imageWrapEl,"y")||0,u.slideWidth=u.slideEl.offsetWidth,u.slideHeight=u.slideEl.offsetHeight,u.imageWrapEl.style.transitionDuration="0ms");const a=g.width*i.scale,o=g.height*i.scale;if(g.minX=Math.min(u.slideWidth/2-a/2,0),g.maxX=-g.minX,g.minY=Math.min(u.slideHeight/2-o/2,0),g.maxY=-g.minY,g.touchesCurrent.x=m.length>0?m[0].pageX:e.pageX,g.touchesCurrent.y=m.length>0?m[0].pageY:e.pageY,Math.max(Math.abs(g.touchesCurrent.x-g.touchesStart.x),Math.abs(g.touchesCurrent.y-g.touchesStart.y))>5&&(t.allowClick=!1),!g.isMoved&&!p){if(t.isHorizontal()&&(Math.floor(g.minX)===Math.floor(g.startX)&&g.touchesCurrent.x<g.touchesStart.x||Math.floor(g.maxX)===Math.floor(g.startX)&&g.touchesCurrent.x>g.touchesStart.x))return g.isTouched=!1,void z();if(!t.isHorizontal()&&(Math.floor(g.minY)===Math.floor(g.startY)&&g.touchesCurrent.y<g.touchesStart.y||Math.floor(g.maxY)===Math.floor(g.startY)&&g.touchesCurrent.y>g.touchesStart.y))return g.isTouched=!1,void z()}e.cancelable&&e.preventDefault(),e.stopPropagation(),clearTimeout(h),t.touchEventsData.preventTouchMoveFromPointerMove=!0,h=setTimeout((()=>{z()})),g.isMoved=!0;const s=(i.scale-l)/(u.maxRatio-t.params.zoom.minRatio),{originX:r,originY:n}=u;g.currentX=g.touchesCurrent.x-g.touchesStart.x+g.startX+s*(g.width-2*r),g.currentY=g.touchesCurrent.y-g.touchesStart.y+g.startY+s*(g.height-2*n),g.currentX<g.minX&&(g.currentX=g.minX+1-(g.minX-g.currentX+1)**.8),g.currentX>g.maxX&&(g.currentX=g.maxX-1+(g.currentX-g.maxX+1)**.8),g.currentY<g.minY&&(g.currentY=g.minY+1-(g.minY-g.currentY+1)**.8),g.currentY>g.maxY&&(g.currentY=g.maxY-1+(g.currentY-g.maxY+1)**.8),f.prevPositionX||(f.prevPositionX=g.touchesCurrent.x),f.prevPositionY||(f.prevPositionY=g.touchesCurrent.y),f.prevTime||(f.prevTime=Date.now()),f.x=(g.touchesCurrent.x-f.prevPositionX)/(Date.now()-f.prevTime)/2,f.y=(g.touchesCurrent.y-f.prevPositionY)/(Date.now()-f.prevTime)/2,Math.abs(g.touchesCurrent.x-f.prevPositionX)<2&&(f.x=0),Math.abs(g.touchesCurrent.y-f.prevPositionY)<2&&(f.y=0),f.prevPositionX=g.touchesCurrent.x,f.prevPositionY=g.touchesCurrent.y,f.prevTime=Date.now(),u.imageWrapEl.style.transform=`translate3d(${g.currentX}px, ${g.currentY}px,0)`}function x(){const e=t.zoom;u.slideEl&&t.activeIndex!==t.slides.indexOf(u.slideEl)&&(u.imageEl&&(u.imageEl.style.transform="translate3d(0,0,0) scale(1)"),u.imageWrapEl&&(u.imageWrapEl.style.transform="translate3d(0,0,0)"),u.slideEl.classList.remove(`${t.params.zoom.zoomedSlideClass}`),e.scale=1,l=1,u.slideEl=void 0,u.imageEl=void 0,u.imageWrapEl=void 0,u.originX=0,u.originY=0)}function P(e){const i=t.zoom,a=t.params.zoom;if(!u.slideEl){e&&e.target&&(u.slideEl=e.target.closest(`.${t.params.slideClass}, swiper-slide`)),u.slideEl||(t.params.virtual&&t.params.virtual.enabled&&t.virtual?u.slideEl=_(t.slidesEl,`.${t.params.slideActiveClass}`)[0]:u.slideEl=t.slides[t.activeIndex]);let i=u.slideEl.querySelector(`.${a.containerClass}`);i&&(i=i.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),u.imageEl=i,u.imageWrapEl=i?$(u.imageEl,`.${a.containerClass}`)[0]:void 0}if(!u.imageEl||!u.imageWrapEl)return;let o,s,n,d,c,p,m,f,h,v,y,S,C,L,k,z,I,x;t.params.cssMode&&(t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.touchAction="none"),u.slideEl.classList.add(`${a.zoomedSlideClass}`),void 0===g.touchesStart.x&&e?(o=e.pageX,s=e.pageY):(o=g.touchesStart.x,s=g.touchesStart.y);const P="number"==typeof e?e:null;1===l&&P&&(o=void 0,s=void 0);const M=w();i.scale=P||M,l=P||M,!e||1===l&&P?(m=0,f=0):(I=u.slideEl.offsetWidth,x=u.slideEl.offsetHeight,n=b(u.slideEl).left+r.scrollX,d=b(u.slideEl).top+r.scrollY,c=n+I/2-o,p=d+x/2-s,h=u.imageEl.offsetWidth||u.imageEl.clientWidth,v=u.imageEl.offsetHeight||u.imageEl.clientHeight,y=h*i.scale,S=v*i.scale,C=Math.min(I/2-y/2,0),L=Math.min(x/2-S/2,0),k=-C,z=-L,m=c*i.scale,f=p*i.scale,m<C&&(m=C),m>k&&(m=k),f<L&&(f=L),f>z&&(f=z)),P&&1===i.scale&&(u.originX=0,u.originY=0),u.imageWrapEl.style.transitionDuration="300ms",u.imageWrapEl.style.transform=`translate3d(${m}px, ${f}px,0)`,u.imageEl.style.transitionDuration="300ms",u.imageEl.style.transform=`translate3d(0,0,0) scale(${i.scale})`}function M(){const e=t.zoom,i=t.params.zoom;if(!u.slideEl){t.params.virtual&&t.params.virtual.enabled&&t.virtual?u.slideEl=_(t.slidesEl,`.${t.params.slideActiveClass}`)[0]:u.slideEl=t.slides[t.activeIndex];let e=u.slideEl.querySelector(`.${i.containerClass}`);e&&(e=e.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),u.imageEl=e,u.imageWrapEl=e?$(u.imageEl,`.${i.containerClass}`)[0]:void 0}u.imageEl&&u.imageWrapEl&&(t.params.cssMode&&(t.wrapperEl.style.overflow="",t.wrapperEl.style.touchAction=""),e.scale=1,l=1,u.imageWrapEl.style.transitionDuration="300ms",u.imageWrapEl.style.transform="translate3d(0,0,0)",u.imageEl.style.transitionDuration="300ms",u.imageEl.style.transform="translate3d(0,0,0) scale(1)",u.slideEl.classList.remove(`${i.zoomedSlideClass}`),u.slideEl=void 0,u.originX=0,u.originY=0)}function A(e){const i=t.zoom;i.scale&&1!==i.scale?M():P(e)}function E(){return{passiveListener:!!t.params.passiveListeners&&{passive:!0,capture:!1},activeListenerWithCapture:!t.params.passiveListeners||{passive:!1,capture:!0}}}function O(){const e=t.zoom;if(e.enabled)return;e.enabled=!0;const{passiveListener:i,activeListenerWithCapture:a}=E();t.wrapperEl.addEventListener("pointerdown",C,i),t.wrapperEl.addEventListener("pointermove",L,a),["pointerup","pointercancel","pointerout"].forEach((e=>{t.wrapperEl.addEventListener(e,k,i)})),t.wrapperEl.addEventListener("pointermove",I,a)}function D(){const e=t.zoom;if(!e.enabled)return;e.enabled=!1;const{passiveListener:i,activeListenerWithCapture:a}=E();t.wrapperEl.removeEventListener("pointerdown",C,i),t.wrapperEl.removeEventListener("pointermove",L,a),["pointerup","pointercancel","pointerout"].forEach((e=>{t.wrapperEl.removeEventListener(e,k,i)})),t.wrapperEl.removeEventListener("pointermove",I,a)}Object.defineProperty(t.zoom,"scale",{get:()=>v,set(e){if(v!==e){const t=u.imageEl,i=u.slideEl;o("zoomChange",e,t,i)}v=e}}),a("init",(()=>{t.params.zoom.enabled&&O()})),a("destroy",(()=>{D()})),a("touchStart",((e,i)=>{t.zoom.enabled&&function(e){const i=t.device;if(!u.imageEl)return;if(g.isTouched)return;i.android&&e.cancelable&&e.preventDefault(),g.isTouched=!0;const a=m.length>0?m[0]:e;g.touchesStart.x=a.pageX,g.touchesStart.y=a.pageY}(i)})),a("touchEnd",((e,i)=>{t.zoom.enabled&&function(){const e=t.zoom;if(!u.imageEl)return;if(!g.isTouched||!g.isMoved)return g.isTouched=!1,void(g.isMoved=!1);g.isTouched=!1,g.isMoved=!1;let i=300,a=300;const o=f.x*i,s=g.currentX+o,r=f.y*a,n=g.currentY+r;0!==f.x&&(i=Math.abs((s-g.currentX)/f.x)),0!==f.y&&(a=Math.abs((n-g.currentY)/f.y));const d=Math.max(i,a);g.currentX=s,g.currentY=n;const c=g.width*e.scale,l=g.height*e.scale;g.minX=Math.min(u.slideWidth/2-c/2,0),g.maxX=-g.minX,g.minY=Math.min(u.slideHeight/2-l/2,0),g.maxY=-g.minY,g.currentX=Math.max(Math.min(g.currentX,g.maxX),g.minX),g.currentY=Math.max(Math.min(g.currentY,g.maxY),g.minY),u.imageWrapEl.style.transitionDuration=`${d}ms`,u.imageWrapEl.style.transform=`translate3d(${g.currentX}px, ${g.currentY}px,0)`}()})),a("doubleTap",((e,i)=>{!t.animating&&t.params.zoom.enabled&&t.zoom.enabled&&t.params.zoom.toggle&&A(i)})),a("transitionEnd",(()=>{t.zoom.enabled&&t.params.zoom.enabled&&x()})),a("slideChange",(()=>{t.zoom.enabled&&t.params.zoom.enabled&&t.params.cssMode&&x()})),Object.assign(t.zoom,{enable:O,disable:D,in:P,out:M,toggle:A})},function(e){let{swiper:t,extendParams:i,on:a}=e;function o(e,t){const i=function(){let e,t,i;return(a,o)=>{for(t=-1,e=a.length;e-t>1;)i=e+t>>1,a[i]<=o?t=i:e=i;return e}}();let a,o;return this.x=e,this.y=t,this.lastIndex=e.length-1,this.interpolate=function(e){return e?(o=i(this.x,e),a=o-1,(e-this.x[a])*(this.y[o]-this.y[a])/(this.x[o]-this.x[a])+this.y[a]):0},this}function s(){t.controller.control&&t.controller.spline&&(t.controller.spline=void 0,delete t.controller.spline)}i({controller:{control:void 0,inverse:!1,by:"slide"}}),t.controller={control:void 0},a("beforeInit",(()=>{if("undefined"!=typeof window&&("string"==typeof t.params.controller.control||t.params.controller.control instanceof HTMLElement)){const e=document.querySelector(t.params.controller.control);if(e&&e.swiper)t.controller.control=e.swiper;else if(e){const i=a=>{t.controller.control=a.detail[0],t.update(),e.removeEventListener("init",i)};e.addEventListener("init",i)}}else t.controller.control=t.params.controller.control})),a("update",(()=>{s()})),a("resize",(()=>{s()})),a("observerUpdate",(()=>{s()})),a("setTranslate",((e,i,a)=>{t.controller.control&&!t.controller.control.destroyed&&t.controller.setTranslate(i,a)})),a("setTransition",((e,i,a)=>{t.controller.control&&!t.controller.control.destroyed&&t.controller.setTransition(i,a)})),Object.assign(t.controller,{setTranslate:function(e,i){const a=t.controller.control;let s,r;const n=t.constructor;function d(e){if(e.destroyed)return;const i=t.rtlTranslate?-t.translate:t.translate;"slide"===t.params.controller.by&&(function(e){t.controller.spline=t.params.loop?new o(t.slidesGrid,e.slidesGrid):new o(t.snapGrid,e.snapGrid)}(e),r=-t.controller.spline.interpolate(-i)),r&&"container"!==t.params.controller.by||(s=(e.maxTranslate()-e.minTranslate())/(t.maxTranslate()-t.minTranslate()),!Number.isNaN(s)&&Number.isFinite(s)||(s=1),r=(i-t.minTranslate())*s+e.minTranslate()),t.params.controller.inverse&&(r=e.maxTranslate()-r),e.updateProgress(r),e.setTranslate(r,t),e.updateActiveIndex(),e.updateSlidesClasses()}if(Array.isArray(a))for(let e=0;e<a.length;e+=1)a[e]!==i&&a[e]instanceof n&&d(a[e]);else a instanceof n&&i!==a&&d(a)},setTransition:function(e,i){const a=t.constructor,o=t.controller.control;let s;function r(i){i.destroyed||(i.setTransition(e,t),0!==e&&(i.transitionStart(),i.params.autoHeight&&n((()=>{i.updateAutoHeight()})),w(i.wrapperEl,(()=>{o&&i.transitionEnd()}))))}if(Array.isArray(o))for(s=0;s<o.length;s+=1)o[s]!==i&&o[s]instanceof a&&r(o[s]);else o instanceof a&&i!==o&&r(o)}})},function(e){let{swiper:t,extendParams:i,on:o}=e;i({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),t.a11y={clicked:!1};let s,r,n=null,d=(new Date).getTime();function c(e){const t=n;0!==t.length&&(t.innerHTML="",t.innerHTML=e)}function l(e){(e=C(e)).forEach((e=>{e.setAttribute("tabIndex","0")}))}function p(e){(e=C(e)).forEach((e=>{e.setAttribute("tabIndex","-1")}))}function m(e,t){(e=C(e)).forEach((e=>{e.setAttribute("role",t)}))}function u(e,t){(e=C(e)).forEach((e=>{e.setAttribute("aria-roledescription",t)}))}function g(e,t){(e=C(e)).forEach((e=>{e.setAttribute("aria-label",t)}))}function _(e){(e=C(e)).forEach((e=>{e.setAttribute("aria-disabled",!0)}))}function f(e){(e=C(e)).forEach((e=>{e.setAttribute("aria-disabled",!1)}))}function b(e){if(13!==e.keyCode&&32!==e.keyCode)return;const i=t.params.a11y,a=e.target;if(!t.pagination||!t.pagination.el||a!==t.pagination.el&&!t.pagination.el.contains(e.target)||e.target.matches(se(t.params.pagination.bulletClass))){if(t.navigation&&t.navigation.prevEl&&t.navigation.nextEl){const e=C(t.navigation.prevEl);C(t.navigation.nextEl).includes(a)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.isEnd?c(i.lastSlideMessage):c(i.nextSlideMessage)),e.includes(a)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.isBeginning?c(i.firstSlideMessage):c(i.prevSlideMessage))}t.pagination&&a.matches(se(t.params.pagination.bulletClass))&&a.click()}}function v(){return t.pagination&&t.pagination.bullets&&t.pagination.bullets.length}function $(){return v()&&t.params.pagination.clickable}const w=(e,t,i)=>{l(e),"BUTTON"!==e.tagName&&(m(e,"button"),e.addEventListener("keydown",b)),g(e,i),function(e,t){(e=C(e)).forEach((e=>{e.setAttribute("aria-controls",t)}))}(e,t)},S=e=>{r&&r!==e.target&&!r.contains(e.target)&&(s=!0),t.a11y.clicked=!0},L=()=>{s=!1,requestAnimationFrame((()=>{requestAnimationFrame((()=>{t.destroyed||(t.a11y.clicked=!1)}))}))},k=e=>{d=(new Date).getTime()},z=e=>{if(t.a11y.clicked)return;if((new Date).getTime()-d<100)return;const i=e.target.closest(`.${t.params.slideClass}, swiper-slide`);if(!i||!t.slides.includes(i))return;r=i;const a=t.slides.indexOf(i)===t.activeIndex,o=t.params.watchSlidesProgress&&t.visibleSlides&&t.visibleSlides.includes(i);a||o||e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents||(t.isHorizontal()?t.el.scrollLeft=0:t.el.scrollTop=0,requestAnimationFrame((()=>{s||(t.params.loop?t.slideToLoop(parseInt(i.getAttribute("data-swiper-slide-index")),0):t.slideTo(t.slides.indexOf(i),0),s=!1)})))},I=()=>{const e=t.params.a11y;e.itemRoleDescriptionMessage&&u(t.slides,e.itemRoleDescriptionMessage),e.slideRole&&m(t.slides,e.slideRole);const i=t.slides.length;e.slideLabelMessage&&t.slides.forEach(((a,o)=>{const s=t.params.loop?parseInt(a.getAttribute("data-swiper-slide-index"),10):o;g(a,e.slideLabelMessage.replace(/\{\{index\}\}/,s+1).replace(/\{\{slidesLength\}\}/,i))}))};o("beforeInit",(()=>{n=h("span",t.params.a11y.notificationClass),n.setAttribute("aria-live","assertive"),n.setAttribute("aria-atomic","true")})),o("afterInit",(()=>{t.params.a11y.enabled&&(()=>{const e=t.params.a11y;t.el.append(n);const i=t.el;e.containerRoleDescriptionMessage&&u(i,e.containerRoleDescriptionMessage),e.containerMessage&&g(i,e.containerMessage);const o=t.wrapperEl,s=e.id||o.getAttribute("id")||`swiper-wrapper-${r=16,void 0===r&&(r=16),"x".repeat(r).replace(/x/g,(()=>Math.round(16*Math.random()).toString(16)))}`;var r;const d=t.params.autoplay&&t.params.autoplay.enabled?"off":"polite";var c;c=s,C(o).forEach((e=>{e.setAttribute("id",c)})),function(e,t){(e=C(e)).forEach((e=>{e.setAttribute("aria-live",t)}))}(o,d),I();let{nextEl:l,prevEl:p}=t.navigation?t.navigation:{};l=C(l),p=C(p),l&&l.forEach((t=>w(t,s,e.nextSlideMessage))),p&&p.forEach((t=>w(t,s,e.prevSlideMessage))),$()&&C(t.pagination.el).forEach((e=>{e.addEventListener("keydown",b)})),a().addEventListener("visibilitychange",k),t.el.addEventListener("focus",z,!0),t.el.addEventListener("focus",z,!0),t.el.addEventListener("pointerdown",S,!0),t.el.addEventListener("pointerup",L,!0)})()})),o("slidesLengthChange snapGridLengthChange slidesGridLengthChange",(()=>{t.params.a11y.enabled&&I()})),o("fromEdge toEdge afterInit lock unlock",(()=>{t.params.a11y.enabled&&function(){if(t.params.loop||t.params.rewind||!t.navigation)return;const{nextEl:e,prevEl:i}=t.navigation;i&&(t.isBeginning?(_(i),p(i)):(f(i),l(i))),e&&(t.isEnd?(_(e),p(e)):(f(e),l(e)))}()})),o("paginationUpdate",(()=>{t.params.a11y.enabled&&function(){const e=t.params.a11y;v()&&t.pagination.bullets.forEach((i=>{t.params.pagination.clickable&&(l(i),t.params.pagination.renderBullet||(m(i,"button"),g(i,e.paginationBulletMessage.replace(/\{\{index\}\}/,y(i)+1)))),i.matches(se(t.params.pagination.bulletActiveClass))?i.setAttribute("aria-current","true"):i.removeAttribute("aria-current")}))}()})),o("destroy",(()=>{t.params.a11y.enabled&&function(){n&&n.remove();let{nextEl:e,prevEl:i}=t.navigation?t.navigation:{};e=C(e),i=C(i),e&&e.forEach((e=>e.removeEventListener("keydown",b))),i&&i.forEach((e=>e.removeEventListener("keydown",b))),$()&&C(t.pagination.el).forEach((e=>{e.removeEventListener("keydown",b)})),a().removeEventListener("visibilitychange",k),t.el&&"string"!=typeof t.el&&(t.el.removeEventListener("focus",z,!0),t.el.removeEventListener("pointerdown",S,!0),t.el.removeEventListener("pointerup",L,!0))}()}))},function(e){let{swiper:t,extendParams:i,on:a}=e;i({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let o=!1,r={};const n=e=>e.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),d=e=>{const t=s();let i;i=e?new URL(e):t.location;const a=i.pathname.slice(1).split("/").filter((e=>""!==e)),o=a.length;return{key:a[o-2],value:a[o-1]}},c=(e,i)=>{const a=s();if(!o||!t.params.history.enabled)return;let r;r=t.params.url?new URL(t.params.url):a.location;const d=t.virtual&&t.params.virtual.enabled?t.slidesEl.querySelector(`[data-swiper-slide-index="${i}"]`):t.slides[i];let c=n(d.getAttribute("data-history"));if(t.params.history.root.length>0){let i=t.params.history.root;"/"===i[i.length-1]&&(i=i.slice(0,i.length-1)),c=`${i}/${e?`${e}/`:""}${c}`}else r.pathname.includes(e)||(c=`${e?`${e}/`:""}${c}`);t.params.history.keepQuery&&(c+=r.search);const l=a.history.state;l&&l.value===c||(t.params.history.replaceState?a.history.replaceState({value:c},null,c):a.history.pushState({value:c},null,c))},l=(e,i,a)=>{if(i)for(let o=0,s=t.slides.length;o<s;o+=1){const s=t.slides[o];if(n(s.getAttribute("data-history"))===i){const i=t.getSlideIndex(s);t.slideTo(i,e,a)}}else t.slideTo(0,e,a)},p=()=>{r=d(t.params.url),l(t.params.speed,r.value,!1)};a("init",(()=>{t.params.history.enabled&&(()=>{const e=s();if(t.params.history){if(!e.history||!e.history.pushState)return t.params.history.enabled=!1,void(t.params.hashNavigation.enabled=!0);o=!0,r=d(t.params.url),r.key||r.value?(l(0,r.value,t.params.runCallbacksOnInit),t.params.history.replaceState||e.addEventListener("popstate",p)):t.params.history.replaceState||e.addEventListener("popstate",p)}})()})),a("destroy",(()=>{t.params.history.enabled&&(()=>{const e=s();t.params.history.replaceState||e.removeEventListener("popstate",p)})()})),a("transitionEnd _freeModeNoMomentumRelease",(()=>{o&&c(t.params.history.key,t.activeIndex)})),a("slideChange",(()=>{o&&t.params.cssMode&&c(t.params.history.key,t.activeIndex)}))},function(e){let{swiper:t,extendParams:i,emit:o,on:r}=e,n=!1;const d=a(),c=s();i({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(e,i){if(t.virtual&&t.params.virtual.enabled){const e=t.slides.filter((e=>e.getAttribute("data-hash")===i))[0];return e?parseInt(e.getAttribute("data-swiper-slide-index"),10):0}return t.getSlideIndex(_(t.slidesEl,`.${t.params.slideClass}[data-hash="${i}"], swiper-slide[data-hash="${i}"]`)[0])}}});const l=()=>{o("hashChange");const e=d.location.hash.replace("#",""),i=t.virtual&&t.params.virtual.enabled?t.slidesEl.querySelector(`[data-swiper-slide-index="${t.activeIndex}"]`):t.slides[t.activeIndex];if(e!==(i?i.getAttribute("data-hash"):"")){const i=t.params.hashNavigation.getSlideIndex(t,e);if(void 0===i||Number.isNaN(i))return;t.slideTo(i)}},p=()=>{if(!n||!t.params.hashNavigation.enabled)return;const e=t.virtual&&t.params.virtual.enabled?t.slidesEl.querySelector(`[data-swiper-slide-index="${t.activeIndex}"]`):t.slides[t.activeIndex],i=e?e.getAttribute("data-hash")||e.getAttribute("data-history"):"";t.params.hashNavigation.replaceState&&c.history&&c.history.replaceState?(c.history.replaceState(null,null,`#${i}`||""),o("hashSet")):(d.location.hash=i||"",o("hashSet"))};r("init",(()=>{t.params.hashNavigation.enabled&&(()=>{if(!t.params.hashNavigation.enabled||t.params.history&&t.params.history.enabled)return;n=!0;const e=d.location.hash.replace("#","");if(e){const i=0,a=t.params.hashNavigation.getSlideIndex(t,e);t.slideTo(a||0,i,t.params.runCallbacksOnInit,!0)}t.params.hashNavigation.watchState&&c.addEventListener("hashchange",l)})()})),r("destroy",(()=>{t.params.hashNavigation.enabled&&t.params.hashNavigation.watchState&&c.removeEventListener("hashchange",l)})),r("transitionEnd _freeModeNoMomentumRelease",(()=>{n&&p()})),r("slideChange",(()=>{n&&t.params.cssMode&&p()}))},function(e){let t,i,{swiper:o,extendParams:s,on:r,emit:n,params:d}=e;o.autoplay={running:!1,paused:!1,timeLeft:0},s({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let c,l,p,m,u,g,_,f,h=d&&d.autoplay?d.autoplay.delay:3e3,b=d&&d.autoplay?d.autoplay.delay:3e3,v=(new Date).getTime();function y(e){o&&!o.destroyed&&o.wrapperEl&&e.target===o.wrapperEl&&(o.wrapperEl.removeEventListener("transitionend",y),f||e.detail&&e.detail.bySwiperTouchMove||k())}const $=()=>{if(o.destroyed||!o.autoplay.running)return;o.autoplay.paused?l=!0:l&&(b=c,l=!1);const e=o.autoplay.paused?c:v+b-(new Date).getTime();o.autoplay.timeLeft=e,n("autoplayTimeLeft",e,e/h),i=requestAnimationFrame((()=>{$()}))},w=e=>{if(o.destroyed||!o.autoplay.running)return;cancelAnimationFrame(i),$();let a=void 0===e?o.params.autoplay.delay:e;h=o.params.autoplay.delay,b=o.params.autoplay.delay;const s=(()=>{let e;if(e=o.virtual&&o.params.virtual.enabled?o.slides.filter((e=>e.classList.contains("swiper-slide-active")))[0]:o.slides[o.activeIndex],e)return parseInt(e.getAttribute("data-swiper-autoplay"),10)})();!Number.isNaN(s)&&s>0&&void 0===e&&(a=s,h=s,b=s),c=a;const r=o.params.speed,d=()=>{o&&!o.destroyed&&(o.params.autoplay.reverseDirection?!o.isBeginning||o.params.loop||o.params.rewind?(o.slidePrev(r,!0,!0),n("autoplay")):o.params.autoplay.stopOnLastSlide||(o.slideTo(o.slides.length-1,r,!0,!0),n("autoplay")):!o.isEnd||o.params.loop||o.params.rewind?(o.slideNext(r,!0,!0),n("autoplay")):o.params.autoplay.stopOnLastSlide||(o.slideTo(0,r,!0,!0),n("autoplay")),o.params.cssMode&&(v=(new Date).getTime(),requestAnimationFrame((()=>{w()}))))};return a>0?(clearTimeout(t),t=setTimeout((()=>{d()}),a)):requestAnimationFrame((()=>{d()})),a},S=()=>{v=(new Date).getTime(),o.autoplay.running=!0,w(),n("autoplayStart")},C=()=>{o.autoplay.running=!1,clearTimeout(t),cancelAnimationFrame(i),n("autoplayStop")},L=(e,i)=>{if(o.destroyed||!o.autoplay.running)return;clearTimeout(t),e||(_=!0);const a=()=>{n("autoplayPause"),o.params.autoplay.waitForTransition?o.wrapperEl.addEventListener("transitionend",y):k()};if(o.autoplay.paused=!0,i)return g&&(c=o.params.autoplay.delay),g=!1,void a();const s=c||o.params.autoplay.delay;c=s-((new Date).getTime()-v),o.isEnd&&c<0&&!o.params.loop||(c<0&&(c=0),a())},k=()=>{o.isEnd&&c<0&&!o.params.loop||o.destroyed||!o.autoplay.running||(v=(new Date).getTime(),_?(_=!1,w(c)):w(),o.autoplay.paused=!1,n("autoplayResume"))},z=()=>{if(o.destroyed||!o.autoplay.running)return;const e=a();"hidden"===e.visibilityState&&(_=!0,L(!0)),"visible"===e.visibilityState&&k()},I=e=>{"mouse"===e.pointerType&&(_=!0,f=!0,o.animating||o.autoplay.paused||L(!0))},x=e=>{"mouse"===e.pointerType&&(f=!1,o.autoplay.paused&&k())};r("init",(()=>{o.params.autoplay.enabled&&(o.params.autoplay.pauseOnMouseEnter&&(o.el.addEventListener("pointerenter",I),o.el.addEventListener("pointerleave",x)),a().addEventListener("visibilitychange",z),S())})),r("destroy",(()=>{o.el&&"string"!=typeof o.el&&(o.el.removeEventListener("pointerenter",I),o.el.removeEventListener("pointerleave",x)),a().removeEventListener("visibilitychange",z),o.autoplay.running&&C()})),r("_freeModeStaticRelease",(()=>{(m||_)&&k()})),r("_freeModeNoMomentumRelease",(()=>{o.params.autoplay.disableOnInteraction?C():L(!0,!0)})),r("beforeTransitionStart",((e,t,i)=>{!o.destroyed&&o.autoplay.running&&(i||!o.params.autoplay.disableOnInteraction?L(!0,!0):C())})),r("sliderFirstMove",(()=>{!o.destroyed&&o.autoplay.running&&(o.params.autoplay.disableOnInteraction?C():(p=!0,m=!1,_=!1,u=setTimeout((()=>{_=!0,m=!0,L(!0)}),200)))})),r("touchEnd",(()=>{if(!o.destroyed&&o.autoplay.running&&p){if(clearTimeout(u),clearTimeout(t),o.params.autoplay.disableOnInteraction)return m=!1,void(p=!1);m&&o.params.cssMode&&k(),m=!1,p=!1}})),r("slideChange",(()=>{!o.destroyed&&o.autoplay.running&&(g=!0)})),Object.assign(o.autoplay,{start:S,stop:C,pause:L,resume:k})},function(e){let{swiper:t,extendParams:i,on:o}=e;i({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let s=!1,r=!1;function n(){const e=t.thumbs.swiper;if(!e||e.destroyed)return;const i=e.clickedIndex,a=e.clickedSlide;if(a&&a.classList.contains(t.params.thumbs.slideThumbActiveClass))return;if(null==i)return;let o;o=e.params.loop?parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10):i,t.params.loop?t.slideToLoop(o):t.slideTo(o)}function d(){const{thumbs:e}=t.params;if(s)return!1;s=!0;const i=t.constructor;if(e.swiper instanceof i)t.thumbs.swiper=e.swiper,Object.assign(t.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(t.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper.update();else if(l(e.swiper)){const a=Object.assign({},e.swiper);Object.assign(a,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper=new i(a),r=!0}return t.thumbs.swiper.el.classList.add(t.params.thumbs.thumbsContainerClass),t.thumbs.swiper.on("tap",n),!0}function c(e){const i=t.thumbs.swiper;if(!i||i.destroyed)return;const a="auto"===i.params.slidesPerView?i.slidesPerViewDynamic():i.params.slidesPerView;let o=1;const s=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides&&(o=t.params.slidesPerView),t.params.thumbs.multipleActiveThumbs||(o=1),o=Math.floor(o),i.slides.forEach((e=>e.classList.remove(s))),i.params.loop||i.params.virtual&&i.params.virtual.enabled)for(let e=0;e<o;e+=1)_(i.slidesEl,`[data-swiper-slide-index="${t.realIndex+e}"]`).forEach((e=>{e.classList.add(s)}));else for(let e=0;e<o;e+=1)i.slides[t.realIndex+e]&&i.slides[t.realIndex+e].classList.add(s);const r=t.params.thumbs.autoScrollOffset,n=r&&!i.params.loop;if(t.realIndex!==i.realIndex||n){const o=i.activeIndex;let s,d;if(i.params.loop){const e=i.slides.filter((e=>e.getAttribute("data-swiper-slide-index")===`${t.realIndex}`))[0];s=i.slides.indexOf(e),d=t.activeIndex>t.previousIndex?"next":"prev"}else s=t.realIndex,d=s>t.previousIndex?"next":"prev";n&&(s+="next"===d?r:-1*r),i.visibleSlidesIndexes&&i.visibleSlidesIndexes.indexOf(s)<0&&(i.params.centeredSlides?s=s>o?s-Math.floor(a/2)+1:s+Math.floor(a/2)-1:s>o&&i.params.slidesPerGroup,i.slideTo(s,e?0:void 0))}}t.thumbs={swiper:null},o("beforeInit",(()=>{const{thumbs:e}=t.params;if(e&&e.swiper)if("string"==typeof e.swiper||e.swiper instanceof HTMLElement){const i=a(),o=()=>{const a="string"==typeof e.swiper?i.querySelector(e.swiper):e.swiper;if(a&&a.swiper)e.swiper=a.swiper,d(),c(!0);else if(a){const i=o=>{e.swiper=o.detail[0],a.removeEventListener("init",i),d(),c(!0),e.swiper.update(),t.update()};a.addEventListener("init",i)}return a},s=()=>{t.destroyed||o()||requestAnimationFrame(s)};requestAnimationFrame(s)}else d(),c(!0)})),o("slideChange update resize observerUpdate",(()=>{c()})),o("setTransition",((e,i)=>{const a=t.thumbs.swiper;a&&!a.destroyed&&a.setTransition(i)})),o("beforeDestroy",(()=>{const e=t.thumbs.swiper;e&&!e.destroyed&&r&&e.destroy()})),Object.assign(t.thumbs,{init:d,update:c})},function(e){let{swiper:t,extendParams:i,emit:a,once:o}=e;i({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}}),Object.assign(t,{freeMode:{onTouchStart:function(){if(t.params.cssMode)return;const e=t.getTranslate();t.setTranslate(e),t.setTransition(0),t.touchEventsData.velocities.length=0,t.freeMode.onTouchEnd({currentPos:t.rtl?t.translate:-t.translate})},onTouchMove:function(){if(t.params.cssMode)return;const{touchEventsData:e,touches:i}=t;0===e.velocities.length&&e.velocities.push({position:i[t.isHorizontal()?"startX":"startY"],time:e.touchStartTime}),e.velocities.push({position:i[t.isHorizontal()?"currentX":"currentY"],time:d()})},onTouchEnd:function(e){let{currentPos:i}=e;if(t.params.cssMode)return;const{params:s,wrapperEl:r,rtlTranslate:n,snapGrid:c,touchEventsData:l}=t,p=d()-l.touchStartTime;if(i<-t.minTranslate())t.slideTo(t.activeIndex);else if(i>-t.maxTranslate())t.slides.length<c.length?t.slideTo(c.length-1):t.slideTo(t.slides.length-1);else{if(s.freeMode.momentum){if(l.velocities.length>1){const e=l.velocities.pop(),i=l.velocities.pop(),a=e.position-i.position,o=e.time-i.time;t.velocity=a/o,t.velocity/=2,Math.abs(t.velocity)<s.freeMode.minimumVelocity&&(t.velocity=0),(o>150||d()-e.time>300)&&(t.velocity=0)}else t.velocity=0;t.velocity*=s.freeMode.momentumVelocityRatio,l.velocities.length=0;let e=1e3*s.freeMode.momentumRatio;const i=t.velocity*e;let p=t.translate+i;n&&(p=-p);let m,u=!1;const g=20*Math.abs(t.velocity)*s.freeMode.momentumBounceRatio;let _;if(p<t.maxTranslate())s.freeMode.momentumBounce?(p+t.maxTranslate()<-g&&(p=t.maxTranslate()-g),m=t.maxTranslate(),u=!0,l.allowMomentumBounce=!0):p=t.maxTranslate(),s.loop&&s.centeredSlides&&(_=!0);else if(p>t.minTranslate())s.freeMode.momentumBounce?(p-t.minTranslate()>g&&(p=t.minTranslate()+g),m=t.minTranslate(),u=!0,l.allowMomentumBounce=!0):p=t.minTranslate(),s.loop&&s.centeredSlides&&(_=!0);else if(s.freeMode.sticky){let e;for(let t=0;t<c.length;t+=1)if(c[t]>-p){e=t;break}p=Math.abs(c[e]-p)<Math.abs(c[e-1]-p)||"next"===t.swipeDirection?c[e]:c[e-1],p=-p}if(_&&o("transitionEnd",(()=>{t.loopFix()})),0!==t.velocity){if(e=n?Math.abs((-p-t.translate)/t.velocity):Math.abs((p-t.translate)/t.velocity),s.freeMode.sticky){const i=Math.abs((n?-p:p)-t.translate),a=t.slidesSizesGrid[t.activeIndex];e=i<a?s.speed:i<2*a?1.5*s.speed:2.5*s.speed}}else if(s.freeMode.sticky)return void t.slideToClosest();s.freeMode.momentumBounce&&u?(t.updateProgress(m),t.setTransition(e),t.setTranslate(p),t.transitionStart(!0,t.swipeDirection),t.animating=!0,w(r,(()=>{t&&!t.destroyed&&l.allowMomentumBounce&&(a("momentumBounce"),t.setTransition(s.speed),setTimeout((()=>{t.setTranslate(m),w(r,(()=>{t&&!t.destroyed&&t.transitionEnd()}))}),0))}))):t.velocity?(a("_freeModeNoMomentumRelease"),t.updateProgress(p),t.setTransition(e),t.setTranslate(p),t.transitionStart(!0,t.swipeDirection),t.animating||(t.animating=!0,w(r,(()=>{t&&!t.destroyed&&t.transitionEnd()})))):t.updateProgress(p),t.updateActiveIndex(),t.updateSlidesClasses()}else{if(s.freeMode.sticky)return void t.slideToClosest();s.freeMode&&a("_freeModeNoMomentumRelease")}(!s.freeMode.momentum||p>=s.longSwipesMs)&&(a("_freeModeStaticRelease"),t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses())}}}})},function(e){let t,i,a,o,{swiper:s,extendParams:r,on:n}=e;r({grid:{rows:1,fill:"column"}});const d=()=>{let e=s.params.spaceBetween;return"string"==typeof e&&e.indexOf("%")>=0?e=parseFloat(e.replace("%",""))/100*s.size:"string"==typeof e&&(e=parseFloat(e)),e};n("init",(()=>{o=s.params.grid&&s.params.grid.rows>1})),n("update",(()=>{const{params:e,el:t}=s,i=e.grid&&e.grid.rows>1;o&&!i?(t.classList.remove(`${e.containerModifierClass}grid`,`${e.containerModifierClass}grid-column`),a=1,s.emitContainerClasses()):!o&&i&&(t.classList.add(`${e.containerModifierClass}grid`),"column"===e.grid.fill&&t.classList.add(`${e.containerModifierClass}grid-column`),s.emitContainerClasses()),o=i})),s.grid={initSlides:e=>{const{slidesPerView:o}=s.params,{rows:r,fill:n}=s.params.grid,d=s.virtual&&s.params.virtual.enabled?s.virtual.slides.length:e.length;a=Math.floor(d/r),t=Math.floor(d/r)===d/r?d:Math.ceil(d/r)*r,"auto"!==o&&"row"===n&&(t=Math.max(t,o*r)),i=t/r},unsetSlides:()=>{s.slides&&s.slides.forEach((e=>{e.swiperSlideGridSet&&(e.style.height="",e.style[s.getDirectionLabel("margin-top")]="")}))},updateSlide:(e,o,r)=>{const{slidesPerGroup:n}=s.params,c=d(),{rows:l,fill:p}=s.params.grid,m=s.virtual&&s.params.virtual.enabled?s.virtual.slides.length:r.length;let u,g,_;if("row"===p&&n>1){const i=Math.floor(e/(n*l)),a=e-l*n*i,s=0===i?n:Math.min(Math.ceil((m-i*l*n)/l),n);_=Math.floor(a/s),g=a-_*s+i*n,u=g+_*t/l,o.style.order=u}else"column"===p?(g=Math.floor(e/l),_=e-g*l,(g>a||g===a&&_===l-1)&&(_+=1,_>=l&&(_=0,g+=1))):(_=Math.floor(e/i),g=e-_*i);o.row=_,o.column=g,o.style.height=`calc((100% - ${(l-1)*c}px) / ${l})`,o.style[s.getDirectionLabel("margin-top")]=0!==_?c&&`${c}px`:"",o.swiperSlideGridSet=!0},updateWrapperSize:(e,i)=>{const{centeredSlides:a,roundLengths:o}=s.params,r=d(),{rows:n}=s.params.grid;if(s.virtualSize=(e+r)*t,s.virtualSize=Math.ceil(s.virtualSize/n)-r,s.params.cssMode||(s.wrapperEl.style[s.getDirectionLabel("width")]=`${s.virtualSize+r}px`),a){const e=[];for(let t=0;t<i.length;t+=1){let a=i[t];o&&(a=Math.floor(a)),i[t]<s.virtualSize+i[0]&&e.push(a)}i.splice(0,i.length),i.push(...e)}}}},function(e){let{swiper:t}=e;Object.assign(t,{appendSlide:re.bind(t),prependSlide:ne.bind(t),addSlide:de.bind(t),removeSlide:ce.bind(t),removeAllSlides:le.bind(t)})},function(e){let{swiper:t,extendParams:i,on:a}=e;i({fadeEffect:{crossFade:!1}}),pe({effect:"fade",swiper:t,on:a,setTranslate:()=>{const{slides:e}=t;t.params.fadeEffect;for(let i=0;i<e.length;i+=1){const e=t.slides[i];let a=-e.swiperSlideOffset;t.params.virtualTranslate||(a-=t.translate);let o=0;t.isHorizontal()||(o=a,a=0);const s=t.params.fadeEffect.crossFade?Math.max(1-Math.abs(e.progress),0):1+Math.min(Math.max(e.progress,-1),0),r=me(0,e);r.style.opacity=s,r.style.transform=`translate3d(${a}px, ${o}px, 0px)`}},setTransition:e=>{const i=t.slides.map((e=>g(e)));i.forEach((t=>{t.style.transitionDuration=`${e}ms`})),ue({swiper:t,duration:e,transformElements:i,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})},function(e){let{swiper:t,extendParams:i,on:a}=e;i({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});const o=(e,t,i)=>{let a=i?e.querySelector(".swiper-slide-shadow-left"):e.querySelector(".swiper-slide-shadow-top"),o=i?e.querySelector(".swiper-slide-shadow-right"):e.querySelector(".swiper-slide-shadow-bottom");a||(a=h("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(i?"left":"top")).split(" ")),e.append(a)),o||(o=h("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(i?"right":"bottom")).split(" ")),e.append(o)),a&&(a.style.opacity=Math.max(-t,0)),o&&(o.style.opacity=Math.max(t,0))};pe({effect:"cube",swiper:t,on:a,setTranslate:()=>{const{el:e,wrapperEl:i,slides:a,width:s,height:r,rtlTranslate:n,size:d,browser:c}=t,l=t.params.cubeEffect,p=t.isHorizontal(),m=t.virtual&&t.params.virtual.enabled;let u,g=0;l.shadow&&(p?(u=t.wrapperEl.querySelector(".swiper-cube-shadow"),u||(u=h("div","swiper-cube-shadow"),t.wrapperEl.append(u)),u.style.height=`${s}px`):(u=e.querySelector(".swiper-cube-shadow"),u||(u=h("div","swiper-cube-shadow"),e.append(u))));for(let e=0;e<a.length;e+=1){const i=a[e];let s=e;m&&(s=parseInt(i.getAttribute("data-swiper-slide-index"),10));let r=90*s,c=Math.floor(r/360);n&&(r=-r,c=Math.floor(-r/360));const u=Math.max(Math.min(i.progress,1),-1);let _=0,f=0,h=0;s%4==0?(_=4*-c*d,h=0):(s-1)%4==0?(_=0,h=4*-c*d):(s-2)%4==0?(_=d+4*c*d,h=d):(s-3)%4==0&&(_=-d,h=3*d+4*d*c),n&&(_=-_),p||(f=_,_=0);const b=`rotateX(${p?0:-r}deg) rotateY(${p?r:0}deg) translate3d(${_}px, ${f}px, ${h}px)`;u<=1&&u>-1&&(g=90*s+90*u,n&&(g=90*-s-90*u),t.browser&&t.browser.need3dFix&&Math.abs(g)/90%2==1&&(g+=.001)),i.style.transform=b,l.slideShadows&&o(i,u,p)}if(i.style.transformOrigin=`50% 50% -${d/2}px`,i.style["-webkit-transform-origin"]=`50% 50% -${d/2}px`,l.shadow)if(p)u.style.transform=`translate3d(0px, ${s/2+l.shadowOffset}px, ${-s/2}px) rotateX(89.99deg) rotateZ(0deg) scale(${l.shadowScale})`;else{const e=Math.abs(g)-90*Math.floor(Math.abs(g)/90),t=1.5-(Math.sin(2*e*Math.PI/360)/2+Math.cos(2*e*Math.PI/360)/2),i=l.shadowScale,a=l.shadowScale/t,o=l.shadowOffset;u.style.transform=`scale3d(${i}, 1, ${a}) translate3d(0px, ${r/2+o}px, ${-r/2/a}px) rotateX(-89.99deg)`}const _=(c.isSafari||c.isWebView)&&c.needPerspectiveFix?-d/2:0;i.style.transform=`translate3d(0px,0,${_}px) rotateX(${t.isHorizontal()?0:g}deg) rotateY(${t.isHorizontal()?-g:0}deg)`,i.style.setProperty("--swiper-cube-translate-z",`${_}px`)},setTransition:e=>{const{el:i,slides:a}=t;if(a.forEach((t=>{t.style.transitionDuration=`${e}ms`,t.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((t=>{t.style.transitionDuration=`${e}ms`}))})),t.params.cubeEffect.shadow&&!t.isHorizontal()){const t=i.querySelector(".swiper-cube-shadow");t&&(t.style.transitionDuration=`${e}ms`)}},recreateShadows:()=>{const e=t.isHorizontal();t.slides.forEach((t=>{const i=Math.max(Math.min(t.progress,1),-1);o(t,i,e)}))},getEffectParams:()=>t.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})},function(e){let{swiper:t,extendParams:i,on:a}=e;i({flipEffect:{slideShadows:!0,limitRotation:!0}});const o=(e,i)=>{let a=t.isHorizontal()?e.querySelector(".swiper-slide-shadow-left"):e.querySelector(".swiper-slide-shadow-top"),o=t.isHorizontal()?e.querySelector(".swiper-slide-shadow-right"):e.querySelector(".swiper-slide-shadow-bottom");a||(a=ge("flip",e,t.isHorizontal()?"left":"top")),o||(o=ge("flip",e,t.isHorizontal()?"right":"bottom")),a&&(a.style.opacity=Math.max(-i,0)),o&&(o.style.opacity=Math.max(i,0))};pe({effect:"flip",swiper:t,on:a,setTranslate:()=>{const{slides:e,rtlTranslate:i}=t,a=t.params.flipEffect;for(let s=0;s<e.length;s+=1){const r=e[s];let n=r.progress;t.params.flipEffect.limitRotation&&(n=Math.max(Math.min(r.progress,1),-1));const d=r.swiperSlideOffset;let c=-180*n,l=0,p=t.params.cssMode?-d-t.translate:-d,m=0;t.isHorizontal()?i&&(c=-c):(m=p,p=0,l=-c,c=0),t.browser&&t.browser.need3dFix&&(Math.abs(c)/90%2==1&&(c+=.001),Math.abs(l)/90%2==1&&(l+=.001)),r.style.zIndex=-Math.abs(Math.round(n))+e.length,a.slideShadows&&o(r,n);const u=`translate3d(${p}px, ${m}px, 0px) rotateX(${l}deg) rotateY(${c}deg)`;me(0,r).style.transform=u}},setTransition:e=>{const i=t.slides.map((e=>g(e)));i.forEach((t=>{t.style.transitionDuration=`${e}ms`,t.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((t=>{t.style.transitionDuration=`${e}ms`}))})),ue({swiper:t,duration:e,transformElements:i})},recreateShadows:()=>{t.params.flipEffect,t.slides.forEach((e=>{let i=e.progress;t.params.flipEffect.limitRotation&&(i=Math.max(Math.min(e.progress,1),-1)),o(e,i)}))},getEffectParams:()=>t.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})},function(e){let{swiper:t,extendParams:i,on:a}=e;i({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),pe({effect:"coverflow",swiper:t,on:a,setTranslate:()=>{const{width:e,height:i,slides:a,slidesSizesGrid:o}=t,s=t.params.coverflowEffect,r=t.isHorizontal(),n=t.translate,d=r?e/2-n:i/2-n,c=r?s.rotate:-s.rotate,l=s.depth;for(let e=0,i=a.length;e<i;e+=1){const i=a[e],n=o[e],p=(d-i.swiperSlideOffset-n/2)/n,m="function"==typeof s.modifier?s.modifier(p):p*s.modifier;let u=r?c*m:0,g=r?0:c*m,_=-l*Math.abs(m),f=s.stretch;"string"==typeof f&&-1!==f.indexOf("%")&&(f=parseFloat(s.stretch)/100*n);let h=r?0:f*m,b=r?f*m:0,v=1-(1-s.scale)*Math.abs(m);Math.abs(b)<.001&&(b=0),Math.abs(h)<.001&&(h=0),Math.abs(_)<.001&&(_=0),Math.abs(u)<.001&&(u=0),Math.abs(g)<.001&&(g=0),Math.abs(v)<.001&&(v=0),t.browser&&t.browser.need3dFix&&(Math.abs(u)/90%2==1&&(u+=.001),Math.abs(g)/90%2==1&&(g+=.001));const y=`translate3d(${b}px,${h}px,${_}px)  rotateX(${g}deg) rotateY(${u}deg) scale(${v})`;if(me(0,i).style.transform=y,i.style.zIndex=1-Math.abs(Math.round(m)),s.slideShadows){let e=r?i.querySelector(".swiper-slide-shadow-left"):i.querySelector(".swiper-slide-shadow-top"),t=r?i.querySelector(".swiper-slide-shadow-right"):i.querySelector(".swiper-slide-shadow-bottom");e||(e=ge("coverflow",i,r?"left":"top")),t||(t=ge("coverflow",i,r?"right":"bottom")),e&&(e.style.opacity=m>0?m:0),t&&(t.style.opacity=-m>0?-m:0)}}},setTransition:e=>{t.slides.map((e=>g(e))).forEach((t=>{t.style.transitionDuration=`${e}ms`,t.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((t=>{t.style.transitionDuration=`${e}ms`}))}))},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})},function(e){let{swiper:t,extendParams:i,on:a}=e;i({creativeEffect:{limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const o=e=>"string"==typeof e?e:`${e}px`;pe({effect:"creative",swiper:t,on:a,setTranslate:()=>{const{slides:e,wrapperEl:i,slidesSizesGrid:a}=t,s=t.params.creativeEffect,{progressMultiplier:r}=s,n=t.params.centeredSlides;if(n){const e=a[0]/2-t.params.slidesOffsetBefore||0;i.style.transform=`translateX(calc(50% - ${e}px))`}for(let i=0;i<e.length;i+=1){const a=e[i],d=a.progress,c=Math.min(Math.max(a.progress,-s.limitProgress),s.limitProgress);let l=c;n||(l=Math.min(Math.max(a.originalProgress,-s.limitProgress),s.limitProgress));const p=a.swiperSlideOffset,m=[t.params.cssMode?-p-t.translate:-p,0,0],u=[0,0,0];let g=!1;t.isHorizontal()||(m[1]=m[0],m[0]=0);let _={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};c<0?(_=s.next,g=!0):c>0&&(_=s.prev,g=!0),m.forEach(((e,t)=>{m[t]=`calc(${e}px + (${o(_.translate[t])} * ${Math.abs(c*r)}))`})),u.forEach(((e,i)=>{let a=_.rotate[i]*Math.abs(c*r);t.browser&&t.browser.need3dFix&&Math.abs(a)/90%2==1&&(a+=.001),u[i]=a})),a.style.zIndex=-Math.abs(Math.round(d))+e.length;const f=m.join(", "),h=`rotateX(${u[0]}deg) rotateY(${u[1]}deg) rotateZ(${u[2]}deg)`,b=l<0?`scale(${1+(1-_.scale)*l*r})`:`scale(${1-(1-_.scale)*l*r})`,v=l<0?1+(1-_.opacity)*l*r:1-(1-_.opacity)*l*r,y=`translate3d(${f}) ${h} ${b}`;if(g&&_.shadow||!g){let e=a.querySelector(".swiper-slide-shadow");if(!e&&_.shadow&&(e=ge("creative",a)),e){const t=s.shadowPerProgress?c*(1/s.limitProgress):c;e.style.opacity=Math.min(Math.max(Math.abs(t),0),1)}}const $=me(0,a);$.style.transform=y,$.style.opacity=v,_.origin&&($.style.transformOrigin=_.origin)}},setTransition:e=>{const i=t.slides.map((e=>g(e)));i.forEach((t=>{t.style.transitionDuration=`${e}ms`,t.querySelectorAll(".swiper-slide-shadow").forEach((t=>{t.style.transitionDuration=`${e}ms`}))})),ue({swiper:t,duration:e,transformElements:i,allSlides:!0})},perspective:()=>t.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!t.params.cssMode})})},function(e){let{swiper:t,extendParams:i,on:a}=e;i({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),pe({effect:"cards",swiper:t,on:a,setTranslate:()=>{const{slides:e,activeIndex:i,rtlTranslate:a}=t,o=t.params.cardsEffect,{startTranslate:s,isTouched:r}=t.touchEventsData,n=a?-t.translate:t.translate;for(let d=0;d<e.length;d+=1){const c=e[d],l=c.progress,p=Math.min(Math.max(l,-4),4);let m=c.swiperSlideOffset;t.params.centeredSlides&&!t.params.cssMode&&(t.wrapperEl.style.transform=`translateX(${t.minTranslate()}px)`),t.params.centeredSlides&&t.params.cssMode&&(m-=e[0].swiperSlideOffset);let u=t.params.cssMode?-m-t.translate:-m,g=0;const _=-100*Math.abs(p);let f=1,h=-o.perSlideRotate*p,b=o.perSlideOffset-.75*Math.abs(p);const v=t.virtual&&t.params.virtual.enabled?t.virtual.from+d:d,y=(v===i||v===i-1)&&p>0&&p<1&&(r||t.params.cssMode)&&n<s,$=(v===i||v===i+1)&&p<0&&p>-1&&(r||t.params.cssMode)&&n>s;if(y||$){const e=(1-Math.abs((Math.abs(p)-.5)/.5))**.5;h+=-28*p*e,f+=-.5*e,b+=96*e,g=-25*e*Math.abs(p)+"%"}if(u=p<0?`calc(${u}px ${a?"-":"+"} (${b*Math.abs(p)}%))`:p>0?`calc(${u}px ${a?"-":"+"} (-${b*Math.abs(p)}%))`:`${u}px`,!t.isHorizontal()){const e=g;g=u,u=e}const w=p<0?""+(1+(1-f)*p):""+(1-(1-f)*p),S=`\n        translate3d(${u}, ${g}, ${_}px)\n        rotateZ(${o.rotate?a?-h:h:0}deg)\n        scale(${w})\n      `;if(o.slideShadows){let e=c.querySelector(".swiper-slide-shadow");e||(e=ge("cards",c)),e&&(e.style.opacity=Math.min(Math.max((Math.abs(p)-.5)/.5,0),1))}c.style.zIndex=-Math.abs(Math.round(l))+e.length,me(0,c).style.transform=S}},setTransition:e=>{const i=t.slides.map((e=>g(e)));i.forEach((t=>{t.style.transitionDuration=`${e}ms`,t.querySelectorAll(".swiper-slide-shadow").forEach((t=>{t.style.transitionDuration=`${e}ms`}))})),ue({swiper:t,duration:e,transformElements:i})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!t.params.cssMode})})}];return ae.use(_e),ae}(),lastScrollTop=0;appScroll={scrollBar:function(e){return $(e).overlayScrollbars({className:"os-theme-dark",sizeAutoCapable:!0,autoUpdate:!0,scrollbars:{clickScrolling:!0,visibility:"auto",dragScrolling:!0,touchSupport:!0},callbacks:{onScroll:function(e){var t=e.target;const i=t.querySelector(".os-content").parentElement.parentElement.parentElement;if($(".activity-log-content-wrapper").is(".active"))var a=t.parentElement.parentElement.nextElementSibling;else if($(".scrollinit").is(".os-host"))a=t.parentElement.parentElement.nextElementSibling;i.dispatchEvent(new CustomEvent("el_scroll",{detail:{scrollTop:t.scrollTop,scrollHeight:t.scrollHeight,offsetHeight:t.offsetHeight}})),st=t.scrollTop,st<lastScrollTop?a.classList.contains("fixed-action-btn")&&$(a).length>0&&$(a).hasClass("hide")&&($(a).addClass("slide-top").removeClass("hide"),setTimeout((function(){$(a).removeClass("slide-top")}),200)):a.classList.contains("fixed-action-btn")&&$(a).length>0&&!$(a).hasClass("hide")&&($(a).addClass("slide-bottom"),setTimeout((function(){$(a).removeClass("slide-bottom"),$(a).addClass("hide")}),200)),lastScrollTop=st}}}).overlayScrollbars()}};async function onloadEve(){"complete"===document.readyState&&("feedApp"==$("body").attr("app")&&1==$(".fixed-action-btn.contact-btn-group").length&&($brodcastBtn=$(".contact-btn-group").find("ul > li[class^=brodcast-]").detach(),$feedBtn=$(".contact-btn-group").find("ul > li[class^=feed-]").detach(),$frwBtn=$(".contact-btn-group").find("ul > li[class^=frw-]").detach()),"conversationApp"==$("body").attr("app")&&1==$(".fixed-action-btn.contact-btn-group").length&&($brodcastBtn=$(".contact-btn-group").find("ul > li[class^=brodcast-]").detach(),$feedBtn=$(".contact-btn-group").find("ul > li[class^=feed-]").detach(),$frwBtn=$(".contact-btn-group").find("ul > li[class^=frw-]").detach()))}if(onloadEve(),"Android"==crossplat.device.platform||"iOS"==crossplat.device.platform){var timestamp=null,delay=800,touchmove=!1;function handleTouchStart(e){if(!touchmove){var t=e;timestamp=setTimeout((function(){t.target.dispatchEvent(new CustomEvent("longpress",{bubbles:!0}))}),delay)}}function handleTouchEnd(){touchmove=!1,window.isScrolling=!1,clearTimeout(timestamp)}function handleTouchMove(){touchmove=!0}document.addEventListener("touchstart",handleTouchStart,!0),document.addEventListener("touchend",handleTouchEnd,!0),document.addEventListener("touchmove",handleTouchMove,!0)}!function(e){e.fn.qrcode=function(t){var i;function a(e){this.mode=i,this.data=e}function o(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function s(e,t){if(null==e.length)throw Error(e.length+"/"+t);for(var i=0;i<e.length&&0==e[i];)i++;this.num=Array(e.length-i+t);for(var a=0;a<e.length-i;a++)this.num[a]=e[a+i]}function r(e,t){this.totalCount=e,this.dataCount=t}function n(){this.buffer=[],this.length=0}a.prototype={getLength:function(){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},o.prototype={addData:function(e){this.dataList.push(new a(e)),this.dataCache=null},isDark:function(e,t){if(0>e||this.moduleCount<=e||0>t||this.moduleCount<=t)throw Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){if(1>this.typeNumber){var e=1;for(e=1;40>e;e++){for(var t=r.getRSBlocks(e,this.errorCorrectLevel),i=new n,a=0,o=0;o<t.length;o++)a+=t[o].dataCount;for(o=0;o<this.dataList.length;o++)t=this.dataList[o],i.put(t.mode,4),i.put(t.getLength(),d.getLengthInBits(t.mode,e)),t.write(i);if(i.getLengthInBits()<=8*a)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++){this.modules[i]=Array(this.moduleCount);for(var a=0;a<this.moduleCount;a++)this.modules[i][a]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),7<=this.typeNumber&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=o.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var i=-1;7>=i;i++)if(!(-1>=e+i||this.moduleCount<=e+i))for(var a=-1;7>=a;a++)-1>=t+a||this.moduleCount<=t+a||(this.modules[e+i][t+a]=0<=i&&6>=i&&(0==a||6==a)||0<=a&&6>=a&&(0==i||6==i)||2<=i&&4>=i&&2<=a&&4>=a)},getBestMaskPattern:function(){for(var e=0,t=0,i=0;8>i;i++){this.makeImpl(!0,i);var a=d.getLostPoint(this);(0==i||e>a)&&(e=a,t=i)}return t},createMovieClip:function(e,t,i){for(e=e.createEmptyMovieClip(t,i),this.make(),t=0;t<this.modules.length;t++){i=1*t;for(var a=0;a<this.modules[t].length;a++){var o=1*a;this.modules[t][a]&&(e.beginFill(0,100),e.moveTo(o,i),e.lineTo(o+1,i),e.lineTo(o+1,i+1),e.lineTo(o,i+1),e.endFill())}}return e},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=0==e%2);for(e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=0==e%2)},setupPositionAdjustPattern:function(){for(var e=d.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var i=0;i<e.length;i++){var a=e[t],o=e[i];if(null==this.modules[a][o])for(var s=-2;2>=s;s++)for(var r=-2;2>=r;r++)this.modules[a+s][o+r]=-2==s||2==s||-2==r||2==r||0==s&&0==r}},setupTypeNumber:function(e){for(var t=d.getBCHTypeNumber(this.typeNumber),i=0;18>i;i++){var a=!e&&1==(t>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=a}for(i=0;18>i;i++)a=!e&&1==(t>>i&1),this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=a},setupTypeInfo:function(e,t){for(var i=d.getBCHTypeInfo(this.errorCorrectLevel<<3|t),a=0;15>a;a++){var o=!e&&1==(i>>a&1);6>a?this.modules[a][8]=o:8>a?this.modules[a+1][8]=o:this.modules[this.moduleCount-15+a][8]=o}for(a=0;15>a;a++)o=!e&&1==(i>>a&1),8>a?this.modules[8][this.moduleCount-a-1]=o:9>a?this.modules[8][15-a-1+1]=o:this.modules[8][15-a-1]=o;this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var i=-1,a=this.moduleCount-1,o=7,s=0,r=this.moduleCount-1;0<r;r-=2)for(6==r&&r--;;){for(var n=0;2>n;n++)if(null==this.modules[a][r-n]){var c=!1;s<e.length&&(c=1==(e[s]>>>o&1)),d.getMask(t,a,r-n)&&(c=!c),this.modules[a][r-n]=c,-1==--o&&(s++,o=7)}if(0>(a+=i)||this.moduleCount<=a){a-=i,i=-i;break}}}},o.PAD0=236,o.PAD1=17,o.createData=function(e,t,i){t=r.getRSBlocks(e,t);for(var a=new n,s=0;s<i.length;s++){var c=i[s];a.put(c.mode,4),a.put(c.getLength(),d.getLengthInBits(c.mode,e)),c.write(a)}for(s=e=0;s<t.length;s++)e+=t[s].dataCount;if(a.getLengthInBits()>8*e)throw Error("code length overflow. ("+a.getLengthInBits()+">"+8*e+")");for(a.getLengthInBits()+4<=8*e&&a.put(0,4);0!=a.getLengthInBits()%8;)a.putBit(!1);for(;!(a.getLengthInBits()>=8*e)&&(a.put(o.PAD0,8),!(a.getLengthInBits()>=8*e));)a.put(o.PAD1,8);return o.createBytes(a,t)},o.createBytes=function(e,t){for(var i=0,a=0,o=0,r=Array(t.length),n=Array(t.length),c=0;c<t.length;c++){var l=t[c].dataCount,p=t[c].totalCount-l;a=Math.max(a,l),o=Math.max(o,p);r[c]=Array(l);for(var m=0;m<r[c].length;m++)r[c][m]=255&e.buffer[m+i];for(i+=l,m=d.getErrorCorrectPolynomial(p),l=new s(r[c],m.getLength()-1).mod(m),n[c]=Array(m.getLength()-1),m=0;m<n[c].length;m++)p=m+l.getLength()-n[c].length,n[c][m]=0<=p?l.get(p):0}for(m=c=0;m<t.length;m++)c+=t[m].totalCount;for(i=Array(c),m=l=0;m<a;m++)for(c=0;c<t.length;c++)m<r[c].length&&(i[l++]=r[c][m]);for(m=0;m<o;m++)for(c=0;c<t.length;c++)m<n[c].length&&(i[l++]=n[c][m]);return i},i=4;for(var d={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;0<=d.getBCHDigit(t)-d.getBCHDigit(d.G15);)t^=d.G15<<d.getBCHDigit(t)-d.getBCHDigit(d.G15);return(e<<10|t)^d.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;0<=d.getBCHDigit(t)-d.getBCHDigit(d.G18);)t^=d.G18<<d.getBCHDigit(t)-d.getBCHDigit(d.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return d.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,i){switch(e){case 0:return 0==(t+i)%2;case 1:return 0==t%2;case 2:return 0==i%3;case 3:return 0==(t+i)%3;case 4:return 0==(Math.floor(t/2)+Math.floor(i/3))%2;case 5:return 0==t*i%2+t*i%3;case 6:return 0==(t*i%2+t*i%3)%2;case 7:return 0==(t*i%3+(t+i)%2)%2;default:throw Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new s([1],0),i=0;i<e;i++)t=t.multiply(new s([1,c.gexp(i)],0));return t},getLengthInBits:function(e,t){if(1<=t&&10>t)switch(e){case 1:return 10;case 2:return 9;case i:case 8:return 8;default:throw Error("mode:"+e)}else if(27>t)switch(e){case 1:return 12;case 2:return 11;case i:return 16;case 8:return 10;default:throw Error("mode:"+e)}else{if(!(41>t))throw Error("type:"+t);switch(e){case 1:return 14;case 2:return 13;case i:return 16;case 8:return 12;default:throw Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),i=0,a=0;a<t;a++)for(var o=0;o<t;o++){for(var s=0,r=e.isDark(a,o),n=-1;1>=n;n++)if(!(0>a+n||t<=a+n))for(var d=-1;1>=d;d++)0>o+d||t<=o+d||0==n&&0==d||r==e.isDark(a+n,o+d)&&s++;5<s&&(i+=3+s-5)}for(a=0;a<t-1;a++)for(o=0;o<t-1;o++)s=0,e.isDark(a,o)&&s++,e.isDark(a+1,o)&&s++,e.isDark(a,o+1)&&s++,e.isDark(a+1,o+1)&&s++,(0==s||4==s)&&(i+=3);for(a=0;a<t;a++)for(o=0;o<t-6;o++)e.isDark(a,o)&&!e.isDark(a,o+1)&&e.isDark(a,o+2)&&e.isDark(a,o+3)&&e.isDark(a,o+4)&&!e.isDark(a,o+5)&&e.isDark(a,o+6)&&(i+=40);for(o=0;o<t;o++)for(a=0;a<t-6;a++)e.isDark(a,o)&&!e.isDark(a+1,o)&&e.isDark(a+2,o)&&e.isDark(a+3,o)&&e.isDark(a+4,o)&&!e.isDark(a+5,o)&&e.isDark(a+6,o)&&(i+=40);for(o=s=0;o<t;o++)for(a=0;a<t;a++)e.isDark(a,o)&&s++;return i+10*(e=Math.abs(100*s/t/t-50)/5)}},c={glog:function(e){if(1>e)throw Error("glog("+e+")");return c.LOG_TABLE[e]},gexp:function(e){for(;0>e;)e+=255;for(;256<=e;)e-=255;return c.EXP_TABLE[e]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},l=0;8>l;l++)c.EXP_TABLE[l]=1<<l;for(l=8;256>l;l++)c.EXP_TABLE[l]=c.EXP_TABLE[l-4]^c.EXP_TABLE[l-5]^c.EXP_TABLE[l-6]^c.EXP_TABLE[l-8];for(l=0;255>l;l++)c.LOG_TABLE[c.EXP_TABLE[l]]=l;return s.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=Array(this.getLength()+e.getLength()-1),i=0;i<this.getLength();i++)for(var a=0;a<e.getLength();a++)t[i+a]^=c.gexp(c.glog(this.get(i))+c.glog(e.get(a)));return new s(t,0)},mod:function(e){if(0>this.getLength()-e.getLength())return this;for(var t=c.glog(this.get(0))-c.glog(e.get(0)),i=Array(this.getLength()),a=0;a<this.getLength();a++)i[a]=this.get(a);for(a=0;a<e.getLength();a++)i[a]^=c.gexp(c.glog(e.get(a))+t);return new s(i,0).mod(e)}},r.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],r.getRSBlocks=function(e,t){var i=r.getRsBlockTable(e,t);if(null==i)throw Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var a=i.length/3,o=[],s=0;s<a;s++)for(var n=i[3*s+0],d=i[3*s+1],c=i[3*s+2],l=0;l<n;l++)o.push(new r(d,c));return o},r.getRsBlockTable=function(e,t){switch(t){case 1:return r.RS_BLOCK_TABLE[4*(e-1)+0];case 0:return r.RS_BLOCK_TABLE[4*(e-1)+1];case 3:return r.RS_BLOCK_TABLE[4*(e-1)+2];case 2:return r.RS_BLOCK_TABLE[4*(e-1)+3]}},n.prototype={get:function(e){return 1==(this.buffer[Math.floor(e/8)]>>>7-e%8&1)},put:function(e,t){for(var i=0;i<t;i++)this.putBit(1==(e>>>t-i-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},"string"==typeof t&&(t={text:t}),t=e.extend({},{render:"canvas",width:256,height:256,typeNumber:-1,correctLevel:2,background:"#ffffff",foreground:"#000000"},t),this.each((function(){var i;if("canvas"==t.render){(i=new o(t.typeNumber,t.correctLevel)).addData(t.text),i.make();var a=document.createElement("canvas");a.width=t.width,a.height=t.height;for(var s=a.getContext("2d"),r=t.width/i.getModuleCount(),n=t.height/i.getModuleCount(),d=0;d<i.getModuleCount();d++)for(var c=0;c<i.getModuleCount();c++){s.fillStyle=i.isDark(d,c)?t.foreground:t.background;var l=Math.ceil((c+1)*r)-Math.floor(c*r),p=Math.ceil((d+1)*r)-Math.floor(d*r);s.fillRect(Math.round(c*r),Math.round(d*n),l,p)}}else for((i=new o(t.typeNumber,t.correctLevel)).addData(t.text),i.make(),a=e("<table></table>").css("width",t.width+"px").css("height",t.height+"px").css("border","0px").css("border-collapse","collapse").css("background-color",t.background),s=t.width/i.getModuleCount(),r=t.height/i.getModuleCount(),n=0;n<i.getModuleCount();n++)for(d=e("<tr></tr>").css("height",r+"px").appendTo(a),c=0;c<i.getModuleCount();c++)e("<td></td>").css("width",s+"px").css("background-color",i.isDark(n,c)?t.foreground:t.background).appendTo(d);jQuery(i=a).appendTo(this)}))}}(jQuery);