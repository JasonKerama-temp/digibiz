<script id="employee-group-creation-template" type="text/x-handlebars-template">
    <div class="employee-group-create-main-container">
        <div class="row flex-height">
            <div class="employee-group-create-border">
                <div class="employee-group-creation-main-content-box">
                    <div class="employee-group-creation-main-section">
                        <div class="employee-group-creation-group-info-section creation-info-bg-wrapper">
                            {{#ifcond group_data.group_type '==' 'standard'}}
                            <!-- <div class="employee-group-employee-edit-icon-parent">
                                <a id="delete_employee_group" class="white-text right"><i class="material-icons">delete</i></a>
                            </div> -->
                            {{else}}
                            <div class="employee-group-employee-edit-icon-parent">
                                <a id="add_employee_group_employee_btn" class="right cursor-pointer"><i class="material-icons">person_add</i></a>
                                {{#if group_data}}
                                <a id="delete_employee_group" class="right cursor-pointer"><i class="material-icons">delete</i></a>
                                {{/if}}
                            </div> 
                            {{/ifcond}}
                            <div class="employee-group-info-wrapper group-info-wrapper creation-info-wrapper ">
                                <div class="pdleft">                                        
                                        <div class="multimedia-container">
                                            <div class="multimedia_wrapper">
                                                <div class="identity-picture-wrapper view">
                                                    <img class="group_img attached-img" id="group_image" src="{{group_data.group_image.avtarUrl}}"/>                             
                                                    <div class="mask">
                                                        <!-- {{#if group_data.group_image}}<a class="group_image_preview" data-image-id="{{group_data.group_image.thumbnail}}"><i class="material-icons">pageview</i></a>{{/if}} -->
                                                        {{#if group_data.group_image.avtarUrl}}<a class="info group-image-multimedia-load-btn cursor_pointer"><i class="material-icons" id="group-image-load-btn" data-thumbnail-id="{{group_data.group_image.thumbnail}}">photo_camera</i></a>{{/if}}
                                                        {{#if group_data.group_image.avtarUrl}}
                                                        <a class="info cursor_pointer"><i class="material-icons" id="group-image-delete" data-image-id="{{group_data.group_image.thumbnail}}">delete</i></a>
                                                        {{else}}
                                                        <a class="info group-image-multimedia-load-btn cursor_pointer"><i class="material-icons" id="group-image-load-btn">add</i></a>
                                                        {{/if}}
                                                    </div>
                                                    <input type="file" class="validate" id="group-image-upload" name="multimediaFiles">
                                                </div>
                                             </div> 
                                             <div class="upload-preview-wrapper hide" id="upload-preview-wrapper">
                                                <div class="upload-preview-header">
                                                    <span>Preview</span>
                                                    <button id="upload-preview-close-btn" class="close-preview"><i class="material-icons">close</i></button>
                                                </div>
                                                <div class="upload-preview-container">
                                                    <div class="upload-preview-container-file-preview" id="upload-file-preview"></div>
                                                </div>
                                                <div class="upload-preview-footer hide">              
                                                  <button id="upload-footer-send-btn" class="disabled"><i class="material-icons">send</i></button>
                                                </div>
                                            </div>
                                        </div>
                                </div>                
                                <div class="mt20">
                                        <div class="input-field form-validation">
                                            <input id="employeeGroupName" class="inputform-validation" name="name" type="text" autofocus="" value="{{group_data.name}}" {{#ifcond group_data.group_type '==' 'standard'}}disabled{{/ifcond}}>
                                            <label class="active" for="employeeGroupName">Group Name</label>
                                            <i class="material-icons icon-validation-warning" aria-hidden="true">warning</i>
                                            <span class="left-warning-message"></span>
                                        </div>  
                                        <div class="input-field form-validation">
                                            <textarea id="employee_group_desc" class="inputform-validation materialize-textarea" name="description" value="{{group_data.description}}">{{group_data.description}}</textarea>
                                            <label class="active" for="employee_group_desc">Group Description</label>
                                            <i class="material-icons icon-validation-warning" aria-hidden="true">warning</i>
                                            <span class="left-warning-message"></span>
                                        </div>  
                                        <!-- <div class="group-members-setting">                    
                                            <label id="group-members-setting-data" class="setting-data">Allow group members visbility to all</label>                    
                                            <div class="switch">
                                                <label>                             
                                                  <input type="checkbox" name="disable" id="checkbox-toggle-group-members-visibility" {{#if settingsData.answer_one_shot}}checked{{/if}}/>
                                                  <span class="lever"></span>                             
                                                </label>
                                            </div>
                                        </div> -->
                                        <div class="visibility-setting-wrapper">  
                                            <!-- <label class="active" for="name">Group Visibility</label>                  
                                            <select id="select-visibility-type" class="browser-default">            
                                                <option value="">--Select--</option>
                                                <option value="internal" {{#ifcond group_data.visibility '==' 'internal'}} selected {{/ifcond}}>Internal</option>
                                                <option value="external" {{#ifcond group_data.visibility '==' 'external'}} selected {{/ifcond}}>External</option>
                                            </select> -->
                                            <span class="custom-dropdown-heading">Group Visibility</span>
                                            <div id="group-visibility" class="wrapper-dropdown cursor-pointer" tabindex="1">
                                                {{#if group_data.visibility}}
                                                    <span class="disabled selected-dropdown selected-value-group-visbility" name="group_visibility" data-value="{{group_data.visibility}}">{{#ifcond group_data.visibility '==' 'internal'}} Internal {{/ifcond}}{{#ifcond group_data.visibility '==' 'external'}} External {{/ifcond}}</span>
                                                {{else}}
                                                    <span class="disabled selected-dropdown selected-value-group-visbility" name="group_visibility" data-value="" data-id="">--Select--</span>
                                                {{/if}}
                                                    <ul class="custom-dropdown">             
                                                        <li class="group_visibility" data-value="internal">Internal</li>
                                                        <li class="group_visibility" data-value="external">External</li>
                                                    </ul>
                                            </div>
                                        </div>
                                </div>                                
                            </div>
                        </div>


                       
                        <div class="employee-group-moderators-section">
                            <div class="employee-group-moderator-members-contentbox">
                            <div class="employee-group-moderator-heading bg-color"><span class="members-title">Group Moderator (#{{group_data.moderatorCount}})</span>
                             
                             {{#if group_data}}
                                {{#ifcond group_data.name '!==' "Super Admin"}}
                                <a id="add_employee_group_moderator" class="right" title="Add Group Moderator"><i class="material-icons">person_add</i></a>
                                {{/ifcond}}
                                {{else}}
                                <a id="add_employee_group_moderator" class="right" title="Add Group Moderator"><i class="material-icons">person_add</i></a>
                                {{/if}}
                            </div>
                            <div class="employee-group-moderator-members-container">
                                <div class="employee-group-moderator-members-list" id="employee-group-moderator-members-list">                                    
                                    <!-- <span class="search-moderator-button moderator-lists  waves-effect"><i class="material-icons">search</i></span>                     -->
                                </div>
                            </div> 
                            </div>                            
                        </div>
                      


                        <div class="employee-group-creation-group-members-section">
                            <div class="employee-group-creation-group-members-contentbox">
                                <div class="employee-group-employee-heading bg-color">
                                    <span class="members-title">Members 
                                    {{#ifcond group_data.group_type '==' 'standard'}}
                                   (#{{group_data.standardGroupMembersCount}})
                                  
                                    {{else}}
                                  (#{{membersCount}})
                                  {{#ifcond group_data.custom_group_from '==' 'standard_group'}}
                                  <span class="total-members-count">Total Memmbers (#{{group_data.totalGroupMembersCount}})</span>
                                 {{/ifcond}}
                                  {{/ifcond}}
                                   
                                </span>
                                    <span class="search-member-button waves-effect {{#if group_data}}{{else}} hide {{/if}}"><i class="material-icons">search</i></span>
                                  
                                    <!-- <div class="expand-search-wrap" id="business-owner-business-list-search-btn">
                                        <input class="expand-search-input" type="search" placeholder="Search" autocomplete="off"/>
                                        <span class="searchclosebtn"><i class="material-icons business-owner-business-list-close-btn hide">close</i></span>
                                    </div> -->
                                </div>
                                <div class="employee-group-members-container">
                                    <div class="employee-group-members-list" id="employee-group-members-list">
                                        {{#ifcond group_data.group_type '==' 'standard'}}
                                        <div class="standard-employee-group-members-msg">All Employees assigned to {{group_data.name}} department are members of this group.</div>
                                        {{/ifcond}}

                                        {{#ifcond group_data.group_type '==' 'custom'}}

                                        {{#ifcond group_data.custom_group_from '==' 'employee_list'}}
                                        {{#if group_members_data}}
                                        {{#each group_members_data}}
                                        <div class="custom-employee-group-member-wrapper" data-dj-unique-employee-id="{{this.member.dj_unique_employee_id}}" data-member-id="{{this.id}}">
                                            <div class="file-select">
                                               
                                                <div class="contact-profile-container profile-pic-container p-{{imageLetter}}" data-dj-unique-employee-id="{{this.dj_unique_employee_id}}">
                                                    <img src="{{this.identity_picture.avtarUrl}}" class="chat-avatar-image">
                                                    <span class="persona">{{imageLetter}}</span>
                                                </div>
                                            </div>
                                            <div class="filemanager-file-wrapper">
                                                <span class="custom-employee-group-member-name wrapper-primary-heading">{{#if this.member_display_name}}{{this.member_display_name}}{{else}}{{this.member_name.first}}&nbsp;{{this.member_name.last}}{{/if}}</span>
                                                <div class="employee-information wrapper-tertiary-heading">{{#if this.designation_name}}{{this.designation_name}}{{/if}}</div>
                                            </div>
                                           
                                            <div class="btn-wrap">              
                                                <div class="more-menu-wrapper cursor-pointer" id="delete_custom_employee_group_member" data-member-id="{{this.id}}"><i class="material-icons">delete</i></div>
                                            </div>
                                        </div>
                                        {{/each}}
                                       
                                        {{/if}}
                                        {{/ifcond}}

                                        {{#ifcond group_data.custom_group_from '==' 'department_list'}}
                                        {{#if department_list_data}}
                                        {{#each department_list_data}}
                                        <div class="custom-employee-group-member-wrapper" data-department-id="{{this.id}}">
                                            <div class="file-select">
                                                <!-- <input type="checkbox" name="selectedmembers[]" class="contactlists filled-in" value="{{this.dj_unique_employee_id}}" id="selected-{{this.dj_unique_employee_id}}" checked=""> -->
                                                <!-- <i class="material-icons">done</i> -->
                                                <div class="contact-profile-container profile-pic-container p-{{this.imageLetter}}" data-department-id="{{this.id}}">
                                                    <span class="persona">{{this.imageLetter}}</span>
                                                </div>
                                            </div>
                                            <div class="filemanager-file-wrapper">
                                                <span class="custom-employee-group-member-name wrapper-primary-heading">{{this.name}}</span>
                                            </div>
                                            <div class="btn-wrap">              
                                                <div class="more-menu-wrapper cursor-pointer" id="delete_custom_department_list_group_department" data-department-id="{{this.id}}"><i class="material-icons">delete</i></div>
                                            </div>
                                        </div>
                                        {{/each}}
                                        {{/if}}
                                        {{/ifcond}}


                                        {{#ifcond group_data.custom_group_from '==' 'standard_group'}}
                                        {{#if group_members_data}}
                                        {{#each group_members_data}}
                                        <div class="custom-employee-group-member-wrapper" data-id="{{this.id}}" data-member-group-id="{{this.member.id}}">
                                            <div class="file-select">
                                                <!-- <input type="checkbox" name="selectedmembers[]" class="contactlists filled-in" value="{{this.dj_unique_employee_id}}" id="selected-{{this.dj_unique_employee_id}}" checked=""> -->
                                                <!-- <i class="material-icons">done</i> -->
                                                <div class="contact-profile-container profile-pic-container p-{{this.imageLetter}}">
                                                    <img src="{{this.group_image.avtarUrl}}" class="chat-avatar-image">
                                                    <span class="persona">{{this.imageLetter}}</span>
                                                </div>
                                            </div>
                                            <div class="filemanager-file-wrapper">
                                                <span class="custom-employee-group-member-name wrapper-primary-heading">{{this.member_name}} (#{{memberGroupMembersCount}})</span>
                                            </div>
                                            <div class="btn-wrap">              
                                                <div class="more-menu-wrapper cursor-pointer" id="delete_custom_employee_group_member" data-member-id="{{this.id}}"><i class="material-icons">delete</i></div>
                                            </div>
                                        </div>
                                        {{/each}}
                                        {{/if}}
                                        {{/ifcond}}

                                        {{/ifcond}}
                                    </div>
                                </div>                                
                            </div>                            
                        </div>
                    </div>
                    <!-- <div class="fixed-action-btn btn-cancel-moment pull-right click-to-toggle">
                        <a class="btn-floating btn-large btn-color-primary pulse">                            
                                    <span class="icomoon-icon custom-float-icons save-cancel-button"></span> 
                        </a>
                        <ul>
                            <li>
                                <a class="btn-floating btn-color-primary tooltipped" aria-hidden="true" data-position="left" data-delay="50" data-tooltip="Cancel" data-href="group_list" href="#groups" data-tooltip-id="35d8c8b2-48d6-e8f1-ff0d-060019a94dcf" style="transform: scaleY(0.4) scaleX(0.4) translateY(40px) translateX(0px); opacity: 0;"><i class="material-icons">cancel</i> </a>
                            </li>
                            <li class="save-group">
                                <button type="button" class="btn-floating btn-color-primary tooltipped" aria-hidden="true" data-position="left" data-delay="50" data-tooltip="Save" id="savegroup" data-tooltip-id="17b1091a-2259-09be-414a-3719cb58a957" style="transform: scaleY(0.4) scaleX(0.4) translateY(40px) translateX(0px); opacity: 0;"><i class="material-icons">save</i> </button>
                            </li>
                        </ul>
                    </div> -->
                    <div class="create-survey-btn-wrapper group-save-cancel-container">
                        <div class="group-save-cancel-wrapper">
                            <a class="button-btn btn-save cursor-pointer secondary-color-button" id="employee_group_cancel_button"><i class="material-icons">cancel</i><span>Cancel</span></a>
                            <a class="button-btn btn-save cursor-pointer primary-color-button" id="employee_group_add_button"><i class="material-icons">save</i><span>Save</span></a>                           
                        </div>
                    </div>
                    
                </div>
            </div>
        </div>
    </div>
</script>