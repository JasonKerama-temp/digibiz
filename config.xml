<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<widget 
    android-versionCode="3055" 
    id="com.digitaljeevi.staging.testing" 
    ios-CFBundleVersion="3080" 
    version="1.0.0" 
    xmlns="http://www.w3.org/2000/svg" 
    xmlns:android="http://schemas.android.com/apk/res/android" 
    xmlns:cdv="http://cordova.apache.org/ns/1.0">
    
    <name>Digibiz</name>
    <description>
        A Digital Jeevi Business Application.
    </description>
    <author email="simran.hr@digitaljeevi.com" href="https://www.digitaljeevi.com">
        Simran H R
    </author>
    
    <content src="index.html"/>
    
    <preference name="StatusBarOverlaysWebView" value="false"/>
    <preference name="StatusBarBackgroundColor" value="#b5f9e4"/>
    <preference name="StatusBarStyle" value="lightcontent"/>
    <preference name="ShowSplashScreenSpinner" value="false"/>
    <preference name="SplashMaintainAspectRatio" value="true"/>
    <preference name="DisallowOverscroll" value="true"/>
    <preference name="AllowUntrustedCerts" value="true"/>
    <preference name="AndroidInsecureFileModeEnabled" value="true"/>
    <preference name="InterceptRemoteRequests" value="all"/>
    <preference name="allowFileAccessFromFileURLs" value="true"/>
    <preference name="allowUniversalAccessFromFileURLs" value="true"/>
    <preference name="AndroidPersistentFileLocation" value="Internal"/>

    <access origin="*"/>
    <allow-intent href="http://*/*"/>
    <allow-intent href="https://*/*"/>
    <allow-intent href="tel:*"/>
    <allow-intent href="sms:*"/>
    <allow-intent href="mailto:*"/>
    <allow-intent href="geo:*"/>
    <allow-intent href="djbusiness:*"/>
    
    <platform name="android">
        <allow-intent href="market:*"/>
        <hook src="hooks/before_prepare/increment_build_number.js" type="before_build"/>
        <hook src="hooks/after_prepare/minify.js" type="after_build"/>
        <preference name="AndroidXEnabled" value="true"/>
        <preference name="android-minSdkVersion" value="22"/>
        <preference name="AndroidLaunchMode" value="singleTask"/>
        <edit-config file="app/src/main/AndroidManifest.xml" mode="merge" target="/manifest/application">
            <application android:requestLegacyExternalStorage="true"/>
        </edit-config>
    </platform>

    <platform name="ios">
        <allow-intent href="itms:*"/>
        <allow-intent href="itms-apps:*"/>
        
        <hook src="hooks/after_prepare/enforce_manual_signing.js" type="after_prepare" />
        
        <hook src="hooks/before_prepare/increment_build_number.js" type="before_build"/>
        <hook src="hooks/after_prepare/minify.js" type="after_build"/>
        
        <preference name="deployment-target" value="13.0" /> 
        <preference name="FIREBASE_CORE_VERSION" value="~> 10.20.0" /> 
        <preference name="FIREBASE_ANALYTICS_VERSION" value="~> 10.20.0" />
        <preference name="FIREBASE_MESSAGING_VERSION" value="~> 10.20.0" />
        <preference name="FIREBASE_INAPPMESSAGING_VERSION" value="~> 10.20.0" />
        
        <edit-config target="XCBuildConfiguration[name=Release]/CODE_SIGNING_STYLE" file="*-project.pbxproj" mode="overwrite">
            <string>Manual</string>
        </edit-config>
        <edit-config target="XCBuildConfiguration[name=Debug]/CODE_SIGNING_STYLE" file="*-project.pbxproj" mode="overwrite">
            <string>Manual</string>
        </edit-config>
        <edit-config target="XCBuildConfiguration[name=Release]/DEVELOPMENT_TEAM" file="*-project.pbxproj" mode="overwrite">
            <string>Z6XW557ZX2</string>
        </edit-config>
        <edit-config target="XCBuildConfiguration[name=Debug]/DEVELOPMENT_TEAM" file="*-project.pbxproj" mode="overwrite">
            <string>Z6XW557ZX2</string>
        </edit-config>
        <edit-config target="TargetAttributes/DevelopmentTeam" file="*-project.pbxproj" mode="overwrite">
            <string>Z6XW557ZX2</string>
        </edit-config>
        
        <edit-config file="*-Info.plist" mode="merge" target="NSCameraUsageDescription"><string>Need camera access to take pictures.</string></edit-config>
        <edit-config file="*-Info.plist" mode="merge" target="NSPhotoLibraryUsageDescription"><string>Need photo library access to get pictures from there</string></edit-config>
        <edit-config file="*-Info.plist" mode="merge" target="NSPhotoLibraryAddUsageDescription"><string>need photo library access to save pictures there</string></edit-config>
        <edit-config file="*-Info.plist" mode="merge" target="NSContactsUsageDescription"><string>Allow access to get device contacts</string></edit-config>
        <edit-config file="*-Info.plist" mode="merge" target="NSMicrophoneUsageDescription"><string>need microphone access to record sounds</string></edit-config>

        <feature name="Keyboard">
            <param name="ios-package" onload="true" value="CDVKeyboard"/>
        </feature>
        <preference name="scheme" value="app"/>
        <preference name="hostname" value="localhost"/>
    </platform>
</widget>